require=(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],n):(e.Backbone=e.Backbone||{},e.Backbone.Radio=n(e._,e.Backbone))}(this,function(e,n){"use strict";function t(e,n,t,r){var o=e[n];if(!(t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context))return delete e[n],!0}function r(n,r,o,i){n||(n={});for(var s=r?[r]:e.keys(n),u=!1,c=0,a=s.length;c<a;c++)r=s[c],n[r]&&t(n,r,o,i)&&(u=!0);return u}function o(n){return l[n]||(l[n]=e.bind(c.log,c,n))}function i(n){return e.isFunction(n)?n:function(){return n}}e="default"in e?e["default"]:e,n="default"in n?n["default"]:n;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=n.Radio,c=n.Radio={};c.VERSION="2.0.0",c.noConflict=function(){return n.Radio=u,this},c.DEBUG=!1,c._debugText=function(e,n,t){return e+(t?" on the "+t+" channel":"")+': "'+n+'"'},c.debugLog=function(e,n,t){c.DEBUG&&console&&console.warn&&console.warn(c._debugText(e,n,t))};var a=/\s+/;c._eventsApi=function(n,t,r,o){if(!r)return!1;var i={};if("object"===("undefined"==typeof r?"undefined":s(r))){for(var u in r){var c=n[t].apply(n,[u,r[u]].concat(o));a.test(u)?e.extend(i,c):i[u]=c}return i}if(a.test(r)){for(var l=r.split(a),f=0,h=l.length;f<h;f++)i[l[f]]=n[t].apply(n,[l[f]].concat(o));return i}return!1},c._callHandler=function(e,n,t){var r=t[0],o=t[1],i=t[2];switch(t.length){case 0:return e.call(n);case 1:return e.call(n,r);case 2:return e.call(n,r,o);case 3:return e.call(n,r,o,i);default:return e.apply(n,t)}};var l={};e.extend(c,{log:function(n,t){if("undefined"!=typeof console){var r=e.toArray(arguments).slice(2);console.log("["+n+'] "'+t+'"',r)}},tuneIn:function(e){var n=c.channel(e);return n._tunedIn=!0,n.on("all",o(e)),this},tuneOut:function(e){var n=c.channel(e);return n._tunedIn=!1,n.off("all",o(e)),delete l[e],this}}),c.Requests={request:function(n){var t=e.toArray(arguments).slice(1),r=c._eventsApi(this,"request",n,t);if(r)return r;var o=this.channelName,i=this._requests;if(o&&this._tunedIn&&c.log.apply(this,[o,n].concat(t)),i&&(i[n]||i["default"])){var s=i[n]||i["default"];return t=i[n]?t:arguments,c._callHandler(s.callback,s.context,t)}c.debugLog("An unhandled request was fired",n,o)},reply:function(e,n,t){return c._eventsApi(this,"reply",e,[n,t])?this:(this._requests||(this._requests={}),this._requests[e]&&c.debugLog("A request was overwritten",e,this.channelName),this._requests[e]={callback:i(n),context:t||this},this)},replyOnce:function(n,t,r){if(c._eventsApi(this,"replyOnce",n,[t,r]))return this;var o=this,s=e.once(function(){return o.stopReplying(n),i(t).apply(this,arguments)});return this.reply(n,s,r)},stopReplying:function(e,n,t){return c._eventsApi(this,"stopReplying",e)?this:(e||n||t?r(this._requests,e,n,t)||c.debugLog("Attempted to remove the unregistered request",e,this.channelName):delete this._requests,this)}},c._channels={},c.channel=function(e){if(!e)throw new Error("You must provide a name for the channel.");return c._channels[e]?c._channels[e]:c._channels[e]=new c.Channel(e)},c.Channel=function(e){this.channelName=e},e.extend(c.Channel.prototype,n.Events,c.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var f,h,d=[n.Events,c.Requests];return e.each(d,function(n){e.each(n,function(n,t){c[t]=function(n){return h=e.toArray(arguments).slice(1),f=this.channel(n),f[t].apply(f,h)}})}),c.reset=function(n){var t=n?[this._channels[n]]:this._channels;e.each(t,function(e){e.reset()})},c});
},{"backbone":"backbone","underscore":"underscore"}],2:[function(require,module,exports){
"use strict";module.exports=function(t){t.Bar=function(e,n){return n.type="bar",new t(e,n)}};
},{}],3:[function(require,module,exports){
"use strict";module.exports=function(e){e.Bubble=function(t,u){return u.type="bubble",new e(t,u)}};
},{}],4:[function(require,module,exports){
"use strict";module.exports=function(t){t.Doughnut=function(u,n){return n.type="doughnut",new t(u,n)}};
},{}],5:[function(require,module,exports){
"use strict";module.exports=function(e){e.Line=function(n,t){return t.type="line",new e(n,t)}};
},{}],6:[function(require,module,exports){
"use strict";module.exports=function(e){e.PolarArea=function(r,t){return t.type="polarArea",new e(r,t)}};
},{}],7:[function(require,module,exports){
"use strict";module.exports=function(r){r.Radar=function(t,e){return e.type="radar",new r(t,e)}};
},{}],8:[function(require,module,exports){
"use strict";module.exports=function(t){t.Scatter=function(e,n){return n.type="scatter",new t(e,n)}};
},{}],9:[function(require,module,exports){
"use strict";function computeMinSampleSize(e,t){var a,r,l,n,i=e.isHorizontal()?e.width:e.height,o=e.getTicks();for(l=1,n=t.length;l<n;++l)i=Math.min(i,t[l]-t[l-1]);for(l=0,n=o.length;l<n;++l)r=e.getPixelForTick(l),i=l>0?Math.min(i,r-a):i,a=r;return i}function computeFitCategoryTraits(e,t,a){var r,l,n=a.barThickness,i=t.stackCount,o=t.pixels[e];return helpers.isNullOrUndef(n)?(r=t.min*a.categoryPercentage,l=a.barPercentage):(r=n*i,l=1),{chunk:r/i,ratio:l,start:o-r/2}}function computeFlexCategoryTraits(e,t,a){var r,l,n=t.pixels,i=n[e],o=e>0?n[e-1]:null,s=e<n.length-1?n[e+1]:null,c=a.categoryPercentage;return null===o&&(o=i-(null===s?t.end-i:s-i)),null===s&&(s=i+i-o),r=i-(i-o)/2*c,l=(s-o)/2*c,{chunk:l/t.stackCount,ratio:a.barPercentage,start:r}}var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),defaults._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var a="";return e.length>0&&(e[0].yLabel?a=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(a=t.labels[e[0].index])),a},label:function(e,t){var a=t.datasets[e.datasetIndex].label||"";return a+": "+e.xLabel}},mode:"index",axis:"y"}}),module.exports=function(e){e.controllers.bar=e.DatasetController.extend({dataElementType:elements.Rectangle,initialize:function(){var t,a=this;e.DatasetController.prototype.initialize.apply(a,arguments),t=a.getMeta(),t.stack=a.getDataset().stack,t.bar=!0},update:function(e){var t,a,r=this,l=r.getMeta().data;for(r._ruler=r.getRuler(),t=0,a=l.length;t<a;++t)r.updateElement(l[t],t,e)},updateElement:function(e,t,a){var r=this,l=r.chart,n=r.getMeta(),i=r.getDataset(),o=e.custom||{},s=l.options.elements.rectangle;e._xScale=r.getScaleForId(n.xAxisID),e._yScale=r.getScaleForId(n.yAxisID),e._datasetIndex=r.index,e._index=t,e._model={datasetLabel:i.label,label:l.data.labels[t],borderSkipped:o.borderSkipped?o.borderSkipped:s.borderSkipped,backgroundColor:o.backgroundColor?o.backgroundColor:helpers.valueAtIndexOrDefault(i.backgroundColor,t,s.backgroundColor),borderColor:o.borderColor?o.borderColor:helpers.valueAtIndexOrDefault(i.borderColor,t,s.borderColor),borderWidth:o.borderWidth?o.borderWidth:helpers.valueAtIndexOrDefault(i.borderWidth,t,s.borderWidth)},r.updateElementGeometry(e,t,a),e.pivot()},updateElementGeometry:function(e,t,a){var r=this,l=e._model,n=r.getValueScale(),i=n.getBasePixel(),o=n.isHorizontal(),s=r._ruler||r.getRuler(),c=r.calculateBarValuePixels(r.index,t),d=r.calculateBarIndexPixels(r.index,t,s);l.horizontal=o,l.base=a?i:c.base,l.x=o?a?i:c.head:d.center,l.y=o?d.center:a?i:c.head,l.height=o?d.size:void 0,l.width=o?void 0:d.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},_getStacks:function(e){var t,a,r=this,l=r.chart,n=r.getIndexScale(),i=n.options.stacked,o=void 0===e?l.data.datasets.length:e+1,s=[];for(t=0;t<o;++t)a=l.getDatasetMeta(t),a.bar&&l.isDatasetVisible(t)&&(i===!1||i===!0&&s.indexOf(a.stack)===-1||void 0===i&&(void 0===a.stack||s.indexOf(a.stack)===-1))&&s.push(a.stack);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var a=this._getStacks(e),r=void 0!==t?a.indexOf(t):-1;return r===-1?a.length-1:r},getRuler:function(){var e,t,a,r=this,l=r.getIndexScale(),n=r.getStackCount(),i=r.index,o=l.isHorizontal(),s=o?l.left:l.top,c=s+(o?l.width:l.height),d=[];for(e=0,t=r.getMeta().data.length;e<t;++e)d.push(l.getPixelForValue(null,e,i));return a=helpers.isNullOrUndef(l.options.barThickness)?computeMinSampleSize(l,d):-1,{min:a,pixels:d,start:s,end:c,stackCount:n,scale:l}},calculateBarValuePixels:function(e,t){var a,r,l,n,i,o,s=this,c=s.chart,d=s.getMeta(),u=s.getValueScale(),g=c.data.datasets,h=u.getRightValue(g[e].data[t]),x=u.options.stacked,p=d.stack,f=0;if(x||void 0===x&&void 0!==p)for(a=0;a<e;++a)r=c.getDatasetMeta(a),r.bar&&r.stack===p&&r.controller.getValueScaleId()===u.id&&c.isDatasetVisible(a)&&(l=u.getRightValue(g[a].data[t]),(h<0&&l<0||h>=0&&l>0)&&(f+=l));return n=u.getPixelForValue(f),i=u.getPixelForValue(f+h),o=(i-n)/2,{size:o,base:n,head:i,center:i+o/2}},calculateBarIndexPixels:function(e,t,a){var r=this,l=a.scale.options,n="flex"===l.barThickness?computeFlexCategoryTraits(t,a,l):computeFitCategoryTraits(t,a,l),i=r.getStackIndex(e,r.getMeta().stack),o=n.start+n.chunk*i+n.chunk/2,s=Math.min(helpers.valueOrDefault(l.maxBarThickness,1/0),n.chunk*n.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}},draw:function(){var e=this,t=e.chart,a=e.getValueScale(),r=e.getMeta().data,l=e.getDataset(),n=r.length,i=0;for(helpers.canvas.clipArea(t.ctx,t.chartArea);i<n;++i)isNaN(a.getRightValue(l.data[i]))||r[i].draw();helpers.canvas.unclipArea(t.ctx)}}),e.controllers.horizontalBar=e.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})};
},{"../core/core.defaults":20,"../elements/index":35,"../helpers/index":40}],10:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,r){var o=r.datasets[e.datasetIndex].label||"",t=r.datasets[e.datasetIndex].data[e.index];return o+": ("+e.xLabel+", "+e.yLabel+", "+t.r+")"}}}}),module.exports=function(e){e.controllers.bubble=e.DatasetController.extend({dataElementType:elements.Point,update:function(e){var r=this,o=r.getMeta(),t=o.data;helpers.each(t,function(o,t){r.updateElement(o,t,e)})},updateElement:function(e,r,o){var t=this,a=t.getMeta(),d=e.custom||{},l=t.getScaleForId(a.xAxisID),i=t.getScaleForId(a.yAxisID),s=t._resolveElementOptions(e,r),n=t.getDataset().data[r],u=t.index,h=o?l.getPixelForDecimal(.5):l.getPixelForValue("object"==typeof n?n:NaN,r,u),c=o?i.getBasePixel():i.getPixelForValue(n,r,u);e._xScale=l,e._yScale=i,e._options=s,e._datasetIndex=u,e._index=r,e._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,hitRadius:s.hitRadius,pointStyle:s.pointStyle,rotation:s.rotation,radius:o?0:s.radius,skip:d.skip||isNaN(h)||isNaN(c),x:h,y:c},e.pivot()},setHoverStyle:function(e){var r=e._model,o=e._options;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth,radius:r.radius},r.backgroundColor=helpers.valueOrDefault(o.hoverBackgroundColor,helpers.getHoverColor(o.backgroundColor)),r.borderColor=helpers.valueOrDefault(o.hoverBorderColor,helpers.getHoverColor(o.borderColor)),r.borderWidth=helpers.valueOrDefault(o.hoverBorderWidth,o.borderWidth),r.radius=o.radius+o.hoverRadius},_resolveElementOptions:function(e,r){var o,t,a,d=this,l=d.chart,i=l.data.datasets,s=i[d.index],n=e.custom||{},u=l.options.elements.point,h=helpers.options.resolve,c=s.data[r],b={},p={chart:l,dataIndex:r,dataset:s,datasetIndex:d.index},x=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"];for(o=0,t=x.length;o<t;++o)a=x[o],b[a]=h([n[a],s[a],u[a]],p,r);return b.radius=h([n.radius,c?c.r:void 0,s.radius,u.radius],p,r),b}})};
},{"../core/core.defaults":20,"../elements/index":35,"../helpers/index":40}],11:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var a=t.data,r=a.datasets,o=a.labels;if(r.length)for(var n=0;n<r[0].data.length;++n)e.push('<li><span style="background-color:'+r[0].backgroundColor[n]+'"></span>'),o[n]&&e.push(o[n]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(a,r){var o=t.getDatasetMeta(0),n=e.datasets[0],d=o.data[r],i=d&&d.custom||{},l=helpers.valueAtIndexOrDefault,s=t.options.elements.arc,h=i.backgroundColor?i.backgroundColor:l(n.backgroundColor,r,s.backgroundColor),u=i.borderColor?i.borderColor:l(n.borderColor,r,s.borderColor),c=i.borderWidth?i.borderWidth:l(n.borderWidth,r,s.borderWidth);return{text:a,fillStyle:h,strokeStyle:u,lineWidth:c,hidden:isNaN(n.data[r])||o.data[r].hidden,index:r}}):[]}},onClick:function(t,e){var a,r,o,n=e.index,d=this.chart;for(a=0,r=(d.data.datasets||[]).length;a<r;++a)o=d.getDatasetMeta(a),o.data[n]&&(o.data[n].hidden=!o.data[n].hidden);d.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var a=e.labels[t.index],r=": "+e.datasets[t.datasetIndex].data[t.index];return helpers.isArray(a)?(a=a.slice(),a[0]+=r):a+=r,a}}}}),defaults._set("pie",helpers.clone(defaults.doughnut)),defaults._set("pie",{cutoutPercentage:0}),module.exports=function(t){t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:elements.Arc,linkScales:helpers.noop,getRingIndex:function(t){for(var e=0,a=0;a<t;++a)this.chart.isDatasetVisible(a)&&++e;return e},update:function(t){var e=this,a=e.chart,r=a.chartArea,o=a.options,n=o.elements.arc,d=r.right-r.left-n.borderWidth,i=r.bottom-r.top-n.borderWidth,l=Math.min(d,i),s={x:0,y:0},h=e.getMeta(),u=o.cutoutPercentage,c=o.circumference;if(c<2*Math.PI){var g=o.rotation%(2*Math.PI);g+=2*Math.PI*(g>=Math.PI?-1:g<-Math.PI?1:0);var b=g+c,f={x:Math.cos(g),y:Math.sin(g)},x={x:Math.cos(b),y:Math.sin(b)},M=g<=0&&b>=0||g<=2*Math.PI&&2*Math.PI<=b,m=g<=.5*Math.PI&&.5*Math.PI<=b||g<=2.5*Math.PI&&2.5*Math.PI<=b,p=g<=-Math.PI&&-Math.PI<=b||g<=Math.PI&&Math.PI<=b,I=g<=.5*-Math.PI&&.5*-Math.PI<=b||g<=1.5*Math.PI&&1.5*Math.PI<=b,P=u/100,y={x:p?-1:Math.min(f.x*(f.x<0?1:P),x.x*(x.x<0?1:P)),y:I?-1:Math.min(f.y*(f.y<0?1:P),x.y*(x.y<0?1:P))},C={x:M?1:Math.max(f.x*(f.x>0?1:P),x.x*(x.x>0?1:P)),y:m?1:Math.max(f.y*(f.y>0?1:P),x.y*(x.y>0?1:P))},v={width:.5*(C.x-y.x),height:.5*(C.y-y.y)};l=Math.min(d/v.width,i/v.height),s={x:(C.x+y.x)*-.5,y:(C.y+y.y)*-.5}}a.borderWidth=e.getMaxBorderWidth(h.data),a.outerRadius=Math.max((l-a.borderWidth)/2,0),a.innerRadius=Math.max(u?a.outerRadius/100*u:0,0),a.radiusLength=(a.outerRadius-a.innerRadius)/a.getVisibleDatasetCount(),a.offsetX=s.x*a.outerRadius,a.offsetY=s.y*a.outerRadius,h.total=e.calculateTotal(),e.outerRadius=a.outerRadius-a.radiusLength*e.getRingIndex(e.index),e.innerRadius=Math.max(e.outerRadius-a.radiusLength,0),helpers.each(h.data,function(a,r){e.updateElement(a,r,t)})},updateElement:function(t,e,a){var r=this,o=r.chart,n=o.chartArea,d=o.options,i=d.animation,l=(n.left+n.right)/2,s=(n.top+n.bottom)/2,h=d.rotation,u=d.rotation,c=r.getDataset(),g=a&&i.animateRotate?0:t.hidden?0:r.calculateCircumference(c.data[e])*(d.circumference/(2*Math.PI)),b=a&&i.animateScale?0:r.innerRadius,f=a&&i.animateScale?0:r.outerRadius,x=helpers.valueAtIndexOrDefault;helpers.extend(t,{_datasetIndex:r.index,_index:e,_model:{x:l+o.offsetX,y:s+o.offsetY,startAngle:h,endAngle:u,circumference:g,outerRadius:f,innerRadius:b,label:x(c.label,e,o.data.labels[e])}});var M=t._model,m=t.custom||{},p=helpers.valueAtIndexOrDefault,I=this.chart.options.elements.arc;M.backgroundColor=m.backgroundColor?m.backgroundColor:p(c.backgroundColor,e,I.backgroundColor),M.borderColor=m.borderColor?m.borderColor:p(c.borderColor,e,I.borderColor),M.borderWidth=m.borderWidth?m.borderWidth:p(c.borderWidth,e,I.borderWidth),a&&i.animateRotate||(0===e?M.startAngle=d.rotation:M.startAngle=r.getMeta().data[e-1]._model.endAngle,M.endAngle=M.startAngle+M.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),a=this.getMeta(),r=0;return helpers.each(a.data,function(a,o){t=e.data[o],isNaN(t)||a.hidden||(r+=Math.abs(t))}),r},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){for(var e,a,r=0,o=this.index,n=t.length,d=0;d<n;d++)e=t[d]._model?t[d]._model.borderWidth:0,a=t[d]._chart?t[d]._chart.config.data.datasets[o].hoverBorderWidth:0,r=e>r?e:r,r=a>r?a:r;return r}})};
},{"../core/core.defaults":20,"../elements/index":35,"../helpers/index":40}],12:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),module.exports=function(e){function t(e,t){return helpers.valueOrDefault(e.showLine,t.showLines)}e.controllers.line=e.DatasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,update:function(e){var o,r,i,a=this,n=a.getMeta(),l=n.dataset,d=n.data||[],s=a.chart.options,u=s.elements.line,p=a.getScaleForId(n.yAxisID),h=a.getDataset(),c=t(h,s);for(c&&(i=l.custom||{},void 0!==h.tension&&void 0===h.lineTension&&(h.lineTension=h.tension),l._scale=p,l._datasetIndex=a.index,l._children=d,l._model={spanGaps:h.spanGaps?h.spanGaps:s.spanGaps,tension:i.tension?i.tension:helpers.valueOrDefault(h.lineTension,u.tension),backgroundColor:i.backgroundColor?i.backgroundColor:h.backgroundColor||u.backgroundColor,borderWidth:i.borderWidth?i.borderWidth:h.borderWidth||u.borderWidth,borderColor:i.borderColor?i.borderColor:h.borderColor||u.borderColor,borderCapStyle:i.borderCapStyle?i.borderCapStyle:h.borderCapStyle||u.borderCapStyle,borderDash:i.borderDash?i.borderDash:h.borderDash||u.borderDash,borderDashOffset:i.borderDashOffset?i.borderDashOffset:h.borderDashOffset||u.borderDashOffset,borderJoinStyle:i.borderJoinStyle?i.borderJoinStyle:h.borderJoinStyle||u.borderJoinStyle,fill:i.fill?i.fill:void 0!==h.fill?h.fill:u.fill,steppedLine:i.steppedLine?i.steppedLine:helpers.valueOrDefault(h.steppedLine,u.stepped),cubicInterpolationMode:i.cubicInterpolationMode?i.cubicInterpolationMode:helpers.valueOrDefault(h.cubicInterpolationMode,u.cubicInterpolationMode)},l.pivot()),o=0,r=d.length;o<r;++o)a.updateElement(d[o],o,e);for(c&&0!==l._model.tension&&a.updateBezierControlPoints(),o=0,r=d.length;o<r;++o)d[o].pivot()},getPointBackgroundColor:function(e,t){var o=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),i=e.custom||{};return i.backgroundColor?o=i.backgroundColor:r.pointBackgroundColor?o=helpers.valueAtIndexOrDefault(r.pointBackgroundColor,t,o):r.backgroundColor&&(o=r.backgroundColor),o},getPointBorderColor:function(e,t){var o=this.chart.options.elements.point.borderColor,r=this.getDataset(),i=e.custom||{};return i.borderColor?o=i.borderColor:r.pointBorderColor?o=helpers.valueAtIndexOrDefault(r.pointBorderColor,t,o):r.borderColor&&(o=r.borderColor),o},getPointBorderWidth:function(e,t){var o=this.chart.options.elements.point.borderWidth,r=this.getDataset(),i=e.custom||{};return isNaN(i.borderWidth)?!isNaN(r.pointBorderWidth)||helpers.isArray(r.pointBorderWidth)?o=helpers.valueAtIndexOrDefault(r.pointBorderWidth,t,o):isNaN(r.borderWidth)||(o=r.borderWidth):o=i.borderWidth,o},getPointRotation:function(e,t){var o=this.chart.options.elements.point.rotation,r=this.getDataset(),i=e.custom||{};return isNaN(i.rotation)?isNaN(r.pointRotation)&&!helpers.isArray(r.pointRotation)||(o=helpers.valueAtIndexOrDefault(r.pointRotation,t,o)):o=i.rotation,o},updateElement:function(e,t,o){var r,i,a=this,n=a.getMeta(),l=e.custom||{},d=a.getDataset(),s=a.index,u=d.data[t],p=a.getScaleForId(n.yAxisID),h=a.getScaleForId(n.xAxisID),c=a.chart.options.elements.point;void 0!==d.radius&&void 0===d.pointRadius&&(d.pointRadius=d.radius),void 0!==d.hitRadius&&void 0===d.pointHitRadius&&(d.pointHitRadius=d.hitRadius),r=h.getPixelForValue("object"==typeof u?u:NaN,t,s),i=o?p.getBasePixel():a.calculatePointY(u,t,s),e._xScale=h,e._yScale=p,e._datasetIndex=s,e._index=t,e._model={x:r,y:i,skip:l.skip||isNaN(r)||isNaN(i),radius:l.radius||helpers.valueAtIndexOrDefault(d.pointRadius,t,c.radius),pointStyle:l.pointStyle||helpers.valueAtIndexOrDefault(d.pointStyle,t,c.pointStyle),rotation:a.getPointRotation(e,t),backgroundColor:a.getPointBackgroundColor(e,t),borderColor:a.getPointBorderColor(e,t),borderWidth:a.getPointBorderWidth(e,t),tension:n.dataset._model?n.dataset._model.tension:0,steppedLine:!!n.dataset._model&&n.dataset._model.steppedLine,hitRadius:l.hitRadius||helpers.valueAtIndexOrDefault(d.pointHitRadius,t,c.hitRadius)}},calculatePointY:function(e,t,o){var r,i,a,n=this,l=n.chart,d=n.getMeta(),s=n.getScaleForId(d.yAxisID),u=0,p=0;if(s.options.stacked){for(r=0;r<o;r++)if(i=l.data.datasets[r],a=l.getDatasetMeta(r),"line"===a.type&&a.yAxisID===s.id&&l.isDatasetVisible(r)){var h=Number(s.getRightValue(i.data[t]));h<0?p+=h||0:u+=h||0}var c=Number(s.getRightValue(e));return c<0?s.getPixelForValue(p+c):s.getPixelForValue(u+c)}return s.getPixelForValue(e)},updateBezierControlPoints:function(){function e(e,t,o){return Math.max(Math.min(e,o),t)}var t,o,r,i,a,n=this,l=n.getMeta(),d=n.chart.chartArea,s=l.data||[];if(l.dataset._model.spanGaps&&(s=s.filter(function(e){return!e._model.skip})),"monotone"===l.dataset._model.cubicInterpolationMode)helpers.splineCurveMonotone(s);else for(t=0,o=s.length;t<o;++t)r=s[t],i=r._model,a=helpers.splineCurve(helpers.previousItem(s,t)._model,i,helpers.nextItem(s,t)._model,l.dataset._model.tension),i.controlPointPreviousX=a.previous.x,i.controlPointPreviousY=a.previous.y,i.controlPointNextX=a.next.x,i.controlPointNextY=a.next.y;if(n.chart.options.elements.line.capBezierPoints)for(t=0,o=s.length;t<o;++t)i=s[t]._model,i.controlPointPreviousX=e(i.controlPointPreviousX,d.left,d.right),i.controlPointPreviousY=e(i.controlPointPreviousY,d.top,d.bottom),i.controlPointNextX=e(i.controlPointNextX,d.left,d.right),i.controlPointNextY=e(i.controlPointNextY,d.top,d.bottom)},draw:function(){var e,o=this,r=o.chart,i=o.getMeta(),a=i.data||[],n=r.chartArea,l=a.length,d=0;for(t(o.getDataset(),r.options)&&(e=(i.dataset._model.borderWidth||0)/2,helpers.canvas.clipArea(r.ctx,{left:n.left,right:n.right,top:n.top-e,bottom:n.bottom+e}),i.dataset.draw(),helpers.canvas.unclipArea(r.ctx));d<l;++d)a[d].draw(n)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],o=e._index,r=e.custom||{},i=e._model;e.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius},i.backgroundColor=r.hoverBackgroundColor||helpers.valueAtIndexOrDefault(t.pointHoverBackgroundColor,o,helpers.getHoverColor(i.backgroundColor)),i.borderColor=r.hoverBorderColor||helpers.valueAtIndexOrDefault(t.pointHoverBorderColor,o,helpers.getHoverColor(i.borderColor)),i.borderWidth=r.hoverBorderWidth||helpers.valueAtIndexOrDefault(t.pointHoverBorderWidth,o,i.borderWidth),i.radius=r.hoverRadius||helpers.valueAtIndexOrDefault(t.pointHoverRadius,o,this.chart.options.elements.point.hoverRadius)}})};
},{"../core/core.defaults":20,"../elements/index":35,"../helpers/index":40}],13:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var a=e.data,r=a.datasets,n=a.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)t.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'"></span>'),n[o]&&t.push(n[o]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(a,r){var n=e.getDatasetMeta(0),o=t.datasets[0],d=n.data[r],l=d.custom||{},s=helpers.valueAtIndexOrDefault,i=e.options.elements.arc,u=l.backgroundColor?l.backgroundColor:s(o.backgroundColor,r,i.backgroundColor),c=l.borderColor?l.borderColor:s(o.borderColor,r,i.borderColor),h=l.borderWidth?l.borderWidth:s(o.borderWidth,r,i.borderWidth);return{text:a,fillStyle:u,strokeStyle:c,lineWidth:h,hidden:isNaN(o.data[r])||n.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var a,r,n,o=t.index,d=this.chart;for(a=0,r=(d.data.datasets||[]).length;a<r;++a)n=d.getDatasetMeta(a),n.data[o].hidden=!n.data[o].hidden;d.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}}),module.exports=function(e){e.controllers.polarArea=e.DatasetController.extend({dataElementType:elements.Arc,linkScales:helpers.noop,update:function(e){var t,a,r,n=this,o=n.getDataset(),d=n.getMeta(),l=n.chart.options.startAngle||0,s=n._starts=[],i=n._angles=[];for(n._updateRadius(),d.count=n.countVisibleElements(),t=0,a=o.data.length;t<a;t++)s[t]=l,r=n._computeAngle(t),i[t]=r,l+=r;helpers.each(d.data,function(t,a){n.updateElement(t,a,e)})},_updateRadius:function(){var e=this,t=e.chart,a=t.chartArea,r=t.options,n=r.elements.arc,o=Math.min(a.right-a.left,a.bottom-a.top);t.outerRadius=Math.max((o-n.borderWidth/2)/2,0),t.innerRadius=Math.max(r.cutoutPercentage?t.outerRadius/100*r.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,a){var r=this,n=r.chart,o=r.getDataset(),d=n.options,l=d.animation,s=n.scale,i=n.data.labels,u=s.xCenter,c=s.yCenter,h=d.startAngle,g=e.hidden?0:s.getDistanceFromCenterForValue(o.data[t]),b=r._starts[t],p=b+(e.hidden?0:r._angles[t]),m=l.animateScale?0:s.getDistanceFromCenterForValue(o.data[t]);helpers.extend(e,{_datasetIndex:r.index,_index:t,_scale:s,_model:{x:u,y:c,innerRadius:0,outerRadius:a?m:g,startAngle:a&&l.animateRotate?h:b,endAngle:a&&l.animateRotate?h:p,label:helpers.valueAtIndexOrDefault(i,t,i[t])}});var f=this.chart.options.elements.arc,C=e.custom||{},x=helpers.valueAtIndexOrDefault,v=e._model;v.backgroundColor=C.backgroundColor?C.backgroundColor:x(o.backgroundColor,t,f.backgroundColor),v.borderColor=C.borderColor?C.borderColor:x(o.borderColor,t,f.borderColor),v.borderWidth=C.borderWidth?C.borderWidth:x(o.borderWidth,t,f.borderWidth),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),a=0;return helpers.each(t.data,function(t,r){isNaN(e.data[r])||t.hidden||a++}),a},_computeAngle:function(e){var t=this,a=this.getMeta().count,r=t.getDataset(),n=t.getMeta();if(isNaN(r.data[e])||n.data[e].hidden)return 0;var o={chart:t.chart,dataIndex:e,dataset:r,datasetIndex:t.index};return helpers.options.resolve([t.chart.options.elements.arc.angle,2*Math.PI/a],o,e)}})};
},{"../core/core.defaults":20,"../elements/index":35,"../helpers/index":40}],14:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),module.exports=function(e){e.controllers.radar=e.DatasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,linkScales:helpers.noop,update:function(e){var o=this,r=o.getMeta(),t=r.dataset,i=r.data,a=t.custom||{},d=o.getDataset(),l=o.chart.options.elements.line,n=o.chart.scale;void 0!==d.tension&&void 0===d.lineTension&&(d.lineTension=d.tension),helpers.extend(r.dataset,{_datasetIndex:o.index,_scale:n,_children:i,_loop:!0,_model:{tension:a.tension?a.tension:helpers.valueOrDefault(d.lineTension,l.tension),backgroundColor:a.backgroundColor?a.backgroundColor:d.backgroundColor||l.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:d.borderWidth||l.borderWidth,borderColor:a.borderColor?a.borderColor:d.borderColor||l.borderColor,fill:a.fill?a.fill:void 0!==d.fill?d.fill:l.fill,borderCapStyle:a.borderCapStyle?a.borderCapStyle:d.borderCapStyle||l.borderCapStyle,borderDash:a.borderDash?a.borderDash:d.borderDash||l.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:d.borderDashOffset||l.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:d.borderJoinStyle||l.borderJoinStyle}}),r.dataset.pivot(),helpers.each(i,function(r,t){o.updateElement(r,t,e)},o),o.updateBezierControlPoints()},updateElement:function(e,o,r){var t=this,i=e.custom||{},a=t.getDataset(),d=t.chart.scale,l=t.chart.options.elements.point,n=d.getPointPositionForValue(o,a.data[o]);void 0!==a.radius&&void 0===a.pointRadius&&(a.pointRadius=a.radius),void 0!==a.hitRadius&&void 0===a.pointHitRadius&&(a.pointHitRadius=a.hitRadius),helpers.extend(e,{_datasetIndex:t.index,_index:o,_scale:d,_model:{x:r?d.xCenter:n.x,y:r?d.yCenter:n.y,tension:i.tension?i.tension:helpers.valueOrDefault(a.lineTension,t.chart.options.elements.line.tension),radius:i.radius?i.radius:helpers.valueAtIndexOrDefault(a.pointRadius,o,l.radius),backgroundColor:i.backgroundColor?i.backgroundColor:helpers.valueAtIndexOrDefault(a.pointBackgroundColor,o,l.backgroundColor),borderColor:i.borderColor?i.borderColor:helpers.valueAtIndexOrDefault(a.pointBorderColor,o,l.borderColor),borderWidth:i.borderWidth?i.borderWidth:helpers.valueAtIndexOrDefault(a.pointBorderWidth,o,l.borderWidth),pointStyle:i.pointStyle?i.pointStyle:helpers.valueAtIndexOrDefault(a.pointStyle,o,l.pointStyle),rotation:i.rotation?i.rotation:helpers.valueAtIndexOrDefault(a.pointRotation,o,l.rotation),hitRadius:i.hitRadius?i.hitRadius:helpers.valueAtIndexOrDefault(a.pointHitRadius,o,l.hitRadius)}}),e._model.skip=i.skip?i.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,o=this.getMeta();helpers.each(o.data,function(r,t){var i=r._model,a=helpers.splineCurve(helpers.previousItem(o.data,t,!0)._model,i,helpers.nextItem(o.data,t,!0)._model,i.tension);i.controlPointPreviousX=Math.max(Math.min(a.previous.x,e.right),e.left),i.controlPointPreviousY=Math.max(Math.min(a.previous.y,e.bottom),e.top),i.controlPointNextX=Math.max(Math.min(a.next.x,e.right),e.left),i.controlPointNextY=Math.max(Math.min(a.next.y,e.bottom),e.top),r.pivot()})},setHoverStyle:function(e){var o=this.chart.data.datasets[e._datasetIndex],r=e.custom||{},t=e._index,i=e._model;e.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth,radius:i.radius},i.radius=r.hoverRadius?r.hoverRadius:helpers.valueAtIndexOrDefault(o.pointHoverRadius,t,this.chart.options.elements.point.hoverRadius),i.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:helpers.valueAtIndexOrDefault(o.pointHoverBackgroundColor,t,helpers.getHoverColor(i.backgroundColor)),i.borderColor=r.hoverBorderColor?r.hoverBorderColor:helpers.valueAtIndexOrDefault(o.pointHoverBorderColor,t,helpers.getHoverColor(i.borderColor)),i.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:helpers.valueAtIndexOrDefault(o.pointHoverBorderWidth,t,i.borderWidth)}})};
},{"../core/core.defaults":20,"../elements/index":35,"../helpers/index":40}],15:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults");defaults._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),module.exports=function(e){e.controllers.scatter=e.controllers.line};
},{"../core/core.defaults":20}],16:[function(require,module,exports){
"use strict";var Element=require("./core.element"),exports=module.exports=Element.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null});Object.defineProperty(exports.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(exports.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}});
},{"./core.element":21}],17:[function(require,module,exports){
"use strict";var defaults=require("./core.defaults"),helpers=require("../helpers/index");defaults._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:helpers.noop,onComplete:helpers.noop}}),module.exports={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,n,t,r){var a,i,s=this.animations;for(n.chart=e,r||(e.animating=!0),a=0,i=s.length;a<i;++a)if(s[a].chart===e)return void(s[a]=n);s.push(n),1===s.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var n=helpers.findIndex(this.animations,function(n){return n.chart===e});n!==-1&&(this.animations.splice(n,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=helpers.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this,n=Date.now(),t=0;e.dropFrames>1&&(t=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1),e.advance(1+t);var r=Date.now();e.dropFrames+=(r-n)/e.frameDuration,e.animations.length>0&&e.requestAnimationFrame()},advance:function(e){for(var n,t,r=this.animations,a=0;a<r.length;)n=r[a],t=n.chart,n.currentStep=(n.currentStep||0)+e,n.currentStep=Math.min(n.currentStep,n.numSteps),helpers.callback(n.render,[t,n],t),helpers.callback(n.onAnimationProgress,[n],t),n.currentStep>=n.numSteps?(helpers.callback(n.onAnimationComplete,[n],t),t.animating=!1,r.splice(a,1)):++a}};
},{"../helpers/index":40,"./core.defaults":20}],18:[function(require,module,exports){
"use strict";var Animation=require("./core.animation"),animations=require("./core.animations"),defaults=require("./core.defaults"),helpers=require("../helpers/index"),Interaction=require("./core.interaction"),layouts=require("./core.layouts"),platform=require("../platforms/platform"),plugins=require("./core.plugins"),scaleService=require("../core/core.scaleService"),Tooltip=require("./core.tooltip");module.exports=function(t){function e(t){t=t||{};var e=t.data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=helpers.configMerge(defaults.global,defaults[t.type],t.options||{}),t}function a(e){var a=e.options;helpers.each(e.scales,function(t){layouts.removeBox(e,t)}),a=helpers.configMerge(t.defaults.global,t.defaults[e.config.type],a),e.options=e.config.options=a,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=a.tooltips,e.tooltip.initialize()}function n(t){return"top"===t||"bottom"===t}t.types={},t.instances={},t.controllers={},helpers.extend(t.prototype,{construct:function(a,n){var i=this;n=e(n);var o=platform.acquireContext(a,n),s=o&&o.canvas,r=s&&s.height,l=s&&s.width;return i.id=helpers.uid(),i.ctx=o,i.canvas=s,i.config=n,i.width=l,i.height=r,i.aspectRatio=r?l/r:null,i.options=n.options,i._bufferedRender=!1,i.chart=i,i.controller=i,t.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(t){i.config.data=t}}),o&&s?(i.initialize(),void i.update()):void console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return plugins.notify(t,"beforeInit"),helpers.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.initToolTip(),plugins.notify(t,"afterInit"),t},clear:function(){return helpers.canvas.clear(this),this},stop:function(){return animations.cancelAnimation(this),this},resize:function(t){var e=this,a=e.options,n=e.canvas,i=a.maintainAspectRatio&&e.aspectRatio||null,o=Math.max(0,Math.floor(helpers.getMaximumWidth(n))),s=Math.max(0,Math.floor(i?o/i:helpers.getMaximumHeight(n)));if((e.width!==o||e.height!==s)&&(n.width=e.width=o,n.height=e.height=s,n.style.width=o+"px",n.style.height=s+"px",helpers.retinaScale(e,a.devicePixelRatio),!t)){var r={width:o,height:s};plugins.notify(e,"resize",[r]),e.options.onResize&&e.options.onResize(e,r),e.stop(),e.update({duration:e.options.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},a=t.scale;helpers.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),helpers.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),a&&(a.id=a.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,a=t.scales||{},i=[],o=Object.keys(a).reduce(function(t,e){return t[e]=!1,t},{});e.scales&&(i=i.concat((e.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(e.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),e.scale&&i.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),helpers.each(i,function(e){var i=e.options,s=i.id,r=helpers.valueOrDefault(i.type,e.dtype);n(i.position)!==n(e.dposition)&&(i.position=e.dposition),o[s]=!0;var l=null;if(s in a&&a[s].type===r)l=a[s],l.options=i,l.ctx=t.ctx,l.chart=t;else{var c=scaleService.getScaleConstructor(r);if(!c)return;l=new c({id:s,type:r,options:i,ctx:t.ctx,chart:t}),a[l.id]=l}l.mergeTicksOptions(),e.isDefault&&(t.scale=l)}),helpers.each(o,function(t,e){t||delete a[e]}),t.scales=a,scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,a=[],n=[];return helpers.each(e.data.datasets,function(i,o){var s=e.getDatasetMeta(o),r=i.type||e.config.type;if(s.type&&s.type!==r&&(e.destroyDatasetMeta(o),s=e.getDatasetMeta(o)),s.type=r,a.push(s.type),s.controller)s.controller.updateIndex(o),s.controller.linkScales();else{var l=t.controllers[s.type];if(void 0===l)throw new Error('"'+s.type+'" is not a chart type.');s.controller=new l(e,o),n.push(s.controller)}},e),n},resetElements:function(){var t=this;helpers.each(t.data.datasets,function(e,a){t.getDatasetMeta(a).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),a(e),plugins._invalidate(e),plugins.notify(e,"beforeUpdate")!==!1){e.tooltip._data=e.data;var n=e.buildOrUpdateControllers();helpers.each(e.data.datasets,function(t,a){e.getDatasetMeta(a).controller.buildOrUpdateElements()},e),e.updateLayout(),e.options.animation&&e.options.animation.duration&&helpers.each(n,function(t){t.reset()}),e.updateDatasets(),e.tooltip.initialize(),e.lastActive=[],plugins.notify(e,"afterUpdate"),e._bufferedRender?e._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:e.render(t)}},updateLayout:function(){var t=this;plugins.notify(t,"beforeLayout")!==!1&&(layouts.update(this,this.width,this.height),plugins.notify(t,"afterScaleUpdate"),plugins.notify(t,"afterLayout"))},updateDatasets:function(){var t=this;if(plugins.notify(t,"beforeDatasetsUpdate")!==!1){for(var e=0,a=t.data.datasets.length;e<a;++e)t.updateDataset(e);plugins.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,a=e.getDatasetMeta(t),n={meta:a,index:t};plugins.notify(e,"beforeDatasetUpdate",[n])!==!1&&(a.controller.update(),plugins.notify(e,"afterDatasetUpdate",[n]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var a=t.duration,n=t.lazy;if(plugins.notify(e,"beforeRender")!==!1){var i=e.options.animation,o=function(t){plugins.notify(e,"afterRender"),helpers.callback(i&&i.onComplete,[t],e)};if(i&&("undefined"!=typeof a&&0!==a||"undefined"==typeof a&&0!==i.duration)){var s=new Animation({numSteps:(a||i.duration)/16.66,easing:t.easing||i.easing,render:function(t,e){var a=helpers.easing.effects[e.easing],n=e.currentStep,i=n/e.numSteps;t.draw(a(i),i,n)},onAnimationProgress:i.onProgress,onAnimationComplete:o});animations.addAnimation(e,s,a,n)}else e.draw(),o(new Animation({numSteps:0,chart:e}));return e}},draw:function(t){var e=this;e.clear(),helpers.isNullOrUndef(t)&&(t=1),e.transition(t),e.width<=0||e.height<=0||plugins.notify(e,"beforeDraw",[t])!==!1&&(helpers.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e._drawTooltip(t),plugins.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=this,a=0,n=(e.data.datasets||[]).length;a<n;++a)e.isDatasetVisible(a)&&e.getDatasetMeta(a).controller.transition(t);e.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(plugins.notify(e,"beforeDatasetsDraw",[t])!==!1){for(var a=(e.data.datasets||[]).length-1;a>=0;--a)e.isDatasetVisible(a)&&e.drawDataset(a,t);plugins.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var a=this,n=a.getDatasetMeta(t),i={meta:n,index:t,easingValue:e};plugins.notify(a,"beforeDatasetDraw",[i])!==!1&&(n.controller.draw(e),plugins.notify(a,"afterDatasetDraw",[i]))},_drawTooltip:function(t){var e=this,a=e.tooltip,n={tooltip:a,easingValue:t};plugins.notify(e,"beforeTooltipDraw",[n])!==!1&&(a.draw(),plugins.notify(e,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return Interaction.modes.single(this,t)},getElementsAtEvent:function(t){return Interaction.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return Interaction.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,a){var n=Interaction.modes[e];return"function"==typeof n?n(this,t,a):[]},getDatasetAtEvent:function(t){return Interaction.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,a=e.data.datasets[t];a._meta||(a._meta={});var n=a._meta[e.id];return n||(n=a._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,a=this.data.datasets.length;e<a;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,a=this.data.datasets[t],n=a._meta&&a._meta[e];n&&(n.controller.destroy(),delete a._meta[e])},destroy:function(){var e,a,n=this,i=n.canvas;for(n.stop(),e=0,a=n.data.datasets.length;e<a;++e)n.destroyDatasetMeta(e);i&&(n.unbindEvents(),helpers.canvas.clear(n),platform.releaseContext(n.ctx),n.canvas=null,n.ctx=null),plugins.notify(n,"destroy"),delete t.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new Tooltip({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},a=function(){t.eventHandler.apply(t,arguments)};helpers.each(t.options.events,function(n){platform.addEventListener(t,n,a),e[n]=a}),t.options.responsive&&(a=function(){t.resize()},platform.addEventListener(t,"resize",a),e.resize=a)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,helpers.each(e,function(e,a){platform.removeEventListener(t,a,e)}))},updateHoverStyle:function(t,e,a){var n,i,o,s=a?"setHoverStyle":"removeHoverStyle";for(i=0,o=t.length;i<o;++i)n=t[i],n&&this.getDatasetMeta(n._datasetIndex).controller[s](n)},eventHandler:function(t){var e=this,a=e.tooltip;if(plugins.notify(e,"beforeEvent",[t])!==!1){e._bufferedRender=!0,e._bufferedRequest=null;var n=e.handleEvent(t);a&&(n=a._start?a.handleEvent(t):n|a.handleEvent(t)),plugins.notify(e,"afterEvent",[t]);var i=e._bufferedRequest;return i?e.render(i):n&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,a=e.options||{},n=a.hover,i=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,n.mode,n),helpers.callback(a.onHover||a.hover.onHover,[t["native"],e.active],e),"mouseup"!==t.type&&"click"!==t.type||a.onClick&&a.onClick.call(e,t["native"],e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,n.mode,!1),e.active.length&&n.mode&&e.updateHoverStyle(e.active,n.mode,!0),i=!helpers.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,i}}),t.Controller=t};
},{"../core/core.scaleService":28,"../helpers/index":40,"../platforms/platform":43,"./core.animation":16,"./core.animations":17,"./core.defaults":20,"./core.interaction":23,"./core.layouts":25,"./core.plugins":26,"./core.tooltip":30}],19:[function(require,module,exports){
"use strict";var helpers=require("../helpers/index");module.exports=function(t){function e(t,e){return t._chartjs?void t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),void r.forEach(function(e){var a="onData"+e.charAt(0).toUpperCase()+e.slice(1),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),n=r.apply(this,e);return helpers.each(t._chartjs.listeners,function(t){"function"==typeof t[a]&&t[a].apply(t,e)}),n}})}))}function a(t,e){var a=t._chartjs;if(a){var n=a.listeners,s=n.indexOf(e);s!==-1&&n.splice(s,1),n.length>0||(r.forEach(function(e){delete t[e]}),delete t._chartjs)}}var r=["push","pop","shift","splice","unshift"];t.DatasetController=function(t,e){this.initialize(t,e)},helpers.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var a=this;a.chart=t,a.index=e,a.linkScales(),a.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),a=t.getDataset();null!==e.xAxisID&&e.xAxisID in t.chart.scales||(e.xAxisID=a.xAxisID||t.chart.options.scales.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in t.chart.scales||(e.yAxisID=a.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&a(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,a=e.dataElementType;return a&&new a({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,a=this,r=a.getMeta(),n=a.getDataset().data||[],s=r.data;for(t=0,e=n.length;t<e;++t)s[t]=s[t]||a.createMetaData(t);r.dataset=r.dataset||a.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,r=t.getDataset(),n=r.data||(r.data=[]);t._data!==n&&(t._data&&a(t._data,t),e(n,t),t._data=n),t.resyncElements()},update:helpers.noop,transition:function(t){for(var e=this.getMeta(),a=e.data||[],r=a.length,n=0;n<r;++n)a[n].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],a=e.length,r=0;for(t.dataset&&t.dataset.draw();r<a;++r)e[r].draw()},removeHoverStyle:function(t){helpers.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],a=t._index,r=t.custom||{},n=helpers.valueAtIndexOrDefault,s=helpers.getHoverColor,i=t._model;t.$previousStyle={backgroundColor:i.backgroundColor,borderColor:i.borderColor,borderWidth:i.borderWidth},i.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:n(e.hoverBackgroundColor,a,s(i.backgroundColor)),i.borderColor=r.hoverBorderColor?r.hoverBorderColor:n(e.hoverBorderColor,a,s(i.borderColor)),i.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:n(e.hoverBorderWidth,a,i.borderWidth)},resyncElements:function(){var t=this,e=t.getMeta(),a=t.getDataset().data,r=e.data.length,n=a.length;n<r?e.data.splice(n,r-n):n>r&&t.insertElements(r,n-r)},insertElements:function(t,e){for(var a=0;a<e;++a)this.addElementAndReset(t+a)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=helpers.inherits};
},{"../helpers/index":40}],20:[function(require,module,exports){
"use strict";var helpers=require("../helpers/index");module.exports={_set:function(e,r){return helpers.merge(this[e]||(this[e]={}),r)}};
},{"../helpers/index":40}],21:[function(require,module,exports){
"use strict";function interpolate(e,t,i,r){var n,o,s,l,h,u,a,p,c,_=Object.keys(i);for(n=0,o=_.length;n<o;++n)if(s=_[n],u=i[s],t.hasOwnProperty(s)||(t[s]=u),l=t[s],l!==u&&"_"!==s[0]){if(e.hasOwnProperty(s)||(e[s]=l),h=e[s],a=typeof u,a===typeof h)if("string"===a){if(p=color(h),p.valid&&(c=color(u),c.valid)){t[s]=c.mix(p,r).rgbString();continue}}else if("number"===a&&isFinite(h)&&isFinite(u)){t[s]=h+(u-h)*r;continue}t[s]=u}}var color=require("chartjs-color"),helpers=require("../helpers/index"),Element=function(e){helpers.extend(this,e),this.initialize.apply(this,arguments)};helpers.extend(Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=helpers.clone(e._model)),e._start={},e},transition:function(e){var t=this,i=t._model,r=t._start,n=t._view;return i&&1!==e?(n||(n=t._view={}),r||(r=t._start={}),interpolate(r,n,i,e),t):(t._view=i,t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return helpers.isNumber(this._model.x)&&helpers.isNumber(this._model.y)}}),Element.extend=helpers.inherits,module.exports=Element;
},{"../helpers/index":40,"chartjs-color":55}],22:[function(require,module,exports){
"use strict";var color=require("chartjs-color"),defaults=require("./core.defaults"),helpers=require("../helpers/index"),scaleService=require("../core/core.scaleService");module.exports=function(){function e(e,t,r){var n;return"string"==typeof e?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[r])):n=e,n}function t(e){return void 0!==e&&null!==e&&"none"!==e}function r(r,n,l){var i=document.defaultView,o=helpers._getParentNode(r),a=i.getComputedStyle(r)[n],s=i.getComputedStyle(o)[n],u=t(a),h=t(s),p=Number.POSITIVE_INFINITY;return u||h?Math.min(u?e(a,r,l):p,h?e(s,o,l):p):"none"}helpers.configMerge=function(){return helpers.merge(helpers.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(e,t,r,n){var l=t[e]||{},i=r[e];"scales"===e?t[e]=helpers.scaleMerge(l,i):"scale"===e?t[e]=helpers.merge(l,[scaleService.getScaleDefaults(i.type),i]):helpers._merger(e,t,r,n)}})},helpers.scaleMerge=function(){return helpers.merge(helpers.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(e,t,r,n){if("xAxes"===e||"yAxes"===e){var l,i,o,a=r[e].length;for(t[e]||(t[e]=[]),l=0;l<a;++l)o=r[e][l],i=helpers.valueOrDefault(o.type,"xAxes"===e?"category":"linear"),l>=t[e].length&&t[e].push({}),!t[e][l].type||o.type&&o.type!==t[e][l].type?helpers.merge(t[e][l],[scaleService.getScaleDefaults(i),o]):helpers.merge(t[e][l],o)}else helpers._merger(e,t,r,n)}})},helpers.where=function(e,t){if(helpers.isArray(e)&&Array.prototype.filter)return e.filter(t);var r=[];return helpers.each(e,function(e){t(e)&&r.push(e)}),r},helpers.findIndex=Array.prototype.findIndex?function(e,t,r){return e.findIndex(t,r)}:function(e,t,r){r=void 0===r?e:r;for(var n=0,l=e.length;n<l;++n)if(t.call(r,e[n],n,e))return n;return-1},helpers.findNextWhere=function(e,t,r){helpers.isNullOrUndef(r)&&(r=-1);for(var n=r+1;n<e.length;n++){var l=e[n];if(t(l))return l}},helpers.findPreviousWhere=function(e,t,r){helpers.isNullOrUndef(r)&&(r=e.length);for(var n=r-1;n>=0;n--){var l=e[n];if(t(l))return l}},helpers.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},helpers.almostEquals=function(e,t,r){return Math.abs(e-t)<r},helpers.almostWhole=function(e,t){var r=Math.round(e);return r-t<e&&r+t>e},helpers.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},helpers.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},helpers.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return e=+e,0===e||isNaN(e)?e:e>0?1:-1},helpers.log10=Math.log10?function(e){return Math.log10(e)}:function(e){var t=Math.log(e)*Math.LOG10E,r=Math.round(t),n=e===Math.pow(10,r);return n?r:t},helpers.toRadians=function(e){return e*(Math.PI/180)},helpers.toDegrees=function(e){return e*(180/Math.PI)},helpers.getAngleFromPoint=function(e,t){var r=t.x-e.x,n=t.y-e.y,l=Math.sqrt(r*r+n*n),i=Math.atan2(n,r);return i<-.5*Math.PI&&(i+=2*Math.PI),{angle:i,distance:l}},helpers.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},helpers.aliasPixel=function(e){return e%2===0?0:.5},helpers.splineCurve=function(e,t,r,n){var l=e.skip?t:e,i=t,o=r.skip?t:r,a=Math.sqrt(Math.pow(i.x-l.x,2)+Math.pow(i.y-l.y,2)),s=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),u=a/(a+s),h=s/(a+s);u=isNaN(u)?0:u,h=isNaN(h)?0:h;var p=n*u,c=n*h;return{previous:{x:i.x-p*(o.x-l.x),y:i.y-p*(o.y-l.y)},next:{x:i.x+c*(o.x-l.x),y:i.y+c*(o.y-l.y)}}},helpers.EPSILON=Number.EPSILON||1e-14,helpers.splineCurveMonotone=function(e){var t,r,n,l,i=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),o=i.length;for(t=0;t<o;++t)if(n=i[t],!n.model.skip){if(r=t>0?i[t-1]:null,l=t<o-1?i[t+1]:null,l&&!l.model.skip){var a=l.model.x-n.model.x;n.deltaK=0!==a?(l.model.y-n.model.y)/a:0}!r||r.model.skip?n.mK=n.deltaK:!l||l.model.skip?n.mK=r.deltaK:this.sign(r.deltaK)!==this.sign(n.deltaK)?n.mK=0:n.mK=(r.deltaK+n.deltaK)/2}var s,u,h,p;for(t=0;t<o-1;++t)n=i[t],l=i[t+1],n.model.skip||l.model.skip||(helpers.almostEquals(n.deltaK,0,this.EPSILON)?n.mK=l.mK=0:(s=n.mK/n.deltaK,u=l.mK/n.deltaK,p=Math.pow(s,2)+Math.pow(u,2),p<=9||(h=3/Math.sqrt(p),n.mK=s*h*n.deltaK,l.mK=u*h*n.deltaK)));var c;for(t=0;t<o;++t)n=i[t],n.model.skip||(r=t>0?i[t-1]:null,l=t<o-1?i[t+1]:null,r&&!r.model.skip&&(c=(n.model.x-r.model.x)/3,n.model.controlPointPreviousX=n.model.x-c,n.model.controlPointPreviousY=n.model.y-c*n.mK),l&&!l.model.skip&&(c=(l.model.x-n.model.x)/3,n.model.controlPointNextX=n.model.x+c,n.model.controlPointNextY=n.model.y+c*n.mK))},helpers.nextItem=function(e,t,r){return r?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},helpers.previousItem=function(e,t,r){return r?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},helpers.niceNum=function(e,t){var r,n=Math.floor(helpers.log10(e)),l=e/Math.pow(10,n);return r=t?l<1.5?1:l<3?2:l<7?5:10:l<=1?1:l<=2?2:l<=5?5:10,r*Math.pow(10,n)},helpers.requestAnimFrame=function(){return"undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),helpers.getRelativePosition=function(e,t){var r,n,l=e.originalEvent||e,i=e.target||e.srcElement,o=i.getBoundingClientRect(),a=l.touches;a&&a.length>0?(r=a[0].clientX,n=a[0].clientY):(r=l.clientX,n=l.clientY);var s=parseFloat(helpers.getStyle(i,"padding-left")),u=parseFloat(helpers.getStyle(i,"padding-top")),h=parseFloat(helpers.getStyle(i,"padding-right")),p=parseFloat(helpers.getStyle(i,"padding-bottom")),c=o.right-o.left-s-h,d=o.bottom-o.top-u-p;return r=Math.round((r-o.left-s)/c*i.width/t.currentDevicePixelRatio),n=Math.round((n-o.top-u)/d*i.height/t.currentDevicePixelRatio),{x:r,y:n}},helpers.getConstraintWidth=function(e){return r(e,"max-width","clientWidth")},helpers.getConstraintHeight=function(e){return r(e,"max-height","clientHeight")},helpers._calculatePadding=function(e,t,r){return t=helpers.getStyle(e,t),t.indexOf("%")>-1?r/parseInt(t,10):parseInt(t,10)},helpers._getParentNode=function(e){var t=e.parentNode;return t&&t.host&&(t=t.host),t},helpers.getMaximumWidth=function(e){var t=helpers._getParentNode(e);if(!t)return e.clientWidth;var r=t.clientWidth,n=helpers._calculatePadding(t,"padding-left",r),l=helpers._calculatePadding(t,"padding-right",r),i=r-n-l,o=helpers.getConstraintWidth(e);return isNaN(o)?i:Math.min(i,o)},helpers.getMaximumHeight=function(e){var t=helpers._getParentNode(e);if(!t)return e.clientHeight;var r=t.clientHeight,n=helpers._calculatePadding(t,"padding-top",r),l=helpers._calculatePadding(t,"padding-bottom",r),i=r-n-l,o=helpers.getConstraintHeight(e);return isNaN(o)?i:Math.min(i,o)},helpers.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},helpers.retinaScale=function(e,t){var r=e.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==r){var n=e.canvas,l=e.height,i=e.width;n.height=l*r,n.width=i*r,e.ctx.scale(r,r),n.style.height||n.style.width||(n.style.height=l+"px",n.style.width=i+"px")}},helpers.fontString=function(e,t,r){return t+" "+e+"px "+r},helpers.longestText=function(e,t,r,n){n=n||{};var l=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(l=n.data={},i=n.garbageCollect=[],n.font=t),e.font=t;var o=0;helpers.each(r,function(t){void 0!==t&&null!==t&&helpers.isArray(t)!==!0?o=helpers.measureText(e,l,i,o,t):helpers.isArray(t)&&helpers.each(t,function(t){void 0===t||null===t||helpers.isArray(t)||(o=helpers.measureText(e,l,i,o,t))})});var a=i.length/2;if(a>r.length){for(var s=0;s<a;s++)delete l[i[s]];i.splice(0,a)}return o},helpers.measureText=function(e,t,r,n,l){var i=t[l];return i||(i=t[l]=e.measureText(l).width,r.push(l)),i>n&&(n=i),n},helpers.numberOfLabelLines=function(e){var t=1;return helpers.each(e,function(e){helpers.isArray(e)&&e.length>t&&(t=e.length)}),t},helpers.color=color?function(e){return e instanceof CanvasGradient&&(e=defaults.global.defaultColor),color(e)}:function(e){return console.error("Color.js not found!"),e},helpers.getHoverColor=function(e){return e instanceof CanvasPattern?e:helpers.color(e).saturate(.5).darken(.1).rgbString()}};
},{"../core/core.scaleService":28,"../helpers/index":40,"./core.defaults":20,"chartjs-color":55}],23:[function(require,module,exports){
"use strict";function getRelativePosition(e,t){return e["native"]?{x:e.x,y:e.y}:helpers.getRelativePosition(e,t)}function parseVisibleItems(e,t){var i,n,a,s,r,o=e.data.datasets;for(n=0,s=o.length;n<s;++n)if(e.isDatasetVisible(n))for(i=e.getDatasetMeta(n),a=0,r=i.data.length;a<r;++a){var u=i.data[a];u._view.skip||t(u)}}function getIntersectItems(e,t){var i=[];return parseVisibleItems(e,function(e){e.inRange(t.x,t.y)&&i.push(e)}),i}function getNearestItems(e,t,i,n){var a=Number.POSITIVE_INFINITY,s=[];return parseVisibleItems(e,function(e){if(!i||e.inRange(t.x,t.y)){var r=e.getCenterPoint(),o=n(t,r);o<a?(s=[e],a=o):o===a&&s.push(e)}}),s}function getDistanceMetricForAxis(e){var t=e.indexOf("x")!==-1,i=e.indexOf("y")!==-1;return function(e,n){var a=t?Math.abs(e.x-n.x):0,s=i?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function indexMode(e,t,i){var n=getRelativePosition(t,e);i.axis=i.axis||"x";var a=getDistanceMetricForAxis(i.axis),s=i.intersect?getIntersectItems(e,n):getNearestItems(e,n,!1,a),r=[];return s.length?(e.data.datasets.forEach(function(t,i){if(e.isDatasetVisible(i)){var n=e.getDatasetMeta(i),a=n.data[s[0]._index];a&&!a._view.skip&&r.push(a)}}),r):[]}var helpers=require("../helpers/index");module.exports={modes:{single:function(e,t){var i=getRelativePosition(t,e),n=[];return parseVisibleItems(e,function(e){if(e.inRange(i.x,i.y))return n.push(e),n}),n.slice(0,1)},label:indexMode,index:indexMode,dataset:function(e,t,i){var n=getRelativePosition(t,e);i.axis=i.axis||"xy";var a=getDistanceMetricForAxis(i.axis),s=i.intersect?getIntersectItems(e,n):getNearestItems(e,n,!1,a);return s.length>0&&(s=e.getDatasetMeta(s[0]._datasetIndex).data),s},"x-axis":function(e,t){return indexMode(e,t,{intersect:!1})},point:function(e,t){var i=getRelativePosition(t,e);return getIntersectItems(e,i)},nearest:function(e,t,i){var n=getRelativePosition(t,e);i.axis=i.axis||"xy";var a=getDistanceMetricForAxis(i.axis),s=getNearestItems(e,n,i.intersect,a);return s.length>1&&s.sort(function(e,t){var i=e.getArea(),n=t.getArea(),a=i-n;return 0===a&&(a=e._datasetIndex-t._datasetIndex),a}),s.slice(0,1)},x:function(e,t,i){var n=getRelativePosition(t,e),a=[],s=!1;return parseVisibleItems(e,function(e){e.inXRange(n.x)&&a.push(e),e.inRange(n.x,n.y)&&(s=!0)}),i.intersect&&!s&&(a=[]),a},y:function(e,t,i){var n=getRelativePosition(t,e),a=[],s=!1;return parseVisibleItems(e,function(e){e.inYRange(n.y)&&a.push(e),e.inRange(n.x,n.y)&&(s=!0)}),i.intersect&&!s&&(a=[]),a}}};
},{"../helpers/index":40}],24:[function(require,module,exports){
"use strict";var defaults=require("./core.defaults");defaults._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),module.exports=function(){var t=function(t,e){return this.construct(t,e),this};return t.Chart=t,t};
},{"./core.defaults":20}],25:[function(require,module,exports){
"use strict";function filterByPosition(t,e){return helpers.where(t,function(t){return t.position===e})}function sortByWeight(t,e){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,i){var h=e?i:t,o=e?t:i;return h.weight===o.weight?h._tmpIndex_-o._tmpIndex_:h.weight-o.weight}),t.forEach(function(t){delete t._tmpIndex_})}var helpers=require("../helpers/index");module.exports={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var i=t.boxes?t.boxes.indexOf(e):-1;i!==-1&&t.boxes.splice(i,1)},configure:function(t,e,i){for(var h,o=["fullWidth","position","weight"],n=o.length,r=0;r<n;++r)h=o[r],i.hasOwnProperty(h)&&(e[h]=i[h])},update:function(t,e,i){function h(t){var e,i=t.isHorizontal();i?(e=t.update(t.fullWidth?b:P,B),M-=e.height):(e=t.update(y,M),P-=e.width),_.push({horizontal:i,minSize:e,box:t})}function o(t){var e=helpers.findNextWhere(_,function(e){return e.box===t});if(e)if(t.isHorizontal()){var i={left:Math.max(S,z),right:Math.max(E,A),top:0,bottom:0};t.update(t.fullWidth?b:P,v/2,i)}else t.update(e.minSize.width,M)}function n(t){var e=helpers.findNextWhere(_,function(e){return e.box===t}),i={left:0,right:0,top:N,bottom:O};e&&t.update(e.minSize.width,M,i)}function r(t){t.isHorizontal()?(t.left=t.fullWidth?l:S,t.right=t.fullWidth?e-f:S+P,t.top=F,t.bottom=F+t.height,F=t.bottom):(t.left=D,t.right=D+t.width,t.top=N,t.bottom=N+M,D=t.right)}if(t){var a=t.options.layout||{},c=helpers.options.toPadding(a.padding),l=c.left,f=c.right,s=c.top,p=c.bottom,u=filterByPosition(t.boxes,"left"),d=filterByPosition(t.boxes,"right"),g=filterByPosition(t.boxes,"top"),x=filterByPosition(t.boxes,"bottom"),m=filterByPosition(t.boxes,"chartArea");sortByWeight(u,!0),sortByWeight(d,!1),sortByWeight(g,!0),sortByWeight(x,!1);var b=e-l-f,v=i-s-p,w=b/2,W=v/2,y=(e-w)/(u.length+d.length),B=(i-W)/(g.length+x.length),P=b,M=v,_=[];helpers.each(u.concat(d,g,x),h);var z=0,A=0,I=0,H=0;helpers.each(g.concat(x),function(t){if(t.getPadding){var e=t.getPadding();z=Math.max(z,e.left),A=Math.max(A,e.right)}}),helpers.each(u.concat(d),function(t){if(t.getPadding){var e=t.getPadding();I=Math.max(I,e.top),H=Math.max(H,e.bottom)}});var S=l,E=f,N=s,O=p;helpers.each(u.concat(d),o),helpers.each(u,function(t){S+=t.width}),helpers.each(d,function(t){E+=t.width}),helpers.each(g.concat(x),o),helpers.each(g,function(t){N+=t.height}),helpers.each(x,function(t){O+=t.height}),helpers.each(u.concat(d),n),S=l,E=f,N=s,O=p,helpers.each(u,function(t){S+=t.width}),helpers.each(d,function(t){E+=t.width}),helpers.each(g,function(t){N+=t.height}),helpers.each(x,function(t){O+=t.height});var q=Math.max(z-S,0);S+=q,E+=Math.max(A-E,0);var j=Math.max(I-N,0);N+=j,O+=Math.max(H-O,0);var k=i-N-O,C=e-S-E;C===P&&k===M||(helpers.each(u,function(t){t.height=k}),helpers.each(d,function(t){t.height=k}),helpers.each(g,function(t){t.fullWidth||(t.width=C)}),helpers.each(x,function(t){t.fullWidth||(t.width=C)}),M=k,P=C);var D=l+q,F=s+j;helpers.each(u.concat(g),r),D+=P,F+=M,helpers.each(d,r),helpers.each(x,r),t.chartArea={left:S,top:N,right:S+P,bottom:N+M},helpers.each(m,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(P,M)})}}};
},{"../helpers/index":40}],26:[function(require,module,exports){
"use strict";var defaults=require("./core.defaults"),helpers=require("../helpers/index");defaults._set("global",{plugins:{}}),module.exports={_plugins:[],_cacheId:0,register:function(i){var n=this._plugins;[].concat(i).forEach(function(i){n.indexOf(i)===-1&&n.push(i)}),this._cacheId++},unregister:function(i){var n=this._plugins;[].concat(i).forEach(function(i){var t=n.indexOf(i);t!==-1&&n.splice(t,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(i,n,t){var s,e,r,u,c,o=this.descriptors(i),l=o.length;for(s=0;s<l;++s)if(e=o[s],r=e.plugin,c=r[n],"function"==typeof c&&(u=[i].concat(t||[]),u.push(e.options),c.apply(r,u)===!1))return!1;return!0},descriptors:function(i){var n=i.$plugins||(i.$plugins={});if(n.id===this._cacheId)return n.descriptors;var t=[],s=[],e=i&&i.config||{},r=e.options&&e.options.plugins||{};return this._plugins.concat(e.plugins||[]).forEach(function(i){var n=t.indexOf(i);if(n===-1){var e=i.id,u=r[e];u!==!1&&(u===!0&&(u=helpers.clone(defaults.global.plugins[e])),t.push(i),s.push({plugin:i,options:u||{}}))}}),n.descriptors=s,n.id=this._cacheId,s},_invalidate:function(i){delete i.$plugins}};
},{"../helpers/index":40,"./core.defaults":20}],27:[function(require,module,exports){
"use strict";function labelsFromTicks(t){var e,i,o=[];for(e=0,i=t.length;e<i;++e)o.push(t[e].label);return o}function getLineValue(t,e,i){var o=t.getPixelForTick(e);return i&&(o-=0===e?(t.getPixelForTick(1)-o)/2:(o-t.getPixelForTick(e-1))/2),o}function computeTextSize(t,e,i){return helpers.isArray(e)?helpers.longestText(t,i,e):t.measureText(e).width}function parseFontOptions(t){var e=helpers.valueOrDefault,i=defaults.global,o=e(t.fontSize,i.defaultFontSize),a=e(t.fontStyle,i.defaultFontStyle),r=e(t.fontFamily,i.defaultFontFamily);return{size:o,style:a,family:r,font:helpers.fontString(o,a,r)}}function parseLineHeight(t){return helpers.options.toLineHeight(helpers.valueOrDefault(t.lineHeight,1.2),helpers.valueOrDefault(t.fontSize,defaults.global.defaultFontSize))}var defaults=require("./core.defaults"),Element=require("./core.element"),helpers=require("../helpers/index"),Ticks=require("./core.ticks");defaults._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{}}}),module.exports=Element.extend({getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;t.minor===!1&&(t.minor={display:!1}),t.major===!1&&(t.major={display:!1});for(var e in t)"major"!==e&&"minor"!==e&&("undefined"==typeof t.minor[e]&&(t.minor[e]=t[e]),"undefined"==typeof t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){helpers.callback(this.options.beforeUpdate,[this])},update:function(t,e,i){var o,a,r,n,l,s,h=this;for(h.beforeUpdate(),h.maxWidth=t,h.maxHeight=e,h.margins=helpers.extend({left:0,right:0,top:0,bottom:0},i),h.longestTextCache=h.longestTextCache||{},h.beforeSetDimensions(),h.setDimensions(),h.afterSetDimensions(),h.beforeDataLimits(),h.determineDataLimits(),h.afterDataLimits(),h.beforeBuildTicks(),l=h.buildTicks()||[],h.afterBuildTicks(),h.beforeTickToLabelConversion(),r=h.convertTicksToLabels(l)||h.ticks,h.afterTickToLabelConversion(),h.ticks=r,o=0,a=r.length;o<a;++o)n=r[o],s=l[o],s?s.label=n:l.push(s={label:n,major:!1});return h._ticks=l,h.beforeCalculateTickRotation(),h.calculateTickRotation(),h.afterCalculateTickRotation(),h.beforeFit(),h.fit(),h.afterFit(),h.afterUpdate(),h.minSize},afterUpdate:function(){helpers.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){helpers.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){helpers.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){helpers.callback(this.options.beforeDataLimits,[this])},determineDataLimits:helpers.noop,afterDataLimits:function(){helpers.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){helpers.callback(this.options.beforeBuildTicks,[this])},buildTicks:helpers.noop,afterBuildTicks:function(){helpers.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){helpers.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){helpers.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){helpers.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,i=t.options.ticks,o=labelsFromTicks(t._ticks),a=parseFontOptions(i);e.font=a.font;var r=i.minRotation||0;if(o.length&&t.options.display&&t.isHorizontal())for(var n,l,s=helpers.longestText(e,a.font,o,t.longestTextCache),h=s,f=t.getPixelForTick(1)-t.getPixelForTick(0)-6;h>f&&r<i.maxRotation;){var d=helpers.toRadians(r);if(n=Math.cos(d),l=Math.sin(d),l*s>t.maxHeight){r--;break}r++,h=n*s}t.labelRotation=r},afterCalculateTickRotation:function(){helpers.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){helpers.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},i=labelsFromTicks(t._ticks),o=t.options,a=o.ticks,r=o.scaleLabel,n=o.gridLines,l=o.display,s=t.isHorizontal(),h=parseFontOptions(a),f=o.gridLines.tickMarkLength;if(s?e.width=t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:e.width=l&&n.drawTicks?f:0,s?e.height=l&&n.drawTicks?f:0:e.height=t.maxHeight,r.display&&l){var d=parseLineHeight(r),p=helpers.options.toPadding(r.padding),g=d+p.height;s?e.height+=g:e.width+=g}if(a.display&&l){var c=helpers.longestText(t.ctx,h.font,i,t.longestTextCache),u=helpers.numberOfLabelLines(i),m=.5*h.size,b=t.options.ticks.padding;if(s){t.longestLabelWidth=c;var k=helpers.toRadians(t.labelRotation),x=Math.cos(k),T=Math.sin(k),v=T*c+h.size*u+m*(u-1)+m;e.height=Math.min(t.maxHeight,e.height+v+b),t.ctx.font=h.font;var L=computeTextSize(t.ctx,i[0],h.font),D=computeTextSize(t.ctx,i[i.length-1],h.font);0!==t.labelRotation?(t.paddingLeft="bottom"===o.position?x*L+3:x*m+3,t.paddingRight="bottom"===o.position?x*m+3:x*D+3):(t.paddingLeft=L/2+3,t.paddingRight=D/2+3)}else a.mirror?c=0:c+=b+m,e.width=Math.min(t.maxWidth,e.width+c),t.paddingTop=h.size/2,t.paddingBottom=h.size/2}t.handleMargins(),t.width=e.width,t.height=e.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){helpers.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(helpers.isNullOrUndef(t))return NaN;if("number"==typeof t&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:helpers.noop,getPixelForValue:helpers.noop,getValueForPixel:helpers.noop,getPixelForTick:function(t){var e=this,i=e.options.offset;if(e.isHorizontal()){var o=e.width-(e.paddingLeft+e.paddingRight),a=o/Math.max(e._ticks.length-(i?0:1),1),r=a*t+e.paddingLeft;i&&(r+=a/2);var n=e.left+Math.round(r);return n+=e.isFullWidth()?e.margins.left:0}var l=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(l/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var i=e.width-(e.paddingLeft+e.paddingRight),o=i*t+e.paddingLeft,a=e.left+Math.round(o);return a+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,i=t.max;return t.beginAtZero?0:e<0&&i<0?i:e>0&&i>0?e:0},_autoSkip:function(t){var e,i,o,a,r,n=this,l=n.isHorizontal(),s=n.options.ticks.minor,h=t.length,f=helpers.toRadians(n.labelRotation),d=Math.cos(f),p=n.longestLabelWidth*d,g=[];for(s.maxTicksLimit&&(r=s.maxTicksLimit),l&&(e=!1,(p+s.autoSkipPadding)*h>n.width-(n.paddingLeft+n.paddingRight)&&(e=1+Math.floor((p+s.autoSkipPadding)*h/(n.width-(n.paddingLeft+n.paddingRight)))),r&&h>r&&(e=Math.max(e,Math.floor(h/r)))),i=0;i<h;i++)o=t[i],a=e>1&&i%e>0||i%e===0&&i+e>=h,a&&i!==h-1&&delete o.label,g.push(o);return g},draw:function(t){var e=this,i=e.options;if(i.display){var o=e.ctx,a=defaults.global,r=i.ticks.minor,n=i.ticks.major||r,l=i.gridLines,s=i.scaleLabel,h=0!==e.labelRotation,f=e.isHorizontal(),d=r.autoSkip?e._autoSkip(e.getTicks()):e.getTicks(),p=helpers.valueOrDefault(r.fontColor,a.defaultFontColor),g=parseFontOptions(r),c=helpers.valueOrDefault(n.fontColor,a.defaultFontColor),u=parseFontOptions(n),m=l.drawTicks?l.tickMarkLength:0,b=helpers.valueOrDefault(s.fontColor,a.defaultFontColor),k=parseFontOptions(s),x=helpers.options.toPadding(s.padding),T=helpers.toRadians(e.labelRotation),v=[],L=e.options.gridLines.lineWidth,D="right"===i.position?e.left:e.right-L-m,F="right"===i.position?e.left+m:e.right,y="bottom"===i.position?e.top+L:e.bottom-m-L,O="bottom"===i.position?e.top+L+m:e.bottom+L;if(helpers.each(d,function(o,n){if(!helpers.isNullOrUndef(o.label)){var s,p,g,c,u=o.label;n===e.zeroLineIndex&&i.offset===l.offsetGridLines?(s=l.zeroLineWidth,p=l.zeroLineColor,g=l.zeroLineBorderDash,c=l.zeroLineBorderDashOffset):(s=helpers.valueAtIndexOrDefault(l.lineWidth,n),p=helpers.valueAtIndexOrDefault(l.color,n),g=helpers.valueOrDefault(l.borderDash,a.borderDash),c=helpers.valueOrDefault(l.borderDashOffset,a.borderDashOffset));var b,k,x,R,z,S,B,C,P,w,M="middle",W="middle",H=r.padding;if(f){var A=m+H;"bottom"===i.position?(W=h?"middle":"top",M=h?"right":"center",w=e.top+A):(W=h?"middle":"bottom",M=h?"left":"center",w=e.bottom-A);var j=getLineValue(e,n,l.offsetGridLines&&d.length>1);j<e.left&&(p="rgba(0,0,0,0)"),j+=helpers.aliasPixel(s),P=e.getPixelForTick(n)+r.labelOffset,b=x=z=B=j,k=y,R=O,S=t.top,C=t.bottom+L}else{var V,_="left"===i.position;r.mirror?(M=_?"left":"right",V=H):(M=_?"right":"left",V=m+H),P=_?e.right-V:e.left+V;var I=getLineValue(e,n,l.offsetGridLines&&d.length>1);I<e.top&&(p="rgba(0,0,0,0)"),I+=helpers.aliasPixel(s),w=e.getPixelForTick(n)+r.labelOffset,b=D,x=F,z=t.left,B=t.right+L,k=R=S=C=I}v.push({tx1:b,ty1:k,tx2:x,ty2:R,x1:z,y1:S,x2:B,y2:C,labelX:P,labelY:w,glWidth:s,glColor:p,glBorderDash:g,glBorderDashOffset:c,rotation:-1*T,label:u,major:o.major,textBaseline:W,textAlign:M})}}),helpers.each(v,function(t){if(l.display&&(o.save(),o.lineWidth=t.glWidth,o.strokeStyle=t.glColor,o.setLineDash&&(o.setLineDash(t.glBorderDash),o.lineDashOffset=t.glBorderDashOffset),o.beginPath(),l.drawTicks&&(o.moveTo(t.tx1,t.ty1),o.lineTo(t.tx2,t.ty2)),l.drawOnChartArea&&(o.moveTo(t.x1,t.y1),o.lineTo(t.x2,t.y2)),o.stroke(),o.restore()),r.display){o.save(),o.translate(t.labelX,t.labelY),o.rotate(t.rotation),o.font=t.major?u.font:g.font,o.fillStyle=t.major?c:p,o.textBaseline=t.textBaseline,o.textAlign=t.textAlign;var i=t.label;if(helpers.isArray(i))for(var a=i.length,n=1.5*g.size,s=e.isHorizontal()?0:-n*(a-1)/2,h=0;h<a;++h)o.fillText(""+i[h],0,s),s+=n;else o.fillText(i,0,0);o.restore()}}),s.display){var R,z,S=0,B=parseLineHeight(s)/2;if(f)R=e.left+(e.right-e.left)/2,z="bottom"===i.position?e.bottom-B-x.bottom:e.top+B+x.top;else{var C="left"===i.position;R=C?e.left+B+x.top:e.right-B-x.top,z=e.top+(e.bottom-e.top)/2,S=C?-.5*Math.PI:.5*Math.PI}o.save(),o.translate(R,z),o.rotate(S),o.textAlign="center",o.textBaseline="middle",o.fillStyle=b,o.font=k.font,o.fillText(s.labelString,0,0),o.restore()}if(l.drawBorder){o.lineWidth=helpers.valueAtIndexOrDefault(l.lineWidth,0),o.strokeStyle=helpers.valueAtIndexOrDefault(l.color,0);var P=e.left,w=e.right+L,M=e.top,W=e.bottom+L,H=helpers.aliasPixel(o.lineWidth);f?(M=W="top"===i.position?e.bottom:e.top,M+=H,W+=H):(P=w="left"===i.position?e.right:e.left,P+=H,w+=H),o.beginPath(),o.moveTo(P,M),o.lineTo(w,W),o.stroke()}}}});
},{"../helpers/index":40,"./core.defaults":20,"./core.element":21,"./core.ticks":29}],28:[function(require,module,exports){
"use strict";var defaults=require("./core.defaults"),helpers=require("../helpers/index"),layouts=require("./core.layouts");module.exports={constructors:{},defaults:{},registerScaleType:function(e,t,s){this.constructors[e]=t,this.defaults[e]=helpers.clone(s)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?helpers.merge({},[defaults.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){var s=this;s.defaults.hasOwnProperty(e)&&(s.defaults[e]=helpers.extend(s.defaults[e],t))},addScalesToLayout:function(e){helpers.each(e.scales,function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,layouts.addBox(e,t)})}};
},{"../helpers/index":40,"./core.defaults":20,"./core.layouts":25}],29:[function(require,module,exports){
"use strict";var helpers=require("../helpers/index");module.exports={formatters:{values:function(a){return helpers.isArray(a)?a:""+a},linear:function(a,e,r){var t=r.length>3?r[2]-r[1]:r[1]-r[0];Math.abs(t)>1&&a!==Math.floor(a)&&(t=a-Math.floor(a));var o=helpers.log10(Math.abs(t)),l="";if(0!==a){var h=Math.max(Math.abs(r[0]),Math.abs(r[r.length-1]));if(h<1e-4){var n=helpers.log10(Math.abs(a));l=a.toExponential(Math.floor(n)-Math.floor(o))}else{var s=-1*Math.floor(o);s=Math.max(Math.min(s,20),0),l=a.toFixed(s)}}else l="0";return l},logarithmic:function(a,e,r){var t=a/Math.pow(10,Math.floor(helpers.log10(a)));return 0===a?"0":1===t||2===t||5===t||0===e||e===r.length-1?a.toExponential():""}}};
},{"../helpers/index":40}],30:[function(require,module,exports){
"use strict";function mergeOpacity(t,e){var o=helpers.color(t);return o.alpha(e*o.alpha()).rgbaString()}function pushOrConcat(t,e){return e&&(helpers.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function splitNewlines(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function createTooltipItem(t){var e=t._xScale,o=t._yScale||t._scale,r=t._index,i=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(r,i):"",yLabel:o?o.getLabelForIndex(r,i):"",index:r,datasetIndex:i,x:t._model.x,y:t._model.y}}function getBaseModel(t){var e=defaults.global,o=helpers.valueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:o(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:o(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:o(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:o(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:o(t.titleFontStyle,e.defaultFontStyle),titleFontSize:o(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:o(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:o(t.footerFontStyle,e.defaultFontStyle),footerFontSize:o(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function getTooltipSize(t,e){var o=t._chart.ctx,r=2*e.yPadding,i=0,n=e.body,l=n.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);l+=e.beforeBody.length+e.afterBody.length;var a=e.title.length,d=e.footer.length,s=e.titleFontSize,c=e.bodyFontSize,f=e.footerFontSize;r+=a*s,r+=a?(a-1)*e.titleSpacing:0,r+=a?e.titleMarginBottom:0,r+=l*c,r+=l?(l-1)*e.bodySpacing:0,r+=d?e.footerMarginTop:0,r+=d*f,r+=d?(d-1)*e.footerSpacing:0;var h=0,y=function(t){i=Math.max(i,o.measureText(t).width+h)};return o.font=helpers.fontString(s,e._titleFontStyle,e._titleFontFamily),helpers.each(e.title,y),o.font=helpers.fontString(c,e._bodyFontStyle,e._bodyFontFamily),helpers.each(e.beforeBody.concat(e.afterBody),y),h=e.displayColors?c+2:0,helpers.each(n,function(t){helpers.each(t.before,y),helpers.each(t.lines,y),helpers.each(t.after,y)}),h=0,o.font=helpers.fontString(f,e._footerFontStyle,e._footerFontFamily),helpers.each(e.footer,y),i+=2*e.xPadding,{width:i,height:r}}function determineAlignment(t,e){var o=t._model,r=t._chart,i=t._chart.chartArea,n="center",l="center";o.y<e.height?l="top":o.y>r.height-e.height&&(l="bottom");var a,d,s,c,f,h=(i.left+i.right)/2,y=(i.top+i.bottom)/2;"center"===l?(a=function(t){return t<=h},d=function(t){return t>h}):(a=function(t){return t<=e.width/2},d=function(t){return t>=r.width-e.width/2}),s=function(t){return t+e.width+o.caretSize+o.caretPadding>r.width},c=function(t){return t-e.width-o.caretSize-o.caretPadding<0},f=function(t){return t<=y?"top":"bottom"},a(o.x)?(n="left",s(o.x)&&(n="center",l=f(o.y))):d(o.x)&&(n="right",c(o.x)&&(n="center",l=f(o.y)));var g=t._options;return{xAlign:g.xAlign?g.xAlign:n,yAlign:g.yAlign?g.yAlign:l}}function getBackgroundPoint(t,e,o,r){var i=t.x,n=t.y,l=t.caretSize,a=t.caretPadding,d=t.cornerRadius,s=o.xAlign,c=o.yAlign,f=l+a,h=d+a;return"right"===s?i-=e.width:"center"===s&&(i-=e.width/2,i+e.width>r.width&&(i=r.width-e.width),i<0&&(i=0)),"top"===c?n+=f:n-="bottom"===c?e.height+f:e.height/2,"center"===c?"left"===s?i+=f:"right"===s&&(i-=f):"left"===s?i-=h:"right"===s&&(i+=h),{x:i,y:n}}function getBeforeAfterBodyLines(t){return pushOrConcat([],splitNewlines(t))}var defaults=require("./core.defaults"),Element=require("./core.element"),helpers=require("../helpers/index");defaults._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:helpers.noop,title:function(t,e){var o="",r=e.labels,i=r?r.length:0;if(t.length>0){var n=t[0];n.xLabel?o=n.xLabel:i>0&&n.index<i&&(o=r[n.index])}return o},afterTitle:helpers.noop,beforeBody:helpers.noop,beforeLabel:helpers.noop,label:function(t,e){var o=e.datasets[t.datasetIndex].label||"";return o&&(o+=": "),o+=t.yLabel},labelColor:function(t,e){var o=e.getDatasetMeta(t.datasetIndex),r=o.data[t.index],i=r._view;return{borderColor:i.borderColor,backgroundColor:i.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:helpers.noop,afterBody:helpers.noop,beforeFooter:helpers.noop,footer:helpers.noop,afterFooter:helpers.noop}}});var positioners={average:function(t){if(!t.length)return!1;var e,o,r=0,i=0,n=0;for(e=0,o=t.length;e<o;++e){var l=t[e];if(l&&l.hasValue()){var a=l.tooltipPosition();r+=a.x,i+=a.y,++n}}return{x:Math.round(r/n),y:Math.round(i/n)}},nearest:function(t,e){var o,r,i,n=e.x,l=e.y,a=Number.POSITIVE_INFINITY;for(o=0,r=t.length;o<r;++o){var d=t[o];if(d&&d.hasValue()){var s=d.getCenterPoint(),c=helpers.distanceBetweenPoints(e,s);c<a&&(a=c,i=d)}}if(i){var f=i.tooltipPosition();n=f.x,l=f.y}return{x:n,y:l}}},exports=module.exports=Element.extend({initialize:function(){this._model=getBaseModel(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,o=e.callbacks,r=o.beforeTitle.apply(t,arguments),i=o.title.apply(t,arguments),n=o.afterTitle.apply(t,arguments),l=[];return l=pushOrConcat(l,splitNewlines(r)),l=pushOrConcat(l,splitNewlines(i)),l=pushOrConcat(l,splitNewlines(n))},getBeforeBody:function(){return getBeforeAfterBodyLines(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var o=this,r=o._options.callbacks,i=[];return helpers.each(t,function(t){var n={before:[],lines:[],after:[]};pushOrConcat(n.before,splitNewlines(r.beforeLabel.call(o,t,e))),pushOrConcat(n.lines,r.label.call(o,t,e)),pushOrConcat(n.after,splitNewlines(r.afterLabel.call(o,t,e))),i.push(n)}),i},getAfterBody:function(){return getBeforeAfterBodyLines(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,o=e.beforeFooter.apply(t,arguments),r=e.footer.apply(t,arguments),i=e.afterFooter.apply(t,arguments),n=[];return n=pushOrConcat(n,splitNewlines(o)),n=pushOrConcat(n,splitNewlines(r)),n=pushOrConcat(n,splitNewlines(i))},update:function(t){var e,o,r=this,i=r._options,n=r._model,l=r._model=getBaseModel(i),a=r._active,d=r._data,s={xAlign:n.xAlign,yAlign:n.yAlign},c={x:n.x,y:n.y},f={width:n.width,height:n.height},h={x:n.caretX,y:n.caretY};if(a.length){l.opacity=1;var y=[],g=[];h=positioners[i.position].call(r,a,r._eventPosition);var p=[];for(e=0,o=a.length;e<o;++e)p.push(createTooltipItem(a[e]));i.filter&&(p=p.filter(function(t){return i.filter(t,d)})),i.itemSort&&(p=p.sort(function(t,e){return i.itemSort(t,e,d)})),helpers.each(p,function(t){y.push(i.callbacks.labelColor.call(r,t,r._chart)),g.push(i.callbacks.labelTextColor.call(r,t,r._chart))}),l.title=r.getTitle(p,d),l.beforeBody=r.getBeforeBody(p,d),l.body=r.getBody(p,d),l.afterBody=r.getAfterBody(p,d),l.footer=r.getFooter(p,d),l.x=Math.round(h.x),l.y=Math.round(h.y),l.caretPadding=i.caretPadding,l.labelColors=y,l.labelTextColors=g,l.dataPoints=p,f=getTooltipSize(this,l),s=determineAlignment(this,f),c=getBackgroundPoint(l,f,s,r._chart)}else l.opacity=0;return l.xAlign=s.xAlign,l.yAlign=s.yAlign,l.x=c.x,l.y=c.y,l.width=f.width,l.height=f.height,l.caretX=h.x,l.caretY=h.y,r._model=l,t&&i.custom&&i.custom.call(r,l),r},drawCaret:function(t,e){var o=this._chart.ctx,r=this._view,i=this.getCaretPosition(t,e,r);o.lineTo(i.x1,i.y1),o.lineTo(i.x2,i.y2),o.lineTo(i.x3,i.y3)},getCaretPosition:function(t,e,o){var r,i,n,l,a,d,s=o.caretSize,c=o.cornerRadius,f=o.xAlign,h=o.yAlign,y=t.x,g=t.y,p=e.width,u=e.height;if("center"===h)a=g+u/2,"left"===f?(r=y,i=r-s,n=r,l=a+s,d=a-s):(r=y+p,i=r+s,n=r,l=a-s,d=a+s);else if("left"===f?(i=y+c+s,r=i-s,n=i+s):"right"===f?(i=y+p-c-s,r=i-s,n=i+s):(i=o.caretX,r=i-s,n=i+s),"top"===h)l=g,a=l-s,d=l;else{l=g+u,a=l+s,d=l;var b=n;n=r,r=b}return{x1:r,x2:i,x3:n,y1:l,y2:a,y3:d}},drawTitle:function(t,e,o,r){var i=e.title;if(i.length){o.textAlign=e._titleAlign,o.textBaseline="top";var n=e.titleFontSize,l=e.titleSpacing;o.fillStyle=mergeOpacity(e.titleFontColor,r),o.font=helpers.fontString(n,e._titleFontStyle,e._titleFontFamily);var a,d;for(a=0,d=i.length;a<d;++a)o.fillText(i[a],t.x,t.y),t.y+=n+l,a+1===i.length&&(t.y+=e.titleMarginBottom-l)}},drawBody:function(t,e,o,r){var i=e.bodyFontSize,n=e.bodySpacing,l=e.body;o.textAlign=e._bodyAlign,o.textBaseline="top",o.font=helpers.fontString(i,e._bodyFontStyle,e._bodyFontFamily);var a=0,d=function(e){o.fillText(e,t.x+a,t.y),t.y+=i+n};o.fillStyle=mergeOpacity(e.bodyFontColor,r),helpers.each(e.beforeBody,d);var s=e.displayColors;a=s?i+2:0,helpers.each(l,function(n,l){var a=mergeOpacity(e.labelTextColors[l],r);o.fillStyle=a,helpers.each(n.before,d),helpers.each(n.lines,function(n){s&&(o.fillStyle=mergeOpacity(e.legendColorBackground,r),o.fillRect(t.x,t.y,i,i),o.lineWidth=1,o.strokeStyle=mergeOpacity(e.labelColors[l].borderColor,r),o.strokeRect(t.x,t.y,i,i),o.fillStyle=mergeOpacity(e.labelColors[l].backgroundColor,r),o.fillRect(t.x+1,t.y+1,i-2,i-2),o.fillStyle=a),d(n)}),helpers.each(n.after,d)}),a=0,helpers.each(e.afterBody,d),t.y-=n},drawFooter:function(t,e,o,r){var i=e.footer;i.length&&(t.y+=e.footerMarginTop,o.textAlign=e._footerAlign,o.textBaseline="top",o.fillStyle=mergeOpacity(e.footerFontColor,r),o.font=helpers.fontString(e.footerFontSize,e._footerFontStyle,e._footerFontFamily),helpers.each(i,function(r){o.fillText(r,t.x,t.y),t.y+=e.footerFontSize+e.footerSpacing}))},drawBackground:function(t,e,o,r,i){o.fillStyle=mergeOpacity(e.backgroundColor,i),o.strokeStyle=mergeOpacity(e.borderColor,i),o.lineWidth=e.borderWidth;var n=e.xAlign,l=e.yAlign,a=t.x,d=t.y,s=r.width,c=r.height,f=e.cornerRadius;o.beginPath(),o.moveTo(a+f,d),"top"===l&&this.drawCaret(t,r),o.lineTo(a+s-f,d),o.quadraticCurveTo(a+s,d,a+s,d+f),"center"===l&&"right"===n&&this.drawCaret(t,r),o.lineTo(a+s,d+c-f),o.quadraticCurveTo(a+s,d+c,a+s-f,d+c),"bottom"===l&&this.drawCaret(t,r),o.lineTo(a+f,d+c),o.quadraticCurveTo(a,d+c,a,d+c-f),"center"===l&&"left"===n&&this.drawCaret(t,r),o.lineTo(a,d+f),o.quadraticCurveTo(a,d,a+f,d),o.closePath(),o.fill(),e.borderWidth>0&&o.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var o={width:e.width,height:e.height},r={x:e.x,y:e.y},i=Math.abs(e.opacity<.001)?0:e.opacity,n=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&n&&(this.drawBackground(r,e,t,o,i),r.x+=e.xPadding,r.y+=e.yPadding,this.drawTitle(r,e,t,i),this.drawBody(r,e,t,i),this.drawFooter(r,e,t,i))}},handleEvent:function(t){var e=this,o=e._options,r=!1;return e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:e._active=e._chart.getElementsAtEventForMode(t,o.mode,o),r=!helpers.arrayEquals(e._active,e._lastActive),r&&(e._lastActive=e._active,(o.enabled||o.custom)&&(e._eventPosition={x:t.x,y:t.y},e.update(!0),e.pivot())),r}});exports.positioners=positioners;
},{"../helpers/index":40,"./core.defaults":20,"./core.element":21}],31:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),Element=require("../core/core.element"),helpers=require("../helpers/index");defaults._set("global",{elements:{arc:{backgroundColor:defaults.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),module.exports=Element.extend({inLabelRange:function(e){var r=this._view;return!!r&&Math.pow(e-r.x,2)<Math.pow(r.radius+r.hoverRadius,2)},inRange:function(e,r){var t=this._view;if(t){for(var n=helpers.getAngleFromPoint(t,{x:e,y:r}),i=n.angle,a=n.distance,o=t.startAngle,l=t.endAngle;l<o;)l+=2*Math.PI;for(;i>l;)i-=2*Math.PI;for(;i<o;)i+=2*Math.PI;var s=i>=o&&i<=l,u=a>=t.innerRadius&&a<=t.outerRadius;return s&&u}return!1},getCenterPoint:function(){var e=this._view,r=(e.startAngle+e.endAngle)/2,t=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(r)*t,y:e.y+Math.sin(r)*t}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,r=e.startAngle+(e.endAngle-e.startAngle)/2,t=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(r)*t,y:e.y+Math.sin(r)*t}},draw:function(){var e=this._chart.ctx,r=this._view,t=r.startAngle,n=r.endAngle;e.beginPath(),e.arc(r.x,r.y,r.outerRadius,t,n),e.arc(r.x,r.y,r.innerRadius,n,t,!0),e.closePath(),e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,e.fill(),e.lineJoin="bevel",r.borderWidth&&e.stroke()}});
},{"../core/core.defaults":20,"../core/core.element":21,"../helpers/index":40}],32:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),Element=require("../core/core.element"),helpers=require("../helpers/index"),globalDefaults=defaults.global;defaults._set("global",{elements:{line:{tension:.4,backgroundColor:globalDefaults.defaultColor,borderWidth:3,borderColor:globalDefaults.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),module.exports=Element.extend({draw:function(){var e,r,l,o,t=this,s=t._view,a=t._chart.ctx,i=s.spanGaps,d=t._children.slice(),n=globalDefaults.elements.line,b=-1;for(t._loop&&d.length&&d.push(d[0]),a.save(),a.lineCap=s.borderCapStyle||n.borderCapStyle,a.setLineDash&&a.setLineDash(s.borderDash||n.borderDash),a.lineDashOffset=s.borderDashOffset||n.borderDashOffset,a.lineJoin=s.borderJoinStyle||n.borderJoinStyle,a.lineWidth=s.borderWidth||n.borderWidth,a.strokeStyle=s.borderColor||globalDefaults.defaultColor,a.beginPath(),b=-1,e=0;e<d.length;++e)r=d[e],l=helpers.previousItem(d,e),o=r._view,0===e?o.skip||(a.moveTo(o.x,o.y),b=e):(l=b===-1?l:d[b],o.skip||(b!==e-1&&!i||b===-1?a.moveTo(o.x,o.y):helpers.canvas.lineTo(a,l._view,r._view),b=e));a.stroke(),a.restore()}});
},{"../core/core.defaults":20,"../core/core.element":21,"../helpers/index":40}],33:[function(require,module,exports){
"use strict";function xRange(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}function yRange(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius}var defaults=require("../core/core.defaults"),Element=require("../core/core.element"),helpers=require("../helpers/index"),defaultColor=defaults.global.defaultColor;defaults._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:defaultColor,borderColor:defaultColor,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),module.exports=Element.extend({inRange:function(e,t){var r=this._view;return!!r&&Math.pow(e-r.x,2)+Math.pow(t-r.y,2)<Math.pow(r.hitRadius+r.radius,2)},inLabelRange:xRange,inXRange:xRange,inYRange:yRange,getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,r=this._model,i=this._chart.ctx,o=t.pointStyle,a=t.rotation,n=t.radius,l=t.x,d=t.y,u=1.01;t.skip||(void 0===e||r.x>=e.left&&e.right*u>=r.x&&r.y>=e.top&&e.bottom*u>=r.y)&&(i.strokeStyle=t.borderColor||defaultColor,i.lineWidth=helpers.valueOrDefault(t.borderWidth,defaults.global.elements.point.borderWidth),i.fillStyle=t.backgroundColor||defaultColor,helpers.canvas.drawPoint(i,o,n,l,d,a))}});
},{"../core/core.defaults":20,"../core/core.element":21,"../helpers/index":40}],34:[function(require,module,exports){
"use strict";function isVertical(t){return void 0!==t._view.width}function getBarBounds(t){var e,r,i,o,a=t._view;if(isVertical(t)){var n=a.width/2;e=a.x-n,r=a.x+n,i=Math.min(a.y,a.base),o=Math.max(a.y,a.base)}else{var l=a.height/2;e=Math.min(a.x,a.base),r=Math.max(a.x,a.base),i=a.y-l,o=a.y+l}return{left:e,top:i,right:r,bottom:o}}var defaults=require("../core/core.defaults"),Element=require("../core/core.element");defaults._set("global",{elements:{rectangle:{backgroundColor:defaults.global.defaultColor,borderColor:defaults.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),module.exports=Element.extend({draw:function(){function t(t){return m[(y+t)%4]}var e,r,i,o,a,n,l,s=this._chart.ctx,h=this._view,u=h.borderWidth;if(h.horizontal?(e=h.base,r=h.x,i=h.y-h.height/2,o=h.y+h.height/2,a=r>e?1:-1,n=1,l=h.borderSkipped||"left"):(e=h.x-h.width/2,r=h.x+h.width/2,i=h.y,o=h.base,a=1,n=o>i?1:-1,l=h.borderSkipped||"bottom"),u){var d=Math.min(Math.abs(e-r),Math.abs(i-o));u=u>d?d:u;var b=u/2,f=e+("left"!==l?b*a:0),v=r+("right"!==l?-b*a:0),g=i+("top"!==l?b*n:0),c=o+("bottom"!==l?-b*n:0);f!==v&&(i=g,o=c),g!==c&&(e=f,r=v)}s.beginPath(),s.fillStyle=h.backgroundColor,s.strokeStyle=h.borderColor,s.lineWidth=u;var m=[[e,o],[e,i],[r,i],[r,o]],x=["bottom","left","top","right"],y=x.indexOf(l,0);y===-1&&(y=0);var w=t(0);s.moveTo(w[0],w[1]);for(var p=1;p<4;p++)w=t(p),s.lineTo(w[0],w[1]);s.fill(),u&&s.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var r=!1;if(this._view){var i=getBarBounds(this);r=t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom}return r},inLabelRange:function(t,e){var r=this;if(!r._view)return!1;var i=!1,o=getBarBounds(r);return i=isVertical(r)?t>=o.left&&t<=o.right:e>=o.top&&e<=o.bottom},inXRange:function(t){var e=getBarBounds(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=getBarBounds(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,r=this._view;return isVertical(this)?(t=r.x,e=(r.y+r.base)/2):(t=(r.x+r.base)/2,e=r.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}});
},{"../core/core.defaults":20,"../core/core.element":21}],35:[function(require,module,exports){
"use strict";module.exports={},module.exports.Arc=require("./element.arc"),module.exports.Line=require("./element.line"),module.exports.Point=require("./element.point"),module.exports.Rectangle=require("./element.rectangle");
},{"./element.arc":31,"./element.line":32,"./element.point":33,"./element.rectangle":34}],36:[function(require,module,exports){
"use strict";var helpers=require("./helpers.core"),exports=module.exports={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,o,t,r,n,i){if(i){var a=1e-7,c=Math.min(i,n/2-a,r/2-a);e.moveTo(o+c,t),e.lineTo(o+r-c,t),e.arcTo(o+r,t,o+r,t+c,c),e.lineTo(o+r,t+n-c),e.arcTo(o+r,t+n,o+r-c,t+n,c),e.lineTo(o+c,t+n),e.arcTo(o,t+n,o,t+n-c,c),e.lineTo(o,t+c),e.arcTo(o,t,o+c,t,c),e.closePath(),e.moveTo(o,t)}else e.rect(o,t,r,n)},drawPoint:function(e,o,t,r,n,i){var a,c,l,s,T,h;if(i=i||0,o&&"object"==typeof o&&(a=o.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return void e.drawImage(o,r-o.width/2,n-o.height/2,o.width,o.height);if(!(isNaN(t)||t<=0)){switch(e.save(),e.translate(r,n),e.rotate(i*Math.PI/180),e.beginPath(),o){default:e.arc(0,0,t,0,2*Math.PI),e.closePath();break;case"triangle":c=3*t/Math.sqrt(3),T=c*Math.sqrt(3)/2,e.moveTo(-c/2,T/3),e.lineTo(c/2,T/3),e.lineTo(0,-2*T/3),e.closePath();break;case"rect":h=1/Math.SQRT2*t,e.rect(-h,-h,2*h,2*h);break;case"rectRounded":var v=t/Math.SQRT2,d=-v,P=-v,u=Math.SQRT2*t;this.roundedRect(e,d,P,u,u,.425*t);break;case"rectRot":h=1/Math.SQRT2*t,e.moveTo(-h,0),e.lineTo(0,h),e.lineTo(h,0),e.lineTo(0,-h),e.closePath();break;case"cross":e.moveTo(0,t),e.lineTo(0,-t),e.moveTo(-t,0),e.lineTo(t,0);break;case"crossRot":l=Math.cos(Math.PI/4)*t,s=Math.sin(Math.PI/4)*t,e.moveTo(-l,-s),e.lineTo(l,s),e.moveTo(-l,s),e.lineTo(l,-s);break;case"star":e.moveTo(0,t),e.lineTo(0,-t),e.moveTo(-t,0),e.lineTo(t,0),l=Math.cos(Math.PI/4)*t,s=Math.sin(Math.PI/4)*t,e.moveTo(-l,-s),e.lineTo(l,s),e.moveTo(-l,s),e.lineTo(l,-s);break;case"line":e.moveTo(-t,0),e.lineTo(t,0);break;case"dash":e.moveTo(0,0),e.lineTo(t,0)}e.fill(),e.stroke(),e.restore()}},clipArea:function(e,o){e.save(),e.beginPath(),e.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,o,t,r){return t.steppedLine?("after"===t.steppedLine&&!r||"after"!==t.steppedLine&&r?e.lineTo(o.x,t.y):e.lineTo(t.x,o.y),void e.lineTo(t.x,t.y)):t.tension?void e.bezierCurveTo(r?o.controlPointPreviousX:o.controlPointNextX,r?o.controlPointPreviousY:o.controlPointNextY,r?t.controlPointNextX:t.controlPointPreviousX,r?t.controlPointNextY:t.controlPointPreviousY,t.x,t.y):void e.lineTo(t.x,t.y)}};helpers.clear=exports.clear,helpers.drawRoundedRectangle=function(e){e.beginPath(),exports.roundedRect.apply(exports,arguments)};
},{"./helpers.core":37}],37:[function(require,module,exports){
"use strict";var helpers={noop:function(){},uid:function(){var e=0;return function(){return e++}}(),isNullOrUndef:function(e){return null===e||"undefined"==typeof e},isArray:Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},valueOrDefault:function(e,r){return"undefined"==typeof e?r:e},valueAtIndexOrDefault:function(e,r,t){return helpers.valueOrDefault(helpers.isArray(e)?e[r]:e,t)},callback:function(e,r,t){if(e&&"function"==typeof e.call)return e.apply(t,r)},each:function(e,r,t,n){var l,s,o;if(helpers.isArray(e))if(s=e.length,n)for(l=s-1;l>=0;l--)r.call(t,e[l],l);else for(l=0;l<s;l++)r.call(t,e[l],l);else if(helpers.isObject(e))for(o=Object.keys(e),s=o.length,l=0;l<s;l++)r.call(t,e[o[l]],o[l])},arrayEquals:function(e,r){var t,n,l,s;if(!e||!r||e.length!==r.length)return!1;for(t=0,n=e.length;t<n;++t)if(l=e[t],s=r[t],l instanceof Array&&s instanceof Array){if(!helpers.arrayEquals(l,s))return!1}else if(l!==s)return!1;return!0},clone:function(e){if(helpers.isArray(e))return e.map(helpers.clone);if(helpers.isObject(e)){for(var r={},t=Object.keys(e),n=t.length,l=0;l<n;++l)r[t[l]]=helpers.clone(e[t[l]]);return r}return e},_merger:function(e,r,t,n){var l=r[e],s=t[e];helpers.isObject(l)&&helpers.isObject(s)?helpers.merge(l,s,n):r[e]=helpers.clone(s)},_mergerIf:function(e,r,t){var n=r[e],l=t[e];helpers.isObject(n)&&helpers.isObject(l)?helpers.mergeIf(n,l):r.hasOwnProperty(e)||(r[e]=helpers.clone(l))},merge:function(e,r,t){var n,l,s,o,u,c=helpers.isArray(r)?r:[r],i=c.length;if(!helpers.isObject(e))return e;for(t=t||{},n=t.merger||helpers._merger,l=0;l<i;++l)if(r=c[l],helpers.isObject(r))for(s=Object.keys(r),u=0,o=s.length;u<o;++u)n(s[u],e,r,t);return e},mergeIf:function(e,r){return helpers.merge(e,r,{merger:helpers._mergerIf})},extend:function(e){for(var r=function(r,t){e[t]=r},t=1,n=arguments.length;t<n;++t)helpers.each(arguments[t],r);return e},inherits:function(e){var r=this,t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return r.apply(this,arguments)},n=function(){this.constructor=t};return n.prototype=r.prototype,t.prototype=new n,t.extend=helpers.inherits,e&&helpers.extend(t.prototype,e),t.__super__=r.prototype,t}};module.exports=helpers,helpers.callCallback=helpers.callback,helpers.indexOf=function(e,r,t){return Array.prototype.indexOf.call(e,r,t)},helpers.getValueOrDefault=helpers.valueOrDefault,helpers.getValueAtIndexOrDefault=helpers.valueAtIndexOrDefault;
},{}],38:[function(require,module,exports){
"use strict";var helpers=require("./helpers.core"),effects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-Math.cos(t*(Math.PI/2))+1},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:-Math.pow(2,-10*t)+1},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var n=1.70158,e=0,u=1;return 0===t?0:1===t?1:(e||(e=.3),u<1?(u=1,n=e/4):n=e/(2*Math.PI)*Math.asin(1/u),-(u*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)))},easeOutElastic:function(t){var n=1.70158,e=0,u=1;return 0===t?0:1===t?1:(e||(e=.3),u<1?(u=1,n=e/4):n=e/(2*Math.PI)*Math.asin(1/u),u*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/e)+1)},easeInOutElastic:function(t){var n=1.70158,e=0,u=1;return 0===t?0:2===(t/=.5)?1:(e||(e=.45),u<1?(u=1,n=e/4):n=e/(2*Math.PI)*Math.asin(1/u),t<1?-.5*(u*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)):u*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)*.5+1)},easeInBack:function(t){var n=1.70158;return t*t*((n+1)*t-n)},easeOutBack:function(t){var n=1.70158;return(t-=1)*t*((n+1)*t+n)+1},easeInOutBack:function(t){var n=1.70158;return(t/=.5)<1?.5*(t*t*(((n*=1.525)+1)*t-n)):.5*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)},easeInBounce:function(t){return 1-effects.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*effects.easeInBounce(2*t):.5*effects.easeOutBounce(2*t-1)+.5}};module.exports={effects:effects},helpers.easingEffects=effects;
},{"./helpers.core":37}],39:[function(require,module,exports){
"use strict";var helpers=require("./helpers.core");module.exports={toLineHeight:function(e,t){var r=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!r||"normal"===r[1])return 1.2*t;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,r,o,i;return helpers.isObject(e)?(t=+e.top||0,r=+e.right||0,o=+e.bottom||0,i=+e.left||0):t=r=o=i=+e||0,{top:t,right:r,bottom:o,left:i,height:t+o,width:i+r}},resolve:function(e,t,r){var o,i,n;for(o=0,i=e.length;o<i;++o)if(n=e[o],void 0!==n&&(void 0!==t&&"function"==typeof n&&(n=n(t)),void 0!==r&&helpers.isArray(n)&&(n=n[r]),void 0!==n))return n}};
},{"./helpers.core":37}],40:[function(require,module,exports){
"use strict";module.exports=require("./helpers.core"),module.exports.easing=require("./helpers.easing"),module.exports.canvas=require("./helpers.canvas"),module.exports.options=require("./helpers.options");
},{"./helpers.canvas":36,"./helpers.core":37,"./helpers.easing":38,"./helpers.options":39}],41:[function(require,module,exports){
module.exports={acquireContext:function(n){return n&&n.canvas&&(n=n.canvas),n&&n.getContext("2d")||null}};
},{}],42:[function(require,module,exports){
"use strict";function readUsedSize(e,t){var n=helpers.getStyle(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}function initCanvas(e,t){var n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[EXPANDO_KEY]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var o=readUsedSize(e,"width");void 0!==o&&(e.width=o)}if(null===i||""===i)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var s=readUsedSize(e,"height");void 0!==o&&(e.height=s)}return e}function addEventListener(e,t,n){e.addEventListener(t,n,eventListenerOptions)}function removeEventListener(e,t,n){e.removeEventListener(t,n,eventListenerOptions)}function createEvent(e,t,n,i,r){return{type:e,chart:t,"native":r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function fromNativeEvent(e,t){var n=EVENT_TYPES[e.type]||e.type,i=helpers.getRelativePosition(e,t);return createEvent(n,t,i.x,i.y,e)}function throttled(e,t){var n=!1,i=[];return function(){i=Array.prototype.slice.call(arguments),t=t||this,n||(n=!0,helpers.requestAnimFrame.call(window,function(){n=!1,e.apply(t,i)}))}}function createResizer(e){var t=document.createElement("div"),n=CSS_PREFIX+"size-monitor",i=1e6,r="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";t.style.cssText=r,t.className=n,t.innerHTML='<div class="'+n+'-expand" style="'+r+'"><div style="position:absolute;width:'+i+"px;height:"+i+'px;left:0;top:0"></div></div><div class="'+n+'-shrink" style="'+r+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var o=t.childNodes[0],s=t.childNodes[1];t._reset=function(){o.scrollLeft=i,o.scrollTop=i,s.scrollLeft=i,s.scrollTop=i};var a=function(){t._reset(),e()};return addEventListener(o,"scroll",a.bind(o,"expand")),addEventListener(s,"scroll",a.bind(s,"shrink")),t}function watchForRender(e,t){var n=e[EXPANDO_KEY]||(e[EXPANDO_KEY]={}),i=n.renderProxy=function(e){e.animationName===CSS_RENDER_ANIMATION&&t()};helpers.each(ANIMATION_START_EVENTS,function(t){addEventListener(e,t,i)}),n.reflow=!!e.offsetParent,e.classList.add(CSS_RENDER_MONITOR)}function unwatchForRender(e){var t=e[EXPANDO_KEY]||{},n=t.renderProxy;n&&(helpers.each(ANIMATION_START_EVENTS,function(t){removeEventListener(e,t,n)}),delete t.renderProxy),e.classList.remove(CSS_RENDER_MONITOR)}function addResizeListener(e,t,n){var i=e[EXPANDO_KEY]||(e[EXPANDO_KEY]={}),r=i.resizer=createResizer(throttled(function(){if(i.resizer)return t(createEvent("resize",n))}));watchForRender(e,function(){if(i.resizer){var t=e.parentNode;t&&t!==r.parentNode&&t.insertBefore(r,t.firstChild),r._reset()}})}function removeResizeListener(e){var t=e[EXPANDO_KEY]||{},n=t.resizer;delete t.resizer,unwatchForRender(e),n&&n.parentNode&&n.parentNode.removeChild(n)}function injectCSS(e,t){var n=e._style||document.createElement("style");e._style||(e._style=n,t="/* Chart.js */\n"+t,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(t))}var helpers=require("../helpers/index"),EXPANDO_KEY="$chartjs",CSS_PREFIX="chartjs-",CSS_RENDER_MONITOR=CSS_PREFIX+"render-monitor",CSS_RENDER_ANIMATION=CSS_PREFIX+"render-animation",ANIMATION_START_EVENTS=["animationstart","webkitAnimationStart"],EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},supportsEventListenerOptions=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(n){}return e}(),eventListenerOptions=!!supportsEventListenerOptions&&{passive:!0};module.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var e="from{opacity:0.99}to{opacity:1}";injectCSS(this,"@-webkit-keyframes "+CSS_RENDER_ANIMATION+"{"+e+"}@keyframes "+CSS_RENDER_ANIMATION+"{"+e+"}."+CSS_RENDER_MONITOR+"{-webkit-animation:"+CSS_RENDER_ANIMATION+" 0.001s;animation:"+CSS_RENDER_ANIMATION+" 0.001s;}")},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(initCanvas(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[EXPANDO_KEY]){var n=t[EXPANDO_KEY].initial;["height","width"].forEach(function(e){var i=n[e];helpers.isNullOrUndef(i)?t.removeAttribute(e):t.setAttribute(e,i)}),helpers.each(n.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t[EXPANDO_KEY]}},addEventListener:function(e,t,n){var i=e.canvas;if("resize"===t)return void addResizeListener(i,n,e);var r=n[EXPANDO_KEY]||(n[EXPANDO_KEY]={}),o=r.proxies||(r.proxies={}),s=o[e.id+"_"+t]=function(t){n(fromNativeEvent(t,e))};addEventListener(i,t,s)},removeEventListener:function(e,t,n){var i=e.canvas;if("resize"===t)return void removeResizeListener(i,n);var r=n[EXPANDO_KEY]||{},o=r.proxies||{},s=o[e.id+"_"+t];s&&removeEventListener(i,t,s)}},helpers.addEvent=addEventListener,helpers.removeEvent=removeEventListener;
},{"../helpers/index":40}],43:[function(require,module,exports){
"use strict";var helpers=require("../helpers/index"),basic=require("./platform.basic"),dom=require("./platform.dom"),implementation=dom._enabled?dom:basic;module.exports=helpers.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},implementation);
},{"../helpers/index":40,"./platform.basic":41,"./platform.dom":42}],44:[function(require,module,exports){
"use strict";module.exports={},module.exports.filler=require("./plugin.filler"),module.exports.legend=require("./plugin.legend"),module.exports.title=require("./plugin.title");
},{"./plugin.filler":45,"./plugin.legend":46,"./plugin.title":47}],45:[function(require,module,exports){
"use strict";function decodeFill(e,r,l){var t,a=e._model||{},i=a.fill;if(void 0===i&&(i=!!a.backgroundColor),i===!1||null===i)return!1;if(i===!0)return"origin";if(t=parseFloat(i,10),isFinite(t)&&Math.floor(t)===t)return"-"!==i[0]&&"+"!==i[0]||(t=r+t),!(t===r||t<0||t>=l)&&t;switch(i){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return i;default:return!1}}function computeBoundary(e){var r,l=e.el._model||{},t=e.el._scale||{},a=e.fill,i=null;if(isFinite(a))return null;if("start"===a?i=void 0===l.scaleBottom?t.bottom:l.scaleBottom:"end"===a?i=void 0===l.scaleTop?t.top:l.scaleTop:void 0!==l.scaleZero?i=l.scaleZero:t.getBasePosition?i=t.getBasePosition():t.getBasePixel&&(i=t.getBasePixel()),void 0!==i&&null!==i){if(void 0!==i.x&&void 0!==i.y)return i;if("number"==typeof i&&isFinite(i))return r=t.isHorizontal(),{x:r?i:null,y:r?null:i}}return null}function resolveTarget(e,r,l){var t,a=e[r],i=a.fill,n=[r];if(!l)return i;for(;i!==!1&&n.indexOf(i)===-1;){if(!isFinite(i))return i;if(t=e[i],!t)return!1;if(t.visible)return i;n.push(i),i=t.fill}return!1}function createMapper(e){var r=e.fill,l="dataset";return r===!1?null:(isFinite(r)||(l="boundary"),mappers[l](e))}function isDrawable(e){return e&&!e.skip}function drawArea(e,r,l,t,a){var i;if(t&&a){for(e.moveTo(r[0].x,r[0].y),i=1;i<t;++i)helpers.canvas.lineTo(e,r[i-1],r[i]);for(e.lineTo(l[a-1].x,l[a-1].y),i=a-1;i>0;--i)helpers.canvas.lineTo(e,l[i],l[i-1],!0)}}function doFill(e,r,l,t,a,i){var n,o,s,u,f,c,d,p=r.length,v=t.spanGaps,h=[],g=[],b=0,m=0;for(e.beginPath(),n=0,o=p+!!i;n<o;++n)s=n%p,u=r[s]._view,f=l(u,s,t),c=isDrawable(u),d=isDrawable(f),c&&d?(b=h.push(u),m=g.push(f)):b&&m&&(v?(c&&h.push(u),d&&g.push(f)):(drawArea(e,h,g,b,m),b=m=0,h=[],g=[]));drawArea(e,h,g,b,m),e.closePath(),e.fillStyle=a,e.fill()}var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("global",{plugins:{filler:{propagate:!0}}});var mappers={dataset:function(e){var r=e.fill,l=e.chart,t=l.getDatasetMeta(r),a=t&&l.isDatasetVisible(r),i=a&&t.dataset._children||[],n=i.length||0;return n?function(e,r){return r<n&&i[r]._view||null}:null},boundary:function(e){var r=e.boundary,l=r?r.x:null,t=r?r.y:null;return function(e){return{x:null===l?e.x:l,y:null===t?e.y:t}}}};module.exports={id:"filler",afterDatasetsUpdate:function(e,r){var l,t,a,i,n=(e.data.datasets||[]).length,o=r.propagate,s=[];for(t=0;t<n;++t)l=e.getDatasetMeta(t),a=l.dataset,i=null,a&&a._model&&a instanceof elements.Line&&(i={visible:e.isDatasetVisible(t),fill:decodeFill(a,t,n),chart:e,el:a}),l.$filler=i,s.push(i);for(t=0;t<n;++t)i=s[t],i&&(i.fill=resolveTarget(s,t,o),i.boundary=computeBoundary(i),i.mapper=createMapper(i))},beforeDatasetDraw:function(e,r){var l=r.meta.$filler;if(l){var t=e.ctx,a=l.el,i=a._view,n=a._children||[],o=l.mapper,s=i.backgroundColor||defaults.global.defaultColor;o&&s&&n.length&&(helpers.canvas.clipArea(t,e.chartArea),doFill(t,n,o,i,s,a._loop),helpers.canvas.unclipArea(t))}}};
},{"../core/core.defaults":20,"../elements/index":35,"../helpers/index":40}],46:[function(require,module,exports){
"use strict";function getBoxWidth(e,t){return e.usePointStyle?t*Math.SQRT2:e.boxWidth}function createNewLegendAndAttach(e,t){var i=new Legend({ctx:e.ctx,options:t,chart:e});layouts.configure(e,i,t),layouts.addBox(e,i),e.legend=i}var defaults=require("../core/core.defaults"),Element=require("../core/core.element"),helpers=require("../helpers/index"),layouts=require("../core/core.layouts"),noop=helpers.noop;defaults._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var i=t.datasetIndex,n=this.chart,l=n.getDatasetMeta(i);l.hidden=null===l.hidden?!n.data.datasets[i].hidden:null,n.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data;return helpers.isArray(t.datasets)?t.datasets.map(function(t,i){return{text:t.label,fillStyle:helpers.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!e.isDatasetVisible(i),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:i}},this):[]}}},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var i=0;i<e.data.datasets.length;i++)t.push('<li><span style="background-color:'+e.data.datasets[i].backgroundColor+'"></span>'),e.data.datasets[i].label&&t.push(e.data.datasets[i].label),t.push("</li>");return t.push("</ul>"),t.join("")}});var Legend=Element.extend({initialize:function(e){helpers.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:noop,update:function(e,t,i){var n=this;return n.beforeUpdate(),n.maxWidth=e,n.maxHeight=t,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:noop,beforeSetDimensions:noop,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:noop,beforeBuildLabels:noop,buildLabels:function(){var e=this,t=e.options.labels||{},i=helpers.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(i=i.filter(function(i){return t.filter(i,e.chart.data)})),e.options.reverse&&i.reverse(),e.legendItems=i},afterBuildLabels:noop,beforeFit:noop,fit:function(){var e=this,t=e.options,i=t.labels,n=t.display,l=e.ctx,o=defaults.global,a=helpers.valueOrDefault,d=a(i.fontSize,o.defaultFontSize),r=a(i.fontStyle,o.defaultFontStyle),s=a(i.fontFamily,o.defaultFontFamily),h=helpers.fontString(d,r,s),f=e.legendHitBoxes=[],u=e.minSize,p=e.isHorizontal();if(p?(u.width=e.maxWidth,u.height=n?10:0):(u.width=n?10:0,u.height=e.maxHeight),n)if(l.font=h,p){var g=e.lineWidths=[0],c=e.legendItems.length?d+i.padding:0;l.textAlign="left",l.textBaseline="top",helpers.each(e.legendItems,function(t,n){var o=getBoxWidth(i,d),a=o+d/2+l.measureText(t.text).width;g[g.length-1]+a+i.padding>=e.width&&(c+=d+i.padding,g[g.length]=e.left),f[n]={left:0,top:0,width:a,height:d},g[g.length-1]+=a+i.padding}),u.height+=c}else{var b=i.padding,m=e.columnWidths=[],v=i.padding,x=0,y=0,S=d+b;helpers.each(e.legendItems,function(e,t){var n=getBoxWidth(i,d),o=n+d/2+l.measureText(e.text).width;y+S>u.height&&(v+=x+i.padding,m.push(x),x=0,y=0),x=Math.max(x,o),y+=S,f[t]={left:0,top:0,width:o,height:d}}),v+=x,m.push(x),u.width+=v}e.width=u.width,e.height=u.height},afterFit:noop,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,i=t.labels,n=defaults.global,l=n.elements.line,o=e.width,a=e.lineWidths;if(t.display){var d,r=e.ctx,s=helpers.valueOrDefault,h=s(i.fontColor,n.defaultFontColor),f=s(i.fontSize,n.defaultFontSize),u=s(i.fontStyle,n.defaultFontStyle),p=s(i.fontFamily,n.defaultFontFamily),g=helpers.fontString(f,u,p);r.textAlign="left",r.textBaseline="middle",r.lineWidth=.5,r.strokeStyle=h,r.fillStyle=h,r.font=g;var c=getBoxWidth(i,f),b=e.legendHitBoxes,m=function(e,i,o){if(!(isNaN(c)||c<=0)){r.save(),r.fillStyle=s(o.fillStyle,n.defaultColor),r.lineCap=s(o.lineCap,l.borderCapStyle),r.lineDashOffset=s(o.lineDashOffset,l.borderDashOffset),r.lineJoin=s(o.lineJoin,l.borderJoinStyle),r.lineWidth=s(o.lineWidth,l.borderWidth),r.strokeStyle=s(o.strokeStyle,n.defaultColor);var a=0===s(o.lineWidth,l.borderWidth);if(r.setLineDash&&r.setLineDash(s(o.lineDash,l.borderDash)),t.labels&&t.labels.usePointStyle){var d=f*Math.SQRT2/2,h=d/Math.SQRT2,u=e+h,p=i+h;helpers.canvas.drawPoint(r,o.pointStyle,d,u,p)}else a||r.strokeRect(e,i,c,f),r.fillRect(e,i,c,f);r.restore()}},v=function(e,t,i,n){var l=f/2,o=c+l+e,a=t+l;r.fillText(i.text,o,a),i.hidden&&(r.beginPath(),r.lineWidth=2,r.moveTo(o,a),r.lineTo(o+n,a),r.stroke())},x=e.isHorizontal();d=x?{x:e.left+(o-a[0])/2,y:e.top+i.padding,line:0}:{x:e.left+i.padding,y:e.top+i.padding,line:0};var y=f+i.padding;helpers.each(e.legendItems,function(t,n){var l=r.measureText(t.text).width,s=c+f/2+l,h=d.x,u=d.y;x?h+s>=o&&(u=d.y+=y,d.line++,h=d.x=e.left+(o-a[d.line])/2):u+y>e.bottom&&(h=d.x=h+e.columnWidths[d.line]+i.padding,u=d.y=e.top+i.padding,d.line++),m(h,u,t),b[n].left=h,b[n].top=u,v(h,u,t,l),x?d.x+=s+i.padding:d.y+=y})}},handleEvent:function(e){var t=this,i=t.options,n="mouseup"===e.type?"click":e.type,l=!1;if("mousemove"===n){if(!i.onHover)return}else{if("click"!==n)return;if(!i.onClick)return}var o=e.x,a=e.y;if(o>=t.left&&o<=t.right&&a>=t.top&&a<=t.bottom)for(var d=t.legendHitBoxes,r=0;r<d.length;++r){var s=d[r];if(o>=s.left&&o<=s.left+s.width&&a>=s.top&&a<=s.top+s.height){if("click"===n){i.onClick.call(t,e["native"],t.legendItems[r]),l=!0;break}if("mousemove"===n){i.onHover.call(t,e["native"],t.legendItems[r]),l=!0;break}}}return l}});module.exports={id:"legend",_element:Legend,beforeInit:function(e){var t=e.options.legend;t&&createNewLegendAndAttach(e,t)},beforeUpdate:function(e){var t=e.options.legend,i=e.legend;t?(helpers.mergeIf(t,defaults.global.legend),i?(layouts.configure(e,i,t),i.options=t):createNewLegendAndAttach(e,t)):i&&(layouts.removeBox(e,i),delete e.legend)},afterEvent:function(e,t){var i=e.legend;i&&i.handleEvent(t)}};
},{"../core/core.defaults":20,"../core/core.element":21,"../core/core.layouts":25,"../helpers/index":40}],47:[function(require,module,exports){
"use strict";function createNewTitleBlockAndAttach(e,t){var i=new Title({ctx:e.ctx,options:t,chart:e});layouts.configure(e,i,t),layouts.addBox(e,i),e.titleBlock=i}var defaults=require("../core/core.defaults"),Element=require("../core/core.element"),helpers=require("../helpers/index"),layouts=require("../core/core.layouts"),noop=helpers.noop;defaults._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}});var Title=Element.extend({initialize:function(e){var t=this;helpers.extend(t,e),t.legendHitBoxes=[]},beforeUpdate:noop,update:function(e,t,i){var o=this;return o.beforeUpdate(),o.maxWidth=e,o.maxHeight=t,o.margins=i,o.beforeSetDimensions(),o.setDimensions(),o.afterSetDimensions(),o.beforeBuildLabels(),o.buildLabels(),o.afterBuildLabels(),o.beforeFit(),o.fit(),o.afterFit(),o.afterUpdate(),o.minSize},afterUpdate:noop,beforeSetDimensions:noop,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:noop,beforeBuildLabels:noop,buildLabels:noop,afterBuildLabels:noop,beforeFit:noop,fit:function(){var e=this,t=helpers.valueOrDefault,i=e.options,o=i.display,l=t(i.fontSize,defaults.global.defaultFontSize),n=e.minSize,a=helpers.isArray(i.text)?i.text.length:1,r=helpers.options.toLineHeight(i.lineHeight,l),s=o?a*r+2*i.padding:0;e.isHorizontal()?(n.width=e.maxWidth,n.height=s):(n.width=s,n.height=e.maxHeight),e.width=n.width,e.height=n.height},afterFit:noop,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,i=helpers.valueOrDefault,o=e.options,l=defaults.global;if(o.display){var n,a,r,s=i(o.fontSize,l.defaultFontSize),d=i(o.fontStyle,l.defaultFontStyle),f=i(o.fontFamily,l.defaultFontFamily),h=helpers.fontString(s,d,f),p=helpers.options.toLineHeight(o.lineHeight,s),u=p/2+o.padding,g=0,c=e.top,m=e.left,b=e.bottom,x=e.right;t.fillStyle=i(o.fontColor,l.defaultFontColor),t.font=h,e.isHorizontal()?(a=m+(x-m)/2,r=c+u,n=x-m):(a="left"===o.position?m+u:x-u,r=c+(b-c)/2,n=b-c,g=Math.PI*("left"===o.position?-.5:.5)),t.save(),t.translate(a,r),t.rotate(g),t.textAlign="center",t.textBaseline="middle";var v=o.text;if(helpers.isArray(v))for(var y=0,S=0;S<v.length;++S)t.fillText(v[S],0,y,n),y+=p;else t.fillText(v,0,0,n);t.restore()}}});module.exports={id:"title",_element:Title,beforeInit:function(e){var t=e.options.title;t&&createNewTitleBlockAndAttach(e,t)},beforeUpdate:function(e){var t=e.options.title,i=e.titleBlock;t?(helpers.mergeIf(t,defaults.global.title),i?(layouts.configure(e,i,t),i.options=t):createNewTitleBlockAndAttach(e,t)):i&&(layouts.removeBox(e,i),delete e.titleBlock)}};
},{"../core/core.defaults":20,"../core/core.element":21,"../core/core.layouts":25,"../helpers/index":40}],48:[function(require,module,exports){
"use strict";var Scale=require("../core/core.scale"),scaleService=require("../core/core.scaleService");module.exports=function(){var e={position:"bottom"},t=Scale.extend({getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels},determineDataLimits:function(){var e=this,t=e.getLabels();e.minIndex=0,e.maxIndex=t.length-1;var i;void 0!==e.options.ticks.min&&(i=t.indexOf(e.options.ticks.min),e.minIndex=i!==-1?i:e.minIndex),void 0!==e.options.ticks.max&&(i=t.indexOf(e.options.ticks.max),e.maxIndex=i!==-1?i:e.maxIndex),e.min=t[e.minIndex],e.max=t[e.maxIndex]},buildTicks:function(){var e=this,t=e.getLabels();e.ticks=0===e.minIndex&&e.maxIndex===t.length-1?t:t.slice(e.minIndex,e.maxIndex+1)},getLabelForIndex:function(e,t){var i=this,n=i.chart.data,a=i.isHorizontal();return n.yLabels&&!a?i.getRightValue(n.datasets[t].data[e]):i.ticks[e-i.minIndex]},getPixelForValue:function(e,t){var i,n=this,a=n.options.offset,o=Math.max(n.maxIndex+1-n.minIndex-(a?0:1),1);if(void 0!==e&&null!==e&&(i=n.isHorizontal()?e.x:e.y),void 0!==i||void 0!==e&&isNaN(t)){var r=n.getLabels();e=i||e;var s=r.indexOf(e);t=s!==-1?s:t}if(n.isHorizontal()){var l=n.width/o,x=l*(t-n.minIndex);return a&&(x+=l/2),n.left+Math.round(x)}var d=n.height/o,c=d*(t-n.minIndex);return a&&(c+=d/2),n.top+Math.round(c)},getPixelForTick:function(e){return this.getPixelForValue(this.ticks[e],e+this.minIndex,null)},getValueForPixel:function(e){var t,i=this,n=i.options.offset,a=Math.max(i._ticks.length-(n?0:1),1),o=i.isHorizontal(),r=(o?i.width:i.height)/a;return e-=o?i.left:i.top,n&&(e-=r/2),t=e<=0?0:Math.round(e/r),t+i.minIndex},getBasePixel:function(){return this.bottom}});scaleService.registerScaleType("category",t,e)};
},{"../core/core.scale":27,"../core/core.scaleService":28}],49:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),helpers=require("../helpers/index"),scaleService=require("../core/core.scaleService"),Ticks=require("../core/core.ticks");module.exports=function(e){var i={position:"left",ticks:{callback:Ticks.formatters.linear}},t=e.LinearScaleBase.extend({determineDataLimits:function(){function e(e){return r?e.xAxisID===i.id:e.yAxisID===i.id}var i=this,t=i.options,a=i.chart,s=a.data,n=s.datasets,r=i.isHorizontal(),l=0,c=1;i.min=null,i.max=null;var o=t.stacked;if(void 0===o&&helpers.each(n,function(i,t){if(!o){var s=a.getDatasetMeta(t);a.isDatasetVisible(t)&&e(s)&&void 0!==s.stack&&(o=!0)}}),t.stacked||o){var h={};helpers.each(n,function(s,n){var r=a.getDatasetMeta(n),l=[r.type,void 0===t.stacked&&void 0===r.stack?n:"",r.stack].join(".");void 0===h[l]&&(h[l]={positiveValues:[],negativeValues:[]});var c=h[l].positiveValues,o=h[l].negativeValues;a.isDatasetVisible(n)&&e(r)&&helpers.each(s.data,function(e,a){var s=+i.getRightValue(e);isNaN(s)||r.data[a].hidden||(c[a]=c[a]||0,o[a]=o[a]||0,t.relativePoints?c[a]=100:s<0?o[a]+=s:c[a]+=s)})}),helpers.each(h,function(e){var t=e.positiveValues.concat(e.negativeValues),a=helpers.min(t),s=helpers.max(t);i.min=null===i.min?a:Math.min(i.min,a),i.max=null===i.max?s:Math.max(i.max,s)})}else helpers.each(n,function(t,s){var n=a.getDatasetMeta(s);a.isDatasetVisible(s)&&e(n)&&helpers.each(t.data,function(e,t){var a=+i.getRightValue(e);isNaN(a)||n.data[t].hidden||(null===i.min?i.min=a:a<i.min&&(i.min=a),null===i.max?i.max=a:a>i.max&&(i.max=a))})});i.min=isFinite(i.min)&&!isNaN(i.min)?i.min:l,i.max=isFinite(i.max)&&!isNaN(i.max)?i.max:c,this.handleTickRangeOptions()},getTickLimit:function(){var e,i=this,t=i.options.ticks;if(i.isHorizontal())e=Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(i.width/50));else{var a=helpers.valueOrDefault(t.fontSize,defaults.global.defaultFontSize);e=Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(i.height/(2*a)))}return e},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,i){return+this.getRightValue(this.chart.data.datasets[i].data[e])},getPixelForValue:function(e){var i,t=this,a=t.start,s=+t.getRightValue(e),n=t.end-a;return i=t.isHorizontal()?t.left+t.width/n*(s-a):t.bottom-t.height/n*(s-a)},getValueForPixel:function(e){var i=this,t=i.isHorizontal(),a=t?i.width:i.height,s=(t?e-i.left:i.bottom-e)/a;return i.start+(i.end-i.start)*s},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});scaleService.registerScaleType("linear",t,i)};
},{"../core/core.defaults":20,"../core/core.scaleService":28,"../core/core.ticks":29,"../helpers/index":40}],50:[function(require,module,exports){
"use strict";function generateTicks(e,i){var a,n,s,t=[];if(e.stepSize&&e.stepSize>0)s=e.stepSize;else{var r=helpers.niceNum(i.max-i.min,!1);s=helpers.niceNum(r/(e.maxTicks-1),!0),n=e.precision,void 0!==n&&(a=Math.pow(10,n),s=Math.ceil(s*a)/a)}var m=Math.floor(i.min/s)*s,o=Math.ceil(i.max/s)*s;helpers.isNullOrUndef(e.min)||helpers.isNullOrUndef(e.max)||!e.stepSize||helpers.almostWhole((e.max-e.min)/e.stepSize,s/1e3)&&(m=e.min,o=e.max);var l=(o-m)/s;l=helpers.almostEquals(l,Math.round(l),s/1e3)?Math.round(l):Math.ceil(l),n=1,s<1&&(n=Math.pow(10,1-Math.floor(helpers.log10(s))),m=Math.round(m*n)/n,o=Math.round(o*n)/n),t.push(void 0!==e.min?e.min:m);for(var c=1;c<l;++c)t.push(Math.round((m+c*s)*n)/n);return t.push(void 0!==e.max?e.max:o),t}var helpers=require("../helpers/index"),Scale=require("../core/core.scale");module.exports=function(e){var i=helpers.noop;e.LinearScaleBase=Scale.extend({getRightValue:function(e){return"string"==typeof e?+e:Scale.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,i=e.options,a=i.ticks;if(a.beginAtZero){var n=helpers.sign(e.min),s=helpers.sign(e.max);n<0&&s<0?e.max=0:n>0&&s>0&&(e.min=0)}var t=void 0!==a.min||void 0!==a.suggestedMin,r=void 0!==a.max||void 0!==a.suggestedMax;void 0!==a.min?e.min=a.min:void 0!==a.suggestedMin&&(null===e.min?e.min=a.suggestedMin:e.min=Math.min(e.min,a.suggestedMin)),void 0!==a.max?e.max=a.max:void 0!==a.suggestedMax&&(null===e.max?e.max=a.suggestedMax:e.max=Math.max(e.max,a.suggestedMax)),t!==r&&e.min>=e.max&&(t?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,a.beginAtZero||e.min--)},getTickLimit:i,handleDirectionalChanges:i,buildTicks:function(){var e=this,i=e.options,a=i.ticks,n=e.getTickLimit();n=Math.max(2,n);var s={maxTicks:n,min:a.min,max:a.max,precision:a.precision,stepSize:helpers.valueOrDefault(a.fixedStepSize,a.stepSize)},t=e.ticks=generateTicks(s,e);e.handleDirectionalChanges(),e.max=helpers.max(t),e.min=helpers.min(t),a.reverse?(t.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),Scale.prototype.convertTicksToLabels.call(e)}})};
},{"../core/core.scale":27,"../helpers/index":40}],51:[function(require,module,exports){
"use strict";function generateTicks(e,t){var a,i,o=[],r=helpers.valueOrDefault,l=r(e.min,Math.pow(10,Math.floor(helpers.log10(t.min)))),n=Math.floor(helpers.log10(t.max)),s=Math.ceil(t.max/Math.pow(10,n));0===l?(a=Math.floor(helpers.log10(t.minNotZero)),i=Math.floor(t.minNotZero/Math.pow(10,a)),o.push(l),l=i*Math.pow(10,a)):(a=Math.floor(helpers.log10(l)),i=Math.floor(l/Math.pow(10,a)));var h=a<0?Math.pow(10,Math.abs(a)):1;do o.push(l),++i,10===i&&(i=1,++a,h=a>=0?1:h),l=Math.round(i*Math.pow(10,a)*h)/h;while(a<n||a===n&&i<s);var c=r(e.max,l);return o.push(c),o}var helpers=require("../helpers/index"),Scale=require("../core/core.scale"),scaleService=require("../core/core.scaleService"),Ticks=require("../core/core.ticks");module.exports=function(e){var t={position:"left",ticks:{callback:Ticks.formatters.logarithmic}},a=Scale.extend({determineDataLimits:function(){function e(e){return l?e.xAxisID===t.id:e.yAxisID===t.id}var t=this,a=t.options,i=t.chart,o=i.data,r=o.datasets,l=t.isHorizontal();t.min=null,t.max=null,t.minNotZero=null;var n=a.stacked;if(void 0===n&&helpers.each(r,function(t,a){if(!n){var o=i.getDatasetMeta(a);i.isDatasetVisible(a)&&e(o)&&void 0!==o.stack&&(n=!0)}}),a.stacked||n){var s={};helpers.each(r,function(o,r){var l=i.getDatasetMeta(r),n=[l.type,void 0===a.stacked&&void 0===l.stack?r:"",l.stack].join(".");i.isDatasetVisible(r)&&e(l)&&(void 0===s[n]&&(s[n]=[]),helpers.each(o.data,function(e,a){var i=s[n],o=+t.getRightValue(e);isNaN(o)||l.data[a].hidden||o<0||(i[a]=i[a]||0,i[a]+=o)}))}),helpers.each(s,function(e){if(e.length>0){var a=helpers.min(e),i=helpers.max(e);t.min=null===t.min?a:Math.min(t.min,a),t.max=null===t.max?i:Math.max(t.max,i)}})}else helpers.each(r,function(a,o){var r=i.getDatasetMeta(o);i.isDatasetVisible(o)&&e(r)&&helpers.each(a.data,function(e,a){var i=+t.getRightValue(e);isNaN(i)||r.data[a].hidden||i<0||(null===t.min?t.min=i:i<t.min&&(t.min=i),null===t.max?t.max=i:i>t.max&&(t.max=i),0!==i&&(null===t.minNotZero||i<t.minNotZero)&&(t.minNotZero=i))})});this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options,a=t.ticks,i=helpers.valueOrDefault,o=1,r=10;e.min=i(a.min,e.min),e.max=i(a.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(helpers.log10(e.min))-1),e.max=Math.pow(10,Math.floor(helpers.log10(e.max))+1)):(e.min=o,e.max=r)),null===e.min&&(e.min=Math.pow(10,Math.floor(helpers.log10(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(helpers.log10(e.min))+1):r),null===e.minNotZero&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(helpers.log10(e.max))):e.minNotZero=o)},buildTicks:function(){var e=this,t=e.options,a=t.ticks,i=!e.isHorizontal(),o={min:a.min,max:a.max},r=e.ticks=generateTicks(o,e);e.max=helpers.max(r),e.min=helpers.min(r),a.reverse?(i=!i,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),i&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},_getFirstTickValue:function(e){var t=Math.floor(helpers.log10(e)),a=Math.floor(e/Math.pow(10,t));return a*Math.pow(10,t)},getPixelForValue:function(t){var a,i,o,r,l,n=this,s=n.options.ticks.reverse,h=helpers.log10,c=n._getFirstTickValue(n.minNotZero),m=0;return t=+n.getRightValue(t),s?(o=n.end,r=n.start,l=-1):(o=n.start,r=n.end,l=1),n.isHorizontal()?(a=n.width,i=s?n.right:n.left):(a=n.height,l*=-1,i=s?n.top:n.bottom),t!==o&&(0===o&&(m=helpers.getValueOrDefault(n.options.ticks.fontSize,e.defaults.global.defaultFontSize),a-=m,o=c),0!==t&&(m+=a/(h(r)-h(o))*(h(t)-h(o))),i+=l*m),i},getValueForPixel:function(t){var a,i,o,r,l=this,n=l.options.ticks.reverse,s=helpers.log10,h=l._getFirstTickValue(l.minNotZero);if(n?(i=l.end,o=l.start):(i=l.start,o=l.end),l.isHorizontal()?(a=l.width,r=n?l.right-t:t-l.left):(a=l.height,r=n?t-l.top:l.bottom-t),r!==i){if(0===i){var c=helpers.getValueOrDefault(l.options.ticks.fontSize,e.defaults.global.defaultFontSize);r-=c,a-=c,i=h}r*=s(o)-s(i),r/=a,r=Math.pow(10,s(i)+r)}return r}});scaleService.registerScaleType("logarithmic",a,t)};
},{"../core/core.scale":27,"../core/core.scaleService":28,"../core/core.ticks":29,"../helpers/index":40}],52:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),helpers=require("../helpers/index"),scaleService=require("../core/core.scaleService"),Ticks=require("../core/core.ticks");module.exports=function(t){function e(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function i(t){var e=t.options.pointLabels,i=helpers.valueOrDefault(e.fontSize,f.defaultFontSize),a=helpers.valueOrDefault(e.fontStyle,f.defaultFontStyle),n=helpers.valueOrDefault(e.fontFamily,f.defaultFontFamily),r=helpers.fontString(i,a,n);return{size:i,style:a,family:n,font:r}}function a(t,e,i){return helpers.isArray(i)?{w:helpers.longestText(t,t.font,i),h:i.length*e+1.5*(i.length-1)*e}:{w:t.measureText(i).width,h:e}}function n(t,e,i,a,n){return t===a||t===n?{start:e-i/2,end:e+i/2}:t<a||t>n?{start:e-i-5,end:e}:{start:e,end:e+i+5}}function r(t){var r,o,s,l=i(t),h=Math.min(t.height/2,t.width/2),d={r:t.width,l:0,t:t.height,b:0},c={};t.ctx.font=l.font,t._pointLabelSizes=[];var u=e(t);for(r=0;r<u;r++){s=t.getPointPosition(r,h),o=a(t.ctx,l.size,t.pointLabels[r]||""),t._pointLabelSizes[r]=o;var f=t.getIndexAngle(r),g=helpers.toDegrees(f)%360,p=n(g,s.x,o.w,0,180),v=n(g,s.y,o.h,90,270);p.start<d.l&&(d.l=p.start,c.l=f),p.end>d.r&&(d.r=p.end,c.r=f),v.start<d.t&&(d.t=v.start,c.t=f),v.end>d.b&&(d.b=v.end,c.b=f)}t.setReductions(h,d,c)}function o(t){var e=Math.min(t.height/2,t.width/2);t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0)}function s(t){return 0===t||180===t?"center":t<180?"left":"right"}function l(t,e,i,a){if(helpers.isArray(e))for(var n=i.y,r=1.5*a,o=0;o<e.length;++o)t.fillText(e[o],i.x,n),n+=r;else t.fillText(e,i.x,i.y)}function h(t,e,i){90===t||270===t?i.y-=e.h/2:(t>270||t<90)&&(i.y-=e.h)}function d(t){var a=t.ctx,n=t.options,r=n.angleLines,o=n.pointLabels;a.lineWidth=r.lineWidth,a.strokeStyle=r.color;var d=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),c=i(t);a.textBaseline="top";for(var u=e(t)-1;u>=0;u--){if(r.display){var g=t.getPointPosition(u,d);a.beginPath(),a.moveTo(t.xCenter,t.yCenter),a.lineTo(g.x,g.y),a.stroke(),a.closePath()}if(o.display){var p=t.getPointPosition(u,d+5),v=helpers.valueAtIndexOrDefault(o.fontColor,u,f.defaultFontColor);a.font=c.font,a.fillStyle=v;var m=t.getIndexAngle(u),b=helpers.toDegrees(m);a.textAlign=s(b),h(b,t._pointLabelSizes[u],p),l(a,t.pointLabels[u]||"",p,c.size)}}}function c(t,i,a,n){var r=t.ctx;if(r.strokeStyle=helpers.valueAtIndexOrDefault(i.color,n-1),r.lineWidth=helpers.valueAtIndexOrDefault(i.lineWidth,n-1),t.options.gridLines.circular)r.beginPath(),r.arc(t.xCenter,t.yCenter,a,0,2*Math.PI),r.closePath(),r.stroke();else{var o=e(t);if(0===o)return;r.beginPath();var s=t.getPointPosition(0,a);r.moveTo(s.x,s.y);for(var l=1;l<o;l++)s=t.getPointPosition(l,a),r.lineTo(s.x,s.y);r.closePath(),r.stroke()}}function u(t){return helpers.isNumber(t)?t:0}var f=defaults.global,g={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Ticks.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}},p=t.LinearScaleBase.extend({setDimensions:function(){var t=this,e=t.options,i=e.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var a=helpers.min([t.height,t.width]),n=helpers.valueOrDefault(i.fontSize,f.defaultFontSize);t.drawingArea=e.display?a/2-(n/2+i.backdropPaddingY):a/2},determineDataLimits:function(){var t=this,e=t.chart,i=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;helpers.each(e.data.datasets,function(n,r){if(e.isDatasetVisible(r)){var o=e.getDatasetMeta(r);helpers.each(n.data,function(e,n){var r=+t.getRightValue(e);isNaN(r)||o.data[n].hidden||(i=Math.min(r,i),a=Math.max(r,a))})}}),t.min=i===Number.POSITIVE_INFINITY?0:i,t.max=a===Number.NEGATIVE_INFINITY?0:a,t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,e=helpers.valueOrDefault(t.fontSize,f.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){this.options.pointLabels.display?r(this):o(this)},setReductions:function(t,e,i){var a=this,n=e.l/Math.sin(i.l),r=Math.max(e.r-a.width,0)/Math.sin(i.r),o=-e.t/Math.cos(i.t),s=-Math.max(e.b-a.height,0)/Math.cos(i.b);n=u(n),r=u(r),o=u(o),s=u(s),a.drawingArea=Math.min(Math.round(t-(n+r)/2),Math.round(t-(o+s)/2)),a.setCenterPoint(n,r,o,s)},setCenterPoint:function(t,e,i,a){var n=this,r=n.width-e-n.drawingArea,o=t+n.drawingArea,s=i+n.drawingArea,l=n.height-a-n.drawingArea;n.xCenter=Math.round((o+r)/2+n.left),n.yCenter=Math.round((s+l)/2+n.top)},getIndexAngle:function(t){var i=2*Math.PI/e(this),a=this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0,n=a*Math.PI*2/360;return t*i+n},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var i=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*i:(t-e.min)*i},getPointPosition:function(t,e){var i=this,a=i.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(a)*e)+i.xCenter,y:Math.round(Math.sin(a)*e)+i.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,i=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&i<0?i:e>0&&i>0?e:0)},draw:function(){var t=this,e=t.options,i=e.gridLines,a=e.ticks,n=helpers.valueOrDefault;if(e.display){var r=t.ctx,o=this.getIndexAngle(0),s=n(a.fontSize,f.defaultFontSize),l=n(a.fontStyle,f.defaultFontStyle),h=n(a.fontFamily,f.defaultFontFamily),u=helpers.fontString(s,l,h);helpers.each(t.ticks,function(e,l){if(l>0||a.reverse){var h=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]);if(i.display&&0!==l&&c(t,i,h,l),a.display){var d=n(a.fontColor,f.defaultFontColor);if(r.font=u,r.save(),r.translate(t.xCenter,t.yCenter),r.rotate(o),a.showLabelBackdrop){var g=r.measureText(e).width;r.fillStyle=a.backdropColor,r.fillRect(-g/2-a.backdropPaddingX,-h-s/2-a.backdropPaddingY,g+2*a.backdropPaddingX,s+2*a.backdropPaddingY)}r.textAlign="center",r.textBaseline="middle",r.fillStyle=d,r.fillText(e,0,-h),r.restore()}}}),(e.angleLines.display||e.pointLabels.display)&&d(t)}}});scaleService.registerScaleType("radialLinear",p,g)};
},{"../core/core.defaults":20,"../core/core.scaleService":28,"../core/core.ticks":29,"../helpers/index":40}],53:[function(require,module,exports){
"use strict";function sorter(t,e){return t-e}function arrayUnique(t){var e,i,n,o={},r=[];for(e=0,i=t.length;e<i;++e)n=t[e],o[n]||(o[n]=!0,r.push(n));return r}function buildLookupTable(t,e,i,n){if("linear"===n||!t.length)return[{time:e,pos:0},{time:i,pos:1}];var o,r,a,s,l,m=[],u=[e];for(o=0,r=t.length;o<r;++o)s=t[o],s>e&&s<i&&u.push(s);for(u.push(i),o=0,r=u.length;o<r;++o)l=u[o+1],a=u[o-1],s=u[o],void 0!==a&&void 0!==l&&Math.round((l+a)/2)===s||m.push({time:s,pos:o/(r-1)});return m}function lookup(t,e,i){for(var n,o,r,a=0,s=t.length-1;a>=0&&a<=s;){if(n=a+s>>1,o=t[n-1]||null,r=t[n],!o)return{lo:null,hi:r};if(r[e]<i)a=n+1;else{if(!(o[e]>i))return{lo:o,hi:r};s=n-1}}return{lo:r,hi:null}}function interpolate(t,e,i,n){var o=lookup(t,e,i),r=o.lo?o.hi?o.lo:t[t.length-2]:t[0],a=o.lo?o.hi?o.hi:t[t.length-1]:t[1],s=a[e]-r[e],l=s?(i-r[e])/s:0,m=(a[n]-r[n])*l;return r[n]+m}function momentify(t,e){var i=e.parser,n=e.parser||e.format;return"function"==typeof i?i(t):"string"==typeof t&&"string"==typeof n?moment(t,n):(t instanceof moment||(t=moment(t)),t.isValid()?t:"function"==typeof n?n(t):t)}function parse(t,e){if(helpers.isNullOrUndef(t))return null;var i=e.options.time,n=momentify(e.getRightValue(t),i);return n.isValid()?(i.round&&n.startOf(i.round),n.valueOf()):null}function determineStepSize(t,e,i,n){var o,r,a,s=e-t,l=INTERVALS[i],m=l.size,u=l.steps;if(!u)return Math.ceil(s/(n*m));for(o=0,r=u.length;o<r&&(a=u[o],!(Math.ceil(s/(m*a))<=n));++o);return a}function determineUnitForAutoTicks(t,e,i,n){var o,r,a,s=UNITS.length;for(o=UNITS.indexOf(t);o<s-1;++o)if(r=INTERVALS[UNITS[o]],a=r.steps?r.steps[r.steps.length-1]:MAX_INTEGER,r.common&&Math.ceil((i-e)/(a*r.size))<=n)return UNITS[o];return UNITS[s-1]}function determineUnitForFormatting(t,e,i,n){var o,r,a=moment.duration(moment(n).diff(moment(i))),s=UNITS.length;for(o=s-1;o>=UNITS.indexOf(e);o--)if(r=UNITS[o],INTERVALS[r].common&&a.as(r)>=t.length)return r;return UNITS[e?UNITS.indexOf(e):0]}function determineMajorUnit(t){for(var e=UNITS.indexOf(t)+1,i=UNITS.length;e<i;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function generate(t,e,i,n){var o,r=n.time,a=r.unit||determineUnitForAutoTicks(r.minUnit,t,e,i),s=determineMajorUnit(a),l=helpers.valueOrDefault(r.stepSize,r.unitStepSize),m="week"===a&&r.isoWeekday,u=n.ticks.major.enabled,f=INTERVALS[a],h=moment(t),c=moment(e),p=[];for(l||(l=determineStepSize(t,e,a,i)),m&&(h=h.isoWeekday(m),c=c.isoWeekday(m)),h=h.startOf(m?"day":a),c=c.startOf(m?"day":a),c<e&&c.add(1,a),o=moment(h),u&&s&&!m&&!r.round&&(o.startOf(s),o.add(~~((h-o)/(f.size*l))*l,a));o<c;o.add(l,a))p.push(+o);return p.push(+o),p}function computeOffsets(t,e,i,n,o){var r,a,s=0,l=0;return o.offset&&e.length&&(o.time.min||(r=e.length>1?e[1]:n,a=e[0],s=(interpolate(t,"time",r,"pos")-interpolate(t,"time",a,"pos"))/2),o.time.max||(r=e[e.length-1],a=e.length>1?e[e.length-2]:i,l=(interpolate(t,"time",r,"pos")-interpolate(t,"time",a,"pos"))/2)),{left:s,right:l}}function ticksFromTimestamps(t,e){var i,n,o,r,a=[];for(i=0,n=t.length;i<n;++i)o=t[i],r=!!e&&o===+moment(o).startOf(e),a.push({value:o,major:r});return a}function determineLabelFormat(t,e){var i,n,o,r=t.length;for(i=0;i<r;i++){if(n=momentify(t[i],e),0!==n.millisecond())return"MMM D, YYYY h:mm:ss.SSS a";0===n.second()&&0===n.minute()&&0===n.hour()||(o=!0)}return o?"MMM D, YYYY h:mm:ss a":"MMM D, YYYY"}var moment=require("moment");moment="function"==typeof moment?moment:window.moment;var defaults=require("../core/core.defaults"),helpers=require("../helpers/index"),Scale=require("../core/core.scale"),scaleService=require("../core/core.scaleService"),MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,INTERVALS={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,15,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,15,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);module.exports=function(){var t={position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},e=Scale.extend({initialize:function(){if(!moment)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),Scale.prototype.initialize.call(this)},update:function(){var t=this,e=t.options;return e.time&&e.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),Scale.prototype.update.apply(t,arguments)},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),Scale.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,i,n,o,r,a=this,s=a.chart,l=a.options.time,m=l.unit||"day",u=MAX_INTEGER,f=MIN_INTEGER,h=[],c=[],p=[];for(t=0,i=s.data.labels.length;t<i;++t)p.push(parse(s.data.labels[t],a));for(t=0,i=(s.data.datasets||[]).length;t<i;++t)if(s.isDatasetVisible(t))if(o=s.data.datasets[t].data,helpers.isObject(o[0]))for(c[t]=[],e=0,n=o.length;e<n;++e)r=parse(o[e],a),h.push(r),c[t][e]=r;else h.push.apply(h,p),c[t]=p.slice(0);else c[t]=[];p.length&&(p=arrayUnique(p).sort(sorter),u=Math.min(u,p[0]),f=Math.max(f,p[p.length-1])),h.length&&(h=arrayUnique(h).sort(sorter),u=Math.min(u,h[0]),f=Math.max(f,h[h.length-1])),u=parse(l.min,a)||u,f=parse(l.max,a)||f,u=u===MAX_INTEGER?+moment().startOf(m):u,f=f===MIN_INTEGER?+moment().endOf(m)+1:f,a.min=Math.min(u,f),a.max=Math.max(u+1,f),a._horizontal=a.isHorizontal(),a._table=[],a._timestamps={data:h,datasets:c,labels:p}},buildTicks:function(){var t,e,i,n=this,o=n.min,r=n.max,a=n.options,s=a.time,l=[],m=[];switch(a.ticks.source){case"data":l=n._timestamps.data;break;case"labels":l=n._timestamps.labels;break;case"auto":default:l=generate(o,r,n.getLabelCapacity(o),a)}for("ticks"===a.bounds&&l.length&&(o=l[0],r=l[l.length-1]),o=parse(s.min,n)||o,r=parse(s.max,n)||r,t=0,e=l.length;t<e;++t)i=l[t],i>=o&&i<=r&&m.push(i);return n.min=o,n.max=r,n._unit=s.unit||determineUnitForFormatting(m,s.minUnit,n.min,n.max),n._majorUnit=determineMajorUnit(n._unit),n._table=buildLookupTable(n._timestamps.data,o,r,a.distribution),n._offsets=computeOffsets(n._table,m,o,r,a),n._labelFormat=determineLabelFormat(n._timestamps.data,s),ticksFromTimestamps(m,n._majorUnit)},getLabelForIndex:function(t,e){var i=this,n=i.chart.data,o=i.options.time,r=n.labels&&t<n.labels.length?n.labels[t]:"",a=n.datasets[e].data[t];return helpers.isObject(a)&&(r=i.getRightValue(a)),o.tooltipFormat?momentify(r,o).format(o.tooltipFormat):"string"==typeof r?r:momentify(r,o).format(i._labelFormat)},tickFormatFunction:function(t,e,i,n){var o=this,r=o.options,a=t.valueOf(),s=r.time.displayFormats,l=s[o._unit],m=o._majorUnit,u=s[m],f=t.clone().startOf(m).valueOf(),h=r.ticks.major,c=h.enabled&&m&&u&&a===f,p=t.format(n?n:c?u:l),d=c?h:r.ticks.minor,g=helpers.valueOrDefault(d.callback,d.userCallback);return g?g(p,e,i):p},convertTicksToLabels:function(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(this.tickFormatFunction(moment(t[e].value),e,t));return n},getPixelForOffset:function(t){var e=this,i=e._horizontal?e.width:e.height,n=e._horizontal?e.left:e.top,o=interpolate(e._table,"time",t,"pos");return n+i*(e._offsets.left+o)/(e._offsets.left+1+e._offsets.right)},getPixelForValue:function(t,e,i){var n=this,o=null;if(void 0!==e&&void 0!==i&&(o=n._timestamps.datasets[i][e]),null===o&&(o=parse(t,n)),null!==o)return n.getPixelForOffset(o)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,i=e._horizontal?e.width:e.height,n=e._horizontal?e.left:e.top,o=(i?(t-n)/i:0)*(e._offsets.left+1+e._offsets.left)-e._offsets.right,r=interpolate(e._table,"pos",o,"time");return moment(r)},getLabelWidth:function(t){var e=this,i=e.options.ticks,n=e.ctx.measureText(t).width,o=helpers.toRadians(i.maxRotation),r=Math.cos(o),a=Math.sin(o),s=helpers.valueOrDefault(i.fontSize,defaults.global.defaultFontSize);return n*r+s*a},getLabelCapacity:function(t){var e=this,i=e.options.time.displayFormats.millisecond,n=e.tickFormatFunction(moment(t),0,[],i),o=e.getLabelWidth(n),r=e.isHorizontal()?e.width:e.height,a=Math.floor(r/o);return a>0?a:1}});scaleService.registerScaleType("time",e,t)};
},{"../core/core.defaults":20,"../core/core.scale":27,"../core/core.scaleService":28,"../helpers/index":40,"moment":"moment"}],54:[function(require,module,exports){
function getRgba(r){if(r){var e=/^#([a-fA-F0-9]{3})$/i,t=/^#([a-fA-F0-9]{6})$/i,a=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,s=/(\w+)/,g=[0,0,0],i=1,o=r.match(e);if(o){o=o[1];for(var l=0;l<g.length;l++)g[l]=parseInt(o[l]+o[l],16)}else if(o=r.match(t)){o=o[1];for(var l=0;l<g.length;l++)g[l]=parseInt(o.slice(2*l,2*l+2),16)}else if(o=r.match(a)){for(var l=0;l<g.length;l++)g[l]=parseInt(o[l+1]);i=parseFloat(o[4])}else if(o=r.match(n)){for(var l=0;l<g.length;l++)g[l]=Math.round(2.55*parseFloat(o[l+1]));i=parseFloat(o[4])}else if(o=r.match(s)){if("transparent"==o[1])return[0,0,0,0];if(g=colorNames[o[1]],!g)return}for(var l=0;l<g.length;l++)g[l]=scale(g[l],0,255);return i=i||0==i?scale(i,0,1):1,g[3]=i,g}}function getHsla(r){if(r){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,t=r.match(e);if(t){var a=parseFloat(t[4]),n=scale(parseInt(t[1]),0,360),s=scale(parseFloat(t[2]),0,100),g=scale(parseFloat(t[3]),0,100),i=scale(isNaN(a)?1:a,0,1);return[n,s,g,i]}}}function getHwb(r){if(r){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,t=r.match(e);if(t){var a=parseFloat(t[4]),n=scale(parseInt(t[1]),0,360),s=scale(parseFloat(t[2]),0,100),g=scale(parseFloat(t[3]),0,100),i=scale(isNaN(a)?1:a,0,1);return[n,s,g,i]}}}function getRgb(r){var e=getRgba(r);return e&&e.slice(0,3)}function getHsl(r){var e=getHsla(r);return e&&e.slice(0,3)}function getAlpha(r){var e=getRgba(r);return e?e[3]:(e=getHsla(r))?e[3]:(e=getHwb(r))?e[3]:void 0}function hexString(r){return"#"+hexDouble(r[0])+hexDouble(r[1])+hexDouble(r[2])}function rgbString(r,e){return e<1||r[3]&&r[3]<1?rgbaString(r,e):"rgb("+r[0]+", "+r[1]+", "+r[2]+")"}function rgbaString(r,e){return void 0===e&&(e=void 0!==r[3]?r[3]:1),"rgba("+r[0]+", "+r[1]+", "+r[2]+", "+e+")"}function percentString(r,e){if(e<1||r[3]&&r[3]<1)return percentaString(r,e);var t=Math.round(r[0]/255*100),a=Math.round(r[1]/255*100),n=Math.round(r[2]/255*100);return"rgb("+t+"%, "+a+"%, "+n+"%)"}function percentaString(r,e){var t=Math.round(r[0]/255*100),a=Math.round(r[1]/255*100),n=Math.round(r[2]/255*100);return"rgba("+t+"%, "+a+"%, "+n+"%, "+(e||r[3]||1)+")"}function hslString(r,e){return e<1||r[3]&&r[3]<1?hslaString(r,e):"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)"}function hslaString(r,e){return void 0===e&&(e=void 0!==r[3]?r[3]:1),"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+e+")"}function hwbString(r,e){return void 0===e&&(e=void 0!==r[3]?r[3]:1),"hwb("+r[0]+", "+r[1]+"%, "+r[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function keyword(r){return reverseNames[r.slice(0,3)]}function scale(r,e,t){return Math.min(Math.max(e,r),t)}function hexDouble(r){var e=r.toString(16).toUpperCase();return e.length<2?"0"+e:e}var colorNames=require("color-name");module.exports={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword};var reverseNames={};for(var name in colorNames)reverseNames[colorNames[name]]=name;
},{"color-name":58}],55:[function(require,module,exports){
var convert=require("color-convert"),string=require("chartjs-color-string"),Color=function(t){if(t instanceof Color)return t;if(!(this instanceof Color))return new Color(t);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;"string"==typeof t?(e=string.getRgba(t),e?this.setValues("rgb",e):(e=string.getHsla(t))?this.setValues("hsl",e):(e=string.getHwb(t))&&this.setValues("hwb",e)):"object"==typeof t&&(e=t,void 0!==e.r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e))};Color.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=t<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return string.hexString(this.values.rgb)},rgbString:function(){return string.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return string.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return string.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return string.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return string.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return string.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return string.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],s=0;s<t.length;s++){var r=t[s]/255;e[s]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),s=t.luminosity();return e>s?(e+.05)/(s+.05):(s+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return e<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,s=(e[0]+t)%360;return e[0]=s<0?360+s:s,this.setValues("hsl",e),this},mix:function(t,e){var s=this,r=t,n=void 0===e?.5:e,a=2*n-1,i=s.alpha()-r.alpha(),h=((a*i===-1?a:(a+i)/(1+a*i))+1)/2,u=1-h;return this.rgb(h*s.red()+u*r.red(),h*s.green()+u*r.green(),h*s.blue()+u*r.blue()).alpha(s.alpha()*n+r.alpha()*(1-n))},toJSON:function(){return this.rgb()},clone:function(){var t,e,s=new Color,r=this.values,n=s.values;for(var a in r)r.hasOwnProperty(a)&&(t=r[a],e={}.toString.call(t),"[object Array]"===e?n[a]=t.slice(0):"[object Number]"===e?n[a]=t:console.error("unexpected color value:",t));return s}},Color.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Color.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Color.prototype.getValues=function(t){for(var e=this.values,s={},r=0;r<t.length;r++)s[t.charAt(r)]=e[t][r];return 1!==e.alpha&&(s.a=e.alpha),s},Color.prototype.setValues=function(t,e){var s,r=this.values,n=this.spaces,a=this.maxes,i=1;if(this.valid=!0,"alpha"===t)i=e;else if(e.length)r[t]=e.slice(0,t.length),i=e[t.length];else if(void 0!==e[t.charAt(0)]){for(s=0;s<t.length;s++)r[t][s]=e[t.charAt(s)];i=e.a}else if(void 0!==e[n[t][0]]){var h=n[t];for(s=0;s<t.length;s++)r[t][s]=e[h[s]];i=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===i?r.alpha:i)),"alpha"===t)return!1;var u;for(s=0;s<t.length;s++)u=Math.max(0,Math.min(a[t][s],r[t][s])),r[t][s]=Math.round(u);for(var l in n)l!==t&&(r[l]=convert[t][l](r[t]));return!0},Color.prototype.setSpace=function(t,e){var s=e[0];return void 0===s?this.getValues(t):("number"==typeof s&&(s=Array.prototype.slice.call(e)),this.setValues(t,s),this)},Color.prototype.setChannel=function(t,e,s){var r=this.values[t];return void 0===s?r[e]:s===r[e]?this:(r[e]=s,this.setValues(t,r),this)},"undefined"!=typeof window&&(window.Color=Color),module.exports=Color;
},{"chartjs-color-string":54,"color-convert":57}],56:[function(require,module,exports){
function rgb2hsl(r){var e,a,n,h=r[0]/255,b=r[1]/255,t=r[2]/255,l=Math.min(h,b,t),o=Math.max(h,b,t),g=o-l;return o==l?e=0:h==o?e=(b-t)/g:b==o?e=2+(t-h)/g:t==o&&(e=4+(h-b)/g),e=Math.min(60*e,360),e<0&&(e+=360),n=(l+o)/2,a=o==l?0:n<=.5?g/(o+l):g/(2-o-l),[e,100*a,100*n]}function rgb2hsv(r){var e,a,n,h=r[0],b=r[1],t=r[2],l=Math.min(h,b,t),o=Math.max(h,b,t),g=o-l;return a=0==o?0:g/o*1e3/10,o==l?e=0:h==o?e=(b-t)/g:b==o?e=2+(t-h)/g:t==o&&(e=4+(h-b)/g),e=Math.min(60*e,360),e<0&&(e+=360),n=o/255*1e3/10,[e,a,n]}function rgb2hwb(r){var e=r[0],a=r[1],n=r[2],h=rgb2hsl(r)[0],b=1/255*Math.min(e,Math.min(a,n)),n=1-1/255*Math.max(e,Math.max(a,n));return[h,100*b,100*n]}function rgb2cmyk(r){var e,a,n,h,b=r[0]/255,t=r[1]/255,l=r[2]/255;return h=Math.min(1-b,1-t,1-l),e=(1-b-h)/(1-h)||0,a=(1-t-h)/(1-h)||0,n=(1-l-h)/(1-h)||0,[100*e,100*a,100*n,100*h]}function rgb2keyword(r){return reverseKeywords[JSON.stringify(r)]}function rgb2xyz(r){var e=r[0]/255,a=r[1]/255,n=r[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var h=.4124*e+.3576*a+.1805*n,b=.2126*e+.7152*a+.0722*n,t=.0193*e+.1192*a+.9505*n;return[100*h,100*b,100*t]}function rgb2lab(r){var e,a,n,h=rgb2xyz(r),b=h[0],t=h[1],l=h[2];return b/=95.047,t/=100,l/=108.883,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,e=116*t-16,a=500*(b-t),n=200*(t-l),[e,a,n]}function rgb2lch(r){return lab2lch(rgb2lab(r))}function hsl2rgb(r){var e,a,n,h,b,t=r[0]/360,l=r[1]/100,o=r[2]/100;if(0==l)return b=255*o,[b,b,b];a=o<.5?o*(1+l):o+l-o*l,e=2*o-a,h=[0,0,0];for(var g=0;g<3;g++)n=t+1/3*-(g-1),n<0&&n++,n>1&&n--,b=6*n<1?e+6*(a-e)*n:2*n<1?a:3*n<2?e+(a-e)*(2/3-n)*6:e,h[g]=255*b;return h}function hsl2hsv(r){var e,a,n=r[0],h=r[1]/100,b=r[2]/100;return 0===b?[0,0,0]:(b*=2,h*=b<=1?b:2-b,a=(b+h)/2,e=2*h/(b+h),[n,100*e,100*a])}function hsl2hwb(r){return rgb2hwb(hsl2rgb(r))}function hsl2cmyk(r){return rgb2cmyk(hsl2rgb(r))}function hsl2keyword(r){return rgb2keyword(hsl2rgb(r))}function hsv2rgb(r){var e=r[0]/60,a=r[1]/100,n=r[2]/100,h=Math.floor(e)%6,b=e-Math.floor(e),t=255*n*(1-a),l=255*n*(1-a*b),o=255*n*(1-a*(1-b)),n=255*n;switch(h){case 0:return[n,o,t];case 1:return[l,n,t];case 2:return[t,n,o];case 3:return[t,l,n];case 4:return[o,t,n];case 5:return[n,t,l]}}function hsv2hsl(r){var e,a,n=r[0],h=r[1]/100,b=r[2]/100;return a=(2-h)*b,e=h*b,e/=a<=1?a:2-a,e=e||0,a/=2,[n,100*e,100*a]}function hsv2hwb(r){return rgb2hwb(hsv2rgb(r))}function hsv2cmyk(r){return rgb2cmyk(hsv2rgb(r))}function hsv2keyword(r){return rgb2keyword(hsv2rgb(r))}function hwb2rgb(e){var a,n,h,t,l=e[0]/360,o=e[1]/100,s=e[2]/100,y=o+s;switch(y>1&&(o/=y,s/=y),a=Math.floor(6*l),n=1-s,h=6*l-a,0!=(1&a)&&(h=1-h),t=o+h*(n-o),a){default:case 6:case 0:r=n,g=t,b=o;break;case 1:r=t,g=n,b=o;break;case 2:r=o,g=n,b=t;break;case 3:r=o,g=t,b=n;break;case 4:r=t,g=o,b=n;break;case 5:r=n,g=o,b=t}return[255*r,255*g,255*b]}function hwb2hsl(r){return rgb2hsl(hwb2rgb(r))}function hwb2hsv(r){return rgb2hsv(hwb2rgb(r))}function hwb2cmyk(r){return rgb2cmyk(hwb2rgb(r))}function hwb2keyword(r){return rgb2keyword(hwb2rgb(r))}function cmyk2rgb(r){var e,a,n,h=r[0]/100,b=r[1]/100,t=r[2]/100,l=r[3]/100;return e=1-Math.min(1,h*(1-l)+l),a=1-Math.min(1,b*(1-l)+l),n=1-Math.min(1,t*(1-l)+l),[255*e,255*a,255*n]}function cmyk2hsl(r){return rgb2hsl(cmyk2rgb(r))}function cmyk2hsv(r){return rgb2hsv(cmyk2rgb(r))}function cmyk2hwb(r){return rgb2hwb(cmyk2rgb(r))}function cmyk2keyword(r){return rgb2keyword(cmyk2rgb(r))}function xyz2rgb(r){var e,a,n,h=r[0]/100,b=r[1]/100,t=r[2]/100;return e=3.2406*h+b*-1.5372+t*-.4986,a=h*-.9689+1.8758*b+.0415*t,n=.0557*h+b*-.204+1.057*t,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=12.92*e,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=12.92*a,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=12.92*n,e=Math.min(Math.max(0,e),1),a=Math.min(Math.max(0,a),1),n=Math.min(Math.max(0,n),1),[255*e,255*a,255*n]}function xyz2lab(r){var e,a,n,h=r[0],b=r[1],t=r[2];return h/=95.047,b/=100,t/=108.883,h=h>.008856?Math.pow(h,1/3):7.787*h+16/116,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,e=116*b-16,a=500*(h-b),n=200*(b-t),[e,a,n]}function xyz2lch(r){return lab2lch(xyz2lab(r))}function lab2xyz(r){var e,a,n,h,b=r[0],t=r[1],l=r[2];return b<=8?(a=100*b/903.3,h=7.787*(a/100)+16/116):(a=100*Math.pow((b+16)/116,3),h=Math.pow(a/100,1/3)),e=e/95.047<=.008856?e=95.047*(t/500+h-16/116)/7.787:95.047*Math.pow(t/500+h,3),n=n/108.883<=.008859?n=108.883*(h-l/200-16/116)/7.787:108.883*Math.pow(h-l/200,3),[e,a,n]}function lab2lch(r){var e,a,n,h=r[0],b=r[1],t=r[2];return e=Math.atan2(t,b),a=360*e/2/Math.PI,a<0&&(a+=360),n=Math.sqrt(b*b+t*t),[h,n,a]}function lab2rgb(r){return xyz2rgb(lab2xyz(r))}function lch2lab(r){var e,a,n,h=r[0],b=r[1],t=r[2];return n=t/360*2*Math.PI,e=b*Math.cos(n),a=b*Math.sin(n),[h,e,a]}function lch2xyz(r){return lab2xyz(lch2lab(r))}function lch2rgb(r){return lab2rgb(lch2lab(r))}function keyword2rgb(r){return cssKeywords[r]}function keyword2hsl(r){return rgb2hsl(keyword2rgb(r))}function keyword2hsv(r){return rgb2hsv(keyword2rgb(r))}function keyword2hwb(r){return rgb2hwb(keyword2rgb(r))}function keyword2cmyk(r){return rgb2cmyk(keyword2rgb(r))}function keyword2lab(r){return rgb2lab(keyword2rgb(r))}function keyword2xyz(r){return rgb2xyz(keyword2rgb(r))}module.exports={rgb2hsl:rgb2hsl,rgb2hsv:rgb2hsv,rgb2hwb:rgb2hwb,rgb2cmyk:rgb2cmyk,rgb2keyword:rgb2keyword,rgb2xyz:rgb2xyz,rgb2lab:rgb2lab,rgb2lch:rgb2lch,hsl2rgb:hsl2rgb,hsl2hsv:hsl2hsv,hsl2hwb:hsl2hwb,hsl2cmyk:hsl2cmyk,hsl2keyword:hsl2keyword,hsv2rgb:hsv2rgb,hsv2hsl:hsv2hsl,hsv2hwb:hsv2hwb,hsv2cmyk:hsv2cmyk,hsv2keyword:hsv2keyword,hwb2rgb:hwb2rgb,hwb2hsl:hwb2hsl,hwb2hsv:hwb2hsv,hwb2cmyk:hwb2cmyk,hwb2keyword:hwb2keyword,cmyk2rgb:cmyk2rgb,cmyk2hsl:cmyk2hsl,cmyk2hsv:cmyk2hsv,cmyk2hwb:cmyk2hwb,cmyk2keyword:cmyk2keyword,keyword2rgb:keyword2rgb,keyword2hsl:keyword2hsl,keyword2hsv:keyword2hsv,keyword2hwb:keyword2hwb,keyword2cmyk:keyword2cmyk,keyword2lab:keyword2lab,keyword2xyz:keyword2xyz,xyz2rgb:xyz2rgb,xyz2lab:xyz2lab,xyz2lch:xyz2lch,lab2xyz:lab2xyz,lab2rgb:lab2rgb,lab2lch:lab2lch,lch2lab:lch2lab,lch2xyz:lch2xyz,lch2rgb:lch2rgb};var cssKeywords={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},reverseKeywords={};for(var key in cssKeywords)reverseKeywords[JSON.stringify(cssKeywords[key])]=key;
},{}],57:[function(require,module,exports){
var conversions=require("./conversions"),convert=function(){return new Converter};for(var func in conversions){convert[func+"Raw"]=function(r){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),conversions[r](t)}}(func);var pair=/(\w+)2(\w+)/.exec(func),from=pair[1],to=pair[2];convert[from]=convert[from]||{},convert[from][to]=convert[func]=function(r){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=conversions[r](t);if("string"==typeof n||void 0===n)return n;for(var o=0;o<n.length;o++)n[o]=Math.round(n[o]);return n}}(func)}var Converter=function(){this.convs={}};Converter.prototype.routeSpace=function(r,t){var n=t[0];return void 0===n?this.getValues(r):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(r,n))},Converter.prototype.setValues=function(r,t){return this.space=r,this.convs={},this.convs[r]=t,this},Converter.prototype.getValues=function(r){var t=this.convs[r];if(!t){var n=this.space,o=this.convs[n];t=convert[n][r](o),this.convs[r]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(r){Converter.prototype[r]=function(t){return this.routeSpace(r,arguments)}}),module.exports=convert;
},{"./conversions":56}],58:[function(require,module,exports){
"use strict";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};
},{}],59:[function(require,module,exports){
(function (global){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Popper=t()}(this,function(){"use strict";function e(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function t(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},le))}}function n(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView,o=n.getComputedStyle(e,null);return t?o[t]:o}function r(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function i(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,a=t.overflowX,f=t.overflowY;return/(auto|scroll|overlay)/.test(n+f+a)?e:i(r(e))}function a(e){return 11===e?he:10===e?me:he||me}function f(e){if(!e)return document.documentElement;for(var t=a(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&"static"===o(n,"position")?f(n):n:e?e.ownerDocument.documentElement:document.documentElement}function s(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||f(e.firstElementChild)===e)}function p(e){return null!==e.parentNode?p(e.parentNode):e}function l(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?e:t,r=n?t:e,i=document.createRange();i.setStart(o,0),i.setEnd(r,0);var a=i.commonAncestorContainer;if(e!==a&&t!==a||o.contains(r))return s(a)?a:f(a);var u=p(e);return u.host?l(u.host,t):l(e,p(t).host)}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",o=e.nodeName;if("BODY"===o||"HTML"===o){var r=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||r;return i[n]}return e[n]}function d(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=u(t,"top"),r=u(t,"left"),i=n?-1:1;return e.top+=o*i,e.bottom+=o*i,e.left+=r*i,e.right+=r*i,e}function c(e,t){var n="x"===t?"Left":"Top",o="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+o+"Width"],10)}function h(e,t,n,o){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],a(10)?parseInt(n["offset"+e])+parseInt(o["margin"+("Height"===e?"Top":"Left")])+parseInt(o["margin"+("Height"===e?"Bottom":"Right")]):0)}function m(e){var t=e.body,n=e.documentElement,o=a(10)&&getComputedStyle(n);return{height:h("Height",t,n,o),width:h("Width",t,n,o)}}function g(e){return we({},e,{right:e.left+e.width,bottom:e.top+e.height})}function v(e){var t={};try{if(a(10)){t=e.getBoundingClientRect();var n=u(e,"top"),r=u(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(i){}var f={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?m(e.ownerDocument):{},p=s.width||e.clientWidth||f.right-f.left,l=s.height||e.clientHeight||f.bottom-f.top,d=e.offsetWidth-p,h=e.offsetHeight-l;if(d||h){var v=o(e);d-=c(v,"x"),h-=c(v,"y"),f.width-=d,f.height-=h}return g(f)}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=a(10),f="HTML"===t.nodeName,s=v(e),p=v(t),l=i(e),u=o(t),c=parseFloat(u.borderTopWidth,10),h=parseFloat(u.borderLeftWidth,10);n&&f&&(p.top=Math.max(p.top,0),p.left=Math.max(p.left,0));var m=g({top:s.top-p.top-c,left:s.left-p.left-h,width:s.width,height:s.height});if(m.marginTop=0,m.marginLeft=0,!r&&f){var b=parseFloat(u.marginTop,10),w=parseFloat(u.marginLeft,10);m.top-=c-b,m.bottom-=c-b,m.left-=h-w,m.right-=h-w,m.marginTop=b,m.marginLeft=w}return(r&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(m=d(m,t)),m}function w(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,o=b(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:u(n),f=t?0:u(n,"left"),s={top:a-o.top+o.marginTop,left:f-o.left+o.marginLeft,width:r,height:i};return g(s)}function y(e){var t=e.nodeName;return"BODY"!==t&&"HTML"!==t&&("fixed"===o(e,"position")||y(r(e)))}function E(e){if(!e||!e.parentElement||a())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function x(e,t,n,o){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],f={top:0,left:0},s=a?E(e):l(e,t);if("viewport"===o)f=w(s,a);else{var p=void 0;"scrollParent"===o?(p=i(r(t)),"BODY"===p.nodeName&&(p=e.ownerDocument.documentElement)):p="window"===o?e.ownerDocument.documentElement:o;var u=b(p,s,a);if("HTML"!==p.nodeName||y(s))f=u;else{var d=m(e.ownerDocument),c=d.height,h=d.width;f.top+=u.top-u.marginTop,f.bottom=c+u.top,f.left+=u.left-u.marginLeft,f.right=h+u.left}}n=n||0;var g="number"==typeof n;return f.left+=g?n:n.left||0,f.top+=g?n:n.top||0,f.right-=g?n:n.right||0,f.bottom-=g?n:n.bottom||0,f}function O(e){var t=e.width,n=e.height;return t*n}function L(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var a=x(n,o,i,r),f={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},s=Object.keys(f).map(function(e){return we({key:e},f[e],{area:O(f[e])})}).sort(function(e,t){return t.area-e.area}),p=s.filter(function(e){var t=e.width,o=e.height;return t>=n.clientWidth&&o>=n.clientHeight}),l=p.length>0?p[0].key:s[0].key,u=e.split("-")[1];return l+(u?"-"+u:"")}function T(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=o?E(t):l(t,n);return b(n,r,o)}function M(e){var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e),o=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),r=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),i={width:e.offsetWidth+r,height:e.offsetHeight+o};return i}function D(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function N(e,t,n){n=n.split("-")[0];var o=M(e),r={width:o.width,height:o.height},i=["right","left"].indexOf(n)!==-1,a=i?"top":"left",f=i?"left":"top",s=i?"height":"width",p=i?"width":"height";return r[a]=t[a]+t[s]/2-o[s]/2,n===f?r[f]=t[f]-o[p]:r[f]=t[D(f)],r}function C(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function F(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var o=C(e,function(e){return e[t]===n});return e.indexOf(o)}function k(e,t,o){var r=void 0===o?e:e.slice(0,F(e,"name",o));return r.forEach(function(e){e["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var o=e["function"]||e.fn;e.enabled&&n(o)&&(t.offsets.popper=g(t.offsets.popper),t.offsets.reference=g(t.offsets.reference),t=o(t,e))}),t}function S(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=T(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=L(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=N(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=k(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function W(e,t){return e.some(function(e){var n=e.name,o=e.enabled;return o&&n===t})}function H(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<t.length;o++){var r=t[o],i=r?""+r+n:e;if("undefined"!=typeof document.body.style[i])return i}return null}function P(){return this.state.isDestroyed=!0,W(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[H("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function A(e){var t=e.ownerDocument;return t?t.defaultView:window}function B(e,t,n,o){var r="BODY"===e.nodeName,a=r?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),r||B(i(a.parentNode),t,n,o),o.push(a)}function I(e,t,n,o){n.updateBound=o,A(e).addEventListener("resize",n.updateBound,{passive:!0});var r=i(e);return B(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function j(){this.state.eventsEnabled||(this.state=I(this.reference,this.options,this.state,this.scheduleUpdate))}function R(e,t){return A(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function U(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=R(this.reference,this.state))}function Y(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function q(e,t){Object.keys(t).forEach(function(n){var o="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&Y(t[n])&&(o="px"),e.style[n]=t[n]+o})}function V(e,t){Object.keys(t).forEach(function(n){var o=t[n];o!==!1?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function K(e){return q(e.instance.popper,e.styles),V(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&q(e.arrowElement,e.arrowStyles),e}function z(e,t,n,o,r){var i=T(r,t,e,n.positionFixed),a=L(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),q(t,{position:n.positionFixed?"fixed":"absolute"}),n}function G(e,t){var n=e.offsets,o=n.popper,r=n.reference,i=["left","right"].indexOf(e.placement)!==-1,a=e.placement.indexOf("-")!==-1,f=r.width%2===o.width%2,s=r.width%2===1&&o.width%2===1,p=function(e){return e},l=t?i||a||f?Math.round:Math.floor:p,u=t?Math.round:p;return{left:l(s&&!a&&t?o.left-1:o.left),top:u(o.top),bottom:u(o.bottom),right:l(o.right)}}function _(e,t){var n=t.x,o=t.y,r=e.offsets.popper,i=C(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,s=f(e.instance.popper),p=v(s),l={position:r.position},u=G(e,window.devicePixelRatio<2||!ye),d="bottom"===n?"top":"bottom",c="right"===o?"left":"right",h=H("transform"),m=void 0,g=void 0;if(g="bottom"===d?"HTML"===s.nodeName?-s.clientHeight+u.bottom:-p.height+u.bottom:u.top,m="right"===c?"HTML"===s.nodeName?-s.clientWidth+u.right:-p.width+u.right:u.left,a&&h)l[h]="translate3d("+m+"px, "+g+"px, 0)",l[d]=0,l[c]=0,l.willChange="transform";else{var b="bottom"===d?-1:1,w="right"===c?-1:1;l[d]=g*b,l[c]=m*w,l.willChange=d+", "+c}var y={"x-placement":e.placement};return e.attributes=we({},y,e.attributes),e.styles=we({},l,e.styles),e.arrowStyles=we({},e.offsets.arrow,e.arrowStyles),e}function X(e,t,n){var o=C(e,function(e){var n=e.name;return n===t}),r=!!o&&e.some(function(e){return e.name===n&&e.enabled&&e.order<o.order});if(!r){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return r}function J(e,t){var n;if(!X(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(r=e.instance.popper.querySelector(r),!r)return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,f=a.popper,s=a.reference,p=["left","right"].indexOf(i)!==-1,l=p?"height":"width",u=p?"Top":"Left",d=u.toLowerCase(),c=p?"left":"top",h=p?"bottom":"right",m=M(r)[l];s[h]-m<f[d]&&(e.offsets.popper[d]-=f[d]-(s[h]-m)),s[d]+m>f[h]&&(e.offsets.popper[d]+=s[d]+m-f[h]),e.offsets.popper=g(e.offsets.popper);var v=s[d]+s[l]/2-m/2,b=o(e.instance.popper),w=parseFloat(b["margin"+u],10),y=parseFloat(b["border"+u+"Width"],10),E=v-e.offsets.popper[d]-w-y;return E=Math.max(Math.min(f[l]-m,E),0),e.arrowElement=r,e.offsets.arrow=(n={},be(n,d,Math.round(E)),be(n,c,""),n),e}function Q(e){return"end"===e?"start":"start"===e?"end":e}function Z(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=xe.indexOf(e),o=xe.slice(n+1).concat(xe.slice(0,n));return t?o.reverse():o}function $(e,t){if(W(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=x(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),o=e.placement.split("-")[0],r=D(o),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case Oe.FLIP:a=[o,r];break;case Oe.CLOCKWISE:a=Z(o);break;case Oe.COUNTERCLOCKWISE:a=Z(o,!0);break;default:a=t.behavior}return a.forEach(function(f,s){if(o!==f||a.length===s+1)return e;o=e.placement.split("-")[0],r=D(o);var p=e.offsets.popper,l=e.offsets.reference,u=Math.floor,d="left"===o&&u(p.right)>u(l.left)||"right"===o&&u(p.left)<u(l.right)||"top"===o&&u(p.bottom)>u(l.top)||"bottom"===o&&u(p.top)<u(l.bottom),c=u(p.left)<u(n.left),h=u(p.right)>u(n.right),m=u(p.top)<u(n.top),g=u(p.bottom)>u(n.bottom),v="left"===o&&c||"right"===o&&h||"top"===o&&m||"bottom"===o&&g,b=["top","bottom"].indexOf(o)!==-1,w=!!t.flipVariations&&(b&&"start"===i&&c||b&&"end"===i&&h||!b&&"start"===i&&m||!b&&"end"===i&&g);(d||v||w)&&(e.flipped=!0,(d||v)&&(o=a[s+1]),w&&(i=Q(i)),e.placement=o+(i?"-"+i:""),e.offsets.popper=we({},e.offsets.popper,N(e.instance.popper,e.offsets.reference,e.placement)),e=k(e.instance.modifiers,e,"flip"))}),e}function ee(e){var t=e.offsets,n=t.popper,o=t.reference,r=e.placement.split("-")[0],i=Math.floor,a=["top","bottom"].indexOf(r)!==-1,f=a?"right":"bottom",s=a?"left":"top",p=a?"width":"height";return n[f]<i(o[s])&&(e.offsets.popper[s]=i(o[s])-n[p]),n[s]>i(o[f])&&(e.offsets.popper[s]=i(o[f])),e}function te(e,t,n,o){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+r[1],a=r[2];if(!i)return e;if(0===a.indexOf("%")){var f=void 0;switch(a){case"%p":f=n;break;case"%":case"%r":default:f=o}var s=g(f);return s[t]/100*i}if("vh"===a||"vw"===a){var p=void 0;return p="vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),p/100*i}return i}function ne(e,t,n,o){var r=[0,0],i=["right","left"].indexOf(o)!==-1,a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),f=a.indexOf(C(a,function(e){return e.search(/,|\s/)!==-1}));a[f]&&a[f].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var s=/\s*,\s*|\s+/,p=f!==-1?[a.slice(0,f).concat([a[f].split(s)[0]]),[a[f].split(s)[1]].concat(a.slice(f+1))]:[a];return p=p.map(function(e,o){var r=(1===o?!i:i)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&["+","-"].indexOf(t)!==-1?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return te(e,r,t,n)})}),p.forEach(function(e,t){e.forEach(function(n,o){Y(n)&&(r[t]+=n*("-"===e[o-1]?-1:1))})}),r}function oe(e,t){var n=t.offset,o=e.placement,r=e.offsets,i=r.popper,a=r.reference,f=o.split("-")[0],s=void 0;return s=Y(+n)?[+n,0]:ne(n,i,a,f),"left"===f?(i.top+=s[0],i.left-=s[1]):"right"===f?(i.top+=s[0],i.left+=s[1]):"top"===f?(i.left+=s[0],i.top-=s[1]):"bottom"===f&&(i.left+=s[0],i.top+=s[1]),e.popper=i,e}function re(e,t){var n=t.boundariesElement||f(e.instance.popper);e.instance.reference===n&&(n=f(n));var o=H("transform"),r=e.instance.popper.style,i=r.top,a=r.left,s=r[o];r.top="",r.left="",r[o]="";var p=x(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=i,r.left=a,r[o]=s,t.boundaries=p;var l=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<p[e]&&!t.escapeWithReference&&(n=Math.max(u[e],p[e])),be({},e,n)},secondary:function(e){var n="right"===e?"left":"top",o=u[n];return u[e]>p[e]&&!t.escapeWithReference&&(o=Math.min(u[n],p[e]-("right"===e?u.width:u.height))),be({},n,o)}};return l.forEach(function(e){var t=["left","top"].indexOf(e)!==-1?"primary":"secondary";u=we({},u,d[t](e))}),e.offsets.popper=u,e}function ie(e){var t=e.placement,n=t.split("-")[0],o=t.split("-")[1];if(o){var r=e.offsets,i=r.reference,a=r.popper,f=["bottom","top"].indexOf(n)!==-1,s=f?"left":"top",p=f?"width":"height",l={start:be({},s,i[s]),end:be({},s,i[s]+i[p]-a[p])};e.offsets.popper=we({},a,l[o])}return e}function ae(e){if(!X(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=C(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function fe(e){var t=e.placement,n=t.split("-")[0],o=e.offsets,r=o.popper,i=o.reference,a=["left","right"].indexOf(n)!==-1,f=["top","left"].indexOf(n)===-1;return r[a?"left":"top"]=i[n]-(f?r[a?"width":"height"]:0),e.placement=D(t),e.offsets.popper=g(r),e}for(var se="undefined"!=typeof window&&"undefined"!=typeof document,pe=["Edge","Trident","Firefox"],le=0,ue=0;ue<pe.length;ue+=1)if(se&&navigator.userAgent.indexOf(pe[ue])>=0){le=1;break}var de=se&&window.Promise,ce=de?e:t,he=se&&!(!window.MSInputMethodContext||!document.documentMode),me=se&&/MSIE 10/.test(navigator.userAgent),ge=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ve=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),be=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ye=se&&/Firefox/i.test(navigator.userAgent),Ee=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],xe=Ee.slice(3),Oe={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Le={shift:{order:100,enabled:!0,fn:ie},offset:{order:200,enabled:!0,fn:oe,offset:0},preventOverflow:{order:300,enabled:!0,fn:re,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:ee},arrow:{order:500,enabled:!0,fn:J,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:$,behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:fe},hide:{order:800,enabled:!0,fn:ae},computeStyle:{order:850,enabled:!0,fn:_,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:K,onLoad:z,gpuAcceleration:void 0}},Te={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Le},Me=function(){function e(t,o){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ge(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=ce(this.update.bind(this)),this.options=we({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=o&&o.jquery?o[0]:o,this.options.modifiers={},Object.keys(we({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){r.options.modifiers[t]=we({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return we({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&n(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return ve(e,[{key:"update",value:function(){return S.call(this)}},{key:"destroy",value:function(){return P.call(this)}},{key:"enableEventListeners",value:function(){return j.call(this)}},{key:"disableEventListeners",value:function(){return U.call(this)}}]),e}();return Me.Utils=("undefined"!=typeof window?window:global).PopperUtils,Me.placements=Ee,Me.Defaults=Te,Me});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],60:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],61:[function(require,module,exports){
!function(){"use strict";function e(e){return r(n(e),arguments)}function t(t,r){return e.apply(null,[t].concat(r||[]))}function r(t,r){var n,i,a,o,p,c,u,f,l,d=1,g=t.length,b="";for(i=0;i<g;i++)if("string"==typeof t[i])b+=t[i];else if(Array.isArray(t[i])){if(o=t[i],o[2])for(n=r[d],a=0;a<o[2].length;a++){if(!n.hasOwnProperty(o[2][a]))throw new Error(e('[sprintf] property "%s" does not exist',o[2][a]));n=n[o[2][a]]}else n=o[1]?r[o[1]]:r[d++];if(s.not_type.test(o[8])&&s.not_primitive.test(o[8])&&n instanceof Function&&(n=n()),s.numeric_arg.test(o[8])&&"number"!=typeof n&&isNaN(n))throw new TypeError(e("[sprintf] expecting number but found %T",n));switch(s.number.test(o[8])&&(f=n>=0),o[8]){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,o[6]?parseInt(o[6]):0);break;case"e":n=o[7]?parseFloat(n).toExponential(o[7]):parseFloat(n).toExponential();break;case"f":n=o[7]?parseFloat(n).toFixed(o[7]):parseFloat(n);break;case"g":n=o[7]?String(Number(n.toPrecision(o[7]))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=o[7]?n.substring(0,o[7]):n;break;case"t":n=String(!!n),n=o[7]?n.substring(0,o[7]):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=o[7]?n.substring(0,o[7]):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=o[7]?n.substring(0,o[7]):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}s.json.test(o[8])?b+=n:(!s.number.test(o[8])||f&&!o[3]?l="":(l=f?"+":"-",n=n.toString().replace(s.sign,"")),c=o[4]?"0"===o[4]?"0":o[4].charAt(1):" ",u=o[6]-(l+n).length,p=o[6]&&u>0?c.repeat(u):"",b+=o[5]?l+n+p:"0"===c?l+p+n:p+l+n)}return b}function n(e){if(i[e])return i[e];for(var t,r=e,n=[],a=0;r;){if(null!==(t=s.text.exec(r)))n.push(t[0]);else if(null!==(t=s.modulo.exec(r)))n.push("%");else{if(null===(t=s.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){a|=1;var o=[],p=t[2],c=[];if(null===(c=s.key.exec(p)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(c[1]);""!==(p=p.substring(c[0].length));)if(null!==(c=s.key_access.exec(p)))o.push(c[1]);else{if(null===(c=s.index_access.exec(p)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(c[1])}t[2]=o}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push(t)}r=r.substring(t[0].length)}return i[e]=n}var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/},i=Object.create(null);"undefined"!=typeof exports&&(exports.sprintf=e,exports.vsprintf=t),"undefined"!=typeof window&&(window.sprintf=e,window.vsprintf=t,"function"==typeof define&&define.amd&&define(function(){return{sprintf:e,vsprintf:t}}))}();
},{}],62:[function(require,module,exports){
(function (setImmediate,clearImmediate){
function Timeout(e,t){this._id=e,this._clearFn=t}var nextTick=require("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(e){e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},exports.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},exports._unrefActive=exports.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=nextImmediateId++,i=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[t]=!0,nextTick(function(){immediateIds[t]&&(i?e.apply(null,i):e.call(null),exports.clearImmediate(t))}),t},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete immediateIds[e]};
}).call(this,require("timers").setImmediate,require("timers").clearImmediate)

},{"process/browser.js":60,"timers":62}],63:[function(require,module,exports){
var trim=require("./trim"),decap=require("./decapitalize");module.exports=function(e,r){return e=trim(e).replace(/[-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),r===!0?decap(e):e};
},{"./decapitalize":72,"./trim":124}],64:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e);var t=r?e.slice(1).toLowerCase():e.slice(1);return e.charAt(0).toUpperCase()+t};
},{"./helper/makeString":82}],65:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return makeString(e).split("")};
},{"./helper/makeString":82}],66:[function(require,module,exports){
module.exports=function(n,e){return null==n?[]:(n=String(n),e=~~e,e>0?n.match(new RegExp(".{1,"+e+"}","g")):[n])};
},{}],67:[function(require,module,exports){
var capitalize=require("./capitalize"),camelize=require("./camelize"),makeString=require("./helper/makeString");module.exports=function(e){return e=makeString(e),capitalize(camelize(e.replace(/[\W_]/g," ")).replace(/\s/g,""))};
},{"./camelize":63,"./capitalize":64,"./helper/makeString":82}],68:[function(require,module,exports){
var trim=require("./trim");module.exports=function(r){return trim(r).replace(/\s\s+/g," ")};
},{"./trim":124}],69:[function(require,module,exports){
var makeString=require("./helper/makeString"),from="",to="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";from+=from.toUpperCase(),to+=to.toUpperCase(),to=to.split(""),from+="",to.push("ss"),module.exports=function(o){return makeString(o).replace(/.{1}/g,function(o){var e=from.indexOf(o);return e===-1?o:to[e]})};
},{"./helper/makeString":82}],70:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){return e=makeString(e),r=makeString(r),0===e.length||0===r.length?0:e.split(r).length-1};
},{"./helper/makeString":82}],71:[function(require,module,exports){
var trim=require("./trim");module.exports=function(r){return trim(r).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()};
},{"./trim":124}],72:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return e=makeString(e),e.charAt(0).toLowerCase()+e.slice(1)};
},{"./helper/makeString":82}],73:[function(require,module,exports){
function getIndent(e){for(var t=e.match(/^[\s\\t]*/gm),n=t[0].length,r=1;r<t.length;r++)n=Math.min(t[r].length,n);return n}var makeString=require("./helper/makeString");module.exports=function(e,t){e=makeString(e);var n,r=getIndent(e);return 0===r?e:(n="string"==typeof t?new RegExp("^"+t,"gm"):new RegExp("^[ \\t]{"+r+"}","gm"),e.replace(n,""))};
},{"./helper/makeString":82}],74:[function(require,module,exports){
var makeString=require("./helper/makeString"),toPositive=require("./helper/toPositive");module.exports=function(e,t,i){return e=makeString(e),t=""+t,i="undefined"==typeof i?e.length-t.length:Math.min(toPositive(i),e.length)-t.length,i>=0&&e.indexOf(t,i)===i};
},{"./helper/makeString":82,"./helper/toPositive":84}],75:[function(require,module,exports){
var makeString=require("./helper/makeString"),escapeChars=require("./helper/escapeChars"),regexString="[";for(var key in escapeChars)regexString+=key;regexString+="]";var regex=new RegExp(regexString,"g");module.exports=function(e){return makeString(e).replace(regex,function(e){return"&"+escapeChars[e]+";"})};
},{"./helper/escapeChars":79,"./helper/makeString":82}],76:[function(require,module,exports){
module.exports=function(){var r={};for(var n in this)this.hasOwnProperty(n)&&!n.match(/^(?:include|contains|reverse|join|map|wrap)$/)&&(r[n]=this[n]);return r};
},{}],77:[function(require,module,exports){
var makeString=require("./makeString");module.exports=function(e,r){return e=makeString(e),0===e.length?"":e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+r)};
},{"./makeString":82}],78:[function(require,module,exports){
var escapeRegExp=require("./escapeRegExp");module.exports=function(e){return null==e?"\\s":e.source?e.source:"["+escapeRegExp(e)+"]"};
},{"./escapeRegExp":80}],79:[function(require,module,exports){
var escapeChars={"":"cent","":"pound","":"yen","":"euro","":"copy","":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};module.exports=escapeChars;
},{}],80:[function(require,module,exports){
var makeString=require("./makeString");module.exports=function(e){return makeString(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")};
},{"./makeString":82}],81:[function(require,module,exports){
var htmlEntities={nbsp:" ",cent:"",pound:"",yen:"",euro:"",copy:"",reg:"",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};module.exports=htmlEntities;
},{}],82:[function(require,module,exports){
module.exports=function(n){return null==n?"":""+n};
},{}],83:[function(require,module,exports){
module.exports=function(r,e){if(e<1)return"";for(var n="";e>0;)1&e&&(n+=r),e>>=1,r+=r;return n};
},{}],84:[function(require,module,exports){
module.exports=function(e){return e<0?0:+e||0};
},{}],85:[function(require,module,exports){
var capitalize=require("./capitalize"),underscored=require("./underscored"),trim=require("./trim");module.exports=function(e){return capitalize(trim(underscored(e).replace(/_id$/,"").replace(/_/g," ")))};
},{"./capitalize":64,"./trim":124,"./underscored":126}],86:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){return""===r||makeString(e).indexOf(r)!==-1};
},{"./helper/makeString":82}],87:[function(require,module,exports){
var splice=require("./splice");module.exports=function(e,r,i){return splice(e,r,0,i)};
},{"./splice":108}],88:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return/^\s*$/.test(makeString(e))};
},{"./helper/makeString":82}],89:[function(require,module,exports){
var makeString=require("./helper/makeString"),slice=[].slice;module.exports=function(){var e=slice.call(arguments),r=e.shift();return e.join(makeString(r))};
},{"./helper/makeString":82}],90:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(r,e){"use strict";if(r=makeString(r),e=makeString(e),r===e)return 0;if(!r||!e)return Math.max(r.length,e.length);for(var t=new Array(e.length+1),n=0;n<t.length;++n)t[n]=n;for(n=0;n<r.length;++n){for(var a=n+1,g=0;g<e.length;++g){var h=a;a=t[g]+(r.charAt(n)===e.charAt(g)?0:1);var i=h+1;a>i&&(a=i),i=t[g+1]+1,a>i&&(a=i),t[g]=h}t[g]=a}return a};
},{"./helper/makeString":82}],91:[function(require,module,exports){
module.exports=function(n){return null==n?[]:String(n).split(/\r\n?|\n/)};
},{}],92:[function(require,module,exports){
var pad=require("./pad");module.exports=function(r,e,a){return pad(r,e,a)};
},{"./pad":98}],93:[function(require,module,exports){
var pad=require("./pad");module.exports=function(r,e,a){return pad(r,e,a,"both")};
},{"./pad":98}],94:[function(require,module,exports){
var makeString=require("./helper/makeString"),defaultToWhiteSpace=require("./helper/defaultToWhiteSpace"),nativeTrimLeft=String.prototype.trimLeft;module.exports=function(e,t){return e=makeString(e),!t&&nativeTrimLeft?nativeTrimLeft.call(e):(t=defaultToWhiteSpace(t),e.replace(new RegExp("^"+t+"+"),""))};
},{"./helper/defaultToWhiteSpace":78,"./helper/makeString":82}],95:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){return e=makeString(e),0===e.length||"function"!=typeof r?e:e.replace(/./g,r)};
},{"./helper/makeString":82}],96:[function(require,module,exports){
module.exports=function(t,r){if(t==r)return 0;if(!t)return-1;if(!r)return 1;for(var n=/(\.\d+|\d+|\D+)/g,e=String(t).match(n),g=String(r).match(n),h=Math.min(e.length,g.length),i=0;i<h;i++){var l=e[i],u=g[i];if(l!==u){var a=+l,f=+u;return a===a&&f===f?a>f?1:-1:l<u?-1:1}}return e.length!=g.length?e.length-g.length:t<r?-1:1};
},{}],97:[function(require,module,exports){
module.exports=function(e,r,t,i){if(isNaN(e)||null==e)return"";e=e.toFixed(~~r),i="string"==typeof i?i:",";var n=e.split("."),l=n[0],o=n[1]?(t||".")+n[1]:"";return l.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+o};
},{}],98:[function(require,module,exports){
var makeString=require("./helper/makeString"),strRepeat=require("./helper/strRepeat");module.exports=function(e,t,r,a){e=makeString(e),t=~~t;var h=0;switch(r?r.length>1&&(r=r.charAt(0)):r=" ",a){case"right":return h=t-e.length,e+strRepeat(r,h);case"both":return h=t-e.length,strRepeat(r,Math.ceil(h/2))+e+strRepeat(r,Math.floor(h/2));default:return h=t-e.length,strRepeat(r,h)+e}};
},{"./helper/makeString":82,"./helper/strRepeat":83}],99:[function(require,module,exports){
var adjacent=require("./helper/adjacent");module.exports=function(e){return adjacent(e,-1)};
},{"./helper/adjacent":77}],100:[function(require,module,exports){
var makeString=require("./helper/makeString"),rtrim=require("./rtrim");module.exports=function(e,r,t){if(e=makeString(e),r=~~r,t=null!=t?String(t):"...",e.length<=r)return e;var n=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},i=e.slice(0,r+1).replace(/.(?=\W*\w*$)/g,n);return i=i.slice(i.length-2).match(/\w\w/)?i.replace(/\s*\S+$/,""):rtrim(i.slice(0,i.length-1)),(i+t).length>e.length?e:e.slice(0,i.length)+t};
},{"./helper/makeString":82,"./rtrim":106}],101:[function(require,module,exports){
var surround=require("./surround");module.exports=function(r,u){return surround(r,u||'"')};
},{"./surround":117}],102:[function(require,module,exports){
var makeString=require("./helper/makeString"),strRepeat=require("./helper/strRepeat");module.exports=function e(r,t,n){if(r=makeString(r),t=~~t,null==n)return strRepeat(r,t);for(var e=[];t>0;e[--t]=r);return e.join(n)};
},{"./helper/makeString":82,"./helper/strRepeat":83}],103:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r,n,a){var g=a===!0?"gi":"g",i=new RegExp(r,g);return makeString(e).replace(i,n)};
},{"./helper/makeString":82}],104:[function(require,module,exports){
var chars=require("./chars");module.exports=function(r){return chars(r).reverse().join("")};
},{"./chars":65}],105:[function(require,module,exports){
var pad=require("./pad");module.exports=function(r,e,a){return pad(r,e,a,"right")};
},{"./pad":98}],106:[function(require,module,exports){
var makeString=require("./helper/makeString"),defaultToWhiteSpace=require("./helper/defaultToWhiteSpace"),nativeTrimRight=String.prototype.trimRight;module.exports=function(e,t){return e=makeString(e),!t&&nativeTrimRight?nativeTrimRight.call(e):(t=defaultToWhiteSpace(t),e.replace(new RegExp(t+"+$"),""))};
},{"./helper/defaultToWhiteSpace":78,"./helper/makeString":82}],107:[function(require,module,exports){
var trim=require("./trim"),dasherize=require("./dasherize"),cleanDiacritics=require("./cleanDiacritics");module.exports=function(e){return trim(dasherize(cleanDiacritics(e).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")};
},{"./cleanDiacritics":69,"./dasherize":71,"./trim":124}],108:[function(require,module,exports){
var chars=require("./chars");module.exports=function(r,e,a,c){var s=chars(r);return s.splice(~~e,~~a,c),s.join("")};
},{"./chars":65}],109:[function(require,module,exports){
var deprecate=require("util-deprecate");module.exports=deprecate(require("sprintf-js").sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.");
},{"sprintf-js":61,"util-deprecate":132}],110:[function(require,module,exports){
var makeString=require("./helper/makeString"),toPositive=require("./helper/toPositive");module.exports=function(e,t,i){return e=makeString(e),t=""+t,i=null==i?0:Math.min(toPositive(i),e.length),e.lastIndexOf(t,i)===i};
},{"./helper/makeString":82,"./helper/toPositive":84}],111:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e),r=makeString(r);var i=r?e.indexOf(r):-1;return~i?e.slice(0,i):e};
},{"./helper/makeString":82}],112:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e),r=makeString(r);var n=e.lastIndexOf(r);return~n?e.slice(0,n):e};
},{"./helper/makeString":82}],113:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e),r=makeString(r);var n=r?e.indexOf(r):-1;return~n?e.slice(n+r.length,e.length):e};
},{"./helper/makeString":82}],114:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e),r=makeString(r);var n=r?e.lastIndexOf(r):-1;return~n?e.slice(n+r.length,e.length):e};
},{"./helper/makeString":82}],115:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return makeString(e).replace(/<\/?[^>]+>/g,"")};
},{"./helper/makeString":82}],116:[function(require,module,exports){
var adjacent=require("./helper/adjacent");module.exports=function(e){return adjacent(e,1)};
},{"./helper/adjacent":77}],117:[function(require,module,exports){
module.exports=function(n,o){return[o,n,o].join("")};
},{}],118:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return makeString(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})};
},{"./helper/makeString":82}],119:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return makeString(e).toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})};
},{"./helper/makeString":82}],120:[function(require,module,exports){
function boolMatch(t,r){var e,o,i=t.toLowerCase();for(r=[].concat(r),e=0;e<r.length;e+=1)if(o=r[e]){if(o.test&&o.test(t))return!0;if(o.toLowerCase()===i)return!0}}var trim=require("./trim");module.exports=function(t,r,e){return"number"==typeof t&&(t=""+t),"string"!=typeof t?!!t:(t=trim(t),!!boolMatch(t,r||["true","1"])||!boolMatch(t,e||["false","0"])&&void 0)};
},{"./trim":124}],121:[function(require,module,exports){
module.exports=function(n,r){if(null==n)return 0;var t=Math.pow(10,isFinite(r)?r:0);return Math.round(n*t)/t};
},{}],122:[function(require,module,exports){
var rtrim=require("./rtrim");module.exports=function(r,e,t,i){e=e||", ",t=t||" and ";var n=r.slice(),o=n.pop();return r.length>2&&i&&(t=rtrim(e)+t),n.length?n.join(e)+t+o:o};
},{"./rtrim":106}],123:[function(require,module,exports){
var toSentence=require("./toSentence");module.exports=function(e,n,t){return toSentence(e,n,t,!0)};
},{"./toSentence":122}],124:[function(require,module,exports){
var makeString=require("./helper/makeString"),defaultToWhiteSpace=require("./helper/defaultToWhiteSpace"),nativeTrim=String.prototype.trim;module.exports=function(e,r){return e=makeString(e),!r&&nativeTrim?nativeTrim.call(e):(r=defaultToWhiteSpace(r),e.replace(new RegExp("^"+r+"+|"+r+"+$","g"),""))};
},{"./helper/defaultToWhiteSpace":78,"./helper/makeString":82}],125:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r,n){return e=makeString(e),n=n||"...",r=~~r,e.length>r?e.slice(0,r)+n:e};
},{"./helper/makeString":82}],126:[function(require,module,exports){
var trim=require("./trim");module.exports=function(r){return trim(r).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()};
},{"./trim":124}],127:[function(require,module,exports){
var makeString=require("./helper/makeString"),htmlEntities=require("./helper/htmlEntities");module.exports=function(t){return makeString(t).replace(/\&([^;]{1,10});/g,function(t,e){var r;return e in htmlEntities?htmlEntities[e]:(r=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(r[1],16)):(r=e.match(/^#(\d+)$/))?String.fromCharCode(~~r[1]):t})};
},{"./helper/htmlEntities":81,"./helper/makeString":82}],128:[function(require,module,exports){
module.exports=function(e,n){return n=n||'"',e[0]===n&&e[e.length-1]===n?e.slice(1,e.length-1):e};
},{}],129:[function(require,module,exports){
var deprecate=require("util-deprecate");module.exports=deprecate(require("sprintf-js").vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.");
},{"sprintf-js":61,"util-deprecate":132}],130:[function(require,module,exports){
var isBlank=require("./isBlank"),trim=require("./trim");module.exports=function(r,i){return isBlank(r)?[]:trim(r,i).split(i||/\s+/)};
},{"./isBlank":88,"./trim":124}],131:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(r,e){r=makeString(r),e=e||{};var t,i=e.width||75,f=e.seperator||"\n",n=e.cut||!1,a=e.preserveSpaces||!1,l=e.trailingSpaces||!1;if(i<=0)return r;if(n){var o=0;for(t="";o<r.length;)o%i==0&&o>0&&(t+=f),t+=r.charAt(o),o++;if(l)for(;o%i>0;)t+=" ",o++;return t}var g=r.split(" "),h=0;for(t="";g.length>0;){if(1+g[0].length+h>i&&h>0){if(a)t+=" ",h++;else if(l)for(;h<i;)t+=" ",h++;t+=f,h=0}h>0&&(t+=" ",h++),t+=g[0],h+=g[0].length,g.shift()}if(l)for(;h<i;)t+=" ",h++;return t};
},{"./helper/makeString":82}],132:[function(require,module,exports){
(function (global){
function deprecate(r,e){function o(){if(!t){if(config("throwDeprecation"))throw new Error(e);config("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return r.apply(this,arguments)}if(config("noDeprecation"))return r;var t=!1;return o}function config(r){try{if(!global.localStorage)return!1}catch(e){return!1}var o=global.localStorage[r];return null!=o&&"true"===String(o).toLowerCase()}module.exports=deprecate;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],"backbone.marionette":[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("backbone"),require("underscore"),require("backbone.radio")):"function"==typeof define&&define.amd?define(["backbone","underscore","backbone.radio"],t):e.Marionette=t(e.Backbone,e._,e.Backbone.Radio)}(this,function(e,t,i){"use strict";function n(e,t,i){return i.toUpperCase()}function s(e){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];var r=Z(e),o=K.call(this,r),h=void 0;return t.isFunction(o)&&(h=o.apply(this,n)),this.trigger.apply(this,arguments),h}function r(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return t.isFunction(e.triggerMethod)?e.triggerMethod.apply(e,n):s.apply(e,n)}function o(e,i,n){e._getImmediateChildren&&t.each(e._getImmediateChildren(),function(e){n(e)&&r(e,i,e)})}function h(e){return!e._isAttached}function d(e){return!!h(e)&&(e._isAttached=!0,!0)}function l(e){return e._isAttached}function a(e){return!!l(e)&&(e._isAttached=!1,!0)}function c(e){e._isAttached&&e._isRendered&&r(e,"dom:refresh",e)}function u(e){e._isAttached&&e._isRendered&&r(e,"dom:remove",e)}function f(){o(this,"before:attach",h)}function _(){o(this,"attach",d),c(this)}function p(){o(this,"before:detach",l),u(this)}function g(){o(this,"detach",a)}function v(){u(this)}function m(){c(this)}function w(e){e._areViewEventsMonitored||e.monitorViewEvents===!1||(e._areViewEventsMonitored=!0,e.on({"before:attach":f,attach:_,"before:detach":p,detach:g,"before:render":v,render:m}))}function y(e,i,n,s,r){var o=s.split(/\s+/);o.length>1&&N("Multiple handlers for a single event are deprecated. If needed, use a single handler to call multiple methods."),t.each(o,function(t){var s=e[t];if(!s)throw new J('Method "'+t+'" was configured as an event handler, but does not exist.');e[r](i,n,s)})}function C(e,i,n,s){if(!t.isObject(n))throw new J({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindevents"});t.each(n,function(n,r){return t.isString(n)?void y(e,i,r,n,s):void e[s](i,r,n)})}function V(e,t){return e&&t?(C(this,e,t,"listenTo"),this):this}function E(e,t){return e?t?(C(this,e,t,"stopListening"),this):(this.stopListening(e),this):this}function b(e,i,n,s){if(!t.isObject(n))throw new J({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindrequests"});var r=W.call(e,n);i[s](r,e)}function M(e,t){return e&&t?(b(this,e,t,"reply"),this):this}function R(e,t){return e?t?(b(this,e,t,"stopReplying"),this):(e.stopReplying(null,null,this),this):this}function B(e,i){return e.behaviorClass?e.behaviorClass:t.isFunction(e)?e:t.isFunction(je.Behaviors.behaviorsLookup)?je.Behaviors.behaviorsLookup(e,i)[i]:je.Behaviors.behaviorsLookup[i]}function x(e,i){return t.chain(i).map(function(i,n){var s=B(i,n),r=i===s?{}:i,o=new s(r,e),h=x(e,t.result(o,"behaviors"));return[o].concat(h)}).flatten().value()}function D(e){return!!le[e]}function A(e,t){return le[e]=t}function O(e,i){t.isString(i)&&(i={event:i});var n=i.event,s=!!i.preventDefault;D("triggersPreventDefault")&&(s=i.preventDefault!==!1);var r=!!i.stopPropagation;return D("triggersStopPropagation")&&(r=i.stopPropagation!==!1),function(t){s&&t.preventDefault(),r&&t.stopPropagation(),e.triggerMethod(n,e,t)}}function I(t){return t instanceof e.$?t:e.$(t)}function $(e){return this.prototype.Dom=t.extend({},this.prototype.Dom,e),this}function T(e){e._isRendered||(e.supportsRenderLifecycle||r(e,"before:render",e),e.render(),e.supportsRenderLifecycle||(e._isRendered=!0,r(e,"render",e)))}function U(e){if(e.destroy)return void e.destroy();e.supportsDestroyLifecycle||r(e,"before:destroy",e);var t=e._isAttached&&!e._shouldDisableEvents;t&&r(e,"before:detach",e),e.remove(),t&&(e._isAttached=!1,r(e,"detach",e)),e._isDestroyed=!0,e.supportsDestroyLifecycle||r(e,"destroy",e)}function S(e,i){var n=t.extend({},i);if(t.isString(e))return t.extend(n,{el:e}),F(n);if(t.isFunction(e))return t.extend(n,{regionClass:e}),F(n);if(t.isObject(e))return e.selector&&N("The selector option on a Region definition object is deprecated. Use el to pass a selector string"),t.extend(n,{el:e.selector},e),F(n);throw new J({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})}function F(e){var i=e.regionClass,n=t.omit(e,"regionClass");return new i(n)}function L(e,t){return t.model&&t.model.get(e)}function P(){throw new J({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.md#behaviorslookup"})}e=e&&e.hasOwnProperty("default")?e["default"]:e,t=t&&t.hasOwnProperty("default")?t["default"]:t,i=i&&i.hasOwnProperty("default")?i["default"]:i;var z="3.5.1",k=function(e){return function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return e.apply(t,n)}},j=e.Model.extend,N=function Ne(e,i){t.isObject(e)&&(e=e.prev+" is going to be removed in the future. Please use "+e.next+" instead."+(e.url?" See: "+e.url:"")),je.DEV_MODE&&(void 0!==i&&i||Ne._cache[e]||(Ne._warn("Deprecation warning: "+e),Ne._cache[e]=!0))};N._console="undefined"!=typeof console?console:{},N._warn=function(){var e=N._console.warn||N._console.log||t.noop;return e.apply(N._console,arguments)},N._cache={};var H=function(e){return document.documentElement.contains(e&&e.parentNode)},q=function(e,i){var n=this;e&&t.each(i,function(t){var i=e[t];void 0!==i&&(n[t]=i)})},K=function(e){if(e)return this.options&&void 0!==this.options[e]?this.options[e]:this[e]},W=function(e){var i=this;return t.reduce(e,function(e,n,s){return t.isFunction(n)||(n=i[n]),n&&(e[s]=n),e},{})},Y=/(^|:)(\w)/gi,Z=t.memoize(function(e){return"on"+e.replace(Y,n)}),G=["description","fileName","lineNumber","name","message","number"],J=j.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+z+"/",constructor:function(e,i){t.isObject(e)?(i=e,e=i.message):i||(i={});var n=Error.call(this,e);t.extend(this,t.pick(n,G),t.pick(i,G)),this.captureStackTrace(),i.url&&(this.url=this.urlRoot+i.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,J)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}});J.extend=j;var Q=function(e){this.options=t.extend({},t.result(this,"options"),e)},X={normalizeMethods:W,_setOptions:Q,mergeOptions:q,getOption:K,bindEvents:V,unbindEvents:E},ee={_initRadio:function(){var e=t.result(this,"channelName");if(e){if(!i)throw new J({name:"BackboneRadioMissing",message:'The dependency "backbone.radio" is missing.'});var n=this._channel=i.channel(e),s=t.result(this,"radioEvents");this.bindEvents(n,s);var r=t.result(this,"radioRequests");this.bindRequests(n,r),this.on("destroy",this._destroyRadio)}},_destroyRadio:function(){this._channel.stopReplying(null,null,this)},getChannel:function(){return this._channel},bindEvents:V,unbindEvents:E,bindRequests:M,unbindRequests:R},te=["channelName","radioEvents","radioRequests"],ie=function(e){this.hasOwnProperty("options")||this._setOptions(e),this.mergeOptions(e,te),this._setCid(),this._initRadio(),this.initialize.apply(this,arguments)};ie.extend=j,t.extend(ie.prototype,e.Events,X,ee,{cidPrefix:"mno",_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},initialize:function(){},_setCid:function(){this.cid||(this.cid=t.uniqueId(this.cidPrefix))},destroy:function(){if(this._isDestroyed)return this;for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.triggerMethod.apply(this,["before:destroy",this].concat(t)),this._isDestroyed=!0,this.triggerMethod.apply(this,["destroy",this].concat(t)),this.stopListening(),this},triggerMethod:s});var ne=function(e){this.templateId=e};t.extend(ne,{templateCaches:{},get:function(e,t){var i=this.templateCaches[e];return i||(i=new ne(e),this.templateCaches[e]=i),i.load(t)},clear:function(){for(var e=void 0,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];var s=i.length;if(s>0)for(e=0;e<s;e++)delete this.templateCaches[i[e]];else this.templateCaches={}}}),t.extend(ne.prototype,{load:function(e){if(this.compiledTemplate)return this.compiledTemplate;var t=this.loadTemplate(this.templateId,e);return this.compiledTemplate=this.compileTemplate(t,e),this.compiledTemplate},loadTemplate:function(t,i){var n=e.$(t);if(!n.length)throw new J({name:"NoTemplateError",message:'Could not find template: "'+t+'"'});return n.html()},compileTemplate:function(e,i){return t.template(e,i)}});var se=t.invokeMap||t.invoke,re={_initBehaviors:function(){this._behaviors=this._getBehaviors()},_getBehaviors:function(){var e=t.result(this,"behaviors");return t.isObject(e)?x(this,e):{}},_getBehaviorTriggers:function(){var e=se(this._behaviors,"getTriggers");return t.reduce(e,function(e,i){return t.extend(e,i)},{})},_getBehaviorEvents:function(){var e=se(this._behaviors,"getEvents");return t.reduce(e,function(e,i){return t.extend(e,i)},{})},_proxyBehaviorViewProperties:function(){se(this._behaviors,"proxyViewProperties")},_delegateBehaviorEntityEvents:function(){se(this._behaviors,"delegateEntityEvents")},_undelegateBehaviorEntityEvents:function(){se(this._behaviors,"undelegateEntityEvents")},_destroyBehaviors:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];se.apply(void 0,[this._behaviors,"destroy"].concat(t))},_removeBehavior:function(e){this._isDestroyed||(this.undelegate(".trig"+e.cid+" ."+e.cid),this._behaviors=t.without(this._behaviors,e))},_bindBehaviorUIElements:function(){se(this._behaviors,"bindUIElements")},_unbindBehaviorUIElements:function(){se(this._behaviors,"unbindUIElements")},_triggerEventOnBehaviors:function(){for(var e=this._behaviors,t=0,i=e&&e.length;t<i;t++)s.apply(e[t],arguments)}},oe={_delegateEntityEvents:function(e,i){var n=t.result(this,"modelEvents");n&&(E.call(this,e,n),V.call(this,e,n));var s=t.result(this,"collectionEvents");s&&(E.call(this,i,s),V.call(this,i,s))},_undelegateEntityEvents:function(e,i){var n=t.result(this,"modelEvents");E.call(this,e,n);var s=t.result(this,"collectionEvents");E.call(this,i,s)}},he=/^(\S+)\s*(.*)$/,de=function(e,t){var i=e.match(he);return i[1]+"."+t+" "+i[2]},le={childViewEventPrefix:!0,triggersStopPropagation:!0,triggersPreventDefault:!0},ae={_getViewTriggers:function(e,i){var n=this;return t.reduce(i,function(t,i,s){return s=de(s,"trig"+n.cid),t[s]=O(e,i),t},{})}},ce=function(e,i){return t.reduce(e,function(e,t,n){var s=ue(n,i);return e[s]=t,e},{})},ue=function(e,t){return e.replace(/@ui\.[a-zA-Z-_$0-9]*/g,function(e){return t[e.slice(4)]})},fe=function He(e,i,n){return t.each(e,function(s,r){t.isString(s)?e[r]=ue(s,i):t.isObject(s)&&t.isArray(n)&&(t.extend(s,He(t.pick(s,n),i)),t.each(n,function(e){var n=s[e];t.isString(n)&&(s[e]=ue(n,i))}))}),e},_e={normalizeUIKeys:function(e){var t=this._getUIBindings();return ce(e,t)},normalizeUIString:function(e){var t=this._getUIBindings();return ue(e,t)},normalizeUIValues:function(e,t){var i=this._getUIBindings();return fe(e,i,t)},_getUIBindings:function(){var e=t.result(this,"_uiBindings"),i=t.result(this,"ui");return e||i},_bindUIElements:function(){var e=this;if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var i=t.result(this,"_uiBindings");this._ui={},t.each(i,function(t,i){e._ui[i]=e.$(t)}),this.ui=this._ui}},_unbindUIElements:function(){var e=this;this.ui&&this._uiBindings&&(t.each(this.ui,function(t,i){delete e.ui[i]}),this.ui=this._uiBindings,delete this._uiBindings,delete this._ui)},_getUI:function(e){return this._ui[e]}},pe={createBuffer:function(){return document.createDocumentFragment()},getEl:function(e){return I(e)},findEl:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I(e);return i.find(t)},hasEl:function(e,t){return e.contains(t&&t.parentNode)},detachEl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I(e);t.detach()},replaceEl:function(e,t){if(e!==t){var i=t.parentNode;i&&i.replaceChild(e,t)}},swapEl:function(e,t){if(e!==t){var i=e.parentNode,n=t.parentNode;if(i&&n){var s=e.nextSibling,r=t.nextSibling;i.insertBefore(t,s),n.insertBefore(e,r)}}},setContents:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I(e);i.html(t)},appendContents:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i._$el,s=void 0===n?I(e):n,r=i._$contents,o=void 0===r?I(t):r;s.append(o)},hasContents:function(e){return!!e&&e.hasChildNodes()},detachContents:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I(e);t.contents().detach()}},ge={Dom:pe,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,_isDestroyed:!1,isDestroyed:function(){return!!this._isDestroyed},_isRendered:!1,isRendered:function(){return!!this._isRendered},_isAttached:!1,isAttached:function(){return!!this._isAttached},delegateEvents:function(i){this._proxyBehaviorViewProperties(),this._buildEventProxies();var n=this._getEvents(i);"undefined"==typeof i&&(this.events=n);var s=t.extend({},this._getBehaviorEvents(),n,this._getBehaviorTriggers(),this.getTriggers());return e.View.prototype.delegateEvents.call(this,s),this},_getEvents:function(e){var i=e||this.events;return t.isFunction(i)?this.normalizeUIKeys(i.call(this)):this.normalizeUIKeys(i)},getTriggers:function(){if(this.triggers){var e=this.normalizeUIKeys(t.result(this,"triggers"));return this._getViewTriggers(this,e)}},delegateEntityEvents:function(){return this._delegateEntityEvents(this.model,this.collection),this._delegateBehaviorEntityEvents(),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.model,this.collection),this._undelegateBehaviorEntityEvents(),this},destroy:function(){if(this._isDestroyed)return this;for(var e=this._isAttached&&!this._shouldDisableEvents,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return this.triggerMethod.apply(this,["before:destroy",this].concat(i)),e&&this.triggerMethod("before:detach",this),this.unbindUIElements(),this._removeElement(),e&&(this._isAttached=!1,this.triggerMethod("detach",this)),this._removeChildren(),this._isDestroyed=!0,this._isRendered=!1,this._destroyBehaviors.apply(this,i),this.triggerMethod.apply(this,["destroy",this].concat(i)),this.stopListening(),this},_removeElement:function(){this.$el.off().removeData(),this.Dom.detachEl(this.el,this.$el)},bindUIElements:function(){return this._bindUIElements(),this._bindBehaviorUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this._unbindBehaviorUIElements(),this},getUI:function(e){return this._getUI(e)},childViewEventPrefix:function(){return!!D("childViewEventPrefix")&&"childview"},triggerMethod:function(){var e=s.apply(this,arguments);return this._triggerEventOnBehaviors.apply(this,arguments),e},_buildEventProxies:function(){this._childViewEvents=t.result(this,"childViewEvents"),this._childViewTriggers=t.result(this,"childViewTriggers")},_proxyChildViewEvents:function(e){this.listenTo(e,"all",this._childViewEventHandler)},_childViewEventHandler:function(e){for(var i=this.normalizeMethods(this._childViewEvents),n=arguments.length,s=Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];"undefined"!=typeof i&&t.isFunction(i[e])&&i[e].apply(this,s);var o=this._childViewTriggers;o&&t.isString(o[e])&&this.triggerMethod.apply(this,[o[e]].concat(s));var h=t.result(this,"childViewEventPrefix");if(h!==!1){var d=h+":"+e;this.triggerMethod.apply(this,[d].concat(s))}}};t.extend(ge,re,X,oe,ae,_e);var ve=["allowMissingEl","parentEl","replaceElement"],me=ie.extend({Dom:pe,cidPrefix:"mnr",replaceElement:!1,_isReplaced:!1,_isSwappingView:!1,constructor:function(t){if(this._setOptions(t),this.mergeOptions(t,ve),this._initEl=this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new J({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),ie.call(this,t)},show:function(e,t){if(this._ensureElement(t))return e=this._getView(e,t),e===this.currentView?this:(this._isSwappingView=!!this.currentView,this.triggerMethod("before:show",this,e,t),e._isAttached||this.empty(t),this._setupChildView(e),this.currentView=e,T(e),this._attachView(e,t),this.triggerMethod("show",this,e,t),this._isSwappingView=!1,this)},_setupChildView:function(e){w(e),this._proxyChildViewEvents(e),e.on("destroy",this._empty,this)},_proxyChildViewEvents:function(e){var t=this._parentView;t&&t._proxyChildViewEvents(e)},_shouldDisableMonitoring:function(){return this._parentView&&this._parentView.monitorViewEvents===!1},_attachView:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!e._isAttached&&H(this.el)&&!this._shouldDisableMonitoring(),s="undefined"==typeof i.replaceElement?!!t.result(this,"replaceElement"):!!i.replaceElement;n&&r(e,"before:attach",e),s?this._replaceEl(e):this.attachHtml(e),n&&(e._isAttached=!0,r(e,"attach",e))},_ensureElement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0],this.$el=this.Dom.getEl(this.el)),!this.$el||0===this.$el.length){var i="undefined"==typeof e.allowMissingEl?!!t.result(this,"allowMissingEl"):!!e.allowMissingEl;if(i)return!1;throw new J('An "el" must exist in DOM for this region '+this.cid)}return!0},_getView:function(t){if(!t)throw new J({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t._isDestroyed)throw new J({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'});if(t instanceof e.View)return t;var i=this._getViewOptions(t);return new Ee(i)},_getViewOptions:function(e){if(t.isFunction(e))return{template:e};if(t.isObject(e))return e;var i=function(){return e};return{template:i}},getEl:function(e){var i=t.result(this,"parentEl");return i&&t.isString(e)?this.Dom.findEl(i,e):this.Dom.getEl(e)},_replaceEl:function(e){this._restoreEl(),e.on("before:destroy",this._restoreEl,this),this.Dom.replaceEl(e.el,this.el),this._isReplaced=!0},_restoreEl:function(){if(this._isReplaced){var e=this.currentView;e&&(this._detachView(e),this._isReplaced=!1)}},isReplaced:function(){return!!this._isReplaced},isSwappingView:function(){return!!this._isSwappingView},attachHtml:function(e){this.Dom.appendContents(this.el,e.el,{_$el:this.$el,_$contents:e.$el})},empty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowMissingEl:!0},t=this.currentView;if(!t)return this._ensureElement(e)&&this.detachHtml(),this;var i=!e.preventDestroy;return i||N("The preventDestroy option is deprecated. Use Region#detachView"),this._empty(t,i),this},_empty:function(e,t){e.off("destroy",this._empty,this),this.triggerMethod("before:empty",this,e),this._restoreEl(),delete this.currentView,e._isDestroyed||(t?this.removeView(e):this._detachView(e),this._stopChildViewEvents(e)),this.triggerMethod("empty",this,e)},_stopChildViewEvents:function(e){var t=this._parentView;t&&this._parentView.stopListening(e)},destroyView:function(e){return e._isDestroyed?e:(e._shouldDisableEvents=this._shouldDisableMonitoring(),U(e),e)},removeView:function(e){this.destroyView(e)},detachView:function(){var e=this.currentView;if(e)return this._empty(e),e},_detachView:function(e){var t=e._isAttached&&!this._shouldDisableMonitoring(),i=this._isReplaced;t&&r(e,"before:detach",e),i?this.Dom.replaceEl(this.el,e.el):this.detachHtml(),t&&(e._isAttached=!1,r(e,"detach",e))},detachHtml:function(){this.Dom.detachContents(this.el,this.$el)},hasView:function(){return!!this.currentView},reset:function(e){return this.empty(e),this.$el&&(this.el=this._initEl),delete this.$el,this},destroy:function(e){return this._isDestroyed?this:(this.reset(e),this._name&&this._parentView._removeReferences(this._name),delete this._parentView,delete this._name,ie.prototype.destroy.apply(this,arguments))}},{setDomApi:$}),we=function(e,t){return e instanceof me?e:S(e,t)},ye={regionClass:me,_initRegions:function(){this.regions=this.regions||{},this._regions={},this.addRegions(t.result(this,"regions"))},_reInitRegions:function(){se(this._regions,"reset")},addRegion:function(e,t){var i={};return i[e]=t,this.addRegions(i)[e]},addRegions:function(e){if(!t.isEmpty(e))return e=this.normalizeUIValues(e,["selector","el"]),this.regions=t.extend({},this.regions,e),this._addRegions(e)},_addRegions:function(e){var i=this,n={regionClass:this.regionClass,parentEl:t.partial(t.result,this,"el")};return t.reduce(e,function(e,t,s){return e[s]=we(t,n),i._addRegion(e[s],s),e},{})},_addRegion:function(e,t){this.triggerMethod("before:add:region",this,t,e),e._parentView=this,e._name=t,this._regions[t]=e,this.triggerMethod("add:region",this,t,e)},removeRegion:function(e){var t=this._regions[e];return this._removeRegion(t,e),t},removeRegions:function(){var e=this._getRegions();return t.each(this._regions,t.bind(this._removeRegion,this)),e},_removeRegion:function(e,t){this.triggerMethod("before:remove:region",this,t,e),e.destroy(),this.triggerMethod("remove:region",this,t,e)},_removeReferences:function(e){delete this.regions[e],delete this._regions[e]},emptyRegions:function(){var e=this.getRegions();return se(e,"empty"),e},hasRegion:function(e){return!!this.getRegion(e)},getRegion:function(e){return this._isRendered||this.render(),this._regions[e]},_getRegions:function(){return t.clone(this._regions)},getRegions:function(){return this._isRendered||this.render(),this._getRegions()},showChildView:function(e,t){for(var i=this.getRegion(e),n=arguments.length,s=Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];return i.show.apply(i,[t].concat(s))},detachChildView:function(e){return this.getRegion(e).detachView()},getChildView:function(e){return this.getRegion(e).currentView}},Ce={render:function(e,i){if(!e)throw new J({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var n=t.isFunction(e)?e:ne.get(e);return n(i)}},Ve=["behaviors","childViewEventPrefix","childViewEvents","childViewTriggers","collectionEvents","events","modelEvents","regionClass","regions","template","templateContext","triggers","ui"],Ee=e.View.extend({constructor:function(i){this.render=t.bind(this.render,this),this._setOptions(i),this.mergeOptions(i,Ve),w(this),this._initBehaviors(),this._initRegions();var n=Array.prototype.slice.call(arguments);n[0]=this.options,e.View.prototype.constructor.apply(this,n),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},serializeData:function(){return this.model||this.collection?this.model?this.serializeModel():{items:this.serializeCollection()}:{}},serializeModel:function(){return this.model?t.clone(this.model.attributes):{}},serializeCollection:function(){return this.collection?this.collection.map(function(e){return t.clone(e.attributes)}):{}},setElement:function(){return e.View.prototype.setElement.apply(this,arguments),this._isRendered=this.Dom.hasContents(this.el),this._isAttached=H(this.el),this._isRendered&&this.bindUIElements(),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._isRendered&&this._reInitRegions(),this._renderTemplate(),this.bindUIElements(),this._isRendered=!0,this.triggerMethod("render",this),this)},_renderTemplate:function(){var e=this.getTemplate();if(e===!1)return void N("template:false is deprecated.  Use _.noop.");var t=this.mixinTemplateContext(this.serializeData()),i=this._renderHtml(e,t);this.attachElContent(i)},_renderHtml:function(e,t){return Ce.render(e,t,this)},getTemplate:function(){return this.template},mixinTemplateContext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.result(this,"templateContext");return t.extend(e,i)},attachElContent:function(e){return this.Dom.setContents(this.el,e,this.$el),this},_removeChildren:function(){this.removeRegions()},_getImmediateChildren:function(){return t.chain(this._getRegions()).map("currentView").compact().value()}},{setRenderer:function(e){return this.prototype._renderHtml=e,this},setDomApi:$});t.extend(Ee.prototype,ge,ye);var be=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce","partition"],Me=function(e,i){t.each(be,function(n){e[n]=function(){var e=t.result(this,i),s=Array.prototype.slice.call(arguments);return t[n].apply(t,[e].concat(s))}})},Re=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,t.bind(this.add,this))};Me(Re.prototype,"_getViews"),t.extend(Re.prototype,{_getViews:function(){return t.values(this._views)},add:function(e,t){return this._add(e,t)._updateLength()},_add:function(e,t){var i=e.cid;return this._views[i]=e,e.model&&(this._indexByModel[e.model.cid]=i),t&&(this._indexByCustom[t]=i),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){return this._remove(e)._updateLength()},_remove:function(e){var i=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.some(this._indexByCustom,t.bind(function(e,t){if(e===i)return delete this._indexByCustom[t],!0},this)),delete this._views[i],this},_updateLength:function(){return this.length=t.size(this._views),this}});var Be=["behaviors","childView","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","events","filter","emptyView","emptyViewOptions","modelEvents","reorderOnSort","sort","triggers","ui","viewComparator"],xe=e.View.extend({sort:!0,constructor:function(i){this.render=t.bind(this.render,this),this._setOptions(i),this.mergeOptions(i,Be),w(this),this._initBehaviors(),this.once("render",this._initialEvents),this._initChildViewStorage(),this._bufferedChildren=[];var n=Array.prototype.slice.call(arguments);n[0]=this.options,e.View.prototype.constructor.apply(this,n),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},_startBuffering:function(){this._isBuffering=!0},_endBuffering:function(){var e=this._isAttached&&this.monitorViewEvents!==!1,i=e?this._getImmediateChildren():[];this._isBuffering=!1,t.each(i,function(e){r(e,"before:attach",e)}),this.attachBuffer(this,this._createBuffer()),t.each(i,function(e){e._isAttached=!0,r(e,"attach",e)}),this._bufferedChildren=[]},_getImmediateChildren:function(){return t.values(this.children._views)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"update",this._onCollectionUpdate),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(e,i,n){var s=void 0!==n.at&&(n.index||i.indexOf(e));(this.filter||s===!1)&&(s=t.indexOf(this._filteredSortedModels(s),e)),this._shouldAddChild(e,s)&&(this._destroyEmptyView(),this._addChild(e,s))},_onCollectionUpdate:function(e,t){var i=t.changes;this._removeChildModels(i.removed)},_removeChildModels:function(e){var t=this._getRemovedViews(e);t.length&&(this.children._updateLength(),this._updateIndices(t,!1),this.isEmpty()&&this._showEmptyView())},_getRemovedViews:function(e){var i=this;return t.reduce(e,function(e,t){var n=t&&i.children.findByModel(t);return!n||n._isDestroyed?e:(i._removeChildView(n),e.push(n),e)},[])},_removeChildView:function(e){this.triggerMethod("before:remove:child",this,e),this.children._remove(e),e._shouldDisableEvents=this.monitorViewEvents===!1,U(e),this.stopListening(e),this.triggerMethod("remove:child",this,e)},setElement:function(){return e.View.prototype.setElement.apply(this,arguments),this._isAttached=H(this.el),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._renderChildren(),this._isRendered=!0,this.triggerMethod("render",this),this)},setFilter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.preventRender,n=this._isRendered&&!this._isDestroyed,s=this.filter!==e,r=n&&s&&!i;if(r){var o=this._filteredSortedModels();this.filter=e;var h=this._filteredSortedModels();this._applyModelDeltas(h,o)}else this.filter=e;return this},removeFilter:function(e){return this.setFilter(null,e)},_applyModelDeltas:function(e,i){var n=this,s={};t.each(e,function(e,t){var i=!n.children.findByModel(e);i&&n._onCollectionAdd(e,n.collection,{at:t}),s[e.cid]=!0});var r=t.filter(i,function(e){return!s[e.cid]&&n.children.findByModel(e)});this._removeChildModels(r)},reorder:function(){var e=this,i=this.children,n=this._filteredSortedModels();if(!n.length&&this._showingEmptyView)return this;var s=t.some(n,function(e){return!i.findByModel(e)});if(s)this.render();else{var r=[],o=t.reduce(this.children._views,function(e,i){var s=t.indexOf(n,i.model);return s===-1?(r.push(i.model),e):(i._index=s,e[s]=i.el,e)},new Array(n.length));this.triggerMethod("before:reorder",this);var h=this.Dom.createBuffer();t.each(o,function(t){e.Dom.appendContents(h,t)}),this._appendReorderedChildren(h),this._removeChildModels(r),this.triggerMethod("reorder",this)}return this},resortView:function(){return this.reorderOnSort?this.reorder():this._renderChildren(),this},_sortViews:function(){var e=this,i=this._filteredSortedModels(),n=t.find(i,function(t,i){var n=e.children.findByModel(t);return!n||n._index!==i});n&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(e){this.Dom.appendContents(this.el,e,{_$el:this.$el})},_renderChildren:function(){this._isRendered&&(this._destroyEmptyView(),this._destroyChildren());var e=this._filteredSortedModels();this.isEmpty({processedModels:e})?this._showEmptyView():(this.triggerMethod("before:render:children",this),this._startBuffering(),this._showCollection(e),this._endBuffering(),this.triggerMethod("render:children",this))},_createView:function(e,t){var i=this._getChildView(e),n=this._getChildViewOptions(e,t),s=this.buildChildView(e,i,n);return s},_setupChildView:function(e,t){w(e),this._proxyChildViewEvents(e),this.sort&&(e._index=t)},_showCollection:function(e){t.each(e,t.bind(this._addChild,this)),this.children._updateLength()},_filteredSortedModels:function(e){if(!this.collection||!this.collection.length)return[];var t=this.getViewComparator(),i=this.collection.models;if(e=Math.min(Math.max(e,0),i.length-1),t){var n=void 0;e&&(n=i[e],i=i.slice(0,e).concat(i.slice(e+1))),i=this._sortModelsBy(i,t),n&&i.splice(e,0,n)}return i=this._filterModels(i)},getViewComparator:function(){return this.viewComparator},_filterModels:function(e){var i=this;return this.filter&&(e=t.filter(e,function(e,t){return i._shouldAddChild(e,t)})),e},_sortModelsBy:function(e,i){return"string"==typeof i?t.sortBy(e,function(e){return e.get(i)}):1===i.length?t.sortBy(e,t.bind(i,this)):t.clone(e).sort(t.bind(i,this))},_showEmptyView:function(){var i=this._getEmptyView();if(i&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new e.Model,s=this.emptyViewOptions||this.childViewOptions;t.isFunction(s)&&(s=s.call(this,n,this._emptyViewIndex));var r=this.buildChildView(n,i,s);this.triggerMethod("before:render:empty",this,r),this.addChildView(r,0),this.triggerMethod("render:empty",this,r)}},_destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty",this),this._destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty",this))},_getEmptyView:function(){var e=this.emptyView;if(e)return this._getView(e)},_getChildView:function(e){var t=this.childView;if(!t)throw new J({name:"NoChildViewError",message:'A "childView" must be specified'});if(t=this._getView(t,e),!t)throw new J({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return t},
_getView:function(i,n){return i.prototype instanceof e.View||i===e.View?i:t.isFunction(i)?i.call(this,n):void 0},_addChild:function(e,t){var i=this._createView(e,t);return this.addChildView(i,t),i},_getChildViewOptions:function(e,i){return t.isFunction(this.childViewOptions)?this.childViewOptions(e,i):this.childViewOptions},addChildView:function(e,t){return this.triggerMethod("before:add:child",this,e),this._setupChildView(e,t),this._isBuffering?this.children._add(e):(this._updateIndices(e,!0),this.children.add(e)),T(e),this._attachView(e,t),this.triggerMethod("add:child",this,e),e},_updateIndices:function(e,i){if(this.sort){if(!i)return void t.each(t.sortBy(this.children._views,"_index"),function(e,t){e._index=t});var n=t.isArray(e)?t.max(e,"_index"):e;t.isObject(n)&&t.each(this.children._views,function(e){e._index>=n._index&&(e._index+=1)})}},_attachView:function(e,t){var i=!e._isAttached&&!this._isBuffering&&this._isAttached&&this.monitorViewEvents!==!1;i&&r(e,"before:attach",e),this.attachHtml(this,e,t),i&&(e._isAttached=!0,r(e,"attach",e))},buildChildView:function(e,i,n){var s=t.extend({model:e},n);return new i(s)},removeChildView:function(e){return!e||e._isDestroyed?e:(this._removeChildView(e),this.children._updateLength(),this._updateIndices(e,!1),e)},isEmpty:function(e){var i=void 0;return t.result(e,"processedModels")?i=e.processedModels:(i=this.collection?this.collection.models:[],i=this._filterModels(i)),0===i.length},attachBuffer:function(e,t){this.Dom.appendContents(e.el,t,{_$el:e.$el})},_createBuffer:function(){var e=this,i=this.Dom.createBuffer();return t.each(this._bufferedChildren,function(t){e.Dom.appendContents(i,t.el,{_$contents:t.$el})}),i},attachHtml:function(e,t,i){e._isBuffering?e._bufferedChildren.splice(i,0,t):e._insertBefore(t,i)||e._insertAfter(t)},_insertBefore:function(e,i){var n=void 0,s=this.sort&&i<this.children.length-1;return s&&(n=t.find(this.children._views,function(e){return e._index===i+1})),!!n&&(this.beforeEl(n.el,e.el),!0)},beforeEl:function(e,t){this.$(e).before(t)},_insertAfter:function(e){this.Dom.appendContents(this.el,e.el,{_$el:this.$el,_$contents:e.$el})},_initChildViewStorage:function(){this.children=new Re},_removeChildren:function(){this._destroyChildren()},_destroyChildren:function(e){this.children.length&&(this.triggerMethod("before:destroy:children",this),t.each(this.children._views,t.bind(this._removeChildView,this)),this.children._updateLength(),this.triggerMethod("destroy:children",this))},_shouldAddChild:function(e,i){var n=this.filter;return!t.isFunction(n)||n.call(this,e,i,this.collection)}},{setDomApi:$});t.extend(xe.prototype,ge);var De=function(){this._init()};Me(De.prototype,"_views"),t.extend(De.prototype,{_init:function(){this._views=[],this._viewsByCid={},this._indexByModel={},this._updateLength()},_add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._views.length,i=e.cid;this._viewsByCid[i]=e,e.model&&(this._indexByModel[e.model.cid]=i),this._views.splice(t,0,e),this._updateLength()},_sort:function(e,i){return"string"==typeof e?(e=t.partial(L,e),this._sortBy(e)):1===e.length?this._sortBy(t.bind(e,i)):this._views.sort(t.bind(e,i))},_sortBy:function(e){var i=t.sortBy(this._views,e);return this._set(i),i},_set:function(e){this._views.length=0,this._views.push.apply(this._views,e.slice(0)),this._updateLength()},_swap:function(e,t){var i=this.findIndexByView(e),n=this.findIndexByView(t);if(i!==-1&&n!==-1){var s=this._views[i];this._views[i]=this._views[n],this._views[n]=s}},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByIndex:function(e){return this._views[e]},findIndexByView:function(e){return this._views.indexOf(e)},findByCid:function(e){return this._viewsByCid[e]},hasView:function(e){return!!this.findByCid(e.cid)},_remove:function(e){if(this._viewsByCid[e.cid]){e.model&&delete this._indexByModel[e.model.cid],delete this._viewsByCid[e.cid];var t=this.findIndexByView(e);this._views.splice(t,1),this._updateLength()}},_updateLength:function(){this.length=this._views.length}});var Ae=["behaviors","childView","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","emptyView","emptyViewOptions","events","modelEvents","sortWithCollection","triggers","ui","viewComparator","viewFilter"],Oe=e.View.extend({sortWithCollection:!0,constructor:function(t){this._setOptions(t),this.mergeOptions(t,Ae),w(this),this.once("render",this._initialEvents),this._initChildViewStorage(),this._initBehaviors();var i=Array.prototype.slice.call(arguments);i[0]=this.options,e.View.prototype.constructor.apply(this,i),this.getEmptyRegion(),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},_initChildViewStorage:function(){this.children=new De},getEmptyRegion:function(){return this._emptyRegion&&!this._emptyRegion.isDestroyed()?this._emptyRegion:(this._emptyRegion=new me({el:this.el,replaceElement:!1}),this._emptyRegion._parentView=this,this._emptyRegion)},_initialEvents:function(){this.listenTo(this.collection,{sort:this._onCollectionSort,reset:this._onCollectionReset,update:this._onCollectionUpdate})},_onCollectionSort:function(e,t){var i=t.add,n=t.merge,s=t.remove;this.sortWithCollection&&this.viewComparator!==!1&&(i||s||n||this.sort())},_onCollectionReset:function(){this.render()},_onCollectionUpdate:function(e,t){var i=t.changes,n=i.removed.length&&this._removeChildModels(i.removed);this._addedViews=i.added.length&&this._addChildModels(i.added),this._detachChildren(n),this._showChildren(),this._removeChildViews(n)},_removeChildModels:function(e){var i=this;return t.reduce(e,function(e,t){var n=i._removeChildModel(t);return n&&e.push(n),e},[])},_removeChildModel:function(e){var t=this.children.findByModel(e);return t&&this._removeChild(t),t},_removeChild:function(e){this.triggerMethod("before:remove:child",this,e),this.children._remove(e),this.triggerMethod("remove:child",this,e)},_addChildModels:function(e){return t.map(e,t.bind(this._addChildModel,this))},_addChildModel:function(e){var t=this._createChildView(e);return this._addChild(t),t},_createChildView:function(e){var t=this._getChildView(e),i=this._getChildViewOptions(e),n=this.buildChildView(e,t,i);return n},_addChild:function(e,t){this.triggerMethod("before:add:child",this,e),this._setupChildView(e),this.children._add(e,t),this.triggerMethod("add:child",this,e)},_getChildView:function(e){var t=this.childView;if(!t)throw new J({name:"NoChildViewError",message:'A "childView" must be specified'});if(t=this._getView(t,e),!t)throw new J({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return t},_getView:function(i,n){return i.prototype instanceof e.View||i===e.View?i:t.isFunction(i)?i.call(this,n):void 0},_getChildViewOptions:function(e){return t.isFunction(this.childViewOptions)?this.childViewOptions(e):this.childViewOptions},buildChildView:function(e,i,n){var s=t.extend({model:e},n);return new i(s)},_setupChildView:function(e){w(e),e.on("destroy",this.removeChildView,this),this._proxyChildViewEvents(e)},_getImmediateChildren:function(){return this.children._views},setElement:function(){return e.View.prototype.setElement.apply(this,arguments),this._isAttached=H(this.el),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._destroyChildren(),this.children._init(),this.collection&&this._addChildModels(this.collection.models),this._showChildren(),this._isRendered=!0,this.triggerMethod("render",this),this)},sort:function(){return this._isDestroyed?this:this.children.length?(this._showChildren(),this):this},_showChildren:function(){return this.isEmpty()?void this._showEmptyView():(this._sortChildren(),void this.filter())},isEmpty:function(e){return e||!this.children.length},_showEmptyView:function(){var e=this._getEmptyView();if(e){var t=this._getEmptyViewOptions(),i=this.getEmptyRegion();i.show(new e(t))}},_getEmptyView:function(){var e=this.emptyView;if(e)return this._getView(e)},_destroyEmptyView:function(){var e=this.getEmptyRegion();e.hasView()&&e.empty()},_getEmptyViewOptions:function(){var e=this.emptyViewOptions||this.childViewOptions;return t.isFunction(e)?e.call(this):e},_sortChildren:function(){var e=this.getComparator();e&&(delete this._addedViews,this.triggerMethod("before:sort",this),this.children._sort(e,this),this.triggerMethod("sort",this))},setComparator:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.preventRender,n=this.viewComparator!==e,s=n&&!i;return this.viewComparator=e,s&&this.sort(),this},removeComparator:function(e){return this.setComparator(null,e)},getComparator:function(){return this.viewComparator?this.viewComparator:!(!this.sortWithCollection||this.viewComparator===!1||!this.collection)&&this._viewComparator},_viewComparator:function(e){return this.collection.indexOf(e.model)},filter:function(){if(this._isDestroyed)return this;if(!this.children.length)return this;var e=this._filterChildren();return this._renderChildren(e),this},_filterChildren:function(){var e=this,i=this._getFilter(),n=this._addedViews;if(delete this._addedViews,!i)return n?n:this.children._views;this.triggerMethod("before:filter",this);var s=[],r=[];return t.each(this.children._views,function(t,n,o){(i.call(e,t,n,o)?s:r).push(t)}),this._detachChildren(r),this.triggerMethod("filter",this,s,r),s},_getFilter:function(){var e=this.getFilter();if(!e)return!1;if(t.isFunction(e))return e;if(t.isObject(e)){var i=t.matches(e);return function(e){return i(e.model&&e.model.attributes)}}if(t.isString(e))return function(t){return t.model&&t.model.get(e)};throw new J({name:"InvalidViewFilterError",message:'"viewFilter" must be a function, predicate object literal, a string indicating a model attribute, or falsy'})},getFilter:function(){return this.viewFilter},setFilter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.preventRender,n=this.viewFilter!==e,s=n&&!i;return this.viewFilter=e,s&&this.filter(),this},removeFilter:function(e){return this.setFilter(null,e)},_detachChildren:function(e){t.each(e,t.bind(this._detachChildView,this))},_detachChildView:function(e){var t=e._isAttached&&this.monitorViewEvents!==!1;t&&r(e,"before:detach",e),this.detachHtml(e),t&&(e._isAttached=!1,r(e,"detach",e))},detachHtml:function(e){this.Dom.detachEl(e.el,e.$el)},_renderChildren:function(e){if(this.isEmpty(!e.length))return void this._showEmptyView();this._destroyEmptyView(),this.triggerMethod("before:render:children",this,e);var t=this._getBuffer(e);this._attachChildren(t,e),this.triggerMethod("render:children",this,e)},_attachChildren:function(e,i){var n=this._isAttached&&this.monitorViewEvents!==!1;i=n?i:[],t.each(i,function(e){e._isAttached||r(e,"before:attach",e)}),this.attachHtml(e),t.each(i,function(e){e._isAttached||(e._isAttached=!0,r(e,"attach",e))})},_getBuffer:function(e){var i=this,n=this.Dom.createBuffer();return t.each(e,function(e){T(e),i.Dom.appendContents(n,e.el,{_$contents:e.$el})}),n},attachHtml:function(e){this.Dom.appendContents(this.el,e,{_$el:this.$el})},swapChildViews:function(e,t){if(!this.children.hasView(e)||!this.children.hasView(t))throw new J({name:"ChildSwapError",message:"Both views must be children of the collection view"});return this.children._swap(e,t),this.Dom.swapEl(e.el,t.el),this.Dom.hasEl(this.el,e.el)!==this.Dom.hasEl(this.el,t.el)&&this.filter(),this},addChildView:function(e,t){return!e||e._isDestroyed?e:((!t||t>=this.children.length)&&(this._addedViews=[e]),this._addChild(e,t),this._showChildren(),e)},detachChildView:function(e){return this.removeChildView(e,{shouldDetach:!0}),e},removeChildView:function(e,t){return e?(this._removeChildView(e,t),this._removeChild(e),this.isEmpty()&&this._showEmptyView(),e):e},_removeChildViews:function(e){t.each(e,t.bind(this._removeChildView,this))},_removeChildView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.shouldDetach;e.off("destroy",this.removeChildView,this),i?this._detachChildView(e):this._destroyChildView(e),this.stopListening(e)},_destroyChildView:function(e){e._isDestroyed||(e._shouldDisableEvents=this.monitorViewEvents===!1,U(e))},_removeChildren:function(){this._destroyChildren();var e=this.getEmptyRegion();e.destroy(),delete this._addedViews},_destroyChildren:function(){this.children&&this.children.length&&(this.triggerMethod("before:destroy:children",this),this.monitorViewEvents===!1&&this.Dom.detachContents(this.el,this.$el),t.each(this.children._views,t.bind(this._removeChildView,this)),this.triggerMethod("destroy:children",this))}},{setDomApi:$});t.extend(Oe.prototype,ge);var Ie=["childViewContainer","template","templateContext"],$e=xe.extend({constructor:function(e){N("CompositeView is deprecated. Convert to View at your earliest convenience"),this.mergeOptions(e,Ie),xe.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"update",this._onCollectionUpdate),this.listenTo(this.collection,"reset",this.renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_getChildView:function(e){var t=this.childView;if(!t)return this.constructor;if(t=this._getView(t,e),!t)throw new J({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return t},serializeData:function(){return this.serializeModel()},render:function(){return this._isDestroyed?this:(this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.renderChildren(),this._isRendering=!1,this._isRendered=!0,this.triggerMethod("render",this),this)},renderChildren:function(){(this._isRendered||this._isRendering)&&xe.prototype._renderChildren.call(this)},attachBuffer:function(e,t){var i=this.getChildViewContainer(e);this.Dom.appendContents(i[0],t,{_$el:i})},_insertAfter:function(e){var t=this.getChildViewContainer(this,e);this.Dom.appendContents(t[0],e.el,{_$el:t,_$contents:e.$el})},_appendReorderedChildren:function(e){var t=this.getChildViewContainer(this);this.Dom.appendContents(t[0],e,{_$el:t})},getChildViewContainer:function(e,i){if(e.$childViewContainer)return e.$childViewContainer;var n=void 0,s=e.childViewContainer;if(s){var r=t.result(e,"childViewContainer");if(n="@"===r.charAt(0)&&e.ui?e.ui[r.substr(4)]:this.$(r),n.length<=0)throw new J({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+e.childViewContainer})}else n=e.$el;return e.$childViewContainer=n,n},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),Te=t.pick(Ee.prototype,"serializeModel","getTemplate","_renderTemplate","_renderHtml","mixinTemplateContext","attachElContent");t.extend($e.prototype,Te);var Ue=["collectionEvents","events","modelEvents","triggers","ui"],Se=ie.extend({cidPrefix:"mnb",constructor:function(e,i){this.view=i,this.defaults&&N("Behavior defaults are deprecated. For similar functionality set options on the Behavior class."),this.defaults=t.clone(t.result(this,"defaults",{})),this._setOptions(t.extend({},this.defaults,e)),this.mergeOptions(this.options,Ue),this.ui=t.extend({},t.result(this,"ui"),t.result(i,"ui")),ie.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this.view._removeBehavior(this),this},proxyViewProperties:function(){return this.$el=this.view.$el,this.el=this.view.el,this},bindUIElements:function(){return this._bindUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this},getUI:function(e){return this._getUI(e)},delegateEntityEvents:function(){return this._delegateEntityEvents(this.view.model,this.view.collection),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.view.model,this.view.collection),this},getEvents:function(){var e=this,i=this.normalizeUIKeys(t.result(this,"events"));return t.reduce(i,function(i,n,s){return t.isFunction(n)||(n=e[n]),n?(s=de(s,e.cid),i[s]=t.bind(n,e),i):i},{})},getTriggers:function(){if(this.triggers){var e=this.normalizeUIKeys(t.result(this,"triggers"));return this._getViewTriggers(this.view,e)}}});t.extend(Se.prototype,oe,ae,_e);var Fe=["region","regionClass"],Le=ie.extend({cidPrefix:"mna",constructor:function(e){this._setOptions(e),this.mergeOptions(e,Fe),this._initRegion(),ie.prototype.constructor.apply(this,arguments)},regionClass:me,_initRegion:function(){var e=this.region;if(e){var t={regionClass:this.regionClass};this._region=we(e,t)}},getRegion:function(){return this._region},showView:function(e){for(var t=this.getRegion(),i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return t.show.apply(t,[e].concat(n))},getView:function(){return this.getRegion().currentView},start:function(e){return this.triggerMethod("before:start",this,e),this.triggerMethod("start",this,e),this}}),Pe=["appRoutes","controller"],ze=e.Router.extend({constructor:function(t){this._setOptions(t),this.mergeOptions(t,Pe),e.Router.apply(this,arguments);var i=this.appRoutes,n=this._getController();this.processAppRoutes(n,i),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var i=this._getController();return this._addAppRoute(i,e,t),this},_processOnRoute:function(e,i){if(t.isFunction(this.onRoute)){var n=t.invert(this.appRoutes)[e];this.onRoute(e,n,i)}},processAppRoutes:function(e,i){var n=this;if(!i)return this;var s=t.keys(i).reverse();return t.each(s,function(t){n._addAppRoute(e,t,i[t])}),this},_getController:function(){return this.controller},_addAppRoute:function(e,i,n){var s=e[n];if(!s)throw new J('Method "'+n+'" was not found on the controller');this.route(i,n,t.bind(s,e))},triggerMethod:s});t.extend(ze.prototype,X);var ke=e.Marionette,je=e.Marionette={};return je.noConflict=function(){return e.Marionette=ke,this},je.bindEvents=k(V),je.unbindEvents=k(E),je.bindRequests=k(M),je.unbindRequests=k(R),je.mergeOptions=k(q),je.getOption=k(K),je.normalizeMethods=k(W),je.extend=j,je.isNodeAttached=H,je.deprecate=N,je.triggerMethod=k(s),je.triggerMethodOn=r,je.isEnabled=D,je.setEnabled=A,je.monitorViewEvents=w,je.Behaviors={},je.Behaviors.behaviorsLookup=P,je.Application=Le,je.AppRouter=ze,je.Renderer=Ce,je.TemplateCache=ne,je.View=Ee,je.CollectionView=xe,je.NextCollectionView=Oe,je.CompositeView=$e,je.Behavior=Se,je.Region=me,je.Error=J,je.Object=ie,je.DEV_MODE=!1,je.FEATURES=le,je.VERSION=z,je.DomApi=pe,je.setDomApi=function(e){xe.setDomApi(e),$e.setDomApi(e),Oe.setDomApi(e),me.setDomApi(e),Ee.setDomApi(e)},je}),this&&this.Marionette&&(this.Mn=this.Marionette);
},{"backbone":"backbone","backbone.radio":1,"underscore":"underscore"}],"backbone":[function(require,module,exports){
(function (global){
!function(t){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,n,s){e.Backbone=t(e,s,i,n)});else if("undefined"!=typeof exports){var i,n=require("underscore");try{i=require("jquery")}catch(s){}t(e,exports,n,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,i,n){var s=t.Backbone,r=Array.prototype.slice;e.VERSION="1.3.3",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,s){return i[e](this[n],h(t,this),s)};case 4:return function(t,s,r){return i[e](this[n],h(t,this),s,r)};default:return function(){var t=r.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},o=function(t,e,n){i.each(e,function(e,s){i[s]&&(t.prototype[s]=a(e,s,n))})},h=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?u(t):i.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},l=/\s+/,d=function(t,e,n,s,r){var a,o=0;if(n&&"object"==typeof n){void 0!==s&&"context"in r&&void 0===r.context&&(r.context=s);for(a=i.keys(n);o<a.length;o++)e=d(t,e,a[o],n[a[o]],r)}else if(n&&l.test(n))for(a=n.split(l);o<a.length;o++)e=t(e,a[o],s,r);else e=t(e,n,s,r);return e};c.on=function(t,e,i){return f(this,t,e,i)};var f=function(t,e,i,n,s){if(t._events=d(g,t._events||{},e,i,{context:n,ctx:t,listening:s}),s){var r=t._listeners||(t._listeners={});r[s.id]=s}return t};c.listenTo=function(t,e,n){if(!t)return this;var s=t._listenId||(t._listenId=i.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),a=r[s];if(!a){var o=this._listenId||(this._listenId=i.uniqueId("l"));a=r[s]={obj:t,objId:s,id:o,listeningTo:r,count:0}}return f(t,e,n,this,a),this};var g=function(t,e,i,n){if(i){var s=t[e]||(t[e]=[]),r=n.context,a=n.ctx,o=n.listening;o&&o.count++,s.push({callback:i,context:r,ctx:r||a,listening:o})}return t};c.off=function(t,e,i){return this._events?(this._events=d(v,this._events,t,e,{context:i,listeners:this._listeners}),this):this},c.stopListening=function(t,e,n){var s=this._listeningTo;if(!s)return this;for(var r=t?[t._listenId]:i.keys(s),a=0;a<r.length;a++){var o=s[r[a]];if(!o)break;o.obj.off(e,n,this)}return this};var v=function(t,e,n,s){if(t){var r,a=0,o=s.context,h=s.listeners;if(e||n||o){for(var u=e?[e]:i.keys(t);a<u.length;a++){e=u[a];var c=t[e];if(!c)break;for(var l=[],d=0;d<c.length;d++){var f=c[d];n&&n!==f.callback&&n!==f.callback._callback||o&&o!==f.context?l.push(f):(r=f.listening,r&&0===--r.count&&(delete h[r.id],delete r.listeningTo[r.objId]))}l.length?t[e]=l:delete t[e]}return t}for(var g=i.keys(h);a<g.length;a++)r=h[g[a]],delete h[r.id],delete r.listeningTo[r.objId]}};c.once=function(t,e,n){var s=d(p,{},t,e,i.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(s,e,n)},c.listenToOnce=function(t,e,n){var s=d(p,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,s)};var p=function(t,e,n,s){if(n){var r=t[e]=i.once(function(){s(e,r),n.apply(this,arguments)});r._callback=n}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return d(m,this._events,t,void 0,i),this};var m=function(t,e,i,n){if(t){var s=t[e],r=t.all;s&&r&&(r=r.slice()),s&&_(s,n),r&&_(r,[e].concat(n))}return t},_=function(t,e){var i,n=-1,s=t.length,r=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a,o);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}};c.bind=c.on,c.unbind=c.off,i.extend(e,c);var y=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var s=i.result(this,"defaults");n=i.defaults(i.extend({},s,n),s),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var s;if("object"==typeof t?(s=t,n=e):(s={})[t]=e,n||(n={}),!this._validate(s,n))return!1;var r=n.unset,a=n.silent,o=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,l=this._previousAttributes;for(var d in s)e=s[d],i.isEqual(u[d],e)||o.push(d),i.isEqual(l[d],e)?delete c[d]:c[d]=e,r?delete u[d]:u[d]=e;if(this.idAttribute in s&&(this.id=this.get(this.idAttribute)),!a){o.length&&(this._pending=n);for(var f=0;f<o.length;f++)this.trigger("change:"+o[f],this,u[o[f]],n)}if(h)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var s in t){var r=t[s];i.isEqual(e[s],r)||(n[s]=r)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var s=t.parse?e.parse(i,t):i;return!!e.set(s,t)&&(n&&n.call(t.context,e,i,t),void e.trigger("sync",e,i,t))},B(this,t),this.sync("read",this,t)},save:function(t,e,n){var s;null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e,n=i.extend({validate:!0,parse:!0},n);var r=n.wait;if(s&&!r){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;var a=this,o=n.success,h=this.attributes;n.success=function(t){a.attributes=h;var e=n.parse?a.parse(t,n):t;return r&&(e=i.extend({},s,e)),!(e&&!a.set(e,n))&&(o&&o.call(n.context,a,t,n),void a.trigger("sync",a,t,n))},B(this,n),s&&r&&(this.attributes=i.extend({},h,s));var u=this.isNew()?"create":n.patch?"patch":"update";"patch"!==u||n.attrs||(n.attrs=s);var c=this.sync(u,this,n);return this.attributes=h,c},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,s=t.wait,r=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){s&&r(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var a=!1;return this.isNew()?i.defer(t.success):(B(this,t),a=this.sync("delete",this,t)),s||r(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(y,b,"attributes");var x=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},E={add:!0,remove:!1},I=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,s=Array(t.length-i),r=e.length;for(n=0;n<s.length;n++)s[n]=t[n+i];for(n=0;n<r;n++)t[n+i]=e[n];for(n=0;n<s.length;n++)t[n+r+i]=s[n]};i.extend(x.prototype,c,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,E))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var s=this._removeModels(t,e);return!e.silent&&s.length&&(e.changes={added:[],merged:[],removed:s},this.trigger("update",this,e)),n?s[0]:s},set:function(t,e){if(null!=t){e=i.extend({},w,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var s=e.at;null!=s&&(s=+s),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);var r,a,o=[],h=[],u=[],c=[],l={},d=e.add,f=e.merge,g=e.remove,v=!1,p=this.comparator&&null==s&&e.sort!==!1,m=i.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){r=t[a];var _=this.get(r);if(_){if(f&&r!==_){var y=this._isModel(r)?r.attributes:r;e.parse&&(y=_.parse(y,e)),_.set(y,e),u.push(_),p&&!v&&(v=_.hasChanged(m))}l[_.cid]||(l[_.cid]=!0,o.push(_)),t[a]=_}else d&&(r=t[a]=this._prepareModel(r,e),r&&(h.push(r),this._addReference(r,e),l[r.cid]=!0,o.push(r)))}if(g){for(a=0;a<this.length;a++)r=this.models[a],l[r.cid]||c.push(r);c.length&&this._removeModels(c,e)}var b=!1,x=!p&&d&&g;if(o.length&&x?(b=this.length!==o.length||i.some(this.models,function(t,e){return t!==o[e]}),this.models.length=0,I(this.models,o,0),this.length=this.models.length):h.length&&(p&&(v=!0),I(this.models,h,null==s?this.length:s),this.length=this.models.length),v&&this.sort({silent:!0}),!e.silent){for(a=0;a<h.length;a++)null!=s&&(e.index=s+a),r=h[a],r.trigger("add",r,this,e);(v||b)&&this.trigger("sort",this,e),(h.length||c.length||u.length)&&(e.changes={added:h,removed:c,merged:u},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return r.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=i.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},B(this,t),this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;if(t=this._prepareModel(t,e),!t)return!1;n||this.add(t,e);var s=this,r=e.success;return e.success=function(t,e,i){n&&s.add(t,i),r&&r.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var s=this.get(t[n]);if(s){var r=this.indexOf(s);this.models.splice(r,1),this.length--,delete this._byId[s.cid];var a=this.modelId(s.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=r,s.trigger("remove",s,this,e)),i.push(s),this._removeReference(s,e)}}return i},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var s=this.modelId(e.previousAttributes()),r=this.modelId(e.attributes);s!==r&&(null!=s&&delete this._byId[s],null!=r&&(this._byId[r]=e))}}this.trigger.apply(this,arguments)}});var S={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};o(x,S,"models");var k=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,P)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];i.extend(k.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var s=e.match(T);this.delegate(s[1],s[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,s){var r=H[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:r,dataType:"json"};if(s.url||(a.url=i.result(n,"url")||F()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",s.emulateJSON&&(a.data._method=r);var o=s.beforeSend;s.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",r),o)return o.apply(this,arguments)}}"GET"===a.type||s.emulateJSON||(a.processData=!1);var h=s.error;s.error=function(t,e,i){s.textStatus=e,s.errorThrown=i,h&&h.call(s.context,t,e,i)};var u=s.xhr=e.ajax(i.extend(a,s));return n.trigger("request",n,u,s),u};var H={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var $=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,R=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend($.prototype,c,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var r=this;return e.history.route(t,function(i){var a=r._extractParameters(t,i);r.execute(s,a,n)!==!1&&(r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),e.history.trigger("route",r,n,a))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(j,"\\$&").replace(A,"(?:$1)?").replace(C,function(t,e){return e?t:"([^/?]+)"}).replace(R,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var N=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,U=/#.*$/;N.started=!1,i.extend(N.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(M,"")},start:function(t){if(N.started)throw new Error("Backbone.history has already been started");if(N.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(O,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,s=n.insertBefore(this.iframe,n.firstChild).contentWindow;s.document.open(),s.document.close(),s.location.hash="#"+this.fragment}var r=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),N.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!N.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(U,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;e.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new N;var q=function(t,e){var n,s=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e),n.prototype=i.create(s.prototype,t),n.prototype.constructor=n,n.__super__=s.prototype,n};y.extend=x.extend=$.extend=k.extend=N.extend=q;var F=function(){throw new Error('A "url" property or function must be specified')},B=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"jquery":"jquery","underscore":"underscore"}],"bootstrap":[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("popper.js"),require("jquery")):"function"==typeof define&&define.amd?define(["exports","popper.js","jquery"],e):e(t.bootstrap={},t.Popper,t.jQuery)}(this,function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function l(t){return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function c(){return{bindType:f,delegateType:f,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}}function h(t){var e=this,i=!1;return n(this).one(g.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||g.triggerTransitionEnd(e)},t),this}function u(){n.fn.emulateTransitionEnd=h,n.event.special[g.TRANSITION_END]=c()}e=e&&e.hasOwnProperty("default")?e["default"]:e,n=n&&n.hasOwnProperty("default")?n["default"]:n;var f="transitionend",d=1e6,_=1e3,g={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do t+=~~(Math.random()*d);while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}return e&&document.querySelector(e)?e:null},getTransitionDurationFromElement:function(t){if(!t)return 0;var e=n(t).css("transition-duration"),i=n(t).css("transition-delay"),o=parseFloat(e),r=parseFloat(i);return o||r?(e=e.split(",")[0],i=i.split(",")[0],(parseFloat(e)+parseFloat(i))*_):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){n(t).trigger(f)},supportsTransitionEnd:function(){return Boolean(f)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i],r=e[i],s=r&&g.isElement(r)?"element":l(r);if(!new RegExp(o).test(s))throw new Error(t.toUpperCase()+": "+('Option "'+i+'" provided type "'+s+'" ')+('but expected type "'+o+'".'))}},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?g.findShadowRoot(t.parentNode):null}};u();var m="alert",p="4.2.1",E="bs.alert",v="."+E,T=".data-api",I=n.fn[m],S={DISMISS:'[data-dismiss="alert"]'},A={CLOSE:"close"+v,CLOSED:"closed"+v,CLICK_DATA_API:"click"+v+T},C={ALERT:"alert",FADE:"fade",SHOW:"show"},D=function(){function t(t){this._element=t}var e=t.prototype;return e.close=function(t){var e=this._element;t&&(e=this._getRootElement(t));var n=this._triggerCloseEvent(e);n.isDefaultPrevented()||this._removeElement(e)},e.dispose=function(){n.removeData(this._element,E),this._element=null},e._getRootElement=function(t){var e=g.getSelectorFromElement(t),i=!1;return e&&(i=document.querySelector(e)),i||(i=n(t).closest("."+C.ALERT)[0]),i},e._triggerCloseEvent=function(t){var e=n.Event(A.CLOSE);return n(t).trigger(e),e},e._removeElement=function(t){var e=this;if(n(t).removeClass(C.SHOW),!n(t).hasClass(C.FADE))return void this._destroyElement(t);var i=g.getTransitionDurationFromElement(t);n(t).one(g.TRANSITION_END,function(n){return e._destroyElement(t,n)}).emulateTransitionEnd(i)},e._destroyElement=function(t){n(t).detach().trigger(A.CLOSED).remove()},t._jQueryInterface=function(e){return this.each(function(){var i=n(this),o=i.data(E);o||(o=new t(this),i.data(E,o)),"close"===e&&o[e](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},o(t,null,[{key:"VERSION",get:function(){return p}}]),t}();n(document).on(A.CLICK_DATA_API,S.DISMISS,D._handleDismiss(new D)),n.fn[m]=D._jQueryInterface,n.fn[m].Constructor=D,n.fn[m].noConflict=function(){return n.fn[m]=I,D._jQueryInterface};var y="button",O="4.2.1",N="bs.button",b="."+N,w=".data-api",L=n.fn[y],P={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},H={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:'input:not([type="hidden"])',ACTIVE:".active",BUTTON:".btn"},R={CLICK_DATA_API:"click"+b+w,FOCUS_BLUR_DATA_API:"focus"+b+w+" "+("blur"+b+w)},W=function(){function t(t){this._element=t}var e=t.prototype;return e.toggle=function(){var t=!0,e=!0,i=n(this._element).closest(H.DATA_TOGGLE)[0];if(i){var o=this._element.querySelector(H.INPUT);if(o){if("radio"===o.type)if(o.checked&&this._element.classList.contains(P.ACTIVE))t=!1;else{var r=i.querySelector(H.ACTIVE);r&&n(r).removeClass(P.ACTIVE)}if(t){if(o.hasAttribute("disabled")||i.hasAttribute("disabled")||o.classList.contains("disabled")||i.classList.contains("disabled"))return;o.checked=!this._element.classList.contains(P.ACTIVE),n(o).trigger("change")}o.focus(),e=!1}}e&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(P.ACTIVE)),t&&n(this._element).toggleClass(P.ACTIVE)},e.dispose=function(){n.removeData(this._element,N),this._element=null},t._jQueryInterface=function(e){return this.each(function(){var i=n(this).data(N);i||(i=new t(this),n(this).data(N,i)),"toggle"===e&&i[e]()})},o(t,null,[{key:"VERSION",get:function(){return O}}]),t}();n(document).on(R.CLICK_DATA_API,H.DATA_TOGGLE_CARROT,function(t){t.preventDefault();var e=t.target;n(e).hasClass(P.BUTTON)||(e=n(e).closest(H.BUTTON)),W._jQueryInterface.call(n(e),"toggle")}).on(R.FOCUS_BLUR_DATA_API,H.DATA_TOGGLE_CARROT,function(t){var e=n(t.target).closest(H.BUTTON)[0];n(e).toggleClass(P.FOCUS,/^focus(in)?$/.test(t.type))}),n.fn[y]=W._jQueryInterface,n.fn[y].Constructor=W,n.fn[y].noConflict=function(){return n.fn[y]=L,W._jQueryInterface};var k="carousel",U="4.2.1",V="bs.carousel",F="."+V,M=".data-api",j=n.fn[k],G=37,B=39,K=500,x=40,q={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Q={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},X={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},Y={SLIDE:"slide"+F,SLID:"slid"+F,KEYDOWN:"keydown"+F,MOUSEENTER:"mouseenter"+F,MOUSELEAVE:"mouseleave"+F,TOUCHSTART:"touchstart"+F,TOUCHMOVE:"touchmove"+F,TOUCHEND:"touchend"+F,POINTERDOWN:"pointerdown"+F,POINTERUP:"pointerup"+F,DRAG_START:"dragstart"+F,LOAD_DATA_API:"load"+F+M,CLICK_DATA_API:"click"+F+M},z={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item",POINTER_EVENT:"pointer-event"},J={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},Z={TOUCH:"touch",PEN:"pen"},$=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(J.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var e=t.prototype;return e.next=function(){this._isSliding||this._slide(X.NEXT)},e.nextWhenVisible=function(){!document.hidden&&n(this._element).is(":visible")&&"hidden"!==n(this._element).css("visibility")&&this.next()},e.prev=function(){this._isSliding||this._slide(X.PREV)},e.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(J.NEXT_PREV)&&(g.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},e.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},e.to=function(t){var e=this;this._activeElement=this._element.querySelector(J.ACTIVE_ITEM);var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0)){if(this._isSliding)return void n(this._element).one(Y.SLID,function(){return e.to(t)});if(i===t)return this.pause(),void this.cycle();var o=t>i?X.NEXT:X.PREV;this._slide(o,this._items[t])}},e.dispose=function(){n(this._element).off(F),n.removeData(this._element,V),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},e._getConfig=function(t){return t=s({},q,t),g.typeCheckConfig(k,t,Q),t},e._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=x)){var e=t/this.touchDeltaX;e>0&&this.prev(),e<0&&this.next()}},e._addEventListeners=function(){var t=this;this._config.keyboard&&n(this._element).on(Y.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&n(this._element).on(Y.MOUSEENTER,function(e){return t.pause(e)}).on(Y.MOUSELEAVE,function(e){return t.cycle(e)}),this._addTouchEventListeners()},e._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var e=function(e){t._pointerEvent&&Z[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},i=function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX},o=function(e){t._pointerEvent&&Z[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},K+t._config.interval))};n(this._element.querySelectorAll(J.ITEM_IMG)).on(Y.DRAG_START,function(t){return t.preventDefault()}),this._pointerEvent?(n(this._element).on(Y.POINTERDOWN,function(t){return e(t)}),n(this._element).on(Y.POINTERUP,function(t){return o(t)}),this._element.classList.add(z.POINTER_EVENT)):(n(this._element).on(Y.TOUCHSTART,function(t){return e(t)}),n(this._element).on(Y.TOUCHMOVE,function(t){return i(t)}),n(this._element).on(Y.TOUCHEND,function(t){return o(t)}))}},e._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case G:t.preventDefault(),this.prev();break;case B:t.preventDefault(),this.next()}},e._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(J.ITEM)):[],this._items.indexOf(t)},e._getItemByDirection=function(t,e){var n=t===X.NEXT,i=t===X.PREV,o=this._getItemIndex(e),r=this._items.length-1,s=i&&0===o||n&&o===r;if(s&&!this._config.wrap)return e;var a=t===X.PREV?-1:1,l=(o+a)%this._items.length;return l===-1?this._items[this._items.length-1]:this._items[l]},e._triggerSlideEvent=function(t,e){var i=this._getItemIndex(t),o=this._getItemIndex(this._element.querySelector(J.ACTIVE_ITEM)),r=n.Event(Y.SLIDE,{relatedTarget:t,direction:e,from:o,to:i});return n(this._element).trigger(r),r},e._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var e=[].slice.call(this._indicatorsElement.querySelectorAll(J.ACTIVE));n(e).removeClass(z.ACTIVE);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&n(i).addClass(z.ACTIVE)}},e._slide=function(t,e){var i,o,r,s=this,a=this._element.querySelector(J.ACTIVE_ITEM),l=this._getItemIndex(a),c=e||a&&this._getItemByDirection(t,a),h=this._getItemIndex(c),u=Boolean(this._interval);if(t===X.NEXT?(i=z.LEFT,o=z.NEXT,r=X.LEFT):(i=z.RIGHT,o=z.PREV,r=X.RIGHT),c&&n(c).hasClass(z.ACTIVE))return void(this._isSliding=!1);var f=this._triggerSlideEvent(c,r);if(!f.isDefaultPrevented()&&a&&c){this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(c);var d=n.Event(Y.SLID,{relatedTarget:c,direction:r,from:l,to:h});if(n(this._element).hasClass(z.SLIDE)){n(c).addClass(o),g.reflow(c),n(a).addClass(i),n(c).addClass(i);var _=parseInt(c.getAttribute("data-interval"),10);_?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=_):this._config.interval=this._config.defaultInterval||this._config.interval;var m=g.getTransitionDurationFromElement(a);n(a).one(g.TRANSITION_END,function(){n(c).removeClass(i+" "+o).addClass(z.ACTIVE),n(a).removeClass(z.ACTIVE+" "+o+" "+i),s._isSliding=!1,setTimeout(function(){return n(s._element).trigger(d)},0)}).emulateTransitionEnd(m)}else n(a).removeClass(z.ACTIVE),n(c).addClass(z.ACTIVE),this._isSliding=!1,n(this._element).trigger(d);u&&this.cycle()}},t._jQueryInterface=function(e){return this.each(function(){var i=n(this).data(V),o=s({},q,n(this).data());"object"==typeof e&&(o=s({},o,e));var r="string"==typeof e?e:o.slide;if(i||(i=new t(this,o),n(this).data(V,i)),"number"==typeof e)i.to(e);else if("string"==typeof r){if("undefined"==typeof i[r])throw new TypeError('No method named "'+r+'"');i[r]()}else o.interval&&(i.pause(),i.cycle())})},t._dataApiClickHandler=function(e){var i=g.getSelectorFromElement(this);if(i){var o=n(i)[0];if(o&&n(o).hasClass(z.CAROUSEL)){var r=s({},n(o).data(),n(this).data()),a=this.getAttribute("data-slide-to");a&&(r.interval=!1),t._jQueryInterface.call(n(o),r),a&&n(o).data(V).to(a),e.preventDefault()}}},o(t,null,[{key:"VERSION",get:function(){return U}},{key:"Default",get:function(){return q}}]),t}();n(document).on(Y.CLICK_DATA_API,J.DATA_SLIDE,$._dataApiClickHandler),n(window).on(Y.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(J.DATA_RIDE)),e=0,i=t.length;e<i;e++){var o=n(t[e]);$._jQueryInterface.call(o,o.data())}}),n.fn[k]=$._jQueryInterface,n.fn[k].Constructor=$,n.fn[k].noConflict=function(){return n.fn[k]=j,$._jQueryInterface};var tt="collapse",et="4.2.1",nt="bs.collapse",it="."+nt,ot=".data-api",rt=n.fn[tt],st={toggle:!0,parent:""},at={toggle:"boolean",parent:"(string|element)"},lt={SHOW:"show"+it,SHOWN:"shown"+it,HIDE:"hide"+it,HIDDEN:"hidden"+it,CLICK_DATA_API:"click"+it+ot},ct={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},ht={WIDTH:"width",HEIGHT:"height"},ut={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},ft=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],'+('[data-toggle="collapse"][data-target="#'+t.id+'"]')));for(var n=[].slice.call(document.querySelectorAll(ut.DATA_TOGGLE)),i=0,o=n.length;i<o;i++){var r=n[i],s=g.getSelectorFromElement(r),a=[].slice.call(document.querySelectorAll(s)).filter(function(e){return e===t});null!==s&&a.length>0&&(this._selector=s,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var e=t.prototype;return e.toggle=function(){n(this._element).hasClass(ct.SHOW)?this.hide():this.show()},e.show=function(){var e=this;if(!this._isTransitioning&&!n(this._element).hasClass(ct.SHOW)){var i,o;if(this._parent&&(i=[].slice.call(this._parent.querySelectorAll(ut.ACTIVES)).filter(function(t){return"string"==typeof e._config.parent?t.getAttribute("data-parent")===e._config.parent:t.classList.contains(ct.COLLAPSE)}),0===i.length&&(i=null)),!(i&&(o=n(i).not(this._selector).data(nt),o&&o._isTransitioning))){var r=n.Event(lt.SHOW);if(n(this._element).trigger(r),!r.isDefaultPrevented()){i&&(t._jQueryInterface.call(n(i).not(this._selector),"hide"),o||n(i).data(nt,null));var s=this._getDimension();n(this._element).removeClass(ct.COLLAPSE).addClass(ct.COLLAPSING),this._element.style[s]=0,this._triggerArray.length&&n(this._triggerArray).removeClass(ct.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var a=function(){n(e._element).removeClass(ct.COLLAPSING).addClass(ct.COLLAPSE).addClass(ct.SHOW),e._element.style[s]="",e.setTransitioning(!1),n(e._element).trigger(lt.SHOWN)},l=s[0].toUpperCase()+s.slice(1),c="scroll"+l,h=g.getTransitionDurationFromElement(this._element);n(this._element).one(g.TRANSITION_END,a).emulateTransitionEnd(h),this._element.style[s]=this._element[c]+"px"}}}},e.hide=function(){var t=this;if(!this._isTransitioning&&n(this._element).hasClass(ct.SHOW)){var e=n.Event(lt.HIDE);if(n(this._element).trigger(e),!e.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",g.reflow(this._element),n(this._element).addClass(ct.COLLAPSING).removeClass(ct.COLLAPSE).removeClass(ct.SHOW);var o=this._triggerArray.length;if(o>0)for(var r=0;r<o;r++){var s=this._triggerArray[r],a=g.getSelectorFromElement(s);if(null!==a){var l=n([].slice.call(document.querySelectorAll(a)));l.hasClass(ct.SHOW)||n(s).addClass(ct.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0);var c=function(){t.setTransitioning(!1),n(t._element).removeClass(ct.COLLAPSING).addClass(ct.COLLAPSE).trigger(lt.HIDDEN)};this._element.style[i]="";var h=g.getTransitionDurationFromElement(this._element);n(this._element).one(g.TRANSITION_END,c).emulateTransitionEnd(h)}}},e.setTransitioning=function(t){this._isTransitioning=t},e.dispose=function(){n.removeData(this._element,nt),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},e._getConfig=function(t){return t=s({},st,t),t.toggle=Boolean(t.toggle),g.typeCheckConfig(tt,t,at),t},e._getDimension=function(){var t=n(this._element).hasClass(ht.WIDTH);return t?ht.WIDTH:ht.HEIGHT},e._getParent=function(){var e,i=this;g.isElement(this._config.parent)?(e=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(e=this._config.parent[0])):e=document.querySelector(this._config.parent);var o='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',r=[].slice.call(e.querySelectorAll(o));return n(r).each(function(e,n){i._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])}),e},e._addAriaAndCollapsedClass=function(t,e){var i=n(t).hasClass(ct.SHOW);e.length&&n(e).toggleClass(ct.COLLAPSED,!i).attr("aria-expanded",i)},t._getTargetFromElement=function(t){var e=g.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(e){return this.each(function(){var i=n(this),o=i.data(nt),r=s({},st,i.data(),"object"==typeof e&&e?e:{});if(!o&&r.toggle&&/show|hide/.test(e)&&(r.toggle=!1),o||(o=new t(this,r),i.data(nt,o)),"string"==typeof e){if("undefined"==typeof o[e])throw new TypeError('No method named "'+e+'"');o[e]()}})},o(t,null,[{key:"VERSION",get:function(){return et}},{key:"Default",get:function(){return st}}]),t}();n(document).on(lt.CLICK_DATA_API,ut.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var e=n(this),i=g.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(i));n(o).each(function(){var t=n(this),i=t.data(nt),o=i?"toggle":e.data();ft._jQueryInterface.call(t,o)})}),n.fn[tt]=ft._jQueryInterface,n.fn[tt].Constructor=ft,n.fn[tt].noConflict=function(){return n.fn[tt]=rt,ft._jQueryInterface};var dt="dropdown",_t="4.2.1",gt="bs.dropdown",mt="."+gt,pt=".data-api",Et=n.fn[dt],vt=27,Tt=32,It=9,St=38,At=40,Ct=3,Dt=new RegExp(St+"|"+At+"|"+vt),yt={HIDE:"hide"+mt,HIDDEN:"hidden"+mt,SHOW:"show"+mt,SHOWN:"shown"+mt,CLICK:"click"+mt,CLICK_DATA_API:"click"+mt+pt,KEYDOWN_DATA_API:"keydown"+mt+pt,KEYUP_DATA_API:"keyup"+mt+pt},Ot={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},Nt={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},bt={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},wt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Lt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},Pt=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var i=t.prototype;return i.toggle=function(){if(!this._element.disabled&&!n(this._element).hasClass(Ot.DISABLED)){var i=t._getParentFromElement(this._element),o=n(this._menu).hasClass(Ot.SHOW);if(t._clearMenus(),!o){var r={relatedTarget:this._element},s=n.Event(yt.SHOW,r);if(n(i).trigger(s),!s.isDefaultPrevented()){if(!this._inNavbar){if("undefined"==typeof e)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var a=this._element;"parent"===this._config.reference?a=i:g.isElement(this._config.reference)&&(a=this._config.reference,"undefined"!=typeof this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&n(i).addClass(Ot.POSITION_STATIC),this._popper=new e(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===n(i).closest(Nt.NAVBAR_NAV).length&&n(document.body).children().on("mouseover",null,n.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),n(this._menu).toggleClass(Ot.SHOW),n(i).toggleClass(Ot.SHOW).trigger(n.Event(yt.SHOWN,r))}}}},i.show=function(){if(!(this._element.disabled||n(this._element).hasClass(Ot.DISABLED)||n(this._menu).hasClass(Ot.SHOW))){var e={relatedTarget:this._element},i=n.Event(yt.SHOW,e),o=t._getParentFromElement(this._element);n(o).trigger(i),i.isDefaultPrevented()||(n(this._menu).toggleClass(Ot.SHOW),n(o).toggleClass(Ot.SHOW).trigger(n.Event(yt.SHOWN,e)))}},i.hide=function(){if(!this._element.disabled&&!n(this._element).hasClass(Ot.DISABLED)&&n(this._menu).hasClass(Ot.SHOW)){var e={relatedTarget:this._element},i=n.Event(yt.HIDE,e),o=t._getParentFromElement(this._element);n(o).trigger(i),i.isDefaultPrevented()||(n(this._menu).toggleClass(Ot.SHOW),n(o).toggleClass(Ot.SHOW).trigger(n.Event(yt.HIDDEN,e)))}},i.dispose=function(){n.removeData(this._element,gt),n(this._element).off(mt),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var t=this;n(this._element).on(yt.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},i._getConfig=function(t){return t=s({},this.constructor.Default,n(this._element).data(),t),g.typeCheckConfig(dt,t,this.constructor.DefaultType),t},i._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(Nt.MENU))}return this._menu},i._getPlacement=function(){var t=n(this._element.parentNode),e=bt.BOTTOM;return t.hasClass(Ot.DROPUP)?(e=bt.TOP,n(this._menu).hasClass(Ot.MENURIGHT)&&(e=bt.TOPEND)):t.hasClass(Ot.DROPRIGHT)?e=bt.RIGHT:t.hasClass(Ot.DROPLEFT)?e=bt.LEFT:n(this._menu).hasClass(Ot.MENURIGHT)&&(e=bt.BOTTOMEND),e},i._detectNavbar=function(){return n(this._element).closest(".navbar").length>0},i._getPopperConfig=function(){var t=this,e={};"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t._config.offset(e.offsets)||{}),e}:e.offset=this._config.offset;var n={placement:this._getPlacement(),modifiers:{offset:e,flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),n},t._jQueryInterface=function(e){return this.each(function(){var i=n(this).data(gt),o="object"==typeof e?e:null;if(i||(i=new t(this,o),n(this).data(gt,i)),"string"==typeof e){if("undefined"==typeof i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},t._clearMenus=function(e){if(!e||e.which!==Ct&&("keyup"!==e.type||e.which===It))for(var i=[].slice.call(document.querySelectorAll(Nt.DATA_TOGGLE)),o=0,r=i.length;o<r;o++){var s=t._getParentFromElement(i[o]),a=n(i[o]).data(gt),l={relatedTarget:i[o]};if(e&&"click"===e.type&&(l.clickEvent=e),a){var c=a._menu;if(n(s).hasClass(Ot.SHOW)&&!(e&&("click"===e.type&&/input|textarea/i.test(e.target.tagName)||"keyup"===e.type&&e.which===It)&&n.contains(s,e.target))){var h=n.Event(yt.HIDE,l);n(s).trigger(h),h.isDefaultPrevented()||("ontouchstart"in document.documentElement&&n(document.body).children().off("mouseover",null,n.noop),i[o].setAttribute("aria-expanded","false"),n(c).removeClass(Ot.SHOW),n(s).removeClass(Ot.SHOW).trigger(n.Event(yt.HIDDEN,l)))}}}},t._getParentFromElement=function(t){var e,n=g.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(e){if((/input|textarea/i.test(e.target.tagName)?!(e.which===Tt||e.which!==vt&&(e.which!==At&&e.which!==St||n(e.target).closest(Nt.MENU).length)):Dt.test(e.which))&&(e.preventDefault(),e.stopPropagation(),!this.disabled&&!n(this).hasClass(Ot.DISABLED))){var i=t._getParentFromElement(this),o=n(i).hasClass(Ot.SHOW);if(!o||o&&(e.which===vt||e.which===Tt)){if(e.which===vt){var r=i.querySelector(Nt.DATA_TOGGLE);n(r).trigger("focus")}return void n(this).trigger("click")}var s=[].slice.call(i.querySelectorAll(Nt.VISIBLE_ITEMS));if(0!==s.length){var a=s.indexOf(e.target);e.which===St&&a>0&&a--,e.which===At&&a<s.length-1&&a++,a<0&&(a=0),s[a].focus()}}},o(t,null,[{key:"VERSION",get:function(){return _t}},{key:"Default",get:function(){return wt}},{key:"DefaultType",get:function(){return Lt}}]),t}();n(document).on(yt.KEYDOWN_DATA_API,Nt.DATA_TOGGLE,Pt._dataApiKeydownHandler).on(yt.KEYDOWN_DATA_API,Nt.MENU,Pt._dataApiKeydownHandler).on(yt.CLICK_DATA_API+" "+yt.KEYUP_DATA_API,Pt._clearMenus).on(yt.CLICK_DATA_API,Nt.DATA_TOGGLE,function(t){t.preventDefault(),t.stopPropagation(),Pt._jQueryInterface.call(n(this),"toggle")}).on(yt.CLICK_DATA_API,Nt.FORM_CHILD,function(t){t.stopPropagation()}),n.fn[dt]=Pt._jQueryInterface,n.fn[dt].Constructor=Pt,n.fn[dt].noConflict=function(){return n.fn[dt]=Et,Pt._jQueryInterface};var Ht="modal",Rt="4.2.1",Wt="bs.modal",kt="."+Wt,Ut=".data-api",Vt=n.fn[Ht],Ft=27,Mt={backdrop:!0,keyboard:!0,focus:!0,show:!0},jt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Gt={HIDE:"hide"+kt,HIDDEN:"hidden"+kt,SHOW:"show"+kt,SHOWN:"shown"+kt,FOCUSIN:"focusin"+kt,RESIZE:"resize"+kt,CLICK_DISMISS:"click.dismiss"+kt,KEYDOWN_DISMISS:"keydown.dismiss"+kt,MOUSEUP_DISMISS:"mouseup.dismiss"+kt,MOUSEDOWN_DISMISS:"mousedown.dismiss"+kt,CLICK_DATA_API:"click"+kt+Ut},Bt={SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},Kt={DIALOG:".modal-dialog",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},xt=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(Kt.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var e=t.prototype;return e.toggle=function(t){return this._isShown?this.hide():this.show(t)},e.show=function(t){var e=this;if(!this._isShown&&!this._isTransitioning){n(this._element).hasClass(Bt.FADE)&&(this._isTransitioning=!0);var i=n.Event(Gt.SHOW,{relatedTarget:t});n(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),n(this._element).on(Gt.CLICK_DISMISS,Kt.DATA_DISMISS,function(t){return e.hide(t)}),n(this._dialog).on(Gt.MOUSEDOWN_DISMISS,function(){n(e._element).one(Gt.MOUSEUP_DISMISS,function(t){n(t.target).is(e._element)&&(e._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return e._showElement(t)}))}},e.hide=function(t){var e=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=n.Event(Gt.HIDE);if(n(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var o=n(this._element).hasClass(Bt.FADE);if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),n(document).off(Gt.FOCUSIN),n(this._element).removeClass(Bt.SHOW),n(this._element).off(Gt.CLICK_DISMISS),n(this._dialog).off(Gt.MOUSEDOWN_DISMISS),o){var r=g.getTransitionDurationFromElement(this._element);n(this._element).one(g.TRANSITION_END,function(t){return e._hideModal(t)}).emulateTransitionEnd(r)}else this._hideModal()}}},e.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return n(t).off(kt)}),n(document).off(Gt.FOCUSIN),n.removeData(this._element,Wt),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},e.handleUpdate=function(){this._adjustDialog()},e._getConfig=function(t){return t=s({},Mt,t),g.typeCheckConfig(Ht,t,jt),t},e._showElement=function(t){var e=this,i=n(this._element).hasClass(Bt.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.scrollTop=0,i&&g.reflow(this._element),n(this._element).addClass(Bt.SHOW),this._config.focus&&this._enforceFocus();var o=n.Event(Gt.SHOWN,{relatedTarget:t}),r=function(){e._config.focus&&e._element.focus(),e._isTransitioning=!1,n(e._element).trigger(o)};if(i){var s=g.getTransitionDurationFromElement(this._dialog);n(this._dialog).one(g.TRANSITION_END,r).emulateTransitionEnd(s)}else r()},e._enforceFocus=function(){var t=this;n(document).off(Gt.FOCUSIN).on(Gt.FOCUSIN,function(e){document!==e.target&&t._element!==e.target&&0===n(t._element).has(e.target).length&&t._element.focus()})},e._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?n(this._element).on(Gt.KEYDOWN_DISMISS,function(e){e.which===Ft&&(e.preventDefault(),t.hide())}):this._isShown||n(this._element).off(Gt.KEYDOWN_DISMISS)},e._setResizeEvent=function(){var t=this;this._isShown?n(window).on(Gt.RESIZE,function(e){return t.handleUpdate(e)}):n(window).off(Gt.RESIZE)},e._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){n(document.body).removeClass(Bt.OPEN),t._resetAdjustments(),t._resetScrollbar(),n(t._element).trigger(Gt.HIDDEN)})},e._removeBackdrop=function(){this._backdrop&&(n(this._backdrop).remove(),this._backdrop=null)},e._showBackdrop=function(t){var e=this,i=n(this._element).hasClass(Bt.FADE)?Bt.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=Bt.BACKDROP,i&&this._backdrop.classList.add(i),n(this._backdrop).appendTo(document.body),n(this._element).on(Gt.CLICK_DISMISS,function(t){return e._ignoreBackdropClick?void(e._ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"===e._config.backdrop?e._element.focus():e.hide()));
}),i&&g.reflow(this._backdrop),n(this._backdrop).addClass(Bt.SHOW),!t)return;if(!i)return void t();var o=g.getTransitionDurationFromElement(this._backdrop);n(this._backdrop).one(g.TRANSITION_END,t).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){n(this._backdrop).removeClass(Bt.SHOW);var r=function(){e._removeBackdrop(),t&&t()};if(n(this._element).hasClass(Bt.FADE)){var s=g.getTransitionDurationFromElement(this._backdrop);n(this._backdrop).one(g.TRANSITION_END,r).emulateTransitionEnd(s)}else r()}else t&&t()},e._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},e._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},e._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},e._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var e=[].slice.call(document.querySelectorAll(Kt.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(Kt.STICKY_CONTENT));n(e).each(function(e,i){var o=i.style.paddingRight,r=n(i).css("padding-right");n(i).data("padding-right",o).css("padding-right",parseFloat(r)+t._scrollbarWidth+"px")}),n(i).each(function(e,i){var o=i.style.marginRight,r=n(i).css("margin-right");n(i).data("margin-right",o).css("margin-right",parseFloat(r)-t._scrollbarWidth+"px")});var o=document.body.style.paddingRight,r=n(document.body).css("padding-right");n(document.body).data("padding-right",o).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}n(document.body).addClass(Bt.OPEN)},e._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(Kt.FIXED_CONTENT));n(t).each(function(t,e){var i=n(e).data("padding-right");n(e).removeData("padding-right"),e.style.paddingRight=i?i:""});var e=[].slice.call(document.querySelectorAll(""+Kt.STICKY_CONTENT));n(e).each(function(t,e){var i=n(e).data("margin-right");"undefined"!=typeof i&&n(e).css("margin-right",i).removeData("margin-right")});var i=n(document.body).data("padding-right");n(document.body).removeData("padding-right"),document.body.style.paddingRight=i?i:""},e._getScrollbarWidth=function(){var t=document.createElement("div");t.className=Bt.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(e,i){return this.each(function(){var o=n(this).data(Wt),r=s({},Mt,n(this).data(),"object"==typeof e&&e?e:{});if(o||(o=new t(this,r),n(this).data(Wt,o)),"string"==typeof e){if("undefined"==typeof o[e])throw new TypeError('No method named "'+e+'"');o[e](i)}else r.show&&o.show(i)})},o(t,null,[{key:"VERSION",get:function(){return Rt}},{key:"Default",get:function(){return Mt}}]),t}();n(document).on(Gt.CLICK_DATA_API,Kt.DATA_TOGGLE,function(t){var e,i=this,o=g.getSelectorFromElement(this);o&&(e=document.querySelector(o));var r=n(e).data(Wt)?"toggle":s({},n(e).data(),n(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=n(e).one(Gt.SHOW,function(t){t.isDefaultPrevented()||a.one(Gt.HIDDEN,function(){n(i).is(":visible")&&i.focus()})});xt._jQueryInterface.call(n(e),r,this)}),n.fn[Ht]=xt._jQueryInterface,n.fn[Ht].Constructor=xt,n.fn[Ht].noConflict=function(){return n.fn[Ht]=Vt,xt._jQueryInterface};var qt="tooltip",Qt="4.2.1",Xt="bs.tooltip",Yt="."+Xt,zt=n.fn[qt],Jt="bs-tooltip",Zt=new RegExp("(^|\\s)"+Jt+"\\S+","g"),$t={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)"},te={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},ee={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent"},ne={SHOW:"show",OUT:"out"},ie={HIDE:"hide"+Yt,HIDDEN:"hidden"+Yt,SHOW:"show"+Yt,SHOWN:"shown"+Yt,INSERTED:"inserted"+Yt,CLICK:"click"+Yt,FOCUSIN:"focusin"+Yt,FOCUSOUT:"focusout"+Yt,MOUSEENTER:"mouseenter"+Yt,MOUSELEAVE:"mouseleave"+Yt},oe={FADE:"fade",SHOW:"show"},re={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},se={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},ae=function(){function t(t,n){if("undefined"==typeof e)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(n),this.tip=null,this._setListeners()}var i=t.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(t){if(this._isEnabled)if(t){var e=this.constructor.DATA_KEY,i=n(t.currentTarget).data(e);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),n(t.currentTarget).data(e,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(n(this.getTipElement()).hasClass(oe.SHOW))return void this._leave(null,this);this._enter(null,this)}},i.dispose=function(){clearTimeout(this._timeout),n.removeData(this.element,this.constructor.DATA_KEY),n(this.element).off(this.constructor.EVENT_KEY),n(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&n(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var t=this;if("none"===n(this.element).css("display"))throw new Error("Please use show on visible elements");var i=n.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){n(this.element).trigger(i);var o=g.findShadowRoot(this.element),r=n.contains(null!==o?o:this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!r)return;var s=this.getTipElement(),a=g.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&n(s).addClass(oe.FADE);var l="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);var h=this._getContainer();n(s).data(this.constructor.DATA_KEY,this),n.contains(this.element.ownerDocument.documentElement,this.tip)||n(s).appendTo(h),n(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new e(this.element,s,{placement:c,modifiers:{offset:{offset:this.config.offset},flip:{behavior:this.config.fallbackPlacement},arrow:{element:re.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),n(s).addClass(oe.SHOW),"ontouchstart"in document.documentElement&&n(document.body).children().on("mouseover",null,n.noop);var u=function(){t.config.animation&&t._fixTransition();var e=t._hoverState;t._hoverState=null,n(t.element).trigger(t.constructor.Event.SHOWN),e===ne.OUT&&t._leave(null,t)};if(n(this.tip).hasClass(oe.FADE)){var f=g.getTransitionDurationFromElement(this.tip);n(this.tip).one(g.TRANSITION_END,u).emulateTransitionEnd(f)}else u()}},i.hide=function(t){var e=this,i=this.getTipElement(),o=n.Event(this.constructor.Event.HIDE),r=function(){e._hoverState!==ne.SHOW&&i.parentNode&&i.parentNode.removeChild(i),e._cleanTipClass(),e.element.removeAttribute("aria-describedby"),n(e.element).trigger(e.constructor.Event.HIDDEN),null!==e._popper&&e._popper.destroy(),t&&t()};if(n(this.element).trigger(o),!o.isDefaultPrevented()){if(n(i).removeClass(oe.SHOW),"ontouchstart"in document.documentElement&&n(document.body).children().off("mouseover",null,n.noop),this._activeTrigger[se.CLICK]=!1,this._activeTrigger[se.FOCUS]=!1,this._activeTrigger[se.HOVER]=!1,n(this.tip).hasClass(oe.FADE)){var s=g.getTransitionDurationFromElement(i);n(i).one(g.TRANSITION_END,r).emulateTransitionEnd(s)}else r();this._hoverState=""}},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(t){n(this.getTipElement()).addClass(Jt+"-"+t)},i.getTipElement=function(){return this.tip=this.tip||n(this.config.template)[0],this.tip},i.setContent=function(){var t=this.getTipElement();this.setElementContent(n(t.querySelectorAll(re.TOOLTIP_INNER)),this.getTitle()),n(t).removeClass(oe.FADE+" "+oe.SHOW)},i.setElementContent=function(t,e){var i=this.config.html;"object"==typeof e&&(e.nodeType||e.jquery)?i?n(e).parent().is(t)||t.empty().append(e):t.text(n(e).text()):t[i?"html":"text"](e)},i.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},i._getContainer=function(){return this.config.container===!1?document.body:g.isElement(this.config.container)?n(this.config.container):n(document).find(this.config.container)},i._getAttachment=function(t){return te[t.toUpperCase()]},i._setListeners=function(){var t=this,e=this.config.trigger.split(" ");e.forEach(function(e){if("click"===e)n(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(e!==se.MANUAL){var i=e===se.HOVER?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,o=e===se.HOVER?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;n(t.element).on(i,t.config.selector,function(e){return t._enter(e)}).on(o,t.config.selector,function(e){return t._leave(e)})}}),n(this.element).closest(".modal").on("hide.bs.modal",function(){t.element&&t.hide()}),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(t,e){var i=this.constructor.DATA_KEY;return e=e||n(t.currentTarget).data(i),e||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),n(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusin"===t.type?se.FOCUS:se.HOVER]=!0),n(e.getTipElement()).hasClass(oe.SHOW)||e._hoverState===ne.SHOW?void(e._hoverState=ne.SHOW):(clearTimeout(e._timeout),e._hoverState=ne.SHOW,e.config.delay&&e.config.delay.show?void(e._timeout=setTimeout(function(){e._hoverState===ne.SHOW&&e.show()},e.config.delay.show)):void e.show())},i._leave=function(t,e){var i=this.constructor.DATA_KEY;if(e=e||n(t.currentTarget).data(i),e||(e=new this.constructor(t.currentTarget,this._getDelegateConfig()),n(t.currentTarget).data(i,e)),t&&(e._activeTrigger["focusout"===t.type?se.FOCUS:se.HOVER]=!1),!e._isWithActiveTrigger())return clearTimeout(e._timeout),e._hoverState=ne.OUT,e.config.delay&&e.config.delay.hide?void(e._timeout=setTimeout(function(){e._hoverState===ne.OUT&&e.hide()},e.config.delay.hide)):void e.hide()},i._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},i._getConfig=function(t){return t=s({},this.constructor.Default,n(this.element).data(),"object"==typeof t&&t?t:{}),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),g.typeCheckConfig(qt,t,this.constructor.DefaultType),t},i._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},i._cleanTipClass=function(){var t=n(this.getTipElement()),e=t.attr("class").match(Zt);null!==e&&e.length&&t.removeClass(e.join(""))},i._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},i._fixTransition=function(){var t=this.getTipElement(),e=this.config.animation;null===t.getAttribute("x-placement")&&(n(t).removeClass(oe.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=e)},t._jQueryInterface=function(e){return this.each(function(){var i=n(this).data(Xt),o="object"==typeof e&&e;if((i||!/dispose|hide/.test(e))&&(i||(i=new t(this,o),n(this).data(Xt,i)),"string"==typeof e)){if("undefined"==typeof i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},o(t,null,[{key:"VERSION",get:function(){return Qt}},{key:"Default",get:function(){return ee}},{key:"NAME",get:function(){return qt}},{key:"DATA_KEY",get:function(){return Xt}},{key:"Event",get:function(){return ie}},{key:"EVENT_KEY",get:function(){return Yt}},{key:"DefaultType",get:function(){return $t}}]),t}();n.fn[qt]=ae._jQueryInterface,n.fn[qt].Constructor=ae,n.fn[qt].noConflict=function(){return n.fn[qt]=zt,ae._jQueryInterface};var le="popover",ce="4.2.1",he="bs.popover",ue="."+he,fe=n.fn[le],de="bs-popover",_e=new RegExp("(^|\\s)"+de+"\\S+","g"),ge=s({},ae.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),me=s({},ae.DefaultType,{content:"(string|element|function)"}),pe={FADE:"fade",SHOW:"show"},Ee={TITLE:".popover-header",CONTENT:".popover-body"},ve={HIDE:"hide"+ue,HIDDEN:"hidden"+ue,SHOW:"show"+ue,SHOWN:"shown"+ue,INSERTED:"inserted"+ue,CLICK:"click"+ue,FOCUSIN:"focusin"+ue,FOCUSOUT:"focusout"+ue,MOUSEENTER:"mouseenter"+ue,MOUSELEAVE:"mouseleave"+ue},Te=function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var i=e.prototype;return i.isWithContent=function(){return this.getTitle()||this._getContent()},i.addAttachmentClass=function(t){n(this.getTipElement()).addClass(de+"-"+t)},i.getTipElement=function(){return this.tip=this.tip||n(this.config.template)[0],this.tip},i.setContent=function(){var t=n(this.getTipElement());this.setElementContent(t.find(Ee.TITLE),this.getTitle());var e=this._getContent();"function"==typeof e&&(e=e.call(this.element)),this.setElementContent(t.find(Ee.CONTENT),e),t.removeClass(pe.FADE+" "+pe.SHOW)},i._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},i._cleanTipClass=function(){var t=n(this.getTipElement()),e=t.attr("class").match(_e);null!==e&&e.length>0&&t.removeClass(e.join(""))},e._jQueryInterface=function(t){return this.each(function(){var i=n(this).data(he),o="object"==typeof t?t:null;if((i||!/dispose|hide/.test(t))&&(i||(i=new e(this,o),n(this).data(he,i)),"string"==typeof t)){if("undefined"==typeof i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},o(e,null,[{key:"VERSION",get:function(){return ce}},{key:"Default",get:function(){return ge}},{key:"NAME",get:function(){return le}},{key:"DATA_KEY",get:function(){return he}},{key:"Event",get:function(){return ve}},{key:"EVENT_KEY",get:function(){return ue}},{key:"DefaultType",get:function(){return me}}]),e}(ae);n.fn[le]=Te._jQueryInterface,n.fn[le].Constructor=Te,n.fn[le].noConflict=function(){return n.fn[le]=fe,Te._jQueryInterface};var Ie="scrollspy",Se="4.2.1",Ae="bs.scrollspy",Ce="."+Ae,De=".data-api",ye=n.fn[Ie],Oe={offset:10,method:"auto",target:""},Ne={offset:"number",method:"string",target:"(string|element)"},be={ACTIVATE:"activate"+Ce,SCROLL:"scroll"+Ce,LOAD_DATA_API:"load"+Ce+De},we={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},Le={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},Pe={OFFSET:"offset",POSITION:"position"},He=function(){function t(t,e){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(e),this._selector=this._config.target+" "+Le.NAV_LINKS+","+(this._config.target+" "+Le.LIST_ITEMS+",")+(this._config.target+" "+Le.DROPDOWN_ITEMS),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,n(this._scrollElement).on(be.SCROLL,function(t){return i._process(t)}),this.refresh(),this._process()}var e=t.prototype;return e.refresh=function(){var t=this,e=this._scrollElement===this._scrollElement.window?Pe.OFFSET:Pe.POSITION,i="auto"===this._config.method?e:this._config.method,o=i===Pe.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var r=[].slice.call(document.querySelectorAll(this._selector));r.map(function(t){var e,r=g.getSelectorFromElement(t);if(r&&(e=document.querySelector(r)),e){var s=e.getBoundingClientRect();if(s.width||s.height)return[n(e)[i]().top+o,r]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},e.dispose=function(){n.removeData(this._element,Ae),n(this._scrollElement).off(Ce),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},e._getConfig=function(t){if(t=s({},Oe,"object"==typeof t&&t?t:{}),"string"!=typeof t.target){var e=n(t.target).attr("id");e||(e=g.getUID(Ie),n(t.target).attr("id",e)),t.target="#"+e}return g.typeCheckConfig(Ie,t,Ne),t},e._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},e._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},e._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},e._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];return void(this._activeTarget!==i&&this._activate(i))}if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length,r=o;r--;){var s=this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&("undefined"==typeof this._offsets[r+1]||t<this._offsets[r+1]);s&&this._activate(this._targets[r])}},e._activate=function(t){this._activeTarget=t,this._clear();var e=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),i=n([].slice.call(document.querySelectorAll(e.join(","))));i.hasClass(we.DROPDOWN_ITEM)?(i.closest(Le.DROPDOWN).find(Le.DROPDOWN_TOGGLE).addClass(we.ACTIVE),i.addClass(we.ACTIVE)):(i.addClass(we.ACTIVE),i.parents(Le.NAV_LIST_GROUP).prev(Le.NAV_LINKS+", "+Le.LIST_ITEMS).addClass(we.ACTIVE),i.parents(Le.NAV_LIST_GROUP).prev(Le.NAV_ITEMS).children(Le.NAV_LINKS).addClass(we.ACTIVE)),n(this._scrollElement).trigger(be.ACTIVATE,{relatedTarget:t})},e._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(we.ACTIVE)}).forEach(function(t){return t.classList.remove(we.ACTIVE)})},t._jQueryInterface=function(e){return this.each(function(){var i=n(this).data(Ae),o="object"==typeof e&&e;if(i||(i=new t(this,o),n(this).data(Ae,i)),"string"==typeof e){if("undefined"==typeof i[e])throw new TypeError('No method named "'+e+'"');i[e]()}})},o(t,null,[{key:"VERSION",get:function(){return Se}},{key:"Default",get:function(){return Oe}}]),t}();n(window).on(be.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(Le.DATA_SPY)),e=t.length,i=e;i--;){var o=n(t[i]);He._jQueryInterface.call(o,o.data())}}),n.fn[Ie]=He._jQueryInterface,n.fn[Ie].Constructor=He,n.fn[Ie].noConflict=function(){return n.fn[Ie]=ye,He._jQueryInterface};var Re="tab",We="4.2.1",ke="bs.tab",Ue="."+ke,Ve=".data-api",Fe=n.fn[Re],Me={HIDE:"hide"+Ue,HIDDEN:"hidden"+Ue,SHOW:"show"+Ue,SHOWN:"shown"+Ue,CLICK_DATA_API:"click"+Ue+Ve},je={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},Ge={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},Be=function(){function t(t){this._element=t}var e=t.prototype;return e.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&n(this._element).hasClass(je.ACTIVE)||n(this._element).hasClass(je.DISABLED))){var e,i,o=n(this._element).closest(Ge.NAV_LIST_GROUP)[0],r=g.getSelectorFromElement(this._element);if(o){var s="UL"===o.nodeName||"OL"===o.nodeName?Ge.ACTIVE_UL:Ge.ACTIVE;i=n.makeArray(n(o).find(s)),i=i[i.length-1]}var a=n.Event(Me.HIDE,{relatedTarget:this._element}),l=n.Event(Me.SHOW,{relatedTarget:i});if(i&&n(i).trigger(a),n(this._element).trigger(l),!l.isDefaultPrevented()&&!a.isDefaultPrevented()){r&&(e=document.querySelector(r)),this._activate(this._element,o);var c=function(){var e=n.Event(Me.HIDDEN,{relatedTarget:t._element}),o=n.Event(Me.SHOWN,{relatedTarget:i});n(i).trigger(e),n(t._element).trigger(o)};e?this._activate(e,e.parentNode,c):c()}}},e.dispose=function(){n.removeData(this._element,ke),this._element=null},e._activate=function(t,e,i){var o=this,r=!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?n(e).children(Ge.ACTIVE):n(e).find(Ge.ACTIVE_UL),s=r[0],a=i&&s&&n(s).hasClass(je.FADE),l=function(){return o._transitionComplete(t,s,i)};if(s&&a){var c=g.getTransitionDurationFromElement(s);n(s).removeClass(je.SHOW).one(g.TRANSITION_END,l).emulateTransitionEnd(c)}else l()},e._transitionComplete=function(t,e,i){if(e){n(e).removeClass(je.ACTIVE);var o=n(e.parentNode).find(Ge.DROPDOWN_ACTIVE_CHILD)[0];o&&n(o).removeClass(je.ACTIVE),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}if(n(t).addClass(je.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),g.reflow(t),n(t).addClass(je.SHOW),t.parentNode&&n(t.parentNode).hasClass(je.DROPDOWN_MENU)){var r=n(t).closest(Ge.DROPDOWN)[0];if(r){var s=[].slice.call(r.querySelectorAll(Ge.DROPDOWN_TOGGLE));n(s).addClass(je.ACTIVE)}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(e){return this.each(function(){var i=n(this),o=i.data(ke);if(o||(o=new t(this),i.data(ke,o)),"string"==typeof e){if("undefined"==typeof o[e])throw new TypeError('No method named "'+e+'"');o[e]()}})},o(t,null,[{key:"VERSION",get:function(){return We}}]),t}();n(document).on(Me.CLICK_DATA_API,Ge.DATA_TOGGLE,function(t){t.preventDefault(),Be._jQueryInterface.call(n(this),"show")}),n.fn[Re]=Be._jQueryInterface,n.fn[Re].Constructor=Be,n.fn[Re].noConflict=function(){return n.fn[Re]=Fe,Be._jQueryInterface};var Ke="toast",xe="4.2.1",qe="bs.toast",Qe="."+qe,Xe=n.fn[Ke],Ye={CLICK_DISMISS:"click.dismiss"+Qe,HIDE:"hide"+Qe,HIDDEN:"hidden"+Qe,SHOW:"show"+Qe,SHOWN:"shown"+Qe},ze={FADE:"fade",HIDE:"hide",SHOW:"show",SHOWING:"showing"},Je={animation:"boolean",autohide:"boolean",delay:"number"},Ze={animation:!0,autohide:!0,delay:500},$e={DATA_DISMISS:'[data-dismiss="toast"]'},tn=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var e=t.prototype;return e.show=function(){var t=this;n(this._element).trigger(Ye.SHOW),this._config.animation&&this._element.classList.add(ze.FADE);var e=function(){t._element.classList.remove(ze.SHOWING),t._element.classList.add(ze.SHOW),n(t._element).trigger(Ye.SHOWN),t._config.autohide&&t.hide()};if(this._element.classList.remove(ze.HIDE),this._element.classList.add(ze.SHOWING),this._config.animation){var i=g.getTransitionDurationFromElement(this._element);n(this._element).one(g.TRANSITION_END,e).emulateTransitionEnd(i)}else e()},e.hide=function(t){var e=this;this._element.classList.contains(ze.SHOW)&&(n(this._element).trigger(Ye.HIDE),t?this._close():this._timeout=setTimeout(function(){e._close()},this._config.delay))},e.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(ze.SHOW)&&this._element.classList.remove(ze.SHOW),n(this._element).off(Ye.CLICK_DISMISS),n.removeData(this._element,qe),this._element=null,this._config=null},e._getConfig=function(t){return t=s({},Ze,n(this._element).data(),"object"==typeof t&&t?t:{}),g.typeCheckConfig(Ke,t,this.constructor.DefaultType),t},e._setListeners=function(){var t=this;n(this._element).on(Ye.CLICK_DISMISS,$e.DATA_DISMISS,function(){return t.hide(!0)})},e._close=function(){var t=this,e=function(){t._element.classList.add(ze.HIDE),n(t._element).trigger(Ye.HIDDEN)};if(this._element.classList.remove(ze.SHOW),this._config.animation){var i=g.getTransitionDurationFromElement(this._element);n(this._element).one(g.TRANSITION_END,e).emulateTransitionEnd(i)}else e()},t._jQueryInterface=function(e){return this.each(function(){var i=n(this),o=i.data(qe),r="object"==typeof e&&e;if(o||(o=new t(this,r),i.data(qe,o)),"string"==typeof e){if("undefined"==typeof o[e])throw new TypeError('No method named "'+e+'"');o[e](this)}})},o(t,null,[{key:"VERSION",get:function(){return xe}},{key:"DefaultType",get:function(){return Je}}]),t}();n.fn[Ke]=tn._jQueryInterface,n.fn[Ke].Constructor=tn,n.fn[Ke].noConflict=function(){return n.fn[Ke]=Xe,tn._jQueryInterface},function(){if("undefined"==typeof n)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=n.fn.jquery.split(" ")[0].split("."),e=1,i=2,o=9,r=1,s=4;if(t[0]<i&&t[1]<o||t[0]===e&&t[1]===o&&t[2]<r||t[0]>=s)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),t.Util=g,t.Alert=D,t.Button=W,t.Carousel=$,t.Collapse=ft,t.Dropdown=Pt,t.Modal=xt,t.Popover=Te,t.Scrollspy=He,t.Tab=Be,t.Toast=tn,t.Tooltip=ae,Object.defineProperty(t,"__esModule",{value:!0})});
},{"jquery":"jquery","popper.js":59}],"chart.js":[function(require,module,exports){
var Chart=require("./core/core")();Chart.helpers=require("./helpers/index"),require("./core/core.helpers")(Chart),Chart.Animation=require("./core/core.animation"),Chart.animationService=require("./core/core.animations"),Chart.defaults=require("./core/core.defaults"),Chart.Element=require("./core/core.element"),Chart.elements=require("./elements/index"),Chart.Interaction=require("./core/core.interaction"),Chart.layouts=require("./core/core.layouts"),Chart.platform=require("./platforms/platform"),Chart.plugins=require("./core/core.plugins"),Chart.Scale=require("./core/core.scale"),Chart.scaleService=require("./core/core.scaleService"),Chart.Ticks=require("./core/core.ticks"),Chart.Tooltip=require("./core/core.tooltip"),require("./core/core.controller")(Chart),require("./core/core.datasetController")(Chart),require("./scales/scale.linearbase")(Chart),require("./scales/scale.category")(Chart),require("./scales/scale.linear")(Chart),require("./scales/scale.logarithmic")(Chart),require("./scales/scale.radialLinear")(Chart),require("./scales/scale.time")(Chart),require("./controllers/controller.bar")(Chart),require("./controllers/controller.bubble")(Chart),require("./controllers/controller.doughnut")(Chart),require("./controllers/controller.line")(Chart),require("./controllers/controller.polarArea")(Chart),require("./controllers/controller.radar")(Chart),require("./controllers/controller.scatter")(Chart),require("./charts/Chart.Bar")(Chart),require("./charts/Chart.Bubble")(Chart),require("./charts/Chart.Doughnut")(Chart),require("./charts/Chart.Line")(Chart),require("./charts/Chart.PolarArea")(Chart),require("./charts/Chart.Radar")(Chart),require("./charts/Chart.Scatter")(Chart);var plugins=require("./plugins");for(var k in plugins)plugins.hasOwnProperty(k)&&Chart.plugins.register(plugins[k]);Chart.platform.initialize(),module.exports=Chart,"undefined"!=typeof window&&(window.Chart=Chart),Chart.Legend=plugins.legend._element,Chart.Title=plugins.title._element,Chart.pluginService=Chart.plugins,Chart.PluginBase=Chart.Element.extend({}),Chart.canvasHelpers=Chart.helpers.canvas,Chart.layoutService=Chart.layouts;
},{"./charts/Chart.Bar":2,"./charts/Chart.Bubble":3,"./charts/Chart.Doughnut":4,"./charts/Chart.Line":5,"./charts/Chart.PolarArea":6,"./charts/Chart.Radar":7,"./charts/Chart.Scatter":8,"./controllers/controller.bar":9,"./controllers/controller.bubble":10,"./controllers/controller.doughnut":11,"./controllers/controller.line":12,"./controllers/controller.polarArea":13,"./controllers/controller.radar":14,"./controllers/controller.scatter":15,"./core/core":24,"./core/core.animation":16,"./core/core.animations":17,"./core/core.controller":18,"./core/core.datasetController":19,"./core/core.defaults":20,"./core/core.element":21,"./core/core.helpers":22,"./core/core.interaction":23,"./core/core.layouts":25,"./core/core.plugins":26,"./core/core.scale":27,"./core/core.scaleService":28,"./core/core.ticks":29,"./core/core.tooltip":30,"./elements/index":35,"./helpers/index":40,"./platforms/platform":43,"./plugins":44,"./scales/scale.category":48,"./scales/scale.linear":49,"./scales/scale.linearbase":50,"./scales/scale.logarithmic":51,"./scales/scale.radialLinear":52,"./scales/scale.time":53}],"clipboard":[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(e){return t[e]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(1),f=o(s),d=n(3),h=o(d),p=n(4),y=o(p),m=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.resolveOptions(n),o.listenClick(t),o}return a(e,t),l(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===u(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,y["default"])(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new f["default"]({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return c("action",t)}},{key:"defaultTarget",value:function(t){var e=c("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return c("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(h["default"]);t.exports=m},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=n(2),u=o(c),l=function(){function t(e){r(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,u["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,u["default"])(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=l},function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),r=document.createRange();r.selectNodeContents(t),o.removeAllRanges(),o.addRange(r),e=o.toString()}return e}t.exports=n},function(t,e){function n(){}n.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){r.off(t,o),e.apply(n,arguments)}var r=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,r=n.length;for(o;o<r;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],r=[];if(o&&e)for(var i=0,a=o.length;i<a;i++)o[i].fn!==e&&o[i].fn._!==e&&r.push(o[i]);return r.length?n[t]=r:delete n[t],this}},t.exports=n},function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!c.string(e))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(t))return r(t,e,n);if(c.nodeList(t))return i(t,e,n);if(c.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function i(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return u(document.body,t,e,n)}var c=n(5),u=n(6);t.exports=o},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},function(t,e,n){function o(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function r(t,e,n,r,i){return"function"==typeof t.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return o(t,e,n,r,i)}))}function i(t,e,n,o){return function(n){n.delegateTarget=a(n.target,e),n.delegateTarget&&o.call(t,n)}}var a=n(7);t.exports=r},function(t,e){function n(t,e){for(;t&&t.nodeType!==o;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var o=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=n}])});
},{}],"codemirror":[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CodeMirror=t()}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function r(e,r){return t(e).appendChild(r)}function n(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,r,i){var o=n(e,t,r,i);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function l(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(t,r){var n=t.className;e(r).test(n)||(t.className+=(n?" ":"")+r)}function a(t,r){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!e(n[i]).test(r)&&(r+=" "+n[i]);return r}function u(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function f(e,t,r,n,i){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var o=n||0,l=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return l+(t-o);l+=s-o,l+=r-l%r,o=s+1}}function h(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function d(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);o==-1&&(o=e.length);var l=o-n;if(o==e.length||i+l>=t)return n+Math.min(l,t-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=t)return n}}function p(e){for(;Zl.length<=e;)Zl.push(g(Zl)+" ");return Zl[e]}function g(e){return e[e.length-1]}function v(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function m(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}function y(){}function b(e,t){var r;return Object.create?r=Object.create(e):(y.prototype=e,r=new y),t&&c(t,r),r}function w(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Ql.test(e))}function x(e,t){return t?!!(t.source.indexOf("\\w")>-1&&w(e))||t.test(e):w(e)}function C(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function S(e){return e.charCodeAt(0)>=768&&Jl.test(e)}function L(e,t,r){for(;(r<0?t>0:t<e.length)&&S(e.charAt(t));)t+=r;return t}function k(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}function T(e,t,r){var o=this;this.input=r,o.scrollbarFiller=n("div",null,"CodeMirror-scrollbar-filler"),o.scrollbarFiller.setAttribute("cm-not-content","true"),o.gutterFiller=n("div",null,"CodeMirror-gutter-filler"),o.gutterFiller.setAttribute("cm-not-content","true"),o.lineDiv=i("div",null,"CodeMirror-code"),o.selectionDiv=n("div",null,null,"position: relative; z-index: 1"),o.cursorDiv=n("div",null,"CodeMirror-cursors"),o.measure=n("div",null,"CodeMirror-measure"),o.lineMeasure=n("div",null,"CodeMirror-measure"),o.lineSpace=i("div",[o.measure,o.lineMeasure,o.selectionDiv,o.cursorDiv,o.lineDiv],null,"position: relative; outline: none");var l=i("div",[o.lineSpace],"CodeMirror-lines");o.mover=n("div",[l],null,"position: relative"),o.sizer=n("div",[o.mover],"CodeMirror-sizer"),o.sizerWidth=null,o.heightForcer=n("div",null,null,"position: absolute; height: "+Xl+"px; width: 1px;"),o.gutters=n("div",null,"CodeMirror-gutters"),o.lineGutter=null,o.scroller=n("div",[o.sizer,o.heightForcer,o.gutters],"CodeMirror-scroll"),o.scroller.setAttribute("tabIndex","-1"),o.wrapper=n("div",[o.scrollbarFiller,o.gutterFiller,o.scroller],"CodeMirror"),Cl&&Sl<8&&(o.gutters.style.zIndex=-1,o.scroller.style.paddingRight=0),Ll||yl&&Hl||(o.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(o.wrapper):e(o.wrapper)),o.viewFrom=o.viewTo=t.first,o.reportedViewFrom=o.reportedViewTo=t.first,o.view=[],o.renderedView=null,o.externalMeasured=null,o.viewOffset=0,o.lastWrapHeight=o.lastWrapWidth=0,o.updateLineNumbers=null,o.nativeBarWidth=o.barHeight=o.barWidth=0,o.scrollbarsClipped=!1,o.lineNumWidth=o.lineNumInnerWidth=o.lineNumChars=null,o.alignWidgets=!1,o.cachedCharWidth=o.cachedTextHeight=o.cachedPaddingH=null,o.maxLine=null,o.maxLineLength=0,o.maxLineChanged=!1,o.wheelDX=o.wheelDY=o.wheelStartX=o.wheelStartY=null,o.shift=!1,o.selForContextMenu=null,o.activeTouch=null,r.init(o)}function M(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function N(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function O(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function A(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function D(e){if(null==e.parent)return null;for(var t=e.parent,r=h(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function W(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var l=0;l<e.lines.length;++l){var s=e.lines[l],a=s.height;if(t<a)break;t-=a}return r+l}function H(e,t){return t>=e.first&&t<e.first+e.size}function F(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function P(e,t,r){return void 0===r&&(r=null),this instanceof P?(this.line=e,this.ch=t,void(this.sticky=r)):new P(e,t,r)}function E(e,t){return e.line-t.line||e.ch-t.ch}function I(e,t){return e.sticky==t.sticky&&0==E(e,t)}function z(e){return P(e.line,e.ch)}function R(e,t){return E(e,t)<0?t:e}function B(e,t){return E(e,t)<0?e:t}function G(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function U(e,t){if(t.line<e.first)return P(e.first,0);var r=e.first+e.size-1;return t.line>r?P(r,M(e,r).text.length):V(t,M(e,t.line).text.length)}function V(e,t){var r=e.ch;return null==r||r>t?P(e.line,t):r<0?P(e.line,0):e}function K(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=U(e,t[n]);return r}function j(){es=!0}function X(){ts=!0}function Y(e,t,r){this.marker=e,this.from=t,this.to=r}function _(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function $(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function q(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}function Z(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==l.type&&(!r||!o.marker.insertLeft)){var a=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Y(l,o.from,a?null:o.to))}}return n}function Q(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==l.type&&(!r||o.marker.insertLeft)){var a=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Y(l,a?null:o.from-t,null==o.to?null:o.to-t))}}return n}function J(e,t){if(t.full)return null;var r=H(e,t.from.line)&&M(e,t.from.line).markedSpans,n=H(e,t.to.line)&&M(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,l=0==E(t.from,t.to),s=Z(r,i,l),a=Q(n,o,l),u=1==t.text.length,c=g(t.text).length+(u?i:0);if(s)for(var f=0;f<s.length;++f){var h=s[f];if(null==h.to){var d=_(a,h.marker);d?u&&(h.to=null==d.to?null:d.to+c):h.to=i}}if(a)for(var p=0;p<a.length;++p){var v=a[p];if(null!=v.to&&(v.to+=c),null==v.from){var m=_(s,v.marker);m||(v.from=c,u&&(s||(s=[])).push(v))}else v.from+=c,u&&(s||(s=[])).push(v)}s&&(s=ee(s)),a&&a!=s&&(a=ee(a));var y=[s];if(!u){var b,w=t.text.length-2;if(w>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(b||(b=[])).push(new Y(s[x].marker,null,null));for(var C=0;C<w;++C)y.push(b);y.push(a)}return y}function ee(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function te(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&h(n,r)!=-1||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],s=l.find(0),a=0;a<i.length;++a){var u=i[a];if(!(E(u.to,s.from)<0||E(u.from,s.to)>0)){var c=[a,1],f=E(u.from,s.from),d=E(u.to,s.to);(f<0||!l.inclusiveLeft&&!f)&&c.push({from:u.from,to:s.from}),(d>0||!l.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),a+=c.length-3}}return i}function re(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function ne(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function ie(e){return e.inclusiveLeft?-1:0}function oe(e){return e.inclusiveRight?1:0}function le(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=E(n.from,i.from)||ie(e)-ie(t);if(o)return-o;var l=E(n.to,i.to)||oe(e)-oe(t);return l?l:t.id-e.id}function se(e,t){var r,n=ts&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||le(r,i.marker)<0)&&(r=i.marker);return r}function ae(e){return se(e,!0)}function ue(e){return se(e,!1)}function ce(e,t){var r,n=ts&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||le(r,o.marker)<0)&&(r=o.marker)}return r}function fe(e,t,r,n,i){var o=M(e,t),l=ts&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0),c=E(u.from,r)||ie(a.marker)-ie(i),f=E(u.to,n)||oe(a.marker)-oe(i);if(!(c>=0&&f<=0||c<=0&&f>=0)&&(c<=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?E(u.to,r)>=0:E(u.to,r)>0)||c>=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?E(u.from,n)<=0:E(u.from,n)<0)))return!0}}}function he(e){for(var t;t=ae(e);)e=t.find(-1,!0).line;return e}function de(e){for(var t;t=ue(e);)e=t.find(1,!0).line;return e}function pe(e){for(var t,r;t=ue(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function ge(e,t){var r=M(e,t),n=he(r);return r==n?t:D(n)}function ve(e,t){if(t>e.lastLine())return t;var r,n=M(e,t);if(!me(e,n))return t;for(;r=ue(n);)n=r.find(1,!0).line;return D(n)+1}function me(e,t){var r=ts&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&ye(e,t,n))return!0}}function ye(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return ye(e,n.line,_(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&ye(e,t,i))return!0}function be(e){e=he(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var l=0;l<o.children.length;++l){var s=o.children[l];if(s==r)break;t+=s.height}return t}function we(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=ae(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=ue(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,n=o.to.line,r+=n.text.length-o.to.ch}return r}function xe(e){var t=e.display,r=e.doc;t.maxLine=M(r,r.first),t.maxLineLength=we(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=we(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function Ce(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}function Se(e,t,r){var n;rs=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:rs=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:rs=i)}return null!=n?n:rs}function Le(e,t){var r=e.order;return null==r&&(r=e.order=ns(e.text,t)),r}function ke(e,t){return e._handlers&&e._handlers[t]||is}function Te(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=h(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function Me(e,t){var r=ke(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function Ne(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Me(e,r||t.type,e,t),Fe(t)||t.codemirrorIgnore}function Oe(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)h(r,t[n])==-1&&r.push(t[n])}function Ae(e,t){return ke(e,t).length>0}function De(e){e.prototype.on=function(e,t){os(this,e,t)},e.prototype.off=function(e,t){Te(this,e,t)}}function We(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function He(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function Fe(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Pe(e){We(e),He(e)}function Ee(e){return e.target||e.srcElement}function Ie(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Fl&&e.ctrlKey&&1==t&&(t=3),t}function ze(e){if(null==Kl){var t=n("span","");r(e,n("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Kl=t.offsetWidth<=1&&t.offsetHeight>2&&!(Cl&&Sl<8))}var i=Kl?n("span",""):n("span","",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function Re(e){if(null!=jl)return jl;var n=r(e,document.createTextNode("AA")),i=zl(n,0,1).getBoundingClientRect(),o=zl(n,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(jl=o.right-i.right<3)}function Be(e){if(null!=cs)return cs;var t=r(e,n("span","x")),i=t.getBoundingClientRect(),o=zl(t,0,1).getBoundingClientRect();return cs=Math.abs(i.left-o.left)>1}function Ge(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),fs[e]=t}function Ue(e,t){hs[e]=t}function Ve(e){if("string"==typeof e&&hs.hasOwnProperty(e))e=hs[e];else if(e&&"string"==typeof e.name&&hs.hasOwnProperty(e.name)){var t=hs[e.name];"string"==typeof t&&(t={name:t}),e=b(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Ve("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Ve("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Ke(e,t){t=Ve(t);var r=fs[t.name];if(!r)return Ke(e,"text/plain");var n=r(e,t);if(ds.hasOwnProperty(t.name)){var i=ds[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var l in t.modeProps)n[l]=t.modeProps[l];return n}function je(e,t){var r=ds.hasOwnProperty(e)?ds[e]:ds[e]={};c(t,r)}function Xe(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Ye(e,t){for(var r;e.innerMode&&(r=e.innerMode(t),r&&r.mode!=e);)t=r.state,e=r.mode;return r||{mode:e,state:t}}function _e(e,t,r){return!e.startState||e.startState(t,r)}function $e(e,t,r,n){var i=[e.state.modeGen],o={};nt(e,t.text,e.doc.mode,r,function(e,t){return i.push(e,t)},o,n);for(var l=r.state,s=function(n){r.baseTokens=i;var s=e.state.overlays[n],a=1,u=0;r.state=!0,nt(e,t.text,s.mode,r,function(e,t){for(var r=a;u<e;){var n=i[a];n>e&&i.splice(a,1,e,i[a+1],n),a+=2,u=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,a-r,e,"overlay "+t),a=r+2;else for(;r<a;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+t}},o),r.state=l,r.baseTokens=null,r.baseTokenPos=1},a=0;a<e.state.overlays.length;++a)s(a);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function qe(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Ze(e,D(t)),i=t.text.length>e.options.maxHighlightLength&&Xe(e.doc.mode,n.state),o=$e(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Ze(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new vs(n,(!0),t);var o=it(e,t,r),l=o>n.first&&M(n,o-1).stateAfter,s=l?vs.fromSaved(n,l,o):new vs(n,_e(n.mode),o);return n.iter(o,t,function(r){Qe(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()}),r&&(n.modeFrontier=s.line),s}function Qe(e,t,r,n){var i=e.doc.mode,o=new ps(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&Je(i,r.state);!o.eol();)et(i,o,r.state),o.start=o.pos}function Je(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Ye(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function et(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=Ye(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function tt(e,t,r,n){var i,o=e.doc,l=o.mode;t=U(o,t);var s,a=M(o,t.line),u=Ze(e,t.line,r),c=new ps(a.text,e.options.tabSize,u);for(n&&(s=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=et(l,c,u.state),n&&s.push(new ms(c,i,Xe(o.mode,u.state)));return n?s:new ms(c,i,u.state)}function rt(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function nt(e,t,r,n,i,o,l){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,u=0,c=null,f=new ps(t,e.options.tabSize,n),h=e.options.addModeClass&&[null];for(""==t&&rt(Je(r,n.state),o);!f.eol();){if(f.pos>e.options.maxHighlightLength?(s=!1,l&&Qe(e,t,n,f.pos),f.pos=t.length,a=null):a=rt(et(r,f,n.state,h),o),h){var d=h[0].name;d&&(a="m-"+(a?d+" "+a:d))}if(!s||c!=a){for(;u<f.start;)u=Math.min(f.start,u+5e3),i(u,c);c=a}f.start=f.pos}for(;u<f.pos;){var p=Math.min(f.pos,u+5e3);i(p,c),u=p}}function it(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>l;--s){if(s<=o.first)return o.first;var a=M(o,s-1),u=a.stateAfter;if(u&&(!r||s+(u instanceof gs?u.lookAhead:0)<=o.modeFrontier))return s;var c=f(a.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}function ot(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=M(e,n).stateAfter;if(i&&(!(i instanceof gs)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}function lt(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),re(e),ne(e,r);var i=n?n(e):1;i!=e.height&&A(e,i)}function st(e){e.parent=null,re(e)}function at(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?xs:ws;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function ut(e,t){var r=i("span",null,null,Ll?"padding-right: .1px":null),n={pre:i("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var l=o?t.rest[o-1]:t.line,s=void 0;n.pos=0,n.addToken=ft,Re(e.display.measure)&&(s=Le(l,e.doc.direction))&&(n.addToken=dt(n.addToken,s)),n.map=[];var u=t!=e.display.externalMeasured&&D(l);gt(l,n,qe(e,l,u)),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=a(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass&&(n.textClass=a(l.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(ze(e.display.measure))),0==o?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(Ll){var c=n.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return Me(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=a(n.pre.className,n.textClass||"")),n}function ct(e){var t=n("span","","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ft(e,t,r,i,o,l,s){if(t){var a,u=e.splitSpaces?ht(t,e.trailingSpace):t,c=e.cm.state.specialChars,f=!1;if(c.test(t)){a=document.createDocumentFragment();for(var h=0;;){c.lastIndex=h;var d=c.exec(t),g=d?d.index-h:t.length-h;if(g){var v=document.createTextNode(u.slice(h,h+g));Cl&&Sl<9?a.appendChild(n("span",[v])):a.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!d)break;h+=g+1;var m=void 0;if("\t"==d[0]){var y=e.cm.options.tabSize,b=y-e.col%y;m=a.appendChild(n("span",p(b),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==d[0]||"\n"==d[0]?(m=a.appendChild(n("span","\r"==d[0]?"":"","cm-invalidchar")),m.setAttribute("cm-text",d[0]),e.col+=1):(m=e.cm.options.specialCharPlaceholder(d[0]),m.setAttribute("cm-text",d[0]),Cl&&Sl<9?a.appendChild(n("span",[m])):a.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,a=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,a),Cl&&Sl<9&&(f=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),r||i||o||f||l){var w=r||"";i&&(w+=i),o&&(w+=o);var x=n("span",[a],w,l);if(s)for(var C in s)s.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&x.setAttribute(C,s[C]);return e.content.appendChild(x)}e.content.appendChild(a)}}function ht(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=""),n+=o,r=" "==o}return n}function dt(e,t){return function(r,n,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var f=void 0,h=0;h<t.length&&(f=t[h],!(f.to>u&&f.from<=u));h++);if(f.to>=c)return e(r,n,i,o,l,s,a);e(r,n.slice(0,f.to-u),i,o,null,s,a),o=null,n=n.slice(f.to-u),u=f.to}}}function pt(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function gt(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var l,s,a,u,c,f,h,d=i.length,p=0,g=1,v="",m=0;;){if(m==p){a=u=c=s="",h=null,f=null,m=1/0;for(var y=[],b=void 0,w=0;w<n.length;++w){var x=n[w],C=x.marker;if("bookmark"==C.type&&x.from==p&&C.widgetNode)y.push(C);else if(x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)){if(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),C.className&&(a+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==p&&(c+=" "+C.startStyle),C.endStyle&&x.to==m&&(b||(b=[])).push(C.endStyle,x.to),C.title&&((h||(h={})).title=C.title),C.attributes)for(var S in C.attributes)(h||(h={}))[S]=C.attributes[S];C.collapsed&&(!f||le(f.marker,C)<0)&&(f=x)}else x.from>p&&m>x.from&&(m=x.from)}if(b)for(var L=0;L<b.length;L+=2)b[L+1]==m&&(u+=" "+b[L]);if(!f||f.from==p)for(var k=0;k<y.length;++k)pt(t,0,y[k]);if(f&&(f.from||0)==p){if(pt(t,(null==f.to?d+1:f.to)-p,f.marker,null==f.from),null==f.to)return;f.to==p&&(f=!1)}}if(p>=d)break;for(var T=Math.min(d,m);;){if(v){var M=p+v.length;if(!f){var N=M>T?v.slice(0,T-p):v;t.addToken(t,N,l?l+a:a,c,p+N.length==m?u:"",s,h)}if(M>=T){v=v.slice(T-p),p=T;break}p=M,c=""}v=i.slice(o,o=r[g++]),l=at(r[g++],t.cm.options)}}else for(var O=1;O<r.length;O+=2)t.addToken(t,i.slice(o,o=r[O]),at(r[O+1],t.cm.options))}function vt(e,t,r){this.line=t,this.rest=pe(t),this.size=this.rest?D(g(this.rest))-r+1:1,this.node=this.text=null,this.hidden=me(e,t)}function mt(e,t,r){for(var n,i=[],o=t;o<r;o=n){var l=new vt(e.doc,M(e.doc,o),o);n=o+l.size,i.push(l)}return i}function yt(e){Cs?Cs.ops.push(e):e.ownsGroup=Cs={ops:[e],delayedCallbacks:[]}}function bt(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function wt(e,t){var r=e.ownsGroup;if(r)try{bt(r)}finally{Cs=null,t(r)}}function xt(e,t){var r=ke(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);Cs?n=Cs.delayedCallbacks:Ss?n=Ss:(n=Ss=[],setTimeout(Ct,0));for(var o=function(e){n.push(function(){return r[e].apply(null,i)})},l=0;l<r.length;++l)o(l)}}function Ct(){var e=Ss;Ss=null;for(var t=0;t<e.length;++t)e[t]()}function St(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Mt(e,t):"gutter"==o?Ot(e,t,r,n):"class"==o?Nt(e,t):"widget"==o&&At(e,t,n)}t.changes=null}function Lt(e){return e.node==e.text&&(e.node=n("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),Cl&&Sl<8&&(e.node.style.zIndex=2)),e.node}function kt(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var i=Lt(t);t.background=i.insertBefore(n("div",null,r),i.firstChild),e.display.input.setUneditable(t.background)}}function Tt(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):ut(e,t)}function Mt(e,t){var r=t.text.className,n=Tt(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Nt(e,t)):r&&(t.text.className=r)}function Nt(e,t){kt(e,t),t.line.wrapClass?Lt(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function Ot(e,t,r,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=Lt(t);t.gutterBackground=n("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var s=Lt(t),a=t.gutter=n("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(n("div",F(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var u=0;u<e.options.gutters.length;++u){var c=e.options.gutters[u],f=l.hasOwnProperty(c)&&l[c];f&&a.appendChild(n("div",[f],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function At(e,t,r){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,i=void 0;n;n=i)i=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);Wt(e,t,r)}function Dt(e,t,r,n){var i=Tt(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Nt(e,t),Ot(e,t,r,n),Wt(e,t,n),t.node}function Wt(e,t,r){if(Ht(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)Ht(e,t.rest[n],t,r,!1)}function Ht(e,t,r,i,o){if(t.widgets)for(var l=Lt(r),s=0,a=t.widgets;s<a.length;++s){var u=a[s],c=n("div",[u.node],"CodeMirror-linewidget");u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Ft(u,c,r,i),e.display.input.setUneditable(c),o&&u.above?l.insertBefore(c,r.gutter||r.text):l.appendChild(c),xt(u,"redraw")}}function Ft(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Pt(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),r(t.display.measure,n("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Et(e,t){for(var r=Ee(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function It(e){return e.lineSpace.offsetTop}function zt(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Rt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=r(e.measure,n("pre","x")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function Bt(e){return Xl-e.display.nativeBarWidth}function Gt(e){return e.display.scroller.clientWidth-Bt(e)-e.display.barWidth}function Ut(e){return e.display.scroller.clientHeight-Bt(e)-e.display.barHeight}function Vt(e,t,r){var n=e.options.lineWrapping,i=n&&Gt(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function Kt(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(D(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function jt(e,t){t=he(t);var n=D(t),i=e.display.externalMeasured=new vt(e.doc,t,n);i.lineN=n;var o=i.built=ut(e,i);return i.text=o.pre,r(e.display.lineMeasure,o.pre),i}function Xt(e,t,r,n){return $t(e,_t(e,t),r,n)}function Yt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Tr(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function _t(e,t){var r=D(t),n=Yt(e,r);n&&!n.text?n=null:n&&n.changes&&(St(e,n,r,xr(e)),e.curOp.forceUpdate=!0),n||(n=jt(e,t));var i=Kt(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function $t(e,t,r,n,i){t.before&&(r=-1);var o,l=r+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Vt(e,t.view,t.rect),t.hasHeights=!0),o=Qt(e,t,r,n),o.bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function qt(e,t,r){for(var n,i,o,l,s,a,u=0;u<e.length;u+=3)if(s=e[u],a=e[u+1],t<s?(i=0,o=1,l="left"):t<a?(i=t-s,o=i+1):(u==e.length-3||t==a&&e[u+3]>t)&&(o=a-s,i=o-1,t>=a&&(l="right")),null!=i){if(n=e[u+2],s==a&&r==(n.insertLeft?"left":"right")&&(l=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[(u-=3)+2],l="left";if("right"==r&&i==a-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],
l="right";break}return{node:n,start:i,end:o,collapse:l,coverStart:s,coverEnd:a}}function Zt(e,t){var r=Ls;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function Qt(e,t,r,n){var i,o=qt(t.map,r,n),l=o.node,s=o.start,a=o.end,u=o.collapse;if(3==l.nodeType){for(var c=0;c<4;c++){for(;s&&S(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+a<o.coverEnd&&S(t.line.text.charAt(o.coverStart+a));)++a;if(i=Cl&&Sl<9&&0==s&&a==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():Zt(zl(l,s,a).getClientRects(),n),i.left||i.right||0==s)break;a=s,s-=1,u="right"}Cl&&Sl<11&&(i=Jt(e.display.measure,i))}else{s>0&&(u=n="right");var f;i=e.options.lineWrapping&&(f=l.getClientRects()).length>1?f["right"==n?f.length-1:0]:l.getBoundingClientRect()}if(Cl&&Sl<9&&!s&&(!i||!i.left&&!i.right)){var h=l.parentNode.getClientRects()[0];i=h?{left:h.left,right:h.left+wr(e.display),top:h.top,bottom:h.bottom}:Ls}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,g=(d+p)/2,v=t.view.measure.heights,m=0;m<v.length-1&&!(g<v[m]);m++);var y=m?v[m-1]:0,b=v[m],w={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:y,bottom:b};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=d,w.rbottom=p),w}function Jt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!Be(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function er(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function tr(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var r=0;r<e.display.view.length;r++)er(e.display.view[r])}function rr(e){tr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function nr(){return Tl&&Wl?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function ir(){return Tl&&Wl?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function or(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=Pt(e.widgets[r]));return t}function lr(e,t,r,n,i){if(!i){var o=or(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var l=be(t);if("local"==n?l+=It(e.display):l-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();l+=s.top+("window"==n?0:ir());var a=s.left+("window"==n?0:nr());r.left+=a,r.right+=a}return r.top+=l,r.bottom+=l,r}function sr(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=nr(),i-=ir();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:i-l.top}}function ar(e,t,r,n,i){return n||(n=M(e.doc,t.line)),lr(e,n,Xt(e,n,t.ch,i),r)}function ur(e,t,r,n,i,o){function l(t,l){var s=$t(e,i,t,l?"right":"left",o);return l?s.left=s.right:s.right=s.left,lr(e,n,s,r)}function s(e,t,r){var n=a[t],i=1==n.level;return l(r?e-1:e,i!=r)}n=n||M(e.doc,t.line),i||(i=_t(e,n));var a=Le(n,e.doc.direction),u=t.ch,c=t.sticky;if(u>=n.text.length?(u=n.text.length,c="before"):u<=0&&(u=0,c="after"),!a)return l("before"==c?u-1:u,"before"==c);var f=Se(a,u,c),h=rs,d=s(u,f,"before"==c);return null!=h&&(d.other=s(u,h,"before"!=c)),d}function cr(e,t){var r=0;t=U(e.doc,t),e.options.lineWrapping||(r=wr(e.display)*t.ch);var n=M(e.doc,t.line),i=be(n)+It(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function fr(e,t,r,n,i){var o=P(e,t,r);return o.xRel=i,n&&(o.outside=!0),o}function hr(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,r<0)return fr(n.first,0,null,!0,-1);var i=W(n,r),o=n.first+n.size-1;if(i>o)return fr(n.first+n.size-1,M(n,o).text.length,null,!0,1);t<0&&(t=0);for(var l=M(n,i);;){var s=vr(e,l,i,t,r),a=ce(l,s.ch+(s.xRel>0?1:0));if(!a)return s;var u=a.find(1);if(u.line==i)return u;l=M(n,i=u.line)}}function dr(e,t,r,n){n-=or(t);var i=t.text.length,o=k(function(t){return $t(e,r,t-1).bottom<=n},i,0);return i=k(function(t){return $t(e,r,t).top>n},o,i),{begin:o,end:i}}function pr(e,t,r,n){r||(r=_t(e,t));var i=lr(e,t,$t(e,r,n),"line").top;return dr(e,t,r,i)}function gr(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function vr(e,t,r,n,i){i-=be(t);var o=_t(e,t),l=or(t),s=0,a=t.text.length,u=!0,c=Le(t,e.doc.direction);if(c){var f=(e.options.lineWrapping?yr:mr)(e,t,r,o,c,n,i);u=1!=f.level,s=u?f.from:f.to-1,a=u?f.to:f.from-1}var h,d,p=null,g=null,v=k(function(t){var r=$t(e,o,t);return r.top+=l,r.bottom+=l,!!gr(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(p=t,g=r),!0)},s,a),m=!1;if(g){var y=n-g.left<g.right-n,b=y==u;v=p+(b?0:1),d=b?"after":"before",h=y?g.left:g.right}else{u||v!=a&&v!=s||v++,d=0==v?"after":v==t.text.length?"before":$t(e,o,v-(u?1:0)).bottom+l<=i==u?"after":"before";var w=ur(e,P(r,v,d),"line",t,o);h=w.left,m=i<w.top||i>=w.bottom}return v=L(t.text,v,1),fr(r,v,d,m,n-h)}function mr(e,t,r,n,i,o,l){var s=k(function(s){var a=i[s],u=1!=a.level;return gr(ur(e,P(r,u?a.to:a.from,u?"before":"after"),"line",t,n),o,l,!0)},0,i.length-1),a=i[s];if(s>0){var u=1!=a.level,c=ur(e,P(r,u?a.from:a.to,u?"after":"before"),"line",t,n);gr(c,o,l,!0)&&c.top>l&&(a=i[s-1])}return a}function yr(e,t,r,n,i,o,l){var s=dr(e,t,n,l),a=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,f=null,h=0;h<i.length;h++){var d=i[h];if(!(d.from>=u||d.to<=a)){var p=1!=d.level,g=$t(e,n,p?Math.min(u,d.to)-1:Math.max(a,d.from)).right,v=g<o?o-g+1e9:g-o;(!c||f>v)&&(c=d,f=v)}}return c||(c=i[i.length-1]),c.from<a&&(c={from:a,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function br(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==bs){bs=n("pre");for(var i=0;i<49;++i)bs.appendChild(document.createTextNode("x")),bs.appendChild(n("br"));bs.appendChild(document.createTextNode("x"))}r(e.measure,bs);var o=bs.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function wr(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=n("span","xxxxxxxxxx"),i=n("pre",[t]);r(e.measure,i);var o=t.getBoundingClientRect(),l=(o.right-o.left)/10;return l>2&&(e.cachedCharWidth=l),l||10}function xr(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l)r[e.options.gutters[l]]=o.offsetLeft+o.clientLeft+i,n[e.options.gutters[l]]=o.clientWidth;return{fixedPos:Cr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function Cr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Sr(e){var t=br(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/wr(e.display)-3);return function(i){if(me(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function Lr(e){var t=e.doc,r=Sr(e);t.iter(function(e){var t=r(e);t!=e.height&&A(e,t)})}function kr(e,t,r,n){var i=e.display;if(!r&&"true"==Ee(t).getAttribute("cm-not-content"))return null;var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(t){return null}var a,u=hr(e,o,l);if(n&&1==u.xRel&&(a=M(e.doc,u.line).text).length==u.ch){var c=f(a,a.length,e.options.tabSize)-a.length;u=P(u.line,Math.max(0,Math.round((o-Rt(e.display).left)/wr(e.display))-c))}return u}function Tr(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if(t-=r[n].size,t<0)return n}function Mr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Nr(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),l=0;l<r.sel.ranges.length;l++)if(t||l!=r.sel.primIndex){var s=r.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var a=s.empty();(a||e.options.showCursorWhenSelecting)&&Or(e,s.head,i),a||Dr(e,s,o)}}return n}function Or(e,t,r){var i=ur(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=r.appendChild(n("div","","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",i.other){var l=r.appendChild(n("div","","CodeMirror-cursor CodeMirror-secondarycursor"));l.style.display="",l.style.left=i.other.left+"px",l.style.top=i.other.top+"px",l.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Ar(e,t){return e.top-t.top||e.left-t.left}function Dr(e,t,r){function i(e,t,r,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(n("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?f-e:r)+"px;\n                             height: "+(i-t)+"px"))}function o(t,r,n){function o(r,n){return ar(e,P(t,r),"div",d,n)}function l(t,r,n){var i=pr(e,d,null,t),l="ltr"==r==("after"==n)?"left":"right",s="after"==n?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1);return o(s,l)[l]}var a,u,d=M(s,t),p=d.text.length,g=Le(d,s.direction);return Ce(g,r||0,null==n?p:n,function(e,t,s,d){var v="ltr"==s,m=o(e,v?"left":"right"),y=o(t-1,v?"right":"left"),b=null==r&&0==e,w=null==n&&t==p,x=0==d,C=!g||d==g.length-1;if(y.top-m.top<=3){var S=(h?b:w)&&x,L=(h?w:b)&&C,k=S?c:(v?m:y).left,T=L?f:(v?y:m).right;i(k,m.top,T-k,m.bottom)}else{var M,N,O,A;v?(M=h&&b&&x?c:m.left,N=h?f:l(e,s,"before"),O=h?c:l(t,s,"after"),A=h&&w&&C?f:y.right):(M=h?l(e,s,"before"):c,N=!h&&b&&x?f:m.right,O=!h&&w&&C?c:y.left,A=h?l(t,s,"after"):f),i(M,m.top,N-M,m.bottom),m.bottom<y.top&&i(c,m.bottom,null,y.top),i(O,y.top,A-O,y.bottom)}(!a||Ar(m,a)<0)&&(a=m),Ar(y,a)<0&&(a=y),(!u||Ar(m,u)<0)&&(u=m),Ar(y,u)<0&&(u=y)}),{start:a,end:u}}var l=e.display,s=e.doc,a=document.createDocumentFragment(),u=Rt(e.display),c=u.left,f=Math.max(l.sizerWidth,Gt(e)-l.sizer.offsetLeft)-u.right,h="ltr"==s.direction,d=t.from(),p=t.to();if(d.line==p.line)o(d.line,d.ch,p.ch);else{var g=M(s,d.line),v=M(s,p.line),m=he(g)==he(v),y=o(d.line,d.ch,m?g.text.length+1:null).end,b=o(p.line,m?0:null,p.ch).start;m&&(y.top<b.top-2?(i(y.right,y.top,null,y.bottom),i(c,b.top,b.left,b.bottom)):i(y.right,y.top,b.left-y.right,y.bottom)),y.bottom<b.top&&i(c,y.bottom,null,b.top)}r.appendChild(a)}function Wr(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Hr(e){e.state.focused||(e.display.input.focus(),Pr(e))}function Fr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Er(e))},100)}function Pr(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Me(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),Ll&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Wr(e))}function Er(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Me(e,"blur",e,t),e.state.focused=!1,Gl(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Ir(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],o=e.options.lineWrapping,l=void 0,s=0;if(!i.hidden){if(Cl&&Sl<8){var a=i.node.offsetTop+i.node.offsetHeight;l=a-r,r=a}else{var u=i.node.getBoundingClientRect();l=u.bottom-u.top,!o&&i.text.firstChild&&(s=i.text.firstChild.getBoundingClientRect().right-u.left-1)}var c=i.line.height-l;if((c>.005||c<-.005)&&(A(i.line,l),zr(i.line),i.rest))for(var f=0;f<i.rest.length;f++)zr(i.rest[f]);if(s>e.display.sizerWidth){var h=Math.ceil(s/wr(e.display));h>e.display.maxLineLength&&(e.display.maxLineLength=h,e.display.maxLine=i.line,e.display.maxLineChanged=!0)}}}}function zr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function Rr(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-It(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=W(t,n),l=W(t,i);if(r&&r.ensure){var s=r.ensure.from.line,a=r.ensure.to.line;s<o?(o=s,l=W(t,be(M(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=W(t,be(M(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function Br(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=Cr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&(r[l].gutter&&(r[l].gutter.style.left=o),r[l].gutterBackground&&(r[l].gutterBackground.style.left=o));var s=r[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Gr(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=F(e.options,t.first+t.size-1),i=e.display;if(r.length!=i.lineNumChars){var o=i.measure.appendChild(n("div",[n("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,s=o.offsetWidth-l;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(l,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?r.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",Hn(e),!0}return!1}function Ur(e,t){if(!Ne(e,"scrollCursorIntoView")){var r=e.display,i=r.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Al){var l=n("div","",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-It(e.display))+"px;\n                         height: "+(t.bottom-t.top+Bt(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(o),e.display.lineSpace.removeChild(l)}}}function Vr(e,t,r,n){null==n&&(n=0);var i;e.options.lineWrapping||t!=r||(t=t.ch?P(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t,r="before"==t.sticky?P(t.line,t.ch+1,"before"):t);for(var o=0;o<5;o++){var l=!1,s=ur(e,t),a=r&&r!=t?ur(e,r):s;i={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top)-n,right:Math.max(s.left,a.left),bottom:Math.max(s.bottom,a.bottom)+n};var u=jr(e,i),c=e.doc.scrollTop,f=e.doc.scrollLeft;if(null!=u.scrollTop&&(Qr(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(l=!0)),null!=u.scrollLeft&&(en(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-f)>1&&(l=!0)),!l)break}return i}function Kr(e,t){var r=jr(e,t);null!=r.scrollTop&&Qr(e,r.scrollTop),null!=r.scrollLeft&&en(e,r.scrollLeft)}function jr(e,t){var r=e.display,n=br(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=Ut(e),l={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+zt(r),a=t.top<n,u=t.bottom>s-n;if(t.top<i)l.scrollTop=a?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(l.scrollTop=c)}var f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft,h=Gt(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0),d=t.right-t.left>h;return d&&(t.right=t.left+h),t.left<10?l.scrollLeft=0:t.left<f?l.scrollLeft=Math.max(0,t.left-(d?0:10)):t.right>h+f-3&&(l.scrollLeft=t.right+(d?0:10)-h),l}function Xr(e,t){null!=t&&(qr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function Yr(e){qr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function _r(e,t,r){null==t&&null==r||qr(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function $r(e,t){qr(e),e.curOp.scrollToPos=t}function qr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=cr(e,t.from),n=cr(e,t.to);Zr(e,r,n,t.margin)}}function Zr(e,t,r,n){var i=jr(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});_r(e,i.scrollLeft,i.scrollTop)}function Qr(e,t){Math.abs(e.doc.scrollTop-t)<2||(yl||Dn(e,{top:t}),Jr(e,t,!0),yl&&Dn(e),Ln(e,100))}function Jr(e,t,r){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function en(e,t,r,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Br(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function tn(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+zt(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Bt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function rn(e,t){t||(t=tn(e));var r=e.display.barWidth,n=e.display.barHeight;nn(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Ir(e),nn(e,tn(e)),r=e.display.barWidth,n=e.display.barHeight}function nn(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function on(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Gl(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ms[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),os(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?en(e,t):Qr(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function ln(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ns},yt(e.curOp)}function sn(e){var t=e.curOp;t&&wt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;an(e)})}function an(e){for(var t=e.ops,r=0;r<t.length;r++)un(t[r]);for(var n=0;n<t.length;n++)cn(t[n]);for(var i=0;i<t.length;i++)fn(t[i]);for(var o=0;o<t.length;o++)hn(t[o]);for(var l=0;l<t.length;l++)dn(t[l])}function un(e){var t=e.cm,r=t.display;Tn(t),e.updateMaxLine&&xe(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Os(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function cn(e){e.updatedDisplay=e.mustUpdate&&On(e.cm,e.update)}function fn(e){var t=e.cm,r=t.display;e.updatedDisplay&&Ir(t),e.barMeasure=tn(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Xt(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Bt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Gt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function hn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&en(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==l();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&rn(t,e.barMeasure),e.updatedDisplay&&Fn(t,e.barMeasure),e.selectionChanged&&Wr(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Hr(e.cm)}function dn(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&An(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&Jr(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&en(t,e.scrollLeft,!0,!0),e.scrollToPos){var i=Vr(t,U(n,e.scrollToPos.from),U(n,e.scrollToPos.to),e.scrollToPos.margin);Ur(t,i)}var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||Me(o[s],"hide");if(l)for(var a=0;a<l.length;++a)l[a].lines.length&&Me(l[a],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Me(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function pn(e,t){if(e.curOp)return t();ln(e);try{return t()}finally{sn(e)}}function gn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);ln(e);try{return t.apply(e,arguments)}finally{sn(e)}}}function vn(e){return function(){if(this.curOp)return e.apply(this,arguments);ln(this);try{return e.apply(this,arguments)}finally{sn(this)}}}function mn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);ln(t);try{return e.apply(this,arguments)}finally{sn(t)}}}function yn(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)ts&&ge(e.doc,t)<i.viewTo&&wn(e);else if(r<=i.viewFrom)ts&&ve(e.doc,r+n)>i.viewFrom?wn(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)wn(e);else if(t<=i.viewFrom){var o=xn(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):wn(e)}else if(r>=i.viewTo){var l=xn(e,t,t,-1);l?(i.view=i.view.slice(0,l.index),i.viewTo=l.lineN):wn(e)}else{var s=xn(e,t,t,-1),a=xn(e,r,r+n,1);s&&a?(i.view=i.view.slice(0,s.index).concat(mt(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=n):wn(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function bn(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[Tr(e,t)];if(null!=o.node){var l=o.changes||(o.changes=[]);h(l,r)==-1&&l.push(r)}}}function wn(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function xn(e,t,r,n){var i,o=Tr(e,t),l=e.display.view;if(!ts||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,a=0;a<o;a++)s+=l[a].size;if(s!=t){if(n>0){if(o==l.length-1)return null;i=s+l[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;ge(e.doc,r)!=r;){if(o==(n<0?0:l.length-1))return null;r+=n*l[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function Cn(e,t,r){var n=e.display,i=n.view;0==i.length||t>=n.viewTo||r<=n.viewFrom?(n.view=mt(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=mt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(Tr(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(mt(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,Tr(e,r)))),n.viewTo=r}function Sn(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Ln(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,u(kn,e))}function kn(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=Ze(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var l=o.styles,s=o.text.length>e.options.maxHighlightLength?Xe(t.mode,n.state):null,a=$e(e,o,n,!0);s&&(n.state=s),o.styles=a.styles;var u=o.styleClasses,c=a.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var f=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),h=0;!f&&h<l.length;++h)f=l[h]!=o.styles[h];f&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&Qe(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return Ln(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&pn(e,function(){for(var t=0;t<i.length;t++)bn(e,i[t],"text")})}}function Tn(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Bt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Bt(e)+"px",t.scrollbarsClipped=!0)}function Mn(e){if(e.hasFocus())return null;var t=l();if(!t||!o(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&o(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function Nn(e){if(e&&e.activeElt&&e.activeElt!=l()&&(e.activeElt.focus(),e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function On(e,r){var n=e.display,i=e.doc;if(r.editorIsHidden)return wn(e),!1;if(!r.force&&r.visible.from>=n.viewFrom&&r.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Sn(e))return!1;Gr(e)&&(wn(e),r.dims=xr(e));var o=i.first+i.size,l=Math.max(r.visible.from-e.options.viewportMargin,i.first),s=Math.min(o,r.visible.to+e.options.viewportMargin);n.viewFrom<l&&l-n.viewFrom<20&&(l=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(o,n.viewTo)),ts&&(l=ge(e.doc,l),s=ve(e.doc,s));var a=l!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=r.wrapperHeight||n.lastWrapWidth!=r.wrapperWidth;Cn(e,l,s),n.viewOffset=be(M(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=Sn(e);if(!a&&0==u&&!r.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Mn(e);return u>4&&(n.lineDiv.style.display="none"),Wn(e,n.updateLineNumbers,r.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,Nn(c),t(n.cursorDiv),t(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=r.wrapperHeight,n.lastWrapWidth=r.wrapperWidth,Ln(e,400)),n.updateLineNumbers=null,!0}function An(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Gt(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+zt(e.display)-Ut(e),r.top)}),t.visible=Rr(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&On(e,t);n=!1){Ir(e);var i=tn(e);Mr(e),rn(e,i),Fn(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Dn(e,t){var r=new Os(e,t);if(On(e,r)){Ir(e),An(e,r);var n=tn(e);Mr(e),rn(e,n),Fn(e,n),r.finish()}}function Wn(e,r,n){function i(t){var r=t.nextSibling;return Ll&&Fl&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var o=e.display,l=e.options.lineNumbers,s=o.lineDiv,a=s.firstChild,u=o.view,c=o.viewFrom,f=0;f<u.length;f++){var d=u[f];if(d.hidden);else if(d.node&&d.node.parentNode==s){for(;a!=d.node;)a=i(a);var p=l&&null!=r&&r<=c&&d.lineNumber;d.changes&&(h(d.changes,"gutter")>-1&&(p=!1),St(e,d,c,n)),p&&(t(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(F(e.options,c)))),a=d.node.nextSibling}else{var g=Dt(e,d,c,n);s.insertBefore(g,a)}c+=d.size}for(;a;)a=i(a)}function Hn(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function Fn(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Bt(e)+"px"}function Pn(e){var r=e.display.gutters,i=e.options.gutters;t(r);for(var o=0;o<i.length;++o){var l=i[o],s=r.appendChild(n("div",null,"CodeMirror-gutter "+l));"CodeMirror-linenumbers"==l&&(e.display.lineGutter=s,s.style.width=(e.display.lineNumWidth||1)+"px")}r.style.display=o?"":"none",Hn(e)}function En(e){var t=h(e.gutters,"CodeMirror-linenumbers");t==-1&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):t>-1&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}function In(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function zn(e){var t=In(e);return t.x*=Ds,t.y*=Ds,t}function Rn(e,t){var r=In(t),n=r.x,i=r.y,o=e.display,l=o.scroller,s=l.scrollWidth>l.clientWidth,a=l.scrollHeight>l.clientHeight;if(n&&s||i&&a){if(i&&Fl&&Ll)e:for(var u=t.target,c=o.view;u!=l;u=u.parentNode)for(var f=0;f<c.length;f++)if(c[f].node==u){e.display.currentWheelTarget=u;break e}if(n&&!yl&&!Ml&&null!=Ds)return i&&a&&Qr(e,Math.max(0,l.scrollTop+i*Ds)),en(e,Math.max(0,l.scrollLeft+n*Ds)),(!i||i&&a)&&We(t),void(o.wheelStartX=null);if(i&&null!=Ds){var h=i*Ds,d=e.doc.scrollTop,p=d+o.wrapper.clientHeight;h<0?d=Math.max(0,d+h-50):p=Math.min(e.doc.height,p+h+50),Dn(e,{top:d,bottom:p})}As<20&&(null==o.wheelStartX?(o.wheelStartX=l.scrollLeft,o.wheelStartY=l.scrollTop,o.wheelDX=n,o.wheelDY=i,setTimeout(function(){if(null!=o.wheelStartX){var e=l.scrollLeft-o.wheelStartX,t=l.scrollTop-o.wheelStartY,r=t&&o.wheelDY&&t/o.wheelDY||e&&o.wheelDX&&e/o.wheelDX;o.wheelStartX=o.wheelStartY=null,r&&(Ds=(Ds*As+r)/(As+1),++As)}},200)):(o.wheelDX+=n,o.wheelDY+=i))}}function Bn(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort(function(e,t){return E(e.from(),t.from())}),r=h(t,i);for(var o=1;o<t.length;o++){var l=t[o],s=t[o-1],a=E(s.to(),l.from());if(n&&!l.empty()?a>0:a>=0){var u=B(s.from(),l.from()),c=R(s.to(),l.to()),f=s.empty()?l.from()==l.head:s.from()==s.head;o<=r&&--r,t.splice(--o,2,new Hs(f?c:u,f?u:c))}}return new Ws(t,r)}function Gn(e,t){return new Ws([new Hs(e,t||e)],0)}function Un(e){return e.text?P(e.from.line+e.text.length-1,g(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Vn(e,t){if(E(e,t.from)<0)return e;if(E(e,t.to)<=0)return Un(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Un(t).ch-t.to.ch),P(r,n)}function Kn(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];
r.push(new Hs(Vn(i.anchor,t),Vn(i.head,t)))}return Bn(e.cm,r,e.sel.primIndex)}function jn(e,t,r){return e.line==t.line?P(r.line,e.ch-t.ch+r.ch):P(r.line+(e.line-t.line),e.ch)}function Xn(e,t,r){for(var n=[],i=P(e.first,0),o=i,l=0;l<t.length;l++){var s=t[l],a=jn(s.from,i,o),u=jn(Un(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[l],f=E(c.head,c.anchor)<0;n[l]=new Hs(f?u:a,f?a:u)}else n[l]=new Hs(a,a)}return new Ws(n,e.sel.primIndex)}function Yn(e){e.doc.mode=Ke(e.options,e.doc.modeOption),_n(e)}function _n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Ln(e,100),e.state.modeGen++,e.curOp&&yn(e)}function $n(e,t){return 0==t.from.ch&&0==t.to.ch&&""==g(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function qn(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){lt(e,r,i,n),xt(e,"change",e,t)}function l(e,t){for(var r=[],o=e;o<t;++o)r.push(new ys(u[o],i(o),n));return r}var s=t.from,a=t.to,u=t.text,c=M(e,s.line),f=M(e,a.line),h=g(u),d=i(u.length-1),p=a.line-s.line;if(t.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if($n(e,t)){var v=l(0,u.length-1);o(f,f.text,d),p&&e.remove(s.line,p),v.length&&e.insert(s.line,v)}else if(c==f)if(1==u.length)o(c,c.text.slice(0,s.ch)+h+c.text.slice(a.ch),d);else{var m=l(1,u.length-1);m.push(new ys(h+c.text.slice(a.ch),d,n)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,m)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+f.text.slice(a.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(f,h+f.text.slice(a.ch),d);var y=l(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,y)}xt(e,"change",e,t)}function Zn(e,t,r){function n(e,i,o){if(e.linked)for(var l=0;l<e.linked.length;++l){var s=e.linked[l];if(s.doc!=i){var a=o&&s.sharedHist;r&&!a||(t(s.doc,a),n(s.doc,e,a))}}}n(e,null,!0)}function Qn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Lr(e),Yn(e),Jn(e),e.options.lineWrapping||xe(e),e.options.mode=t.modeOption,yn(e)}function Jn(e){("rtl"==e.doc.direction?s:Gl)(e.display.lineDiv,"CodeMirror-rtl")}function ei(e){pn(e,function(){Jn(e),yn(e)})}function ti(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function ri(e,t){var r={from:z(t.from),to:Un(t),text:N(e,t.from,t.to)};return ui(e,r,t.from.line,t.to.line+1),Zn(e,function(e){return ui(e,r,t.from.line,t.to.line+1)},!0),r}function ni(e){for(;e.length;){var t=g(e);if(!t.ranges)break;e.pop()}}function ii(e,t){return t?(ni(e.done),g(e.done)):e.done.length&&!g(e.done).ranges?g(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),g(e.done)):void 0}function oi(e,t,r,n){var i=e.history;i.undone.length=0;var o,l,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=ii(i,i.lastOp==n)))l=g(o.changes),0==E(t.from,t.to)&&0==E(t.from,l.to)?l.to=Un(t):o.changes.push(ri(e,t));else{var a=g(i.done);for(a&&a.ranges||ai(e.sel,i.done),o={changes:[ri(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,l||Me(e,"historyAdded")}function li(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function si(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||li(e,o,g(i.done),t))?i.done[i.done.length-1]=t:ai(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&n.clearRedo!==!1&&ni(i.undone)}function ai(e,t){var r=g(t);r&&r.ranges&&r.equals(e)||t.push(e)}function ui(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function ci(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function fi(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(ci(r[i]));return n}function hi(e,t){var r=fi(e,t),n=J(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}else l&&(r[i]=l)}return r}function di(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?Ws.prototype.deepCopy.call(o):o);else{var l=o.changes,s=[];n.push({changes:s});for(var a=0;a<l.length;++a){var u=l[a],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var f in u)(c=f.match(/^spans_(\d+)$/))&&h(t,Number(c[1]))>-1&&(g(s)[f]=u[f],delete u[f])}}}return n}function pi(e,t,r,n){if(n){var i=e.anchor;if(r){var o=E(t,i)<0;o!=E(r,i)<0?(i=t,t=r):o!=E(t,r)<0&&(t=r)}return new Hs(i,t)}return new Hs(r||t,t)}function gi(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),xi(e,new Ws([pi(e.sel.primary(),t,r,i)],0),n)}function vi(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=pi(e.sel.ranges[o],t[o],null,i);var l=Bn(e.cm,n,e.sel.primIndex);xi(e,l,r)}function mi(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,xi(e,Bn(e.cm,i,e.sel.primIndex),n)}function yi(e,t,r,n){xi(e,Gn(t,r),n)}function bi(e,t,r){var n={ranges:t.ranges,update:function(t){var r=this;this.ranges=[];for(var n=0;n<t.length;n++)r.ranges[n]=new Hs(U(e,t[n].anchor),U(e,t[n].head))},origin:r&&r.origin};return Me(e,"beforeSelectionChange",e,n),e.cm&&Me(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Bn(e.cm,n.ranges,n.ranges.length-1):t}function wi(e,t,r){var n=e.history.done,i=g(n);i&&i.ranges?(n[n.length-1]=t,Ci(e,t,r)):xi(e,t,r)}function xi(e,t,r){Ci(e,t,r),si(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Ci(e,t,r){(Ae(e,"beforeSelectionChange")||e.cm&&Ae(e.cm,"beforeSelectionChange"))&&(t=bi(e,t,r));var n=r&&r.bias||(E(t.primary().head,e.sel.primary().head)<0?-1:1);Si(e,ki(e,t,n,!0)),r&&r.scroll===!1||!e.cm||Yr(e.cm)}function Si(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,Oe(e.cm)),xt(e,"cursorActivity",e))}function Li(e){Si(e,ki(e,e.sel,null,!1))}function ki(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],a=Mi(e,l.anchor,s&&s.anchor,r,n),u=Mi(e,l.head,s&&s.head,r,n);(i||a!=l.anchor||u!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Hs(a,u))}return i?Bn(e.cm,i,t.primIndex):t}function Ti(e,t,r,n,i){var o=M(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var s=o.markedSpans[l],a=s.marker;if((null==s.from||(a.inclusiveLeft?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(a.inclusiveRight?s.to>=t.ch:s.to>t.ch))){if(i&&(Me(a,"beforeCursorEnter"),a.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!a.atomic)continue;if(r){var u=a.find(n<0?1:-1),c=void 0;if((n<0?a.inclusiveRight:a.inclusiveLeft)&&(u=Ni(e,u,-n,u&&u.line==t.line?o:null)),u&&u.line==t.line&&(c=E(u,r))&&(n<0?c<0:c>0))return Ti(e,u,t,n,i)}var f=a.find(n<0?-1:1);return(n<0?a.inclusiveLeft:a.inclusiveRight)&&(f=Ni(e,f,n,f.line==t.line?o:null)),f?Ti(e,f,t,n,i):null}}return t}function Mi(e,t,r,n,i){var o=n||1,l=Ti(e,t,r,o,i)||!i&&Ti(e,t,r,o,!0)||Ti(e,t,r,-o,i)||!i&&Ti(e,t,r,-o,!0);return l?l:(e.cantEdit=!0,P(e.first,0))}function Ni(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?U(e,P(t.line-1)):null:r>0&&t.ch==(n||M(e,t.line)).text.length?t.line<e.first+e.size-1?P(t.line+1,0):null:new P(t.line,t.ch+r)}function Oi(e){e.setSelection(P(e.firstLine(),0),P(e.lastLine()),_l)}function Ai(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=U(e,t)),r&&(n.to=U(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),Me(e,"beforeChange",e,n),e.cm&&Me(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Di(e,t,r){if(e.cm){if(!e.cm.curOp)return gn(e.cm,Di)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(Ae(e,"beforeChange")||e.cm&&Ae(e.cm,"beforeChange"))||(t=Ai(e,t,!0))){var n=es&&!r&&te(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Wi(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else Wi(e,t)}}function Wi(e,t){if(1!=t.text.length||""!=t.text[0]||0!=E(t.from,t.to)){var r=Kn(e,t);oi(e,t,r,e.cm?e.cm.curOp.id:NaN),Pi(e,t,r,J(e,t));var n=[];Zn(e,function(e,r){r||h(n,e.history)!=-1||(Bi(e.history,t),n.push(e.history)),Pi(e,t,null,J(e,t))})}}function Hi(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,o=e.history,l=e.sel,s="undo"==t?o.done:o.undone,a="undo"==t?o.undone:o.done,u=0;u<s.length&&(i=s[u],r?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(i=s.pop(),!i.ranges){if(n)return void s.push(i);break}if(ai(i,a),r&&!i.equals(e.sel))return void xi(e,i,{clearRedo:!1});l=i}var c=[];ai(l,a),a.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var f=Ae(e,"beforeChange")||e.cm&&Ae(e.cm,"beforeChange"),d=function(r){var n=i.changes[r];if(n.origin=t,f&&!Ai(e,n,!1))return s.length=0,{};c.push(ri(e,n));var o=r?Kn(e,n):g(s);Pi(e,n,o,hi(e,n)),!r&&e.cm&&e.cm.scrollIntoView({from:n.from,to:Un(n)});var l=[];Zn(e,function(e,t){t||h(l,e.history)!=-1||(Bi(e.history,n),l.push(e.history)),Pi(e,n,null,hi(e,n))})},p=i.changes.length-1;p>=0;--p){var v=d(p);if(v)return v.v}}}}function Fi(e,t){if(0!=t&&(e.first+=t,e.sel=new Ws(v(e.sel.ranges,function(e){return new Hs(P(e.anchor.line+t,e.anchor.ch),P(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){yn(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)bn(e.cm,n,"gutter")}}function Pi(e,t,r,n){if(e.cm&&!e.cm.curOp)return gn(e.cm,Pi)(e,t,r,n);if(t.to.line<e.first)return void Fi(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Fi(e,i),t={from:P(e.first,0),to:P(t.to.line+i,t.to.ch),text:[g(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:P(o,M(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=N(e,t.from,t.to),r||(r=Kn(e,t)),e.cm?Ei(e.cm,t,n):qn(e,t,n),Ci(e,r,_l)}}function Ei(e,t,r){var n=e.doc,i=e.display,o=t.from,l=t.to,s=!1,a=o.line;e.options.lineWrapping||(a=D(he(M(n,o.line))),n.iter(a,l.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),n.sel.contains(t.from,t.to)>-1&&Oe(e),qn(n,t,r,Sr(e)),e.options.lineWrapping||(n.iter(a,o.line+t.text.length,function(e){var t=we(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),ot(n,o.line),Ln(e,400);var u=t.text.length-(l.line-o.line)-1;t.full?yn(e):o.line!=l.line||1!=t.text.length||$n(e.doc,t)?yn(e,o.line,l.line+1,u):bn(e,o.line,"text");var c=Ae(e,"changes"),f=Ae(e,"change");if(f||c){var h={from:o,to:l,text:t.text,removed:t.removed,origin:t.origin};f&&xt(e,"change",e,h),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(h)}e.display.selForContextMenu=null}function Ii(e,t,r,n,i){var o;n||(n=r),E(n,r)<0&&(o=[n,r],r=o[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Di(e,{from:r,to:n,text:t,origin:i})}function zi(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Ri(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)zi(o.ranges[s].anchor,t,r,n),zi(o.ranges[s].head,t,r,n)}else{for(var a=0;a<o.changes.length;++a){var u=o.changes[a];if(r<u.from.line)u.from=P(u.from.line+n,u.from.ch),u.to=P(u.to.line+n,u.to.ch);else if(t<=u.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function Bi(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;Ri(e.done,r,n,i),Ri(e.undone,r,n,i)}function Gi(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=M(e,G(e,t)):i=D(t),null==i?null:(n(o,i)&&e.cm&&bn(e.cm,i,r),o)}function Ui(e){var t=this;this.lines=e,this.parent=null;for(var r=0,n=0;n<e.length;++n)e[n].parent=t,r+=e[n].height;this.height=r}function Vi(e){var t=this;this.children=e;for(var r=0,n=0,i=0;i<e.length;++i){var o=e[i];r+=o.chunkSize(),n+=o.height,o.parent=t}this.size=r,this.height=n,this.parent=null}function Ki(e,t,r){be(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Xr(e,r)}function ji(e,t,r,n){var i=new Fs(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Gi(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length-1,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!me(e,t)){var n=be(t)<e.scrollTop;A(t,t.height+Pt(i)),n&&Xr(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&xt(o,"lineWidgetAdded",o,i,"number"==typeof t?t:D(t)),i}function Xi(e,t,r,n,o){if(n&&n.shared)return Yi(e,t,r,n,o);if(e.cm&&!e.cm.curOp)return gn(e.cm,Xi)(e,t,r,n,o);var l=new Es(e,o),s=E(t,r);if(n&&c(n,l,!1),s>0||0==s&&l.clearWhenEmpty!==!1)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=i("span",[l.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(fe(e,t.line,t,r,l)||t.line!=r.line&&fe(e,r.line,t,r,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");X()}l.addToHistory&&oi(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var a,u=t.line,f=e.cm;if(e.iter(u,r.line+1,function(e){f&&l.collapsed&&!f.options.lineWrapping&&he(e)==f.display.maxLine&&(a=!0),l.collapsed&&u!=t.line&&A(e,0),q(e,new Y(l,u==t.line?t.ch:null,u==r.line?r.ch:null)),++u}),l.collapsed&&e.iter(t.line,r.line+1,function(t){me(e,t)&&A(t,0)}),l.clearOnEnter&&os(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(j(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++Ps,l.atomic=!0),f){if(a&&(f.curOp.updateMaxLine=!0),l.collapsed)yn(f,t.line,r.line+1);else if(l.className||l.startStyle||l.endStyle||l.css||l.attributes||l.title)for(var h=t.line;h<=r.line;h++)bn(f,h,"text");l.atomic&&Li(f.doc),xt(f,"markerAdded",f,l)}return l}function Yi(e,t,r,n,i){n=c(n),n.shared=!1;var o=[Xi(e,t,r,n,i)],l=o[0],s=n.widgetNode;return Zn(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(Xi(e,U(e,t),U(e,r),n,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;l=g(o)}),new Is(o,l)}function _i(e){return e.findMarks(P(e.first,0),e.clipPos(P(e.lastLine())),function(e){return e.parent})}function $i(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(E(o,l)){var s=Xi(e,o,l,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function qi(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];Zn(r.primary.doc,function(e){return n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];h(n,o.doc)==-1&&(o.parent=null,r.markers.splice(i--,1))}},r=0;r<e.length;r++)t(r)}function Zi(e){var t=this;if(eo(t),!Ne(t,e)&&!Et(t.display,e)){We(e),Cl&&(Bs=+new Date);var r=kr(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,s=function(e,n){if(!t.options.allowDropFileTypes||h(t.options.allowDropFileTypes,e.type)!=-1){var s=new FileReader;s.onload=gn(t,function(){var e=s.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),o[n]=e,++l==i){r=U(t.doc,r);var a={from:r,to:r,text:t.doc.splitLines(o.join(t.doc.lineSeparator())),origin:"paste"};Di(t.doc,a),wi(t.doc,Gn(r,Un(a)))}}),s.readAsText(e)}},a=0;a<i;++a)s(n[a],a);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var u=e.dataTransfer.getData("Text");if(u){var c;if(t.state.draggingText&&!t.state.draggingText.copy&&(c=t.listSelections()),Ci(t.doc,Gn(r,r)),c)for(var f=0;f<c.length;++f)Ii(t.doc,"",c[f].anchor,c[f].head,"drag");t.replaceSelection(u,"around","paste"),t.display.input.focus()}}catch(e){}}}}function Qi(e,t){if(Cl&&(!e.state.draggingText||+new Date-Bs<100))return void Pe(t);if(!Ne(e,t)&&!Et(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Nl)){var r=n("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ml&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),Ml&&r.parentNode.removeChild(r)}}function Ji(e,t){var i=kr(e,t);if(i){var o=document.createDocumentFragment();Or(e,i,o),e.display.dragCursor||(e.display.dragCursor=n("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),r(e.display.dragCursor,o)}}function eo(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function to(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation(function(){for(var t=0;t<r.length;t++)e(r[t])})}}function ro(){Gs||(no(),Gs=!0)}function no(){var e;os(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,to(io)},100))}),os(window,"blur",function(){return to(Er)})}function io(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}function oo(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var r,n,i,o,l=0;l<t.length-1;l++){var s=t[l];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return r&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function lo(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=v(r.split(" "),oo),o=0;o<i.length;o++){var l=void 0,s=void 0;o==i.length-1?(s=i.join(" "),l=n):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s)}else t[s]=l}delete e[r]}for(var u in t)e[u]=t[u];return e}function so(e,t,r,n){t=fo(t);var i=t.call?t.call(e,n):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return so(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=so(e,t.fallthrough[o],r,n);if(l)return l}}}function ao(e){var t="string"==typeof e?e:Us[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function uo(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(Rl?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(Rl?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function co(e,t){if(Ml&&34==e.keyCode&&e["char"])return!1;var r=Us[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),uo(r,e,t))}function fo(e){return"string"==typeof e?Xs[e]:e}function ho(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&E(o.from,g(n).to)<=0;){var l=n.pop();if(E(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}pn(e,function(){for(var t=n.length-1;t>=0;t--)Ii(e.doc,"",n[t].from,n[t].to,"+delete");Yr(e)})}function po(e,t,r){var n=L(e.text,t+r,r);return n<0||n>e.text.length?null:n}function go(e,t,r){var n=po(e,t.ch,r);return null==n?null:new P(t.line,n,r<0?"after":"before")}function vo(e,t,r,n,i){if(e){var o=Le(r,t.doc.direction);if(o){var l,s=i<0?g(o):o[0],a=i<0==(1==s.level),u=a?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=_t(t,r);l=i<0?r.text.length-1:0;var f=$t(t,c,l).top;l=k(function(e){return $t(t,c,e).top==f},i<0==(1==s.level)?s.from:s.to-1,l),"before"==u&&(l=po(r,l,1))}else l=i<0?s.to:s.from;return new P(n,l,u)}}return new P(n,i<0?r.text.length:0,i<0?"before":"after")}function mo(e,t,r,n){var i=Le(t,e.doc.direction);if(!i)return go(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=Se(i,r.ch,r.sticky),l=i[o];if("ltr"==e.doc.direction&&l.level%2==0&&(n>0?l.to>r.ch:l.from<r.ch))return go(t,r,n);var s,a=function(e,r){return po(t,e instanceof P?e.ch:e,r)},u=function(r){return e.options.lineWrapping?(s=s||_t(e,t),pr(e,t,s,r)):{begin:0,end:t.text.length}},c=u("before"==r.sticky?a(r,-1):r.ch);if("rtl"==e.doc.direction||1==l.level){var f=1==l.level==n<0,h=a(r,f?1:-1);if(null!=h&&(f?h<=l.to&&h<=c.end:h>=l.from&&h>=c.begin)){var d=f?"before":"after";return new P(r.line,h,d)}}var p=function(e,t,n){for(var o=function(e,t){return t?new P(r.line,a(e,1),"before"):new P(r.line,e,"after")};e>=0&&e<i.length;e+=t){var l=i[e],s=t>0==(1!=l.level),u=s?n.begin:a(n.end,-1);if(l.from<=u&&u<l.to)return o(u,s);if(u=s?l.from:a(l.to,-1),n.begin<=u&&u<n.end)return o(u,s)}},g=p(o+n,n,c);if(g)return g;var v=n>0?c.end:a(c.begin,-1);return null==v||n>0&&v==t.text.length||!(g=p(n>0?0:i.length-1,n,u(v)))?null:g}function yo(e,t){var r=M(e.doc,t),n=he(r);return n!=r&&(t=D(n)),vo(!0,e,n,t,1)}function bo(e,t){var r=M(e.doc,t),n=de(r);return n!=r&&(t=D(n)),vo(!0,e,r,t,-1)}function wo(e,t){var r=yo(e,t.line),n=M(e.doc,r.line),i=Le(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(0,n.text.search(/\S/)),l=t.line==r.line&&t.ch<=o&&t.ch;return P(r.line,l?0:o,r.sticky)}return r}function xo(e,t,r){if("string"==typeof t&&(t=Ys[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=Yl}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function Co(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=so(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&so(t,e.options.extraKeys,r,e)||so(t,e.options.keyMap,r,e)}function So(e,t,r,n){var i=e.state.keySeq;if(i){if(ao(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:_s.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),Lo(e,i+" "+t,r,n))return!0}return Lo(e,t,r,n)}function Lo(e,t,r,n){var i=Co(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&xt(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(We(r),Wr(e)),!!i}function ko(e,t){var r=co(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?So(e,"Shift-"+r,t,function(t){return xo(e,t,!0)})||So(e,r,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return xo(e,t)}):So(e,r,t,function(t){return xo(e,t)}))}function To(e,t,r){return So(e,"'"+r+"'",t,function(t){return xo(e,t,!0)})}function Mo(e){var t=this;if(t.curOp.focus=l(),!Ne(t,e)){Cl&&Sl<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=ko(t,e);Ml&&($s=n?r:null,!n&&88==r&&!us&&(Fl?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||No(t)}}function No(e){function t(e){18!=e.keyCode&&e.altKey||(Gl(r,"CodeMirror-crosshair"),Te(document,"keyup",t),Te(document,"mouseover",t))}var r=e.display.lineDiv;s(r,"CodeMirror-crosshair"),os(document,"keyup",t),os(document,"mouseover",t)}function Oo(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ne(this,e)}function Ao(e){var t=this;if(!(Et(t.display,e)||Ne(t,e)||e.ctrlKey&&!e.altKey||Fl&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(Ml&&r==$s)return $s=null,void We(e);if(!Ml||e.which&&!(e.which<10)||!ko(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(To(t,e,i)||t.display.input.onKeyPress(e))}}}function Do(e,t){var r=+new Date;return Js&&Js.compare(r,e,t)?(Qs=Js=null,"triple"):Qs&&Qs.compare(r,e,t)?(Js=new Zs(r,e,t),Qs=null,"double"):(Qs=new Zs(r,e,t),Js=null,"single")}function Wo(e){var t=this,r=t.display;if(!(Ne(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,Et(r,e))return void(Ll||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100)));if(!Go(t,e)){var n=kr(t,e),i=Ie(e),o=n?Do(n,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&Ho(t,i,n,o,e)||(1==i?n?Po(t,n,o,e):Ee(e)==r.scroller&&We(e):2==i?(n&&gi(t.doc,n),setTimeout(function(){return r.input.focus()},20)):3==i&&(Bl?t.display.input.onContextMenu(e):Fr(t)))}}}function Ho(e,t,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,So(e,uo(o,i),i,function(t){if("string"==typeof t&&(t=Ys[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=Yl}finally{e.state.suppressEdits=!1}return n})}function Fo(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var o=Pl?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=Fl?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(Fl?r.altKey:r.ctrlKey)),i}function Po(e,t,r,n){Cl?setTimeout(u(Hr,e),0):e.curOp.focus=l();var i,o=Fo(e,r,n),s=e.doc.sel;e.options.dragDrop&&ls&&!e.isReadOnly()&&"single"==r&&(i=s.contains(t))>-1&&(E((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(E(i.to(),t)>0||t.xRel<0)?Eo(e,n,t,o):zo(e,n,t,o)}function Eo(e,t,r,n){var i=e.display,o=!1,l=gn(e,function(t){Ll&&(i.scroller.draggable=!1),e.state.draggingText=!1,Te(i.wrapper.ownerDocument,"mouseup",l),Te(i.wrapper.ownerDocument,"mousemove",s),Te(i.scroller,"dragstart",a),Te(i.scroller,"drop",l),o||(We(t),n.addNew||gi(e.doc,r,null,null,n.extend),Ll||Cl&&9==Sl?setTimeout(function(){i.wrapper.ownerDocument.body.focus(),i.input.focus()},20):i.input.focus())}),s=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},a=function(){return o=!0};Ll&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=!n.moveOnDrag,i.scroller.dragDrop&&i.scroller.dragDrop(),os(i.wrapper.ownerDocument,"mouseup",l),os(i.wrapper.ownerDocument,"mousemove",s),os(i.scroller,"dragstart",a),os(i.scroller,"drop",l),Fr(e),setTimeout(function(){return i.input.focus()},20)}function Io(e,t,r){if("char"==r)return new Hs(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new Hs(P(t.line,0),U(e.doc,P(t.line+1,0)));var n=r(e,t);return new Hs(n.from,n.to)}function zo(e,t,r,n){function i(t){if(0!=E(m,t))if(m=t,"rectangle"==n.unit){for(var i=[],o=e.options.tabSize,l=f(M(u,r.line).text,r.ch,o),s=f(M(u,t.line).text,t.ch,o),a=Math.min(l,s),g=Math.max(l,s),v=Math.min(r.line,t.line),y=Math.min(e.lastLine(),Math.max(r.line,t.line));v<=y;v++){var b=M(u,v).text,w=d(b,a,o);a==g?i.push(new Hs(P(v,w),P(v,w))):b.length>w&&i.push(new Hs(P(v,w),P(v,d(b,g,o))))}i.length||i.push(new Hs(r,r)),xi(u,Bn(e,p.ranges.slice(0,h).concat(i),h),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,C=c,S=Io(e,t,n.unit),L=C.anchor;E(S.anchor,L)>0?(x=S.head,L=B(C.from(),S.anchor)):(x=S.anchor,L=R(C.to(),S.head));var k=p.ranges.slice(0);k[h]=Ro(e,new Hs(U(u,L),x)),xi(u,Bn(e,k,h),$l)}}function o(t){var r=++b,s=kr(e,t,!0,"rectangle"==n.unit);if(s)if(0!=E(s,m)){e.curOp.focus=l(),i(s);var c=Rr(a,u);(s.line>=c.to||s.line<c.from)&&setTimeout(gn(e,function(){b==r&&o(t)}),150)}else{var f=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;f&&setTimeout(gn(e,function(){b==r&&(a.scroller.scrollTop+=f,o(t))}),50)}}function s(t){e.state.selectingText=!1,b=1/0,We(t),a.input.focus(),Te(a.wrapper.ownerDocument,"mousemove",w),Te(a.wrapper.ownerDocument,"mouseup",x),u.history.lastSelOrigin=null}var a=e.display,u=e.doc;We(t);var c,h,p=u.sel,g=p.ranges;if(n.addNew&&!n.extend?(h=u.sel.contains(r),c=h>-1?g[h]:new Hs(r,r)):(c=u.sel.primary(),h=u.sel.primIndex),"rectangle"==n.unit)n.addNew||(c=new Hs(r,r)),r=kr(e,t,!0,!0),h=-1;else{var v=Io(e,r,n.unit);c=n.extend?pi(c,v.anchor,v.head,n.extend):v}n.addNew?h==-1?(h=g.length,xi(u,Bn(e,g.concat([c]),h),{scroll:!1,origin:"*mouse"})):g.length>1&&g[h].empty()&&"char"==n.unit&&!n.extend?(xi(u,Bn(e,g.slice(0,h).concat(g.slice(h+1)),0),{scroll:!1,origin:"*mouse"}),p=u.sel):mi(u,h,c,$l):(h=0,xi(u,new Ws([c],0),$l),p=u.sel);var m=r,y=a.wrapper.getBoundingClientRect(),b=0,w=gn(e,function(e){0!==e.buttons&&Ie(e)?o(e):s(e)}),x=gn(e,s);e.state.selectingText=x,os(a.wrapper.ownerDocument,"mousemove",w),os(a.wrapper.ownerDocument,"mouseup",x)}function Ro(e,t){var r=t.anchor,n=t.head,i=M(e.doc,r.line);if(0==E(r,n)&&r.sticky==n.sticky)return t;var o=Le(i);if(!o)return t;var l=Se(o,r.ch,r.sticky),s=o[l];if(s.from!=r.ch&&s.to!=r.ch)return t;var a=l+(s.from==r.ch==(1!=s.level)?0:1);if(0==a||a==o.length)return t;var u;if(n.line!=r.line)u=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=Se(o,n.ch,n.sticky),f=c-l||(n.ch-r.ch)*(1==s.level?-1:1);u=c==a-1||c==a?f<0:f>0}var h=o[a+(u?-1:0)],d=u==(1==h.level),p=d?h.from:h.to,g=d?"after":"before";return r.ch==p&&r.sticky==g?t:new Hs(new P(r.line,p,g),n)}function Bo(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&We(t);var l=e.display,s=l.lineDiv.getBoundingClientRect();if(o>s.bottom||!Ae(e,r))return Fe(t);o-=s.top-l.viewOffset;for(var a=0;a<e.options.gutters.length;++a){var u=l.gutters.childNodes[a];if(u&&u.getBoundingClientRect().right>=i){var c=W(e.doc,o),f=e.options.gutters[a];return Me(e,r,e,c,f,t),Fe(t)}}}function Go(e,t){return Bo(e,t,"gutterClick",!0)}function Uo(e,t){Et(e.display,t)||Vo(e,t)||Ne(e,t,"contextmenu")||Bl||e.display.input.onContextMenu(t)}function Vo(e,t){return!!Ae(e,"gutterContextMenu")&&Bo(e,t,"gutterContextMenu",!1)}function Ko(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),rr(e)}function jo(e){function t(t,n,i,o){e.defaults[t]=n,i&&(r[t]=o?function(e,t,r){r!=ea&&i(e,t,r)}:i)}var r=e.optionHandlers;e.defineOption=t,e.Init=ea,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,Yn(e)},!0),t("indentUnit",2,Yn,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){_n(e),rr(e),yn(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(o==-1)break;i=o+t.length,r.push(P(n,o))}n++});for(var i=r.length-1;i>=0;i--)Ii(e.doc,t,r[i],P(r[i].line,r[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=ea&&e.refresh()}),t("specialCharPlaceholder",ct,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Hl?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("autocorrect",!1,function(e,t){return e.getInputField().autocorrect=t},!0),t("autocapitalize",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),t("rtlMoveVisually",!El),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){Ko(e),Xo(e)},!0),t("keyMap","default",function(e,t,r){var n=fo(t),i=r!=ea&&fo(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,_o,!0),t("gutters",[],function(e){En(e.options),Xo(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?Cr(e.display)+"px":"0",
e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return rn(e)},!0),t("scrollbarStyle","native",function(e){on(e),rn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e){En(e.options),Xo(e)},!0),t("firstLineNumber",1,Xo,!0),t("lineNumberFormatter",function(e){return e},Xo,!0),t("showCursorWhenSelecting",!1,Mr,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("selectionsMayTouch",!1),t("readOnly",!1,function(e,t){"nocursor"==t&&(Er(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Yo),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Mr,!0),t("singleCursorHeightPerLine",!0,Mr,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,_n,!0),t("addModeClass",!1,_n,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,_n,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),t("phrases",null)}function Xo(e){Pn(e),yn(e),Br(e)}function Yo(e,t,r){var n=r&&r!=ea;if(!t!=!n){var i=e.display.dragFunctions,o=t?os:Te;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function _o(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Gl(e.display.wrapper,"CodeMirror-wrap"),xe(e)),Lr(e),yn(e),rr(e),setTimeout(function(){return rn(e)},100)}function $o(e,t){var r=this;if(!(this instanceof $o))return new $o(e,t);this.options=t=t?c(t):{},c(ta,t,!1),En(t);var n=t.value;"string"==typeof n?n=new Rs(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new $o.inputStyles[t.inputStyle](this),o=this.display=new T(e,n,i);o.wrapper.CodeMirror=this,Pn(this),Ko(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),on(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Vl,keySeq:null,specialChars:null},t.autofocus&&!Hl&&o.input.focus(),Cl&&Sl<11&&setTimeout(function(){return r.display.input.reset(!0)},20),qo(this),ro(),ln(this),this.curOp.forceUpdate=!0,Qn(this,n),t.autofocus&&!Hl||this.hasFocus()?setTimeout(u(Pr,this),20):Er(this);for(var l in ra)ra.hasOwnProperty(l)&&ra[l](r,t[l],ea);Gr(this),t.finishInit&&t.finishInit(this);for(var s=0;s<na.length;++s)na[s](r);sn(this),Ll&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function qo(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),l=i.activeTouch,l.end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var i=e.display;os(i.scroller,"mousedown",gn(e,Wo)),Cl&&Sl<11?os(i.scroller,"dblclick",gn(e,function(t){if(!Ne(e,t)){var r=kr(e,t);if(r&&!Go(e,t)&&!Et(e.display,t)){We(t);var n=e.findWordAt(r);gi(e.doc,n.anchor,n.head)}}})):os(i.scroller,"dblclick",function(t){return Ne(e,t)||We(t)}),os(i.scroller,"contextmenu",function(t){return Uo(e,t)});var o,l={end:0};os(i.scroller,"touchstart",function(t){if(!Ne(e,t)&&!r(t)&&!Go(e,t)){i.input.ensurePolled(),clearTimeout(o);var n=+new Date;i.activeTouch={start:n,moved:!1,prev:n-l.end<=300?l:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),os(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),os(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!Et(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var l,s=e.coordsChar(i.activeTouch,"page");l=!o.prev||n(o,o.prev)?new Hs(s,s):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(s):new Hs(P(s.line,0),U(e.doc,P(s.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),We(r)}t()}),os(i.scroller,"touchcancel",t),os(i.scroller,"scroll",function(){i.scroller.clientHeight&&(Qr(e,i.scroller.scrollTop),en(e,i.scroller.scrollLeft,!0),Me(e,"scroll",e))}),os(i.scroller,"mousewheel",function(t){return Rn(e,t)}),os(i.scroller,"DOMMouseScroll",function(t){return Rn(e,t)}),os(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){Ne(e,t)||Pe(t)},over:function(t){Ne(e,t)||(Ji(e,t),Pe(t))},start:function(t){return Qi(e,t)},drop:gn(e,Zi),leave:function(t){Ne(e,t)||eo(e)}};var s=i.input.getField();os(s,"keyup",function(t){return Oo.call(e,t)}),os(s,"keydown",gn(e,Mo)),os(s,"keypress",gn(e,Ao)),os(s,"focus",function(t){return Pr(e,t)}),os(s,"blur",function(t){return Er(e,t)})}function Zo(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=Ze(e,t).state:r="prev");var l=e.options.tabSize,s=M(o,t),a=f(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&(u=o.mode.indent(i,s.text.slice(c.length),s.text),u==Yl||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?f(M(o,t-1).text,null,l):0:"add"==r?u=a+e.options.indentUnit:"subtract"==r?u=a-e.options.indentUnit:"number"==typeof r&&(u=a+r),u=Math.max(0,u);var h="",d=0;if(e.options.indentWithTabs)for(var g=Math.floor(u/l);g;--g)d+=l,h+="\t";if(d<u&&(h+=p(u-d)),h!=c)return Ii(o,h,P(t,0),P(t,c.length),"+input"),s.stateAfter=null,!0;for(var v=0;v<o.sel.ranges.length;v++){var m=o.sel.ranges[v];if(m.head.line==t&&m.head.ch<c.length){var y=P(t,c.length);mi(o,v,new Hs(y,y));break}}}function Qo(e){ia=e}function Jo(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var l=+new Date-200,s="paste"==i||e.state.pasteIncoming>l,a=ss(t),u=null;if(s&&n.ranges.length>1)if(ia&&ia.text.join("\n")==t){if(n.ranges.length%ia.text.length==0){u=[];for(var c=0;c<ia.text.length;c++)u.push(o.splitLines(ia.text[c]))}}else a.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(u=v(a,function(e){return[e]}));for(var f=e.curOp.updateInput,h=n.ranges.length-1;h>=0;h--){var d=n.ranges[h],p=d.from(),m=d.to();d.empty()&&(r&&r>0?p=P(p.line,p.ch-r):e.state.overwrite&&!s?m=P(m.line,Math.min(M(o,m.line).text.length,m.ch+g(a).length)):s&&ia&&ia.lineWise&&ia.text.join("\n")==t&&(p=m=P(p.line,0)));var y={from:p,to:m,text:u?u[h%u.length]:a,origin:i||(s?"paste":e.state.cutIncoming>l?"cut":"+input")};Di(e.doc,y),xt(e,"inputRead",e,y)}t&&!s&&tl(e,t),Yr(e),e.curOp.updateInput<2&&(e.curOp.updateInput=f),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function el(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||pn(t,function(){return Jo(t,r,0,null,"paste")}),!0}function tl(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){l=Zo(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(M(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=Zo(e,i.head.line,"smart"));l&&xt(e,"electricInput",e,i.head.line)}}}function rl(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:P(i,0),head:P(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function nl(e,t,r,n){e.setAttribute("autocorrect",!!r),e.setAttribute("autocapitalize",!!n),e.setAttribute("spellcheck",!!t)}function il(){var e=n("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=n("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Ll?e.style.width="1000px":e.setAttribute("wrap","off"),Dl&&(e.style.border="1px solid black"),nl(e),t}function ol(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&gn(this,t[e])(this,r,i),Me(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](fo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:vn(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");m(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},function(e){return e.priority}),this.state.modeGen++,yn(this)}),removeOverlay:vn(function(e){for(var t=this,r=this.state.overlays,n=0;n<r.length;++n){var i=r[n].modeSpec;if(i==e||"string"==typeof e&&i.name==e)return r.splice(n,1),t.state.modeGen++,void yn(t)}}),indentLine:vn(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),H(this.doc,e)&&Zo(this,e,t,r)}),indentSelection:vn(function(e){for(var t=this,r=this.doc.sel.ranges,n=-1,i=0;i<r.length;i++){var o=r[i];if(o.empty())o.head.line>n&&(Zo(t,o.head.line,e,!0),n=o.head.line,i==t.doc.sel.primIndex&&Yr(t));else{var l=o.from(),s=o.to(),a=Math.max(n,l.line);n=Math.min(t.lastLine(),s.line-(s.ch?0:1))+1;for(var u=a;u<n;++u)Zo(t,u,e);var c=t.doc.sel.ranges;0==l.ch&&r.length==c.length&&c[i].from().ch>0&&mi(t.doc,i,new Hs(l,c[i].to()),_l)}}}),getTokenAt:function(e,t){return tt(this,e,t)},getLineTokens:function(e,t){return tt(this,P(e),t,!0)},getTokenTypeAt:function(e){e=U(this.doc,e);var t,r=qe(this,M(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=l+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=this,i=[];if(!r.hasOwnProperty(t))return i;var o=r[t],l=this.getModeAt(e);if("string"==typeof l[t])o[l[t]]&&i.push(o[l[t]]);else if(l[t])for(var s=0;s<l[t].length;s++){var a=o[l[t][s]];a&&i.push(a)}else l.helperType&&o[l.helperType]?i.push(o[l.helperType]):o[l.name]&&i.push(o[l.name]);for(var u=0;u<o._global.length;u++){var c=o._global[u];c.pred(l,n)&&h(i,c.val)==-1&&i.push(c.val)}return i},getStateAfter:function(e,t){var r=this.doc;return e=G(r,null==e?r.first+r.size-1:e),Ze(this,e+1,t).state},cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?U(this.doc,e):e?n.from():n.to(),ur(this,r,t||"page")},charCoords:function(e,t){return ar(this,U(this.doc,e),t||"page")},coordsChar:function(e,t){return e=sr(this,e,t||"page"),hr(this,e.left,e.top)},lineAtHeight:function(e,t){return e=sr(this,{top:e,left:0},t||"page").top,W(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=M(this.doc,e)}else n=e;return lr(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-be(n):0)},defaultTextHeight:function(){return br(this.display)},defaultCharWidth:function(){return wr(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display;e=ur(this,U(this.doc,e));var l=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)l=e.top;else if("above"==n||"near"==n){var a=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(l=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&Kr(this,{left:s,top:l,right:s+t.offsetWidth,bottom:l+t.offsetHeight})},triggerOnKeyDown:vn(Mo),triggerOnKeyPress:vn(Ao),triggerOnKeyUp:Oo,triggerOnMouseDown:vn(Wo),execCommand:function(e){if(Ys.hasOwnProperty(e))return Ys[e].call(null,this)},triggerElectric:vn(function(e){tl(this,e)}),findPosH:function(e,t,r,n){var i=this,o=1;t<0&&(o=-1,t=-t);for(var l=U(this.doc,e),s=0;s<t&&(l=ll(i.doc,l,o,r,n),!l.hitSide);++s);return l},moveH:vn(function(e,t){var r=this;this.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?ll(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()},ql)}),deleteH:vn(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):ho(this,function(r){var i=ll(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=this,o=1,l=n;t<0&&(o=-1,t=-t);for(var s=U(this.doc,e),a=0;a<t;++a){var u=ur(i,s,"div");if(null==l?l=u.left:u.left=l,s=sl(i,u,o,r),s.hitSide)break}return s},moveV:vn(function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(l){if(o)return e<0?l.from():l.to();var s=ur(r,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),i.push(s.left);var a=sl(r,s,e,t);return"page"==t&&l==n.sel.primary()&&Xr(r,ar(r,a,"div").top-s.top),a},ql),i.length)for(var l=0;l<n.sel.ranges.length;l++)n.sel.ranges[l].goalColumn=i[l]}),findWordAt:function(e){var t=this.doc,r=M(t,e.line).text,n=e.ch,i=e.ch;if(r){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=r.length||!n?++i:--n;for(var l=r.charAt(n),s=x(l,o)?function(e){return x(e,o)}:/\s/.test(l)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!x(e)};n>0&&s(r.charAt(n-1));)--n;for(;i<r.length&&s(r.charAt(i));)++i}return new Hs(P(e.line,n),P(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Gl(this.display.cursorDiv,"CodeMirror-overwrite"),Me(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==l()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:vn(function(e,t){_r(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Bt(this)-this.display.barHeight,width:e.scrollWidth-Bt(this)-this.display.barWidth,clientHeight:Ut(this),clientWidth:Gt(this)}},scrollIntoView:vn(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:P(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?$r(this,e):Zr(this,e.from,e.to,e.margin)}),setSize:vn(function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&tr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){bn(r,i,"widget");break}++i}),this.curOp.forceUpdate=!0,Me(this,"refresh",this)}),operation:function(e){return pn(this,e)},startOperation:function(){return ln(this)},endOperation:function(){return sn(this)},refresh:vn(function(){var e=this.display.cachedTextHeight;yn(this),this.curOp.forceUpdate=!0,rr(this),_r(this,this.doc.scrollLeft,this.doc.scrollTop),Hn(this),(null==e||Math.abs(e-br(this.display))>.5)&&Lr(this),Me(this,"refresh",this)}),swapDoc:vn(function(e){var t=this.doc;return t.cm=null,Qn(this,e),rr(this),this.display.input.reset(),_r(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,xt(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},De(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}function ll(e,t,r,n,i){function o(){var n=t.line+r;return!(n<e.first||n>=e.first+e.size)&&(t=new P(n,t.ch,t.sticky),u=M(e,n))}function l(n){var l;if(l=i?mo(e.cm,u,t,r):go(u,t,r),null==l){if(n||!o())return!1;t=vo(i,e.cm,u,t.line,r)}else t=l;return!0}var s=t,a=r,u=M(e,t.line);if("char"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var c=null,f="group"==n,h=e.cm&&e.cm.getHelper(t,"wordChars"),d=!0;!(r<0)||l(!d);d=!1){var p=u.text.charAt(t.ch)||"\n",g=x(p,h)?"w":f&&"\n"==p?"n":!f||/\s/.test(p)?null:"p";if(!f||d||g||(g="s"),c&&c!=g){r<0&&(r=1,l(),t.sticky="after");break}if(g&&(c=g),r>0&&!l(!d))break}var v=Mi(e,t,s,a,!0);return I(s,v)&&(v.hitSide=!0),v}function sl(e,t,r,n){var i,o=e.doc,l=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),a=Math.max(s-.5*br(e.display),3);i=(r>0?t.bottom:t.top)+r*a}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(var u;u=hr(e,l,i),u.outside;){if(r<0?i<=0:i>=o.height){u.hitSide=!0;break}i+=5*r}return u}function al(e,t){var r=Yt(e,t.line);if(!r||r.hidden)return null;var n=M(e.doc,t.line),i=Kt(r,n,t.line),o=Le(n,e.doc.direction),l="left";if(o){var s=Se(o,t.ch);l=s%2?"right":"left"}var a=qt(i.map,t.ch,l);return a.offset="right"==a.collapse?a.end:a.start,a}function ul(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function cl(e,t){return t&&(e.bad=!0),e}function fl(e,t,r,n,i){function o(e){return function(t){return t.id==e}}function l(){c&&(u+=f,h&&(u+=f),c=h=!1)}function s(e){e&&(l(),u+=e)}function a(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(r)return void s(r);var u,d=t.getAttribute("cm-marker");if(d){var p=e.findMarks(P(n,0),P(i+1,0),o(+d));return void(p.length&&(u=p[0].find(0))&&s(N(e.doc,u.from,u.to).join(f)))}if("false"==t.getAttribute("contenteditable"))return;var g=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;g&&l();for(var v=0;v<t.childNodes.length;v++)a(t.childNodes[v]);/^(pre|p)$/i.test(t.nodeName)&&(h=!0),g&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var u="",c=!1,f=e.doc.lineSeparator(),h=!1;a(t),t!=r;)t=t.nextSibling,h=!1;return u}function hl(e,t,r){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return cl(e.clipPos(P(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return dl(o,t,r)}}function dl(e,t,r){function n(t,r,n){for(var i=-1;i<(f?f.length:0);i++)for(var o=i<0?c.map:f[i],l=0;l<o.length;l+=3){var s=o[l+2];if(s==t||s==r){var a=D(i<0?e.line:e.rest[i]),u=o[l]+n;return(n<0||s!=t)&&(u=o[l+(n?1:0)]),P(a,u)}}}var i=e.text.firstChild,l=!1;if(!t||!o(i,t))return cl(P(D(e.line),0),!0);if(t==i&&(l=!0,t=i.childNodes[r],r=0,!t)){var s=e.rest?g(e.rest):e.line;return cl(P(D(s),s.text.length),l)}var a=3==t.nodeType?t:null,u=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var c=e.measure,f=c.maps,h=n(a,u,r);if(h)return cl(h,l);for(var d=u.nextSibling,p=a?a.nodeValue.length-r:0;d;d=d.nextSibling){if(h=n(d,d.firstChild,0))return cl(P(h.line,h.ch-p),l);p+=d.textContent.length}for(var v=u.previousSibling,m=r;v;v=v.previousSibling){if(h=n(v,v.firstChild,-1))return cl(P(h.line,h.ch+m),l);m+=v.textContent.length}}function pl(e,t){function r(){e.value=u.getValue()}if(t=t?c(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=l();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}var i;if(e.form&&(os(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(a){}}t.finishInit=function(t){t.save=r,t.getTextArea=function(){return e},t.toTextArea=function(){t.toTextArea=isNaN,r(),e.parentNode.removeChild(t.getWrapperElement()),e.style.display="",e.form&&(Te(e.form,"submit",r),"function"==typeof e.form.submit&&(e.form.submit=i))}},e.style.display="none";var u=$o(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return u}function gl(e){e.off=Te,e.on=os,e.wheelEventPixels=zn,e.Doc=Rs,e.splitLines=ss,e.countColumn=f,e.findColumn=d,e.isWordChar=w,e.Pass=Yl,e.signal=Me,e.Line=ys,e.changeEnd=Un,e.scrollbarModel=Ms,e.Pos=P,e.cmpPos=E,e.modes=fs,e.mimeModes=hs,e.resolveMode=Ve,e.getMode=Ke,e.modeExtensions=ds,e.extendMode=je,e.copyState=Xe,e.startState=_e,e.innerMode=Ye,e.commands=Ys,e.keyMap=Xs,e.keyName=co,e.isModifierKey=ao,e.lookupKey=so,e.normalizeKeyMap=lo,e.StringStream=ps,e.SharedTextMarker=Is,e.TextMarker=Es,e.LineWidget=Fs,e.e_preventDefault=We,e.e_stopPropagation=He,e.e_stop=Pe,e.addClass=s,e.contains=o,e.rmClass=Gl,e.keyNames=Us}var vl=navigator.userAgent,ml=navigator.platform,yl=/gecko\/\d/i.test(vl),bl=/MSIE \d/.test(vl),wl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vl),xl=/Edge\/(\d+)/.exec(vl),Cl=bl||wl||xl,Sl=Cl&&(bl?document.documentMode||6:+(xl||wl)[1]),Ll=!xl&&/WebKit\//.test(vl),kl=Ll&&/Qt\/\d+\.\d+/.test(vl),Tl=!xl&&/Chrome\//.test(vl),Ml=/Opera\//.test(vl),Nl=/Apple Computer/.test(navigator.vendor),Ol=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(vl),Al=/PhantomJS/.test(vl),Dl=!xl&&/AppleWebKit/.test(vl)&&/Mobile\/\w+/.test(vl),Wl=/Android/.test(vl),Hl=Dl||Wl||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(vl),Fl=Dl||/Mac/.test(ml),Pl=/\bCrOS\b/.test(vl),El=/win/i.test(ml),Il=Ml&&vl.match(/Version\/(\d*\.\d*)/);Il&&(Il=Number(Il[1])),Il&&Il>=15&&(Ml=!1,Ll=!0);var zl,Rl=Fl&&(kl||Ml&&(null==Il||Il<12.11)),Bl=yl||Cl&&Sl>=9,Gl=function(t,r){var n=t.className,i=e(r).exec(n);if(i){var o=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(o?i[1]+o:"")}};zl=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var Ul=function(e){e.select()};Dl?Ul=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:Cl&&(Ul=function(e){try{e.select()}catch(t){}});var Vl=function(){this.id=null};Vl.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var Kl,jl,Xl=30,Yl={toString:function(){return"CodeMirror.Pass"}},_l={scroll:!1},$l={origin:"*mouse"},ql={origin:"+move"},Zl=[""],Ql=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Jl=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,es=!1,ts=!1,rs=null,ns=function(){function e(e){return e<=247?r.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?n.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,r){this.level=e,this.from=t,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,s=/[Lb1n]/,a=/[1n]/;return function(r,n){var u="ltr"==n?"L":"R";if(0==r.length||"ltr"==n&&!i.test(r))return!1;for(var c=r.length,f=[],h=0;h<c;++h)f.push(e(r.charCodeAt(h)));for(var d=0,p=u;d<c;++d){var v=f[d];"m"==v?f[d]=p:p=v}for(var m=0,y=u;m<c;++m){var b=f[m];"1"==b&&"r"==y?f[m]="n":l.test(b)&&(y=b,"r"==b&&(f[m]="R"))}for(var w=1,x=f[0];w<c-1;++w){var C=f[w];"+"==C&&"1"==x&&"1"==f[w+1]?f[w]="1":","!=C||x!=f[w+1]||"1"!=x&&"n"!=x||(f[w]=x),x=C}for(var S=0;S<c;++S){var L=f[S];if(","==L)f[S]="N";else if("%"==L){var k=void 0;for(k=S+1;k<c&&"%"==f[k];++k);for(var T=S&&"!"==f[S-1]||k<c&&"1"==f[k]?"1":"N",M=S;M<k;++M)f[M]=T;S=k-1}}for(var N=0,O=u;N<c;++N){var A=f[N];"L"==O&&"1"==A?f[N]="L":l.test(A)&&(O=A)}for(var D=0;D<c;++D)if(o.test(f[D])){var W=void 0;for(W=D+1;W<c&&o.test(f[W]);++W);for(var H="L"==(D?f[D-1]:u),F="L"==(W<c?f[W]:u),P=H==F?H?"L":"R":u,E=D;E<W;++E)f[E]=P;D=W-1}for(var I,z=[],R=0;R<c;)if(s.test(f[R])){var B=R;for(++R;R<c&&s.test(f[R]);++R);z.push(new t(0,B,R))}else{var G=R,U=z.length;for(++R;R<c&&"L"!=f[R];++R);for(var V=G;V<R;)if(a.test(f[V])){G<V&&z.splice(U,0,new t(1,G,V));var K=V;for(++V;V<R&&a.test(f[V]);++V);z.splice(U,0,new t(2,K,V)),G=V}else++V;G<R&&z.splice(U,0,new t(1,G,R))}return"ltr"==n&&(1==z[0].level&&(I=r.match(/^\s+/))&&(z[0].from=I[0].length,z.unshift(new t(0,0,I[0].length))),1==g(z).level&&(I=r.match(/\s+$/))&&(g(z).to-=I[0].length,z.push(new t(0,c-I[0].length,c)))),"rtl"==n?z.reverse():z}}(),is=[],os=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||is).concat(r)}},ls=function(){if(Cl&&Sl<9)return!1;var e=n("div");return"draggable"in e||"dragDrop"in e}(),ss=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);i==-1&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");l!=-1?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},as=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(r){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},us=function(){var e=n("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),cs=null,fs={},hs={},ds={},ps=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};ps.prototype.eol=function(){return this.pos>=this.string.length},ps.prototype.sol=function(){return this.pos==this.lineStart},ps.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},ps.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},ps.prototype.eat=function(e){var t,r=this.string.charAt(this.pos);if(t="string"==typeof e?r==e:r&&(e.test?e.test(r):e(r)))return++this.pos,r},ps.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},ps.prototype.eatSpace=function(){for(var e=this,t=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++e.pos;return this.pos>t},ps.prototype.skipToEnd=function(){this.pos=this.string.length},ps.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},ps.prototype.backUp=function(e){this.pos-=e},ps.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=f(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},ps.prototype.indentation=function(){return f(this.string,null,this.tabSize)-(this.lineStart?f(this.string,this.lineStart,this.tabSize):0)},ps.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(i(o)==i(e))return t!==!1&&(this.pos+=e.length),!0},ps.prototype.current=function(){return this.string.slice(this.start,this.pos)},ps.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},ps.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},ps.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var gs=function(e,t){this.state=e,this.lookAhead=t},vs=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};vs.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},vs.prototype.baseToken=function(e){var t=this;if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)t.baseTokenPos+=2;var r=this.baseTokens[this.baseTokenPos+1];return{type:r&&r.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},vs.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--;
},vs.fromSaved=function(e,t,r){return t instanceof gs?new vs(e,Xe(e.mode,t.state),r,t.lookAhead):new vs(e,Xe(e.mode,t),r)},vs.prototype.save=function(e){var t=e!==!1?Xe(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new gs(t,this.maxLookAhead):t};var ms=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r},ys=function(e,t,r){this.text=e,ne(this,t),this.height=r?r(this):1};ys.prototype.lineNo=function(){return D(this)},De(ys);var bs,ws={},xs={},Cs=null,Ss=null,Ls={left:0,right:0,top:0,bottom:0},ks=function(e,t,r){this.cm=r;var i=this.vert=n("div",[n("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=n("div",[n("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=o.tabIndex=-1,e(i),e(o),os(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),os(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,Cl&&Sl<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ks.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},ks.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ks.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ks.prototype.zeroWidthHack=function(){var e=Fl&&!Ol?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Vl,this.disableVert=new Vl},ks.prototype.enableZeroWidthBar=function(e,t,r){function n(){var i=e.getBoundingClientRect(),o="vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},ks.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ts=function(){};Ts.prototype.update=function(){return{bottom:0,right:0}},Ts.prototype.setScrollLeft=function(){},Ts.prototype.setScrollTop=function(){},Ts.prototype.clear=function(){};var Ms={"native":ks,"null":Ts},Ns=0,Os=function(e,t,r){var n=e.display;this.viewport=t,this.visible=Rr(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Gt(e),this.force=r,this.dims=xr(e),this.events=[]};Os.prototype.signal=function(e,t){Ae(e,t)&&this.events.push(arguments)},Os.prototype.finish=function(){for(var e=this,t=0;t<this.events.length;t++)Me.apply(null,e.events[t])};var As=0,Ds=null;Cl?Ds=-.53:yl?Ds=15:Tl?Ds=-.7:Nl&&(Ds=-1/3);var Ws=function(e,t){this.ranges=e,this.primIndex=t};Ws.prototype.primary=function(){return this.ranges[this.primIndex]},Ws.prototype.equals=function(e){var t=this;if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var r=0;r<this.ranges.length;r++){var n=t.ranges[r],i=e.ranges[r];if(!I(n.anchor,i.anchor)||!I(n.head,i.head))return!1}return!0},Ws.prototype.deepCopy=function(){for(var e=this,t=[],r=0;r<this.ranges.length;r++)t[r]=new Hs(z(e.ranges[r].anchor),z(e.ranges[r].head));return new Ws(t,this.primIndex)},Ws.prototype.somethingSelected=function(){for(var e=this,t=0;t<this.ranges.length;t++)if(!e.ranges[t].empty())return!0;return!1},Ws.prototype.contains=function(e,t){var r=this;t||(t=e);for(var n=0;n<this.ranges.length;n++){var i=r.ranges[n];if(E(t,i.from())>=0&&E(e,i.to())<=0)return n}return-1};var Hs=function(e,t){this.anchor=e,this.head=t};Hs.prototype.from=function(){return B(this.anchor,this.head)},Hs.prototype.to=function(){return R(this.anchor,this.head)},Hs.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Ui.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=this,n=e,i=e+t;n<i;++n){var o=r.lines[n];r.height-=o.height,st(o),xt(o,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){var n=this;this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var i=0;i<t.length;++i)t[i].parent=n},iterN:function(e,t,r){for(var n=this,i=e+t;e<i;++e)if(r(n.lines[e]))return!0}},Vi.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){var r=this;this.size-=t;for(var n=0;n<this.children.length;++n){var i=r.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e),s=i.height;if(i.removeInner(e,l),r.height-=s-i.height,o==l&&(r.children.splice(n--,1),i.parent=null),0==(t-=l))break;e=0}else e-=o}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Ui))){var a=[];this.collapse(a),this.children=[new Ui(a)],this.children[0].parent=this}},collapse:function(e){for(var t=this,r=0;r<this.children.length;++r)t.children[r].collapse(e)},insertInner:function(e,t,r){var n=this;this.size+=t.length,this.height+=r;for(var i=0;i<this.children.length;++i){var o=n.children[i],l=o.chunkSize();if(e<=l){if(o.insertInner(e,t,r),o.lines&&o.lines.length>50){for(var s=o.lines.length%25+25,a=s;a<o.lines.length;){var u=new Ui(o.lines.slice(a,a+=25));o.height-=u.height,n.children.splice(++i,0,u),u.parent=n}o.lines=o.lines.slice(0,s),n.maybeSpill()}break}e-=l}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new Vi(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=h(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new Vi(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=this,i=0;i<this.children.length;++i){var o=n.children[i],l=o.chunkSize();if(e<l){var s=Math.min(t,l-e);if(o.iterN(e,s,r))return!0;if(0==(t-=s))break;e=0}else e-=l}}};var Fs=function(e,t,r){var n=this;if(r)for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i]);this.doc=e,this.node=t};Fs.prototype.clear=function(){var e=this,t=this.doc.cm,r=this.line.widgets,n=this.line,i=D(n);if(null!=i&&r){for(var o=0;o<r.length;++o)r[o]==e&&r.splice(o--,1);r.length||(n.widgets=null);var l=Pt(this);A(n,Math.max(0,n.height-l)),t&&(pn(t,function(){Ki(t,n,-l),bn(t,i,"widget")}),xt(t,"lineWidgetCleared",t,this,i))}},Fs.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=Pt(this)-t;i&&(me(this.doc,n)||A(n,n.height+i),r&&pn(r,function(){r.curOp.forceUpdate=!0,Ki(r,n,i),xt(r,"lineWidgetChanged",r,e,D(n))}))},De(Fs);var Ps=0,Es=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ps};Es.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){var t=this.doc.cm,r=t&&!t.curOp;if(r&&ln(t),Ae(this,"clear")){var n=this.find();n&&xt(this,"clear",n.from,n.to)}for(var i=null,o=null,l=0;l<this.lines.length;++l){var s=e.lines[l],a=_(s.markedSpans,e);t&&!e.collapsed?bn(t,D(s),"text"):t&&(null!=a.to&&(o=D(s)),null!=a.from&&(i=D(s))),s.markedSpans=$(s.markedSpans,a),null==a.from&&e.collapsed&&!me(e.doc,s)&&t&&A(s,br(t.display))}if(t&&this.collapsed&&!t.options.lineWrapping)for(var u=0;u<this.lines.length;++u){var c=he(e.lines[u]),f=we(c);f>t.display.maxLineLength&&(t.display.maxLine=c,t.display.maxLineLength=f,t.display.maxLineChanged=!0)}null!=i&&t&&this.collapsed&&yn(t,i,o+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,t&&Li(t.doc)),t&&xt(t,"markerCleared",t,this,i,o),r&&sn(t),this.parent&&this.parent.clear()}},Es.prototype.find=function(e,t){var r=this;null==e&&"bookmark"==this.type&&(e=1);for(var n,i,o=0;o<this.lines.length;++o){var l=r.lines[o],s=_(l.markedSpans,r);if(null!=s.from&&(n=P(t?l:D(l),s.from),e==-1))return n;if(null!=s.to&&(i=P(t?l:D(l),s.to),1==e))return i}return n&&{from:n,to:i}},Es.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&pn(n,function(){var i=t.line,o=D(t.line),l=Yt(n,o);if(l&&(er(l),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!me(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var a=Pt(r)-s;a&&A(i,i.height+a)}xt(n,"markerChanged",n,e)})},Es.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&h(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Es.prototype.detachLine=function(e){if(this.lines.splice(h(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},De(Es);var Is=function(e,t){var r=this;this.markers=e,this.primary=t;for(var n=0;n<e.length;++n)e[n].parent=r};Is.prototype.clear=function(){var e=this;if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var t=0;t<this.markers.length;++t)e.markers[t].clear();xt(this,"clear")}},Is.prototype.find=function(e,t){return this.primary.find(e,t)},De(Is);var zs=0,Rs=function(e,t,r,n,i){if(!(this instanceof Rs))return new Rs(e,t,r,n,i);null==r&&(r=0),Vi.call(this,[new Ui([new ys("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=P(r,0);this.sel=Gn(o),this.history=new ti(null),this.id=++zs,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),qn(this,{from:o,to:o,text:e}),xi(this,Gn(o),_l)};Rs.prototype=b(Vi.prototype,{constructor:Rs,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=O(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:mn(function(e){var t=P(this.first,0),r=this.first+this.size-1;Di(this,{from:t,to:P(r,M(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&_r(this.cm,0,0),xi(this,Gn(t),_l)}),replaceRange:function(e,t,r,n){t=U(this,t),r=r?U(this,r):t,Ii(this,e,t,r,n)},getRange:function(e,t,r){var n=N(this,U(this,e),U(this,t));return r===!1?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(H(this,e))return M(this,e)},getLineNumber:function(e){return D(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=M(this,e)),he(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return U(this,e)},getCursor:function(e){var t,r=this.sel.primary();return t=null==e||"head"==e?r.head:"anchor"==e?r.anchor:"end"==e||"to"==e||e===!1?r.to():r.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:mn(function(e,t,r){yi(this,U(this,"number"==typeof e?P(e,t||0):e),null,r)}),setSelection:mn(function(e,t,r){yi(this,U(this,e),U(this,t||e),r)}),extendSelection:mn(function(e,t,r){gi(this,U(this,e),t&&U(this,t),r)}),extendSelections:mn(function(e,t){vi(this,K(this,e),t)}),extendSelectionsBy:mn(function(e,t){var r=v(this.sel.ranges,e);vi(this,K(this,r),t)}),setSelections:mn(function(e,t,r){var n=this;if(e.length){for(var i=[],o=0;o<e.length;o++)i[o]=new Hs(U(n,e[o].anchor),U(n,e[o].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),xi(this,Bn(this.cm,i,t),r)}}),addSelection:mn(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Hs(U(this,e),U(this,t||e))),xi(this,Bn(this.cm,n,n.length-1),r)}),getSelection:function(e){for(var t,r=this,n=this.sel.ranges,i=0;i<n.length;i++){var o=N(r,n[i].from(),n[i].to());t=t?t.concat(o):o}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=this,r=[],n=this.sel.ranges,i=0;i<n.length;i++){var o=N(t,n[i].from(),n[i].to());e!==!1&&(o=o.join(e||t.lineSeparator())),r[i]=o}return r},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:mn(function(e,t,r){for(var n=this,i=[],o=this.sel,l=0;l<o.ranges.length;l++){var s=o.ranges[l];i[l]={from:s.from(),to:s.to(),text:n.splitLines(e[l]),origin:r}}for(var a=t&&"end"!=t&&Xn(this,i,t),u=i.length-1;u>=0;u--)Di(n,i[u]);a?wi(this,a):this.cm&&Yr(this.cm)}),undo:mn(function(){Hi(this,"undo")}),redo:mn(function(){Hi(this,"redo")}),undoSelection:mn(function(){Hi(this,"undo",!0)}),redoSelection:mn(function(){Hi(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new ti(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:di(this.history.done),undone:di(this.history.undone)}},setHistory:function(e){var t=this.history=new ti(this.history.maxGeneration);t.done=di(e.done.slice(0),null,!0),t.undone=di(e.undone.slice(0),null,!0)},setGutterMarker:mn(function(e,t,r){return Gi(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&C(n)&&(e.gutterMarkers=null),!0})}),clearGutter:mn(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Gi(t,r,"gutter",function(){return r.gutterMarkers[e]=null,C(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!H(this,e))return null;if(t=e,e=M(this,e),!e)return null}else if(t=D(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:mn(function(t,r,n){return Gi(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass";if(t[i]){if(e(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:mn(function(t,r,n){return Gi(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==n)t[i]=null;else{var l=o.match(e(n));if(!l)return!1;var s=l.index+l[0].length;t[i]=o.slice(0,l.index)+(l.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:mn(function(e,t,r){return ji(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Xi(this,U(this,e),U(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=U(this,e),Xi(this,e,e,r,"bookmark")},findMarksAt:function(e){e=U(this,e);var t=[],r=M(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=U(this,e),t=U(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];null!=a.to&&i==e.line&&e.ch>=a.to||null==a.from&&i!=e.line||null!=a.from&&i==t.line&&a.from>=t.ch||r&&!r(a.marker)||n.push(a.marker.parent||a.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;return o>e?(t=e,!0):(e-=o,void++r)}),U(this,P(r,t))},indexFromPos:function(e){e=U(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new Rs(O(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new Rs(O(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],$i(n,_i(this)),n},unlinkDoc:function(e){var t=this;if(e instanceof $o&&(e=e.doc),this.linked)for(var r=0;r<this.linked.length;++r){var n=t.linked[r];if(n.doc==e){t.linked.splice(r,1),e.unlinkDoc(t),qi(_i(t));break}}if(e.history==this.history){var i=[e.id];Zn(e,function(e){return i.push(e.id)},!0),e.history=new ti(null),e.history.done=di(this.history.done,i),e.history.undone=di(this.history.undone,i)}},iterLinkedDocs:function(e){Zn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):ss(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:mn(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&ei(this.cm))})}),Rs.prototype.eachLine=Rs.prototype.iter;for(var Bs=0,Gs=!1,Us={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Vs=0;Vs<10;Vs++)Us[Vs+48]=Us[Vs+96]=String(Vs);for(var Ks=65;Ks<=90;Ks++)Us[Ks]=String.fromCharCode(Ks);for(var js=1;js<=12;js++)Us[js+111]=Us[js+63235]="F"+js;var Xs={};Xs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Xs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Xs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Xs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Xs["default"]=Fl?Xs.macDefault:Xs.pcDefault;var Ys={selectAll:Oi,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),_l)},killLine:function(e){return ho(e,function(t){if(t.empty()){var r=M(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:P(t.head.line+1,0)}:{from:t.head,to:P(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return ho(e,function(t){return{from:P(t.from().line,0),to:U(e.doc,P(t.to().line+1,0))}})},delLineLeft:function(e){return ho(e,function(e){return{from:P(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return ho(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){return ho(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(P(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(P(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return yo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return wo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return bo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},ql)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},ql)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?wo(e,t.head):n},ql)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),l=f(e.getLine(o.line),o.ch,n);t.push(p(n-l%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return pn(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=M(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new P(i.line,i.ch-1)),i.ch>0)i=new P(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),P(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=M(e.doc,i.line-1).text;l&&(i=new P(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),P(i.line-1,l.length-1),i,"+transpose"))}r.push(new Hs(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return pn(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);Yr(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},_s=new Vl,$s=null,qs=400,Zs=function(e,t,r){this.time=e,this.pos=t,this.button=r};Zs.prototype.compare=function(e,t,r){return this.time+qs>e&&0==E(t,this.pos)&&r==this.button};var Qs,Js,ea={toString:function(){return"CodeMirror.Init"}},ta={},ra={};$o.defaults=ta,$o.optionHandlers=ra;var na=[];$o.defineInitHook=function(e){return na.push(e)};var ia=null,oa=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Vl,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};oa.prototype.init=function(e){function t(e){if(!Ne(i,e)){if(i.somethingSelected())Qo({lineWise:!1,text:i.getSelections()}),"cut"==e.type&&i.replaceSelection("",null,"cut");else{if(!i.options.lineWiseCopyCut)return;var t=rl(i);Qo({lineWise:!0,text:t.text}),"cut"==e.type&&i.operation(function(){i.setSelections(t.ranges,0,_l),i.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var r=ia.text.join("\n");if(e.clipboardData.setData("Text",r),e.clipboardData.getData("Text")==r)return void e.preventDefault()}var l=il(),s=l.firstChild;i.display.lineSpace.insertBefore(l,i.display.lineSpace.firstChild),s.value=ia.text.join("\n");var a=document.activeElement;Ul(s),setTimeout(function(){i.display.lineSpace.removeChild(l),a.focus(),a==o&&n.showPrimarySelection()},50)}}var r=this,n=this,i=n.cm,o=n.div=e.lineDiv;nl(o,i.options.spellcheck,i.options.autocorrect,i.options.autocapitalize),os(o,"paste",function(e){Ne(i,e)||el(e,i)||Sl<=11&&setTimeout(gn(i,function(){return r.updateFromDOM()}),20)}),os(o,"compositionstart",function(e){r.composing={data:e.data,done:!1}}),os(o,"compositionupdate",function(e){r.composing||(r.composing={data:e.data,done:!1})}),os(o,"compositionend",function(e){r.composing&&(e.data!=r.composing.data&&r.readFromDOMSoon(),r.composing.done=!0)}),os(o,"touchstart",function(){return n.forceCompositionEnd()}),os(o,"input",function(){r.composing||r.readFromDOMSoon()}),os(o,"copy",t),os(o,"cut",t)},oa.prototype.prepareSelection=function(){var e=Nr(this.cm,!1);return e.focus=this.cm.state.focused,e},oa.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},oa.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},oa.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||i.line<t.display.viewFrom)return void e.removeAllRanges();var o=hl(t,e.anchorNode,e.anchorOffset),l=hl(t,e.focusNode,e.focusOffset);if(!o||o.bad||!l||l.bad||0!=E(B(o,l),n)||0!=E(R(o,l),i)){var s=t.display.view,a=n.line>=t.display.viewFrom&&al(t,n)||{node:s[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&al(t,i);if(!u){var c=s[s.length-1].measure,f=c.maps?c.maps[c.maps.length-1]:c.map;u={node:f[f.length-1],offset:f[f.length-2]-f[f.length-3]}}if(!a||!u)return void e.removeAllRanges();var h,d=e.rangeCount&&e.getRangeAt(0);try{h=zl(a.node,a.offset,u.offset,u.node)}catch(p){}h&&(!yl&&t.state.focused?(e.collapse(a.node,a.offset),h.collapsed||(e.removeAllRanges(),e.addRange(h))):(e.removeAllRanges(),e.addRange(h)),d&&null==e.anchorNode?e.addRange(d):yl&&this.startGracePeriod()),this.rememberSelection()}},oa.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},oa.prototype.showMultipleSelections=function(e){r(this.cm.display.cursorDiv,e.cursors),r(this.cm.display.selectionDiv,e.selection)},oa.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},oa.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},oa.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},oa.prototype.blur=function(){this.div.blur()},oa.prototype.getField=function(){return this.div},oa.prototype.supportsTouch=function(){return!0},oa.prototype.receivedFocus=function(){function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))}var t=this;this.selectionInEditor()?this.pollSelection():pn(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},oa.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},oa.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(Wl&&Tl&&this.cm.options.gutters.length&&ul(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=hl(t,e.anchorNode,e.anchorOffset),n=hl(t,e.focusNode,e.focusOffset);r&&n&&pn(t,function(){xi(t.doc,Gn(r,n),_l),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},oa.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(0==n.ch&&n.line>e.firstLine()&&(n=P(n.line-1,M(e.doc,n.line-1).length)),i.ch==M(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=P(i.line+1,0)),
n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,l,s;n.line==t.viewFrom||0==(o=Tr(e,n.line))?(l=D(t.view[0].line),s=t.view[0].node):(l=D(t.view[o].line),s=t.view[o-1].node.nextSibling);var a,u,c=Tr(e,i.line);if(c==t.view.length-1?(a=t.viewTo-1,u=t.lineDiv.lastChild):(a=D(t.view[c+1].line)-1,u=t.view[c+1].node.previousSibling),!s)return!1;for(var f=e.doc.splitLines(fl(e,s,u,l,a)),h=N(e.doc,P(l,0),P(a,M(e.doc,a).text.length));f.length>1&&h.length>1;)if(g(f)==g(h))f.pop(),h.pop(),a--;else{if(f[0]!=h[0])break;f.shift(),h.shift(),l++}for(var d=0,p=0,v=f[0],m=h[0],y=Math.min(v.length,m.length);d<y&&v.charCodeAt(d)==m.charCodeAt(d);)++d;for(var b=g(f),w=g(h),x=Math.min(b.length-(1==f.length?d:0),w.length-(1==h.length?d:0));p<x&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)++p;if(1==f.length&&1==h.length&&l==n.line)for(;d&&d>n.ch&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)d--,p++;f[f.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),f[0]=f[0].slice(d).replace(/\u200b+$/,"");var C=P(l,d),S=P(a,h.length?g(h).length-p:0);return f.length>1||f[0]||E(C,S)?(Ii(e.doc,f,C,S,"+input"),!0):void 0},oa.prototype.ensurePolled=function(){this.forceCompositionEnd()},oa.prototype.reset=function(){this.forceCompositionEnd()},oa.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},oa.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},oa.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||pn(this.cm,function(){return yn(e.cm)})},oa.prototype.setUneditable=function(e){e.contentEditable="false"},oa.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||gn(this.cm,Jo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},oa.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},oa.prototype.onContextMenu=function(){},oa.prototype.resetPosition=function(){},oa.prototype.needsContentAttribute=!0;var la=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Vl,this.hasSelection=!1,this.composing=null};la.prototype.init=function(e){function t(e){if(!Ne(i,e)){if(i.somethingSelected())Qo({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=rl(i);Qo({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,_l):(n.prevInput="",o.value=t.text.join("\n"),Ul(o))}"cut"==e.type&&(i.state.cutIncoming=+new Date)}}var r=this,n=this,i=this.cm;this.createField(e);var o=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),Dl&&(o.style.width="0px"),os(o,"input",function(){Cl&&Sl>=9&&r.hasSelection&&(r.hasSelection=null),n.poll()}),os(o,"paste",function(e){Ne(i,e)||el(e,i)||(i.state.pasteIncoming=+new Date,n.fastPoll())}),os(o,"cut",t),os(o,"copy",t),os(e.scroller,"paste",function(t){if(!Et(e,t)&&!Ne(i,t)){if(!o.dispatchEvent)return i.state.pasteIncoming=+new Date,void n.focus();var r=new Event("paste");r.clipboardData=t.clipboardData,o.dispatchEvent(r)}}),os(e.lineSpace,"selectstart",function(t){Et(e,t)||We(t)}),os(o,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),os(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},la.prototype.createField=function(e){this.wrapper=il(),this.textarea=this.wrapper.firstChild},la.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Nr(e);if(e.options.moveInputWithCursor){var i=ur(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return n},la.prototype.showSelection=function(e){var t=this.cm,n=t.display;r(n.cursorDiv,e.cursors),r(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},la.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&Ul(this.textarea),Cl&&Sl>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",Cl&&Sl>=9&&(this.hasSelection=null))}},la.prototype.getField=function(){return this.textarea},la.prototype.supportsTouch=function(){return!1},la.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Hl||l()!=this.textarea))try{this.textarea.focus()}catch(e){}},la.prototype.blur=function(){this.textarea.blur()},la.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},la.prototype.receivedFocus=function(){this.slowPoll()},la.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},la.prototype.fastPoll=function(){function e(){var n=r.poll();n||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))}var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,e)},la.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||as(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(Cl&&Sl>=9&&this.hasSelection===i||Fl&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n=""),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,s=Math.min(n.length,i.length);l<s&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return pn(t,function(){Jo(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},la.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},la.prototype.onKeyPress=function(){Cl&&Sl>=9&&(this.hasSelection=null),this.fastPoll()},la.prototype.onContextMenu=function(e){function t(){if(null!=l.selectionStart){var e=i.somethingSelected(),t=""+(e?l.value:"");l.value="",l.value=t,n.prevInput=e?"":"",l.selectionStart=1,l.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending==r&&(n.contextMenuPending=!1,n.wrapper.style.cssText=f,l.style.cssText=c,Cl&&Sl<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=a),null!=l.selectionStart)){(!Cl||Cl&&Sl<9)&&t();var e=0,s=function(){o.selForContextMenu==i.doc.sel&&0==l.selectionStart&&l.selectionEnd>0&&""==n.prevInput?gn(i,Oi)(i):e++<10?o.detectingSelectAll=setTimeout(s,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(s,200)}}var n=this,i=n.cm,o=i.display,l=n.textarea;n.contextMenuPending&&n.contextMenuPending();var s=kr(i,e),a=o.scroller.scrollTop;if(s&&!Ml){var u=i.options.resetSelectionOnContextMenu;u&&i.doc.sel.contains(s)==-1&&gn(i,xi)(i.doc,Gn(s),_l);var c=l.style.cssText,f=n.wrapper.style.cssText,h=n.wrapper.offsetParent.getBoundingClientRect();n.wrapper.style.cssText="position: static",l.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-h.top-5)+"px; left: "+(e.clientX-h.left-5)+"px;\n      z-index: 1000; background: "+(Cl?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var d;if(Ll&&(d=window.scrollY),o.input.focus(),Ll&&window.scrollTo(null,d),o.input.reset(),i.somethingSelected()||(l.value=n.prevInput=" "),n.contextMenuPending=r,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),Cl&&Sl>=9&&t(),Bl){Pe(e);var p=function(){Te(window,"mouseup",p),setTimeout(r,20)};os(window,"mouseup",p)}else setTimeout(r,50)}},la.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},la.prototype.setUneditable=function(){},la.prototype.needsContentAttribute=!1,jo($o),ol($o);var sa="iter insert remove copy getEditor constructor".split(" ");for(var aa in Rs.prototype)Rs.prototype.hasOwnProperty(aa)&&h(sa,aa)<0&&($o.prototype[aa]=function(e){return function(){return e.apply(this.doc,arguments)}}(Rs.prototype[aa]));return De(Rs),$o.inputStyles={textarea:la,contenteditable:oa},$o.defineMode=function(e){$o.defaults.mode||"null"==e||($o.defaults.mode=e),Ge.apply(this,arguments)},$o.defineMIME=Ue,$o.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),$o.defineMIME("text/plain","null"),$o.defineExtension=function(e,t){$o.prototype[e]=t},$o.defineDocExtension=function(e,t){Rs.prototype[e]=t},$o.fromTextArea=pl,gl($o),$o.version="5.45.0",$o});
},{}],"form-serialize":[function(require,module,exports){
function serialize(e,s){"object"!=typeof s?s={hash:!!s}:void 0===s.hash&&(s.hash=!0);for(var a=s.hash?{}:"",r=s.serializer||(s.hash?hash_serializer:str_serialize),t=e&&e.elements?e.elements:[],i=Object.create(null),n=0;n<t.length;++n){var h=t[n];if((s.disabled||!h.disabled)&&h.name&&k_r_success_contrls.test(h.nodeName)&&!k_r_submitter.test(h.type)){var l=h.name,c=h.value;if("checkbox"!==h.type&&"radio"!==h.type||h.checked||(c=void 0),s.empty){if("checkbox"!==h.type||h.checked||(c=""),"radio"===h.type&&(i[h.name]||h.checked?h.checked&&(i[h.name]=!0):i[h.name]=!1),void 0==c&&"radio"==h.type)continue}else if(!c)continue;if("select-multiple"!==h.type)a=r(a,l,c);else{c=[];for(var u=h.options,o=!1,p=0;p<u.length;++p){var _=u[p],v=s.empty&&!_.value,f=_.value||v;_.selected&&f&&(o=!0,a=s.hash&&"[]"!==l.slice(l.length-2)?r(a,l+"[]",_.value):r(a,l,_.value))}!o&&s.empty&&(a=r(a,l,""))}}}if(s.empty)for(var l in i)i[l]||(a=r(a,l,""));return a}function parse_keys(e){var s=[],a=/^([^\[\]]*)/,r=new RegExp(brackets),t=a.exec(e);for(t[1]&&s.push(t[1]);null!==(t=r.exec(e));)s.push(t[1]);return s}function hash_assign(e,s,a){if(0===s.length)return e=a;var r=s.shift(),t=r.match(/^\[(.+?)\]$/);if("[]"===r)return e=e||[],Array.isArray(e)?e.push(hash_assign(null,s,a)):(e._values=e._values||[],e._values.push(hash_assign(null,s,a))),e;if(t){var i=t[1],n=+i;isNaN(n)?(e=e||{},e[i]=hash_assign(e[i],s,a)):(e=e||[],e[n]=hash_assign(e[n],s,a))}else e[r]=hash_assign(e[r],s,a);return e}function hash_serializer(e,s,a){var r=s.match(brackets);if(r){var t=parse_keys(s);hash_assign(e,t,a)}else{var i=e[s];i?(Array.isArray(i)||(e[s]=[i]),e[s].push(a)):e[s]=a}return e}function str_serialize(e,s,a){return a=a.replace(/(\r)?\n/g,"\r\n"),a=encodeURIComponent(a),a=a.replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(s)+"="+a}var k_r_submitter=/^(?:submit|button|image|reset|file)$/i,k_r_success_contrls=/^(?:input|select|textarea|keygen)/i,brackets=/(\[[^\[\]]*\])/g;module.exports=serialize;
},{}],"jquery-ui/ui/data":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(n){return function(t){return!!e.data(t,n)}}):function(n,t,r){return!!e.data(n,r[3])}})});
},{}],"jquery-ui/ui/ie":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())});
},{}],"jquery-ui/ui/plugin":[function(require,module,exports){
!function(n){"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)}(function(n){return n.ui.plugin={add:function(e,i,o){var t,u=n.ui[e].prototype;for(t in o)u.plugins[t]=u.plugins[t]||[],u.plugins[t].push([i,o[t]])},call:function(n,e,i,o){var t,u=n.plugins[e];if(u&&(o||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(t=0;t<u.length;t++)n.options[u[t][0]]&&u[t][1].apply(n.element,i)}}});
},{}],"jquery-ui/ui/safe-active-element":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeActiveElement=function(e){var n;try{n=e.activeElement}catch(t){n=e.body}return n||(n=e.body),n.nodeName||(n=e.body),n}});
},{}],"jquery-ui/ui/safe-blur":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeBlur=function(n){n&&"body"!==n.nodeName.toLowerCase()&&e(n).trigger("blur")}});
},{}],"jquery-ui/ui/scroll-parent":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.scrollParent=function(t){var n=this.css("position"),o="absolute"===n,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter(function(){var t=e(this);return(!o||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:e(this[0].ownerDocument||document)}});
},{}],"jquery-ui/ui/version":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"});
},{}],"jquery-ui/ui/widgets/draggable":[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var s=this.options;return!(this.helper||s.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(s.iframeFix===!0?"iframe":s.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var s=t.ui.safeActiveElement(this.document[0]),i=t(e.target);i.closest(s).length||t.ui.safeBlur(s)},_mouseStart:function(e){var s=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var s=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",e)!==!1&&s._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var s=this.options,i=t.isFunction(s.helper),o=i?t(s.helper.apply(this.element[0],[e])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),s=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==s&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,i,o=this.options,n=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),s=t(o.containment),i=s[0],void(i&&(e=/(scroll|auto)/.test(s.css("overflow")),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var s="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i,o,n,r=this.options,l=this._isRootNode(this.scrollParent[0]),a=t.pageX,h=t.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(a=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(a=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(a=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,s,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[s,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,s,i){var o=t.extend({},s,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var s=t(this).sortable("instance");s&&!s.options.disabled&&(i.sortables.push(s),s.refreshPositions(),s._trigger("activate",e,o))})},stop:function(e,s,i){var o=t.extend({},s,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))})},drag:function(e,s,i){t.each(i.sortables,function(){var o=!1,n=this;n.positionAbs=i.positionAbs,n.helperProportions=i.helperProportions,n.offset.click=i.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o})),o?(n.isOver||(n.isOver=1,i._parent=s.helper.parent(),n.currentItem=s.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return s.helper[0]},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=i.offset.click.top,n.offset.click.left=i.offset.click.left,n.offset.parent.left-=i.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=i.offset.parent.top-n.offset.parent.top,i._trigger("toSortable",e),i.dropped=n.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,n.fromOutside=i),n.currentItem&&(n._mouseDrag(e),s.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),s.helper.appendTo(i._parent),i._refreshOffsets(e),s.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,s,i){var o=t("body"),n=i.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,s,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,s,i){var o=i.options;o._opacity&&t(s.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,s,i){var o=i.options,n=!1,r=i.scrollParentNotHidden[0],l=i.document[0];r!==l&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(l).scrollTop()<o.scrollSensitivity?n=t(l).scrollTop(t(l).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(l).scrollTop())<o.scrollSensitivity&&(n=t(l).scrollTop(t(l).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(l).scrollLeft()<o.scrollSensitivity?n=t(l).scrollLeft(t(l).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(l).scrollLeft())<o.scrollSensitivity&&(n=t(l).scrollLeft(t(l).scrollLeft()+o.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,s,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),s=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:s.top,left:s.left})})},drag:function(e,s,i){var o,n,r,l,a,h,p,c,f,d,g=i.options,u=g.snapTolerance,m=s.offset.left,v=m+i.helperProportions.width,_=s.offset.top,P=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)a=i.snapElements[f].left-i.margins.left,h=a+i.snapElements[f].width,p=i.snapElements[f].top-i.margins.top,c=p+i.snapElements[f].height,v<a-u||m>h+u||P<p-u||_>c+u||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==g.snapMode&&(o=Math.abs(p-P)<=u,n=Math.abs(c-_)<=u,r=Math.abs(a-v)<=u,l=Math.abs(h-m)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h}).left)),d=o||n||r||l,"outer"!==g.snapMode&&(o=Math.abs(p-_)<=u,n=Math.abs(c-P)<=u,r=Math.abs(a-m)<=u,l=Math.abs(h-v)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(o||n||r||l||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=o||n||r||l||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,s,i){var o,n=i.options,r=t.makeArray(t(n.stack)).sort(function(e,s){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(s).css("zIndex"),10)||0)});r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,s,i){var o=i.options;o._zIndex&&t(s.helper).css("zIndex",o._zIndex)}}),t.ui.draggable});
},{}],"jquery-ui/ui/widgets/mouse":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,o=1===i.which,n=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(o&&!n&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})});
},{}],"jquery-ui/ui/widgets/sortable":[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,r.widgetName+"-item")===r)return s=t(this),!1}),t.data(e.target,r.widgetName+"-item")===r&&(s=t(e.target)),!!s&&(!(this.options.handle&&!i&&(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(o=!0)}),!o))&&(this.currentItem=s,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,s){var o,r,n=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),n.containment&&this._setContainment(),n.cursor&&"auto"!==n.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",n.cursor),this.storedStylesheet=t("<style>*{ cursor: "+n.cursor+" !important; }</style>").appendTo(r)),n.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",n.opacity)),n.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",n.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,o,r,n=this.options,h=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(e.pageY-this.document.scrollTop()<n.scrollSensitivity?h=this.document.scrollTop(this.document.scrollTop()-n.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<n.scrollSensitivity&&(h=this.document.scrollTop(this.document.scrollTop()+n.scrollSpeed)),e.pageX-this.document.scrollLeft()<n.scrollSensitivity?h=this.document.scrollLeft(this.document.scrollLeft()-n.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<n.scrollSensitivity&&(h=this.document.scrollLeft(this.document.scrollLeft()+n.scrollSpeed))),h!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],o=s.item[0],r=this._intersectsWithPointer(s),r&&s.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===o||t.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,o=this.placeholder.offset(),r=this.options.axis,n={};r&&"x"!==r||(n.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(n.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(n,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,o=s+this.helperProportions.height,r=t.left,n=r+t.width,h=t.top,a=h+t.height,l=this.offset.click.top,c=this.offset.click.left,p="x"===this.options.axis||s+l>h&&s+l<a,f="y"===this.options.axis||e+c>r&&e+c<n,u=p&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?u:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<n&&h<s+this.helperProportions.height/2&&o-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=s&&o;return!!r&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){h.push(this)}var s,o,r,n,h=[],a=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(r=t(l[s],this.document[0]),o=r.length-1;o>=0;o--)n=t.data(r[o],this.widgetFullName),n&&n!==this&&!n.options.disabled&&a.push([t.isFunction(n.options.items)?n.options.items.call(n.element):t(n.options.items,n.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),n]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=a.length-1;s>=0;s--)a[s][0].each(i);return t(h)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,o,r,n,h,a,l,c=this.items,p=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(i=f.length-1;i>=0;i--)for(o=t(f[i],this.document[0]),s=o.length-1;s>=0;s--)r=t.data(o[s],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(p.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(i=p.length-1;i>=0;i--)for(n=p[i][1],h=p[i][0],s=0,l=h.length;s<l;s++)a=t(h[s]),a.data(this.widgetName+"-item",n),c.push({item:a,instance:n,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,o,r;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=o.outerWidth(),s.height=o.outerHeight()),r=o.offset(),s.left=r.left,s.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+s+">",e.document[0]);return e._addClass(o,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(o)):"tr"===s?e._createTrPlaceholder(e.currentItem,o):"img"===s&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(t,o){i&&!s.forcePlaceholderSize||(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,o,r,n,h,a,l,c,p,f=null,u=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(f&&t.contains(this.containers[i].element[0],f.element[0]))continue;f=this.containers[i],u=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[u].containerCache.over||(this.containers[u]._trigger("over",e,this._uiHash(this)),this.containers[u].containerCache.over=1);else{for(o=1e4,r=null,c=f.floating||this._isFloating(this.currentItem),n=c?"left":"top",h=c?"width":"height",p=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[u].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(a=this.items[s].item.offset()[n],l=!1,e[p]-a>this.items[s][h]/2&&(l=!0),Math.abs(e[p]-a)<o&&(o=Math.abs(e[p]-a),r=this.items[s],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[u])return void(this.currentContainer.containerCache.over||(this.containers[u]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[u].element,!0),this._trigger("change",e,this._uiHash()),this.containers[u]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[u],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[u]._trigger("over",e,this._uiHash(this)),this.containers[u].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),s[0].style.width&&!i.forceHelperSize||s.width(this.currentItem.width()),s[0].style.height&&!i.forceHelperSize||s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],i=t(o.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*s}},_generatePosition:function(e){var i,s,o=this.options,r=e.pageX,n=e.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(n=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(n=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((n-this.originalPageY)/o.grid[1])*o.grid[1],n=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,s=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-o.grid[0]:s+o.grid[0]:s)),{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:h.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:h.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)"auto"!==this._storedCSS[s]&&"static"!==this._storedCSS[s]||(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||o.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(o.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;s<o.length;s++)o[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})});
},{}],"jquery-ui/ui/widget":[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){var e=0,i=Array.prototype.slice;return t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0];e=e.split(".")[1];var u=l+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?void(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(r[e]=s)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var s,n,o=i.call(arguments,1),a=0,r=o.length;a<r;a++)for(s in o[a])n=o[a][s],o[a].hasOwnProperty(s)&&void 0!==n&&(t.isPlainObject(n)?e[s]=t.isPlainObject(e[s])?t.widget.extend({},e[s],n):t.widget.extend({},n):e[s]=n);return e},t.widget.bridge=function(e,s){var n=s.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=i.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var i,s=t.data(this,n);return"instance"===o?(l=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r),i!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each(function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new s(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;r<i.length;r++)a=n.classesElementLookup[i[r]]||t(),a=t(e.add?t.unique(a.get().concat(e.element.get())):a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){t.inArray(e.target,n)!==-1&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?n.on(u,h,r):i.on(u,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget});
},{}],"jquery.cookie":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function o(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(c," ")),u.json?JSON.parse(e):e}catch(n){}}function t(n,o){var i=u.raw?n:r(n);return e.isFunction(o)?o(i):i}var c=/\+/g,u=e.cookie=function(r,c,f){if(void 0!==c&&!e.isFunction(c)){if(f=e.extend({},u.defaults,f),"number"==typeof f.expires){var a=f.expires,d=f.expires=new Date;d.setTime(+d+864e5*a)}return document.cookie=[n(r),"=",i(c),f.expires?"; expires="+f.expires.toUTCString():"",f.path?"; path="+f.path:"",f.domain?"; domain="+f.domain:"",f.secure?"; secure":""].join("")}for(var p=r?void 0:{},s=document.cookie?document.cookie.split("; "):[],m=0,x=s.length;m<x;m++){var v=s[m].split("="),k=o(v.shift()),l=v.join("=");if(r&&r===k){p=t(l,c);break}r||void 0===(l=t(l))||(p[k]=l)}return p};u.defaults={},e.removeCookie=function(n,o){return void 0!==e.cookie(n)&&(e.cookie(n,"",e.extend({},o,{expires:-1})),!e.cookie(n))}});
},{"jquery":"jquery"}],"jquery":[function(require,module,exports){
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){t=t||ae;var r,i=t.createElement("script");if(i.text=e,n)for(r in be)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function r(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?pe[de.call(e)]||"object":typeof e}function i(e){var t=!!e&&"length"in e&&e.length,n=r(e);return!me(e)&&!xe(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function a(e,t,n){return me(t)?Te.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?Te.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Te.grep(e,function(e){return fe.call(t,e)>-1!==n}):Te.filter(t,e,n)}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return Te.each(e.match(Oe)||[],function(e,n){t[n]=!0}),t}function l(e){return e}function c(e){throw e}function f(e,t,n,r){var i;try{e&&me(i=e.promise)?i.call(e).done(t).fail(n):e&&me(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function p(){ae.removeEventListener("DOMContentLoaded",p),e.removeEventListener("load",p),Te.ready()}function d(e,t){return t.toUpperCase()}function h(e){return e.replace(Ie,"ms-").replace(We,d)}function g(){this.expando=Te.expando+g.uid++}function y(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:_e.test(e)?JSON.parse(e):e)}function v(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ze,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=y(n)}catch(i){}Fe.set(e,t,n)}else n=void 0;return n}function m(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return Te.css(e,t,"")},u=s(),l=n&&n[3]||(Te.cssNumber[t]?"":"px"),c=(Te.cssNumber[t]||"px"!==l&&+u)&&Ue.exec(Te.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)Te.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c=2*c,Te.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function x(e){var t,n=e.ownerDocument,r=e.nodeName,i=Qe[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=Te.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Qe[r]=i,i)}function b(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=Be.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Ge(r)&&(i[o]=x(r))):"none"!==n&&(i[o]="none",Be.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function w(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&o(e,t)?Te.merge([e],n):n}function T(e,t){for(var n=0,r=e.length;n<r;n++)Be.set(e[n],"globalEval",!t||Be.get(t[n],"globalEval"))}function C(e,t,n,i,o){for(var a,s,u,l,c,f,p=t.createDocumentFragment(),d=[],h=0,g=e.length;h<g;h++)if(a=e[h],a||0===a)if("object"===r(a))Te.merge(d,a.nodeType?[a]:a);else if(tt.test(a)){for(s=s||p.appendChild(t.createElement("div")),u=(Ke.exec(a)||["",""])[1].toLowerCase(),l=et[u]||et._default,s.innerHTML=l[1]+Te.htmlPrefilter(a)+l[2],f=l[0];f--;)s=s.lastChild;Te.merge(d,s.childNodes),s=p.firstChild,s.textContent=""}else d.push(t.createTextNode(a));for(p.textContent="",h=0;a=d[h++];)if(i&&Te.inArray(a,i)>-1)o&&o.push(a);else if(c=Te.contains(a.ownerDocument,a),s=w(p.appendChild(a),"script"),c&&T(s),n)for(f=0;a=s[f++];)Ze.test(a.type||"")&&n.push(a);return p}function E(){return!0}function k(){return!1}function S(){try{return ae.activeElement}catch(e){}}function D(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)D(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=k;else if(!i)return e;return 1===o&&(a=i,i=function(e){return Te().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=Te.guid++)),e.each(function(){Te.event.add(this,t,i,r,n)})}function N(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")?Te(e).children("tbody")[0]||e:e}function A(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function j(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function q(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Be.hasData(e)&&(o=Be.access(e),a=Be.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)Te.event.add(t,i,l[i][n])}Fe.hasData(e)&&(s=Fe.access(e),u=Te.extend({},s),Fe.set(t,u))}}function L(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Je.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function H(e,t,r,i){t=le.apply([],t);var o,a,s,u,l,c,f=0,p=e.length,d=p-1,h=t[0],g=me(h);if(g||p>1&&"string"==typeof h&&!ve.checkClone&&ut.test(h))return e.each(function(n){var o=e.eq(n);g&&(t[0]=h.call(this,n,o.html())),H(o,t,r,i)});if(p&&(o=C(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=Te.map(w(o,"script"),A),u=s.length;f<p;f++)l=o,f!==d&&(l=Te.clone(l,!0,!0),u&&Te.merge(s,w(l,"script"))),r.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,Te.map(s,j),f=0;f<u;f++)l=s[f],Ze.test(l.type||"")&&!Be.access(l,"globalEval")&&Te.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?Te._evalUrl&&Te._evalUrl(l.src):n(l.textContent.replace(lt,""),c,l))}return e}function O(e,t,n){for(var r,i=t?Te.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||Te.cleanData(w(r)),r.parentNode&&(n&&Te.contains(r.ownerDocument,r)&&T(w(r,"script")),r.parentNode.removeChild(r));return e}function P(e,t,n){var r,i,o,a,s=e.style;return n=n||ft(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||Te.contains(e.ownerDocument,e)||(a=Te.style(e,t)),!ve.pixelBoxStyles()&&ct.test(a)&&pt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function M(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function R(e){if(e in mt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=vt.length;n--;)if(e=vt[n]+t,e in mt)return e}function I(e){var t=Te.cssProps[e];return t||(t=Te.cssProps[e]=R(e)||e),t}function W(e,t,n){var r=Ue.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function $(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=Te.css(e,n+Ve[a],!0,i)),r?("content"===n&&(u-=Te.css(e,"padding"+Ve[a],!0,i)),"margin"!==n&&(u-=Te.css(e,"border"+Ve[a]+"Width",!0,i))):(u+=Te.css(e,"padding"+Ve[a],!0,i),"padding"!==n?u+=Te.css(e,"border"+Ve[a]+"Width",!0,i):s+=Te.css(e,"border"+Ve[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function B(e,t,n){var r=ft(e),i=P(e,t,r),o="border-box"===Te.css(e,"boxSizing",!1,r),a=o;if(ct.test(i)){if(!n)return i;i="auto"}return a=a&&(ve.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===Te.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),i=parseFloat(i)||0,i+$(e,t,n||(o?"border":"content"),a,r,i)+"px"}function F(e,t,n,r,i){return new F.prototype.init(e,t,n,r,i)}function _(){bt&&(ae.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(_):e.setTimeout(_,Te.fx.interval),Te.fx.tick())}function z(){return e.setTimeout(function(){xt=void 0}),xt=Date.now()}function X(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Ve[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e,t,n){for(var r,i=(Y.tweeners[t]||[]).concat(Y.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function V(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&Ge(e),y=Be.get(e,"fxshow");n.queue||(a=Te._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,Te.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],wt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||Te.style(e,r)}if(u=!Te.isEmptyObject(t),u||!Te.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=y&&y.display,null==l&&(l=Be.get(e,"display")),c=Te.css(e,"display"),"none"===c&&(l?c=l:(b([e],!0),l=e.style.display||l,c=Te.css(e,"display"),b([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===Te.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?"hidden"in y&&(g=y.hidden):y=Be.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&b([e],!0),p.done(function(){g||b([e]),Be.remove(e,"fxshow");for(r in d)Te.style(e,r,d[r])})),u=U(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}}function G(e,t){var n,r,i,o,a;for(n in e)if(r=h(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=Te.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function Y(e,t,n){var r,i,o=0,a=Y.prefilters.length,s=Te.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=xt||z(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(u||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Te.extend({},t),opts:Te.extend(!0,{specialEasing:{},easing:Te.easing._default},n),originalProperties:t,originalOptions:n,startTime:xt||z(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Te.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(G(c,l.opts.specialEasing);o<a;o++)if(r=Y.prefilters[o].call(l,e,c,l.opts))return me(r.stop)&&(Te._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return Te.map(c,U,l),me(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),Te.fx.timer(Te.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}function Q(e){var t=e.match(Oe)||[];return t.join(" ")}function J(e){return e.getAttribute&&e.getAttribute("class")||""}function K(e){return Array.isArray(e)?e:"string"==typeof e?e.match(Oe)||[]:[]}function Z(e,t,n,i){var o;if(Array.isArray(t))Te.each(t,function(t,r){n||Ht.test(e)?i(e,r):Z(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==r(t))i(e,t);else for(o in t)Z(e+"["+o+"]",t[o],n,i)}function ee(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Oe)||[];if(me(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function te(e,t,n,r){function i(s){var u;return o[s]=!0,Te.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Xt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function ne(e,t){var n,r,i=Te.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Te.extend(!0,e,r),e}function re(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function ie(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}var oe=[],ae=e.document,se=Object.getPrototypeOf,ue=oe.slice,le=oe.concat,ce=oe.push,fe=oe.indexOf,pe={},de=pe.toString,he=pe.hasOwnProperty,ge=he.toString,ye=ge.call(Object),ve={},me=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},xe=function(e){return null!=e&&e===e.window},be={type:!0,src:!0,noModule:!0},we="3.3.1",Te=function(e,t){return new Te.fn.init(e,t)},Ce=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Te.fn=Te.prototype={jquery:we,constructor:Te,length:0,toArray:function(){return ue.call(this)},get:function(e){return null==e?ue.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Te.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Te.each(this,e)},map:function(e){return this.pushStack(Te.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ue.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ce,sort:oe.sort,splice:oe.splice},Te.extend=Te.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||me(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(Te.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&Te.isPlainObject(n)?n:{},a[t]=Te.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},Te.extend({expando:"jQuery"+(we+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==de.call(e))&&(!(t=se(e))||(n=he.call(t,"constructor")&&t.constructor,"function"==typeof n&&ge.call(n)===ye))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){n(e)},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(Ce,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?Te.merge(n,"string"==typeof e?[e]:e):ce.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:fe.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,o,a=0,s=[];if(i(e))for(r=e.length;a<r;a++)o=t(e[a],a,n),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,n),null!=o&&s.push(o);return le.apply([],s)},guid:1,support:ve}),"function"==typeof Symbol&&(Te.fn[Symbol.iterator]=oe[Symbol.iterator]),Te.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){pe["[object "+t+"]"]=t.toLowerCase()});var Ee=function(e){function t(e,t,n,r){var i,o,a,s,u,l,c,p=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:B)!==H&&L(t),t=t||H,P)){if(11!==h&&(u=ve.exec(e)))if(i=u[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(p&&(a=p.getElementById(i))&&W(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return K.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&T.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(i)),n}if(T.qsa&&!U[e+" "]&&(!M||!M.test(e))){if(1!==h)p=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(we,Te):t.setAttribute("id",s=$),l=S(e),o=l.length;o--;)l[o]="#"+s+" "+d(l[o]);c=l.join(","),p=me.test(e)&&f(t.parentNode)||t}if(c)try{return K.apply(n,p.querySelectorAll(c)),n}catch(g){}finally{s===$&&t.removeAttribute("id")}}}return N(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[$]=!0,e}function i(e){var t=H.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)C.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ee(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function f(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=_++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[F,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[$]||(t[$]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===F&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function g(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function y(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function v(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function m(e,t,n,i,o,a){return i&&!i[$]&&(i=m(i)),o&&!o[$]&&(o=m(o,a)),r(function(r,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=r||y(t||"*",s.nodeType?[s]:s,[]),m=!e||!r&&t?g:v(g,p,e,s,u),x=n?o||(r?e:h||i)?[]:a:m;if(n&&n(m,x,s,u),i)for(l=v(x,d),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(m[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(m[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?ee(r,f):p[c])>-1&&(r[l]=!(a[l]=f))}}else x=v(x===a?x.splice(h,x.length):x),o?o(null,a,x,u):K.apply(a,x)})}function x(e){for(var t,n,r,i=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,u=h(function(e){return e===t},a,!0),l=h(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=C.relative[e[s].type])c=[h(g(c),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[$]){for(r=++s;r<i&&!C.relative[e[r].type];r++);return m(s>1&&g(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&x(e.slice(s,r)),r<i&&x(e=e.slice(r)),r<i&&d(e))}c.push(n)}return g(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,f,p,d=0,h="0",g=r&&[],y=[],m=A,x=r||o&&C.find.TAG("*",l),b=F+=null==m?1:Math.random()||.1,w=x.length;for(l&&(A=a===H||a||l);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0,a||c.ownerDocument===H||(L(c),s=!P);p=e[f++];)if(p(c,a||H,s)){u.push(c);break}l&&(F=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,y,a,s);if(r){if(d>0)for(;h--;)g[h]||y[h]||(y[h]=Q.call(u));y=v(y)}K.apply(u,y),l&&!r&&y.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(F=b,A=m),g};return i?r(a):a}var w,T,C,E,k,S,D,N,A,j,q,L,H,O,P,M,R,I,W,$="sizzle"+1*new Date,B=e.document,F=0,_=0,z=n(),X=n(),U=n(),V=function(e,t){return e===t&&(q=!0),0},G={}.hasOwnProperty,Y=[],Q=Y.pop,J=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(oe),pe=new RegExp("^"+re+"$"),de={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),be=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Te=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ce=function(){L()},Ee=h(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{K.apply(Y=Z.call(B.childNodes),B.childNodes),Y[B.childNodes.length].nodeType}catch(ke){K={apply:Y.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}T=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,O=H.documentElement,P=!k(H),B!==H&&(n=H.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),T.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=i(function(e){return e.appendChild(H.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=ye.test(H.getElementsByClassName),T.getById=i(function(e){return O.appendChild(e).id=$,!H.getElementsByName||!H.getElementsByName($).length}),T.getById?(C.filter.ID=function(e){var t=e.replace(xe,be);return function(e){return e.getAttribute("id")===t}},C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}}):(C.filter.ID=function(e){var t=e.replace(xe,be);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),C.find.TAG=T.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):T.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=T.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&P)return t.getElementsByClassName(e)},R=[],M=[],(T.qsa=ye.test(H.querySelectorAll))&&(i(function(e){O.appendChild(e).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+$+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+$+"+*").length||M.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=H.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&M.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(T.matchesSelector=ye.test(I=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(e){T.disconnectedMatch=I.call(e,"*"),I.call(e,"[s!='']:x"),R.push("!=",oe)}),M=M.length&&new RegExp(M.join("|")),R=R.length&&new RegExp(R.join("|")),t=ye.test(O.compareDocumentPosition),W=t||ye.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return q=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!T.sortDetached&&t.compareDocumentPosition(e)===n?e===H||e.ownerDocument===B&&W(B,e)?-1:t===H||t.ownerDocument===B&&W(B,t)?1:j?ee(j,e)-ee(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return q=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===H?-1:t===H?1:i?-1:o?1:j?ee(j,e)-ee(j,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===B?-1:u[r]===B?1:0},H):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(ce,"='$1']"),T.matchesSelector&&P&&!U[n+" "]&&(!R||!R.test(n))&&(!M||!M.test(n)))try{var r=I.call(e,n);if(r||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),W(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=C.attrHandle[t.toLowerCase()],r=n&&G.call(C.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==r?r:T.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(we,Te)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(q=!T.detectDuplicates,j=!T.sortStable&&e.slice(0),e.sort(V),q){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return j=null,e},E=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},C=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,be),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(y){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){for(p=y,f=p[$]||(p[$]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===F&&l[1],x=d&&l[2],p=d&&y.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[F,d,x];break}}else if(m&&(p=t,f=p[$]||(p[$]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===F&&l[1],x=d),x===!1)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++x||(m&&(f=p[$]||(p[$]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),c[e]=[F,x]),p!==t)););return x-=i,x===r||x%r===0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[$]?o(n):o.length>1?(i=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=D(e.replace(se,"$1"));return i[$]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(xe,be),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,be).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){
return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=u(w);return p.prototype=C.filters=C.pseudos,C.setFilters=new p,S=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=X[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=C.preFilter;s;){r&&!(i=ue.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in C.filter)!(i=de[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):X(e,u).slice(0)},D=t.compile=function(e,t){var n,r=[],i=[],o=U[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)o=x(t[n]),o[$]?r.push(o):i.push(o);o=U(e,b(i,r)),o.selector=e}return o},N=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&S(e=l.selector||e);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&P&&C.relative[o[1].type]){if(t=(C.find.ID(a.matches[0].replace(xe,be),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(a=o[i],!C.relative[s=a.type]);)if((u=C.find[s])&&(r=u(a.matches[0].replace(xe,be),me.test(o[0].type)&&f(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return K.apply(n,r),n;break}}return(l||D(e,c))(r,t,!P,n,!t||me.test(e)&&f(t.parentNode)||t),n},T.sortStable=$.split("").sort(V).join("")===$,T.detectDuplicates=!!q,L(),T.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Te.find=Ee,Te.expr=Ee.selectors,Te.expr[":"]=Te.expr.pseudos,Te.uniqueSort=Te.unique=Ee.uniqueSort,Te.text=Ee.getText,Te.isXMLDoc=Ee.isXML,Te.contains=Ee.contains,Te.escapeSelector=Ee.escape;var ke=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Te(e).is(n))break;r.push(e)}return r},Se=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},De=Te.expr.match.needsContext,Ne=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Te.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Te.find.matchesSelector(r,e)?[r]:[]:Te.find.matches(e,Te.grep(t,function(e){return 1===e.nodeType}))},Te.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(Te(e).filter(function(){for(t=0;t<r;t++)if(Te.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Te.find(e,i[t],n);return r>1?Te.uniqueSort(n):n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&De.test(e)?Te(e):e||[],!1).length}});var Ae,je=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,qe=Te.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Ae,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:je.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Te?t[0]:t,Te.merge(this,Te.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:ae,!0)),Ne.test(r[1])&&Te.isPlainObject(t))for(r in t)me(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=ae.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):me(e)?void 0!==n.ready?n.ready(e):e(Te):Te.makeArray(e,this)};qe.prototype=Te.fn,Ae=Te(ae);var Le=/^(?:parents|prev(?:Until|All))/,He={children:!0,contents:!0,next:!0,prev:!0};Te.fn.extend({has:function(e){var t=Te(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Te.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&Te(e);if(!De.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Te.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Te.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?fe.call(Te(e),this[0]):fe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Te.uniqueSort(Te.merge(this.get(),Te(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Te.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ke(e,"parentNode")},parentsUntil:function(e,t,n){return ke(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return ke(e,"nextSibling")},prevAll:function(e){return ke(e,"previousSibling")},nextUntil:function(e,t,n){return ke(e,"nextSibling",n)},prevUntil:function(e,t,n){return ke(e,"previousSibling",n)},siblings:function(e){return Se((e.parentNode||{}).firstChild,e)},children:function(e){return Se(e.firstChild)},contents:function(e){return o(e,"iframe")?e.contentDocument:(o(e,"template")&&(e=e.content||e),Te.merge([],e.childNodes))}},function(e,t){Te.fn[e]=function(n,r){var i=Te.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Te.filter(r,i)),this.length>1&&(He[e]||Te.uniqueSort(i),Le.test(e)&&i.reverse()),this.pushStack(i)}});var Oe=/[^\x20\t\r\n\f]+/g;Te.Callbacks=function(e){e="string"==typeof e?u(e):Te.extend({},e);var t,n,i,o,a=[],s=[],l=-1,c=function(){for(o=o||e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},f={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function i(t){Te.each(t,function(t,n){me(n)?e.unique&&f.has(n)||a.push(n):n&&n.length&&"string"!==r(n)&&i(n)})}(arguments),n&&!t&&c()),this},remove:function(){return Te.each(arguments,function(e,t){for(var n;(n=Te.inArray(t,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(e){return e?Te.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||t||(a=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},Te.extend({Deferred:function(t){var n=[["notify","progress",Te.Callbacks("memory"),Te.Callbacks("memory"),2],["resolve","done",Te.Callbacks("once memory"),Te.Callbacks("once memory"),0,"resolved"],["reject","fail",Te.Callbacks("once memory"),Te.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return Te.Deferred(function(t){Te.each(n,function(n,r){var i=me(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&me(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var s=this,u=arguments,f=function(){var e,f;if(!(t<a)){if(e=r.apply(s,u),e===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==typeof e||"function"==typeof e)&&e.then,me(f)?i?f.call(e,o(a,n,l,i),o(a,n,c,i)):(a++,f.call(e,o(a,n,l,i),o(a,n,c,i),o(a,n,l,n.notifyWith))):(r!==l&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},p=i?f:function(){try{f()}catch(e){Te.Deferred.exceptionHook&&Te.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(r!==c&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?p():(Te.Deferred.getStackHook&&(p.stackTrace=Te.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return Te.Deferred(function(e){n[0][3].add(o(0,e,me(i)?i:l,e.notifyWith)),n[1][3].add(o(0,e,me(t)?t:l)),n[2][3].add(o(0,e,me(r)?r:c))}).promise()},promise:function(e){return null!=e?Te.extend(e,i):i}},o={};return Te.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=ue.call(arguments),o=Te.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?ue.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(f(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||me(i[n]&&i[n].then)))return o.then();for(;n--;)f(i[n],a(n),o.reject);return o.promise()}});var Pe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Te.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Pe.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},Te.readyException=function(t){e.setTimeout(function(){throw t})};var Me=Te.Deferred();Te.fn.ready=function(e){return Me.then(e)["catch"](function(e){Te.readyException(e)}),this},Te.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--Te.readyWait:Te.isReady)||(Te.isReady=!0,e!==!0&&--Te.readyWait>0||Me.resolveWith(ae,[Te]))}}),Te.ready.then=Me.then,"complete"===ae.readyState||"loading"!==ae.readyState&&!ae.documentElement.doScroll?e.setTimeout(Te.ready):(ae.addEventListener("DOMContentLoaded",p),e.addEventListener("load",p));var Re=function(e,t,n,i,o,a,s){var u=0,l=e.length,c=null==n;if("object"===r(n)){o=!0;for(u in n)Re(e,t,u,n[u],!0,a,s)}else if(void 0!==i&&(o=!0,me(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(Te(e),n)})),t))for(;u<l;u++)t(e[u],n,s?i:i.call(e[u],u,t(e[u],n)));return o?e:c?t.call(e):l?t(e[0],n):a},Ie=/^-ms-/,We=/-([a-z])/g,$e=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$e(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[h(t)]=n;else for(r in t)i[h(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(h):(t=h(t),t=t in r?[t]:t.match(Oe)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||Te.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Te.isEmptyObject(t)}};var Be=new g,Fe=new g,_e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ze=/[A-Z]/g;Te.extend({hasData:function(e){return Fe.hasData(e)||Be.hasData(e)},data:function(e,t,n){return Fe.access(e,t,n)},removeData:function(e,t){Fe.remove(e,t)},_data:function(e,t,n){return Be.access(e,t,n)},_removeData:function(e,t){Be.remove(e,t)}}),Te.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Fe.get(o),1===o.nodeType&&!Be.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=h(r.slice(5)),v(o,r,i[r])));Be.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Fe.set(this,e)}):Re(this,function(t){var n;if(o&&void 0===t){if(n=Fe.get(o,e),void 0!==n)return n;if(n=v(o,e),void 0!==n)return n}else this.each(function(){Fe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Fe.remove(this,e)})}}),Te.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Be.get(e,t),n&&(!r||Array.isArray(n)?r=Be.access(e,t,Te.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Te.queue(e,t),r=n.length,i=n.shift(),o=Te._queueHooks(e,t),a=function(){Te.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Be.get(e,n)||Be.access(e,n,{empty:Te.Callbacks("once memory").add(function(){Be.remove(e,[t+"queue",n])})})}}),Te.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Te.queue(this[0],e):void 0===t?this:this.each(function(){var n=Te.queue(this,e,t);Te._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Te.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Te.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Te.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Be.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ue=new RegExp("^(?:([+-])=|)("+Xe+")([a-z%]*)$","i"),Ve=["Top","Right","Bottom","Left"],Ge=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Te.contains(e.ownerDocument,e)&&"none"===Te.css(e,"display")},Ye=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Qe={};Te.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ge(this)?Te(this).show():Te(this).hide()})}});var Je=/^(?:checkbox|radio)$/i,Ke=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ze=/^$|^module$|\/(?:java|ecma)script/i,et={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};et.optgroup=et.option,et.tbody=et.tfoot=et.colgroup=et.caption=et.thead,et.th=et.td;var tt=/<|&#?\w+;/;!function(){var e=ae.createDocumentFragment(),t=e.appendChild(ae.createElement("div")),n=ae.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ve.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ve.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var nt=ae.documentElement,rt=/^key/,it=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ot=/^([^.]*)(?:\.(.+)|)/;Te.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Be.get(e);if(y)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&Te.find.matchesSelector(nt,i),n.guid||(n.guid=Te.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return"undefined"!=typeof Te&&Te.event.triggered!==t.type?Te.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Oe)||[""],l=t.length;l--;)s=ot.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d&&(f=Te.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Te.event.special[d]||{},c=Te.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Te.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Te.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Be.hasData(e)&&Be.get(e);if(y&&(u=y.events)){for(t=(t||"").match(Oe)||[""],l=t.length;l--;)if(s=ot.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(f=Te.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&f.teardown.call(e,h,y.handle)!==!1||Te.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)Te.event.remove(e,d+t[l],n,r,!0);Te.isEmptyObject(u)&&Be.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=Te.event.fix(e),u=new Array(arguments.length),l=(Be.get(this,"events")||{})[s.type]||[],c=Te.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(a=Te.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,r=((Te.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&(s.result=r)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||l.disabled!==!0)){for(o=[],a={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?Te(i,this).index(l)>-1:Te.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(Te.Event.prototype,e,{enumerable:!0,configurable:!0,get:me(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Te.expando]?e:new Te.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==S()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===S()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&o(this,"input"))return this.click(),!1},_default:function(e){return o(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Te.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Te.Event=function(e,t){return this instanceof Te.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?E:k,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Te.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),void(this[Te.expando]=!0)):new Te.Event(e,t)},Te.Event.prototype={constructor:Te.Event,isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=E,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=E,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=E,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Te.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&rt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&it.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Te.event.addProp),Te.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Te.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||Te.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Te.fn.extend({on:function(e,t,n,r){return D(this,e,t,n,r)},one:function(e,t,n,r){return D(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Te(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=k),this.each(function(){Te.event.remove(this,e,n,t)})}});var at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,st=/<script|<style|<link/i,ut=/checked\s*(?:[^=]|=\s*.checked.)/i,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Te.extend({htmlPrefilter:function(e){return e.replace(at,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=Te.contains(e.ownerDocument,e);if(!(ve.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Te.isXMLDoc(e)))for(a=w(s),o=w(e),r=0,i=o.length;r<i;r++)L(o[r],a[r]);if(t)if(n)for(o=o||w(e),a=a||w(s),r=0,i=o.length;r<i;r++)q(o[r],a[r]);else q(e,s);return a=w(s,"script"),a.length>0&&T(a,!u&&w(e,"script")),s},cleanData:function(e){for(var t,n,r,i=Te.event.special,o=0;void 0!==(n=e[o]);o++)if($e(n)){if(t=n[Be.expando]){if(t.events)for(r in t.events)i[r]?Te.event.remove(n,r):Te.removeEvent(n,r,t.handle);n[Be.expando]=void 0}n[Fe.expando]&&(n[Fe.expando]=void 0)}}}),Te.fn.extend({detach:function(e){return O(this,e,!0)},remove:function(e){return O(this,e)},text:function(e){return Re(this,function(e){return void 0===e?Te.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return H(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=N(this,e);t.appendChild(e)}})},prepend:function(){return H(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=N(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return H(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return H(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Te.cleanData(w(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Te.clone(this,e,t)})},html:function(e){return Re(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!st.test(e)&&!et[(Ke.exec(e)||["",""])[1].toLowerCase()]){e=Te.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Te.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return H(this,arguments,function(t){var n=this.parentNode;Te.inArray(this,e)<0&&(Te.cleanData(w(this)),n&&n.replaceChild(t,this))},e)}}),Te.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Te.fn[e]=function(e){for(var n,r=[],i=Te(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),Te(i[a])[t](n),ce.apply(r,n.get());return this.pushStack(r)}});var ct=new RegExp("^("+Xe+")(?!px)[a-z%]+$","i"),ft=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},pt=new RegExp(Ve.join("|"),"i");!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(u).appendChild(l);var t=e.getComputedStyle(l);r="1%"!==t.top,s=12===n(t.marginLeft),l.style.right="60%",a=36===n(t.right),i=36===n(t.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",nt.removeChild(u),l=null}}function n(e){return Math.round(parseFloat(e))}var r,i,o,a,s,u=ae.createElement("div"),l=ae.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ve.clearCloneStyle="content-box"===l.style.backgroundClip,Te.extend(ve,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),o}}))}();var dt=/^(none|table(?!-c[ea]).+)/,ht=/^--/,gt={position:"absolute",visibility:"hidden",display:"block"},yt={letterSpacing:"0",fontWeight:"400"},vt=["Webkit","Moz","ms"],mt=ae.createElement("div").style;Te.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=P(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=h(t),u=ht.test(t),l=e.style;return u||(t=I(s)),a=Te.cssHooks[t]||Te.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:(o=typeof n,"string"===o&&(i=Ue.exec(n))&&i[1]&&(n=m(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(Te.cssNumber[s]?"":"px")),ve.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=h(t),u=ht.test(t);return u||(t=I(s)),a=Te.cssHooks[t]||Te.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=P(e,t,r)),"normal"===i&&t in yt&&(i=yt[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),Te.each(["height","width"],function(e,t){Te.cssHooks[t]={get:function(e,n,r){if(n)return!dt.test(Te.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?B(e,t,r):Ye(e,gt,function(){return B(e,t,r)})},set:function(e,n,r){var i,o=ft(e),a="border-box"===Te.css(e,"boxSizing",!1,o),s=r&&$(e,t,r,a,o);return a&&ve.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-$(e,t,"border",!1,o)-.5)),s&&(i=Ue.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=Te.css(e,t)),W(e,n,s)}}}),Te.cssHooks.marginLeft=M(ve.reliableMarginLeft,function(e,t){if(t)return(parseFloat(P(e,"marginLeft"))||e.getBoundingClientRect().left-Ye(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Te.each({margin:"",padding:"",border:"Width"},function(e,t){Te.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ve[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(Te.cssHooks[e+t].set=W)}),Te.fn.extend({css:function(e,t){return Re(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=ft(e),i=t.length;a<i;a++)o[t[a]]=Te.css(e,t[a],!1,r);return o}return void 0!==n?Te.style(e,t,n):Te.css(e,t)},e,t,arguments.length>1)}}),Te.Tween=F,F.prototype={constructor:F,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||Te.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Te.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.options.duration?this.pos=t=Te.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Te.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Te.fx.step[e.prop]?Te.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[Te.cssProps[e.prop]]&&!Te.cssHooks[e.prop]?e.elem[e.prop]=e.now:Te.style(e.elem,e.prop,e.now+e.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Te.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Te.fx=F.prototype.init,Te.fx.step={};var xt,bt,wt=/^(?:toggle|show|hide)$/,Tt=/queueHooks$/;Te.Animation=Te.extend(Y,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return m(n.elem,e,Ue.exec(t),n),n}]},tweener:function(e,t){me(e)?(t=e,e=["*"]):e=e.match(Oe);for(var n,r=0,i=e.length;r<i;r++)n=e[r],Y.tweeners[n]=Y.tweeners[n]||[],Y.tweeners[n].unshift(t)},prefilters:[V],prefilter:function(e,t){t?Y.prefilters.unshift(e):Y.prefilters.push(e)}}),Te.speed=function(e,t,n){var r=e&&"object"==typeof e?Te.extend({},e):{complete:n||!n&&t||me(e)&&e,duration:e,easing:n&&t||t&&!me(t)&&t};return Te.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in Te.fx.speeds?r.duration=Te.fx.speeds[r.duration]:r.duration=Te.fx.speeds._default),null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){me(r.old)&&r.old.call(this),r.queue&&Te.dequeue(this,r.queue)},r},Te.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ge).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Te.isEmptyObject(e),o=Te.speed(t,n,r),a=function(){var t=Y(this,Te.extend({},e),o);(i||Be.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Te.timers,a=Be.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Tt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),
t=!1,o.splice(i,1));!t&&n||Te.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Be.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Te.timers,a=r?r.length:0;for(n.finish=!0,Te.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Te.each(["toggle","show","hide"],function(e,t){var n=Te.fn[t];Te.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(X(t,!0),e,r,i)}}),Te.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Te.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Te.timers=[],Te.fx.tick=function(){var e,t=0,n=Te.timers;for(xt=Date.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Te.fx.stop(),xt=void 0},Te.fx.timer=function(e){Te.timers.push(e),Te.fx.start()},Te.fx.interval=13,Te.fx.start=function(){bt||(bt=!0,_())},Te.fx.stop=function(){bt=null},Te.fx.speeds={slow:600,fast:200,_default:400},Te.fn.delay=function(t,n){return t=Te.fx?Te.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=ae.createElement("input"),t=ae.createElement("select"),n=t.appendChild(ae.createElement("option"));e.type="checkbox",ve.checkOn=""!==e.value,ve.optSelected=n.selected,e=ae.createElement("input"),e.value="t",e.type="radio",ve.radioValue="t"===e.value}();var Ct,Et=Te.expr.attrHandle;Te.fn.extend({attr:function(e,t){return Re(this,Te.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Te.removeAttr(this,e)})}}),Te.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?Te.prop(e,t,n):(1===o&&Te.isXMLDoc(e)||(i=Te.attrHooks[t.toLowerCase()]||(Te.expr.match.bool.test(t)?Ct:void 0)),void 0!==n?null===n?void Te.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Te.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!ve.radioValue&&"radio"===t&&o(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Oe);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Ct={set:function(e,t,n){return t===!1?Te.removeAttr(e,n):e.setAttribute(n,n),n}},Te.each(Te.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Et[t]||Te.find.attr;Et[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=Et[a],Et[a]=i,i=null!=n(e,t,r)?a:null,Et[a]=o),i}});var kt=/^(?:input|select|textarea|button)$/i,St=/^(?:a|area)$/i;Te.fn.extend({prop:function(e,t){return Re(this,Te.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Te.propFix[e]||e]})}}),Te.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&Te.isXMLDoc(e)||(t=Te.propFix[t]||t,i=Te.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Te.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ve.optSelected||(Te.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Te.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Te.propFix[this.toLowerCase()]=this}),Te.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(me(e))return this.each(function(t){Te(this).addClass(e.call(this,t,J(this)))});if(t=K(e),t.length)for(;n=this[u++];)if(i=J(n),r=1===n.nodeType&&" "+Q(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=Q(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(me(e))return this.each(function(t){Te(this).removeClass(e.call(this,t,J(this)))});if(!arguments.length)return this.attr("class","");if(t=K(e),t.length)for(;n=this[u++];)if(i=J(n),r=1===n.nodeType&&" "+Q(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=Q(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):me(e)?this.each(function(n){Te(this).toggleClass(e.call(this,n,J(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=Te(this),a=K(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=J(this),t&&Be.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Be.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Q(J(n))+" ").indexOf(t)>-1)return!0;return!1}});var Dt=/\r/g;Te.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=me(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Te(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=Te.map(i,function(e){return null==e?"":e+""})),t=Te.valHooks[this.type]||Te.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Te.valHooks[i.type]||Te.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Dt,""):null==n?"":n)}}}),Te.extend({valHooks:{option:{get:function(e){var t=Te.find.attr(e,"value");return null!=t?t:Q(Te.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,s="select-one"===e.type,u=s?null:[],l=s?a+1:i.length;for(r=a<0?l:s?a:0;r<l;r++)if(n=i[r],(n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(t=Te(n).val(),s)return t;u.push(t)}return u},set:function(e,t){for(var n,r,i=e.options,o=Te.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=Te.inArray(Te.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Te.each(["radio","checkbox"],function(){Te.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Te.inArray(Te(e).val(),t)>-1}},ve.checkOn||(Te.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ve.focusin="onfocusin"in e;var Nt=/^(?:focusinfocus|focusoutblur)$/,At=function(e){e.stopPropagation()};Te.extend(Te.event,{trigger:function(t,n,r,i){var o,a,s,u,l,c,f,p,d=[r||ae],h=he.call(t,"type")?t.type:t,g=he.call(t,"namespace")?t.namespace.split("."):[];if(a=p=s=r=r||ae,3!==r.nodeType&&8!==r.nodeType&&!Nt.test(h+Te.event.triggered)&&(h.indexOf(".")>-1&&(g=h.split("."),h=g.shift(),g.sort()),l=h.indexOf(":")<0&&"on"+h,t=t[Te.expando]?t:new Te.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Te.makeArray(n,[t]),f=Te.event.special[h]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!xe(r)){for(u=f.delegateType||h,Nt.test(u+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||ae)&&d.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?u:f.bindType||h,c=(Be.get(a,"events")||{})[t.type]&&Be.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&$e(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||f._default&&f._default.apply(d.pop(),n)!==!1||!$e(r)||l&&me(r[h])&&!xe(r)&&(s=r[l],s&&(r[l]=null),Te.event.triggered=h,t.isPropagationStopped()&&p.addEventListener(h,At),r[h](),t.isPropagationStopped()&&p.removeEventListener(h,At),Te.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=Te.extend(new Te.Event,n,{type:e,isSimulated:!0});Te.event.trigger(r,null,t)}}),Te.fn.extend({trigger:function(e,t){return this.each(function(){Te.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Te.event.trigger(e,t,n,!0)}}),ve.focusin||Te.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Te.event.simulate(t,e.target,Te.event.fix(e))};Te.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Be.access(r,t);i||r.addEventListener(e,n,!0),Be.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Be.access(r,t)-1;i?Be.access(r,t,i):(r.removeEventListener(e,n,!0),Be.remove(r,t))}}});var jt=e.location,qt=Date.now(),Lt=/\?/;Te.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||Te.error("Invalid XML: "+t),n};var Ht=/\[\]$/,Ot=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;Te.param=function(e,t){var n,r=[],i=function(e,t){var n=me(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!Te.isPlainObject(e))Te.each(e,function(){i(this.name,this.value)});else for(n in e)Z(n,e[n],t,i);return r.join("&")},Te.fn.extend({serialize:function(){return Te.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Te.prop(this,"elements");return e?Te.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Te(this).is(":disabled")&&Mt.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!Je.test(e))}).map(function(e,t){var n=Te(this).val();return null==n?null:Array.isArray(n)?Te.map(n,function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:n.replace(Ot,"\r\n")}}).get()}});var Rt=/%20/g,It=/#.*$/,Wt=/([?&])_=[^&]*/,$t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ft=/^(?:GET|HEAD)$/,_t=/^\/\//,zt={},Xt={},Ut="*/".concat("*"),Vt=ae.createElement("a");Vt.href=jt.href,Te.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jt.href,type:"GET",isLocal:Bt.test(jt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Te.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ne(ne(e,Te.ajaxSettings),t):ne(Te.ajaxSettings,e)},ajaxPrefilter:ee(zt),ajaxTransport:ee(Xt),ajax:function(t,n){function r(t,n,r,s){var l,p,d,b,w,T=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",C.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=re(h,C,r)),b=ie(h,b,C,l),l?(h.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(Te.lastModified[o]=w),w=C.getResponseHeader("etag"),w&&(Te.etag[o]=w)),204===t||"HEAD"===h.type?T="nocontent":304===t?T="notmodified":(T=b.state,p=b.data,d=b.error,l=!d)):(d=T,!t&&T||(T="error",t<0&&(t=0))),C.status=t,C.statusText=(n||T)+"",l?v.resolveWith(g,[p,T,C]):v.rejectWith(g,[C,T,d]),C.statusCode(x),x=void 0,f&&y.trigger(l?"ajaxSuccess":"ajaxError",[C,h,l?p:d]),m.fireWith(g,[C,T]),f&&(y.trigger("ajaxComplete",[C,h]),--Te.active||Te.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=Te.ajaxSetup({},n),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?Te(g):Te.event,v=Te.Deferred(),m=Te.Callbacks("once memory"),x=h.statusCode||{},b={},w={},T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=$t.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||T;return i&&i.abort(t),r(0,t),this}};if(v.promise(C),h.url=((t||h.url||jt.href)+"").replace(_t,jt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Oe)||[""],null==h.crossDomain){l=ae.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Vt.protocol+"//"+Vt.host!=l.protocol+"//"+l.host}catch(E){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Te.param(h.data,h.traditional)),te(zt,h,n,C),c)return C;f=Te.event&&h.global,f&&0===Te.active++&&Te.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ft.test(h.type),o=h.url.replace(It,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Rt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(Lt.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(o=o.replace(Wt,"$1"),d=(Lt.test(o)?"&":"?")+"_="+qt++ +d),h.url=o+d),h.ifModified&&(Te.lastModified[o]&&C.setRequestHeader("If-Modified-Since",Te.lastModified[o]),Te.etag[o]&&C.setRequestHeader("If-None-Match",Te.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ut+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)C.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(h.beforeSend.call(g,C,h)===!1||c))return C.abort();if(T="abort",m.add(h.complete),C.done(h.success),C.fail(h.error),i=te(Xt,h,n,C)){if(C.readyState=1,f&&y.trigger("ajaxSend",[C,h]),c)return C;h.async&&h.timeout>0&&(u=e.setTimeout(function(){C.abort("timeout")},h.timeout));try{c=!1,i.send(b,r)}catch(E){if(c)throw E;r(-1,E)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return Te.get(e,t,n,"json")},getScript:function(e,t){return Te.get(e,void 0,t,"script")}}),Te.each(["get","post"],function(e,t){Te[t]=function(e,n,r,i){return me(n)&&(i=i||r,r=n,n=void 0),Te.ajax(Te.extend({url:e,type:t,dataType:i,data:n,success:r},Te.isPlainObject(e)&&e))}}),Te._evalUrl=function(e){return Te.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},Te.fn.extend({wrapAll:function(e){var t;return this[0]&&(me(e)&&(e=e.call(this[0])),t=Te(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return me(e)?this.each(function(t){Te(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Te(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=me(e);return this.each(function(n){Te(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Te(this).replaceWith(this.childNodes)}),this}}),Te.expr.pseudos.hidden=function(e){return!Te.expr.pseudos.visible(e)},Te.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Te.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Gt={0:200,1223:204},Yt=Te.ajaxSettings.xhr();ve.cors=!!Yt&&"withCredentials"in Yt,ve.ajax=Yt=!!Yt,Te.ajaxTransport(function(t){var n,r;if(ve.cors||Yt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Gt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}}),Te.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Te.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Te.globalEval(e),e}}}),Te.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Te.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Te("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),ae.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Qt=[],Jt=/(=)\?(?=&|$)|\?\?/;Te.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||Te.expando+"_"+qt++;return this[e]=!0,e}}),Te.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Jt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=me(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Jt,"$1"+i):t.jsonp!==!1&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Te.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?Te(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Qt.push(i)),a&&me(o)&&o(a[0]),a=o=void 0}),"script"}),ve.createHTMLDocument=function(){var e=ae.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Te.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(ve.createHTMLDocument?(t=ae.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=ae.location.href,t.head.appendChild(r)):t=ae),i=Ne.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=C([e],t,o),o&&o.length&&Te(o).remove(),Te.merge([],i.childNodes))},Te.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=Q(e.slice(s)),e=e.slice(0,s)),me(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Te.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Te("<div>").append(Te.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},Te.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Te.fn[t]=function(e){return this.on(t,e)}}),Te.expr.pseudos.animated=function(e){return Te.grep(Te.timers,function(t){return e===t.elem}).length},Te.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=Te.css(e,"position"),f=Te(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=Te.css(e,"top"),u=Te.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),me(t)&&(t=t.call(e,n,Te.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},Te.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Te.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===Te.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Te.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(i=Te(e).offset(),i.top+=Te.css(e,"borderTopWidth",!0),i.left+=Te.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-Te.css(r,"marginTop",!0),left:t.left-i.left-Te.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Te.css(e,"position");)e=e.offsetParent;return e||nt})}}),Te.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Te.fn[e]=function(r){return Re(this,function(e,r,i){var o;return xe(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),Te.each(["top","left"],function(e,t){Te.cssHooks[t]=M(ve.pixelPosition,function(e,n){if(n)return n=P(e,t),ct.test(n)?Te(e).position()[t]+"px":n})}),Te.each({Height:"height",Width:"width"},function(e,t){Te.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Te.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return Re(this,function(t,n,i){var o;return xe(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?Te.css(t,n,s):Te.style(t,n,i,s)},t,a?i:void 0,a)}})}),Te.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Te.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Te.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Te.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),Te.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),me(e))return r=ue.call(arguments,2),i=function(){return e.apply(t||this,r.concat(ue.call(arguments)))},i.guid=e.guid=e.guid||Te.guid++,i},Te.holdReady=function(e){e?Te.readyWait++:Te.ready(!0)},Te.isArray=Array.isArray,Te.parseJSON=JSON.parse,Te.nodeName=o,Te.isFunction=me,Te.isWindow=xe,Te.camelCase=h,Te.type=r,Te.now=Date.now,Te.isNumeric=function(e){var t=Te.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return Te});var Kt=e.jQuery,Zt=e.$;return Te.noConflict=function(t){return e.$===Te&&(e.$=Zt),t&&e.jQuery===Te&&(e.jQuery=Kt),Te},t||(e.jQuery=e.$=Te),Te});
},{}],"keypress.js":[function(require,module,exports){
(function(){var e,t,n,o,r,i,s,_,c,u,l,h,a,f,p,y,d,m,k,v={}.hasOwnProperty,g=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i={is_unordered:!1,is_counting:!1,is_exclusive:!1,is_solitary:!1,prevent_default:!1,prevent_repeat:!1,normalize_caps_lock:!1},m="meta alt option ctrl shift cmd".split(" "),y="ctrl",e={debug:!1};var b=function(e){var t,n;for(t in e)v.call(e,t)&&(n=e[t],!1!==n&&(this[t]=n));this.keys=this.keys||[],this.count=this.count||0};b.prototype.allows_key_repeat=function(){return!this.prevent_repeat&&"function"==typeof this.on_keydown},b.prototype.reset=function(){return this.count=0,this.keyup_fired=null};var w=function(e,t){var n,o;"undefined"!=typeof jQuery&&null!==jQuery&&e instanceof jQuery&&(1!==e.length&&p("Warning: your jQuery selector should have exactly one object."),e=e[0]),this.should_force_event_defaults=this.should_suppress_event_defaults=!1,this.sequence_delay=800,this._registered_combos=[],this._keys_down=[],this._active_combos=[],this._sequence=[],this._sequence_timer=null,this._prevent_capture=!1,this._defaults=t||{};for(n in i)v.call(i,n)&&(o=i[n],this._defaults[n]=this._defaults[n]||o);this.element=e||document.body,n=function(e,t,n){return e.addEventListener?e.addEventListener(t,n):e.attachEvent&&e.attachEvent("on"+t,n),n};var r=this;this.keydown_event=n(this.element,"keydown",function(e){return e=e||window.event,r._receive_input(e,!0),r._bug_catcher(e)});var s=this;this.keyup_event=n(this.element,"keyup",function(e){return e=e||window.event,s._receive_input(e,!1)});var _=this;this.blur_event=n(window,"blur",function(){var e,t,n,o;for(o=_._keys_down,t=0,n=o.length;t<n;t++)e=o[t],_._key_up(e,{});return _._keys_down=[]})};w.prototype.destroy=function(){var e;return e=function(e,t,n){return null!=e.removeEventListener?e.removeEventListener(t,n):null!=e.removeEvent?e.removeEvent("on"+t,n):void 0},e(this.element,"keydown",this.keydown_event),e(this.element,"keyup",this.keyup_event),e(window,"blur",this.blur_event)},w.prototype._bug_catcher=function(e){var t,n;if("cmd"===y&&0<=g.call(this._keys_down,"cmd")&&"cmd"!==(t=o(null!=(n=e.keyCode)?n:e.key))&&"shift"!==t&&"alt"!==t&&"caps"!==t&&"tab"!==t)return this._receive_input(e,!1)},w.prototype._cmd_bug_check=function(e){return!("cmd"===y&&0<=g.call(this._keys_down,"cmd")&&0>g.call(e,"cmd"))},w.prototype._prevent_default=function(e,t){if((t||this.should_suppress_event_defaults)&&!this.should_force_event_defaults&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation))return e.stopPropagation()},w.prototype._get_active_combos=function(e){var t,n;return t=[],n=s(this._keys_down,function(t){return t!==e}),n.push(e),this._match_combo_arrays(n,function(e){return function(n){if(e._cmd_bug_check(n.keys))return t.push(n)}}(this)),this._fuzzy_match_combo_arrays(n,function(e){return function(n){if(!(0<=g.call(t,n))&&!n.is_solitary&&e._cmd_bug_check(n.keys))return t.push(n)}}(this)),t},w.prototype._get_potential_combos=function(e){var t,n,o,r,i;for(n=[],i=this._registered_combos,o=0,r=i.length;o<r;o++)t=i[o],t.is_sequence||0<=g.call(t.keys,e)&&this._cmd_bug_check(t.keys)&&n.push(t);return n},w.prototype._add_to_active_combos=function(e){var t,n,o,r,i,s,_,c,u,l,h;if(s=!1,i=!0,o=!1,0<=g.call(this._active_combos,e))return!0;if(this._active_combos.length)for(r=_=0,l=this._active_combos.length;0<=l?_<l:_>l;r=0<=l?++_:--_)if((t=this._active_combos[r])&&t.is_exclusive&&e.is_exclusive){if(t=t.keys,!s)for(c=0,u=t.length;c<u;c++)if(n=t[c],s=!0,0>g.call(e.keys,n)){s=!1;break}if(i&&!s)for(h=e.keys,c=0,u=h.length;c<u;c++)if(n=h[c],i=!1,0>g.call(t,n)){i=!0;break}s&&(o?(t=this._active_combos.splice(r,1)[0],null!=t&&t.reset()):(t=this._active_combos.splice(r,1,e)[0],null!=t&&t.reset(),o=!0),i=!1)}return i&&this._active_combos.unshift(e),s||i},w.prototype._remove_from_active_combos=function(e){var t,n,o,r;for(n=o=0,r=this._active_combos.length;0<=r?o<r:o>r;n=0<=r?++o:--o)if(t=this._active_combos[n],t===e){e=this._active_combos.splice(n,1)[0],e.reset();break}},w.prototype._get_possible_sequences=function(){var e,t,n,o,r,i,_,c,u,l,h,a;for(o=[],l=this._registered_combos,i=0,u=l.length;i<u;i++)for(e=l[i],t=_=1,h=this._sequence.length;1<=h?_<=h:_>=h;t=1<=h?++_:--_)if(r=this._sequence.slice(-t),e.is_sequence){if(0>g.call(e.keys,"shift")&&(r=s(r,function(e){return"shift"!==e}),!r.length))continue;for(t=c=0,a=r.length;0<=a?c<a:c>a;t=0<=a?++c:--c){if(e.keys[t]!==r[t]){n=!1;break}n=!0}n&&o.push(e)}return o},w.prototype._add_key_to_sequence=function(e,t){var n,o,r,i;if(this._sequence.push(e),o=this._get_possible_sequences(),o.length){for(r=0,i=o.length;r<i;r++)n=o[r],this._prevent_default(t,n.prevent_default);if(this._sequence_timer&&clearTimeout(this._sequence_timer),-1<this.sequence_delay){var s=this;this._sequence_timer=setTimeout(function(){return s._sequence=[]},this.sequence_delay)}}else this._sequence=[]},w.prototype._get_sequence=function(e){var t,n,o,r,i,_,c,u,l,h,a,f;for(h=this._registered_combos,_=0,l=h.length;_<l;_++)if(t=h[_],t.is_sequence){for(n=c=1,a=this._sequence.length;1<=a?c<=a:c>=a;n=1<=a?++c:--c)if(i=s(this._sequence,function(e){return 0<=g.call(t.keys,"shift")||"shift"!==e}).slice(-n),t.keys.length===i.length)for(n=u=0,f=i.length;0<=f?u<f:u>f;n=0<=f?++u:--u)if(r=i[n],!(0>g.call(t.keys,"shift")&&"shift"===r||"shift"===e&&0>g.call(t.keys,"shift"))){if(t.keys[n]!==r){o=!1;break}o=!0}if(o)return t.is_exclusive&&(this._sequence=[]),t}return!1},w.prototype._receive_input=function(e,t){var n,r;if(this._prevent_capture)this._keys_down.length&&(this._keys_down=[]);else if(n=o(null!=(r=e.keyCode)?r:e.key),(t||this._keys_down.length||!("alt"===n||n===y))&&n)return t?this._key_down(n,e):this._key_up(n,e)},w.prototype._fire=function(e,t,n,o){if("function"==typeof t["on_"+e]&&this._prevent_default(n,!0!==t["on_"+e].call(t["this"],n,t.count,o)),"release"===e&&(t.count=0),"keyup"===e)return t.keyup_fired=!0},w.prototype._match_combo_arrays=function(e,o){var r,i,s,_,c;for(c=this._registered_combos,s=0,_=c.length;s<_;s++)i=c[s],r=e.slice(0),i.normalize_caps_lock&&0<=g.call(r,"caps")&&r.splice(r.indexOf("caps"),1),(!i.is_unordered&&n(r,i.keys)||i.is_unordered&&t(r,i.keys))&&o(i)},w.prototype._fuzzy_match_combo_arrays=function(e,t){var n,o,r,i;for(i=this._registered_combos,o=0,r=i.length;o<r;o++)n=i[o],(!n.is_unordered&&u(n.keys,e)||n.is_unordered&&c(n.keys,e))&&t(n)},w.prototype._keys_remain=function(e){var t,n,o,r;for(r=e.keys,n=0,o=r.length;n<o;n++)if(e=r[n],0<=g.call(this._keys_down,e)){t=!0;break}return t},w.prototype._key_down=function(e,t){var n,o,i,s,_;(n=r(e,t))&&(e=n),this._add_key_to_sequence(e,t),(n=this._get_sequence(e))&&this._fire("keydown",n,t);for(i in d)n=d[i],t[n]&&(i===e||0<=g.call(this._keys_down,i)||this._keys_down.push(i));for(i in d)if(n=d[i],i!==e&&0<=g.call(this._keys_down,i)&&!t[n]&&!("cmd"===i&&"cmd"!==y))for(n=o=0,s=this._keys_down.length;0<=s?o<s:o>s;n=0<=s?++o:--o)this._keys_down[n]===i&&this._keys_down.splice(n,1);for(o=this._get_active_combos(e),i=this._get_potential_combos(e),s=0,_=o.length;s<_;s++)n=o[s],this._handle_combo_down(n,i,e,t);if(i.length)for(o=0,s=i.length;o<s;o++)n=i[o],this._prevent_default(t,n.prevent_default);0>g.call(this._keys_down,e)&&this._keys_down.push(e)},w.prototype._handle_combo_down=function(e,t,n,o){var r,i,s,_,c;if(0>g.call(e.keys,n))return!1;if(this._prevent_default(o,e&&e.prevent_default),r=!1,0<=g.call(this._keys_down,n)&&(r=!0,!e.allows_key_repeat()))return!1;if(s=this._add_to_active_combos(e,n),n=e.keyup_fired=!1,e.is_exclusive)for(_=0,c=t.length;_<c;_++)if(i=t[_],i.is_exclusive&&i.keys.length>e.keys.length){n=!0;break}return!n&&(e.is_counting&&"function"==typeof e.on_keydown&&(e.count+=1),s)?this._fire("keydown",e,o,r):void 0},w.prototype._key_up=function(e,t){var n,o,i,s,_,c;if(n=e,(i=r(e,t))&&(e=i),i=f[n],t.shiftKey?i&&0<=g.call(this._keys_down,i)||(e=n):n&&0<=g.call(this._keys_down,n)||(e=i),(s=this._get_sequence(e))&&this._fire("keyup",s,t),0>g.call(this._keys_down,e))return!1;for(s=_=0,c=this._keys_down.length;0<=c?_<c:_>c;s=0<=c?++_:--_)if((o=this._keys_down[s])===e||o===i||o===n){this._keys_down.splice(s,1);break}for(o=this._active_combos.length,i=[],c=this._active_combos,s=0,_=c.length;s<_;s++)n=c[s],0<=g.call(n.keys,e)&&i.push(n);for(s=0,_=i.length;s<_;s++)n=i[s],this._handle_combo_up(n,t,e);if(1<o)for(_=this._active_combos,o=0,s=_.length;o<s;o++)n=_[o],void 0===n||0<=g.call(i,n)||this._keys_remain(n)||this._remove_from_active_combos(n)},w.prototype._handle_combo_up=function(e,n,o){var r,i;this._prevent_default(n,e&&e.prevent_default),i=this._keys_remain(e),e.keyup_fired||(r=this._keys_down.slice(),r.push(o),e.is_solitary&&!t(r,e.keys))||(this._fire("keyup",e,n),e.is_counting&&"function"==typeof e.on_keyup&&"function"!=typeof e.on_keydown&&(e.count+=1)),i||(this._fire("release",e,n),this._remove_from_active_combos(e))},w.prototype.simple_combo=function(e,t){return this.register_combo({keys:e,on_keydown:t})},w.prototype.counting_combo=function(e,t){return this.register_combo({keys:e,is_counting:!0,is_unordered:!1,on_keydown:t})},w.prototype.sequence_combo=function(e,t){return this.register_combo({keys:e,on_keydown:t,is_sequence:!0,is_exclusive:!0})},w.prototype.register_combo=function(e){var t,n,o;"string"==typeof e.keys&&(e.keys=e.keys.split(" ")),o=this._defaults;for(t in o)v.call(o,t)&&(n=o[t],void 0===e[t]&&(e[t]=n));if(e=new b(e),k(e))return this._registered_combos.push(e),e},w.prototype.register_many=function(e){var t,n,o,r;for(r=[],n=0,o=e.length;n<o;n++)t=e[n],r.push(this.register_combo(t));return r},w.prototype.unregister_combo=function(e){var o,r,i,s,_,c;if(!e)return!1;var u=this;if(r=function(e){var t,n,o,r;for(r=[],t=n=0,o=u._registered_combos.length;0<=o?n<o:n>o;t=0<=o?++n:--n){if(e===u._registered_combos[t]){u._registered_combos.splice(t,1);break}r.push(void 0)}return r},e instanceof b)return r(e);if("string"==typeof e)for(e=e.split(" "),o=i=0,s=e.length;0<=s?i<s:i>s;o=0<=s?++i:--i)"meta"===e[o]&&(e[o]=y);for(_=this._registered_combos,c=[],i=0,s=_.length;i<s;i++)o=_[i],null!=o&&(o.is_unordered&&t(e,o.keys)||!o.is_unordered&&n(e,o.keys)?c.push(r(o)):c.push(void 0));return c},w.prototype.unregister_many=function(e){var t,n,o,r;for(r=[],n=0,o=e.length;n<o;n++)t=e[n],r.push(this.unregister_combo(t));return r},w.prototype.get_registered_combos=function(){return this._registered_combos},w.prototype.reset=function(){return this._registered_combos=[]},w.prototype.listen=function(){return this._prevent_capture=!1},w.prototype.stop_listening=function(){return this._prevent_capture=!0},w.prototype.get_meta_key=function(){return y},e.Listener=w,o=function(e){return a[e]},s=function(e,t){var n;if(e.filter)return e.filter(t);var o,r,i;for(i=[],o=0,r=e.length;o<r;o++)n=e[o],t(n)&&i.push(n);return i},t=function(e,t){var n,o,r;if(e.length!==t.length)return!1;for(o=0,r=e.length;o<r;o++)if(n=e[o],!(0<=g.call(t,n)))return!1;return!0},n=function(e,t){var n,o,r;if(e.length!==t.length)return!1;for(n=o=0,r=e.length;0<=r?o<r:o>r;n=0<=r?++o:--o)if(e[n]!==t[n])return!1;return!0},c=function(e,t){var n,o,r;for(o=0,r=e.length;o<r;o++)if(n=e[o],0>g.call(t,n))return!1;return!0},_=Array.prototype.indexOf||function(e,t){var n,o,r;for(n=o=0,r=e.length;0<=r?o<=r:o>=r;n=0<=r?++o:--o)if(e[n]===t)return n;return-1},u=function(e,t){var n,o,r,i;for(r=o=0,i=e.length;r<i;r++){if(n=e[r],n=_.call(t,n),!(n>=o))return!1;o=n}return!0},p=function(){if(e.debug)return console.log.apply(console,arguments)},l=function(e){var t,n,o;t=!1;for(o in a)if(n=a[o],e===n){t=!0;break}if(!t)for(o in f)if(n=f[o],e===n){t=!0;break}return t},k=function(e){var t,n,o,r,s,c,u;for(s=!0,e.keys.length||p("You're trying to bind a combo with no keys:",e),n=c=0,u=e.keys.length;0<=u?c<u:c>u;n=0<=u?++c:--c)o=e.keys[n],(t=h[o])&&(o=e.keys[n]=t),"meta"===o&&e.keys.splice(n,1,y),"cmd"===o&&p('Warning: use the "meta" key rather than "cmd" for Windows compatibility');for(u=e.keys,t=0,c=u.length;t<c;t++)o=u[t],l(o)||(p('Do not recognize the key "'+o+'"'),s=!1);if(0<=g.call(e.keys,"meta")||0<=g.call(e.keys,"cmd")){for(t=e.keys.slice(),c=0,u=m.length;c<u;c++)o=m[c],-1<(n=_.call(t,o))&&t.splice(n,1);1<t.length&&(p("META and CMD key combos cannot have more than 1 non-modifier keys",e,t),s=!1)}for(r in e)"undefined"===i[r]&&p("The property "+r+" is not a valid combo property. Your combo has still been registered.");return s},r=function(e,t){var n;return!!t.shiftKey&&(n=f[e],null!=n&&n)},d={cmd:"metaKey",ctrl:"ctrlKey",shift:"shiftKey",alt:"altKey"},h={escape:"esc",control:"ctrl",command:"cmd","break":"pause",windows:"cmd",option:"alt",caps_lock:"caps",apostrophe:"'",semicolon:";",tilde:"~",accent:"`",scroll_lock:"scroll",num_lock:"num"},f={"/":"?",".":">",",":"<","'":'"',";":":","[":"{","]":"}","\\":"|","`":"~","=":"+","-":"_",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")"},a={0:"\\",8:"backspace",9:"tab",12:"num",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",44:"print",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"cmd",92:"cmd",93:"cmd",96:"num_0",97:"num_1",98:"num_2",99:"num_3",100:"num_4",101:"num_5",102:"num_6",103:"num_7",104:"num_8",105:"num_9",106:"num_multiply",107:"num_add",108:"num_enter",109:"num_subtract",110:"num_decimal",111:"num_divide",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",124:"print",144:"num",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"`",224:"cmd",225:"alt",57392:"ctrl",63289:"num",59:";",61:"=",173:"-"},e._keycode_dictionary=a,e._is_array_in_array_sorted=u,-1!==navigator.userAgent.indexOf("Mac OS X")&&(y="cmd"),-1!==navigator.userAgent.indexOf("Opera")&&(a[17]="cmd"),"function"==typeof define&&define.amd?define([],function(){return e}):"undefined"!=typeof exports&&null!==exports?exports.keypress=e:window.keypress=e}).call(this);
},{}],"kiubi/vendor/tinymce/plugins/link/plugin.js":[function(require,module,exports){
!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,l=n.defn,r=o.length,a=new Array(r),u=0;u<r;++u)a[u]=i(o[u]);var s=l.apply(null,a);if(void 0===s)throw"module ["+t+"] returned undefined";n.instance=s},n=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),l=0;l<n;++l)o.push(i(e[l]));t.apply(null,t)},l={};l.bolt={module:{api:{define:n,require:o,demand:i}}};var r=n,a=function(e,t){r(e,[],function(){return t})};a("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),r("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),r("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),r("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),r("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),r("tinymce.core.util.XHR",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.XHR")}),r("tinymce.plugins.link.core.Settings",[],function(){var e=function(e){return"boolean"==typeof e.link_assume_external_targets&&e.link_assume_external_targets},t=function(e){return"boolean"==typeof e.link_context_toolbar&&e.link_context_toolbar},n=function(e){return e.link_list},i=function(e){return"string"==typeof e.default_link_target},o=function(e){return e.default_link_target},l=function(e){return e.target_list},r=function(e,t){e.settings.target_list=t},a=function(e){return l(e)!==!1},u=function(e){return e.rel_list},s=function(e){return void 0!==u(e)},c=function(e){return e.link_class_list},f=function(e){return void 0!==c(e)},g=function(e){return e.link_title!==!1},d=function(e){return"boolean"==typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target};return{assumeExternalTargets:e,hasContextToolbar:t,getLinkList:n,hasDefaultLinkTarget:i,getDefaultLinkTarget:o,getTargetList:l,setTargetList:r,shouldShowTargetList:a,getRelList:u,hasRelList:s,getLinkClassList:c,hasLinkClassList:f,shouldShowLinkTitle:g,allowUnsafeLinkTarget:d}}),a("global!RegExp",RegExp),r("tinymce.plugins.link.core.Utils",["tinymce.core.util.Tools","tinymce.plugins.link.core.Settings","global!RegExp"],function(e,t,n){var i=function(t,n){var i=["noopener"],o=t?t.split(/\s+/):[],l=function(t){return e.trim(t.sort().join(" "))},r=function(e){return e=a(e),e.length?e.concat(i):i},a=function(t){return t.filter(function(t){return e.inArray(i,t)===-1})};return o=n?r(o):a(o),o.length?l(o):null},o=function(e){return e.replace(/\uFEFF/g,"")},l=function(e,t){return t=t||e.selection.getStart(),c(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},r=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return o(n)},a=function(e){return e&&"A"===e.nodeName&&e.href},u=function(t){return e.grep(t,a).length>0},s=function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||e.indexOf("href=")==-1))},c=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},f=function(e,n){return function(o){e.undoManager.transact(function(){var r=e.selection.getNode(),a=l(e,r),u={href:o.href,target:o.target?o.target:null,rel:o.rel?o.rel:null,"class":o["class"]?o["class"]:null,title:o.title?o.title:null};t.hasRelList(e.settings)||t.allowUnsafeLinkTarget(e.settings)!==!1||(u.rel=i(u.rel,"_blank"==u.target)),o.href===n.href&&(n.attach(),n={}),a?(e.focus(),o.hasOwnProperty("text")&&("innerText"in a?a.innerText=o.text:a.textContent=o.text),e.dom.setAttribs(a,u),e.selection.select(a),e.undoManager.add()):c(r)?m(e,r,u):o.hasOwnProperty("text")?e.insertContent(e.dom.createHTML("a",u,e.dom.encode(o.text))):e.execCommand("mceInsertLink",!1,u)})}},g=function(e){return function(){e.undoManager.transact(function(){var t=e.selection.getNode();c(t)?d(e,t):e.execCommand("unlink")})}},d=function(e,t){var n,i;i=e.dom.select("img",t)[0],i&&(n=e.dom.getParents(i,"a[href]",t)[0],n&&(n.parentNode.insertBefore(i,n),e.dom.remove(n)))},m=function(e,t,n){var i,o;o=e.dom.select("img",t)[0],o&&(i=e.dom.create("a",n),o.parentNode.insertBefore(i,o),i.appendChild(o))};return{link:f,unlink:g,isLink:a,hasLinks:u,isOnlyTextSelected:s,getAnchorElement:l,getAnchorText:r,toggleTargetRules:i}}),r("tinymce.plugins.link.ui.Dialog",["tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.XHR","tinymce.plugins.link.core.Utils","tinymce.plugins.link.core.Settings"],function(e,t,n,i,o){var l={},r=function(e,t){var i=o.getLinkList(e.settings),l=i.types;"string"==typeof l?n.send({url:l,success:function(n){t(e,JSON.parse(n),i.pages)}}):"function"==typeof l?l(function(n){t(e,n,i.pages)}):t(e,l,i.pages)},a=function(e,n,i){var o=function(e,i){return i=i||[],t.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=o(e.menu):(t.value=e.value,n&&n(t)),i.push(t)}),i};return o(e,i||[])},u=function(t,n,i){var o=t.selection.getRng();e.setEditorTimeout(t,function(){t.windowManager.confirm(n,function(e){t.selection.setRng(o),i(e)})})},s=function(e,n,r){var s,c,f,g,d,m,v,p,h,k,y,x,b={},T=e.selection,L=e.dom,w=function(e){var t=f.find("#text");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text().replace(/^\s+/,"")),f.find("#href").value(e.control.value())},C=function(e){r(e.control.value(),_)},_=function(e){v.menu&&(v.menu.remove(),v.menu=null),v.state.data.menu=v.settings.values=e},R=function(n){var i=[];if(t.each(e.dom.select("a:not([href])"),function(e){var t=e.name||e.id;t&&i.push({text:t,value:"#"+t,selected:n.indexOf("#"+t)!=-1})}),i.length)return i.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:i,onselect:w}},S=function(){c||!g||b.text||this.parent().parent().find("#text")[0].value(this.value())},A=function(n){var i=n.meta||{};m&&m.value(e.convertURL(this.value(),"href")),t.each(n.meta,function(e,t){var n=f.find("#"+t);"text"===t?0===c.length&&(n.value(e),b.text=e):n.value(e)}),i.attach&&(l={href:this.value(),attach:i.attach}),i.text||S.call(this)},M=function(e){e.meta=f.toJSON()};g=i.isOnlyTextSelected(T.getContent()),s=i.getAnchorElement(e),b.text=c=i.getAnchorText(e.selection,s),b.href=s?L.getAttrib(s,"href"):"",s?b.target=L.getAttrib(s,"target"):o.hasDefaultLinkTarget(e.settings)&&(b.target=o.getDefaultLinkTarget(e.settings)),(x=L.getAttrib(s,"rel"))&&(b.rel=x),(x=L.getAttrib(s,"class"))&&(b["class"]=x),(x=L.getAttrib(s,"title"))&&(b.title=x),g&&(d={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){b.text=this.value()}}),n&&(m={type:"listbox",label:"Service",values:a(n,function(t){t.value=e.convertURL(t.value||t.url,"href")},[{text:"None",value:""}]),onselect:C,onPostRender:function(){m=this}},v={type:"listbox",label:"Page",values:a([],function(t){t.value=e.convertURL(t.value||t.url,"href")},[{text:"None",value:""}]),onselect:w,value:e.convertURL(b.href,"href"),onPostRender:function(){v=this}}),o.shouldShowTargetList(e.settings)&&(void 0===o.getTargetList(e.settings)&&o.setTargetList(e,[{text:"None",value:""},{text:"New window",value:"_blank"}]),h={name:"target",type:"listbox",label:"Target",values:a(o.getTargetList(e.settings))}),o.hasRelList(e.settings)&&(p={name:"rel",type:"listbox",label:"Rel",values:a(o.getRelList(e.settings),function(t){o.allowUnsafeLinkTarget(e.settings)===!1&&(t.value=i.toggleTargetRules(t.value,"_blank"===b.target))})}),o.hasLinkClassList(e.settings)&&(k={name:"class",type:"listbox",label:"Class",values:a(o.getLinkClassList(e.settings),function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"a",classes:[t.value]})})})}),o.shouldShowLinkTitle(e.settings)&&(y={name:"title",type:"textbox",label:"Title",value:b.title}),f=e.windowManager.open({title:"Insert link",data:b,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:A,onkeyup:S,onbeforecall:M},d,y,R(b.href),m,v,p,h,k],onSubmit:function(n){var r=o.assumeExternalTargets(e.settings),a=i.link(e,l),s=i.unlink(e),f=t.extend({},b,n.data),d=f.href;return d?(g&&f.text!==c||delete f.text,d.indexOf("@")>0&&d.indexOf("//")==-1&&d.indexOf("mailto:")==-1?void u(e,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(f.href="mailto:"+d),a(f)}):r===!0&&!/^\w+:/i.test(d)||r===!1&&/^\s*www[\.|\d\.]/i.test(d)?void u(e,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(f.href="http://"+d),a(f)}):void a(f)):void s()}})},c=function(e){r(e,s)};return{open:c}}),r("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),r("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),r("tinymce.plugins.link.core.OpenUrl",["tinymce.core.dom.DOMUtils","tinymce.core.Env"],function(e,t){var n=function(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)},i=function(i){if(!t.ie||t.ie>10){var o=document.createElement("a");o.target="_blank",o.href=i,o.rel="noreferrer noopener";var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n(o,l)}else{var r=window.open("","_blank");if(r){r.opener=null;var a=r.document;a.open(),a.write('<meta http-equiv="refresh" content="0; url='+e.DOM.encode(i)+'">'),a.close()}}};return{open:i}}),r("tinymce.plugins.link.core.Actions",["tinymce.core.util.VK","tinymce.plugins.link.ui.Dialog","tinymce.plugins.link.core.OpenUrl","tinymce.plugins.link.core.Utils","tinymce.plugins.link.core.Settings"],function(e,t,n,i,o){var l=function(e,t){return e.dom.getParent(t,"a[href]")},r=function(e){return l(e,e.selection.getStart())},a=function(e){var t=e.getAttribute("data-mce-href");return t?t:e.getAttribute("href")},u=function(e){var t=e.plugins.contextmenu;return!!t&&t.isContextMenuVisible()},s=function(e){return e.altKey===!0&&e.shiftKey===!1&&e.ctrlKey===!1&&e.metaKey===!1},c=function(e,t){if(t){var i=a(t);if(/^#/.test(i)){var o=e.$(i);o.length&&e.selection.scrollIntoView(o[0],!0)}else n.open(t.href)}},f=function(e){return function(){t.open(e)}},g=function(e){return function(){c(e,r(e))}},d=function(e){return function(t){var n,l,r;return!!(o.hasContextToolbar(e.settings)&&!u(e)&&i.isLink(t)&&(n=e.selection,l=n.getRng(),r=l.startContainer,3==r.nodeType&&n.isCollapsed()&&l.startOffset>0&&l.startOffset<r.data.length))}},m=function(t){t.on("click",function(n){var i=l(t,n.target);i&&e.metaKeyPressed(n)&&(n.preventDefault(),c(t,i))}),t.on("keydown",function(e){var n=r(t);n&&13===e.keyCode&&s(e)&&(e.preventDefault(),c(t,n))})},v=function(e){return function(){var t=this;e.on("nodechange",function(n){t.active(!e.readonly&&!!i.getAnchorElement(e,n.element))})}},p=function(e){return function(){var t=this,n=function(e){i.hasLinks(e.parents)?t.show():t.hide()};i.hasLinks(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on("nodechange",n),t.on("remove",function(){e.off("nodechange",n)})}};return{openDialog:f,gotoSelectedLink:g,leftClickedOnAHref:d,setupGotoLinks:m,toggleActiveState:v,toggleViewLinkState:p}}),r("tinymce.plugins.link.ui.Controls",["tinymce.plugins.link.core.Actions","tinymce.plugins.link.core.Utils"],function(e,t){var n=function(n){n.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:e.openDialog(n),onpostrender:e.toggleActiveState(n)}),n.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onclick:t.unlink(n),onpostrender:e.toggleActiveState(n)}),n.addContextToolbar&&n.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:e.gotoSelectedLink(n)})},i=function(t){t.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:e.gotoSelectedLink(t),onPostRender:e.toggleViewLinkState(t),prependToContext:!0}),t.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:e.openDialog(t),stateSelector:"a[href]",context:"insert",prependToContext:!0})},o=function(t){t.addContextToolbar&&t.addContextToolbar(e.leftClickedOnAHref(t),"openlink | link unlink")};return{setupButtons:n,setupMenuItems:i,setupContextToolbars:o}}),r("tinymce.plugins.link.Plugin",["tinymce.core.PluginManager","tinymce.plugins.link.core.Actions","tinymce.plugins.link.ui.Controls"],function(e,t,n){return e.add("link",function(e){n.setupButtons(e),n.setupMenuItems(e),n.setupContextToolbars(e),t.setupGotoLinks(e),e.addShortcut("Meta+K","",t.openDialog(e)),e.addCommand("mceLink",t.openDialog(e))}),function(){}}),i("tinymce.plugins.link.Plugin")()}();
},{}],"moment":[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Ts.apply(null,arguments)}function t(e){Ts=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,s){return kt(e,t,n,s,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=c()),e._pf}function m(e){if(null==e._isValid){var t=f(e),n=xs.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function _(e){var t=h(NaN);return null!=e?d(f(t),e):f(t).userInvalidated=!0,t}function y(e,t){var n,s,i;if(r(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),r(t._i)||(e._i=t._i),r(t._f)||(e._f=t._f),r(t._l)||(e._l=t._l),r(t._strict)||(e._strict=t._strict),r(t._tzm)||(e._tzm=t._tzm),r(t._isUTC)||(e._isUTC=t._isUTC),r(t._offset)||(e._offset=t._offset),r(t._pf)||(e._pf=f(t)),r(t._locale)||(e._locale=t._locale),bs.length>0)for(n=0;n<bs.length;n++)s=bs[n],i=t[s],r(i)||(e[s]=i);return e}function g(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ps===!1&&(Ps=!0,e.updateOffset(this),Ps=!1)}function p(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function M(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&v(e[s])!==v(t[s]))&&a++;return a+r}function S(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function D(t,n){var s=!0;return d(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),s){for(var i,r=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var o in arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[a];r.push(i)}S(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),s=!1}return n.apply(this,arguments)},n)}function k(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Ws[t]||(S(n),Ws[t]=!0)}function Y(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)t=e[n],Y(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(e,t){var n,i=d({},e);for(n in t)l(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},d(i[n],e[n]),d(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)l(e,n)&&!l(t,n)&&s(e[n])&&(i[n]=d({},i[n]));return i}function x(e){null!=e&&this.set(e)}function b(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return Y(s)?s.call(t,n):s}function P(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function W(){return this._invalidDate}function H(e){return this._ordinal.replace("%d",e)}function R(e,t,n,s){var i=this._relativeTime[n];return Y(i)?i(e,t,n,s):i.replace(/%d/i,e)}function C(e,t){var n=this._relativeTime[e>0?"future":"past"];return Y(n)?n(t):n.replace(/%s/i,t)}function F(e,t){var n=e.toLowerCase();Gs[n]=Gs[n+"s"]=Gs[t]=e}function L(e){return"string"==typeof e?Gs[e]||Gs[e.toLowerCase()]:void 0}function U(e){var t,n,s={};for(n in e)l(e,n)&&(t=L(n),t&&(s[t]=e[n]));return s}function N(e,t){Vs[e]=t}function G(e){var t=[];for(var n in e)t.push({unit:n,priority:Vs[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function V(e,t,n){var s=""+Math.abs(e),i=t-s.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}function E(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(js[e]=i),t&&(js[t[0]]=function(){return V(i.apply(this,arguments),t[1],t[2])}),n&&(js[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function A(e){var t,n,s=e.match(Es);for(t=0,n=s.length;t<n;t++)js[s[t]]?s[t]=js[s[t]]:s[t]=I(s[t]);return function(t){var i,r="";for(i=0;i<n;i++)r+=Y(s[i])?s[i].call(t,e):s[i];return r}}function j(e,t){return e.isValid()?(t=Z(t,e.localeData()),As[t]=As[t]||A(t),As[t](e)):e.localeData().invalidDate()}function Z(e,t){function n(e){return t.longDateFormat(e)||e}var s=5;for(Is.lastIndex=0;s>=0&&Is.test(e);)e=e.replace(Is,n),Is.lastIndex=0,s-=1;return e}function z(e,t,n){ui[e]=Y(t)?t:function(e,s){return e&&n?n:t}}function $(e,t){return l(ui,e)?ui[e](t._strict,t._locale):new RegExp(q(e))}function q(e){return J(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}function J(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(e,t){var n,s=t;for("string"==typeof e&&(e=[e]),a(t)&&(s=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)li[e[n]]=s}function Q(e,t){B(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function X(e,t,n){null!=t&&l(li,e)&&li[e](t,n._a,n,e)}function K(e){return ee(e)?366:365}function ee(e){return e%4===0&&e%100!==0||e%400===0}function te(){return ee(this.year())}function ne(t,n){return function(s){return null!=s?(ie(this,t,s),e.updateOffset(this,n),this):se(this,t)}}function se(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ie(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ee(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ue(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function re(e){return e=L(e),Y(this[e])?this[e]():this}function ae(e,t){if("object"==typeof e){e=U(e);for(var n=G(e),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit])}else if(e=L(e),Y(this[e]))return this[e](t);return this}function oe(e,t){return(e%t+t)%t}function ue(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=oe(t,12);return e+=(t-n)/12,1===n?ee(e)?29:28:31-n%7%2}function le(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Mi).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function de(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Mi.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function he(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=h([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?(i=wi.call(this._shortMonthsParse,a),i!==-1?i:null):(i=wi.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===t?(i=wi.call(this._shortMonthsParse,a),i!==-1?i:(i=wi.call(this._longMonthsParse,a),i!==-1?i:null)):(i=wi.call(this._longMonthsParse,a),i!==-1?i:(i=wi.call(this._shortMonthsParse,a),i!==-1?i:null))}function ce(e,t,n){var s,i,r;if(this._monthsParseExact)return he.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=h([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}}function fe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return n=Math.min(e.date(),ue(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function me(t){return null!=t?(fe(this,t),e.updateOffset(this,!0),this):se(this,"Month")}function _e(){return ue(this.year(),this.month())}function ye(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=ki),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ge(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Yi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pe(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=h([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=J(s[t]),i[t]=J(i[t]);for(t=0;t<24;t++)r[t]=J(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function we(e,t,n,s,i,r,a){var o=new Date(e,t,n,s,i,r,a);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function ve(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Me(e,t,n){var s=7+t-n,i=(7+ve(e,0,s).getUTCDay()-t)%7;return-i+s-1}function Se(e,t,n,s,i){var r,a,o=(7+n-s)%7,u=Me(e,s,i),l=1+7*(t-1)+o+u;return l<=0?(r=e-1,a=K(r)+l):l>K(e)?(r=e+1,a=l-K(e)):(r=e,a=l),{year:r,dayOfYear:a}}function De(e,t,n){var s,i,r=Me(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?(i=e.year()-1,s=a+ke(i,t,n)):a>ke(e.year(),t,n)?(s=a-ke(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function ke(e,t,n){var s=Me(e,t,n),i=Me(e+1,t,n);return(K(e)-s+i)/7}function Ye(e){return De(e,this._week.dow,this._week.doy).week}function Oe(){return this._week.dow}function Te(){return this._week.doy}function xe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function be(e){var t=De(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Pe(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function We(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function He(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Re(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ce(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Fe(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=h([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?(i=wi.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===t?(i=wi.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=wi.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===t?(i=wi.call(this._weekdaysParse,a),i!==-1?i:(i=wi.call(this._shortWeekdaysParse,a),i!==-1?i:(i=wi.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===t?(i=wi.call(this._shortWeekdaysParse,a),i!==-1?i:(i=wi.call(this._weekdaysParse,a),i!==-1?i:(i=wi.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=wi.call(this._minWeekdaysParse,a),i!==-1?i:(i=wi.call(this._weekdaysParse,a),i!==-1?i:(i=wi.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function Le(e,t,n){var s,i,r;if(this._weekdaysParseExact)return Fe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=h([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}}function Ue(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Pe(e,this.localeData()),this.add(e-t,"d")):t}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ge(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=We(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ve(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ae.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Pi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ee(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ae.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Wi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ie(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ae.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Hi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ae(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)o[t]=J(o[t]),u[t]=J(u[t]),l[t]=J(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function je(){return this.hours()%12||12}function Ze(){return this.hours()||24}function ze(e,t){E(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function $e(e,t){return t._meridiemParse}function qe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Je(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Be(e){return e?e.toLowerCase().replace("_","-"):e}function Qe(e){for(var t,n,s,i,r=0;r<e.length;){for(i=Be(e[r]).split("-"),t=i.length,n=Be(e[r+1]),n=n?n.split("-"):null;t>0;){if(s=Xe(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&M(i,n,!0)>=t-1)break;t--}r++}return Ri}function Xe(e){var t=null;if(!Ui[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Ri._abbr;var n=require;n("./locale/"+e),Ke(t)}catch(s){}return Ui[e]}function Ke(e,t){var n;return e&&(n=r(t)?nt(e):et(e,t),n?Ri=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Ri._abbr}function et(e,t){if(null!==t){var n,s=Li;if(t.abbr=e,null!=Ui[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=Ui[e]._config;else if(null!=t.parentLocale)if(null!=Ui[t.parentLocale])s=Ui[t.parentLocale]._config;else{if(n=Xe(t.parentLocale),null==n)return Ni[t.parentLocale]||(Ni[t.parentLocale]=[]),Ni[t.parentLocale].push({name:e,config:t}),null;s=n._config}return Ui[e]=new x(T(s,t)),Ni[e]&&Ni[e].forEach(function(e){et(e.name,e.config)}),Ke(e),Ui[e]}return delete Ui[e],null}function tt(e,t){if(null!=t){var n,s,i=Li;s=Xe(e),null!=s&&(i=s._config),t=T(i,t),n=new x(t),n.parentLocale=Ui[e],Ui[e]=n,Ke(e)}else null!=Ui[e]&&(null!=Ui[e].parentLocale?Ui[e]=Ui[e].parentLocale:null!=Ui[e]&&delete Ui[e]);return Ui[e]}function nt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ri;if(!n(e)){if(t=Xe(e))return t;e=[e]}return Qe(e)}function st(){return Hs(Ui)}function it(e){var t,n=e._a;return n&&f(e).overflow===-2&&(t=n[hi]<0||n[hi]>11?hi:n[ci]<1||n[ci]>ue(n[di],n[hi])?ci:n[fi]<0||n[fi]>24||24===n[fi]&&(0!==n[mi]||0!==n[_i]||0!==n[yi])?fi:n[mi]<0||n[mi]>59?mi:n[_i]<0||n[_i]>59?_i:n[yi]<0||n[yi]>999?yi:-1,f(e)._overflowDayOfYear&&(t<di||t>ci)&&(t=ci),f(e)._overflowWeeks&&t===-1&&(t=gi),f(e)._overflowWeekday&&t===-1&&(t=pi),f(e).overflow=t),e}function rt(e,t,n){return null!=e?e:null!=t?t:n}function at(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ot(e){var t,n,s,i,r,a=[];if(!e._d){for(s=at(e),e._w&&null==e._a[ci]&&null==e._a[hi]&&ut(e),null!=e._dayOfYear&&(r=rt(e._a[di],s[di]),(e._dayOfYear>K(r)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=ve(r,0,e._dayOfYear),e._a[hi]=n.getUTCMonth(),e._a[ci]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=s[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[fi]&&0===e._a[mi]&&0===e._a[_i]&&0===e._a[yi]&&(e._nextDay=!0,e._a[fi]=0),e._d=(e._useUTC?ve:we).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[fi]=24),e._w&&"undefined"!=typeof e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}function ut(e){var t,n,s,i,r,a,o,u;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)r=1,a=4,n=rt(t.GG,e._a[di],De(Yt(),1,4).year),s=rt(t.W,1),i=rt(t.E,1),(i<1||i>7)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=De(Yt(),r,a);n=rt(t.gg,e._a[di],l.year),s=rt(t.w,l.week),null!=t.d?(i=t.d,(i<0||i>6)&&(u=!0)):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r}s<1||s>ke(n,r,a)?f(e)._overflowWeeks=!0:null!=u?f(e)._overflowWeekday=!0:(o=Se(n,s,i,r,a),e._a[di]=o.year,e._dayOfYear=o.dayOfYear)}function lt(e){var t,n,s,i,r,a,o=e._i,u=Gi.exec(o)||Vi.exec(o);if(u){for(f(e).iso=!0,t=0,n=Ii.length;t<n;t++)if(Ii[t][1].exec(u[1])){i=Ii[t][0],s=Ii[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Ai.length;t<n;t++)if(Ai[t][1].exec(u[3])){r=(u[2]||" ")+Ai[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!Ei.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),gt(e)}else e._isValid=!1}function dt(e,t,n,s,i,r){var a=[ht(e),Di.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}function ht(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ct(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function ft(e,t,n){if(e){var s=xi.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(s!==i)return f(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function mt(e,t,n){if(e)return zi[e];if(t)return 0;var s=parseInt(n,10),i=s%100,r=(s-i)/100;return 60*r+i}function _t(e){var t=Zi.exec(ct(e._i));if(t){var n=dt(t[4],t[3],t[2],t[5],t[6],t[7]);if(!ft(t[1],n,e))return;e._a=n,e._tzm=mt(t[8],t[9],t[10]),e._d=ve.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function yt(t){var n=ji.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(lt(t),void(t._isValid===!1&&(delete t._isValid,_t(t),t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t)))))}function gt(t){if(t._f===e.ISO_8601)return void lt(t);if(t._f===e.RFC_2822)return void _t(t);t._a=[],f(t).empty=!0;var n,s,i,r,a,o=""+t._i,u=o.length,l=0;for(i=Z(t._f,t._locale).match(Es)||[],n=0;n<i.length;n++)r=i[n],s=(o.match($(r,t))||[])[0],s&&(a=o.substr(0,o.indexOf(s)),a.length>0&&f(t).unusedInput.push(a),o=o.slice(o.indexOf(s)+s.length),l+=s.length),js[r]?(s?f(t).empty=!1:f(t).unusedTokens.push(r),X(r,s,t)):t._strict&&!s&&f(t).unusedTokens.push(r);f(t).charsLeftOver=u-l,o.length>0&&f(t).unusedInput.push(o),t._a[fi]<=12&&f(t).bigHour===!0&&t._a[fi]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[fi]=pt(t._locale,t._a[fi],t._meridiem),ot(t),it(t)}function pt(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(s=e.isPM(n),s&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function wt(e){var t,n,s,i,r;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],gt(t),m(t)&&(r+=f(t).charsLeftOver,r+=10*f(t).unusedTokens.length,f(t).score=r,(null==s||r<s)&&(s=r,n=t));d(e,n||t)}function vt(e){if(!e._d){var t=U(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ot(e)}}function Mt(e){var t=new g(it(St(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function St(e){var t=e._i,s=e._f;return e._locale=e._locale||nt(e._l),null===t||void 0===s&&""===t?_({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),p(t)?new g(it(t)):(o(t)?e._d=t:n(s)?wt(e):s?gt(e):Dt(e),m(e)||(e._d=null),e))}function Dt(t){var i=t._i;r(i)?t._d=new Date(e.now()):o(i)?t._d=new Date(i.valueOf()):"string"==typeof i?yt(t):n(i)?(t._a=u(i.slice(0),function(e){return parseInt(e,10)}),ot(t)):s(i)?vt(t):a(i)?t._d=new Date(i):e.createFromInputFallback(t)}function kt(e,t,r,a,o){var u={};return r!==!0&&r!==!1||(a=r,r=void 0),(s(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=r,u._i=e,u._f=t,u._strict=a,Mt(u)}function Yt(e,t,n,s){return kt(e,t,n,s,!1)}function Ot(e,t){var s,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Yt();for(s=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](s)||(s=t[i]);return s}function Tt(){var e=[].slice.call(arguments,0);return Ot("isBefore",e)}function xt(){var e=[].slice.call(arguments,0);return Ot("isAfter",e)}function bt(e){for(var t in e)if(wi.call(Bi,t)===-1||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<Bi.length;++s)if(e[Bi[s]]){if(n)return!1;parseFloat(e[Bi[s]])!==v(e[Bi[s]])&&(n=!0)}return!0}function Pt(){return this._isValid}function Wt(){return Bt(NaN)}function Ht(e){var t=U(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,d=t.millisecond||0;this._isValid=bt(t),this._milliseconds=+d+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=nt(),this._bubble()}function Rt(e){return e instanceof Ht}function Ct(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Ft(e,t){E(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+V(~~(e/60),2)+t+V(~~e%60,2)})}function Lt(e,t){var n=(t||"").match(e);if(null===n)return null;var s=n[n.length-1]||[],i=(s+"").match(Qi)||["-",0,0],r=+(60*i[1])+v(i[2]);return 0===r?0:"+"===i[0]?r:-r}function Ut(t,n){var s,i;return n._isUTC?(s=n.clone(),i=(p(t)||o(t)?t.valueOf():Yt(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),e.updateOffset(s,!1),s):Yt(t).local()}function Nt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Gt(t,n,s){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Lt(ri,t),null===t)return this}else Math.abs(t)<16&&!s&&(t=60*t);return!this._isUTC&&n&&(i=Nt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?tn(this,Bt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Nt(this)}function Vt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Et(e){return this.utcOffset(0,e)}function It(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Nt(this),"m")),this}function At(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Lt(ii,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function jt(e){return!!this.isValid()&&(e=e?Yt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function zt(){if(!r(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),e=St(e),e._a){var t=e._isUTC?h(e._a):Yt(e._a);this._isDSTShifted=this.isValid()&&M(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function $t(){return!!this.isValid()&&!this._isUTC}function qt(){return!!this.isValid()&&this._isUTC}function Jt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Bt(e,t){var n,s,i,r=e,o=null;return Rt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(r={},t?r[t]=e:r.milliseconds=e):(o=Xi.exec(e))?(n="-"===o[1]?-1:1,r={y:0,d:v(o[ci])*n,h:v(o[fi])*n,m:v(o[mi])*n,s:v(o[_i])*n,ms:v(Ct(1e3*o[yi]))*n}):(o=Ki.exec(e))?(n="-"===o[1]?-1:1,r={y:Qt(o[2],n),M:Qt(o[3],n),w:Qt(o[4],n),d:Qt(o[5],n),h:Qt(o[6],n),m:Qt(o[7],n),s:Qt(o[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(i=Kt(Yt(r.from),Yt(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),s=new Ht(r),Rt(e)&&l(e,"_locale")&&(s._locale=e._locale),s}function Qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Xt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){var n;return e.isValid()&&t.isValid()?(t=Ut(t,e),e.isBefore(t)?n=Xt(e,t):(n=Xt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function en(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),n="string"==typeof n?+n:n,i=Bt(n,s),tn(this,i,e),this}}function tn(t,n,s,i){var r=n._milliseconds,a=Ct(n._days),o=Ct(n._months);t.isValid()&&(i=null==i||i,o&&fe(t,se(t,"Month")+o*s),a&&ie(t,"Date",se(t,"Date")+a*s),r&&t._d.setTime(t._d.valueOf()+r*s),i&&e.updateOffset(t,a||o))}function nn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function sn(t,n){var s=t||Yt(),i=Ut(s,this).startOf("day"),r=e.calendarFormat(this,i)||"sameElse",a=n&&(Y(n[r])?n[r].call(this,s):n[r]);return this.format(a||this.localeData().calendar(r,this,Yt(s)))}function rn(){return new g(this)}function an(e,t){var n=p(e)?e:Yt(e);return!(!this.isValid()||!n.isValid())&&(t=L(t)||"millisecond","millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function on(e,t){var n=p(e)?e:Yt(e);return!(!this.isValid()||!n.isValid())&&(t=L(t)||"millisecond","millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function un(e,t,n,s){var i=p(e)?e:Yt(e),r=p(t)?t:Yt(t);return!!(this.isValid()&&i.isValid()&&r.isValid())&&(s=s||"()",("("===s[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===s[1]?this.isBefore(r,n):!this.isAfter(r,n)))}function ln(e,t){var n,s=p(e)?e:Yt(e);return!(!this.isValid()||!s.isValid())&&(t=L(t)||"millisecond","millisecond"===t?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function dn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function hn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function cn(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(s=Ut(e,this),!s.isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=L(t)){case"year":r=fn(this,s)/12;break;case"month":r=fn(this,s);break;case"quarter":r=fn(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:w(r)}function fn(e,t){var n,s,i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,"months");return t-r<0?(n=e.clone().add(i-1,"months"),s=(t-r)/(r-n)):(n=e.clone().add(i+1,"months"),s=(t-r)/(n-r)),-(i+s)||0}function mn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function _n(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?j(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Y(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(n,"Z")):j(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function yn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",r=t+'[")]';return this.format(n+s+i+r)}function gn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=j(this,t);return this.localeData().postformat(n)}function pn(e,t){return this.isValid()&&(p(e)&&e.isValid()||Yt(e).isValid())?Bt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wn(e){return this.from(Yt(),e)}function vn(e,t){return this.isValid()&&(p(e)&&e.isValid()||Yt(e).isValid())?Bt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Mn(e){return this.to(Yt(),e)}function Sn(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function Dn(){return this._locale}function kn(e){switch(e=L(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":
case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Yn(e){return e=L(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function On(){return this._d.valueOf()-6e4*(this._offset||0)}function Tn(){return Math.floor(this.valueOf()/1e3)}function xn(){return new Date(this.valueOf())}function bn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Pn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Wn(){return this.isValid()?this.toISOString():null}function Hn(){return m(this)}function Rn(){return d({},f(this))}function Cn(){return f(this).overflow}function Fn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ln(e,t){E(0,[e,e.length],0,t)}function Un(e){return En.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Nn(e){return En.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gn(){return ke(this.year(),1,4)}function Vn(){var e=this.localeData()._week;return ke(this.year(),e.dow,e.doy)}function En(e,t,n,s,i){var r;return null==e?De(this,s,i).year:(r=ke(e,s,i),t>r&&(t=r),In.call(this,e,t,n,s,i))}function In(e,t,n,s,i){var r=Se(e,t,n,s,i),a=ve(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function An(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function jn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Zn(e,t){t[yi]=v(1e3*("0."+e))}function zn(){return this._isUTC?"UTC":""}function $n(){return this._isUTC?"Coordinated Universal Time":""}function qn(e){return Yt(1e3*e)}function Jn(){return Yt.apply(null,arguments).parseZone()}function Bn(e){return e}function Qn(e,t,n,s){var i=nt(),r=h().set(s,t);return i[n](r,e)}function Xn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return Qn(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Qn(e,s,n,"month");return i}function Kn(e,t,n,s){"boolean"==typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var i=nt(),r=e?i._week.dow:0;if(null!=n)return Qn(t,(n+r)%7,s,"day");var o,u=[];for(o=0;o<7;o++)u[o]=Qn(t,(o+r)%7,s,"day");return u}function es(e,t){return Xn(e,t,"months")}function ts(e,t){return Xn(e,t,"monthsShort")}function ns(e,t,n){return Kn(e,t,n,"weekdays")}function ss(e,t,n){return Kn(e,t,n,"weekdaysShort")}function is(e,t,n){return Kn(e,t,n,"weekdaysMin")}function rs(){var e=this._data;return this._milliseconds=dr(this._milliseconds),this._days=dr(this._days),this._months=dr(this._months),e.milliseconds=dr(e.milliseconds),e.seconds=dr(e.seconds),e.minutes=dr(e.minutes),e.hours=dr(e.hours),e.months=dr(e.months),e.years=dr(e.years),this}function as(e,t,n,s){var i=Bt(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function os(e,t){return as(this,e,t,1)}function us(e,t){return as(this,e,t,-1)}function ls(e){return e<0?Math.floor(e):Math.ceil(e)}function ds(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*ls(cs(o)+a),a=0,o=0),u.milliseconds=r%1e3,e=w(r/1e3),u.seconds=e%60,t=w(e/60),u.minutes=t%60,n=w(t/60),u.hours=n%24,a+=w(n/24),i=w(hs(a)),o+=i,a-=ls(cs(i)),s=w(o/12),o%=12,u.days=a,u.months=o,u.years=s,this}function hs(e){return 4800*e/146097}function cs(e){return 146097*e/4800}function fs(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if(e=L(e),"month"===e||"year"===e)return t=this._days+s/864e5,n=this._months+hs(t),"month"===e?n:n/12;switch(t=this._days+Math.round(cs(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}}function ms(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12):NaN}function _s(e){return function(){return this.as(e)}}function ys(){return Bt(this)}function gs(e){return e=L(e),this.isValid()?this[e+"s"]():NaN}function ps(e){return function(){return this.isValid()?this._data[e]:NaN}}function ws(){return w(this.days()/7)}function vs(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function Ms(e,t,n){var s=Bt(e).abs(),i=Or(s.as("s")),r=Or(s.as("m")),a=Or(s.as("h")),o=Or(s.as("d")),u=Or(s.as("M")),l=Or(s.as("y")),d=i<=Tr.ss&&["s",i]||i<Tr.s&&["ss",i]||r<=1&&["m"]||r<Tr.m&&["mm",r]||a<=1&&["h"]||a<Tr.h&&["hh",a]||o<=1&&["d"]||o<Tr.d&&["dd",o]||u<=1&&["M"]||u<Tr.M&&["MM",u]||l<=1&&["y"]||["yy",l];return d[2]=t,d[3]=+e>0,d[4]=n,vs.apply(null,d)}function Ss(e){return void 0===e?Or:"function"==typeof e&&(Or=e,!0)}function Ds(e,t){return void 0!==Tr[e]&&(void 0===t?Tr[e]:(Tr[e]=t,"s"===e&&(Tr.ss=t-1),!0))}function ks(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Ms(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Ys(e){return(e>0)-(e<0)||+e}function Os(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s=xr(this._milliseconds)/1e3,i=xr(this._days),r=xr(this._months);e=w(s/60),t=w(e/60),s%=60,e%=60,n=w(r/12),r%=12;var a=n,o=r,u=i,l=t,d=e,h=s?s.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var f=c<0?"-":"",m=Ys(this._months)!==Ys(c)?"-":"",_=Ys(this._days)!==Ys(c)?"-":"",y=Ys(this._milliseconds)!==Ys(c)?"-":"";return f+"P"+(a?m+a+"Y":"")+(o?m+o+"M":"")+(u?_+u+"D":"")+(l||d||h?"T":"")+(l?y+l+"H":"")+(d?y+d+"M":"")+(h?y+h+"S":"")}var Ts,xs;xs=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var bs=e.momentProperties=[],Ps=!1,Ws={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Hs;Hs=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var Rs={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Cs={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Fs="Invalid date",Ls="%d",Us=/\d{1,2}/,Ns={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Gs={},Vs={},Es=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Is=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,As={},js={},Zs=/\d/,zs=/\d\d/,$s=/\d{3}/,qs=/\d{4}/,Js=/[+-]?\d{6}/,Bs=/\d\d?/,Qs=/\d\d\d\d?/,Xs=/\d\d\d\d\d\d?/,Ks=/\d{1,3}/,ei=/\d{1,4}/,ti=/[+-]?\d{1,6}/,ni=/\d+/,si=/[+-]?\d+/,ii=/Z|[+-]\d\d:?\d\d/gi,ri=/Z|[+-]\d\d(?::?\d\d)?/gi,ai=/[+-]?\d+(\.\d{1,3})?/,oi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ui={},li={},di=0,hi=1,ci=2,fi=3,mi=4,_i=5,yi=6,gi=7,pi=8;E("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),F("year","y"),N("year",1),z("Y",si),z("YY",Bs,zs),z("YYYY",ei,qs),z("YYYYY",ti,Js),z("YYYYYY",ti,Js),B(["YYYYY","YYYYYY"],di),B("YYYY",function(t,n){n[di]=2===t.length?e.parseTwoDigitYear(t):v(t)}),B("YY",function(t,n){n[di]=e.parseTwoDigitYear(t)}),B("Y",function(e,t){t[di]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var wi,vi=ne("FullYear",!0);wi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),E("MMMM",0,0,function(e){return this.localeData().months(this,e)}),F("month","M"),N("month",8),z("M",Bs),z("MM",Bs,zs),z("MMM",function(e,t){return t.monthsShortRegex(e)}),z("MMMM",function(e,t){return t.monthsRegex(e)}),B(["M","MM"],function(e,t){t[hi]=v(e)-1}),B(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[hi]=i:f(n).invalidMonth=e});var Mi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Si="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Di="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ki=oi,Yi=oi;E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),F("week","w"),F("isoWeek","W"),N("week",5),N("isoWeek",5),z("w",Bs),z("ww",Bs,zs),z("W",Bs),z("WW",Bs,zs),Q(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=v(e)});var Oi={dow:0,doy:6};E("d",0,"do","day"),E("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),E("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),E("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),F("day","d"),F("weekday","e"),F("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),z("d",Bs),z("e",Bs),z("E",Bs),z("dd",function(e,t){return t.weekdaysMinRegex(e)}),z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),z("dddd",function(e,t){return t.weekdaysRegex(e)}),Q(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),Q(["d","e","E"],function(e,t,n,s){t[s]=v(e)});var Ti="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),bi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Pi=oi,Wi=oi,Hi=oi;E("H",["HH",2],0,"hour"),E("h",["hh",2],0,je),E("k",["kk",2],0,Ze),E("hmm",0,0,function(){return""+je.apply(this)+V(this.minutes(),2)}),E("hmmss",0,0,function(){return""+je.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),E("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),E("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),ze("a",!0),ze("A",!1),F("hour","h"),N("hour",13),z("a",$e),z("A",$e),z("H",Bs),z("h",Bs),z("k",Bs),z("HH",Bs,zs),z("hh",Bs,zs),z("kk",Bs,zs),z("hmm",Qs),z("hmmss",Xs),z("Hmm",Qs),z("Hmmss",Xs),B(["H","HH"],fi),B(["k","kk"],function(e,t,n){var s=v(e);t[fi]=24===s?0:s}),B(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),B(["h","hh"],function(e,t,n){t[fi]=v(e),f(n).bigHour=!0}),B("hmm",function(e,t,n){var s=e.length-2;t[fi]=v(e.substr(0,s)),t[mi]=v(e.substr(s)),f(n).bigHour=!0}),B("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[fi]=v(e.substr(0,s)),t[mi]=v(e.substr(s,2)),t[_i]=v(e.substr(i)),f(n).bigHour=!0}),B("Hmm",function(e,t,n){var s=e.length-2;t[fi]=v(e.substr(0,s)),t[mi]=v(e.substr(s))}),B("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[fi]=v(e.substr(0,s)),t[mi]=v(e.substr(s,2)),t[_i]=v(e.substr(i))});var Ri,Ci=/[ap]\.?m?\.?/i,Fi=ne("Hours",!0),Li={calendar:Rs,longDateFormat:Cs,invalidDate:Fs,ordinal:Ls,dayOfMonthOrdinalParse:Us,relativeTime:Ns,months:Si,monthsShort:Di,week:Oi,weekdays:Ti,weekdaysMin:bi,weekdaysShort:xi,meridiemParse:Ci},Ui={},Ni={},Gi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ei=/Z|[+-]\d\d(?::?\d\d)?/,Ii=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ai=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ji=/^\/?Date\((\-?\d+)/i,Zi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,zi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=D("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var $i=D("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()}),qi=D("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()}),Ji=function(){return Date.now?Date.now():+new Date},Bi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ft("Z",":"),Ft("ZZ",""),z("Z",ri),z("ZZ",ri),B(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Lt(ri,e)});var Qi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Xi=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ki=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Bt.fn=Ht.prototype,Bt.invalid=Wt;var er=en(1,"add"),tr=en(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nr=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ln("gggg","weekYear"),Ln("ggggg","weekYear"),Ln("GGGG","isoWeekYear"),Ln("GGGGG","isoWeekYear"),F("weekYear","gg"),F("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),z("G",si),z("g",si),z("GG",Bs,zs),z("gg",Bs,zs),z("GGGG",ei,qs),z("gggg",ei,qs),z("GGGGG",ti,Js),z("ggggg",ti,Js),Q(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=v(e)}),Q(["gg","GG"],function(t,n,s,i){n[i]=e.parseTwoDigitYear(t)}),E("Q",0,"Qo","quarter"),F("quarter","Q"),N("quarter",7),z("Q",Zs),B("Q",function(e,t){t[hi]=3*(v(e)-1)}),E("D",["DD",2],"Do","date"),F("date","D"),N("date",9),z("D",Bs),z("DD",Bs,zs),z("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),B(["D","DD"],ci),B("Do",function(e,t){t[ci]=v(e.match(Bs)[0])});var sr=ne("Date",!0);E("DDD",["DDDD",3],"DDDo","dayOfYear"),F("dayOfYear","DDD"),N("dayOfYear",4),z("DDD",Ks),z("DDDD",$s),B(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),E("m",["mm",2],0,"minute"),F("minute","m"),N("minute",14),z("m",Bs),z("mm",Bs,zs),B(["m","mm"],mi);var ir=ne("Minutes",!1);E("s",["ss",2],0,"second"),F("second","s"),N("second",15),z("s",Bs),z("ss",Bs,zs),B(["s","ss"],_i);var rr=ne("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return 10*this.millisecond()}),E(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),E(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),E(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),E(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),E(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),F("millisecond","ms"),N("millisecond",16),z("S",Ks,Zs),z("SS",Ks,zs),z("SSS",Ks,$s);var ar;for(ar="SSSS";ar.length<=9;ar+="S")z(ar,ni);for(ar="S";ar.length<=9;ar+="S")B(ar,Zn);var or=ne("Milliseconds",!1);E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var ur=g.prototype;ur.add=er,ur.calendar=sn,ur.clone=rn,ur.diff=cn,ur.endOf=Yn,ur.format=gn,ur.from=pn,ur.fromNow=wn,ur.to=vn,ur.toNow=Mn,ur.get=re,ur.invalidAt=Cn,ur.isAfter=an,ur.isBefore=on,ur.isBetween=un,ur.isSame=ln,ur.isSameOrAfter=dn,ur.isSameOrBefore=hn,ur.isValid=Hn,ur.lang=nr,ur.locale=Sn,ur.localeData=Dn,ur.max=qi,ur.min=$i,ur.parsingFlags=Rn,ur.set=ae,ur.startOf=kn,ur.subtract=tr,ur.toArray=bn,ur.toObject=Pn,ur.toDate=xn,ur.toISOString=_n,ur.inspect=yn,ur.toJSON=Wn,ur.toString=mn,ur.unix=Tn,ur.valueOf=On,ur.creationData=Fn,ur.year=vi,ur.isLeapYear=te,ur.weekYear=Un,ur.isoWeekYear=Nn,ur.quarter=ur.quarters=An,ur.month=me,ur.daysInMonth=_e,ur.week=ur.weeks=xe,ur.isoWeek=ur.isoWeeks=be,ur.weeksInYear=Vn,ur.isoWeeksInYear=Gn,ur.date=sr,ur.day=ur.days=Ue,ur.weekday=Ne,ur.isoWeekday=Ge,ur.dayOfYear=jn,ur.hour=ur.hours=Fi,ur.minute=ur.minutes=ir,ur.second=ur.seconds=rr,ur.millisecond=ur.milliseconds=or,ur.utcOffset=Gt,ur.utc=Et,ur.local=It,ur.parseZone=At,ur.hasAlignedHourOffset=jt,ur.isDST=Zt,ur.isLocal=$t,ur.isUtcOffset=qt,ur.isUtc=Jt,ur.isUTC=Jt,ur.zoneAbbr=zn,ur.zoneName=$n,ur.dates=D("dates accessor is deprecated. Use date instead.",sr),ur.months=D("months accessor is deprecated. Use month instead",me),ur.years=D("years accessor is deprecated. Use year instead",vi),ur.zone=D("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Vt),ur.isDSTShifted=D("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",zt);var lr=x.prototype;lr.calendar=b,lr.longDateFormat=P,lr.invalidDate=W,lr.ordinal=H,lr.preparse=Bn,lr.postformat=Bn,lr.relativeTime=R,lr.pastFuture=C,lr.set=O,lr.months=le,lr.monthsShort=de,lr.monthsParse=ce,lr.monthsRegex=ge,lr.monthsShortRegex=ye,lr.week=Ye,lr.firstDayOfYear=Te,lr.firstDayOfWeek=Oe,lr.weekdays=He,lr.weekdaysMin=Ce,lr.weekdaysShort=Re,lr.weekdaysParse=Le,lr.weekdaysRegex=Ve,lr.weekdaysShortRegex=Ee,lr.weekdaysMinRegex=Ie,lr.isPM=qe,lr.meridiem=Je,Ke("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=D("moment.lang is deprecated. Use moment.locale instead.",Ke),e.langData=D("moment.langData is deprecated. Use moment.localeData instead.",nt);var dr=Math.abs,hr=_s("ms"),cr=_s("s"),fr=_s("m"),mr=_s("h"),_r=_s("d"),yr=_s("w"),gr=_s("M"),pr=_s("y"),wr=ps("milliseconds"),vr=ps("seconds"),Mr=ps("minutes"),Sr=ps("hours"),Dr=ps("days"),kr=ps("months"),Yr=ps("years"),Or=Math.round,Tr={ss:44,s:45,m:45,h:22,d:26,M:11},xr=Math.abs,br=Ht.prototype;return br.isValid=Pt,br.abs=rs,br.add=os,br.subtract=us,br.as=fs,br.asMilliseconds=hr,br.asSeconds=cr,br.asMinutes=fr,br.asHours=mr,br.asDays=_r,br.asWeeks=yr,br.asMonths=gr,br.asYears=pr,br.valueOf=ms,br._bubble=ds,br.clone=ys,br.get=gs,br.milliseconds=wr,br.seconds=vr,br.minutes=Mr,br.hours=Sr,br.days=Dr,br.weeks=ws,br.months=kr,br.years=Yr,br.humanize=ks,br.toISOString=Os,br.toString=Os,br.toJSON=Os,br.locale=Sn,br.localeData=Dn,br.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Os),br.lang=nr,E("X",0,0,"unix"),E("x",0,0,"valueOf"),z("x",si),z("X",ai),B("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),B("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.23.0",t(Yt),e.fn=ur,e.min=Tt,e.max=xt,e.now=Ji,e.utc=h,e.unix=qn,e.months=es,e.isDate=o,e.locale=Ke,e.invalid=_,e.duration=Bt,e.isMoment=p,e.weekdays=ns,e.parseZone=Jn,e.localeData=nt,e.isDuration=Rt,e.monthsShort=ts,e.weekdaysMin=is,e.defineLocale=et,e.updateLocale=tt,e.locales=st,e.weekdaysShort=ss,e.normalizeUnits=L,e.relativeTimeRounding=Ss,e.relativeTimeThreshold=Ds,e.calendarFormat=nn,e.prototype=ur,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e});
},{}],"pc-bootstrap4-datetimepicker":[function(require,module,exports){
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)module.exports=e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var a=function(a,n){var r,i,o,d,s,l,p,c={},u=!0,f=!1,m=!1,h=0,y=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],w=["days","months","years","decades"],b=["top","bottom","auto"],g=["left","right","auto"],v=["default","top","bottom"],k={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},D={},C=function(){return void 0!==t.tz&&void 0!==n.timeZone&&null!==n.timeZone&&""!==n.timeZone},x=function(e){var a;return a=void 0===e||null===e?t():t.isDate(e)||t.isMoment(e)?t(e):C()?t.tz(e,l,n.useStrict,n.timeZone):t(e,l,n.useStrict),C()&&a.tz(n.timeZone),a},T=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return s.indexOf("Y")!==-1;case"M":return s.indexOf("M")!==-1;case"d":return s.toLowerCase().indexOf("d")!==-1;case"h":case"H":return s.toLowerCase().indexOf("h")!==-1;case"m":return s.indexOf("m")!==-1;case"s":return s.indexOf("s")!==-1;default:return!1}},M=function(){return T("h")||T("m")||T("s")},S=function(){return T("y")||T("M")||T("d")},O=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<i>").addClass(n.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",n.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<i>").addClass(n.icons.next)))),a=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",n.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone()))]},P=function(){var t=e("<tr>"),a=e("<tr>"),r=e("<tr>");return T("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(e("<i>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:n.tooltips.pickHour}).attr("data-action","showHours"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(e("<i>").addClass(n.icons.down))))),T("m")&&(T("h")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(e("<i>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:n.tooltips.pickMinute}).attr("data-action","showMinutes"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(e("<i>").addClass(n.icons.down))))),T("s")&&(T("m")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(e("<i>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:n.tooltips.pickSecond}).attr("data-action","showSeconds"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(e("<i>").addClass(n.icons.down))))),d||(t.append(e("<td>").addClass("separator")),a.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:n.tooltips.togglePeriod}))),r.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,a,r]))},E=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),a=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),r=[P()];return T("h")&&r.push(t),T("m")&&r.push(a),T("s")&&r.push(n),r},H=function(){var t=[];return n.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:n.tooltips.today}).append(e("<i>").addClass(n.icons.today)))),!n.sideBySide&&S()&&M()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:n.tooltips.selectTime}).append(e("<i>").addClass(n.icons.time)))),n.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:n.tooltips.clear}).append(e("<i>").addClass(n.icons.clear)))),n.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:n.tooltips.close}).append(e("<i>").addClass(n.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},I=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),a=e("<div>").addClass("datepicker").append(O()),r=e("<div>").addClass("timepicker").append(E()),i=e("<ul>").addClass("list-unstyled"),o=e("<li>").addClass("picker-switch"+(n.collapse?" accordion-toggle":"")).append(H());return n.inline&&t.removeClass("dropdown-menu"),d&&t.addClass("usetwentyfour"),T("s")&&!d&&t.addClass("wider"),n.sideBySide&&S()&&M()?(t.addClass("timepicker-sbs"),"top"===n.toolbarPlacement&&t.append(o),t.append(e("<div>").addClass("row").append(a.addClass("col-md-6")).append(r.addClass("col-md-6"))),"bottom"===n.toolbarPlacement&&t.append(o),t):("top"===n.toolbarPlacement&&i.append(o),S()&&i.append(e("<li>").addClass(n.collapse&&M()?"collapse show":"").append(a)),"default"===n.toolbarPlacement&&i.append(o),M()&&i.append(e("<li>").addClass(n.collapse&&S()?"collapse":"").append(r)),"bottom"===n.toolbarPlacement&&i.append(o),t.append(i))},Y=function(){var t,r={};return t=a.is("input")||n.inline?a.data():a.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(r=e.extend(!0,r,t.dateOptions)),e.each(n,function(e){var a="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[a]&&(r[e]=t[a])}),r},q=function(){var t,r=(f||a).position(),i=(f||a).offset(),o=n.widgetPositioning.vertical,d=n.widgetPositioning.horizontal;if(n.widgetParent)t=n.widgetParent.append(m);else if(a.is("input"))t=a.after(m).parent();else{if(n.inline)return void(t=a.append(m));t=a,a.children().first().after(m)}if("auto"===o&&(o=i.top+1.5*m.height()>=e(window).height()+e(window).scrollTop()&&m.height()+a.outerHeight()<i.top?"top":"bottom"),"auto"===d&&(d=t.width()<i.left+m.outerWidth()/2&&i.left+m.outerWidth()>e(window).width()?"right":"left"),"top"===o?m.addClass("top").removeClass("bottom"):m.addClass("bottom").removeClass("top"),"right"===d?m.addClass("pull-right"):m.removeClass("pull-right"),"static"===t.css("position")&&(t=t.parents().filter(function(){return"static"!==e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");m.css({top:"top"===o?"auto":r.top+a.outerHeight(),bottom:"top"===o?t.outerHeight()-(t===a?0:r.top):"auto",left:"left"===d?t===a?0:r.left:"auto",right:"left"===d?"auto":t.outerWidth()-a.outerWidth()-(t===a?0:r.left)})},B=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||a.trigger(e)},j=function(e){"y"===e&&(e="YYYY"),B({type:"dp.update",change:e,viewDate:i.clone()})},A=function(e){m&&(e&&(p=Math.max(h,Math.min(3,p+e))),m.find(".datepicker > div").hide().filter(".datepicker-"+y[p].clsName).show())},F=function(){var t=e("<tr>"),a=i.clone().startOf("w").startOf("d");for(n.calendarWeeks===!0&&t.append(e("<th>").addClass("cw").text("#"));a.isBefore(i.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(a.format("dd"))),a.add(1,"d");m.find(".datepicker-days thead").append(t)},L=function(e){return n.disabledDates[e.format("YYYY-MM-DD")]===!0},W=function(e){return n.enabledDates[e.format("YYYY-MM-DD")]===!0},z=function(e){return n.disabledHours[e.format("H")]===!0},N=function(e){return n.enabledHours[e.format("H")]===!0},V=function(t,a){if(!t.isValid())return!1;if(n.disabledDates&&"d"===a&&L(t))return!1;if(n.enabledDates&&"d"===a&&!W(t))return!1;if(n.minDate&&t.isBefore(n.minDate,a))return!1;if(n.maxDate&&t.isAfter(n.maxDate,a))return!1;if(n.daysOfWeekDisabled&&"d"===a&&n.daysOfWeekDisabled.indexOf(t.day())!==-1)return!1;if(n.disabledHours&&("h"===a||"m"===a||"s"===a)&&z(t))return!1;if(n.enabledHours&&("h"===a||"m"===a||"s"===a)&&!N(t))return!1;if(n.disabledTimeIntervals&&("h"===a||"m"===a||"s"===a)){var r=!1;if(e.each(n.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return r=!0,!1}),r)return!1}return!0},Z=function(){for(var t=[],a=i.clone().startOf("y").startOf("d");a.isSame(i,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(a.format("MMM"))),a.add(1,"M");m.find(".datepicker-months td").empty().append(t)},R=function(){var t=m.find(".datepicker-months"),a=t.find("th"),o=t.find("tbody").find("span");a.eq(0).find("span").attr("title",n.tooltips.prevYear),a.eq(1).attr("title",n.tooltips.selectYear),a.eq(2).find("span").attr("title",n.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),V(i.clone().subtract(1,"y"),"y")||a.eq(0).addClass("disabled"),a.eq(1).text(i.year()),V(i.clone().add(1,"y"),"y")||a.eq(2).addClass("disabled"),o.removeClass("active"),r.isSame(i,"y")&&!u&&o.eq(r.month()).addClass("active"),o.each(function(t){V(i.clone().month(t),"M")||e(this).addClass("disabled")})},Q=function(){var e=m.find(".datepicker-years"),t=e.find("th"),a=i.clone().subtract(5,"y"),o=i.clone().add(6,"y"),d="";for(t.eq(0).find("span").attr("title",n.tooltips.prevDecade),t.eq(1).attr("title",n.tooltips.selectDecade),t.eq(2).find("span").attr("title",n.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),n.minDate&&n.minDate.isAfter(a,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(a.year()+"-"+o.year()),n.maxDate&&n.maxDate.isBefore(o,"y")&&t.eq(2).addClass("disabled");!a.isAfter(o,"y");)d+='<span data-action="selectYear" class="year'+(a.isSame(r,"y")&&!u?" active":"")+(V(a,"y")?"":" disabled")+'">'+a.year()+"</span>",a.add(1,"y");e.find("td").html(d)},U=function(){var e,a=m.find(".datepicker-decades"),o=a.find("th"),d=t({y:i.year()-i.year()%100-1}),s=d.clone().add(100,"y"),l=d.clone(),p=!1,c=!1,u="";for(o.eq(0).find("span").attr("title",n.tooltips.prevCentury),o.eq(2).find("span").attr("title",n.tooltips.nextCentury),a.find(".disabled").removeClass("disabled"),(d.isSame(t({y:1900}))||n.minDate&&n.minDate.isAfter(d,"y"))&&o.eq(0).addClass("disabled"),o.eq(1).text(d.year()+"-"+s.year()),(d.isSame(t({y:2e3}))||n.maxDate&&n.maxDate.isBefore(s,"y"))&&o.eq(2).addClass("disabled");!d.isAfter(s,"y");)e=d.year()+12,p=n.minDate&&n.minDate.isAfter(d,"y")&&n.minDate.year()<=e,c=n.maxDate&&n.maxDate.isAfter(d,"y")&&n.maxDate.year()<=e,u+='<span data-action="selectDecade" class="decade'+(r.isAfter(d)&&r.year()<=e?" active":"")+(V(d,"y")||p||c?"":" disabled")+'" data-selection="'+(d.year()+6)+'">'+(d.year()+1)+" - "+(d.year()+12)+"</span>",d.add(12,"y");u+="<span></span><span></span><span></span>",a.find("td").html(u),o.eq(1).text(l.year()+1+"-"+d.year())},G=function(){var t,a,o,d=m.find(".datepicker-days"),s=d.find("th"),l=[],p=[];if(S()){for(s.eq(0).find("span").attr("title",n.tooltips.prevMonth),s.eq(1).attr("title",n.tooltips.selectMonth),s.eq(2).find("span").attr("title",n.tooltips.nextMonth),d.find(".disabled").removeClass("disabled"),s.eq(1).text(i.format(n.dayViewHeaderFormat)),V(i.clone().subtract(1,"M"),"M")||s.eq(0).addClass("disabled"),V(i.clone().add(1,"M"),"M")||s.eq(2).addClass("disabled"),t=i.clone().startOf("M").startOf("w").startOf("d"),o=0;o<42;o++)0===t.weekday()&&(a=e("<tr>"),n.calendarWeeks&&a.append('<td class="cw">'+t.week()+"</td>"),l.push(a)),p=["day"],t.isBefore(i,"M")&&p.push("old"),t.isAfter(i,"M")&&p.push("new"),t.isSame(r,"d")&&!u&&p.push("active"),V(t,"d")||p.push("disabled"),t.isSame(x(),"d")&&p.push("today"),0!==t.day()&&6!==t.day()||p.push("weekend"),B({type:"dp.classify",date:t,classNames:p}),a.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="'+p.join(" ")+'">'+t.date()+"</td>"),t.add(1,"d");d.find("tbody").empty().append(l),R(),Q(),U()}},J=function(){var t=m.find(".timepicker-hours table"),a=i.clone().startOf("d"),n=[],r=e("<tr>");for(i.hour()>11&&!d&&a.hour(12);a.isSame(i,"d")&&(d||i.hour()<12&&a.hour()<12||i.hour()>11);)a.hour()%4===0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectHour" class="hour'+(V(a,"h")?"":" disabled")+'">'+a.format(d?"HH":"hh")+"</td>"),a.add(1,"h");t.empty().append(n)},K=function(){for(var t=m.find(".timepicker-minutes table"),a=i.clone().startOf("h"),r=[],o=e("<tr>"),d=1===n.stepping?5:n.stepping;i.isSame(a,"h");)a.minute()%(4*d)===0&&(o=e("<tr>"),r.push(o)),o.append('<td data-action="selectMinute" class="minute'+(V(a,"m")?"":" disabled")+'">'+a.format("mm")+"</td>"),a.add(d,"m");t.empty().append(r)},X=function(){for(var t=m.find(".timepicker-seconds table"),a=i.clone().startOf("m"),n=[],r=e("<tr>");i.isSame(a,"m");)a.second()%20===0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectSecond" class="second'+(V(a,"s")?"":" disabled")+'">'+a.format("ss")+"</td>"),a.add(5,"s");t.empty().append(n)},$=function(){var e,t,a=m.find(".timepicker span[data-time-component]");d||(e=m.find(".timepicker [data-action=togglePeriod]"),t=r.clone().add(r.hours()>=12?-12:12,"h"),e.text(r.format("A")),V(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),a.filter("[data-time-component=hours]").text(r.format(d?"HH":"hh")),a.filter("[data-time-component=minutes]").text(r.format("mm")),a.filter("[data-time-component=seconds]").text(r.format("ss")),J(),K(),X()},_=function(){m&&(G(),$())},ee=function(e){var t=u?null:r;if(!e)return u=!0,o.val(""),a.data("date",""),B({type:"dp.change",date:!1,oldDate:t}),void _();if(e=e.clone().locale(n.locale),C()&&e.tz(n.timeZone),1!==n.stepping)for(e.minutes(Math.round(e.minutes()/n.stepping)*n.stepping).seconds(0);n.minDate&&e.isBefore(n.minDate);)e.add(n.stepping,"minutes");V(e)?(r=e,i=r.clone(),o.val(r.format(s)),a.data("date",r.format(s)),u=!1,_(),B({type:"dp.change",date:r.clone(),oldDate:t})):(n.keepInvalid?B({type:"dp.change",date:e,oldDate:t}):o.val(u?"":r.format(s)),B({type:"dp.error",date:e,oldDate:t}))},te=function(){var t=!1;return m?(m.find(".collapse").each(function(){var a=e(this).data("collapse");return!a||!a.transitioning||(t=!0,!1)}),t?c:(f&&f.hasClass("btn")&&f.toggleClass("active"),m.hide(),e(window).off("resize",q),m.off("click","[data-action]"),m.off("mousedown",!1),m.remove(),m=!1,B({type:"dp.hide",date:r.clone()}),o.blur(),i=r.clone(),c)):c},ae=function(){ee(null)},ne=function(e){return void 0===n.parseInputDate?(!t.isMoment(e)||e instanceof Date)&&(e=x(e)):e=n.parseInputDate(e),e},re={next:function(){var e=y[p].navFnc;i.add(y[p].navStep,e),G(),j(e)},previous:function(){var e=y[p].navFnc;i.subtract(y[p].navStep,e),G(),j(e)},pickerSwitch:function(){A(1)},selectMonth:function(t){var a=e(t.target).closest("tbody").find("span").index(e(t.target));i.month(a),p===h?(ee(r.clone().year(i.year()).month(i.month())),n.inline||te()):(A(-1),G()),j("M")},selectYear:function(t){var a=parseInt(e(t.target).text(),10)||0;i.year(a),p===h?(ee(r.clone().year(i.year())),n.inline||te()):(A(-1),G()),j("YYYY")},selectDecade:function(t){var a=parseInt(e(t.target).data("selection"),10)||0;i.year(a),p===h?(ee(r.clone().year(i.year())),n.inline||te()):(A(-1),G()),j("YYYY")},selectDay:function(t){var a=i.clone();e(t.target).is(".old")&&a.subtract(1,"M"),e(t.target).is(".new")&&a.add(1,"M"),ee(a.date(parseInt(e(t.target).text(),10))),M()||n.keepOpen||n.inline||te()},incrementHours:function(){var e=r.clone().add(1,"h");V(e,"h")&&ee(e)},incrementMinutes:function(){var e=r.clone().add(n.stepping,"m");V(e,"m")&&ee(e)},incrementSeconds:function(){var e=r.clone().add(1,"s");V(e,"s")&&ee(e)},decrementHours:function(){var e=r.clone().subtract(1,"h");V(e,"h")&&ee(e)},decrementMinutes:function(){var e=r.clone().subtract(n.stepping,"m");V(e,"m")&&ee(e)},decrementSeconds:function(){var e=r.clone().subtract(1,"s");V(e,"s")&&ee(e)},togglePeriod:function(){ee(r.clone().add(r.hours()>=12?-12:12,"h"))},togglePicker:function(t){var a,r=e(t.target),i=r.closest("ul"),o=i.find(".show"),d=i.find(".collapse:not(.show)");if(o&&o.length){if(a=o.data("collapse"),a&&a.transitioning)return;o.collapse?(o.collapse("hide"),d.collapse("show")):(o.removeClass("show"),d.addClass("show")),r.is("i")?r.toggleClass(n.icons.time+" "+n.icons.date):r.find("i").toggleClass(n.icons.time+" "+n.icons.date)}},showPicker:function(){m.find(".timepicker > div:not(.timepicker-picker)").hide(),m.find(".timepicker .timepicker-picker").show()},showHours:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-hours").show()},showMinutes:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var a=parseInt(e(t.target).text(),10);d||(r.hours()>=12?12!==a&&(a+=12):12===a&&(a=0)),ee(r.clone().hours(a)),re.showPicker.call(c)},selectMinute:function(t){ee(r.clone().minutes(parseInt(e(t.target).text(),10))),re.showPicker.call(c)},selectSecond:function(t){ee(r.clone().seconds(parseInt(e(t.target).text(),10))),re.showPicker.call(c)},clear:ae,today:function(){var e=x();V(e,"d")&&ee(e)},close:te},ie=function(t){return!e(t.currentTarget).is(".disabled")&&(re[e(t.currentTarget).data("action")].apply(c,arguments),!1)},oe=function(){var t,a={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return o.prop("disabled")||!n.ignoreReadonly&&o.prop("readonly")||m?c:(void 0!==o.val()&&0!==o.val().trim().length?ee(ne(o.val().trim())):u&&n.useCurrent&&(n.inline||o.is("input")&&0===o.val().trim().length)&&(t=x(),"string"==typeof n.useCurrent&&(t=a[n.useCurrent](t)),ee(t)),m=I(),F(),Z(),m.find(".timepicker-hours").hide(),m.find(".timepicker-minutes").hide(),m.find(".timepicker-seconds").hide(),_(),A(),e(window).on("resize",q),m.on("click","[data-action]",ie),m.on("mousedown",!1),f&&f.hasClass("btn")&&f.toggleClass("active"),q(),m.show(),n.focusOnShow&&!o.is(":focus")&&o.focus(),B({type:"dp.show"}),c)},de=function(){return m?te():oe()},se=function(e){var t,a,r,i,o=null,d=[],s={},l=e.which,p="p";D[l]=p;for(t in D)D.hasOwnProperty(t)&&D[t]===p&&(d.push(t),parseInt(t,10)!==l&&(s[t]=!0));for(t in n.keyBinds)if(n.keyBinds.hasOwnProperty(t)&&"function"==typeof n.keyBinds[t]&&(r=t.split(" "),r.length===d.length&&k[l]===r[r.length-1])){for(i=!0,a=r.length-2;a>=0;a--)if(!(k[r[a]]in s)){i=!1;break}if(i){o=n.keyBinds[t];break}}o&&(o.call(c,m),e.stopPropagation(),e.preventDefault())},le=function(e){D[e.which]="r",e.stopPropagation(),e.preventDefault()},pe=function(t){var a=e(t.target).val().trim(),n=a?ne(a):null;return ee(n),t.stopImmediatePropagation(),!1},ce=function(){o.on({change:pe,blur:n.debug?"":te,keydown:se,keyup:le,focus:n.allowInputToggle?oe:""}),a.is("input")?o.on({focus:oe}):f&&(f.on("click",de),f.on("mousedown",!1))},ue=function(){o.off({change:pe,blur:blur,keydown:se,keyup:le,focus:n.allowInputToggle?te:""}),a.is("input")?o.off({focus:oe}):f&&(f.off("click",de),f.off("mousedown",!1))},fe=function(t){var a={};return e.each(t,function(){var e=ne(this);e.isValid()&&(a[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(a).length&&a},me=function(t){var a={};return e.each(t,function(){a[this]=!0}),!!Object.keys(a).length&&a},he=function(){var e=n.format||"L LT";s=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=r.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return r.localeData().longDateFormat(e)||e})}),l=n.extraFormats?n.extraFormats.slice():[],l.indexOf(e)<0&&l.indexOf(s)<0&&l.push(s),d=s.toLowerCase().indexOf("a")<1&&s.replace(/\[.*?\]/g,"").indexOf("h")<1,T("y")&&(h=2),T("M")&&(h=1),T("d")&&(h=0),p=Math.max(h,p),u||ee(r)};if(c.destroy=function(){te(),ue(),a.removeData("DateTimePicker"),a.removeData("date")},c.toggle=de,c.show=oe,c.hide=te,c.disable=function(){return te(),f&&f.hasClass("btn")&&f.addClass("disabled"),o.prop("disabled",!0),c},c.enable=function(){return f&&f.hasClass("btn")&&f.removeClass("disabled"),o.prop("disabled",!1),c},c.ignoreReadonly=function(e){if(0===arguments.length)return n.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return n.ignoreReadonly=e,c},c.options=function(t){if(0===arguments.length)return e.extend(!0,{},n);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,n,t),e.each(n,function(e,t){if(void 0===c[e])throw new TypeError("option "+e+" is not recognized!");c[e](t)}),c},c.date=function(e){if(0===arguments.length)return u?null:r.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return ee(null===e?null:ne(e)),c},c.format=function(e){if(0===arguments.length)return n.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+e);return n.format=e,s&&he(),c},c.timeZone=function(e){if(0===arguments.length)return n.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");return n.timeZone=e,c},c.dayViewHeaderFormat=function(e){if(0===arguments.length)return n.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return n.dayViewHeaderFormat=e,c},c.extraFormats=function(e){if(0===arguments.length)return n.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return n.extraFormats=e,l&&he(),c},c.disabledDates=function(t){if(0===arguments.length)return n.disabledDates?e.extend({},n.disabledDates):n.disabledDates;if(!t)return n.disabledDates=!1,_(),c;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return n.disabledDates=fe(t),n.enabledDates=!1,_(),c},c.enabledDates=function(t){if(0===arguments.length)return n.enabledDates?e.extend({},n.enabledDates):n.enabledDates;if(!t)return n.enabledDates=!1,_(),c;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return n.enabledDates=fe(t),n.disabledDates=!1,_(),c},c.daysOfWeekDisabled=function(e){if(0===arguments.length)return n.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return n.daysOfWeekDisabled=!1,_(),c;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(n.daysOfWeekDisabled=e.reduce(function(e,t){return t=parseInt(t,10),t>6||t<0||isNaN(t)?e:(e.indexOf(t)===-1&&e.push(t),e)},[]).sort(),n.useCurrent&&!n.keepInvalid){for(var t=0;!V(r,"d");){if(r.add(1,"d"),31===t)throw"Tried 31 times to find a valid date";t++}ee(r)}return _(),c},c.maxDate=function(e){if(0===arguments.length)return n.maxDate?n.maxDate.clone():n.maxDate;if("boolean"==typeof e&&e===!1)return n.maxDate=!1,_(),c;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=ne(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(n.minDate&&t.isBefore(n.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(s));return n.maxDate=t,n.useCurrent&&!n.keepInvalid&&r.isAfter(e)&&ee(n.maxDate),i.isAfter(t)&&(i=t.clone().subtract(n.stepping,"m")),_(),c},c.minDate=function(e){if(0===arguments.length)return n.minDate?n.minDate.clone():n.minDate;if("boolean"==typeof e&&e===!1)return n.minDate=!1,_(),c;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=ne(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(n.maxDate&&t.isAfter(n.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(s));return n.minDate=t,n.useCurrent&&!n.keepInvalid&&r.isBefore(e)&&ee(n.minDate),i.isBefore(t)&&(i=t.clone().add(n.stepping,"m")),_(),c},c.defaultDate=function(e){if(0===arguments.length)return n.defaultDate?n.defaultDate.clone():n.defaultDate;if(!e)return n.defaultDate=!1,c;"string"==typeof e&&(e="now"===e||"moment"===e?x():x(e));var t=ne(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!V(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return n.defaultDate=t,(n.defaultDate&&n.inline||""===o.val().trim())&&ee(n.defaultDate),c},c.locale=function(e){if(0===arguments.length)return n.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return n.locale=e,r.locale(n.locale),i.locale(n.locale),s&&he(),m&&(te(),oe()),c},c.stepping=function(e){return 0===arguments.length?n.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),n.stepping=e,c)},c.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return n.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&t.indexOf(e.toLowerCase())===-1)throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return n.useCurrent=e,c},c.collapse=function(e){if(0===arguments.length)return n.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return n.collapse===e?c:(n.collapse=e,m&&(te(),oe()),c)},c.icons=function(t){if(0===arguments.length)return e.extend({},n.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(n.icons,t),m&&(te(),oe()),c},c.tooltips=function(t){if(0===arguments.length)return e.extend({},n.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(n.tooltips,t),m&&(te(),oe()),c},c.useStrict=function(e){if(0===arguments.length)return n.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return n.useStrict=e,c},c.sideBySide=function(e){if(0===arguments.length)return n.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return n.sideBySide=e,m&&(te(),oe()),c},c.viewMode=function(e){if(0===arguments.length)return n.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(w.indexOf(e)===-1)throw new TypeError("viewMode() parameter must be one of ("+w.join(", ")+") value");return n.viewMode=e,p=Math.max(w.indexOf(e),h),A(),c},c.toolbarPlacement=function(e){if(0===arguments.length)return n.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(v.indexOf(e)===-1)throw new TypeError("toolbarPlacement() parameter must be one of ("+v.join(", ")+") value");return n.toolbarPlacement=e,m&&(te(),oe()),c},c.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},n.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),g.indexOf(t.horizontal)===-1)throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+g.join(", ")+")");n.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),b.indexOf(t.vertical)===-1)throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+b.join(", ")+")");n.widgetPositioning.vertical=t.vertical}return _(),c},c.calendarWeeks=function(e){if(0===arguments.length)return n.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return n.calendarWeeks=e,_(),c},c.showTodayButton=function(e){if(0===arguments.length)return n.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return n.showTodayButton=e,m&&(te(),oe()),c},c.showClear=function(e){if(0===arguments.length)return n.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return n.showClear=e,m&&(te(),oe()),c},c.widgetParent=function(t){if(0===arguments.length)return n.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return n.widgetParent=t,m&&(te(),oe()),c},c.keepOpen=function(e){if(0===arguments.length)return n.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return n.keepOpen=e,c},c.focusOnShow=function(e){if(0===arguments.length)return n.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return n.focusOnShow=e,c},c.inline=function(e){if(0===arguments.length)return n.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return n.inline=e,c},c.clear=function(){return ae(),c},c.keyBinds=function(e){return 0===arguments.length?n.keyBinds:(n.keyBinds=e,c)},c.getMoment=function(e){return x(e)},c.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return n.debug=e,c},c.allowInputToggle=function(e){if(0===arguments.length)return n.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return n.allowInputToggle=e,c},c.showClose=function(e){if(0===arguments.length)return n.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return n.showClose=e,c},c.keepInvalid=function(e){if(0===arguments.length)return n.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");
return n.keepInvalid=e,c},c.datepickerInput=function(e){if(0===arguments.length)return n.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return n.datepickerInput=e,c},c.parseInputDate=function(e){if(0===arguments.length)return n.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return n.parseInputDate=e,c},c.disabledTimeIntervals=function(t){if(0===arguments.length)return n.disabledTimeIntervals?e.extend({},n.disabledTimeIntervals):n.disabledTimeIntervals;if(!t)return n.disabledTimeIntervals=!1,_(),c;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return n.disabledTimeIntervals=t,_(),c},c.disabledHours=function(t){if(0===arguments.length)return n.disabledHours?e.extend({},n.disabledHours):n.disabledHours;if(!t)return n.disabledHours=!1,_(),c;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(n.disabledHours=me(t),n.enabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var a=0;!V(r,"h");){if(r.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}ee(r)}return _(),c},c.enabledHours=function(t){if(0===arguments.length)return n.enabledHours?e.extend({},n.enabledHours):n.enabledHours;if(!t)return n.enabledHours=!1,_(),c;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(n.enabledHours=me(t),n.disabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var a=0;!V(r,"h");){if(r.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}ee(r)}return _(),c},c.viewDate=function(e){if(0===arguments.length)return i.clone();if(!e)return i=r.clone(),c;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return i=ne(e),j(),c},a.is("input"))o=a;else if(o=a.find(n.datepickerInput),0===o.length)o=a.find("input");else if(!o.is("input"))throw new Error('CSS class "'+n.datepickerInput+'" cannot be applied to non input element');if(a.hasClass("input-group")&&(f=0===a.find(".datepickerbutton").length?a.find(".input-group-addon"):a.find(".datepickerbutton")),!n.inline&&!o.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return r=x(),i=r.clone(),e.extend(!0,n,Y()),c.options(n),he(),ce(),o.prop("disabled")&&c.disable(),o.is("input")&&0!==o.val().trim().length?ee(ne(o.val().trim())):n.defaultDate&&void 0===o.attr("placeholder")&&ee(n.defaultDate),n.inline&&oe(),c};return e.fn.datetimepicker=function(t){t=t||{};var n,r=Array.prototype.slice.call(arguments,1),i=!0,o=["destroy","hide","show","toggle"];if("object"==typeof t)return this.each(function(){var n,r=e(this);r.data("DateTimePicker")||(n=e.extend(!0,{},e.fn.datetimepicker.defaults,t),r.data("DateTimePicker",a(r,n)))});if("string"==typeof t)return this.each(function(){var a=e(this),o=a.data("DateTimePicker");if(!o)throw new Error('bootstrap-datetimepicker("'+t+'") method was called on an element that is not using DateTimePicker');n=o[t].apply(o,r),i=n===o}),i||e.inArray(t,o)>-1?this:n;throw new TypeError("Invalid arguments for DateTimePicker: "+t)},e.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-crosshairs",clear:"fa fa-trash-o",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(!e)return void this.show();var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},e.fn.datetimepicker});
},{"jquery":"jquery","moment":"moment"}],"tinymce/plugins/anchor/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(e)},r=function(e){var t=e.selection.getNode(),n="A"===t.tagName&&""===e.dom.getAttrib(t,"href");return n?t.id||t.name:""},o=function(e,t){var n=e.selection.getNode(),r="A"===n.tagName&&""===e.dom.getAttrib(n,"href");r?(n.removeAttribute("name"),n.id=t,e.undoManager.add()):(e.focus(),e.selection.collapse(!0),e.execCommand("mceInsertContent",!1,e.dom.createHTML("a",{id:t})))},a={isValidId:n,getId:r,insert:o},i=function(e,t){return a.isValidId(t)?(a.insert(e,t),!1):(e.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!0)},c=function(e){var t=a.getId(e);e.windowManager.open({title:"Anchor",body:{type:"textbox",name:"id",size:40,label:"Id",value:t},onsubmit:function(t){var n=t.data.id;i(e,n)&&t.preventDefault()}})},d={open:c},u=function(e){e.addCommand("mceAnchor",function(){d.open(e)})},s={register:u},l=function(e){return!e.attr("href")&&(e.attr("id")||e.attr("name"))&&!e.firstChild},f=function(e){return function(t){for(var n=0;n<t.length;n++)l(t[n])&&t[n].attr("contenteditable",e)}},m=function(e){e.on("PreInit",function(){e.parser.addNodeFilter("a",f("false")),e.serializer.addNodeFilter("a",f(null))})},h={setup:m},g=function(e){e.addButton("anchor",{icon:"anchor",tooltip:"Anchor",cmd:"mceAnchor",stateSelector:"a:not([href])"}),e.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",cmd:"mceAnchor"})},A={register:g};return t.add("anchor",function(e){h.setup(e),s.register(e),A.register(e)}),e})()}();
},{}],"tinymce/plugins/charmap/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(e,t){return e.fire("insertCustomChar",{chr:t})},a={fireInsertCustomChar:r},i=function(e,t){var r=a.fireInsertCustomChar(e,t).chr;e.execCommand("mceInsertContent",!1,r)},n={insertChar:i},o=tinymce.util.Tools.resolve("tinymce.util.Tools"),s=function(e){return e.settings.charmap},c=function(e){return e.settings.charmap_append},l={getCharMap:s,getCharMapAppend:c},u=o.isArray,m=function(){return[["160","no-break space"],["173","soft hyphen"],["34","quotation mark"],["162","cent sign"],["8364","euro sign"],["163","pound sign"],["165","yen sign"],["169","copyright sign"],["174","registered sign"],["8482","trade mark sign"],["8240","per mille sign"],["181","micro sign"],["183","middle dot"],["8226","bullet"],["8230","three dot leader"],["8242","minutes / feet"],["8243","seconds / inches"],["167","section sign"],["182","paragraph sign"],["223","sharp s / ess-zed"],["8249","single left-pointing angle quotation mark"],["8250","single right-pointing angle quotation mark"],["171","left pointing guillemet"],["187","right pointing guillemet"],["8216","left single quotation mark"],["8217","right single quotation mark"],["8220","left double quotation mark"],["8221","right double quotation mark"],["8218","single low-9 quotation mark"],["8222","double low-9 quotation mark"],["60","less-than sign"],["62","greater-than sign"],["8804","less-than or equal to"],["8805","greater-than or equal to"],["8211","en dash"],["8212","em dash"],["175","macron"],["8254","overline"],["164","currency sign"],["166","broken bar"],["168","diaeresis"],["161","inverted exclamation mark"],["191","turned question mark"],["710","circumflex accent"],["732","small tilde"],["176","degree sign"],["8722","minus sign"],["177","plus-minus sign"],["247","division sign"],["8260","fraction slash"],["215","multiplication sign"],["185","superscript one"],["178","superscript two"],["179","superscript three"],["188","fraction one quarter"],["189","fraction one half"],["190","fraction three quarters"],["402","function / florin"],["8747","integral"],["8721","n-ary sumation"],["8734","infinity"],["8730","square root"],["8764","similar to"],["8773","approximately equal to"],["8776","almost equal to"],["8800","not equal to"],["8801","identical to"],["8712","element of"],["8713","not an element of"],["8715","contains as member"],["8719","n-ary product"],["8743","logical and"],["8744","logical or"],["172","not sign"],["8745","intersection"],["8746","union"],["8706","partial differential"],["8704","for all"],["8707","there exists"],["8709","diameter"],["8711","backward difference"],["8727","asterisk operator"],["8733","proportional to"],["8736","angle"],["180","acute accent"],["184","cedilla"],["170","feminine ordinal indicator"],["186","masculine ordinal indicator"],["8224","dagger"],["8225","double dagger"],["192","A - grave"],["193","A - acute"],["194","A - circumflex"],["195","A - tilde"],["196","A - diaeresis"],["197","A - ring above"],["256","A - macron"],["198","ligature AE"],["199","C - cedilla"],["200","E - grave"],["201","E - acute"],["202","E - circumflex"],["203","E - diaeresis"],["274","E - macron"],["204","I - grave"],["205","I - acute"],["206","I - circumflex"],["207","I - diaeresis"],["298","I - macron"],["208","ETH"],["209","N - tilde"],["210","O - grave"],["211","O - acute"],["212","O - circumflex"],["213","O - tilde"],["214","O - diaeresis"],["216","O - slash"],["332","O - macron"],["338","ligature OE"],["352","S - caron"],["217","U - grave"],["218","U - acute"],["219","U - circumflex"],["220","U - diaeresis"],["362","U - macron"],["221","Y - acute"],["376","Y - diaeresis"],["562","Y - macron"],["222","THORN"],["224","a - grave"],["225","a - acute"],["226","a - circumflex"],["227","a - tilde"],["228","a - diaeresis"],["229","a - ring above"],["257","a - macron"],["230","ligature ae"],["231","c - cedilla"],["232","e - grave"],["233","e - acute"],["234","e - circumflex"],["235","e - diaeresis"],["275","e - macron"],["236","i - grave"],["237","i - acute"],["238","i - circumflex"],["239","i - diaeresis"],["299","i - macron"],["240","eth"],["241","n - tilde"],["242","o - grave"],["243","o - acute"],["244","o - circumflex"],["245","o - tilde"],["246","o - diaeresis"],["248","o slash"],["333","o macron"],["339","ligature oe"],["353","s - caron"],["249","u - grave"],["250","u - acute"],["251","u - circumflex"],["252","u - diaeresis"],["363","u - macron"],["253","y - acute"],["254","thorn"],["255","y - diaeresis"],["563","y - macron"],["913","Alpha"],["914","Beta"],["915","Gamma"],["916","Delta"],["917","Epsilon"],["918","Zeta"],["919","Eta"],["920","Theta"],["921","Iota"],["922","Kappa"],["923","Lambda"],["924","Mu"],["925","Nu"],["926","Xi"],["927","Omicron"],["928","Pi"],["929","Rho"],["931","Sigma"],["932","Tau"],["933","Upsilon"],["934","Phi"],["935","Chi"],["936","Psi"],["937","Omega"],["945","alpha"],["946","beta"],["947","gamma"],["948","delta"],["949","epsilon"],["950","zeta"],["951","eta"],["952","theta"],["953","iota"],["954","kappa"],["955","lambda"],["956","mu"],["957","nu"],["958","xi"],["959","omicron"],["960","pi"],["961","rho"],["962","final sigma"],["963","sigma"],["964","tau"],["965","upsilon"],["966","phi"],["967","chi"],["968","psi"],["969","omega"],["8501","alef symbol"],["982","pi symbol"],["8476","real part symbol"],["978","upsilon - hook symbol"],["8472","Weierstrass p"],["8465","imaginary part"],["8592","leftwards arrow"],["8593","upwards arrow"],["8594","rightwards arrow"],["8595","downwards arrow"],["8596","left right arrow"],["8629","carriage return"],["8656","leftwards double arrow"],["8657","upwards double arrow"],["8658","rightwards double arrow"],["8659","downwards double arrow"],["8660","left right double arrow"],["8756","therefore"],["8834","subset of"],["8835","superset of"],["8836","not a subset of"],["8838","subset of or equal to"],["8839","superset of or equal to"],["8853","circled plus"],["8855","circled times"],["8869","perpendicular"],["8901","dot operator"],["8968","left ceiling"],["8969","right ceiling"],["8970","left floor"],["8971","right floor"],["9001","left-pointing angle bracket"],["9002","right-pointing angle bracket"],["9674","lozenge"],["9824","black spade suit"],["9827","black club suit"],["9829","black heart suit"],["9830","black diamond suit"],["8194","en space"],["8195","em space"],["8201","thin space"],["8204","zero width non-joiner"],["8205","zero width joiner"],["8206","left-to-right mark"],["8207","right-to-left mark"]]},d=function(e){return o.grep(e,function(e){return u(e)&&2===e.length})},g=function(e){return u(e)?[].concat(d(e)):"function"==typeof e?e():[]},p=function(e,t){var r=l.getCharMap(e);r&&(t=g(r));var a=l.getCharMapAppend(e);return a?[].concat(t).concat(g(a)):t},h=function(e){return p(e,m())},f={getCharMap:h},b=function(e){var t=function(){return f.getCharMap(e)},r=function(t){n.insertChar(e,t)};return{getCharMap:t,insertChar:r}},v={get:b},w=function(e){var t,r,a,i=Math.min(e.length,25),n=Math.ceil(e.length/i);for(t='<table role="presentation" cellspacing="0" class="mce-charmap"><tbody>',a=0;a<n;a++){for(t+="<tr>",r=0;r<i;r++){var o=a*i+r;if(o<e.length){var s=e[o],c=parseInt(s[0],10),l=s?String.fromCharCode(c):"&nbsp;";t+='<td title="'+s[1]+'"><div tabindex="-1" title="'+s[1]+'" role="button" data-chr="'+c+'">'+l+"</div></td>"}else t+="<td />"}t+="</tr>"}return t+="</tbody></table>"},C={getHtml:w},y=function(e){for(;e;){if("TD"===e.nodeName)return e;e=e.parentNode}},x=function(e){var t,r={type:"container",html:C.getHtml(f.getCharMap(e)),onclick:function(r){var a=r.target;if(/^(TD|DIV)$/.test(a.nodeName)){var i=y(a).firstChild;if(i&&i.hasAttribute("data-chr")){var o=i.getAttribute("data-chr"),s=parseInt(o,10);isNaN(s)||n.insertChar(e,String.fromCharCode(s)),r.ctrlKey||t.close()}}},onmouseover:function(e){var r=y(e.target);r&&r.firstChild?(t.find("#preview").text(r.firstChild.firstChild.data),t.find("#previewTitle").text(r.title)):(t.find("#preview").text(" "),t.find("#previewTitle").text(" "))}};t=e.windowManager.open({title:"Special character",spacing:10,padding:10,items:[r,{type:"container",layout:"flex",direction:"column",align:"center",spacing:5,minWidth:160,minHeight:160,items:[{type:"label",name:"preview",text:" ",style:"font-size: 40px; text-align: center",border:1,minWidth:140,minHeight:80},{type:"spacer",minHeight:20},{type:"label",name:"previewTitle",text:" ",style:"white-space: pre-wrap;",border:1,minWidth:140}]}],buttons:[{text:"Close",onclick:function(){t.close()}}]})},k={open:x},q=function(e){e.addCommand("mceShowCharmap",function(){k.open(e)})},A={register:q},M=function(e){e.addButton("charmap",{icon:"charmap",tooltip:"Special character",cmd:"mceShowCharmap"}),e.addMenuItem("charmap",{icon:"charmap",text:"Special character",cmd:"mceShowCharmap",context:"insert"})},I={register:M};return t.add("charmap",function(e){return A.register(e),I.register(e),v.get(e)}),e})()}();
},{}],"tinymce/plugins/code/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function t(){}var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),o=function(t){return t.getParam("code_dialog_width",600)},i=function(t){return t.getParam("code_dialog_height",Math.min(n.DOM.getViewPort().h-200,500))},c={getMinWidth:o,getMinHeight:i},d=function(t,e){t.focus(),t.undoManager.transact(function(){t.setContent(e)}),t.selection.setCursorLocation(),t.nodeChanged()},r=function(t){return t.getContent({source_view:!0})},u={setContent:d,getContent:r},a=function(t){var e=c.getMinWidth(t),n=c.getMinHeight(t),o=t.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:e,minHeight:n,spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){u.setContent(t,e.data.code)}});o.find("#code").value(u.getContent(t))},g={open:a},l=function(t){t.addCommand("mceCodeEditor",function(){g.open(t)})},s={register:l},f=function(t){t.addButton("code",{icon:"code",tooltip:"Source code",onclick:function(){g.open(t)}}),t.addMenuItem("code",{icon:"code",text:"Source code",onclick:function(){g.open(t)}})},m={register:f};return e.add("code",function(t){return s.register(t),m.register(t),{}}),t})()}();
},{}],"tinymce/plugins/colorpicker/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.util.Color"),t=function(e,n){e.find("#preview")[0].getEl().style.background=n},o=function(e,n){var o=i(n),l=o.toRgb();e.fromJSON({r:l.r,g:l.g,b:l.b,hex:o.toHex().substr(1)}),t(e,o.toHex())},l=function(e,n,i){var l=e.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:i,onchange:function(){var e=this.rgb();l&&(l.find("#r").value(e.r),l.find("#g").value(e.g),l.find("#b").value(e.b),l.find("#hex").value(this.value().substr(1)),t(l,this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var e,n,i=l.find("colorpicker")[0];return e=this.name(),n=this.value(),"hex"===e?(n="#"+n,o(l,n),void i.value(n)):(n={r:l.find("#r").value(),g:l.find("#g").value(),b:l.find("#b").value()},i.value(n),void o(l,n))}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){n("#"+l.toJSON().hex)}});o(l,i)},a={open:l};return n.add("colorpicker",function(e){e.settings.color_picker_callback||(e.settings.color_picker_callback=function(n,i){a.open(e,n,i)})}),e})()}();
},{}],"tinymce/plugins/contextmenu/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function t(){}var e=function(t){var n=t,o=function(){return n},u=function(t){n=t},r=function(){return e(o())};return{get:o,set:u,clone:r}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(t){var e=function(){return t.get()};return{isContextMenuVisible:e}},u={get:o},r=function(t){return t.settings.contextmenu_never_use_native},i=function(t){return t.getParam("contextmenu","link openlink image inserttable | cell row column deletetable")},c={shouldNeverUseNative:r,getContextMenu:i},s=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),l=function(t){return s.DOM.select(t.settings.ui_container)[0]},a=function(t,e){return{x:t,y:e}},f=function(t,e,n){return a(t.x+e,t.y+n)},g=function(t){return a(t.pageX,t.pageY)},m=function(t){return a(t.clientX,t.clientY)},v=function(t,e){if(t&&"static"!==s.DOM.getStyle(t,"position",!0)){var n=s.DOM.getPos(t),o=n.x-t.scrollLeft,u=n.y-t.scrollTop;return f(e,-o,-u)}return f(e,0,0)},x=function(t,e){var n=s.DOM.getPos(t);return f(e,n.x,n.y)},y=function(t,e){if(t.inline)return v(l(t),g(e));var n=x(t.getContentAreaContainer(),m(e));return v(l(t),n)},h={getPos:y},p=tinymce.util.Tools.resolve("tinymce.ui.Factory"),M=tinymce.util.Tools.resolve("tinymce.util.Tools"),d=function(t,e){var n,o,u=[];o=c.getContextMenu(t),M.each(o.split(/[ ,]/),function(e){var n=t.menuItems[e];"|"===e&&(n={text:e}),n&&(n.shortcut="",u.push(n))});for(var r=0;r<u.length;r++)"|"===u[r].text&&(0!==r&&r!==u.length-1||u.splice(r,1));return n=p.create("menu",{items:u,context:"contextmenu",classes:"contextmenu"}),n.uiContainer=l(t),n.renderTo(l(t)),n.on("hide",function(t){t.control===this&&e.set(!1)}),t.on("remove",function(){n.remove(),n=null}),n},T=function(t,e,n,o){null===o.get()?o.set(d(t,n)):o.get().show(),o.get().moveTo(e.x,e.y),n.set(!0)},C={show:T},D=function(t,e){return e.ctrlKey&&!c.shouldNeverUseNative(t)},P=function(t,e,n){t.on("contextmenu",function(o){D(t,o)||(o.preventDefault(),C.show(t,h.getPos(t,o),e,n))})},O={setup:P};return n.add("contextmenu",function(t){var n=e(null),o=e(!1);return O.setup(t,o,n),u.get(o)}),t})()}();
},{}],"tinymce/plugins/fullscreen/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){}var t=function(e){var n=e,i=function(){return n},r=function(e){n=e},l=function(){return t(i())};return{get:i,set:r,clone:l}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(e){return{isFullscreen:function(){return null!==e.get()}}},r={get:i},l=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),c=function(e,t){e.fire("FullscreenStateChanged",{state:t})},o={fireFullscreenStateChanged:c},u=l.DOM,s=function(){var e,t,n=window,i=document,r=i.body;return r.offsetWidth&&(e=r.offsetWidth,t=r.offsetHeight),n.innerWidth&&n.innerHeight&&(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}},d=function(){var e=u.getViewPort();return{x:e.x,y:e.y}},a=function(e){window.scrollTo(e.x,e.y)},f=function(e,t){var n,i,r,l,c=document.body,f=document.documentElement,h=t.get(),g=function(){u.setStyle(r,"height",s().h-(i.clientHeight-r.clientHeight))},m=function(){u.unbind(window,"resize",g)};if(i=e.getContainer(),n=i.style,r=e.getContentAreaContainer().firstChild,l=r.style,h)l.width=h.iframeWidth,l.height=h.iframeHeight,h.containerWidth&&(n.width=h.containerWidth),h.containerHeight&&(n.height=h.containerHeight),u.removeClass(c,"mce-fullscreen"),u.removeClass(f,"mce-fullscreen"),u.removeClass(i,"mce-fullscreen"),a(h.scrollPos),u.unbind(window,"resize",h.resizeHandler),e.off("remove",h.removeHandler),t.set(null),o.fireFullscreenStateChanged(e,!1);else{var v={scrollPos:d(),containerWidth:n.width,containerHeight:n.height,iframeWidth:l.width,iframeHeight:l.height,resizeHandler:g,removeHandler:m};l.width=l.height="100%",n.width=n.height="",u.addClass(c,"mce-fullscreen"),u.addClass(f,"mce-fullscreen"),u.addClass(i,"mce-fullscreen"),u.bind(window,"resize",g),e.on("remove",m),g(),t.set(v),o.fireFullscreenStateChanged(e,!0)}},h={toggleFullscreen:f},g=function(e,t){e.addCommand("mceFullScreen",function(){h.toggleFullscreen(e,t)})},m={register:g},v=function(e){return function(t){var n=t.control;e.on("FullscreenStateChanged",function(e){n.active(e.state)})}},w=function(e){e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:v(e),context:"view"}),e.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:v(e)})},C={register:w};return n.add("fullscreen",function(e){var n=t(null);return e.settings.inline?r.get(n):(m.register(e,n),C.register(e),e.addShortcut("Ctrl+Shift+F","","mceFullScreen"),r.get(n))}),e})()}();
},{}],"tinymce/plugins/image/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){var e=P.getOrDie("FileReader");return new e}function t(){var e=P.getOrDie("XMLHttpRequest");return new e}function n(e){var n=function(n,r,a,i){var o,l;o=t(),o.open("POST",e.url),o.withCredentials=e.credentials,o.upload.onprogress=function(e){i(e.loaded/e.total*100)},o.onerror=function(){a("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var t;return o.status<200||o.status>=300?void a("HTTP Error: "+o.status):(t=JSON.parse(o.responseText),t&&"string"==typeof t.location?void r(Ke(e.basePath,t.location)):void a("Invalid JSON: "+o.responseText))},l=new FormData,l.append("file",n.blob(),n.filename()),o.send(l)},r=function(e,t){return new L(function(n,r){try{t(e,n,r,qe)}catch(a){r(a.message)}})},a=function(e){return e===n},i=function(t){return!e.url&&a(e.handler)?L.reject("Upload url missing from the settings."):r(t,e.handler)};return e=N.extend({credentials:!1,handler:n},e),{upload:i}}function r(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=t.concat(n);return e.apply(null,a)}}function a(e){function t(t){var n,a,i=Se(e);if(t&&(a={type:"listbox",label:"Image list",name:"image-list",values:j.buildListItems(t,function(t){t.value=e.convertURL(t.value||t.url,"src")},[{text:"None",value:""}]),value:i.src&&e.convertURL(i.src,"src"),onselect:function(e){var t=n.find("#alt");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),n.find("#src").value(e.control.value()).fire("change")},onPostRender:function(){a=this}}),w.hasAdvTab(e)||w.hasUploadUrl(e)||w.hasUploadHandler(e)){var o=[We.makeTab(e,a)];w.hasAdvTab(e)&&o.push(Re.makeTab(e)),(w.hasUploadUrl(e)||w.hasUploadHandler(e))&&o.push(et.makeTab(e)),n=e.windowManager.open({title:"Insert/edit image",data:i,bodyType:"tabpanel",body:o,onSubmit:r(tt,e)})}else n=e.windowManager.open({title:"Insert/edit image",data:i,body:We.getGeneralItems(e,a),onSubmit:r(tt,e)});Ee.syncSize(n)}function n(){j.createImageList(e,t)}return{open:n}}function i(){}var o=tinymce.util.Tools.resolve("tinymce.PluginManager"),l=function(e){return e.settings.image_dimensions!==!1},u=function(e){return e.settings.image_advtab===!0},s=function(e){return e.getParam("image_prepend_url","")},c=function(e){return e.getParam("image_class_list")},d=function(e){return e.settings.image_description!==!1},g=function(e){return e.settings.image_title===!0},m=function(e){return e.settings.image_caption===!0},f=function(e){return e.getParam("image_list",!1)},p=function(e){return e.getParam("images_upload_url",!1)},h=function(e){return e.getParam("images_upload_handler",!1)},v=function(e){return e.getParam("images_upload_url")},b=function(e){return e.getParam("images_upload_handler")},y=function(e){return e.getParam("images_upload_base_path")},x=function(e){return e.getParam("images_upload_credentials")},w={hasDimensions:l,hasAdvTab:u,getPrependUrl:s,getClassList:c,hasDescription:d,hasImageTitle:g,hasImageCaption:m,getImageList:f,hasUploadUrl:p,hasUploadHandler:h,getUploadUrl:v,getUploadHandler:b,getUploadBasePath:y,getUploadCredentials:x},S="undefined"!=typeof window?window:Function("return this;")(),U=function(e,t){for(var n=void 0!==t&&null!==t?t:S,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},C=function(e,t){var n=e.split(".");return U(n,t)},T=function(e,t){return C(e,t)},I=function(e,t){var n=T(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},P={getOrDie:I},L=tinymce.util.Tools.resolve("tinymce.util.Promise"),N=tinymce.util.Tools.resolve("tinymce.util.Tools"),A=tinymce.util.Tools.resolve("tinymce.util.XHR"),R=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},_=function(e,t){function n(e,n){r.parentNode&&r.parentNode.removeChild(r),t({width:e,height:n})}var r=document.createElement("img");r.onload=function(){var e=R(r.width,r.clientWidth),t=R(r.height,r.clientHeight);n(e,t)},r.onerror=function(){n(0,0)};var a=r.style;a.visibility="hidden",a.position="fixed",a.bottom=a.left="0px",a.width=a.height="auto",document.body.appendChild(r),r.src=e},O=function(e,t,n){function r(e,n){return n=n||[],N.each(e,function(e){var a={text:e.text||e.title};e.menu?a.menu=r(e.menu):(a.value=e.value,t(a)),n.push(a)}),n}return r(e,n||[])},k=function(e){return e&&(e=e.replace(/px$/,"")),e},D=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},z=function(e){if(e.margin){var t=e.margin.split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},M=function(e,t){var n=w.getImageList(e);"string"==typeof n?A.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"==typeof n?n(t):t(n)},E=function(e,t,n){function r(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())}n.onload=function(){t.width||t.height||!w.hasDimensions(e)||e.dom.setAttribs(n,{width:n.clientWidth,height:n.clientHeight}),r()},n.onerror=r},H=function(t){return new L(function(n,r){var a=e();a.onload=function(){n(a.result)},a.onerror=function(){r(a.error.message)},a.readAsDataURL(t)})},j={getImageSize:_,buildListItems:O,removePixelSuffix:k,addPixelSuffix:D,mergeMargins:z,createImageList:M,waitLoadImage:E,blobToDataUri:H},B=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),F=Object.prototype.hasOwnProperty,W=function(e,t){return t},G=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},a=0;a<t.length;a++){var i=t[a];for(var o in i)F.call(i,o)&&(r[o]=e(r[o],i[o]))}return r}},J=G(W),V=B.DOM,$=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?j.removePixelSuffix(e.style.marginLeft):""},X=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?j.removePixelSuffix(e.style.marginTop):""},q=function(e){return e.style.borderWidth?j.removePixelSuffix(e.style.borderWidth):""},K=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},Q=function(e,t){return e.style[t]?e.style[t]:""},Y=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},Z=function(e,t,n){e.setAttribute(t,n)},ee=function(e){var t=V.create("figure",{"class":"image"});V.insertAfter(t,e),t.appendChild(e),t.appendChild(V.create("figcaption",{contentEditable:!0},"Caption")),t.contentEditable="false"},te=function(e){var t=e.parentNode;V.insertAfter(e,t),V.remove(t)},ne=function(e){Y(e)?te(e):ee(e)},re=function(e,t){var n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},ae=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=j.addPixelSuffix(r),re(e,t)):Z(e,n,r)}},ie=function(e,t){return e.style[t]?j.removePixelSuffix(e.style[t]):K(e,t)},oe=function(e,t){var n=j.addPixelSuffix(t);e.style.marginLeft=n,e.style.marginRight=n},le=function(e,t){var n=j.addPixelSuffix(t);e.style.marginTop=n,e.style.marginBottom=n},ue=function(e,t){var n=j.addPixelSuffix(t);e.style.borderWidth=n},se=function(e,t){e.style.borderStyle=t},ce=function(e){return Q(e,"borderStyle")},de=function(e){return"FIGURE"===e.nodeName},ge=function(){return{src:"",alt:"",title:"",width:"",height:"","class":"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:""}},me=function(e,t){var n=document.createElement("img");return Z(n,"style",t.style),($(n)||""!==t.hspace)&&oe(n,t.hspace),(X(n)||""!==t.vspace)&&le(n,t.vspace),(q(n)||""!==t.border)&&ue(n,t.border),(ce(n)||""!==t.borderStyle)&&se(n,t.borderStyle),e(n.getAttribute("style"))},fe=function(e,t){var n=document.createElement("img");if(be(e,J(t,{caption:!1}),n),Z(n,"alt",t.alt),t.caption){var r=V.create("figure",{"class":"image"});return r.appendChild(n),r.appendChild(V.create("figcaption",{contentEditable:!0},"Caption")),r.contentEditable="false",r}return n},pe=function(e,t){return{src:K(t,"src"),alt:K(t,"alt"),title:K(t,"title"),width:ie(t,"width"),height:ie(t,"height"),"class":K(t,"class"),style:e(K(t,"style")),caption:Y(t),hspace:$(t),vspace:X(t),border:q(t),borderStyle:Q(t,"borderStyle")}},he=function(e,t,n,r,a){n[r]!==t[r]&&a(e,r,n[r])},ve=function(e,t){return function(n,r,a){e(n,a),re(n,t)}},be=function(e,t,n){var r=pe(e,n);he(n,r,t,"caption",function(e,t,n){return ne(e)}),he(n,r,t,"src",Z),he(n,r,t,"alt",Z),he(n,r,t,"title",Z),he(n,r,t,"width",ae("width",e)),he(n,r,t,"height",ae("height",e)),he(n,r,t,"class",Z),he(n,r,t,"style",ve(function(e,t){return Z(e,"style",t)},e)),he(n,r,t,"hspace",ve(oe,e)),he(n,r,t,"vspace",ve(le,e)),he(n,r,t,"border",ve(ue,e)),he(n,r,t,"borderStyle",ve(se,e))},ye=function(e,t){var n=e.dom.styles.parse(t),r=j.mergeMargins(n),a=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(a)},xe=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||t.getAttribute("data-mce-object")||t.getAttribute("data-mce-placeholder"))?null:t},we=function(e,t){var n=e.dom,r=n.getParent(t.parentNode,function(t){return e.schema.getTextBlockElements()[t.nodeName]},e.getBody());return r?n.split(r,t):t},Se=function(e){var t=xe(e);return t?pe(function(t){return ye(e,t)},t):ge()},Ue=function(e,t){var n=fe(function(t){return ye(e,t)},t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);var r=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(r,"data-mce-id",null),de(r)){var a=we(e,r);e.selection.select(a)}else e.selection.select(r)},Ce=function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))},Te=function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},Ie=function(e,t){var n=xe(e);if(be(function(t){return ye(e,t)},t,n),Ce(e,n),de(n.parentNode)){var r=n.parentNode;we(e,r),e.selection.select(n.parentNode)}else e.selection.select(n),j.waitLoadImage(e,t,n)},Pe=function(e,t){var n=xe(e);n?t.src?Ie(e,t):Te(e,n):t.src&&Ue(e,t)},Le=function(e){return function(t){var n=e.dom,r=t.control.rootControl;if(w.hasAdvTab(e)){var a=r.toJSON(),i=n.parseStyle(a.style);r.find("#vspace").value(""),r.find("#hspace").value(""),i=j.mergeMargins(i),(i["margin-top"]&&i["margin-bottom"]||i["margin-right"]&&i["margin-left"])&&(i["margin-top"]===i["margin-bottom"]?r.find("#vspace").value(j.removePixelSuffix(i["margin-top"])):r.find("#vspace").value(""),i["margin-right"]===i["margin-left"]?r.find("#hspace").value(j.removePixelSuffix(i["margin-right"])):r.find("#hspace").value("")),i["border-width"]?r.find("#border").value(j.removePixelSuffix(i["border-width"])):r.find("#border").value(""),i["border-style"]?r.find("#borderStyle").value(i["border-style"]):r.find("#borderStyle").value(""),r.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(i))))}}},Ne=function(e,t){t.find("#style").each(function(n){var r=me(function(t){return ye(e,t)},J(ge(),t.toJSON()));n.value(r)})},Ae=function(e){return{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:Le(e)},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,defaults:{type:"textbox",maxWidth:50,onchange:function(t){Ne(e,t.control.rootControl)}},items:[{label:"Vertical space",name:"vspace"},{label:"Border width",name:"border"},{label:"Horizontal space",name:"hspace"},{label:"Border style",type:"listbox",name:"borderStyle",width:90,maxWidth:90,onselect:function(t){Ne(e,t.control.rootControl)},values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Re={makeTab:Ae},_e=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},Oe=function(e,t){var n=e.find("#width")[0],r=e.find("#height")[0],a=e.find("#constrain")[0];n&&r&&a&&t(n,r,a.checked())},ke=function(e,t,n){var r=e.state.get("oldVal"),a=t.state.get("oldVal"),i=e.value(),o=t.value();n&&r&&a&&i&&o&&(i!==r?(o=Math.round(i/r*o),isNaN(o)||t.value(o)):(i=Math.round(o/a*i),isNaN(i)||e.value(i))),_e(e,t)},De=function(e){Oe(e,_e)},ze=function(e){Oe(e,ke)},Me=function(){var e=function(e){ze(e.control.rootControl)};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},Ee={createUi:Me,syncSize:De,updateSize:ze},He=function(e,t){var n,r,a,i=e.meta||{},o=e.control,l=o.rootControl,u=l.find("#image-list")[0];u&&u.value(t.convertURL(o.value(),"src")),N.each(i,function(e,t){l.find("#"+t).value(e)}),i.width||i.height||(n=t.convertURL(o.value(),"src"),r=w.getPrependUrl(t),a=new RegExp("^(?:[a-z]+:)?//","i"),r&&!a.test(n)&&n.substring(0,r.length)!==r&&(n=r+n),o.value(n),j.getImageSize(t.documentBaseURI.toAbsolute(o.value()),function(e){e.width&&e.height&&w.hasDimensions(t)&&(l.find("#width").value(e.width),l.find("#height").value(e.height),Ee.syncSize(l))}))},je=function(e){e.meta=e.control.rootControl.toJSON()},Be=function(e,t){var n=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:function(t){He(t,e)},onbeforecall:je},t];return w.hasDescription(e)&&n.push({name:"alt",type:"textbox",label:"Image description"}),w.hasImageTitle(e)&&n.push({name:"title",type:"textbox",label:"Image Title"}),w.hasDimensions(e)&&n.push(Ee.createUi()),w.getClassList(e)&&n.push({name:"class",type:"listbox",label:"Class",values:j.buildListItems(w.getClassList(e),function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"img",classes:[t.value]})})})}),w.hasImageCaption(e)&&n.push({name:"caption",type:"checkbox",label:"Caption"}),n},Fe=function(e,t){return{title:"General",type:"form",items:Be(e,t)}},We={makeTab:Fe,getGeneralItems:Be},Ge=function(){return P.getOrDie("URL")},Je=function(e){return Ge().createObjectURL(e)},Ve=function(e){Ge().revokeObjectURL(e)},$e={createObjectURL:Je,revokeObjectURL:Ve},Xe=tinymce.util.Tools.resolve("tinymce.ui.Factory"),qe=function(){},Ke=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},Qe=function(e){return function(t){var r=Xe.get("Throbber"),a=t.control.rootControl,i=new r(a.getEl()),o=t.control.value(),l=$e.createObjectURL(o),u=n({url:w.getUploadUrl(e),basePath:w.getUploadBasePath(e),credentials:w.getUploadCredentials(e),handler:w.getUploadHandler(e)}),s=function(){i.hide(),$e.revokeObjectURL(l)};return i.show(),j.blobToDataUri(o).then(function(t){var n=e.editorUpload.blobCache.create({blob:o,blobUri:l,name:o.name?o.name.replace(/\.[^\.]+$/,""):null,base64:t.split(",")[1]});return u.upload(n).then(function(e){var t=a.find("#src");return t.value(e),a.find("tabpanel")[0].activateTab(0),t.fire("change"),s(),e})})["catch"](function(t){e.windowManager.alert(t),s()})}},Ye=".jpg,.jpeg,.png,.gif",Ze=function(e){return{title:"Upload",type:"form",layout:"flex",direction:"column",align:"stretch",padding:"20 20 20 20",items:[{type:"container",layout:"flex",direction:"column",align:"center",spacing:10,items:[{text:"Browse for an image",type:"browsebutton",accept:Ye,onchange:Qe(e)},{text:"OR",type:"label"}]},{text:"Drop an image here",type:"dropzone",accept:Ye,height:100,onchange:Qe(e)}]}},et={makeTab:Ze},tt=function(e,t){var n=t.control.getRoot();Ee.updateSize(n),e.undoManager.transact(function(){var t=J(Se(e),n.toJSON());Pe(e,t)}),e.editorUpload.uploadImagesAuto()},nt=function(e){e.addCommand("mceImage",a(e).open)},rt={register:nt},at=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},it=function(e){return function(t){for(var n,r=t.length,a=function(t){t.attr("contenteditable",e?"true":null)};r--;)n=t[r],at(n)&&(n.attr("contenteditable",e?"false":null),N.each(n.getAll("figcaption"),a))}},ot=function(e){e.on("preInit",function(){e.parser.addNodeFilter("figure",it(!0)),e.serializer.addNodeFilter("figure",it(!1))})},lt={setup:ot},ut=function(e){e.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:a(e).open,stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),e.addMenuItem("image",{icon:"image",text:"Image",onclick:a(e).open,context:"insert",prependToContext:!0})},st={register:ut};return o.add("image",function(e){lt.setup(e),st.register(e),rt.register(e)}),i})()}();
},{}],"tinymce/plugins/lists/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function t(){}var n,r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),i=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),u=tinymce.util.Tools.resolve("tinymce.util.VK"),s=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),a=tinymce.util.Tools.resolve("tinymce.util.Tools"),c=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),f=function(e){return e&&3===e.nodeType},l=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},d=function(e){return e&&/^(OL|UL)$/.test(e.nodeName)},m=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},g=function(e){return e&&/^(DT|DD)$/.test(e.nodeName)},v=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},p=function(e){return e&&"BR"===e.nodeName},h=function(e){return e.parentNode.firstChild===e},N=function(e){return e.parentNode.lastChild===e},y=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},O=function(e,t){return e&&e.nodeName in t},C=function(e,t){return!!p(t)&&!(!e.isBlock(t.nextSibling)||p(t.previousSibling))},S=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},L=function(e,t){return e.isChildOf(t,e.getRoot())},T={isTextNode:f,isListNode:l,isOlUlNode:d,isDlItemNode:g,isListItemNode:m,isTableCellNode:v,isBr:p,isFirstChild:h,isLastChild:N,isTextBlock:y,isBlock:O,isBogusBr:C,isEmpty:S,isChildOfBody:L},b=function(e,t){if(T.isTextNode(e))return{container:e,offset:t};var n=o.getNode(e,t);return T.isTextNode(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&T.isTextNode(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&T.isTextNode(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},k=function(e){var t=e.cloneRange(),n=b(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=b(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},D={getNormalizedPoint:b,normalizeRange:k},E=c.DOM,B=function(e){var t={},n=function(n){var r,o,i;o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=E.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):E.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i};return n(!0),e.collapsed||n(),t},w=function(e){function t(t){var n,r,o,i=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1};n=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=i(n),n=n.parentNode,E.remove(o),!n.hasChildNodes()&&E.isBlock(n)&&n.appendChild(E.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=E.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),D.normalizeRange(n)},x={createBookmark:B,resolveBookmark:w},A=function(e){return function(){return e}},R=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},I=A(!1),P=A(!0),_=I,M=P,U=function(){return F},F=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o=function(){return null},i=function(){},u={fold:function(e,t){return e()},is:_,isSome:_,isNone:M,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o,getOrUndefined:i,or:n,orThunk:t,map:U,ap:U,each:r,bind:U,flatten:U,exists:_,forall:M,filter:U,equals:e,equals_:e,toArray:function(){return[]},toString:A("none()")};return Object.freeze&&Object.freeze(u),u}(),z=function(e){var t=function(){return e},n=function(){return i},r=function(t){return z(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:M,isNone:_,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(U,function(t){return z(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:F},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(_,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},j=function(e){return null===e||void 0===e?F:z(e)},H={some:z,none:U,from:j},$=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},W=function(e){return function(t){return $(t)===e}},q=W("string"),K=W("boolean"),V=W("function"),Q=W("number"),X=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},Y=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n,e)}},G=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},J=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,u=e.length;i<u;i++){var s=e[i],a=t(s);a!==n&&(r.push(o),o=[]),n=a,o.push(s)}return 0!==o.length&&r.push(o),r},Z=function(e,t,n){return Y(e,function(e){n=t(n,e)}),n},ee=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return H.some(o)}return H.none()},te=Array.prototype.push,ne=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);te.apply(t,e[n])}return t},re=function(e,t){var n=X(e,t);return ne(n)},oe=Array.prototype.slice,ie=function(e){var t=oe.call(e,0);return t.reverse(),t},ue=function(e){return 0===e.length?H.none():H.some(e[0])},se=function(e){return 0===e.length?H.none():H.some(e[e.length-1])},ae=(V(Array.from)?Array.from:function(e){return oe.call(e)},"undefined"!=typeof window?window:Function("return this;")()),ce=function(e,t){for(var n=void 0!==t&&null!==t?t:ae,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},fe=function(e,t){var n=e.split(".");return ce(n,t)},le=function(e,t){return fe(e,t)},de=function(e,t){var n=le(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},me={getOrDie:de},ge=function(e){return me.getOrDie("HTMLElement",e)},ve=function(e){var t=fe("ownerDocument.defaultView",e);return ge(t).prototype.isPrototypeOf(e)},pe={isPrototypeOf:ve},he=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Ne=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",be(e,t))},ye=function(e,t){return e&&1===t.length&&t[0]===e},Oe=function(e){return a.grep(e.querySelectorAll("ol,ul,dl"),function(e){return T.isListNode(e)})},Ce=function(e){var t=Ne(e),n=e.selection.getSelectedBlocks();return ye(t,n)?Oe(t):a.grep(n,function(e){return T.isListNode(e)&&t!==e})},Se=function(e,t){var n=a.map(t,function(t){var n=e.dom.getParent(t,"li,dd,dt",be(e,t));return n?n:t});return he.unique(n)},Le=function(e){var t=e.selection.getSelectedBlocks();return a.grep(Se(e,t),function(e){return T.isListItemNode(e)})},Te=function(e){return G(Le(e),T.isDlItemNode)},be=function(e,t){var n=e.dom.getParents(t,"TD,TH"),r=n.length>0?n[0]:e.getBody();return r},ke=function(e,t){var n=e.dom.getParents(t,"ol,ul",be(e,t));return se(n)},De=function(e){var t=ke(e,e.selection.getStart()),n=G(e.selection.getSelectedBlocks(),T.isOlUlNode);return t.toArray().concat(n)},Ee=function(e){var t=De(e);return Be(e,t)},Be=function(e,t){var n=X(t,function(t){return ke(e,t).getOr(t)});return he.unique(n)},we=function(e){var t=Ne(e);return pe.isPrototypeOf(t)},xe={isList:we,getParentList:Ne,getSelectedSubLists:Ce,getSelectedListItems:Le,getClosestListRootElm:be,getSelectedDlItems:Te,getSelectedListRoots:Ee},Ae=function(){var e=me.getOrDie("Node");return e},Re=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Ie=function(e,t){return Re(e,t,Ae().DOCUMENT_POSITION_PRECEDING)},Pe=function(e,t){return Re(e,t,Ae().DOCUMENT_POSITION_CONTAINED_BY)},_e={documentPositionPreceding:Ie,documentPositionContainedBy:Pe},Me=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Ue=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Fe=function(e,t){var n=Ue(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return He(r(1),r(2))},ze=function(e,t){var n=String(t).toLowerCase();return 0===e.length?je():Fe(e,n)},je=function(){return He(0,0)},He=function(e,t){return{major:e,minor:t}},$e={nu:He,detect:ze,unknown:je},We="Edge",qe="Chrome",Ke="IE",Ve="Opera",Qe="Firefox",Xe="Safari",Ye=function(e,t){return function(){return t===e}},Ge=function(){return Je({current:void 0,version:$e.unknown()})},Je=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:Ye(We,t),isChrome:Ye(qe,t),isIE:Ye(Ke,t),isOpera:Ye(Ve,t),isFirefox:Ye(Qe,t),isSafari:Ye(Xe,t)}},Ze={unknown:Ge,nu:Je,edge:A(We),chrome:A(qe),ie:A(Ke),opera:A(Ve),firefox:A(Qe),safari:A(Xe)},et="Windows",tt="iOS",nt="Android",rt="Linux",ot="OSX",it="Solaris",ut="FreeBSD",st=function(e,t){return function(){return t===e}},at=function(){return ct({current:void 0,version:$e.unknown()})},ct=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:st(et,t),isiOS:st(tt,t),isAndroid:st(nt,t),isOSX:st(ot,t),isLinux:st(rt,t),isSolaris:st(it,t),isFreeBSD:st(ut,t)}},ft={unknown:at,nu:ct,windows:A(et),ios:A(tt),android:A(nt),linux:A(rt),osx:A(ot),solaris:A(it),freebsd:A(ut)},lt=function(e,t,n){var r=e.isiOS()&&/ipad/i.test(n)===!0,o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,u=e.isAndroid()&&4===e.version.major,s=r||i||u&&/mobile/i.test(n)===!0,a=e.isiOS()||e.isAndroid(),c=a&&!s,f=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1;return{isiPad:A(r),isiPhone:A(o),isTablet:A(s),isPhone:A(c),isTouch:A(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:A(f)}},dt=function(e,t){var n=String(t).toLowerCase();return ee(e,function(e){return e.search(n)})},mt=function(e,t){return dt(e,t).map(function(e){var n=$e.detect(e.versionRegexes,t);return{current:e.name,version:n}})},gt=function(e,t){return dt(e,t).map(function(e){var n=$e.detect(e.versionRegexes,t);return{current:e.name,version:n}})},vt={detectBrowser:mt,detectOs:gt},pt=function(e,t){return e.indexOf(t)!==-1},ht=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Nt=function(e){return function(t){return pt(t,e)}},yt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){var t=pt(e,"edge/")&&pt(e,"chrome")&&pt(e,"safari")&&pt(e,"applewebkit");return t}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,ht],search:function(e){return pt(e,"chrome")&&!pt(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return pt(e,"msie")||pt(e,"trident")}},{name:"Opera",versionRegexes:[ht,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Nt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Nt("firefox")},{name:"Safari",versionRegexes:[ht,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(pt(e,"safari")||pt(e,"mobile/"))&&pt(e,"applewebkit")}}],Ot=[{name:"Windows",search:Nt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return pt(e,"iphone")||pt(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Nt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Nt("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Nt("linux"),versionRegexes:[]},{name:"Solaris",search:Nt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Nt("freebsd"),versionRegexes:[]}],Ct={browsers:A(yt),oses:A(Ot)},St=function(e){var t=Ct.browsers(),n=Ct.oses(),r=vt.detectBrowser(t,e).fold(Ze.unknown,Ze.nu),o=vt.detectOs(n,e).fold(ft.unknown,ft.nu),i=lt(o,r,e);return{browser:r,os:o,deviceType:i}},Lt={detect:St},Tt=Me(function(){var e=navigator.userAgent;return Lt.detect(e)}),bt={detect:Tt},kt=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return Bt(r.childNodes[0])},Dt=function(e,t){var n=t||document,r=n.createElement(e);return Bt(r)},Et=function(e,t){var n=t||document,r=n.createTextNode(e);return Bt(r)},Bt=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:A(e)}},wt=function(e,t,n){var r=e.dom();return H.from(r.elementFromPoint(t,n)).map(Bt)},xt={fromHtml:kt,fromTag:Dt,fromText:Et,fromDom:Bt,fromPoint:wt},At=(Node.ATTRIBUTE_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE,Node.DOCUMENT_NODE,Node.DOCUMENT_TYPE_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE),Rt=(Node.TEXT_NODE,Node.PROCESSING_INSTRUCTION_NODE,Node.ENTITY_REFERENCE_NODE,Node.ENTITY_NODE,Node.NOTATION_NODE,At),It=function(e,t){var n=e.dom();if(n.nodeType!==Rt)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Pt=function(e,t){return e.dom()===t.dom()},_t=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},Mt=function(e,t){return _e.documentPositionContainedBy(e.dom(),t.dom())},Ut=bt.detect().browser,Ft=(Ut.isIE()?Mt:_t,It),zt=Object.keys,jt=function(e,t){for(var n=zt(e),r=0,o=n.length;r<o;r++){var i=n[r],u=e[i];t(u,i,e)}},Ht=function(e){var t=e.dom().nodeName;return t.toLowerCase()},$t=function(e,t,n){if(!(q(n)||K(n)||Q(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Wt=function(e,t){var n=e.dom();jt(t,function(e,t){$t(n,t,e)})},qt=function(e){return Z(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},Kt=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return Y(e,function(e,n){r[e]=A(t[n])}),r}},Vt=function(e){var t=e.dom();return H.from(t.parentNode).map(xt.fromDom)},Qt=function(e){var t=e.dom();return X(t.childNodes,xt.fromDom)},Xt=function(e,t){var n=e.dom().childNodes;return H.from(n[t]).map(xt.fromDom)},Yt=function(e){return Xt(e,0)},Gt=function(e){return Xt(e,e.dom().childNodes.length-1)},Jt=(Kt("element","offset"),function(e,t){var n=Vt(e);n.each(function(n){n.dom().insertBefore(t.dom(),e.dom())})}),Zt=function(e,t){e.dom().appendChild(t.dom())},en=function(e,t){Y(t,function(t){Jt(e,t)})},tn=function(e,t){Y(t,function(t){Zt(e,t)})},nn=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},rn=function(e,t){return xt.fromDom(e.dom().cloneNode(t))},on=function(e){return rn(e,!0)},un=function(e,t){var n=xt.fromTag(t),r=qt(e);return Wt(n,r),n},sn=function(e,t){var n=un(e,t);Jt(e,n);var r=Qt(e);return tn(n,r),nn(e),n},an=tinymce.util.Tools.resolve("tinymce.Env"),cn=c.DOM,fn=function(e,t,n){var r,o,i,u=cn.createFragment(),s=e.schema.getBlockElements();if(e.settings.forced_root_block&&(n=n||e.settings.forced_root_block),n&&(o=cn.create(n),o.tagName===e.settings.forced_root_block&&cn.setAttribs(o,e.settings.forced_root_block_attrs),T.isBlock(t.firstChild,s)||u.appendChild(o)),t)for(;r=t.firstChild;){var a=r.nodeName;i||"SPAN"===a&&"bookmark"===r.getAttribute("data-mce-type")||(i=!0),T.isBlock(r,s)?(u.appendChild(r),o=null):n?(o||(o=cn.create(n),u.appendChild(o)),o.appendChild(r)):u.appendChild(r)}return e.settings.forced_root_block?i||an.ie&&!(an.ie>10)||o.appendChild(cn.create("br",{"data-mce-bogus":"1"})):u.appendChild(cn.create("br")),u},ln={createNewTextBlock:fn},dn=c.DOM,mn=function(e,t,n,r){var o,i,u,s,c=function(e){a.each(u,function(t){e.parentNode.insertBefore(t,n.parentNode)}),dn.remove(e)};for(u=dn.select('span[data-mce-type="bookmark"]',t),r=r||ln.createNewTextBlock(e,n),o=dn.createRng(),o.setStartAfter(n),o.setEndAfter(t),i=o.extractContents(),s=i.firstChild;s;s=s.firstChild)if("LI"===s.nodeName&&e.dom.isEmpty(s)){dn.remove(s);break}e.dom.isEmpty(i)||dn.insertAfter(i,t),dn.insertAfter(r,t),T.isEmpty(e.dom,n.parentNode)&&c(n.parentNode),dn.remove(n),T.isEmpty(e.dom,t)&&dn.remove(t)},gn={splitList:mn},vn=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return H.none();n.push(o.getOrDie())}return H.some(t.apply(null,n))},pn=function(e,t){var n=t||document,r=n.createDocumentFragment();return Y(e,function(e){r.appendChild(e.dom())}),xt.fromDom(r)},hn=function(e){return void 0!==e.style},Nn=function(e,t,n){if(!q(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);hn(e)&&e.style.setProperty(t,n)},yn=function(e,t,n){var r=e.dom();Nn(r,t,n)},On=function(e,t){var n={list:xt.fromTag(t,e),item:xt.fromTag("li",e)};return Zt(n.list,n.item),n},Cn=function(e,t){Zt(e.item,t.list)},Sn=function(e,t,n){for(var r=[],o=function(t){var o=On(e,n);se(r).each(function(e){return Cn(e,o)}),r.push(o)},i=0;i<t;i++)o(i);return r},Ln=function(e,t){Ht(e.list).toUpperCase()!==t.listType&&(e.list=sn(e.list,t.listType)),Wt(e.list,t.listAttributes)},Tn=function(e,t,n){var r=xt.fromTag("li",e);return Wt(r,t),tn(r,n),r},bn=function(e,t){Zt(e.list,t),e.item=t},kn=function(e,t,n){var r=t.slice(0,n.depth);return se(r).each(function(t){bn(t,Tn(e,n.itemAttributes,n.content)),Ln(t,n)}),r},Dn=function(e,t){se(e).each(function(e){Wt(e.list,t.listAttributes),Wt(e.item,t.itemAttributes),tn(e.item,t.content)});for(var n=0;n<e.length-1;n++)yn(e[n].item,"list-style-type","none")},En=function(e,t,n){var r=Sn(e,n.depth-t.length,n.listType);return Dn(r,n),vn([se(t),ue(r)],Cn),t.concat(r)},Bn=function(e,t){var n=Z(t,function(t,n){return n.depth>t.length?En(e,t,n):kn(e,t,n)},[]);return ue(n).map(function(e){return e.list})},wn=function(e){return e.depth>0},xn=function(e){return e.isSelected},An=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}},Rn=Object.prototype.hasOwnProperty,In=function(e,t){return t},Pn=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var u in i)Rn.call(i,u)&&(r[u]=e(r[u],i[u]))}return r}},_n=Pn(In),Mn=function(e,t){e.listType=t.listType,e.listAttributes=_n({},t.listAttributes)},Un=function(e,t){var n=t.depth-1;e[n].each(function(e){return Mn(t,e)});var r=e.slice(0,n);return r.push(H.some(t)),r},Fn=function(e,t){for(var n=e.slice(0),r=t.depth-e.length,o=1;o<r;o++)n.push(H.none());return n.push(H.some(t)),n},zn=function(e){Z(e,function(e,t){return t.depth>e.length?Fn(e,t):Un(e,t)},[])},jn=function(e){var t=e,n=function(){return t},r=function(e){t=e},o=function(){return jn(n())};return{get:n,set:r,clone:o}};!function(e){e.OL="OL",e.UL="UL",e.DL="DL"}(n||(n={}));var Hn=function(e){switch(Ht(e)){case"ol":return H.some(n.OL);case"ul":return H.some(n.UL);case"dl":return H.some(n.DL);default:return H.none()}},$n=function(e){return Ft(e,"OL,UL,DL")},Wn=function(e){return Yt(e).map($n).getOr(!1)},qn=function(e){return Gt(e).map($n).getOr(!1)},Kn=function(e){var t=Qt(e),n=t.length+(qn(e)?-1:0);return X(t.slice(0,n),on)},Vn=function(e,t,r){var o=Vt(e);return{depth:t,isSelected:r,content:Kn(e),listType:o.bind(Hn).getOr(n.OL),listAttributes:o.map(qt).getOr({}),itemAttributes:qt(e)}},Qn=function(t,n,r,o){var i=e(Xn,t,n,r),u=function(e){return n.each(function(t){Pt("Start"===e?t.start:t.end,o)&&r.set("Start"===e)})};return Yt(o).filter($n).fold(function(){u("Start");var e=Vn(o,t,r.get());u("End");var n=Gt(o).filter($n).map(i).getOr([]);return[e].concat(n)},i)},Xn=function(e,t,n,r){var o=e+1;return re(Qt(r),function(e){return $n(e)?Xn(o,t,n,e):Qn(o,t,n,e)})},Yn=function(e,t){var n=jn(!1),r=0;return X(e,function(e){return{entries:Xn(r,t,n,e),sourceList:e}})},Gn=function(e,t){return X(t,function(t){var n=pn(t.content);return xt.fromDom(ln.createNewTextBlock(e,n.dom()))})},Jn=function(e,t){return zn(t),Bn(e.contentDocument,t).toArray()},Zn=function(e,t){return re(J(t,wn),function(t){var n=ue(t).map(wn).getOr(!1);return n?Jn(e,t):Gn(e,t)})},er=function(e,t){Y(G(e,xn),function(e){return An(t,e)})},tr=function(e){var t=X(xe.getSelectedListItems(e),xt.fromDom);return vn([ee(t,R(Wn)),ee(ie(t),R(Wn))],function(e,t){return{start:e,end:t}})},nr=function(e,t,n){var r=Yn(t,tr(e));Y(r,function(t){er(t.entries,n),en(t.sourceList,Zn(e,t.entries)),nn(t.sourceList)})},rr=function(e,t){Ft(t,"DD")?sn(t,"DT"):Ft(t,"DT")&&Vt(t).each(function(n){return gn.splitList(e,n.dom(),t.dom())})},or=function(e){Ft(e,"DT")&&sn(e,"DD")},ir=function(e,t,n){"Indent"===t?Y(n,or):Y(n,function(t){return rr(e,t)})},ur=function(e,t){var n=X(xe.getSelectedDlItems(e),xt.fromDom),r=X(xe.getSelectedListRoots(e),xt.fromDom);if(n.length||r.length){var o=e.selection.getBookmark();ir(e,t,n),nr(e,r,t),e.selection.moveToBookmark(o),e.selection.setRng(D.normalizeRange(e.selection.getRng())),e.nodeChanged()}},sr=function(e){ur(e,"Indent")},ar=function(e){ur(e,"Outdent")},cr=function(e){ur(e,"Flatten")},fr=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},lr=function(e,t){a.each(t,function(t,n){e.setAttribute(n,t)})},dr=function(e,t,n){lr(t,n["list-attributes"]),a.each(e.select("li",t),function(e){lr(e,n["list-item-attributes"])})},mr=function(e,t,n){fr(e,t,n),dr(e,t,n)},gr=function(e,t,n){a.each(n,function(n){var r;return e.setStyle(t,(r={},r[n]="",r))})},vr=function(e,t,n,r){var o,i;for(o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&T.isBr(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(T.isTextBlock(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},pr=function(e,t,n){for(var r,o=[],i=e.dom,u=vr(e,t,!0,n),c=vr(e,t,!1,n),f=[],l=u;l&&(f.push(l),l!==c);l=l.nextSibling);return a.each(f,function(t){if(T.isTextBlock(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||T.isBr(t))return T.isBr(t)&&i.remove(t),void(r=null);var u=t.nextSibling;return s.isBookmarkNode(t)&&(T.isTextBlock(e,u)||!u&&t.parentNode===n)?void(r=null):(r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),void r.appendChild(t))}),o},hr=function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return o=null===o?"":o,r===o},Nr=function(e,t,n){void 0===n&&(n={});var r,o=e.selection.getRng(!0),i="LI",u=xe.getClosestListRootElm(e,e.selection.getStart(!0)),s=e.dom;"false"!==s.getContentEditable(e.selection.getNode())&&(t=t.toUpperCase(),"DL"===t&&(i="DT"),r=x.createBookmark(o),a.each(pr(e,o,u),function(r){var o,u;u=r.previousSibling,u&&T.isListNode(u)&&u.nodeName===t&&hr(s,u,n)?(o=u,r=s.rename(r,i),u.appendChild(r)):(o=s.create(t),r.parentNode.insertBefore(o,r),o.appendChild(r),r=s.rename(r,i)),gr(s,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),mr(s,o,n),Lr(e.dom,o)}),e.selection.setRng(x.resolveBookmark(r)))},yr=function(e,t){return e&&t&&T.isListNode(e)&&e.nodeName===t.nodeName},Or=function(e,t,n){var r=e.getStyle(t,"list-style-type",!0),o=e.getStyle(n,"list-style-type",!0);return r===o},Cr=function(e,t){return e.className===t.className},Sr=function(e,t,n){return yr(t,n)&&Or(e,t,n)&&Cr(t,n)},Lr=function(e,t){var n,r;if(n=t.nextSibling,Sr(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,Sr(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},Tr=function(e,t,n,r){if(t.nodeName!==n){var o=e.rename(t,n);mr(e,o,r)}else mr(e,t,r)},br=function(e,t,n,r,o){if(t.nodeName!==r||kr(o)){var i=x.createBookmark(e.selection.getRng(!0));a.each([t].concat(n),function(t){Tr(e.dom,t,r,o)}),e.selection.setRng(x.resolveBookmark(i))}else cr(e)},kr=function(e){return"list-style-type"in e},Dr=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||kr(r)){var o=x.createBookmark(e.selection.getRng(!0));mr(e.dom,t,r),Lr(e.dom,e.dom.rename(t,n)),e.selection.setRng(x.resolveBookmark(o))}else cr(e);else Nr(e,n,r)},Er=function(e,t,n){var r=xe.getParentList(e),o=xe.getSelectedSubLists(e);n=n?n:{},r&&o.length>0?br(e,r,o,t,n):Dr(e,r,t,n)},Br={toggleList:Er,mergeWithAdjacentLists:Lr},wr=c.DOM,xr=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&(n=r.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(t),T.isEmpty(e,r)&&wr.remove(r)):wr.setStyle(r,"listStyleType","none")),T.isListNode(r)&&(n=r.previousSibling,n&&"LI"===n.nodeName&&n.appendChild(t))},Ar=function(e,t){a.each(a.grep(e.select("ol,ul",t)),function(t){xr(e,t)})},Rr={normalizeList:xr,normalizeLists:Ar},Ir=function(e,t,n,r){var u,s,a=t.startContainer,c=t.startOffset;if(3===a.nodeType&&(n?c<a.data.length:c>0))return a;for(u=e.schema.getNonEmptyElements(),1===a.nodeType&&(a=o.getNode(a,c)),s=new i(a,r),n&&T.isBogusBr(e.dom,a)&&s.next();a=s[n?"next":"prev2"]();){if("LI"===a.nodeName&&!a.hasChildNodes())return a;if(u[a.nodeName])return a;if(3===a.nodeType&&a.data.length>0)return a}},Pr=function(e,t){var n=t.childNodes;return 1===n.length&&!T.isListNode(n[0])&&e.isBlock(n[0])},_r=function(e,t){Pr(e,t)&&e.remove(t.firstChild,!0)},Mr=function(e,t,n){var r,o;if(o=Pr(e,n)?n.firstChild:n,_r(e,t),!T.isEmpty(e,t,!0))for(;r=t.firstChild;)o.appendChild(r)},Ur=function(e,t,n){var r,o,i=t.parentNode;T.isChildOfBody(e,t)&&T.isChildOfBody(e,n)&&(T.isListNode(n.lastChild)&&(o=n.lastChild),i===n.lastChild&&T.isBr(i.previousSibling)&&e.remove(i.previousSibling),r=n.lastChild,r&&T.isBr(r)&&t.hasChildNodes()&&e.remove(r),T.isEmpty(e,n,!0)&&e.$(n).empty(),Mr(e,t,n),o&&n.appendChild(o),e.remove(t),T.isEmpty(e,i)&&i!==e.getRoot()&&e.remove(i))},Fr=function(e,t,n){e.dom.$(n).empty(),Ur(e.dom,t,n),e.selection.setCursorLocation(n)},zr=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))Fr(e,n,r);else{var i=x.createBookmark(t);Ur(o,n,r),e.selection.setRng(x.resolveBookmark(i))}},jr=function(e,t,n,r){var o=x.createBookmark(t);Ur(e.dom,n,r);var i=x.resolveBookmark(o);e.selection.setRng(i)},Hr=function(e,t){var n,r,o,i=e.dom,u=e.selection,s=u.getStart(),a=xe.getClosestListRootElm(e,s),c=i.getParent(u.getStart(),"LI",a);if(c){if(n=c.parentNode,n===e.getBody()&&T.isEmpty(i,n))return!0;if(r=D.normalizeRange(u.getRng(!0)),o=i.getParent(Ir(e,r,t,a),"LI",a),o&&o!==c)return t?zr(e,r,o,c):jr(e,r,c,o),!0;if(!o&&!t)return cr(e),!0}return!1},$r=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},Wr=function(e,t){var n=e.dom,r=e.selection.getStart(),o=xe.getClosestListRootElm(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var u=D.normalizeRange(e.selection.getRng(!0)),s=n.getParent(Ir(e,u,t,o),"LI",o);if(s)return e.undoManager.transact(function(){$r(n,i,o),Br.mergeWithAdjacentLists(n,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)}),!0}return!1},qr=function(e,t){return Hr(e,t)||Wr(e,t)},Kr=function(e){var t=e.selection.getStart(),n=xe.getClosestListRootElm(e,t),r=e.dom.getParent(t,"LI,DT,DD",n);return!!(r||xe.getSelectedListItems(e).length>0)&&(e.undoManager.transact(function(){e.execCommand("Delete"),Rr.normalizeLists(e.dom,e.getBody())}),!0)},Vr=function(e,t){return e.selection.isCollapsed()?qr(e,t):Kr(e)},Qr=function(e){e.on("keydown",function(t){t.keyCode===u.BACKSPACE?Vr(e,!1)&&t.preventDefault():t.keyCode===u.DELETE&&Vr(e,!0)&&t.preventDefault()})},Xr={setup:Qr,backspaceDelete:Vr},Yr=function(e){return{backspaceDelete:function(t){Xr.backspaceDelete(e,t)}}},Gr={get:Yr},Jr=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},Zr=function(e){e.on("BeforeExecCommand",function(t){var n=t.command.toLowerCase();"indent"===n?sr(e):"outdent"===n&&ar(e)}),e.addCommand("InsertUnorderedList",function(t,n){Br.toggleList(e,"UL",n)}),e.addCommand("InsertOrderedList",function(t,n){Br.toggleList(e,"OL",n)}),e.addCommand("InsertDefinitionList",function(t,n){Br.toggleList(e,"DL",n)}),e.addCommand("RemoveList",function(){cr(e)}),e.addQueryStateHandler("InsertUnorderedList",Jr(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Jr(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Jr(e,"DL"))},eo={register:Zr},to=function(e){return e.getParam("lists_indent_on_tab",!0)},no={shouldIndentOnTab:to},ro=function(e){e.on("keydown",function(t){t.keyCode!==u.TAB||u.metaKeyPressed(t)||xe.isList(e)&&(t.preventDefault(),e.undoManager.transact(function(){t.shiftKey?ar(e):sr(e)}))})},oo=function(e){no.shouldIndentOnTab(e)&&ro(e),Xr.setup(e)},io={setup:oo},uo=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r))return n}return-1},so=function(e,t){return function(n){var r=n.control;e.on("NodeChange",function(e){var n=uo(e.parents,T.isTableCellNode),o=n!==-1?e.parents.slice(0,n):e.parents,i=a.grep(o,T.isListNode);r.active(i.length>0&&i[0].nodeName===t)})}},ao=function(e){var t=function(e,t){var n=e.settings.plugins?e.settings.plugins:"";return a.inArray(n.split(/[ ,]/),t)!==-1};t(e,"advlist")||(e.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:so(e,"OL")}),e.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:so(e,"UL")})),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent"})},co={register:ao};return r.add("lists",function(e){return io.setup(e),co.register(e),eo.register(e),Gr.get(e)}),t})()}();
},{}],"tinymce/plugins/media/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=function(e){return e.getParam("media_scripts")},n=function(e){return e.getParam("audio_template_callback")},o=function(e){return e.getParam("video_template_callback")},c=function(e){return e.getParam("media_live_embeds",!0)},s=function(e){return e.getParam("media_filter_html",!0)},u=function(e){return e.getParam("media_url_resolver")},l=function(e){return e.getParam("media_alt_source",!0)},m=function(e){return e.getParam("media_poster",!0)},d=function(e){return e.getParam("media_dimensions",!0)},h={getScripts:a,getAudioTemplateCallback:n,getVideoTemplateCallback:o,hasLiveEmbeds:c,shouldFilterHtml:s,getUrlResolver:u,hasAltSource:l,hasPoster:m,hasDimensions:d},p=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),f=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),g=function(e,t){if(e)for(var r=0;r<e.length;r++)if(t.indexOf(e[r].filter)!==-1)return e[r]},v={getVideoScriptMatch:g},b=function(e){return e.replace(/px$/,"")},w=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},y=function(e){return function(t){return t?b(t.style[e]):""}},x=function(e){return function(t,r){t&&(t.style[e]=w(r))}},S={getMaxWidth:y("maxWidth"),getMaxHeight:y("maxHeight"),setMaxWidth:x("maxWidth"),setMaxHeight:x("maxHeight")},j=f.DOM,C=function(e){return j.getAttrib(e,"data-ephox-embed-iri")},M=function(e){var t=j.createFragment(e);return""!==C(t.firstChild)},T=function(e,t){var r={};return p({validate:!1,allow_conditional_comments:!0,special:"script,noscript",start:function(t,a){if(r.source1||"param"!==t||(r.source1=a.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(r.type||(r.type=t),r=i.extend(a.map,r)),"script"===t){var n=v.getVideoScriptMatch(e,a.map.src);if(!n)return;r={type:"script",source1:a.map.src,width:n.width,height:n.height}}"source"===t&&(r.source1?r.source2||(r.source2=a.map.src):r.source1=a.map.src),"img"!==t||r.poster||(r.poster=a.map.src)}}).parse(t),r.source1=r.source1||r.src||r.data,r.source2=r.source2||"",r.poster=r.poster||"",r},_=function(e){var t=j.createFragment(e),r=t.firstChild;return{type:"ephox-embed-iri",source1:C(r),source2:"",poster:"",width:S.getMaxWidth(r),height:S.getMaxHeight(r)}},H=function(e,t){return M(t)?_(t):T(e,t)},k={htmlToData:H},z=tinymce.util.Tools.resolve("tinymce.util.Promise"),A=function(e){var t={mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},r=e.toLowerCase().split(".").pop(),i=t[r];return i?i:""},F={guess:A},N=tinymce.util.Tools.resolve("tinymce.html.Writer"),P=tinymce.util.Tools.resolve("tinymce.html.Schema"),O=f.DOM,D=function(e,t){var r,i,a,n;for(r in t)if(a=""+t[r],e.map[r])for(i=e.length;i--;)n=e[i],n.name===r&&(a?(e.map[r]=a,n.value=a):(delete e.map[r],e.splice(i,1)));else a&&(e.push({name:r,value:a}),e.map[r]=a)},$=function(e){var t=N(),r=p(t);return r.parse(e),t.getContent()},E=function(e,t,r){var i,a=N(),n=0;return p({validate:!1,allow_conditional_comments:!0,special:"script,noscript",comment:function(e){a.comment(e)},cdata:function(e){a.cdata(e)},text:function(e,t){a.text(e,t)},start:function(e,o,c){switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&D(o,{width:t.width,height:t.height})}if(r)switch(e){case"video":D(o,{poster:t.poster,src:""}),t.source2&&D(o,{src:""});break;case"iframe":D(o,{src:t.source1});break;case"source":if(n++,n<=2&&(D(o,{src:t["source"+n],type:t["source"+n+"mime"]}),!t["source"+n]))return;break;case"img":if(!t.poster)return;i=!0}a.start(e,o,c)},end:function(e){if("video"===e&&r)for(var o=1;o<=2;o++)if(t["source"+o]){var c=[];c.map={},n<o&&(D(c,{src:t["source"+o],type:t["source"+o+"mime"]}),a.start("source",c,!0))}if(t.poster&&"object"===e&&r&&!i){var s=[];s.map={},D(s,{src:t.poster,width:t.width,height:t.height}),a.start("img",s,!0)}a.end(e)}},P({})).parse(e),a.getContent()},L=function(e){var t=O.createFragment(e);return""!==O.getAttrib(t.firstChild,"data-ephox-embed-iri")},V=function(e,t){var r=O.createFragment(e),i=r.firstChild;return S.setMaxWidth(i,t.width),S.setMaxHeight(i,t.height),$(i.outerHTML)},R=function(e,t,r){return L(e)?V(e,t):E(e,t,r)},U={updateHtml:R},W=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],I=function(e,t){for(var r=e.regex.exec(t),i=e.url,a=function(e){i=i.replace("$"+e,function(){return r[e]?r[e]:""})},n=0;n<r.length;n++)a(n);return i.replace(/\?$/,"")},J=function(e){var t=W.filter(function(t){return t.regex.test(e)});return t.length>0?i.extend({},t[0],{url:I(t[0],e)}):null},B=function(e){var t=e.allowFullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source1+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"},G=function(e){var t='<object data="'+e.source1+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>"},q=function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source1+'">'+(e.source2?'\n<source src="'+e.source2+'"'+(e.source2mime?' type="'+e.source2mime+'"':"")+" />\n":"")+"</audio>"},K=function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source1+'"'+(e.source1mime?' type="'+e.source1mime+'"':"")+" />\n"+(e.source2?'<source src="'+e.source2+'"'+(e.source2mime?' type="'+e.source2mime+'"':"")+" />\n":"")+"</video>"},Q=function(e){return'<script src="'+e.source1+'"></script>'},X=function(e,t){var r=i.extend({},t);if(!r.source1&&(i.extend(r,k.htmlToData(h.getScripts(e),r.embed)),!r.source1))return"";r.source2||(r.source2=""),r.poster||(r.poster=""),r.source1=e.convertURL(r.source1,"source"),r.source2=e.convertURL(r.source2,"source"),r.source1mime=F.guess(r.source1),r.source2mime=F.guess(r.source2),r.poster=e.convertURL(r.poster,"poster");var a=J(r.source1);if(a&&(r.source1=a.url,r.type=a.type,r.allowFullscreen=a.allowFullscreen,r.width=r.width||a.w,r.height=r.height||a.h),r.embed)return U.updateHtml(r.embed,r,!0);var n=v.getVideoScriptMatch(h.getScripts(e),r.source1);n&&(r.type="script",r.width=n.width,r.height=n.height);var o=h.getAudioTemplateCallback(e),c=h.getVideoTemplateCallback(e);return r.width=r.width||300,r.height=r.height||150,i.each(r,function(t,i){r[i]=e.dom.encode(t)}),"iframe"===r.type?B(r):"application/x-shockwave-flash"===r.source1mime?G(r):r.source1mime.indexOf("audio")!==-1?q(r,o):"script"===r.type?Q(r):K(r,c)},Y={dataToHtml:X},Z={},ee=function(e,t,r){return new z(function(i,a){var n=function(r){return r.html&&(Z[e.source1]=r),i({url:e.source1,html:r.html?r.html:t(e)})};Z[e.source1]?n(Z[e.source1]):r({url:e.source1},n,a)})},te=function(e,t){return new z(function(r){r({html:t(e),url:e.source1})})},re=function(e){return function(t){return Y.dataToHtml(e,t)}},ie=function(e,t){var r=h.getUrlResolver(e);return r?ee(t,re(e),r):te(t,re(e))},ae=function(e){return Z.hasOwnProperty(e)},ne={getEmbedHtml:ie,isCached:ae},oe=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},ce=function(e,t){var r=e.find("#width")[0],i=e.find("#height")[0],a=e.find("#constrain")[0];r&&i&&a&&t(r,i,a.checked())},se=function(e,t,r){var i=e.state.get("oldVal"),a=t.state.get("oldVal"),n=e.value(),o=t.value();r&&i&&a&&n&&o&&(n!==i?(o=Math.round(n/i*o),isNaN(o)||t.value(o)):(n=Math.round(o/a*n),isNaN(n)||e.value(n))),oe(e,t)},ue=function(e){ce(e,oe)},le=function(e){ce(e,se)},me=function(e){var t=function(){e(function(e){le(e)})};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},de={createUi:me,syncSize:ue,updateSize:le},he=r.ie&&r.ie<=8?"onChange":"onInput",pe=function(e){return function(t){var r=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:r})}},fe=function(e){var t=e.selection.getNode(),r=t.getAttribute("data-ephox-embed-iri");return r?{source1:r,"data-ephox-embed-iri":r,width:S.getMaxWidth(t),height:S.getMaxHeight(t)}:t.getAttribute("data-mce-object")?k.htmlToData(h.getScripts(e),e.serializer.serialize(t,{selection:!0})):{}},ge=function(e){var t=e.selection.getNode();if(t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri"))return e.selection.getContent()},ve=function(e,t){return function(r){var a=r.html,n=e.find("#embed")[0],o=i.extend(k.htmlToData(h.getScripts(t),a),{source1:r.url});e.fromJSON(o),n&&(n.value(a),de.updateSize(e))}},be=function(e,t){var r,i,a=e.dom.select("img[data-mce-object]");for(r=0;r<t.length;r++)for(i=a.length-1;i>=0;i--)t[r]===a[i]&&a.splice(i,1);e.selection.select(a[0])},we=function(e,t){var r=e.dom.select("img[data-mce-object]");e.insertContent(t),be(e,r),e.nodeChanged()},ye=function(e,t){var r=e.toJSON();r.embed=U.updateHtml(r.embed,r),r.embed&&ne.isCached(r.source1)?we(t,r.embed):ne.getEmbedHtml(t,r).then(function(e){we(t,e.html)})["catch"](pe(t))},xe=function(e,t){i.each(t,function(t,r){e.find("#"+r).value(t)})},Se=function(e){var t,r,a=[{name:"source1",type:"filepicker",filetype:"media",size:40,autofocus:!0,label:"Source",onpaste:function(){setTimeout(function(){ne.getEmbedHtml(e,t.toJSON()).then(ve(t,e))["catch"](pe(e))},1)},onchange:function(r){ne.getEmbedHtml(e,t.toJSON()).then(ve(t,e))["catch"](pe(e)),xe(t,r.meta)},onbeforecall:function(e){e.meta=t.toJSON()}}],n=[],o=function(e){e(t),r=t.toJSON(),t.find("#embed").value(U.updateHtml(r.embed,r))};if(h.hasAltSource(e)&&n.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),h.hasPoster(e)&&n.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),h.hasDimensions(e)){var c=de.createUi(o);a.push(c)}r=fe(e);var s={id:"mcemediasource",type:"textbox",flex:1,name:"embed",value:ge(e),multiline:!0,rows:5,label:"Source"},u=function(){r=i.extend({},k.htmlToData(h.getScripts(e),this.value())),this.parent().parent().fromJSON(r)};s[he]=u;var l=[{title:"General",type:"form",items:a},{title:"Embed",type:"container",layout:"flex",direction:"column",align:"stretch",padding:10,spacing:10,items:[{type:"label",text:"Paste your embed code below:",forId:"mcemediasource"},s]}];n.length>0&&l.push({title:"Advanced",type:"form",items:n}),t=e.windowManager.open({title:"Insert/edit media",data:r,bodyType:"tabpanel",body:l,onSubmit:function(){de.updateSize(t),ye(t,e)}}),de.syncSize(t)},je={showDialog:Se},Ce=function(e){var t=function(){je.showDialog(e)};return{showDialog:t}},Me={get:Ce},Te=function(e){var t=function(){je.showDialog(e)};e.addCommand("mceMedia",t)},_e={register:Te},He=tinymce.util.Tools.resolve("tinymce.html.Node"),ke=function(e,t){if(h.shouldFilterHtml(e)===!1)return t;var r,i=N();return p({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:function(e){i.comment(e)},cdata:function(e){i.cdata(e)},text:function(e,t){i.text(e,t)},start:function(t,a,n){if(r=!0,"script"!==t&&"noscript"!==t){for(var o=0;o<a.length;o++){if(0===a[o].name.indexOf("on"))return;"style"===a[o].name&&(a[o].value=e.dom.serializeStyle(e.dom.parseStyle(a[o].value),t))}i.start(t,a,n),r=!1}},end:function(e){r||i.end(e)}},P({})).parse(t),i.getContent()},ze={sanitize:ke},Ae=function(e,t){var i,a=t.name;return i=new He("img",1),i.shortEnded=!0,Ne(e,t,i),i.attr({width:t.attr("width")||"300",height:t.attr("height")||("audio"===a?"30":"150"),style:t.attr("style"),src:r.transparentSrc,"data-mce-object":a,"class":"mce-object mce-object-"+a}),i},Fe=function(e,t){var r,i,a,n=t.name;return r=new He("span",1),r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":n,"class":"mce-preview-object mce-object-"+n}),Ne(e,t,r),i=new He(n,1),i.attr({src:t.attr("src"),allowfullscreen:t.attr("allowfullscreen"),style:t.attr("style"),"class":t.attr("class"),width:t.attr("width"),height:t.attr("height"),frameborder:"0"}),a=new He("span",1),a.attr("class","mce-shim"),r.append(i),r.append(a),r},Ne=function(e,t,r){var i,a,n,o,c;for(n=t.attributes,o=n.length;o--;)i=n[o].name,a=n[o].value,"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(a=e.convertURL(a,i)),r.attr("data-mce-p-"+i,a));c=t.firstChild&&t.firstChild.value,c&&(r.attr("data-mce-html",escape(ze.sanitize(e,c))),r.firstChild=null)},Pe=function(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri"))return!0;return!1},Oe=function(e){return function(t){for(var i,a,n=t.length;n--;)i=t[n],i.parent&&(i.parent.attr("data-mce-object")||("script"!==i.name||(a=v.getVideoScriptMatch(h.getScripts(e),i.attr("src"))))&&(a&&(a.width&&i.attr("width",a.width.toString()),a.height&&i.attr("height",a.height.toString())),"iframe"===i.name&&h.hasLiveEmbeds(e)&&r.ceFalse?Pe(i)||i.replace(Fe(e,i)):Pe(i)||i.replace(Ae(e,i))))}},De={createPreviewIframeNode:Fe,createPlaceholderNode:Ae,placeHolderConverter:Oe},$e=function(e){e.on("preInit",function(){var t=e.schema.getSpecialElements();i.each("video audio iframe object".split(" "),function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")});var r=e.schema.getBoolAttrs();i.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(e){r[e]={}}),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",De.placeHolderConverter(e)),e.serializer.addAttributeFilter("data-mce-object",function(t,r){for(var i,a,n,o,c,s,u,l,m=t.length;m--;)if(i=t[m],i.parent){for(u=i.attr(r),a=new He(u,1),"audio"!==u&&"script"!==u&&(l=i.attr("class"),l&&l.indexOf("mce-preview-object")!==-1?a.attr({width:i.firstChild.attr("width"),height:i.firstChild.attr("height")}):a.attr({width:i.attr("width"),height:i.attr("height")})),a.attr({style:i.attr("style")}),o=i.attributes,n=o.length;n--;){var d=o[n].name;0===d.indexOf("data-mce-p-")&&a.attr(d.substr(11),o[n].value)}"script"===u&&a.attr("type","text/javascript"),c=i.attr("data-mce-html"),c&&(s=new He("#text",3),s.raw=!0,s.value=ze.sanitize(e,unescape(c)),a.append(s)),i.replace(a)}})}),e.on("setContent",function(){e.$("span.mce-preview-object").each(function(t,r){var i=e.$(r);0===i.find("span.mce-shim",r).length&&i.append('<span class="mce-shim"></span>')})})},Ee={setup:$e},Le=function(e){e.on("ResolveName",function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})},Ve={setup:Le},Re=function(e){e.on("click keyup",function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")}),e.on("ObjectSelected",function(e){var t=e.target.getAttribute("data-mce-object");"audio"!==t&&"script"!==t||e.preventDefault()}),e.on("objectResized",function(e){var t,r=e.target;r.getAttribute("data-mce-object")&&(t=r.getAttribute("data-mce-html"),t&&(t=unescape(t),r.setAttribute("data-mce-html",escape(U.updateHtml(t,{width:e.width,height:e.height})))))})},Ue={setup:Re},We=function(e){e.addButton("media",{tooltip:"Insert/edit media",cmd:"mceMedia",stateSelector:["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"]}),e.addMenuItem("media",{icon:"media",text:"Media",cmd:"mceMedia",context:"insert",prependToContext:!0})},Ie={register:We};return t.add("media",function(e){return _e.register(e),Ie.register(e),Ve.setup(e),Ee.setup(e),Ue.setup(e),Me.get(e)}),e})()}();
},{}],"tinymce/plugins/paste/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function t(t,e){return Z.each(e,function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])}),t}function e(e){function n(t){var e=t.name,r=t;if("br"===e)return void(o+="\n");if("wbr"!==e){if(a[e]&&(o+=" "),u[e])return void(o+=" ");if(3===t.type&&(o+=t.value),!t.shortEnded&&(t=t.firstChild))do n(t);while(t=t.next);s[e]&&r.next&&(o+="\n","p"===e&&(o+="\n"))}}var r=gt(),i=dt({},r),o="",a=r.getShortEndedElements(),u=Z.makeMap("script noscript style textarea video audio iframe object"," "),s=r.getBlockElements();return e=t(e,[/<!\[[^\]]+\]>/g]),n(i.parse(e)),o}function n(e){function n(t,e,n){return e||n?"":" "}return e=t(e,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,n],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function r(t){var e=0;return function(){return t+e++}}function i(t){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(t)||/class="OutlineElement/.test(t)||/id="?docs\-internal\-guid\-/.test(t)}function o(t){var e,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],t=t.replace(/^[\u00a0 ]+/,""),Z.each(n,function(n){if(n.test(t))return e=!0,!1}),e}function a(t){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(t)}function u(t){function e(t){var n="";if(3===t.type)return t.value;if(t=t.firstChild)do n+=e(t);while(t=t.next);return n}function n(t,e){if(3===t.type&&e.test(t.value))return t.value=t.value.replace(e,""),!1;if(t=t.firstChild)do if(!n(t,e))return!1;while(t=t.next);return!0}function r(t){if(t._listIgnore)return void t.remove();if(t=t.firstChild)do r(t);while(t=t.next)}function i(t,e,i){var o=t._listLevel||c;o!==c&&(o<c?u&&(u=u.parent.parent):(s=u,u=null)),u&&u.name===e?u.append(t):(s=s||u,u=new mt(e,1),i>1&&u.attr("start",""+i),t.wrap(u)),t.name="li",o>c&&s&&s.lastChild.append(u),c=o,r(t),n(t,/^\u00a0+/),n(t,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),n(t,/^\u00a0+/)}for(var u,s,c=1,l=[],f=t.firstChild;"undefined"!=typeof f&&null!==f;)if(l.push(f),f=f.walk(),null!==f)for(;"undefined"!=typeof f&&f.parent!==t;)f=f.walk();for(var d=0;d<l.length;d++)if(t=l[d],"p"===t.name&&t.firstChild){var m=e(t);if(a(m)){i(t,"ul");continue}if(o(m)){var g=/([0-9]+)\./.exec(m),p=1;g&&(p=parseInt(g[1],10)),i(t,"ol",p);continue}if(t._listLevel){i(t,"ul",1);continue}u=null}else s=u,u=null}function s(t,e,n,r){var i,o={},a=t.dom.parseStyle(r);return Z.each(a,function(a,u){switch(u){case"mso-list":i=/\w+ \w+([0-9]+)/i.exec(r),i&&(n._listLevel=parseInt(i[1],10)),/Ignore/i.test(a)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":u="text-align";break;case"vert-align":u="vertical-align";break;case"font-color":case"mso-foreground":u="color";break;case"mso-background":case"mso-highlight":u="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(o[u]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void n.remove()}return 0===u.indexOf("mso-comment")?void n.remove():void(0!==u.indexOf("mso-")&&("all"===W.getRetainStyleProps(t)||e&&e[u])&&(o[u]=a))}),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],n.wrap(new mt("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],n.wrap(new mt("i",1))),o=t.dom.serializeStyle(o,n.name),o?o:null}function c(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.concat(n);return t.apply(null,i)}}function l(t,e){t.on("PastePreProcess",function(n){n.content=e(t,n.content,n.internal,n.wordContent)})}function f(t,e){t.on("PastePostProcess",function(n){e(t,n.node)})}function d(t,e){if(!bt.isWordContent(e))return e;var n=[];Z.each(t.schema.getBlockElements(),function(t,e){n.push(e)});var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=ht.filter(e,[[r,"$1"]]),e=ht.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function m(t,e,n,r){if(r||n)return e;var i,o=W.getWebkitStyles(t);if(W.shouldRemoveWebKitStyles(t)===!1||"all"===o)return e;if(o&&(i=o.split(/[, ]/)),i){var a=t.dom,u=t.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(t,e,n,r){var o=a.parseStyle(a.decode(n)),s={};if("none"===i)return e+r;for(var c=0;c<i.length;c++){var l=o[i[c]],f=a.getStyle(u,i[c],!0);/color/.test(i[c])&&(l=a.toHex(l),f=a.toHex(f)),f!==l&&(s[i[c]]=l)}return s=a.serializeStyle(s,"span"),s?e+' style="'+s+'"'+r:e+r})}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(t,e,n,r){return e+' style="'+n+'"'+r})}function g(t,e){t.$("a",e).find("font,u").each(function(e,n){t.dom.remove(n,!0)})}function p(){}var v=function(t){var e=t,n=function(){return e},r=function(t){e=t},i=function(){return v(n())};return{get:n,set:r,clone:i}},h=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(t){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(t.settings.plugins)||!h.get("powerpaste"))&&("undefined"!=typeof window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},P={hasProPlugin:y},b=function(t,e){return{clipboard:t,quirks:e}},x={get:b},w=function(t,e,n,r){return t.fire("PastePreProcess",{content:e,internal:n,wordContent:r})},T=function(t,e,n,r){return t.fire("PastePostProcess",{node:e,internal:n,wordContent:r})},_=function(t,e){return t.fire("PastePlainTextToggle",{state:e})},D=function(t,e){return t.fire("paste",{ieFake:e})},k={firePastePreProcess:w,firePastePostProcess:T,firePastePlainTextToggle:_,firePaste:D},C=function(t){return t.getParam("paste_plaintext_inform",!0)},S=function(t){return t.getParam("paste_block_drop",!1)},O=function(t){return t.getParam("paste_data_images",!1)},R=function(t){return t.getParam("paste_filter_drop",!0)},M=function(t){return t.getParam("paste_preprocess")},E=function(t){return t.getParam("paste_postprocess")},F=function(t){return t.getParam("paste_webkit_styles")},A=function(t){return t.getParam("paste_remove_styles_if_webkit",!0)},I=function(t){return t.getParam("paste_merge_formats",!0)},H=function(t){return t.getParam("smart_paste",!0)},B=function(t){return t.getParam("paste_as_text",!1)},j=function(t){return t.getParam("paste_retain_style_properties")},L=function(t){var e="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return t.getParam("paste_word_valid_elements",e)},N=function(t){return t.getParam("paste_convert_word_fake_lists",!0)},$=function(t){return t.getParam("paste_enable_default_filters",!0)},W={shouldPlainTextInform:C,shouldBlockDrop:S,shouldPasteDataImages:O,shouldFilterDrop:R,getPreProcess:M,getPostProcess:E,getWebkitStyles:F,shouldRemoveWebKitStyles:A,shouldMergeFormats:I,isSmartPasteEnabled:H,isPasteAsTextEnabled:B,getRetainStyleProps:j,getWordValidElements:L,shouldConvertWordFakeLists:N,shouldUseDefaultFilters:$},U=function(t,e){return e.get()===!1&&W.shouldPlainTextInform(t)},z=function(t,e){t.notificationManager.open({text:t.translate(e),type:"info"})},V=function(t,e,n){"text"===e.pasteFormat.get()?(e.pasteFormat.set("html"),k.firePastePlainTextToggle(t,!1)):(e.pasteFormat.set("text"),k.firePastePlainTextToggle(t,!0),U(t,n)&&(z(t,"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."),n.set(!0))),t.focus()},q={togglePlainTextPaste:V},K=function(t,e,n){t.addCommand("mceTogglePlainTextPaste",function(){q.togglePlainTextPaste(t,e,n)}),t.addCommand("mceInsertClipboardContent",function(t,n){n.content&&e.pasteHtml(n.content,n.internal),n.text&&e.pasteText(n.text)})},G={register:K},X=tinymce.util.Tools.resolve("tinymce.Env"),Y=tinymce.util.Tools.resolve("tinymce.util.Delay"),Z=tinymce.util.Tools.resolve("tinymce.util.Tools"),J=tinymce.util.Tools.resolve("tinymce.util.VK"),Q="x-tinymce/html",tt="<!-- "+Q+" -->",et=function(t){return tt+t},nt=function(t){return t.replace(tt,"")},rt=function(t){return t.indexOf(tt)!==-1},it={mark:et,unmark:nt,isMarked:rt,internalHtmlMime:function(){return Q}},ot=tinymce.util.Tools.resolve("tinymce.html.Entities"),at=function(t){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t)},ut=function(t){return t.replace(/\r?\n/g,"<br>")},st=function(t,e){var n,r=[],i="<"+t;if("object"==typeof e){for(n in e)e.hasOwnProperty(n)&&r.push(n+'="'+ot.encodeAllRaw(e[n])+'"');r.length&&(i+=" "+r.join(" "))}return i+">"},ct=function(t,e,n){var r=t.split(/\n\n/),i=st(e,n),o="</"+e+">",a=Z.map(r,function(t){return t.split(/\n/).join("<br />")}),u=function(t){return i+t+o};return 1===a.length?a[0]:Z.map(a,u).join("")},lt=function(t,e,n){return e?ct(t,e,n):ut(t)},ft={isPlainText:at,convert:lt,toBRs:ut,toBlockElements:ct},dt=tinymce.util.Tools.resolve("tinymce.html.DomParser"),mt=tinymce.util.Tools.resolve("tinymce.html.Node"),gt=tinymce.util.Tools.resolve("tinymce.html.Schema"),pt=tinymce.util.Tools.resolve("tinymce.html.Serializer"),vt=function(){return navigator.userAgent.indexOf(" Edge/")!==-1},ht={filter:t,innerText:e,trimHtml:n,createIdGenerator:r,isMsEdge:vt},yt=function(t,e){var n,r;n=W.getRetainStyleProps(t),n&&(r=Z.makeMap(n.split(/[, ]/))),e=ht.filter(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,""],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(t,e){return e.length>0?e.replace(/./," ").slice(Math.floor(e.length/2)).split("").join(""):""}]]);var i=W.getWordValidElements(t),o=gt({valid_elements:i,valid_children:"-li[p]"});Z.each(o.elements,function(t){t.attributes["class"]||(t.attributes["class"]={},t.attributesOrder.push("class")),t.attributes.style||(t.attributes.style={},t.attributesOrder.push("style"))});var a=dt({},o);a.addAttributeFilter("style",function(e){for(var n,i=e.length;i--;)n=e[i],n.attr("style",s(t,r,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()}),a.addAttributeFilter("class",function(t){for(var e,n,r=t.length;r--;)e=t[r],n=e.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&e.remove(),e.attr("class",null)}),a.addNodeFilter("del",function(t){for(var e=t.length;e--;)t[e].remove()}),a.addNodeFilter("a",function(t){for(var e,n,r,i=t.length;i--;)if(e=t[i],n=e.attr("href"),r=e.attr("name"),n&&n.indexOf("#_msocom_")!==-1)e.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1],n&&(n="#"+n)),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){e.unwrap();continue}e.attr({href:n,name:r})}else e.unwrap()});var c=a.parse(e);return W.shouldConvertWordFakeLists(t)&&u(c),e=pt({validate:t.settings.validate},o).serialize(c)},Pt=function(t,e){return W.shouldUseDefaultFilters(t)?yt(t,e):e},bt={preProcess:Pt,isWordContent:i},xt=function(t,e){return{content:t,cancelled:e}},wt=function(t,e,n,r){var i=t.dom.create("div",{style:"display:none"},e),o=k.firePastePostProcess(t,i,n,r);return xt(o.node.innerHTML,o.isDefaultPrevented())},Tt=function(t,e,n,r){var i=k.firePastePreProcess(t,e,n,r);return t.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?wt(t,i.content,n,r):xt(i.content,i.isDefaultPrevented())},_t=function(t,e,n){var r=bt.isWordContent(e),i=r?bt.preProcess(t,e):e;return Tt(t,i,n,r)},Dt={process:_t},kt=function(t,e){var n=t.dom.create("body",{},e);return Z.each(n.querySelectorAll("meta"),function(t){return t.parentNode.removeChild(t)}),n.innerHTML},Ct=function(t,e){return t.insertContent(kt(t,e),{merge:W.shouldMergeFormats(t),paste:!0}),!0},St=function(t){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(t)},Ot=function(t){return St(t)&&/.(gif|jpe?g|png)$/.test(t)},Rt=function(t,e,n){return t.undoManager.extra(function(){n(t,e)},function(){t.insertContent('<img src="'+e+'">')}),!0},Mt=function(t,e,n){return t.undoManager.extra(function(){n(t,e)},function(){t.execCommand("mceInsertLink",!1,e)}),!0},Et=function(t,e,n){return!(t.selection.isCollapsed()!==!1||!St(e))&&Mt(t,e,n)},Ft=function(t,e,n){return!!Ot(e)&&Rt(t,e,n)},At=function(t,e){Z.each([Et,Ft,Ct],function(n){return n(t,e,Ct)!==!0})},It=function(t,e){W.isSmartPasteEnabled(t)===!1?Ct(t,e):At(t,e)},Ht={isImageUrl:Ot,isAbsoluteUrl:St,insertContent:It},Bt=function(t){return function(){return t}},jt=Bt(!1),Lt=Bt(!0),Nt=jt,$t=Lt,Wt=function(){return Ut},Ut=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r=function(){},i=function(){return null},o=function(){},a={fold:function(t,e){return t()},is:Nt,isSome:Nt,isNone:$t,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:i,getOrUndefined:o,or:n,orThunk:e,map:Wt,ap:Wt,each:r,bind:Wt,flatten:Wt,exists:Nt,forall:$t,filter:Wt,equals:t,equals_:t,toArray:function(){return[]},toString:Bt("none()")};return Object.freeze&&Object.freeze(a),a}(),zt=function(t){var e=function(){return t},n=function(){return o},r=function(e){return zt(e(t))},i=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:$t,isNone:Nt,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:r,ap:function(e){return e.fold(Wt,function(e){return zt(e(t))})},each:function(e){e(t)},bind:i,flatten:e,exists:i,forall:i,filter:function(e){return e(t)?o:Ut},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(Nt,function(e){return n(t,e)})},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return o},Vt=function(t){return null===t||void 0===t?Ut:zt(t)},qt={some:zt,none:Wt,from:Vt},Kt=function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&Array.prototype.isPrototypeOf(t)?"array":"object"===e&&String.prototype.isPrototypeOf(t)?"string":e},Gt=function(t){return function(e){return Kt(e)===t}},Xt=Gt("function"),Yt=function(t,e){for(var n=t.length,r=new Array(n),i=0;i<n;i++){var o=t[i];r[i]=e(o,i,t)}return r},Zt=function(t,e){for(var n=0,r=t.length;n<r;n++){var i=t[n];e(i,n,t)}},Jt=function(t,e){for(var n=[],r=0,i=t.length;r<i;r++){var o=t[r];e(o,r,t)&&n.push(o)}return n},Qt=Array.prototype.slice,te=Xt(Array.from)?Array.from:function(t){return Qt.call(t)},ee=function(t){var e=qt.none(),n=[],r=function(t){return ee(function(e){i(function(n){e(t(n))})})},i=function(t){a()?s(t):n.push(t)},o=function(t){e=qt.some(t),u(n),n=[]},a=function(){return e.isSome()},u=function(t){Zt(t,s)},s=function(t){e.each(function(e){setTimeout(function(){t(e)},0)})};return t(o),{get:i,map:r,isReady:a}},ne=function(t){return ee(function(e){e(t)})},re={nu:ee,pure:ne},ie=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this;setTimeout(function(){t.apply(r,e)},0)}},oe=function(t){var e=function(e){t(ie(e))},n=function(t){return oe(function(n){e(function(e){var r=t(e);n(r)})})},r=function(t){return oe(function(n){e(function(e){t(e).get(n)})})},i=function(t){return oe(function(n){e(function(e){t.get(n)})})},o=function(){return re.nu(e)},a=function(){var t=null;return oe(function(e){null===t&&(t=o()),t.get(e)})};return{map:n,bind:r,anonBind:i,toLazy:o,toCached:a,get:e}},ae=function(t){return oe(function(e){e(t)})},ue={nu:oe,pure:ae},se=function(t,e){return e(function(e){var n=[],r=0,i=function(i){return function(o){n[i]=o,r++,r>=t.length&&e(n)}};0===t.length?e([]):Zt(t,function(t,e){t.get(i(e))})})},ce=function(t){return se(t,ue.nu)},le=function(t,e){var n=Yt(t,e);return ce(n)},fe=function(t,e,n){var r=n?n:it.isMarked(e),i=Dt.process(t,it.unmark(e),r);i.cancelled===!1&&Ht.insertContent(t,i.content)},de=function(t,e){e=t.dom.encode(e).replace(/\r\n/g,"\n"),e=ft.convert(e,t.settings.forced_root_block,t.settings.forced_root_block_attrs),fe(t,e,!1)},me=function(t){var e={},n="data:text/mce-internal,";if(t){if(t.getData){var r=t.getData("Text");r&&r.length>0&&r.indexOf(n)===-1&&(e["text/plain"]=r)}if(t.types)for(var i=0;i<t.types.length;i++){var o=t.types[i];try{e[o]=t.getData(o)}catch(a){e[o]=""}}}return e},ge=function(t,e){var n=me(e.clipboardData||t.getDoc().dataTransfer);return ht.isMsEdge()?Z.extend(n,{"text/html":""}):n},pe=function(t,e){return e in t&&t[e].length>0},ve=function(t){return pe(t,"text/html")||pe(t,"text/plain")},he=function(t){var e;return e=t.indexOf(","),e!==-1?t.substr(e+1):null},ye=function(t,e){return!t.images_dataimg_filter||t.images_dataimg_filter(e)},Pe=function(t,e){var n=e.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return n?t.dom.encode(n[1]):null},be=ht.createIdGenerator("mceclip"),xe=function(t,e){var n=he(e.uri),r=be(),i=t.settings.images_reuse_filename&&e.blob.name?Pe(t,e.blob.name):r,o=new Image;if(o.src=e.uri,ye(t.settings,o)){var a=t.editorUpload.blobCache,u=void 0,s=void 0;s=a.findFirst(function(t){return t.base64()===n}),s?u=s:(u=a.create(r,e.blob,n,i),a.add(u)),fe(t,'<img src="'+u.blobUri()+'">',!1)}else fe(t,'<img src="'+e.uri+'">',!1)},we=function(t){return"paste"===t.type},Te=function(t){return le(t,function(t){return ue.nu(function(e){var n=t.getAsFile?t.getAsFile():t,r=new window.FileReader;r.onload=function(){e({blob:n,uri:r.result})},r.readAsDataURL(n)})})},_e=function(t){var e=t.items?Yt(te(t.items),function(t){return t.getAsFile()}):[],n=t.files?te(t.files):[],r=Jt(e.length>0?e:n,function(t){return/^image\/(jpeg|png|gif|bmp)$/.test(t.type)});return r},De=function(t,e,n){var r=we(e)?e.clipboardData:e.dataTransfer;if(t.settings.paste_data_images&&r){var i=_e(r);if(i.length>0)return e.preventDefault(),Te(i).get(function(e){n&&t.selection.setRng(n),Zt(e,function(e){xe(t,e)})}),!0}return!1},ke=function(t){var e=t.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&e&&e.items&&0===e.items.length},Ce=function(t){return J.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode},Se=function(t,e,n){function r(n,r,i,o){var a,u;return pe(n,"text/html")?a=n["text/html"]:(a=e.getHtml(),o=o?o:it.isMarked(a),e.isDefaultContent(a)&&(i=!0)),a=ht.trimHtml(a),e.remove(),u=o===!1&&ft.isPlainText(a),a.length&&!u||(i=!0),i&&(a=pe(n,"text/plain")&&u?n["text/plain"]:ht.innerText(a)),e.isDefaultContent(a)?void(r||t.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(i?de(t,a):fe(t,a,o))}var i,o=0;t.on("keydown",function(n){function r(t){Ce(t)&&!t.isDefaultPrevented()&&e.remove()}if(Ce(n)&&!n.isDefaultPrevented()){if(i=n.shiftKey&&86===n.keyCode,i&&X.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(n.stopImmediatePropagation(),o=(new Date).getTime(),X.ie&&i)return n.preventDefault(),void k.firePaste(t,!0);e.remove(),e.create(),t.once("keyup",r),t.once("paste",function(){t.off("keyup",r)})}});var a=function(){return e.getLastRng()||t.selection.getRng()};t.on("paste",function(u){var s=(new Date).getTime(),c=ge(t,u),l=(new Date).getTime()-s,f=(new Date).getTime()-o-l<1e3,d="text"===n.get()||i,m=pe(c,it.internalHtmlMime());return i=!1,u.isDefaultPrevented()||ke(u)?void e.remove():!ve(c)&&De(t,u,a())?void e.remove():(f||u.preventDefault(),!X.ie||f&&!u.ieFake||pe(c,"text/html")||(e.create(),t.dom.bind(e.getEl(),"paste",function(t){t.stopPropagation()}),t.getDoc().execCommand("Paste",!1,null),c["text/html"]=e.getHtml()),void(pe(c,"text/html")?(u.preventDefault(),m||(m=it.isMarked(c["text/html"])),r(c,f,d,m)):Y.setEditorTimeout(t,function(){r(c,f,d,m)},0)))})},Oe=function(t,e,n){Se(t,e,n);var r;t.parser.addNodeFilter("img",function(e,n,i){var o=function(t){return t.data&&t.data.paste===!0},a=function(t){t.attr("data-mce-object")||r===X.transparentSrc||t.remove()},u=function(t){return 0===t.indexOf("webkit-fake-url")},s=function(t){return 0===t.indexOf("data:")};if(!t.settings.paste_data_images&&o(i))for(var c=e.length;c--;)r=e[c].attributes.map.src,r&&(u(r)?a(e[c]):!t.settings.allow_html_data_urls&&s(r)&&a(e[c]))})},Re=function(t){return X.ie&&t.inline?document.body:t.getBody()},Me=function(t){return Re(t)!==t.getBody()},Ee=function(t,e,n){Me(t)&&t.dom.bind(e,"paste keyup",function(e){Ne(t,n)||t.fire("paste")})},Fe=function(t,e,n){var r,i=t.dom,o=t.getBody();e.set(t.selection.getRng()),r=t.dom.add(Re(t),"div",{id:"mcepastebin","class":"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n),(X.ie||X.gecko)&&i.setStyle(r,"left","rtl"===i.getStyle(o,"direction",!0)?65535:-65535),i.bind(r,"beforedeactivate focusin focusout",function(t){t.stopPropagation()}),Ee(t,r,n),r.focus(),t.selection.select(r,!0)},Ae=function(t,e){if(Ie(t)){for(var n=void 0,r=e.get();n=t.dom.get("mcepastebin");)t.dom.remove(n),t.dom.unbind(n);r&&t.selection.setRng(r)}e.set(null)},Ie=function(t){return t.dom.get("mcepastebin")},He=function(t){var e,n,r,i,o,a=function(e,n){e.appendChild(n),t.dom.remove(n,!0)};for(n=Z.grep(Re(t).childNodes,function(t){return"mcepastebin"===t.id}),e=n.shift(),Z.each(n,function(t){a(e,t)}),i=t.dom.select("div[id=mcepastebin]",e),r=i.length-1;r>=0;r--)o=t.dom.create("div"),e.insertBefore(o,i[r]),a(o,i[r]);return e?e.innerHTML:""},Be=function(t){return t.get()},je=function(t,e){return e===t},Le=function(t){return t&&"mcepastebin"===t.id},Ne=function(t,e){var n=Ie(t);return Le(n)&&je(e,n.innerHTML)},$e=function(t){var e=v(null),n="%MCEPASTEBIN%";return{create:function(){return Fe(t,e,n)},remove:function(){return Ae(t,e)},getEl:function(){return Ie(t)},getHtml:function(){return He(t)},getLastRng:function(){return Be(e)},isDefault:function(){return Ne(t,n)},isDefaultContent:function(t){return je(n,t)}}},We=function(t,e){var n=$e(t);return t.on("preInit",function(){return Oe(t,n,e)}),{pasteFormat:e,pasteHtml:function(e,n){return fe(t,e,n)},pasteText:function(e){return de(t,e)},pasteImageData:function(e,n){return De(t,e,n)},getDataTransferItems:me,hasHtmlOrText:ve,hasContentType:pe}},Ue=function(){},ze=function(t){return X.iOS===!1&&void 0!==t&&"function"==typeof t.setData&&ht.isMsEdge()!==!0},Ve=function(t,e,n){if(!ze(t))return!1;try{return t.clearData(),t.setData("text/html",e),t.setData("text/plain",n),t.setData(it.internalHtmlMime(),e),!0}catch(r){return!1}},qe=function(t,e,n,r){Ve(t.clipboardData,e.html,e.text)?(t.preventDefault(),r()):n(e.html,r)},Ke=function(t){return function(e,n){var r=it.mark(e),i=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),o=t.dom.create("div",{contenteditable:"true"},r);t.dom.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(o),t.dom.add(t.getBody(),i);var a=t.selection.getRng();o.focus();var u=t.dom.createRng();u.selectNodeContents(o),t.selection.setRng(u),setTimeout(function(){t.selection.setRng(a),i.parentNode.removeChild(i),n()},0)}},Ge=function(t){return{html:t.selection.getContent({contextual:!0}),text:t.selection.getContent({format:"text"})}},Xe=function(t){return!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody())},Ye=function(t){return!t.selection.isCollapsed()||Xe(t)},Ze=function(t){return function(e){Ye(t)&&qe(e,Ge(t),Ke(t),function(){setTimeout(function(){t.execCommand("Delete")},0)})}},Je=function(t){return function(e){Ye(t)&&qe(e,Ge(t),Ke(t),Ue)}},Qe=function(t){t.on("cut",Ze(t)),t.on("copy",Je(t))},tn={register:Qe},en=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),nn=function(t,e){return en.getCaretRangeFromPoint(e.clientX,e.clientY,t.getDoc())},rn=function(t){var e=t["text/plain"];return!!e&&0===e.indexOf("file://")},on=function(t,e){t.focus(),t.selection.setRng(e)},an=function(t,e,n){W.shouldBlockDrop(t)&&t.on("dragend dragover draggesture dragdrop drop drag",function(t){t.preventDefault(),t.stopPropagation()}),W.shouldPasteDataImages(t)||t.on("drop",function(t){var e=t.dataTransfer;e&&e.files&&e.files.length>0&&t.preventDefault()}),t.on("drop",function(r){var i,o;if(o=nn(t,r),!r.isDefaultPrevented()&&!n.get()){i=e.getDataTransferItems(r.dataTransfer);var a=e.hasContentType(i,it.internalHtmlMime());if((e.hasHtmlOrText(i)&&!rn(i)||!e.pasteImageData(r,o))&&o&&W.shouldFilterDrop(t)){var u=i["mce-internal"]||i["text/html"]||i["text/plain"];u&&(r.preventDefault(),Y.setEditorTimeout(t,function(){t.undoManager.transact(function(){i["mce-internal"]&&t.execCommand("Delete"),on(t,o),u=ht.trimHtml(u),i["text/html"]?e.pasteHtml(u,a):e.pasteText(u)})}))}}}),t.on("dragstart",function(t){n.set(!0)}),t.on("dragover dragend",function(e){W.shouldPasteDataImages(t)&&n.get()===!1&&(e.preventDefault(),on(t,nn(t,e))),"dragend"===e.type&&n.set(!1)})},un={setup:an},sn=function(t){var e=t.plugins.paste,n=W.getPreProcess(t);n&&t.on("PastePreProcess",function(t){n.call(e,e,t)});var r=W.getPostProcess(t);r&&t.on("PastePostProcess",function(t){r.call(e,e,t)})},cn={setup:sn},ln=function(t){X.webkit&&l(t,m),X.ie&&(l(t,d),f(t,g))},fn={setup:ln},dn=function(t,e,n){var r=n.control;r.active("text"===e.pasteFormat.get()),t.on("PastePlainTextToggle",function(t){r.active(t.state)})},mn=function(t,e){var n=c(dn,t,e);t.addButton("pastetext",{active:!1,icon:"pastetext",tooltip:"Paste as text",cmd:"mceTogglePlainTextPaste",onPostRender:n}),t.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:e.pasteFormat,cmd:"mceTogglePlainTextPaste",onPostRender:n})},gn={register:mn};return h.add("paste",function(t){if(P.hasProPlugin(t)===!1){var e=v(!1),n=v(!1),r=v(W.isPasteAsTextEnabled(t)?"text":"html"),i=We(t,r),o=fn.setup(t);return gn.register(t,i),G.register(t,i,e),cn.setup(t),tn.register(t),un.setup(t,i,n),x.get(i,o)}}),p})()}();
},{}],"tinymce/plugins/table/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function t(e,t,n,r,o){return e(n,r)?H.some(n):G(o)&&o(n)?H.none():t(n,r,o)}function n(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return u(n).getOr("")},r=function(e){try{return o(e)}catch(t){return H.none()}},o=function(t){return e(t)?H.from(t.dom().nodeValue):H.none()},i=nn.detect().browser,u=i.isIE()&&10===i.version.major?r:o,a=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r};return{get:n,getOption:u,set:a}}function r(){var e=function(e){return Ue.fromDom(e.dom().cloneNode(!1))},t=function(e){return!!Dn(e)&&("body"===Cn(e)||X(So,Cn(e)))},n=function(e){return!!Dn(e)&&X(["br","img","hr","input"],Cn(e))},r=function(e,t){return e.dom().compareDocumentPosition(t.dom())},o=function(e,t){var n=Wn(e);Nn(t,n)};return{up:D({selector:Kn,closest:Qn,predicate:Gn,all:mn}),down:D({selector:qn,predicate:Fn}),styles:D({get:Ar,getRaw:Er,set:Dr,remove:Nr}),attrs:D({get:Pn,set:En,remove:In,copyTo:o}),insert:D({before:Br,after:Ir,afterAll:Hr,append:Mr,appendAll:jr,prepend:Wr,wrap:Lr}),remove:D({unwrap:Ur,remove:zr}),create:D({nu:Ue.fromTag,clone:e,text:Ue.fromText}),query:D({comparePosition:r,prevSibling:gn,nextSibling:hn}),property:D({children:vn,name:Cn,parent:dn,isText:kn,isComment:Tn,isElement:Dn,getText:ro,setText:io,isBoundary:t,isEmptyTag:n}),eq:rn,is:ln}}function o(e,t){var n=function(t,n){if(!V(n)&&!n.match(/^[0-9]+$/))throw e+".set accepts only positive integer values. Value was "+n;var r=t.dom();Rr(r)&&(r.style[e]=n+"px")},r=function(n){var r=t(n);if(r<=0||null===r){var o=Ar(n,e);return parseFloat(o)||0}return r},o=r,i=function(e,t){return te(t,function(t,n){var r=Ar(e,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?t:t+o},0)},u=function(e,t,n){var r=i(e,n),o=t>r?t-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:u}}function i(e){var t=function(t){return e(t).isRtl()?ga.rtl:ga.ltr},n=function(e,n){return t(n).delta(e,n)},r=function(e,n){return t(n).positions(e,n)},o=function(e){return t(e).edge(e)};return{delta:n,edge:o,positions:r}}function u(e){return e.control.rootControl.find("#style")[0].getEl().isEqualNode(document.activeElement)}function a(e,t,n,r){function o(e,n,r){(1===t.length||r)&&u.setAttrib(e,n,r)}function i(e,n,r){(1===t.length||r)&&u.setStyle(e,n,r)}var u=e.dom;Us(e)&&Cd.syncAdvancedStyleFields(e,r);var a=r.control.rootControl.toJSON();e.undoManager.transact(function(){ld.each(t,function(t){o(t,"scope",a.scope),o(t,"style",a.style),o(t,"class",a["class"]),i(t,"height",As(a.height)),a.type!==t.parentNode.nodeName.toLowerCase()&&Od(e.dom,t,a.type),a.align!==n.align&&(hd.unApplyAlign(e,t),hd.applyAlign(e,t,a.align))}),e.focus()})}function c(e,t,n,r){if("TD"===t.tagName||"TH"===t.tagName)e.setStyle(t,n,r);else if(t.children)for(var o=0;o<t.children.length;o++)c(e,t.children[o],n,r)}function l(e){var t=ve.apply(null,e),n=[],r=function(e){if(void 0===e)throw"Event bind error: undefined handler";n.push(e)},o=function(e){n=Z(n,function(t){return t!==e})},i=function(){var e=t.apply(null,arguments);$(n,function(t){t(e)})};return{bind:r,unbind:o,trigger:i}}function f(e){var t=Za({layerClass:mm.resolve("blocker")},e),n=Ue.fromTag("div");En(n,"role","presentation"),kr(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),qc(n,mm.resolve("blocker")),qc(n,t.layerClass);var r=function(){return n},o=function(){zr(n)};return{element:r,destroy:o}}function s(){var e=H.none(),t=function(){e=H.none()},n=function(t,n){var r=e.map(function(e){return t.compare(e,n)});return e=H.some(n),r},r=function(e,t){var r=t.extract(e);r.each(function(e){var r=n(t,e);r.each(function(e){o.trigger.move(e)})})},o=am.create({move:l(["info"])});return{onEvent:r,reset:t,events:o.registry}}function d(e){var t=function(e,t){};return{onEvent:t,reset:S}}function m(){var e=d(),t=s(),n=e,r=function(){n.reset(),n=t},o=function(){n.reset(),n=e},i=function(e,t){n.onEvent(e,t)},u=function(){return n===t};return{on:r,off:o,isOn:u,onEvent:i,events:t.events}}function g(){var e=am.create({drag:l(["xDelta","yDelta"])}),t=function(t,n){e.trigger.drag(t,n)};return{mutate:t,events:e.registry}}function h(){var e=am.create({drag:l(["xDelta","yDelta","target"])}),t=H.none(),n=g();n.events.drag.bind(function(n){t.each(function(t){e.trigger.drag(n.xDelta(),n.yDelta(),t)})});var r=function(e){t=H.some(e)},o=function(){return t};return{assign:r,get:o,mutate:n.mutate,events:e.registry}}function v(t,n,r){var o=h(),i=Em.transform(o,{}),u=H.none(),a=function(e,t){return H.from(Pn(e,t))};o.events.drag.bind(function(e){a(e.target(),"data-row").each(function(t){var n=vf.getInt(e.target(),"top");Dr(e.target(),"top",n+e.yDelta()+"px")}),a(e.target(),"data-column").each(function(t){var n=vf.getInt(e.target(),"left");Dr(e.target(),"left",n+e.xDelta()+"px")})});var c=function(e,t){var n=vf.getInt(e,t),r=parseInt(Pn(e,"data-initial-"+t),10);return n-r};i.events.stop.bind(function(){o.get().each(function(e){u.each(function(o){a(e,"data-row").each(function(t){var n=c(e,"top");In(e,"data-initial-top"),p.trigger.adjustHeight(o,n,parseInt(t,10))}),a(e,"data-column").each(function(t){var n=c(e,"left");In(e,"data-initial-left"),p.trigger.adjustWidth(o,n,parseInt(t,10))}),ll.refresh(t,o,r,n)})})});var f=function(e,n){p.trigger.startAdjust(),o.assign(e),En(e,"data-initial-"+n,parseInt(Ar(e,n),10)),qc(e,Pm),Dr(e,"opacity","0.2"),i.go(t.parent())},s=ym(t.parent(),"mousedown",function(e){ll.isRowBar(e.target())&&f(e.target(),"top"),ll.isColBar(e.target())&&f(e.target(),"left")}),d=function(e){return rn(e,t.view())},m=ym(t.view(),"mouseover",function(e){"table"===Cn(e.target())||Nm(e.target(),"table",d)?(u="table"===Cn(e.target())?H.some(e.target()):Kn(e.target(),"table",d),u.each(function(e){ll.refresh(t,e,r,n)})):Mn(e.target())&&ll.destroy(t)}),g=function(){s.unbind(),m.unbind(),i.destroy(),ll.destroy(t)},v=function(e){ll.refresh(t,e,r,n)},p=am.create({adjustHeight:l(["table","delta","row"]),adjustWidth:l(["table","delta","column"]),startAdjust:l([])});return{destroy:g,refresh:v,on:i.on,off:i.off,hideBars:e(ll.hide,t),showBars:e(ll.show,t),events:p.registry}}function p(e,t){var n=ma.height,r=v(e,t,n),o=am.create({beforeResize:l(["table"]),afterResize:l(["table"]),startDrag:l([])});return r.events.adjustHeight.bind(function(e){o.trigger.beforeResize(e.table());var t=n.delta(e.delta(),e.table());Gf.adjustHeight(e.table(),t,e.row(),n),o.trigger.afterResize(e.table())}),r.events.startAdjust.bind(function(e){o.trigger.startDrag()}),r.events.adjustWidth.bind(function(e){o.trigger.beforeResize(e.table());var n=t.delta(e.delta(),e.table());Gf.adjustWidth(e.table(),n,e.column(),t),o.trigger.afterResize(e.table())}),{on:r.on,off:r.off,hideBars:r.hideBars,showBars:r.showBars,destroy:r.destroy,events:o.registry}}function b(e){var t=function(t,n){return Ue.fromPoint(Ue.fromDom(e.document),t,n)},n=function(e){return e.dom().getBoundingClientRect()},r=function(t,n,r,o){var i=ug(t,n,r,o);return ih(e,i).map(function(e){return ge(e,E)})},o=function(){return oh(e).map(function(t){return Dh.convertToRange(e,t)})},i=function(t){var n=ig(t.start(),t.finish());return Dh.convertToRange(e,n)},u=function(t,n){return uh(e,t,n).map(function(e){return{start:D(eg.on(e.start(),e.soffset())),finish:D(eg.on(e.finish(),e.foffset()))}})},a=function(){ah(e)},c=function(t){nh(e,t)},l=function(t){$g(e,t.start(),t.soffset(),t.finish(),t.foffset())},f=function(t,n){Qg(e,t,n)},s=function(){return e.innerHeight},d=function(){var t=kh(Ue.fromDom(e.document));return t.top()},m=function(t,n){Ah(t,n,Ue.fromDom(e.document))};return{elementFromPoint:t,getRect:n,getRangedRect:r,getSelection:o,fromSitus:i,situsFromPoint:u,clearSelection:a,setSelection:l,setRelativeSelection:f,selectContents:c,getInnerHeight:s,getScrollY:d,scrollBy:m}}function w(e,t,n,r){var o=H.none(),i=function(){o=H.none()},u=function(e){r.clear(t),o=Ep(e.target(),n)},a=function(i){o.each(function(o){r.clear(t),Ep(i.target(),n).each(function(i){Ai.identify(o,i,n).each(function(n){var u=n.boxes().getOr([]);(u.length>1||1===u.length&&!rn(o,i))&&(r.selectRange(t,u,n.start(),n.finish()),e.selectContents(i))})})})},c=function(){o.each(i)};return{mousedown:u,mouseover:a,mouseup:c}}function y(e,t){var n=Re(["mousedown","mouseover","mouseup","keyup","keydown"],[]),r=H.none(),o=Fp.byAttr(Hi);e.on("init",function(i){var u=e.getWin(),a=Rs(e),c=Ds(e),l=function(){var t=e.selection,n=Ue.fromDom(t.getStart()),r=Ue.fromDom(t.getEnd()),i=ti.sharedOne(dr.table,[n,r]);i.fold(function(){o.clear(a)},S)},f=Wp.mouse(u,a,c,o),s=Wp.keyboard(u,a,c,o),d=function(e){return e.raw().shiftKey===!0},m=function(t,n){d(t)&&(n.kill()&&t.kill(),n.selection().each(function(t){var n=ig(t.start(),t.finish()),r=Cg(u,n);e.selection.setRng(r)}))},g=function(t){var n=p(t);if(n.raw().shiftKey&&Rh.isNavigation(n.raw().which)){var r=e.selection.getRng(),o=Ue.fromDom(r.startContainer),i=Ue.fromDom(r.endContainer);s.keyup(n,o,r.startOffset,i,r.endOffset).each(function(e){m(n,e)})}},h=function(n){var r=p(n);t().each(function(e){e.hideBars()});var o=e.selection.getRng(),i=Ue.fromDom(e.selection.getStart()),u=Ue.fromDom(o.startContainer),a=Ue.fromDom(o.endContainer),c=Is.directionAt(i).isRtl()?Rh.rtl:Rh.ltr;s.keydown(r,u,o.startOffset,a,o.endOffset,c).each(function(e){m(r,e)}),t().each(function(e){e.showBars()})},v=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},p=function(e){var t=Ue.fromDom(e.target),n=function(){e.stopPropagation()},r=function(){e.preventDefault()},o=T(r,n);return{target:D(t),x:D(v(e)?e.x:null),y:D(v(e)?e.y:null),stop:n,prevent:r,kill:o,raw:D(e)}},b=function(e){return 0===e.button},w=function(e){return void 0===e.buttons||0!==(1&e.buttons)},y=function(e){b(e)&&zp(e)&&f.mousedown(p(e))},x=function(e){w(e)&&zp(e)&&f.mouseover(p(e))},C=function(e){b(e)&&zp(e)&&f.mouseup(p(e))};e.on("mousedown",y),e.on("mouseover",x),e.on("mouseup",C),e.on("keyup",g),e.on("keydown",h),e.on("nodechange",l),r=H.some(n({mousedown:y,mouseover:x,mouseup:C,keyup:g,keydown:h}))});var i=function(){r.each(function(e){})};return{clear:o.clear,destroy:i}}function x(e){var t=Lm(e),n=y(e,t.lazyResize),r=ud(e,t.lazyWire),o=Up(e),i=pa(H.none());return tm.registerCommands(e,r,n,o,i),iu.registerEvents(e,o,r,n),Kp.addMenuItems(e,o),Yp.addButtons(e),Yp.addToolbars(e),e.on("PreInit",function(){e.serializer.addTempAttr(Hi.firstSelected()),e.serializer.addTempAttr(Hi.lastSelected())}),Fs(e)&&e.on("keydown",function(n){vh.handle(n,e,r,t.lazyWire)}),e.on("remove",function(){t.destroy(),n.destroy()}),Qp(e,i)}function C(){}var R=tinymce.util.Tools.resolve("tinymce.PluginManager"),S=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},T=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},D=function(e){return function(){return e}},k=function(e){return e},A=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},O=function(e){return function(){throw new Error(e)}},E=function(e){return e()},N=D(!1),P=D(!0),B=N,I=P,W=function(){return M},M=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o=function(){return null},i=function(){},u={fold:function(e,t){return e()},is:B,isSome:B,isNone:I,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o,getOrUndefined:i,or:n,orThunk:t,map:W,ap:W,each:r,bind:W,flatten:W,exists:B,forall:I,filter:W,equals:e,equals_:e,toArray:function(){return[]},toString:D("none()")};return Object.freeze&&Object.freeze(u),u}(),L=function(e){var t=function(){return e},n=function(){return i},r=function(t){return L(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:I,isNone:B,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(W,function(t){return L(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:M},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(B,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},_=function(e){return null===e||void 0===e?M:L(e)},H={some:L,none:W,from:_},j=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},F=function(e){return function(t){return j(t)===e}},z=F("string"),U=F("array"),q=F("boolean"),G=F("function"),V=F("number"),Y=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return oe(e,t)};return void 0===e?n:t}(),X=function(e,t){return Y(e,t)>-1},K=function(e,t){return re(e,t).isSome()},J=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},$=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n,e)}},Q=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n,e)}},Z=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},ee=function(e,t,n){return Q(e,function(e){n=t(n,e)}),n},te=function(e,t,n){return $(e,function(e){n=t(n,e)}),n},ne=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return H.some(o)}return H.none()},re=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return H.some(n)}return H.none()},oe=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},ie=Array.prototype.push,ue=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);ie.apply(t,e[n])}return t},ae=function(e,t){var n=J(e,t);return ue(n)},ce=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(t(o,n,e)!==!0)return!1}return!0},le=Array.prototype.slice,fe=function(e){var t=le.call(e,0);return t.reverse(),t},se=function(e){return 0===e.length?H.none():H.some(e[e.length-1])},de=(G(Array.from)?Array.from:function(e){return le.call(e)},Object.keys),me=function(e,t){for(var n=de(e),r=0,o=n.length;r<o;r++){var i=n[r],u=e[i];t(u,i,e)}},ge=function(e,t){return he(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},he=function(e,t){var n={};return me(e,function(r,o){var i=t(r,o,e);n[i.k]=i.v}),n},ve=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return $(e,function(e,n){r[e]=D(t[n])}),r}},pe=function(e){return e.slice(0).sort()},be=function(e,t){throw new Error("All required keys ("+pe(e).join(", ")+") were not specified. Specified keys were: "+pe(t).join(", ")+".")},we=function(e){throw new Error("Unsupported keys for object: "+pe(e).join(", "))},ye=function(e,t){if(!U(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");$(t,function(t){if(!z(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")})},xe=function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+pe(e).join(", ")+") were not.")},Ce=function(e){var t=pe(e),n=ne(t,function(e,n){return n<t.length-1&&e===t[n+1]});n.each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})},Re=function(e,t){var n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return ye("required",e),ye("optional",t),Ce(n),function(r){var o=de(r),i=ce(e,function(e){return X(o,e)});i||be(e,o);var u=Z(o,function(e){return!X(n,e)});u.length>0&&we(u);var a={};return $(e,function(e){a[e]=D(r[e])}),$(t,function(e){a[e]=D(Object.prototype.hasOwnProperty.call(r,e)?H.some(r[e]):H.none())}),a}},Se=ve("width","height"),Te=ve("rows","columns"),De=ve("row","column"),ke=ve("x","y"),Ae=ve("element","rowspan","colspan"),Oe=ve("element","rowspan","colspan","isNew"),Ee=ve("element","rowspan","colspan","row","column"),Ne=ve("element","cells","section"),Pe=ve("element","isNew"),Be=ve("element","cells","section","isNew"),Ie=ve("cells","section"),We=ve("details","section"),Me=ve("startRow","startCol","finishRow","finishCol"),Le={dimensions:Se,grid:Te,address:De,coords:ke,extended:Ee,detail:Ae,detailnew:Oe,rowdata:Ne,elementnew:Pe,rowdatanew:Be,rowcells:Ie,rowdetails:We,bounds:Me},_e=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return Fe(r.childNodes[0])},He=function(e,t){var n=t||document,r=n.createElement(e);return Fe(r)},je=function(e,t){var n=t||document,r=n.createTextNode(e);return Fe(r)},Fe=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:D(e)}},ze=function(e,t,n){var r=e.dom();return H.from(r.elementFromPoint(t,n)).map(Fe)},Ue={fromHtml:_e,fromTag:He,fromText:je,fromDom:Fe,fromPoint:ze},qe=(Node.ATTRIBUTE_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE),Ge=Node.DOCUMENT_NODE,Ve=(Node.DOCUMENT_TYPE_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE),Ye=Node.TEXT_NODE,Xe=(Node.PROCESSING_INSTRUCTION_NODE,Node.ENTITY_REFERENCE_NODE,Node.ENTITY_NODE,Node.NOTATION_NODE,Ve),Ke=Ge,Je=function(e,t){var n=e.dom();if(n.nodeType!==Xe)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},$e=function(e){return e.nodeType!==Xe&&e.nodeType!==Ke||0===e.childElementCount},Qe=function(e,t){var n=void 0===t?document:t.dom();return $e(n)?[]:J(n.querySelectorAll(e),Ue.fromDom)},Ze=function(e,t){var n=void 0===t?document:t.dom();return $e(n)?H.none():H.from(n.querySelector(e)).map(Ue.fromDom)},et="undefined"!=typeof window?window:Function("return this;")(),tt=function(e,t){for(var n=void 0!==t&&null!==t?t:et,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},nt=function(e,t){var n=e.split(".");return tt(n,t)},rt=function(e,t){return nt(e,t)},ot=function(e,t){var n=rt(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},it={getOrDie:ot},ut=function(){var e=it.getOrDie("Node");return e},at=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},ct=function(e,t){return at(e,t,ut().DOCUMENT_POSITION_PRECEDING)},lt=function(e,t){return at(e,t,ut().DOCUMENT_POSITION_CONTAINED_BY)},ft={documentPositionPreceding:ct,documentPositionContainedBy:lt},st=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},dt=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},mt=function(e,t){var n=dt(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return vt(r(1),r(2))},gt=function(e,t){var n=String(t).toLowerCase();return 0===e.length?ht():mt(e,n)},ht=function(){return vt(0,0)},vt=function(e,t){return{major:e,minor:t}},pt={nu:vt,detect:gt,unknown:ht},bt="Edge",wt="Chrome",yt="IE",xt="Opera",Ct="Firefox",Rt="Safari",St=function(e,t){return function(){return t===e}},Tt=function(){return Dt({current:void 0,version:pt.unknown()})},Dt=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:St(bt,t),isChrome:St(wt,t),isIE:St(yt,t),isOpera:St(xt,t),isFirefox:St(Ct,t),isSafari:St(Rt,t)}},kt={unknown:Tt,nu:Dt,edge:D(bt),chrome:D(wt),ie:D(yt),opera:D(xt),firefox:D(Ct),safari:D(Rt)},At="Windows",Ot="iOS",Et="Android",Nt="Linux",Pt="OSX",Bt="Solaris",It="FreeBSD",Wt=function(e,t){return function(){return t===e}},Mt=function(){return Lt({current:void 0,version:pt.unknown()})},Lt=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:Wt(At,t),isiOS:Wt(Ot,t),isAndroid:Wt(Et,t),isOSX:Wt(Pt,t),isLinux:Wt(Nt,t),isSolaris:Wt(Bt,t),isFreeBSD:Wt(It,t)}},_t={unknown:Mt,nu:Lt,windows:D(At),ios:D(Ot),android:D(Et),linux:D(Nt),osx:D(Pt),solaris:D(Bt),freebsd:D(It)},Ht=function(e,t,n){var r=e.isiOS()&&/ipad/i.test(n)===!0,o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,u=e.isAndroid()&&4===e.version.major,a=r||i||u&&/mobile/i.test(n)===!0,c=e.isiOS()||e.isAndroid(),l=c&&!a,f=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1;return{isiPad:D(r),isiPhone:D(o),isTablet:D(a),isPhone:D(l),isTouch:D(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:D(f)}},jt=function(e,t){var n=String(t).toLowerCase();return ne(e,function(e){return e.search(n)})},Ft=function(e,t){return jt(e,t).map(function(e){var n=pt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},zt=function(e,t){return jt(e,t).map(function(e){var n=pt.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Ut={detectBrowser:Ft,detectOs:zt},qt=function(e,t,n){if(""===t)return!0;if(e.length<t.length)return!1;var r=e.substr(n,n+t.length);return r===t},Gt=function(e,t){return e.indexOf(t)!==-1},Vt=function(e,t){return qt(e,t,e.length-t.length)},Yt=function(e){return e.replace(/^\s+|\s+$/g,"")},Xt=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Kt=function(e){return function(t){return Gt(t,e)}},Jt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){var t=Gt(e,"edge/")&&Gt(e,"chrome")&&Gt(e,"safari")&&Gt(e,"applewebkit");return t}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Xt],search:function(e){return Gt(e,"chrome")&&!Gt(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Gt(e,"msie")||Gt(e,"trident")}},{name:"Opera",versionRegexes:[Xt,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Kt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Kt("firefox")},{name:"Safari",versionRegexes:[Xt,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Gt(e,"safari")||Gt(e,"mobile/"))&&Gt(e,"applewebkit")}}],$t=[{name:"Windows",search:Kt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Gt(e,"iphone")||Gt(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Kt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Kt("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Kt("linux"),versionRegexes:[]},{name:"Solaris",search:Kt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Kt("freebsd"),versionRegexes:[]}],Qt={browsers:D(Jt),oses:D($t)},Zt=function(e){var t=Qt.browsers(),n=Qt.oses(),r=Ut.detectBrowser(t,e).fold(kt.unknown,kt.nu),o=Ut.detectOs(n,e).fold(_t.unknown,_t.nu),i=Ht(o,r,e);return{browser:r,os:o,deviceType:i}},en={detect:Zt},tn=st(function(){var e=navigator.userAgent;return en.detect(e)}),nn={detect:tn},rn=function(e,t){return e.dom()===t.dom()},on=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},un=function(e,t){return ft.documentPositionContainedBy(e.dom(),t.dom())},an=nn.detect().browser,cn=an.isIE()?un:on,ln=Je,fn=function(e){return Ue.fromDom(e.dom().ownerDocument)},sn=function(e){var t=e.dom(),n=t.ownerDocument.defaultView;return Ue.fromDom(n)},dn=function(e){var t=e.dom();return H.from(t.parentNode).map(Ue.fromDom)},mn=function(e,t){for(var n=G(t)?t:D(!1),r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,u=Ue.fromDom(i);if(o.push(u),n(u)===!0)break;r=i}return o},gn=function(e){var t=e.dom();return H.from(t.previousSibling).map(Ue.fromDom)},hn=function(e){var t=e.dom();return H.from(t.nextSibling).map(Ue.fromDom)},vn=function(e){var t=e.dom();return J(t.childNodes,Ue.fromDom)},pn=function(e,t){var n=e.dom().childNodes;return H.from(n[t]).map(Ue.fromDom)},bn=function(e){return pn(e,0)},wn=(ve("element","offset"),function(e,t){return yn(e,t,D(!0))}),yn=function(e,t,n){return ae(vn(e),function(e){return Je(e,t)?n(e)?[e]:[]:yn(e,t,n)})},xn={firstLayer:wn,filterFirstLayer:yn},Cn=function(e){var t=e.dom().nodeName;return t.toLowerCase()},Rn=function(e){return e.dom().nodeType},Sn=function(e){return function(t){return Rn(t)===e}},Tn=function(e){return Rn(e)===qe||"#comment"===Cn(e)},Dn=Sn(Ve),kn=Sn(Ye),An=Sn(Ge),On=function(e,t,n){if(!(z(n)||q(n)||V(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},En=function(e,t,n){On(e.dom(),t,n)},Nn=function(e,t){var n=e.dom();me(t,function(e,t){On(n,t,e)})},Pn=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Bn=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},In=function(e,t){e.dom().removeAttribute(t)},Wn=function(e){return te(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},Mn=function(e){var t=kn(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},Ln=st(function(){return _n(Ue.fromDom(document))}),_n=function(e){var t=e.dom().body;if(null===t||void 0===t)throw"Body is not available yet";return Ue.fromDom(t)},Hn=function(e,t,n){return Z(mn(e,n),t)},jn=function(e,t){return Z(vn(e),t)},Fn=function(e,t){var n=[];return $(vn(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Fn(e,t))}),n},zn=function(e,t,n){return Hn(e,function(e){return Je(e,t)},n)},Un=function(e,t){return jn(e,function(e){return Je(e,t)})},qn=function(e,t){return Qe(t,e)},Gn=function(e,t,n){for(var r=e.dom(),o=G(n)?n:D(!1);r.parentNode;){r=r.parentNode;var i=Ue.fromDom(r);if(t(i))return H.some(i);if(o(i))break}return H.none()},Vn=function(e,n,r){var o=function(e){return n(e)};return t(o,Gn,e,n,r)},Yn=function(e,t){var n=ne(e.dom().childNodes,T(t,Ue.fromDom));return n.map(Ue.fromDom)},Xn=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){if(t(Ue.fromDom(e.childNodes[r])))return H.some(Ue.fromDom(e.childNodes[r]));var o=n(e.childNodes[r]);if(o.isSome())return o}return H.none()};return n(e.dom())},Kn=function(e,t,n){return Gn(e,function(e){return Je(e,t)},n)},Jn=function(e,t){return Yn(e,function(e){return Je(e,t)})},$n=function(e,t){return Ze(t,e)},Qn=function(e,n,r){return t(Je,Kn,e,n,r)},Zn=function(e,t,n){var r=void 0!==n?n:D(!1);if(r(t))return H.none();if(X(e,Cn(t)))return H.some(t);var o=function(e){return Je(e,"table")||r(e)};return Kn(t,e.join(","),o)},er=function(e,t){return Zn(["td","th"],e,t)},tr=function(e){return xn.firstLayer(e,"th,td")},nr=function(e,t){return Zn(["caption","tr","tbody","tfoot","thead"],e,t)},rr=function(e,t){return dn(t).map(function(t){return Un(t,e)})},or=e(rr,"th,td"),ir=e(rr,"tr"),ur=function(e){return $n(e,"th,td")},ar=function(e,t){return Qn(e,"table",t)},cr=function(e,t){return Zn(["tr"],e,t)},lr=function(e){return xn.firstLayer(e,"tr")},fr=function(e,t){return parseInt(Pn(e,t),10)},sr=function(e,t,n){var r=fr(e,t),o=fr(e,n);return Le.grid(r,o)},dr={cell:er,firstCell:ur,cells:tr,neighbourCells:or,table:ar,row:cr,rows:lr,notCell:nr,neighbourRows:ir,attr:fr,grid:sr},mr=function(e){var t=dr.rows(e);return J(t,function(e){var t=e,n=dn(t),r=n.map(function(e){var t=Cn(e);return"tfoot"===t||"thead"===t||"tbody"===t?t:"tbody"}).getOr("tbody"),o=J(dr.cells(e),function(e){var t=Bn(e,"rowspan")?parseInt(Pn(e,"rowspan"),10):1,n=Bn(e,"colspan")?parseInt(Pn(e,"colspan"),10):1;return Le.detail(e,t,n)});return Le.rowdata(t,o,r)})},gr=function(e,t){return J(e,function(e){var n=J(dr.cells(e),function(e){var t=Bn(e,"rowspan")?parseInt(Pn(e,"rowspan"),10):1,n=Bn(e,"colspan")?parseInt(Pn(e,"colspan"),10):1;return Le.detail(e,t,n)});return Le.rowdata(e,n,t.section())})},hr={fromTable:mr,fromPastedRows:gr},vr=function(e,t){return e+","+t},pr=function(e,t,n){var r=e.access()[vr(t,n)];return void 0!==r?H.some(r):H.none()},br=function(e,t,n){var r=wr(e,function(e){return n(t,e.element())});return r.length>0?H.some(r[0]):H.none()},wr=function(e,t){var n=ae(e.all(),function(e){return e.cells()});return Z(n,t)},yr=function(e){var t={},n=[],r=e.length,o=0;$(e,function(e,r){var i=[];$(e.cells(),function(e,n){for(var u=0;void 0!==t[vr(r,u)];)u++;for(var a=Le.extended(e.element(),e.rowspan(),e.colspan(),r,u),c=0;c<e.colspan();c++)for(var l=0;l<e.rowspan();l++){var f=r+l,s=u+c,d=vr(f,s);t[d]=a,o=Math.max(o,s+1)}i.push(a)}),n.push(Le.rowdata(e.element(),i,e.section()))});var i=Le.grid(r,o);return{grid:D(i),access:D(t),all:D(n)}},xr=function(e){var t=J(e.all(),function(e){return e.cells()});return ue(t)},Cr={generate:yr,getAt:pr,findItem:br,filterItems:wr,justCells:xr},Rr=function(e){return void 0!==e.style},Sr=function(e,t,n){if(!z(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);Rr(e)&&e.style.setProperty(t,n)},Tr=function(e,t){Rr(e)&&e.style.removeProperty(t)},Dr=function(e,t,n){var r=e.dom();Sr(r,t,n)},kr=function(e,t){var n=e.dom();me(t,function(e,t){Sr(n,t,e)})},Ar=function(e,t){var n=e.dom(),r=window.getComputedStyle(n),o=r.getPropertyValue(t),i=""!==o||Mn(e)?o:Or(n,t);return null===i?void 0:i},Or=function(e,t){return Rr(e)?e.style.getPropertyValue(t):""},Er=function(e,t){var n=e.dom(),r=Or(n,t);return H.from(r).filter(function(e){return e.length>0})},Nr=function(e,t){var n=e.dom();Tr(n,t),Bn(e,"style")&&""===Yt(Pn(e,"style"))&&In(e,"style")},Pr=function(e,t){var n=e.dom(),r=t.dom();Rr(n)&&Rr(r)&&(r.style.cssText=n.style.cssText)},Br=function(e,t){var n=dn(e);n.each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},Ir=function(e,t){var n=hn(e);n.fold(function(){var n=dn(e);n.each(function(e){Mr(e,t)})},function(e){Br(e,t)})},Wr=function(e,t){var n=bn(e);n.fold(function(){Mr(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},Mr=function(e,t){e.dom().appendChild(t.dom())},Lr=function(e,t){Br(e,t),Mr(t,e)},_r=function(e,t){$(t,function(t){Br(e,t)})},Hr=function(e,t){$(t,function(n,r){var o=0===r?e:t[r-1];Ir(o,n)})},jr=function(e,t){$(t,function(t){Mr(e,t)})},Fr=function(e){e.dom().textContent="",$(vn(e),function(e){zr(e)})},zr=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Ur=function(e){var t=vn(e);t.length>0&&_r(e,t),zr(e)},qr=ve("minRow","minCol","maxRow","maxCol"),Gr=function(e,t){var n=e.grid().columns(),r=e.grid().rows(),o=r,i=n,u=0,a=0;return me(e.access(),function(e){if(t(e)){var n=e.row(),r=n+e.rowspan()-1,c=e.column(),l=c+e.colspan()-1;n<o?o=n:r>u&&(u=r),c<i?i=c:l>a&&(a=l)}}),qr(o,i,u,a)},Vr=function(e,t,n){var r=e[n].element(),o=Ue.fromTag("td");Mr(o,Ue.fromTag("br"));var i=t?Mr:Wr;i(r,o)},Yr=function(e,t,n,r){for(var o=t.grid().columns(),i=t.grid().rows(),u=0;u<i;u++)for(var a=!1,c=0;c<o;c++)if(!(u<n.minRow()||u>n.maxRow()||c<n.minCol()||c>n.maxCol())){var l=Cr.getAt(t,u,c).filter(r).isNone();l?Vr(e,a,u):a=!0}},Xr=function(e,t){var n=Z(xn.firstLayer(e,"tr"),function(e){return 0===e.dom().childElementCount});$(n,zr),t.minCol()!==t.maxCol()&&t.minRow()!==t.maxRow()||$(xn.firstLayer(e,"th,td"),function(e){In(e,"rowspan"),In(e,"colspan")}),In(e,"width"),In(e,"height"),Nr(e,"width"),Nr(e,"height")},Kr=function(e,t){var n=function(e){return Je(e.element(),t)},r=hr.fromTable(e),o=Cr.generate(r),i=Gr(o,n),u="th:not("+t+"),td:not("+t+")",a=xn.filterFirstLayer(e,"th,td",function(e){return Je(e,u)});return $(a,zr),Yr(r,o,i,n),Xr(e,i),e},Jr={extract:Kr},$r=function(e,t){return Ue.fromDom(e.dom().cloneNode(t))},Qr=function(e){return $r(e,!1)},Zr=function(e){return $r(e,!0)},eo=function(e,t){var n=Ue.fromTag(t),r=Wn(e);return Nn(n,r),n},to=function(e,t){var n=eo(e,t),r=vn(Zr(e));return jr(n,r),
n},no=n(kn,"text"),ro=function(e){return no.get(e)},oo=function(e){return no.getOption(e)},io=function(e,t){no.set(e,t)},uo=function(e){return"img"===Cn(e)?1:oo(e).fold(function(){return vn(e).length},function(e){return e.length})},ao="",co=function(e){return oo(e).filter(function(e){return 0!==e.trim().length||e.indexOf(ao)>-1}).isSome()},lo=["img","br"],fo=function(e){var t=co(e);return t||X(lo,Cn(e))},so=function(e){return Xn(e,fo)},mo=function(e){return go(e,fo)},go=function(e,t){var n=function(e){for(var r=vn(e),o=r.length-1;o>=0;o--){var i=r[o];if(t(i))return H.some(i);var u=n(i);if(u.isSome())return u}return H.none()};return n(e)},ho=function(){var e=Ue.fromTag("td");return Mr(e,Ue.fromTag("br")),e},vo=function(e,t,n){var r=to(e,t);return me(n,function(e,t){null===e?In(r,t):En(r,t,e)}),r},po=function(e){return e},bo=function(e){return function(){return Ue.fromTag("tr",e.dom())}},wo=function(e,t,n){var r=so(e);return r.map(function(r){var o=n.join(","),i=zn(r,o,function(t){return rn(t,e)});return ee(i,function(e,t){var n=Qr(t);return In(n,"contenteditable"),Mr(e,n),n},t)}).getOr(t)},yo=function(e,t,n){var r=function(t){var r=fn(t.element()),o=Ue.fromTag(Cn(t.element()),r.dom()),i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),u=i.length>0?wo(t.element(),o,i):o;return Mr(u,Ue.fromTag("br")),Pr(t.element(),o),Nr(o,"height"),1!==t.colspan()&&Nr(t.element(),"width"),e(t.element(),o),o};return{row:bo(t),cell:r,replace:vo,gap:ho}},xo=function(e){return{row:bo(e),cell:ho,replace:po,gap:ho}},Co={cellOperations:yo,paste:xo},Ro=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,vn(Ue.fromDom(r))},So=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],To=ve("left","right"),Do=function(t,n,r){var o=t.property().children(n),i=re(o,e(t.eq,r));return i.map(function(e){return{before:D(o.slice(0,e)),after:D(o.slice(e+1))}})},ko=function(e,t,n){return Do(e,t,n).map(function(n){var r=e.create().clone(t);return e.insert().appendAll(r,n.after()),e.insert().after(t,r),To(t,r)})},Ao=function(e,t,n){return Do(e,t,n).map(function(r){var o=e.create().clone(t);return e.insert().appendAll(o,r.before().concat([n])),e.insert().appendAll(t,r.after()),e.insert().before(t,o),To(o,t)})},Oo=function(e,t,n,r){var o=ve("first","second","splits"),i=function(t,u,a){var c=o(t,H.none(),a);return n(t)?o(t,u,a):e.property().parent(t).bind(function(o){return r(e,o,t).map(function(e){var t=[{first:e.left,second:e.right}],r=n(o)?o:e.left();return i(r,H.some(e.right()),a.concat(t))}).getOr(c)})};return i(t,H.none(),[])},Eo={breakToLeft:Ao,breakToRight:ko,breakPath:Oo},No=function(e,t,n,r){var o=n[0],i=n.slice(1);return r(e,t,o,i)},Po=function(e,t,n){return n.length>0?No(e,t,n,Bo):H.none()},Bo=function(e,t,n,r){var o=t(e,n);return ee(r,function(n,r){var o=t(e,r);return Io(e,n,o)},o)},Io=function(t,n,r){return n.bind(function(n){return r.filter(e(t.eq,n))})},Wo={oneAll:Po},Mo=function(t,n){return e(t.eq,n)},Lo=function(e,t,n,r){var o=e.property().children(t);if(e.eq(t,n[0]))return H.some([n[0]]);if(e.eq(t,r[0]))return H.some([r[0]]);var i=function(n){var r=fe(n),i=re(r,Mo(e,t)).getOr(-1),u=i<r.length-1?r[i+1]:r[i];return re(o,Mo(e,u))},u=i(n),a=i(r);return u.bind(function(e){return a.map(function(t){var n=Math.min(e,t),r=Math.max(e,t);return o.slice(n,r+1)})})},_o=function(e,t,n,r){var o=void 0!==r?r:D(!1),i=[t].concat(e.up().all(t)),u=[n].concat(e.up().all(n)),a=function(e){var t=re(e,o);return t.fold(function(){return e},function(t){return e.slice(0,t+1)})},c=a(i),l=a(u),f=ne(c,function(t){return K(l,Mo(e,t))});return{firstpath:D(c),secondpath:D(l),shared:D(f)}},Ho=function(e,t,n){var r=_o(e,t,n);return r.shared().bind(function(t){return Lo(e,t,r.firstpath(),r.secondpath())})},jo={subset:Ho,ancestors:_o},Fo=function(e,t,n){return Wo.oneAll(e,t,n)},zo=function(e,t,n){return jo.subset(e,t,n)},Uo=function(e,t,n,r){return jo.ancestors(e,t,n,r)},qo=function(e,t,n){return Eo.breakToLeft(e,t,n)},Go=function(e,t,n){return Eo.breakToRight(e,t,n)},Vo=function(e,t,n,r){return Eo.breakPath(e,t,n,r)},Yo={sharedOne:Fo,subset:zo,ancestors:Uo,breakToLeft:qo,breakToRight:Go,breakPath:Vo},Xo=r(),Ko=function(e,t){return Yo.sharedOne(Xo,function(t,n){return e(n)},t)},Jo=function(e,t){return Yo.subset(Xo,e,t)},$o=function(e,t,n){return Yo.ancestors(Xo,e,t,n)},Qo=function(e,t){return Yo.breakToLeft(Xo,e,t)},Zo=function(e,t){return Yo.breakToRight(Xo,e,t)},ei=function(e,t,n){return Yo.breakPath(Xo,e,t,function(e,t,r){return n(t,r)})},ti={sharedOne:Ko,subset:Jo,ancestors:$o,breakToLeft:Qo,breakToRight:Zo,breakPath:ei},ni=function(e,t){var n=t.column(),r=t.column()+t.colspan()-1,o=t.row(),i=t.row()+t.rowspan()-1;return n<=e.finishCol()&&r>=e.startCol()&&o<=e.finishRow()&&i>=e.startRow()},ri=function(e,t){return t.column()>=e.startCol()&&t.column()+t.colspan()-1<=e.finishCol()&&t.row()>=e.startRow()&&t.row()+t.rowspan()-1<=e.finishRow()},oi=function(t,n){for(var r=!0,o=e(ri,n),i=n.startRow();i<=n.finishRow();i++)for(var u=n.startCol();u<=n.finishCol();u++)r=r&&Cr.getAt(t,i,u).exists(o);return r?H.some(n):H.none()},ii={inSelection:ni,isWithin:ri,isRectangular:oi},ui=function(e,t){return Le.bounds(Math.min(e.row(),t.row()),Math.min(e.column(),t.column()),Math.max(e.row()+e.rowspan()-1,t.row()+t.rowspan()-1),Math.max(e.column()+e.colspan()-1,t.column()+t.colspan()-1))},ai=function(e,t,n){var r=Cr.findItem(e,t,rn),o=Cr.findItem(e,n,rn);return r.bind(function(e){return o.map(function(t){return ui(e,t)})})},ci=function(e,t,n){return ai(e,t,n).bind(function(t){return ii.isRectangular(e,t)})},li={getAnyBox:ai,getBox:ci},fi=function(e,t,n,r){return Cr.findItem(e,t,rn).bind(function(t){var o=n>0?t.row()+t.rowspan()-1:t.row(),i=r>0?t.column()+t.colspan()-1:t.column(),u=Cr.getAt(e,o+n,i+r);return u.map(function(e){return e.element()})})},si=function(t,n,r){return li.getAnyBox(t,n,r).map(function(n){var r=Cr.filterItems(t,e(ii.inSelection,n));return J(r,function(e){return e.element()})})},di=function(e,t){var n=function(e,t){return cn(t,e)};return Cr.findItem(e,t,n).bind(function(e){return e.element()})},mi={moveBy:fi,intercepts:si,parentCell:di},gi=function(e,t,n){return dr.table(e).bind(function(r){var o=bi(r);return mi.moveBy(o,e,t,n)})},hi=function(e,t,n){var r=bi(e);return mi.intercepts(r,t,n)},vi=function(e,t,n,r,o){var i=bi(e),u=rn(e,n)?t:mi.parentCell(i,t),a=rn(e,o)?r:mi.parentCell(i,r);return mi.intercepts(i,u,a)},pi=function(e,t,n){var r=bi(e);return li.getBox(r,t,n)},bi=function(e){var t=hr.fromTable(e);return Cr.generate(t)},wi={moveBy:gi,intercepts:hi,nestedIntercepts:vi,getBox:pi},yi=function(e,t){return Kn(e,"table")},xi=Re(["boxes","start","finish"],[]),Ci=function(e,t,n){var r=function(e){return function(t){return n(t)||rn(t,e)}};return rn(e,t)?H.some(xi({boxes:H.some([e]),start:e,finish:t})):yi(e,n).bind(function(o){return yi(t,n).bind(function(i){if(rn(o,i))return H.some(xi({boxes:wi.intercepts(o,e,t),start:e,finish:t}));if(cn(o,i)){var u=zn(t,"td,th",r(o)),a=u.length>0?u[u.length-1]:t;return H.some(xi({boxes:wi.nestedIntercepts(o,e,o,t,i),start:e,finish:a}))}if(cn(i,o)){var u=zn(e,"td,th",r(i)),c=u.length>0?u[u.length-1]:e;return H.some(xi({boxes:wi.nestedIntercepts(i,e,o,t,i),start:e,finish:c}))}return ti.ancestors(e,t).shared().bind(function(u){return Qn(u,"table",n).bind(function(n){var u=zn(t,"td,th",r(n)),a=u.length>0?u[u.length-1]:t,c=zn(e,"td,th",r(n)),l=c.length>0?c[c.length-1]:e;return H.some(xi({boxes:wi.nestedIntercepts(n,e,o,t,i),start:l,finish:a}))})})})})},Ri=function(e,t){var n=qn(e,t);return n.length>0?H.some(n):H.none()},Si=function(e,t){return ne(e,function(e){return Je(e,t)})},Ti=function(e,t,n){return $n(e,t).bind(function(t){return $n(e,n).bind(function(e){return ti.sharedOne(yi,[t,e]).map(function(n){return{first:D(t),last:D(e),table:D(n)}})})})},Di=function(e,t){return Kn(e,"table").bind(function(n){return $n(n,t).bind(function(t){return Ci(t,e).bind(function(e){return e.boxes().map(function(t){return{boxes:D(t),start:D(e.start()),finish:D(e.finish())}})})})})},ki=function(e,t,n,r,o){return Si(e,o).bind(function(e){return wi.moveBy(e,t,n).bind(function(e){return Di(e,r)})})},Ai={identify:Ci,retrieve:Ri,shiftSelection:ki,getEdges:Ti},Oi=function(e,t){return Ai.retrieve(e,t)},Ei=function(e,t,n){return Ai.getEdges(e,t,n).bind(function(t){var n=function(t){return rn(e,t)},r=Kn(t.first(),"thead,tfoot,tbody,table",n),o=Kn(t.last(),"thead,tfoot,tbody,table",n);return r.bind(function(e){return o.bind(function(n){return rn(e,n)?wi.getBox(t.table(),t.first(),t.last()):H.none()})})})},Ni={retrieve:Oi,retrieveBox:Ei},Pi="data-mce-selected",Bi="td["+Pi+"],th["+Pi+"]",Ii="["+Pi+"]",Wi="data-mce-first-selected",Mi="td["+Wi+"],th["+Wi+"]",Li="data-mce-last-selected",_i="td["+Li+"],th["+Li+"]",Hi={selected:D(Pi),selectedSelector:D(Bi),attributeSelector:D(Ii),firstSelected:D(Wi),firstSelectedSelector:D(Mi),lastSelected:D(Li),lastSelectedSelector:D(_i)},ji=function(e){if(!U(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return $(e,function(r,o){var i=de(r);if(1!==i.length)throw new Error("one and only one name per case");var u=i[0],a=r[u];if(void 0!==n[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!U(a))throw new Error("case arguments must be an array");t.push(u),n[u]=function(){var n=arguments.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+a.length+" ("+a+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];var c=function(e){var n=de(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));var o=ce(t,function(e){return X(n,e)});if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[u].apply(null,r)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[o];return t.apply(null,r)},match:c,log:function(e){console.log(e,{constructors:t,constructor:u,params:r})}}}}),n},Fi={generate:ji},zi=Fi.generate([{none:[]},{multiple:["elements"]},{single:["selection"]}]),Ui=function(e,t,n,r){return e.fold(t,n,r)},qi={cata:Ui,none:zi.none,multiple:zi.multiple,single:zi.single},Gi=function(e,t){return qi.cata(t.get(),D([]),k,D([e]))},Vi=function(e,t){var n=function(e){return Bn(e,"rowspan")&&parseInt(Pn(e,"rowspan"),10)>1||Bn(e,"colspan")&&parseInt(Pn(e,"colspan"),10)>1},r=Gi(e,t);return r.length>0&&ce(r,n)?H.some(r):H.none()},Yi=function(e,t){return qi.cata(t.get(),H.none,function(t,n){return 0===t.length?H.none():Ni.retrieveBox(e,Hi.firstSelectedSelector(),Hi.lastSelectedSelector()).bind(function(e){return t.length>1?H.some({bounds:D(e),cells:D(t)}):H.none()})},H.none)},Xi={mergable:Yi,unmergable:Vi,selection:Gi},Ki=function(e){return{element:D(e),mergable:H.none,unmergable:H.none,selection:D([e])}},Ji=function(e,t,n){return{element:D(n),mergable:D(Xi.mergable(t,e)),unmergable:D(Xi.unmergable(n,e)),selection:D(Xi.selection(n,e))}},$i=function(e){return Ki(e)},Qi=ve("element","clipboard","generators"),Zi=function(e,t,n,r,o){return{element:D(n),mergable:H.none,unmergable:H.none,selection:D(Xi.selection(n,e)),clipboard:D(r),generators:D(o)}},eu={noMenu:Ki,forMenu:Ji,notCell:$i,paste:Qi,pasteRows:Zi},tu=function(e){return dr.table(e[0]).map(Zr).map(function(e){return[Jr.extract(e,Hi.attributeSelector())]})},nu=function(e,t){return J(t,function(t){return e.selection.serializer.serialize(t.dom(),{})}).join("")},ru=function(e){return J(e,function(e){return e.dom().innerText}).join("")},ou=function(e,t,n,r){e.on("BeforeGetContent",function(n){var r=function(t){n.preventDefault(),tu(t).each(function(t){n.content="text"===n.format?ru(t):nu(e,t)})};n.selection===!0&&qi.cata(t.get(),S,r,S)}),e.on("BeforeSetContent",function(t){if(t.selection===!0&&t.paste===!0){var o=H.from(e.dom.getParent(e.selection.getStart(),"th,td"));o.each(function(o){var i=Ue.fromDom(o),u=dr.table(i);u.bind(function(o){var u=Z(Ro(t.content),function(e){return"meta"!==Cn(e)});if(1===u.length&&"table"===Cn(u[0])){t.preventDefault();var a=Ue.fromDom(e.getDoc()),c=Co.paste(a),l=eu.paste(i,u[0],c);n.pasteCells(o,l).each(function(t){e.selection.setRng(t),e.focus(),r.clear(o)})}})})}})},iu={registerEvents:ou},uu=o("height",function(e){var t=e.dom();return Mn(e)?t.getBoundingClientRect().height:t.offsetHeight}),au=function(e){return uu.get(e)},cu=function(e){return uu.getOuter(e)},lu=o("width",function(e){return e.dom().offsetWidth}),fu=function(e){return lu.get(e)},su=function(e){return lu.getOuter(e)},du=nn.detect(),mu=function(){return du.browser.isIE()||du.browser.isEdge()},gu=function(e,t){var n=parseFloat(e);return isNaN(n)?t:n},hu=function(e,t,n){return gu(Ar(e,t),n)},vu=function(e){var t=hu(e,"padding-top",0),n=hu(e,"padding-bottom",0),r=hu(e,"border-top-width",0),o=hu(e,"border-bottom-width",0),i=e.dom().getBoundingClientRect().height,u=Ar(e,"box-sizing"),a=r+o;return"border-box"===u?i:i-t-n-a},pu=function(e){return hu(e,"width",fu(e))},bu=function(e){return mu()?vu(e):hu(e,"height",au(e))},wu={getWidth:pu,getHeight:bu},yu=/(\d+(\.\d+)?)(\w|%)*/,xu=/(\d+(\.\d+)?)%/,Cu=/(\d+(\.\d+)?)px|em/,Ru=function(e,t){Dr(e,"width",t+"px")},Su=function(e,t){Dr(e,"width",t+"%")},Tu=function(e,t){Dr(e,"height",t+"px")},Du=function(e){return Er(e,"height").getOrThunk(function(){return wu.getHeight(e)+"px"})},ku=function(e,t,n,r){var o=dr.table(e).map(function(e){var r=n(e);return Math.floor(t/100*r)}).getOr(t);return r(e,o),o},Au=function(e,t,n,r){var o=parseInt(e,10);return Vt(e,"%")&&"table"!==Cn(t)?ku(t,o,n,r):o},Ou=function(e){var t=Du(e);return t?Au(t,e,au,Tu):au(e)},Eu=function(e,t,n){var r=n(e),o=Nu(e,t);return r/o},Nu=function(e,t){return Bn(e,t)?parseInt(Pn(e,t),10):1},Pu=function(e){var t=Er(e,"width");return t.fold(function(){return H.from(Pn(e,"width"))},function(e){return H.some(e)})},Bu=function(e,t){return e/t.pixelWidth()*100},Iu=function(e,t,n){if(xu.test(t)){var r=xu.exec(t);return parseFloat(r[1])}var o=fu(e);return Bu(o,n)},Wu=function(e,t){var n=Pu(e);return n.fold(function(){var n=fu(e);return Bu(n,t)},function(n){return Iu(e,n,t)})},Mu=function(e,t){return e/100*t.pixelWidth()},Lu=function(e,t,n){if(Cu.test(t)){var r=Cu.exec(t);return parseInt(r[1],10)}if(xu.test(t)){var o=xu.exec(t),i=parseFloat(o[1]);return Mu(i,n)}return fu(e)},_u=function(e,t){var n=Pu(e);return n.fold(function(){return fu(e)},function(n){return Lu(e,n,t)})},Hu=function(e){return Eu(e,"rowspan",Ou)},ju=function(e){var t=Pu(e);return t.bind(function(e){if(yu.test(e)){var t=yu.exec(e);return H.some({width:D(t[1]),unit:D(t[3])})}return H.none()})},Fu=function(e,t,n){Dr(e,"width",t+n)},zu={percentageBasedSizeRegex:D(xu),pixelBasedSizeRegex:D(Cu),setPixelWidth:Ru,setPercentageWidth:Su,setHeight:Tu,getPixelWidth:_u,getPercentageWidth:Wu,getGenericWidth:ju,setGenericWidth:Fu,getHeight:Hu,getRawWidth:Pu},Uu=function(e,t){var n=zu.getGenericWidth(e);n.each(function(n){var r=n.width()/2;zu.setGenericWidth(e,r,n.unit()),zu.setGenericWidth(t,r,n.unit())})},qu={halve:Uu},Gu=function(t,n){var r=n||Ue.fromDom(document.documentElement);return Gn(t,e(rn,r)).isSome()},Vu=function(e){var t=e.dom();return t===t.window&&e instanceof Window?e:An(e)?t.defaultView||t.parentWindow:null},Yu=function(e,t){var n=function(n,r){return Yu(e+n,t+r)};return{left:D(e),top:D(t),translate:n}},Xu=Yu,Ku=function(e){var t=e.getBoundingClientRect();return Xu(t.left,t.top)},Ju=function(e,t){return void 0!==e?e:void 0!==t?t:0},$u=function(e){var t=e.dom().ownerDocument,n=t.body,r=Vu(Ue.fromDom(t)),o=t.documentElement,i=Ju(r.pageYOffset,o.scrollTop),u=Ju(r.pageXOffset,o.scrollLeft),a=Ju(o.clientTop,n.clientTop),c=Ju(o.clientLeft,n.clientLeft);return Qu(e).translate(u-c,i-a)},Qu=function(e){var t=e.dom(),n=t.ownerDocument,r=n.body,o=Ue.fromDom(n.documentElement);return r===t?Xu(r.offsetLeft,r.offsetTop):Gu(e,o)?Ku(t):Xu(0,0)},Zu=ve("row","y"),ea=ve("col","x"),ta=function(e){var t=$u(e);return t.left()+su(e)},na=function(e){return $u(e).left()},ra=function(e,t){return ea(e,na(t))},oa=function(e,t){return ea(e,ta(t))},ia=function(e){return $u(e).top()},ua=function(e,t){return Zu(e,ia(t))},aa=function(e,t){return Zu(e,ia(t)+cu(t))},ca=function(e,t,n){if(0===n.length)return[];var r=J(n.slice(1),function(t,n){return t.map(function(t){return e(n,t)})}),o=n[n.length-1].map(function(e){return t(n.length-1,e)});return r.concat([o])},la=function(e,t){return-e},fa={delta:k,positions:e(ca,ua,aa),edge:ia},sa={delta:k,edge:na,positions:e(ca,ra,oa)},da={delta:la,edge:ta,positions:e(ca,oa,ra)},ma={height:fa,rtl:da,ltr:sa},ga={ltr:ma.ltr,rtl:ma.rtl},ha=function(e){var t=hr.fromTable(e),n=Cr.generate(t);return n.grid()},va={getGridSize:ha},pa=function(e){var t=e,n=function(){return t},r=function(e){t=e},o=function(){return pa(n())};return{get:n,set:r,clone:o}},ba=function(e,t){return wa(e,t,{validate:G,label:"function"})},wa=function(e,t,n){if(0===t.length)throw new Error("You must specify at least one required field.");return ye("required",t),Ce(t),function(r){var o=de(r),i=ce(t,function(e){return X(o,e)});i||be(t,o),e(t,o);var u=Z(t,function(e){return!n.validate(r[e],e)});return u.length>0&&xe(u,n.label),r}},ya=function(e,t){var n=Z(t,function(t){return!X(e,t)});n.length>0&&we(n)},xa=function(e){return ba(ya,e)},Ca=function(e){var t=Bn(e,"colspan")?parseInt(Pn(e,"colspan"),10):1,n=Bn(e,"rowspan")?parseInt(Pn(e,"rowspan"),10):1;return{element:D(e),colspan:D(t),rowspan:D(n)}},Ra=function(e,t){Da(e);var n=pa(H.none()),r=void 0!==t?t:Ca,o=function(t){return e.cell(t)},i=function(e){var t=r(e);return o(t)},u=function(e){var t=i(e);return n.get().isNone()&&n.set(H.some(t)),a=H.some({item:e,replacement:t}),t},a=H.none(),c=function(e,t){return a.fold(function(){return u(e)},function(n){return t(e,n.item)?n.replacement:u(e)})};return{getOrInit:c,cursor:n.get}},Sa=function(e,t){return function(n){var r=pa(H.none());Da(n);var o=[],i=function(e,t){return ne(o,function(n){return t(n.item,e)})},u=function(i){var u=n.replace(i,t,{scope:e});return o.push({item:i,sub:u}),r.get().isNone()&&r.set(H.some(u)),u},a=function(e,t){return i(e,t).fold(function(){return u(e)},function(n){return t(e,n.item)?n.sub:u(e)})};return{replaceOrInit:a,cursor:r.get}}},Ta=function(e){Da(e);var t=pa(H.none()),n=function(n){return t.get().isNone()&&t.set(H.some(n)),function(){var t=e.cell({element:D(n),colspan:D(1),rowspan:D(1)});return Nr(t,"width"),Nr(n,"width"),t}};return{combine:n,cursor:t.get}},Da=xa(["cell","row","replace","gap"]),ka={modification:Ra,transform:Sa,merging:Ta},Aa=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Oa=function(e,t){var n=e.property().name(t);return X(["ol","ul"],n)},Ea=function(e,t){var n=e.property().name(t);return X(Aa,n)},Na=function(e,t){var n=e.property().name(t);return X(["address","pre","p","h1","h2","h3","h4","h5","h6"],n)},Pa=function(e,t){var n=e.property().name(t);return X(["h1","h2","h3","h4","h5","h6"],n)},Ba=function(e,t){return X(["div","li","td","th","blockquote","body","caption"],e.property().name(t))},Ia=function(e,t){return X(["br","img","hr","input"],e.property().name(t))},Wa=function(e,t){return"iframe"===e.property().name(t)},Ma=function(e,t){return!(Ea(e,t)||Ia(e,t))&&"li"!==e.property().name(t)},La={isBlock:Ea,isList:Oa,isFormatting:Na,isHeading:Pa,isContainer:Ba,isEmptyTag:Ia,isFrame:Wa,isInline:Ma},_a=r(),Ha=function(e){return La.isBlock(_a,e)},ja=function(e){return La.isList(_a,e)},Fa=function(e){return La.isFormatting(_a,e)},za=function(e){return La.isHeading(_a,e)},Ua=function(e){return La.isContainer(_a,e)},qa=function(e){return La.isEmptyTag(_a,e)},Ga=function(e){return La.isFrame(_a,e)},Va=function(e){return La.isInline(_a,e)},Ya={isBlock:Ha,isList:ja,isFormatting:Fa,isHeading:za,isContainer:Ua,isEmptyTag:qa,isFrame:Ga,isInline:Va},Xa=function(e){var t=function(e){return"br"===Cn(e)},n=function(e){return ce(e,function(e){return t(e)||kn(e)&&0===ro(e).trim().length})},r=function(e){return"li"===Cn(e)||Gn(e,Ya.isList).isSome()},o=function(e){return hn(e).map(function(e){return!!Ya.isBlock(e)||(Ya.isEmptyTag(e)?"img"!==Cn(e):void 0)}).getOr(!1)},i=function(e){return mo(e).bind(function(n){var i=o(n);return dn(n).map(function(o){return i===!0||r(o)||t(n)||Ya.isBlock(o)&&!rn(e,o)?[]:[Ue.fromTag("br")]})}).getOr([])},u=function(){var t=ae(e,function(e){var t=vn(e);return n(t)?[]:t.concat(i(e))});return 0===t.length?[Ue.fromTag("br")]:t},a=u();Fr(e[0]),jr(e[0],a)},Ka={merge:Xa},Ja=Object.prototype.hasOwnProperty,$a=function(e,t){return t},Qa=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var u in i)Ja.call(i,u)&&(r[u]=e(r[u],i[u]))}return r}},Za=Qa($a),ec=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},tc=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return H.none()},nc=function(e,t,n){var r=e.cells(),o=r.slice(0,t),i=r.slice(t),u=o.concat([n]).concat(i);return oc(e,u)},rc=function(e,t,n){var r=e.cells();r[t]=n},oc=function(e,t){return Le.rowcells(t,e.section())},ic=function(e,t){var n=e.cells(),r=J(n,t);return Le.rowcells(r,e.section())},uc=function(e,t){return e.cells()[t]},ac=function(e,t){return uc(e,t).element()},cc=function(e){return e.cells().length},lc={addCell:nc,setCells:oc,mutateCell:rc,getCell:uc,getCellElement:ac,mapCells:ic,cellLength:cc},fc=function(e,t){return J(e,function(e){return lc.getCell(e,t)})},sc=function(e,t){return e[t]},dc=function(e,t){if(0===e.length)return 0;var n=e[0],r=re(e,function(e){return!t(n.element(),e.element())});return r.fold(function(){return e.length},function(e){return e})},mc=function(e,t,n,r){var o=sc(e,t).cells().slice(n),i=dc(o,r),u=fc(e,n).slice(t),a=dc(u,r);return{colspan:D(i),rowspan:D(a)}},gc={subgrid:mc},hc=function(e,t){var n=J(e,function(e,t){return J(e.cells(),function(e,t){return!1})}),r=function(e,t,r,o){for(var i=e;i<e+r;i++)for(var u=t;u<t+o;u++)n[i][u]=!0};return J(e,function(o,i){var u=ae(o.cells(),function(o,u){if(n[i][u]===!1){var a=gc.subgrid(e,i,u,t);return r(i,u,a.rowspan(),a.colspan()),[Le.detailnew(o.element(),a.rowspan(),a.colspan(),o.isNew())]}return[]});return Le.rowdetails(u,o.section())})},vc=function(e,t,n){for(var r=[],o=0;o<e.grid().rows();o++){for(var i=[],u=0;u<e.grid().columns();u++){var a=Cr.getAt(e,o,u).map(function(e){return Le.elementnew(e.element(),n)}).getOrThunk(function(){return Le.elementnew(t.gap(),!0)});i.push(a)}var c=Le.rowcells(i,e.all()[o].section());r.push(c)}return r},pc={toDetails:hc,toGrid:vc},bc=function(e,t,n,r){n===r?In(e,t):En(e,t,n)},wc=function(e,t){var n=[],r=[],o=function(t,o){var i=Jn(e,o).getOrThunk(function(){var t=Ue.fromTag(o,fn(e).dom());return Mr(e,t),t});Fr(i);var u=J(t,function(e){e.isNew()&&n.push(e.element());var t=e.element();return Fr(t),$(e.cells(),function(e){e.isNew()&&r.push(e.element()),bc(e.element(),"colspan",e.colspan(),1),bc(e.element(),"rowspan",e.rowspan(),1),Mr(t,e.element())}),t});jr(i,u)},i=function(t){Jn(e,t).each(zr)},u=function(e,t){e.length>0?o(e,t):i(t)},a=[],c=[],l=[];return $(t,function(e){switch(e.section()){case"thead":a.push(e);break;case"tbody":c.push(e);break;case"tfoot":l.push(e)}}),u(a,"thead"),u(c,"tbody"),u(l,"tfoot"),{newRows:D(n),newCells:D(r)}},yc=function(e){var t=J(e,function(e){var t=Qr(e.element());return $(e.cells(),function(e){var n=Zr(e.element());bc(n,"colspan",e.colspan(),1),bc(n,"rowspan",e.rowspan(),1),Mr(t,n)}),t});return t},xc={render:wc,copy:yc},Cc=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},Rc=function(e,t){for(var n=[],r=e;r<t;r++)n.push(r);return n},Sc=function(e,t){var n=[];return $(e,function(r,o){o<e.length-1&&!t(r,e[o+1])?n.push(r):o===e.length-1&&n.push(r)}),n},Tc=function(e,t){if(t<0||t>=e.length-1)return H.none();var n=e[t].fold(function(){var n=fe(e.slice(0,t));return tc(n,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return H.some({value:e,delta:0})}),r=e[t+1].fold(function(){var n=e.slice(t+1);return tc(n,function(e,t){return e.map(function(e){return{value:e,delta:t+1}})})},function(e){return H.some({value:e,delta:1})});return n.bind(function(e){return r.map(function(t){var n=t.delta+e.delta;return Math.abs(t.value-e.value)/n})})},Dc={repeat:Cc,range:Rc,unique:Sc,deduce:Tc},kc=function(e){var t=e.grid(),n=Dc.range(0,t.columns()),r=Dc.range(0,t.rows());return J(n,function(t){var n=function(){return ae(r,function(n){return Cr.getAt(e,n,t).filter(function(e){return e.column()===t}).fold(D([]),function(e){return[e]})})},o=function(e){return 1===e.colspan()},i=function(){return Cr.getAt(e,0,t)};return Ac(n,o,i)})},Ac=function(e,t,n){var r=e(),o=ne(r,t),i=o.orThunk(function(){return H.from(r[0]).orThunk(n)});return i.map(function(e){return e.element()})},Oc=function(e){var t=e.grid(),n=Dc.range(0,t.rows()),r=Dc.range(0,t.columns());return J(n,function(t){var n=function(){return ae(r,function(n){return Cr.getAt(e,t,n).filter(function(e){return e.row()===t}).fold(D([]),function(e){return[e]})})},o=function(e){return 1===e.rowspan()},i=function(){return Cr.getAt(e,t,0)};return Ac(n,o,i)})},Ec={columns:kc,rows:Oc},Nc=function(e,t,n,r,o){var i=Ue.fromTag("div");return kr(i,{position:"absolute",left:t-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),Nn(i,{"data-column":e,role:"presentation"}),i},Pc=function(e,t,n,r,o){var i=Ue.fromTag("div");return kr(i,{position:"absolute",left:t+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),Nn(i,{"data-row":e,role:"presentation"}),i},Bc={col:Nc,row:Pc},Ic=function(e){var t=e.replace(/\./g,"-"),n=function(e){return t+"-"+e};return{resolve:n}},Wc=Ic("ephox-snooker"),Mc={resolve:Wc.resolve},Lc=function(e,t){var n=Pn(e,t);return void 0===n||""===n?[]:n.split(" ")},_c=function(e,t,n){var r=Lc(e,t),o=r.concat([n]);return En(e,t,o.join(" ")),!0},Hc=function(e,t,n){var r=Z(Lc(e,t),function(e){return e!==n});return r.length>0?En(e,t,r.join(" ")):In(e,t),!1},jc=function(e){return void 0!==e.dom().classList},Fc=function(e){return Lc(e,"class")},zc=function(e,t){return _c(e,"class",t)},Uc=function(e,t){return Hc(e,"class",t)},qc=function(e,t){jc(e)?e.dom().classList.add(t):zc(e,t)},Gc=function(e){var t=jc(e)?e.dom().classList:Fc(e);0===t.length&&In(e,"class")},Vc=function(e,t){if(jc(e)){var n=e.dom().classList;n.remove(t)}else Uc(e,t);Gc(e)},Yc=function(e,t){return jc(e)&&e.dom().classList.contains(t)},Xc=Mc.resolve("resizer-bar"),Kc=Mc.resolve("resizer-rows"),Jc=Mc.resolve("resizer-cols"),$c=7,Qc=function(e){var t=qn(e.parent(),"."+Xc);$(t,zr)},Zc=function(e,t,n){var r=e.origin();$(t,function(t,o){t.each(function(t){var o=n(r,t);qc(o,Xc),Mr(e.parent(),o)})})},el=function(e,t,n,r){Zc(e,t,function(e,t){var o=Bc.col(t.col(),t.x()-e.left(),n.top()-e.top(),$c,r);return qc(o,Jc),o})},tl=function(e,t,n,r){Zc(e,t,function(e,t){var o=Bc.row(t.row(),n.left()-e.left(),t.y()-e.top(),r,$c);return qc(o,Kc),o})},nl=function(e,t,n,r,o,i){var u=$u(t),a=n.length>0?o.positions(n,t):[];tl(e,a,u,su(t));var c=r.length>0?i.positions(r,t):[];el(e,c,u,cu(t))},rl=function(e,t,n,r){Qc(e);var o=hr.fromTable(t),i=Cr.generate(o),u=Ec.rows(i),a=Ec.columns(i);nl(e,t,u,a,n,r)},ol=function(e,t){var n=qn(e.parent(),"."+Xc);$(n,t)},il=function(e){ol(e,function(e){Dr(e,"display","none")})},ul=function(e){ol(e,function(e){Dr(e,"display","block")})},al=function(e){return Yc(e,Kc)},cl=function(e){return Yc(e,Jc)},ll={refresh:rl,hide:il,show:ul,destroy:Qc,isRowBar:al,isColBar:cl},fl=function(e,t){return pc.toGrid(e,t,!1)},sl=function(e,t){var n=function(e){var n=tc(e,function(e){return dn(e.element()).map(function(e){var t=dn(e).isNone();return Le.elementnew(e,t)})});return n.getOrThunk(function(){return Le.elementnew(t.row(),!0)})};return J(e,function(e){var t=n(e.details());return Le.rowdatanew(t.element(),e.details(),e.section(),t.isNew())})},dl=function(e,t){var n=pc.toDetails(e,rn);return sl(n,t)},ml=function(e,t){var n=ue(J(e.all(),function(e){return e.cells()}));return ne(n,function(e){return rn(t,e.element())})},gl=function(e,t,n,r,o){return function(i,u,a,c,l){var f=hr.fromTable(u),s=Cr.generate(f),d=t(s,a).map(function(t){var n=fl(s,c),r=e(n,t,rn,o(c)),i=dl(r.grid(),c);return{grid:D(i),cursor:r.cursor}});return d.fold(function(){return H.none()},function(e){var t=xc.render(u,e.grid());return n(u,e.grid(),l),r(u),ll.refresh(i,u,ma.height,l),H.some({cursor:e.cursor,newRows:t.newRows,newCells:t.newCells})})}},hl=function(e,t){return dr.cell(t.element()).bind(function(t){return ml(e,t)})},vl=function(e,t){return dr.cell(t.element()).bind(function(n){return ml(e,n).map(function(e){return Za(e,{generators:t.generators,clipboard:t.clipboard})})})},pl=function(e,t){var n=J(t.selection(),function(t){return dr.cell(t).bind(function(t){return ml(e,t)})}),r=ec(n);return r.length>0?H.some(Za({cells:r},{generators:t.generators,clipboard:t.clipboard})):H.none()},bl=function(e,t){return t.mergable()},wl=function(e,t){return t.unmergable()},yl=function(e,t){var n=J(t.selection(),function(t){return dr.cell(t).bind(function(t){return ml(e,t)})}),r=ec(n);return r.length>0?H.some(r):H.none()},xl={run:gl,toDetailList:dl,onCell:hl,onCells:yl,onPaste:vl,onPasteRows:pl,onMergable:bl,onUnmergable:wl},Cl=function(e){var t=function(t){return e===t},n=function(t){return Cl(e)},r=function(t){return Cl(e)},o=function(t){return Cl(t(e))},i=function(t){return Cl(e)},u=function(t){t(e)},a=function(t){return t(e)},c=function(t,n){return n(e)},l=function(t){return t(e)},f=function(t){return t(e)},s=function(){return H.some(e)};return{is:t,isValue:P,isError:N,getOr:D(e),getOrThunk:D(e),getOrDie:D(e),or:n,orThunk:r,fold:c,map:o,mapError:i,each:u,bind:a,exists:l,forall:f,toOption:s}},Rl=function(e){var t=function(e){return e()},n=function(){return O(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return Rl(e)},u=function(t){return Rl(t(e))},a=function(t){return Rl(e)},c=function(t,n){return t(e)};return{is:N,isValue:N,isError:P,getOr:k,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:c,map:i,mapError:u,each:S,bind:a,exists:N,forall:P,toOption:H.none}},Sl={value:Cl,error:Rl},Tl=function(e,t,n){if(e.row()>=t.length||e.column()>lc.cellLength(t[0]))return Sl.error("invalid start address out of table bounds, row: "+e.row()+", column: "+e.column());var r=t.slice(e.row()),o=r[0].cells().slice(e.column()),i=lc.cellLength(n[0]),u=n.length;return Sl.value({rowDelta:D(r.length-u),colDelta:D(o.length-i)})},Dl=function(e,t){var n=lc.cellLength(e[0]),r=lc.cellLength(t[0]);return{rowDelta:D(0),colDelta:D(n-r)}},kl=function(e,t){return J(e,function(){return Le.elementnew(t.cell(),!0)})},Al=function(e,t,n){return e.concat(Dc.repeat(t,function(t){return lc.setCells(e[e.length-1],kl(e[e.length-1].cells(),n))}))},Ol=function(e,t,n){return J(e,function(e){return lc.setCells(e,e.cells().concat(kl(Dc.range(0,t),n)))})},El=function(e,t,n){var r=t.colDelta()<0?Ol:k,o=t.rowDelta()<0?Al:k,i=r(e,Math.abs(t.colDelta()),n),u=o(i,Math.abs(t.rowDelta()),n);return u},Nl={measure:Tl,measureWidth:Dl,tailor:El},Pl=function(e,t,n,r){if(0===e.length)return e;for(var o=t.startRow();o<=t.finishRow();o++)for(var i=t.startCol();i<=t.finishCol();i++)lc.mutateCell(e[o],i,Le.elementnew(r(),!1));return e},Bl=function(e,t,n,r){for(var o=!0,i=0;i<e.length;i++)for(var u=0;u<lc.cellLength(e[0]);u++){var a=lc.getCellElement(e[i],u),c=n(a,t);c===!0&&o===!1?lc.mutateCell(e[i],u,Le.elementnew(r(),!0)):c===!0&&(o=!1);
}return e},Il=function(e,t){return te(e,function(e,n){return K(e,function(e){return t(e.element(),n.element())})?e:e.concat([n])},[])},Wl=function(e,t,n,r){if(t>0&&t<e.length){var o=e[t-1].cells(),i=Il(o,n);$(i,function(o){for(var i=H.none(),u=t;u<e.length;u++)for(var a=0;a<lc.cellLength(e[0]);a++){var c=e[u].cells()[a],l=n(c.element(),o.element());l&&(i.isNone()&&(i=H.some(r())),i.each(function(t){lc.mutateCell(e[u],a,Le.elementnew(t,!0))}))}})}return e},Ml={merge:Pl,unmerge:Bl,splitRows:Wl},Ll=function(t,n,r,o){var i=lc.getCell(t[n],r),u=e(o,i.element()),a=t[n];return t.length>1&&lc.cellLength(a)>1&&(r>0&&u(lc.getCellElement(a,r-1))||r<a.length-1&&u(lc.getCellElement(a,r+1))||n>0&&u(lc.getCellElement(t[n-1],r))||n<t.length-1&&u(lc.getCellElement(t[n+1],r)))},_l=function(e,t,n,r,o){for(var i=e.row(),u=e.column(),a=n.length,c=lc.cellLength(n[0]),l=i+a,f=u+c,s=i;s<l;s++)for(var d=u;d<f;d++){Ll(t,s,d,o)&&Ml.unmerge(t,lc.getCellElement(t[s],d),o,r.cell);var m=lc.getCellElement(n[s-i],d-u),g=r.replace(m);lc.mutateCell(t[s],d,Le.elementnew(g,!0))}return t},Hl=function(e,t,n,r,o){var i=Nl.measure(e,t,n);return i.map(function(i){var u=Nl.tailor(t,i,r);return _l(e,u,n,r,o)})},jl=function(e,t,n,r,o){Ml.splitRows(t,e,o,r.cell);var i=Nl.measureWidth(n,t),u=Nl.tailor(n,i,r),a=Nl.measureWidth(t,u),c=Nl.tailor(t,a,r);return c.slice(0,e).concat(u).concat(c.slice(e,c.length))},Fl={merge:Hl,insert:jl},zl=function(e,t,n,r,o){var i=e.slice(0,t),u=e.slice(t),a=lc.mapCells(e[n],function(n,i){var u=t>0&&t<e.length&&r(lc.getCellElement(e[t-1],i),lc.getCellElement(e[t],i)),a=u?lc.getCell(e[t],i):Le.elementnew(o(n.element(),r),!0);return a});return i.concat([a]).concat(u)},Ul=function(e,t,n,r,o){return J(e,function(e){var i=t>0&&t<lc.cellLength(e)&&r(lc.getCellElement(e,t-1),lc.getCellElement(e,t)),u=i?lc.getCell(e,t):Le.elementnew(o(lc.getCellElement(e,n),r),!0);return lc.addCell(e,t,u)})},ql=function(e,t,n,r,o){var i=n+1;return J(e,function(e,u){var a=u===t,c=a?Le.elementnew(o(lc.getCellElement(e,n),r),!0):lc.getCell(e,n);return lc.addCell(e,i,c)})},Gl=function(e,t,n,r,o){var i=t+1,u=e.slice(0,i),a=e.slice(i),c=lc.mapCells(e[t],function(e,t){var i=t===n;return i?Le.elementnew(o(e.element(),r),!0):e});return u.concat([c]).concat(a)},Vl=function(e,t,n){var r=J(e,function(e){var r=e.cells().slice(0,t).concat(e.cells().slice(n+1));return Le.rowcells(r,e.section())});return Z(r,function(e){return e.cells().length>0})},Yl=function(e,t,n){return e.slice(0,t).concat(e.slice(n+1))},Xl={insertRowAt:zl,insertColumnAt:Ul,splitCellIntoColumns:ql,splitCellIntoRows:Gl,deleteRowsAt:Yl,deleteColumnsAt:Vl},Kl=function(e,t,n,r){var o=function(e){return K(t,function(t){return n(e.element(),t.element())})};return J(e,function(e){return lc.mapCells(e,function(e){return o(e)?Le.elementnew(r(e.element(),n),!0):e})})},Jl=function(e,t,n,r){return void 0!==lc.getCellElement(e[t],n)&&t>0&&r(lc.getCellElement(e[t-1],n),lc.getCellElement(e[t],n))},$l=function(e,t,n){return t>0&&n(lc.getCellElement(e,t-1),lc.getCellElement(e,t))},Ql=function(e,t,n,r){var o=ae(e,function(r,o){var i=Jl(e,o,t,n)||$l(r,t,n);return i?[]:[lc.getCell(r,t)]});return Kl(e,o,n,r)},Zl=function(e,t,n,r){var o=e[t],i=ae(o.cells(),function(r,i){var u=Jl(e,t,i,n)||$l(o,i,n);return u?[]:[r]});return Kl(e,i,n,r)},ef={replaceColumn:Ql,replaceRow:Zl},tf=function(){return af(function(e,t,n,r,o){return e()})},nf=function(e){return af(function(t,n,r,o,i){return n(e)})},rf=function(e,t){return af(function(n,r,o,i,u){return o(e,t)})},of=function(e,t,n){return af(function(r,o,i,u,a){return u(e,t,n)})},uf=function(e,t){return af(function(n,r,o,i,u){return u(e,t)})},af=function(e){return{fold:e}},cf={none:tf,only:nf,left:rf,middle:of,right:uf},lf=function(e,t){return 0===e.length?cf.none():1===e.length?cf.only(0):0===t?cf.left(0,1):t===e.length-1?cf.right(t-1,t):t>0&&t<e.length-1?cf.middle(t-1,t,t+1):cf.none()},ff=function(e,t,n,r){var o=e.slice(0),i=lf(e,t),u=function(e){return J(e,D(0))},a=D(u(o)),c=function(e){return r.singleColumnWidth(o[e],n)},l=function(e,t){if(n>=0){var i=Math.max(r.minCellWidth(),o[t]-n);return u(o.slice(0,e)).concat([n,i-o[t]]).concat(u(o.slice(t+1)))}var a=Math.max(r.minCellWidth(),o[e]+n),c=o[e]-a;return u(o.slice(0,e)).concat([a-o[e],c]).concat(u(o.slice(t+1)))},f=l,s=function(e,t,n){return l(t,n)},d=function(e,t){if(n>=0)return u(o.slice(0,t)).concat([n]);var i=Math.max(r.minCellWidth(),o[t]+n);return u(o.slice(0,t)).concat([i-o[t]])};return i.fold(a,c,f,s,d)},sf={determine:ff},df=function(e,t){return Bn(e,t)&&parseInt(Pn(e,t),10)>1},mf=function(e){return df(e,"colspan")},gf=function(e){return df(e,"rowspan")},hf=function(e,t){return parseInt(Ar(e,t),10)},vf={hasColspan:mf,hasRowspan:gf,minWidth:D(10),minHeight:D(10),getInt:hf},pf=function(e,t,n){return Er(e,t).fold(function(){return n(e)+"px"},function(e){return e})},bf=function(e){return pf(e,"width",zu.getPixelWidth)},wf=function(e){return pf(e,"height",zu.getHeight)},yf=function(e,t,n,r,o){var i=Ec.columns(e),u=J(i,function(e){return e.map(t.edge)});return J(i,function(e,t){var i=e.filter(A(vf.hasColspan));return i.fold(function(){var e=Dc.deduce(u,t);return r(e)},function(e){return n(e,o)})})},xf=function(e){return e.map(function(e){return e+"px"}).getOr("")},Cf=function(e,t){return yf(e,t,bf,xf)},Rf=function(e,t,n){return yf(e,t,zu.getPercentageWidth,function(e){return e.fold(function(){return n.minCellWidth()},function(e){return e/n.pixelWidth()*100})},n)},Sf=function(e,t,n){return yf(e,t,zu.getPixelWidth,function(e){return e.getOrThunk(n.minCellWidth)},n)},Tf=function(e,t,n,r){var o=Ec.rows(e),i=J(o,function(e){return e.map(t.edge)});return J(o,function(e,t){var o=e.filter(A(vf.hasRowspan));return o.fold(function(){var e=Dc.deduce(i,t);return r(e)},function(e){return n(e)})})},Df=function(e,t){return Tf(e,t,zu.getHeight,function(e){return e.getOrThunk(vf.minHeight)})},kf=function(e,t){return Tf(e,t,wf,xf)},Af={getRawWidths:Cf,getPixelWidths:Sf,getPercentageWidths:Rf,getPixelHeights:Df,getRawHeights:kf},Of=function(e,t,n){for(var r=0,o=e;o<t;o++)r+=void 0!==n[o]?n[o]:0;return r},Ef=function(e,t){var n=Cr.justCells(e);return J(n,function(e){var n=Of(e.column(),e.column()+e.colspan(),t);return{element:e.element,width:D(n),colspan:e.colspan}})},Nf=function(e,t){var n=Cr.justCells(e);return J(n,function(e){var n=Of(e.row(),e.row()+e.rowspan(),t);return{element:e.element,height:D(n),rowspan:e.rowspan}})},Pf=function(e,t){return J(e.all(),function(e,n){return{element:e.element,height:D(t[n])}})},Bf={recalculateWidth:Ef,recalculateHeight:Nf,matchRowHeight:Pf},If=function(e,t){var n=parseFloat(e),r=fu(t),o=function(e){return e/r*100},i=function(e,t){return[100-e]},u=function(){return vf.minWidth()/r*100},a=function(e,t,r){var o=n+r;zu.setPercentageWidth(e,o)};return{width:D(n),pixelWidth:D(r),getWidths:Af.getPercentageWidths,getCellDelta:o,singleColumnWidth:i,minCellWidth:u,setElementWidth:zu.setPercentageWidth,setTableWidth:a}},Wf=function(e){var t=parseInt(e,10),n=k,r=function(e,t){var n=Math.max(vf.minWidth(),e+t);return[n-e]},o=function(e,t,n){var r=ee(t,function(e,t){return e+t},0);zu.setPixelWidth(e,r)};return{width:D(t),pixelWidth:D(t),getWidths:Af.getPixelWidths,getCellDelta:n,singleColumnWidth:r,minCellWidth:vf.minWidth,setElementWidth:zu.setPixelWidth,setTableWidth:o}},Mf=function(e,t){if(zu.percentageBasedSizeRegex().test(t)){var n=zu.percentageBasedSizeRegex().exec(t);return If(n[1],e)}if(zu.pixelBasedSizeRegex().test(t)){var r=zu.pixelBasedSizeRegex().exec(t);return Wf(r[1])}var o=fu(e);return Wf(o)},Lf=function(e){var t=zu.getRawWidth(e);return t.fold(function(){var t=fu(e);return Wf(t)},function(t){return Mf(e,t)})},_f={getTableSize:Lf},Hf=function(e){return Cr.generate(e)},jf=function(e){return ee(e,function(e,t){return e+t},0)},Ff=function(e){var t=hr.fromTable(e);return Hf(t)},zf=function(e,t,n,r){var o=_f.getTableSize(e),i=o.getCellDelta(t),u=Ff(e),a=o.getWidths(u,r,o),c=sf.determine(a,n,i,o),l=J(c,function(e,t){return e+a[t]}),f=Bf.recalculateWidth(u,l);$(f,function(e){o.setElementWidth(e.element(),e.width())}),n===u.grid().columns()-1&&o.setTableWidth(e,l,i)},Uf=function(e,t,n,r){var o=Ff(e),i=Af.getPixelHeights(o,r),u=J(i,function(e,r){return n===r?Math.max(t+e,vf.minHeight()):e}),a=Bf.recalculateHeight(o,u),c=Bf.matchRowHeight(o,u);$(c,function(e){zu.setHeight(e.element(),e.height())}),$(a,function(e){zu.setHeight(e.element(),e.height())});var l=jf(u);zu.setHeight(e,l)},qf=function(e,t,n){var r=_f.getTableSize(e),o=Hf(t),i=r.getWidths(o,n,r),u=Bf.recalculateWidth(o,i);$(u,function(e){r.setElementWidth(e.element(),e.width())});var a=ee(i,function(e,t){return t+e},0);u.length>0&&r.setElementWidth(e,a)},Gf={adjustWidth:zf,adjustHeight:Uf,adjustWidthTo:qf},Vf=function(e){var t=dr.cells(e);0===t.length&&zr(e)},Yf=ve("grid","cursor"),Xf=function(e,t,n){return Kf(e,t,n).orThunk(function(){return Kf(e,0,0)})},Kf=function(e,t,n){return H.from(e[t]).bind(function(e){return H.from(e.cells()[n]).bind(function(e){return H.from(e.element())})})},Jf=function(e,t,n){return Yf(e,Kf(e,t,n))},$f=function(e){return te(e,function(e,t){return K(e,function(e){return e.row()===t.row()})?e:e.concat([t])},[]).sort(function(e,t){return e.row()-t.row()})},Qf=function(e){return te(e,function(e,t){return K(e,function(e){return e.column()===t.column()})?e:e.concat([t])},[]).sort(function(e,t){return e.column()-t.column()})},Zf=function(e,t,n,r){var o=t.row(),i=t.row(),u=Xl.insertRowAt(e,i,o,n,r.getOrInit);return Jf(u,i,t.column())},es=function(e,t,n,r){var o=t[0].row(),i=t[0].row(),u=$f(t),a=te(u,function(e,t){return Xl.insertRowAt(e,i,o,n,r.getOrInit)},e);return Jf(a,i,t[0].column())},ts=function(e,t,n,r){var o=t.row(),i=t.row()+t.rowspan(),u=Xl.insertRowAt(e,i,o,n,r.getOrInit);return Jf(u,i,t.column())},ns=function(e,t,n,r){var o=$f(t),i=o[o.length-1].row(),u=o[o.length-1].row()+o[o.length-1].rowspan(),a=te(o,function(e,t){return Xl.insertRowAt(e,u,i,n,r.getOrInit)},e);return Jf(a,u,t[0].column())},rs=function(e,t,n,r){var o=t.column(),i=t.column(),u=Xl.insertColumnAt(e,i,o,n,r.getOrInit);return Jf(u,t.row(),i)},os=function(e,t,n,r){var o=Qf(t),i=o[0].column(),u=o[0].column(),a=te(o,function(e,t){return Xl.insertColumnAt(e,u,i,n,r.getOrInit)},e);return Jf(a,t[0].row(),u)},is=function(e,t,n,r){var o=t.column(),i=t.column()+t.colspan(),u=Xl.insertColumnAt(e,i,o,n,r.getOrInit);return Jf(u,t.row(),i)},us=function(e,t,n,r){var o=t[t.length-1].column(),i=t[t.length-1].column()+t[t.length-1].colspan(),u=Qf(t),a=te(u,function(e,t){return Xl.insertColumnAt(e,i,o,n,r.getOrInit)},e);return Jf(a,t[0].row(),i)},as=function(e,t,n,r){var o=ef.replaceRow(e,t.row(),n,r.replaceOrInit);return Jf(o,t.row(),t.column())},cs=function(e,t,n,r){var o=ef.replaceColumn(e,t.column(),n,r.replaceOrInit);return Jf(o,t.row(),t.column())},ls=function(e,t,n,r){var o=ef.replaceRow(e,t.row(),n,r.replaceOrInit);return Jf(o,t.row(),t.column())},fs=function(e,t,n,r){var o=ef.replaceColumn(e,t.column(),n,r.replaceOrInit);return Jf(o,t.row(),t.column())},ss=function(e,t,n,r){var o=Xl.splitCellIntoColumns(e,t.row(),t.column(),n,r.getOrInit);return Jf(o,t.row(),t.column())},ds=function(e,t,n,r){var o=Xl.splitCellIntoRows(e,t.row(),t.column(),n,r.getOrInit);return Jf(o,t.row(),t.column())},ms=function(e,t,n,r){var o=Qf(t),i=Xl.deleteColumnsAt(e,o[0].column(),o[o.length-1].column()),u=Xf(i,t[0].row(),t[0].column());return Yf(i,u)},gs=function(e,t,n,r){var o=$f(t),i=Xl.deleteRowsAt(e,o[0].row(),o[o.length-1].row()),u=Xf(i,t[0].row(),t[0].column());return Yf(i,u)},hs=function(e,t,n,r){var o=t.cells();Ka.merge(o);var i=Ml.merge(e,t.bounds(),n,D(o[0]));return Yf(i,H.from(o[0]))},vs=function(e,t,n,r){var o=ee(t,function(e,t){return Ml.unmerge(e,t,n,r.combine(t))},e);return Yf(o,H.from(t[0]))},ps=function(e,t,n,r){var o=function(e,t){var n=hr.fromTable(e),r=Cr.generate(n);return pc.toGrid(r,t,!0)},i=o(t.clipboard(),t.generators()),u=Le.address(t.row(),t.column()),a=Fl.merge(u,e,i,t.generators(),n);return a.fold(function(){return Yf(e,H.some(t.element()))},function(e){var n=Xf(e,t.row(),t.column());return Yf(e,n)})},bs=function(e,t,n){var r=hr.fromPastedRows(e,n),o=Cr.generate(r);return pc.toGrid(o,t,!0)},ws=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[0].row(),u=bs(t.clipboard(),t.generators(),o),a=Fl.insert(i,e,u,t.generators(),n),c=Xf(a,t.cells[0].row(),t.cells[0].column());return Yf(a,c)},ys=function(e,t,n,r){var o=e[t.cells[0].row()],i=t.cells[t.cells.length-1].row()+t.cells[t.cells.length-1].rowspan(),u=bs(t.clipboard(),t.generators(),o),a=Fl.insert(i,e,u,t.generators(),n),c=Xf(a,t.cells[0].row(),t.cells[0].column());return Yf(a,c)},xs=Gf.adjustWidthTo,Cs={insertRowBefore:xl.run(Zf,xl.onCell,S,S,ka.modification),insertRowsBefore:xl.run(es,xl.onCells,S,S,ka.modification),insertRowAfter:xl.run(ts,xl.onCell,S,S,ka.modification),insertRowsAfter:xl.run(ns,xl.onCells,S,S,ka.modification),insertColumnBefore:xl.run(rs,xl.onCell,xs,S,ka.modification),insertColumnsBefore:xl.run(os,xl.onCells,xs,S,ka.modification),insertColumnAfter:xl.run(is,xl.onCell,xs,S,ka.modification),insertColumnsAfter:xl.run(us,xl.onCells,xs,S,ka.modification),splitCellIntoColumns:xl.run(ss,xl.onCell,S,S,ka.modification),splitCellIntoRows:xl.run(ds,xl.onCell,S,S,ka.modification),eraseColumns:xl.run(ms,xl.onCells,xs,Vf,ka.modification),eraseRows:xl.run(gs,xl.onCells,S,Vf,ka.modification),makeColumnHeader:xl.run(cs,xl.onCell,S,S,ka.transform("row","th")),unmakeColumnHeader:xl.run(fs,xl.onCell,S,S,ka.transform(null,"td")),makeRowHeader:xl.run(as,xl.onCell,S,S,ka.transform("col","th")),unmakeRowHeader:xl.run(ls,xl.onCell,S,S,ka.transform(null,"td")),mergeCells:xl.run(hs,xl.onMergable,S,S,ka.merging),unmergeCells:xl.run(vs,xl.onUnmergable,S,S,ka.merging),pasteCells:xl.run(ps,xl.onPaste,xs,S,ka.modification),pasteRowsBefore:xl.run(ws,xl.onPasteRows,S,S,ka.modification),pasteRowsAfter:xl.run(ys,xl.onPasteRows,S,S,ka.modification)},Rs=function(e){return Ue.fromDom(e.getBody())},Ss=function(e){return e.getBoundingClientRect().width},Ts=function(e){return e.getBoundingClientRect().height},Ds=function(e){return function(t){return rn(t,Rs(e))}},ks=function(e){return e?e.replace(/px$/,""):""},As=function(e){return/^[0-9]+$/.test(e)&&(e+="px"),e},Os=function(e){var t=qn(e,"td[data-mce-style],th[data-mce-style]");In(e,"data-mce-style"),$(t,function(e){In(e,"data-mce-style")})},Es=function(e){return"rtl"===Ar(e,"direction")?"rtl":"ltr"},Ns={isRtl:D(!1)},Ps={isRtl:D(!0)},Bs=function(e){var t=Es(e);return"rtl"===t?Ps:Ns},Is={directionAt:Bs},Ws=["tableprops","tabledelete","|","tableinsertrowbefore","tableinsertrowafter","tabledeleterow","|","tableinsertcolbefore","tableinsertcolafter","tabledeletecol"],Ms={"border-collapse":"collapse",width:"100%"},Ls={border:"1"},_s=function(e){return e.getParam("table_default_attributes",Ls,"object")},Hs=function(e){return e.getParam("table_default_styles",Ms,"object")},js=function(e){return e.getParam("table_resize_bars",!0,"boolean")},Fs=function(e){return e.getParam("table_tab_navigation",!0,"boolean")},zs=function(e){return e.getParam("table_cell_advtab",!0,"boolean")},Us=function(e){return e.getParam("table_row_advtab",!0,"boolean")},qs=function(e){return e.getParam("table_advtab",!0,"boolean")},Gs=function(e){return e.getParam("table_appearance_options",!0,"boolean")},Vs=function(e){return e.getParam("table_grid",!0,"boolean")},Ys=function(e){return e.getParam("table_style_by_css",!1,"boolean")},Xs=function(e){return e.getParam("table_cell_class_list",[],"array")},Ks=function(e){return e.getParam("table_row_class_list",[],"array")},Js=function(e){return e.getParam("table_class_list",[],"array")},$s=function(e){return e.getParam("color_picker_callback")},Qs=function(e){return e.getParam("table_responsive_width")===!1},Zs=function(e){var t=e.getParam("table_clone_elements");return z(t)?H.some(t.split(/[ ,]/)):Array.isArray(t)?H.some(t):H.none()},ed=function(e){var t=e.getParam("object_resizing",!0);return"table"===t||t},td=function(e){var t=e.getParam("table_toolbar",Ws);return""===t||t===!1?[]:z(t)?t.split(/[ ,]/):U(t)?t:[]},nd=function(e,t){return e.fire("newrow",{node:t})},rd=function(e,t){return e.fire("newcell",{node:t})},od=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},id=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},ud=function(e,t){var n=function(e){return"table"===Cn(Rs(e))},r=function(t){var r=va.getGridSize(t);return n(e)===!1||r.rows()>1},o=function(t){var r=va.getGridSize(t);return n(e)===!1||r.columns()>1},u=Zs(e),a=function(t,n,r,o){return function(a,c){Os(a);var l=o(),f=Ue.fromDom(e.getDoc()),s=i(Is.directionAt),d=Co.cellOperations(r,f,u);return n(a)?t(l,a,c,d,s).bind(function(t){return $(t.newRows(),function(t){nd(e,t.dom())}),$(t.newCells(),function(t){rd(e,t.dom())}),t.cursor().map(function(t){var n=e.dom.createRng();return n.setStart(t.dom(),0),n.setEnd(t.dom(),0),n})}):H.none()}},c=a(Cs.eraseRows,r,S,t),l=a(Cs.eraseColumns,o,S,t),f=a(Cs.insertRowsBefore,P,S,t),s=a(Cs.insertRowsAfter,P,S,t),d=a(Cs.insertColumnsBefore,P,qu.halve,t),m=a(Cs.insertColumnsAfter,P,qu.halve,t),g=a(Cs.mergeCells,P,S,t),h=a(Cs.unmergeCells,P,S,t),v=a(Cs.pasteRowsBefore,P,S,t),p=a(Cs.pasteRowsAfter,P,S,t),b=a(Cs.pasteCells,P,S,t);return{deleteRow:c,deleteColumn:l,insertRowsBefore:f,insertRowsAfter:s,insertColumnsBefore:d,insertColumnsAfter:m,mergeCells:g,unmergeCells:h,pasteRowsBefore:v,pasteRowsAfter:p,pasteCells:b}},ad=function(e,t,n){var r=hr.fromTable(e),o=Cr.generate(r),i=xl.onCells(o,t);return i.map(function(e){var t=pc.toGrid(o,n,!1),r=t.slice(e[0].row(),e[e.length-1].row()+e[e.length-1].rowspan()),i=xl.toDetailList(r,n);return xc.copy(i)})},cd={copyRows:ad},ld=tinymce.util.Tools.resolve("tinymce.util.Tools"),fd=function(e,t,n){var r,o=e.select("td,th",t),i=function(t,r){for(var o=0;o<r.length;o++){var i=e.getStyle(r[o],n);if("undefined"==typeof t&&(t=i),t!==i)return""}return t};return r=i(r,o)},sd=function(e,t,n){n&&e.formatter.apply("align"+n,{},t)},dd=function(e,t,n){n&&e.formatter.apply("valign"+n,{},t)},md=function(e,t){ld.each("left center right".split(" "),function(n){e.formatter.remove("align"+n,{},t)})},gd=function(e,t){ld.each("top middle bottom".split(" "),function(n){e.formatter.remove("valign"+n,{},t)})},hd={applyAlign:sd,applyVAlign:dd,unApplyAlign:md,unApplyVAlign:gd,getTDTHOverallStyle:fd},vd=function(e,t,n){var r=function(e,n){return n=n||[],ld.each(e,function(e){var o={text:e.text||e.title};e.menu?o.menu=r(e.menu):(o.value=e.value,t&&t(o)),n.push(o)}),n};return r(e,n||[])},pd=function(e,t){u(t)?wd(e,t):bd(e,t)},bd=function(e,t){var n=e.dom,r=t.control.rootControl,o=r.toJSON(),i=n.parseStyle(o.style);i["border-style"]=o.borderStyle,i["border-color"]=o.borderColor,i["background-color"]=o.backgroundColor,i.width=o.width?As(o.width):"",i.height=o.height?As(o.height):"",r.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(i))))},wd=function(e,t){var n=e.dom,r=t.control.rootControl,o=r.toJSON(),i=n.parseStyle(o.style);r.find("#borderStyle").value(i["border-style"]||""),r.find("#borderColor").value(i["border-color"]||""),r.find("#backgroundColor").value(i["background-color"]||""),r.find("#width").value(i.width||""),r.find("#height").value(i.height||"")},yd=function(e,t){var n=e.parseStyle(e.getAttrib(t,"style")),r={};return n["border-style"]&&(r.borderStyle=n["border-style"]),n["border-color"]&&(r.borderColor=n["border-color"]),n["background-color"]&&(r.backgroundColor=n["background-color"]),r.style=e.serializeStyle(n),r},xd=function(t){var n=function(){var e=$s(t);if(e)return function(n){return e.call(t,function(e){n.control.value(e).fire("change")},n.control.value())}};return{title:"Advanced",type:"form",defaults:{onchange:e(bd,t)},items:[{label:"Style",name:"style",type:"textbox",onchange:e(wd,t)},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border style",type:"listbox",name:"borderStyle",width:90,onselect:e(bd,t),values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{label:"Border color",type:"colorbox",name:"borderColor",onaction:n()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:n()}]}]}},Cd={createStyleForm:xd,buildListItems:vd,updateStyleField:bd,extractAdvancedStyles:yd,updateAdvancedFields:wd,syncAdvancedStyleFields:pd},Rd=function(e,t){delete e.dataset.mceStyle,e.style.cssText+=";"+t},Sd=function(e,t){var n=e.dom,r={width:n.getStyle(t,"width")||n.getAttrib(t,"width"),height:n.getStyle(t,"height")||n.getAttrib(t,"height"),scope:n.getAttrib(t,"scope"),"class":n.getAttrib(t,"class"),type:t.nodeName.toLowerCase(),style:"",align:"",valign:""};return ld.each("left center right".split(" "),function(n){e.formatter.matchNode(t,"align"+n)&&(r.align=n)}),ld.each("top middle bottom".split(" "),function(n){e.formatter.matchNode(t,"valign"+n)&&(r.valign=n)}),zs(e)&&ld.extend(r,Cd.extractAdvancedStyles(n,t)),r},Td=function(e,t,n){function r(e,n,r){(1===t.length||r)&&u.setAttrib(e,n,r)}function o(e,n,r){(1===t.length||r)&&u.setStyle(e,n,r)}var i,u=e.dom;zs(e)&&Cd.syncAdvancedStyleFields(e,n),i=n.control.rootControl.toJSON(),e.undoManager.transact(function(){ld.each(t,function(n){r(n,"scope",i.scope),1===t.length?r(n,"style",i.style):Rd(n,i.style),r(n,"class",i["class"]),o(n,"width",As(i.width)),o(n,"height",As(i.height)),i.type&&n.nodeName.toLowerCase()!==i.type&&(n=u.rename(n,i.type)),1===t.length&&(hd.unApplyAlign(e,n),hd.unApplyVAlign(e,n)),i.align&&hd.applyAlign(e,n,i.align),i.valign&&hd.applyVAlign(e,n,i.valign)}),e.focus()})},Dd=function(t){var n,r,o,i=[];if(i=t.dom.select("td[data-mce-selected],th[data-mce-selected]"),n=t.dom.getParent(t.selection.getStart(),"td,th"),!i.length&&n&&i.push(n),n=n||i[0]){r=i.length>1?{width:"",height:"",scope:"","class":"",align:"",valign:"",style:"",type:n.nodeName.toLowerCase()}:Sd(t,n),Xs(t).length>0&&(o={name:"class",type:"listbox",label:"Class",values:Cd.buildListItems(Xs(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"td",classes:[e.value]})})})});var u={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width",onchange:e(Cd.updateStyleField,t)},{label:"Height",name:"height",onchange:e(Cd.updateStyleField,t)},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},o]};zs(t)?t.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:r,body:[{title:"General",type:"form",items:u},Cd.createStyleForm(t)],onsubmit:e(Td,t,i)}):t.windowManager.open({title:"Cell properties",data:r,body:u,onsubmit:e(Td,t,i)})}},kd={open:Dd},Ad=function(e,t){var n=e.dom,r={height:n.getStyle(t,"height")||n.getAttrib(t,"height"),scope:n.getAttrib(t,"scope"),"class":n.getAttrib(t,"class"),align:"",style:"",type:t.parentNode.nodeName.toLowerCase()};return ld.each("left center right".split(" "),function(n){e.formatter.matchNode(t,"align"+n)&&(r.align=n)}),Us(e)&&ld.extend(r,Cd.extractAdvancedStyles(n,t)),r},Od=function(e,t,n){var r=e.getParent(t,"table"),o=t.parentNode,i=e.select(n,r)[0];i||(i=e.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?e.insertAfter(i,r.firstChild):r.insertBefore(i,r.firstChild):r.appendChild(i)),i.appendChild(t),o.hasChildNodes()||e.remove(o)},Ed=function(t){var n,r,o,i,u,c,l=t.dom,f=[];n=l.getParent(t.selection.getStart(),"table"),r=l.getParent(t.selection.getStart(),"td,th"),ld.each(n.rows,function(e){ld.each(e.cells,function(t){if(l.getAttrib(t,"data-mce-selected")||t===r)return f.push(e),!1})}),o=f[0],o&&(u=f.length>1?{height:"",scope:"",style:"","class":"",align:"",type:o.parentNode.nodeName.toLowerCase()}:Ad(t,o),Ks(t).length>0&&(i={name:"class",type:"listbox",label:"Class",values:Cd.buildListItems(Ks(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"tr",classes:[e.value]})})})}),c={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},i]},Us(t)?t.windowManager.open({title:"Row properties",data:u,bodyType:"tabpanel",body:[{title:"General",type:"form",items:c},Cd.createStyleForm(t)],onsubmit:e(a,t,f,u)}):t.windowManager.open({title:"Row properties",data:u,body:c,onsubmit:e(a,t,f,u)}))},Nd={open:Ed},Pd=tinymce.util.Tools.resolve("tinymce.Env"),Bd={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},Id=function(){return Ue.fromTag("table")},Wd=function(){return Ue.fromTag("tbody")},Md=function(){return Ue.fromTag("tr")},Ld=function(){return Ue.fromTag("th")},_d=function(){return Ue.fromTag("td")},Hd=function(e,t,n,r,o){void 0===o&&(o=Bd);var i=Id();kr(i,o.styles),Nn(i,o.attributes);var u=Wd();Mr(i,u);for(var a=[],c=0;c<e;c++){for(var l=Md(),f=0;f<t;f++){var s=c<n||f<r?Ld():_d();f<r&&En(s,"scope","row"),c<n&&En(s,"scope","col"),Mr(s,Ue.fromTag("br")),o.percentages&&Dr(s,"width",100/t+"%"),Mr(l,s)}a.push(l)}return jr(u,a),i},jd=function(e){return e.dom().innerHTML},Fd=function(e){var t=Ue.fromTag("div"),n=Ue.fromDom(e.dom().cloneNode(!0));return Mr(t,n),jd(t)},zd=function(e,t){e.selection.select(t.dom(),!0),e.selection.collapse(!0)},Ud=function(t,n){$n(n,"td,th").each(e(zd,t))},qd=function(e,t){$(qn(t,"tr"),function(t){nd(e,t.dom()),$(qn(t,"th,td"),function(t){rd(e,t.dom())})})},Gd=function(e){return z(e)&&e.indexOf("%")!==-1},Vd=function(e,t,n){var r=Hs(e),o={styles:r,attributes:_s(e),percentages:Gd(r.width)&&!Qs(e)},i=Hd(n,t,0,0,o);En(i,"data-mce-id","__mce");var u=Fd(i);return e.insertContent(u),$n(Rs(e),'table[data-mce-id="__mce"]').map(function(t){return Qs(e)&&Dr(t,"width",Ar(t,"width")),In(t,"data-mce-id"),qd(e,t),Ud(e,t),t.dom()}).getOr(null)},Yd={insert:Vd},Xd=function(e,t){var n=e.dom,r={width:n.getStyle(t,"width")||n.getAttrib(t,"width"),height:n.getStyle(t,"height")||n.getAttrib(t,"height"),cellspacing:n.getStyle(t,"border-spacing")||n.getAttrib(t,"cellspacing"),cellpadding:n.getAttrib(t,"data-mce-cell-padding")||n.getAttrib(t,"cellpadding")||hd.getTDTHOverallStyle(e.dom,t,"padding"),border:n.getAttrib(t,"data-mce-border")||n.getAttrib(t,"border")||hd.getTDTHOverallStyle(e.dom,t,"border"),borderColor:n.getAttrib(t,"data-mce-border-color"),caption:!!n.select("caption",t)[0],"class":n.getAttrib(t,"class")};return ld.each("left center right".split(" "),function(n){e.formatter.matchNode(t,"align"+n)&&(r.align=n)}),qs(e)&&ld.extend(r,Cd.extractAdvancedStyles(n,t)),r},Kd=function(e,t,n){var r=e.dom,o={},i={};if(o["class"]=n["class"],i.height=As(n.height),r.getAttrib(t,"width")&&!Ys(e)?o.width=ks(n.width):i.width=As(n.width),Ys(e)?(i["border-width"]=As(n.border),i["border-spacing"]=As(n.cellspacing),ld.extend(o,{"data-mce-border-color":n.borderColor,"data-mce-cell-padding":n.cellpadding,"data-mce-border":n.border})):ld.extend(o,{border:n.border,cellpadding:n.cellpadding,cellspacing:n.cellspacing}),Ys(e)&&t.children)for(var u=0;u<t.children.length;u++)c(r,t.children[u],{"border-width":As(n.border),"border-color":n.borderColor,padding:As(n.cellpadding)});n.style?ld.extend(i,r.parseStyle(n.style)):i=ld.extend({},r.parseStyle(r.getAttrib(t,"style")),i),o.style=r.serializeStyle(i),r.setAttribs(t,o)},Jd=function(e,t,n){var r,o,i=e.dom;qs(e)&&Cd.syncAdvancedStyleFields(e,n),o=n.control.rootControl.toJSON(),o["class"]===!1&&delete o["class"],e.undoManager.transact(function(){t||(t=Yd.insert(e,o.cols||1,o.rows||1)),Kd(e,t,o),r=i.select("caption",t)[0],r&&!o.caption&&i.remove(r),!r&&o.caption&&(r=i.create("caption"),r.innerHTML=Pd.ie?"":'<br data-mce-bogus="1"/>',t.insertBefore(r,t.firstChild)),hd.unApplyAlign(e,t),o.align&&hd.applyAlign(e,t,o.align),e.focus(),e.addVisual()})},$d=function(t,n){var r,o,i,u,a,c=t.dom,l={};n===!0?(r=c.getParent(t.selection.getStart(),"table"),r&&(l=Xd(t,r))):(o={label:"Cols",name:"cols"},i={label:"Rows",name:"rows"}),Js(t).length>0&&(l["class"]&&(l["class"]=l["class"].replace(/\s*mce\-item\-table\s*/g,"")),u={name:"class",type:"listbox",label:"Class",values:Cd.buildListItems(Js(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"table",classes:[e.value]})})})}),a={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:Gs(t)?[o,i,{label:"Width",name:"width",onchange:e(Cd.updateStyleField,t)},{label:"Height",name:"height",onchange:e(Cd.updateStyleField,t)},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[o,i,{label:"Width",name:"width",onchange:e(Cd.updateStyleField,t)},{label:"Height",name:"height",onchange:e(Cd.updateStyleField,t)}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},u]},qs(t)?t.windowManager.open({title:"Table properties",data:l,bodyType:"tabpanel",body:[{title:"General",type:"form",items:a},Cd.createStyleForm(t)],onsubmit:e(Jd,t,r)}):t.windowManager.open({title:"Table properties",data:l,body:a,onsubmit:e(Jd,t,r)})},Qd={open:$d},Zd=ld.each,em=function(t,n,r,o,i){var u=Ds(t),a=function(){var e=Ue.fromDom(t.dom.getParent(t.selection.getStart(),"th,td")),n=dr.table(e,u);n.filter(A(u)).each(function(e){var n=Ue.fromText("");Ir(e,n),zr(e);var r=t.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),t.selection.setRng(r)})},c=function(){return Ue.fromDom(t.dom.getParent(t.selection.getStart(),"th,td"))},l=function(e){return dr.table(e,u)},f=function(e){return{width:Ss(e.dom()),height:Ss(e.dom())}},s=function(e,t,n){var r=f(n);t.width===r.width&&t.height===r.height||(od(e,n.dom(),t.width,t.height),id(e,n.dom(),r.width,r.height))},d=function(e){var n=c(),i=l(n);i.each(function(i){var u=eu.forMenu(o,i,n),a=f(i);e(i,u).each(function(e){s(t,a,i),t.selection.setRng(e),t.focus(),r.clear(i),Os(i)})})},m=function(e){var n=c(),r=l(n);return r.bind(function(e){var r=Ue.fromDom(t.getDoc()),i=eu.forMenu(o,e,n),u=Co.cellOperations(S,r,H.none());return cd.copyRows(e,i,u)})},g=function(e){i.get().each(function(n){var i=J(n,function(e){return Zr(e)}),u=c(),a=l(u);a.bind(function(n){var a=Ue.fromDom(t.getDoc()),c=Co.paste(a),l=eu.pasteRows(o,n,u,i,c);e(n,l).each(function(e){t.selection.setRng(e),t.focus(),r.clear(n)})})})};Zd({mceTableSplitCells:function(){d(n.unmergeCells)},mceTableMergeCells:function(){d(n.mergeCells)},mceTableInsertRowBefore:function(){d(n.insertRowsBefore)},mceTableInsertRowAfter:function(){d(n.insertRowsAfter);
},mceTableInsertColBefore:function(){d(n.insertColumnsBefore)},mceTableInsertColAfter:function(){d(n.insertColumnsAfter)},mceTableDeleteCol:function(){d(n.deleteColumn)},mceTableDeleteRow:function(){d(n.deleteRow)},mceTableCutRow:function(e){i.set(m()),d(n.deleteRow)},mceTableCopyRow:function(e){i.set(m())},mceTablePasteRowBefore:function(e){g(n.pasteRowsBefore)},mceTablePasteRowAfter:function(e){g(n.pasteRowsAfter)},mceTableDelete:a},function(e,n){t.addCommand(n,e)}),Zd({mceInsertTable:e(Qd.open,t),mceTableProps:e(Qd.open,t,!0),mceTableRowProps:e(Nd.open,t),mceTableCellProps:e(kd.open,t)},function(e,n){t.addCommand(n,function(t,n){e(n)})})},tm={registerCommands:em},nm=function(e){var t=H.from(e.dom().documentElement).map(Ue.fromDom).getOr(e);return{parent:D(t),view:D(e),origin:D(Xu(0,0))}},rm=function(t,n){var r=e($u,n);return{parent:D(n),view:D(t),origin:r}},om=function(e,t){return{parent:D(t),view:D(e),origin:D(Xu(0,0))}},im={only:nm,detached:rm,body:om},um=function(e){var t=ge(e,function(e){return{bind:e.bind,unbind:e.unbind}}),n=ge(e,function(e){return e.trigger});return{registry:t,trigger:n}},am={create:um},cm=xa(["compare","extract","mutate","sink"]),lm=xa(["element","start","stop","destroy"]),fm=xa(["forceDrop","drop","move","delayDrop"]),sm={mode:cm,sink:lm,api:fm},dm=Ic("ephox-dragster"),mm={resolve:dm.resolve},gm=function(e,t,n,r,o,i,u){return{target:D(e),x:D(t),y:D(n),stop:r,prevent:o,kill:i,raw:D(u)}},hm=function(e,t){return function(n){if(e(n)){var r=Ue.fromDom(n.target),o=function(){n.stopPropagation()},i=function(){n.preventDefault()},u=T(i,o),a=gm(r,n.clientX,n.clientY,o,i,u,n);t(a)}}},vm=function(t,n,r,o,i){var u=hm(r,o);return t.dom().addEventListener(n,u,i),{unbind:e(bm,t,n,u,i)}},pm=function(e,t,n,r){return vm(e,t,n,r,!1)},bm=function(e,t,n,r){e.dom().removeEventListener(t,n,r)},wm=D(!0),ym=function(e,t,n){return pm(e,t,wm,n)},xm=function(e,t){return Xu(t.left()-e.left(),t.top()-e.top())},Cm=function(e){return H.some(Xu(e.x(),e.y()))},Rm=function(e,t){e.mutate(t.left(),t.top())},Sm=function(e,t){var n=f(t),r=ym(n.element(),"mousedown",e.forceDrop),o=ym(n.element(),"mouseup",e.drop),i=ym(n.element(),"mousemove",e.move),u=ym(n.element(),"mouseout",e.delayDrop),a=function(){n.destroy(),o.unbind(),i.unbind(),u.unbind(),r.unbind()},c=function(e){Mr(e,n.element())},l=function(){zr(n.element())};return sm.sink({element:n.element,start:c,stop:l,destroy:a})},Tm=sm.mode({compare:xm,extract:Cm,sink:Sm,mutate:Rm}),Dm=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout(function(){e.apply(null,r),n=null},t)};return{cancel:r,throttle:o}},km=function(e,t,n){var r=!1,o=am.create({start:l([]),stop:l([])}),i=m(),u=function(){h.stop(),i.isOn()&&(i.off(),o.trigger.stop())},a=Dm(u,200),c=function(e){h.start(e),i.on(),o.trigger.start()},f=function(e,n){a.cancel(),i.onEvent(e,t)};i.events.move.bind(function(n){t.mutate(e,n.info())});var s=function(){r=!0},d=function(){r=!1},g=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);if(r)return e.apply(null,t)}},h=t.sink(sm.api({forceDrop:u,drop:g(u),move:g(f),delayDrop:g(a.throttle)}),n),v=function(){h.destroy()};return{element:h.element,go:c,on:s,off:d,destroy:v,events:o.registry}},Am={setup:km},Om=function(e,t){var n=void 0!==t?t:{},r=void 0!==n.mode?n.mode:Tm;return Am.setup(e,r,t)},Em={transform:Om},Nm=function(e,t,n){return Qn(e,t,n).isSome()},Pm=Mc.resolve("resizer-bar-dragging"),Bm=function(){var e=Ue.fromTag("div");return kr(e,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Mr(Ln(),e),e},Im=function(e,t){return e.inline?im.body(Rs(e),Bm()):im.only(Ue.fromDom(e.getDoc()))},Wm=function(e,t){e.inline&&zr(t.parent())},Mm={get:Im,remove:Wm},Lm=function(e){var t,n,r=H.none(),o=H.none(),u=H.none(),a=/(\d+(\.\d+)?)%/,c=function(e){return"TABLE"===e.nodeName},l=function(t){return e.dom.getStyle(t,"width")||e.dom.getAttrib(t,"width")},f=function(){return o},s=function(){return u.getOr(im.only(Ue.fromDom(e.getBody())))},d=function(){o.each(function(e){e.destroy()}),u.each(function(t){Mm.remove(e,t)})};return e.on("init",function(){var t=i(Is.directionAt),n=Mm.get(e);if(u=H.some(n),ed(e)&&js(e)){var a=p(n,t);a.on(),a.events.startDrag.bind(function(t){r=H.some(e.selection.getRng())}),a.events.beforeResize.bind(function(t){var n=t.table().dom();od(e,n,Ss(n),Ts(n))}),a.events.afterResize.bind(function(t){var n=t.table(),o=n.dom();Os(n),r.each(function(t){e.selection.setRng(t),e.focus()}),id(e,o,Ss(o),Ts(o)),e.undoManager.add()}),o=H.some(a)}}),e.on("ObjectResizeStart",function(e){var r=e.target;c(r)&&(t=e.width,n=l(r))}),e.on("ObjectResized",function(r){var o=r.target;if(c(o)){var i=o;if(a.test(n)){var u=parseFloat(a.exec(n)[1]),l=r.width*u/t;e.dom.setStyle(i,"width",l+"%")}else{var f=[];ld.each(i.rows,function(t){ld.each(t.cells,function(t){var n=e.dom.getStyle(t,"width",!0);f.push({cell:t,width:n})})}),ld.each(f,function(t){e.dom.setStyle(t.cell,"width",t.width),e.dom.setAttrib(t.cell,"width",null)})}}}),{lazyResize:f,lazyWire:s,destroy:d}},_m=function(e){return zm(function(t,n,r,o){return t(e)})},Hm=function(e){return zm(function(t,n,r,o){return n(e)})},jm=function(e,t){return zm(function(n,r,o,i){return o(e,t)})},Fm=function(e){return zm(function(t,n,r,o){return o(e)})},zm=function(e){return{fold:e}},Um={none:_m,first:Hm,middle:jm,last:Fm},qm=function(e,t){return dr.table(e,t).bind(function(t){var n=dr.cells(t),r=re(n,function(t){return rn(e,t)});return r.map(function(e){return{index:D(e),all:D(n)}})})},Gm=function(e,t){var n=qm(e,t);return n.fold(function(){return Um.none(e)},function(t){return t.index()+1<t.all().length?Um.middle(e,t.all()[t.index()+1]):Um.last(e)})},Vm=function(e,t){var n=qm(e,t);return n.fold(function(){return Um.none()},function(t){return t.index()-1>=0?Um.middle(e,t.all()[t.index()-1]):Um.first(e)})},Ym={next:Gm,prev:Vm},Xm=Fi.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Km=function(e,t,n,r){return e.fold(t,n,r)},Jm=function(e){return e.fold(k,k,k)},$m=Xm.before,Qm=Xm.on,Zm=Xm.after,eg={before:$m,on:Qm,after:Zm,cata:Km,getStart:Jm},tg=Fi.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),ng=ve("start","soffset","finish","foffset"),rg=function(e){return e.match({domRange:function(e){return Ue.fromDom(e.startContainer)},relative:function(e,t){return eg.getStart(e)},exact:function(e,t,n,r){return e}})},og=function(e){var t=rg(e);return sn(t)},ig=(tg.domRange,tg.relative),ug=tg.exact,ag=function(e,t,n,r){var o=fn(e),i=o.dom().createRange();return i.setStart(e.dom(),t),i.setEnd(n.dom(),r),i},cg=function(e,t,n,r){var o=ag(e,t,n,r),i=rn(e,n)&&t===r;return o.collapsed&&!i},lg=function(e,t){var n=e.document.createRange();return fg(n,t),n},fg=function(e,t){e.selectNodeContents(t.dom())},sg=function(e,t){t.fold(function(t){e.setStartBefore(t.dom())},function(t,n){e.setStart(t.dom(),n)},function(t){e.setStartAfter(t.dom())})},dg=function(e,t){t.fold(function(t){e.setEndBefore(t.dom())},function(t,n){e.setEnd(t.dom(),n)},function(t){e.setEndAfter(t.dom())})},mg=function(e,t,n){var r=e.document.createRange();return sg(r,t),dg(r,n),r},gg=function(e,t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},hg=function(e){return{left:D(e.left),top:D(e.top),right:D(e.right),bottom:D(e.bottom),width:D(e.width),height:D(e.height)}},vg=function(e){var t=e.getClientRects(),n=t.length>0?t[0]:e.getBoundingClientRect();return n.width>0||n.height>0?H.some(n).map(hg):H.none()},pg=Fi.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),bg=function(e,t,n){return t(Ue.fromDom(n.startContainer),n.startOffset,Ue.fromDom(n.endContainer),n.endOffset)},wg=function(e,t){return t.match({domRange:function(e){return{ltr:D(e),rtl:H.none}},relative:function(t,n){return{ltr:st(function(){return mg(e,t,n)}),rtl:st(function(){return H.some(mg(e,n,t))})}},exact:function(t,n,r,o){return{ltr:st(function(){return gg(e,t,n,r,o)}),rtl:st(function(){return H.some(gg(e,r,o,t,n))})}}})},yg=function(e,t){var n=t.ltr();if(n.collapsed){var r=t.rtl().filter(function(e){return e.collapsed===!1});return r.map(function(e){return pg.rtl(Ue.fromDom(e.endContainer),e.endOffset,Ue.fromDom(e.startContainer),e.startOffset)}).getOrThunk(function(){return bg(e,pg.ltr,n)})}return bg(e,pg.ltr,n)},xg=function(e,t){var n=wg(e,t);return yg(e,n)},Cg=function(e,t){var n=xg(e,t);return n.match({ltr:function(t,n,r,o){var i=e.document.createRange();return i.setStart(t.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(t,n,r,o){var i=e.document.createRange();return i.setStart(r.dom(),o),i.setEnd(t.dom(),n),i}})},Rg=(pg.ltr,pg.rtl,function(e,t,n,r,o){if(0===o)return 0;if(t===r)return o-1;for(var i=r,u=1;u<o;u++){var a=e(u),c=Math.abs(t-a.left);if(n<=a.bottom){if(n<a.top||c>i)return u-1;i=c}}return 0}),Sg=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Tg=function(e,t,n,r,o){var i=function(n){var r=e.dom().createRange();return r.setStart(t.dom(),n),r.collapse(!0),r},u=function(e){var t=i(e);return t.getBoundingClientRect()},a=ro(t).length,c=Rg(u,n,r,o.right,a);return i(c)},Dg=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getClientRects(),u=tc(i,function(e){return Sg(e,n,r)?H.some(e):H.none()});return u.map(function(o){return Tg(e,t,n,r,o)})},kg=function(e,t,n,r){var o=e.dom().createRange(),i=vn(t);return tc(i,function(t){return o.selectNode(t.dom()),Sg(o.getBoundingClientRect(),n,r)?Ag(e,t,n,r):H.none()})},Ag=function(e,t,n,r){var o=kn(t)?Dg:kg;return o(e,t,n,r)},Og=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),u=Math.max(i.left,Math.min(i.right,n)),a=Math.max(i.top,Math.min(i.bottom,r));return Ag(e,t,u,a)},Eg=!0,Ng=!1,Pg=function(e,t){return t-e.left<e.right-t?Eg:Ng},Bg=function(e,t,n){var r=e.dom().createRange();return r.selectNode(t.dom()),r.collapse(n),r},Ig=function(e,t,n){var r=e.dom().createRange();r.selectNode(t.dom());var o=r.getBoundingClientRect(),i=Pg(o,n),u=i===Eg?so:mo;return u(t).map(function(t){return Bg(e,t,i)})},Wg=function(e,t,n){var r=t.dom().getBoundingClientRect(),o=Pg(r,n);return H.some(Bg(e,t,o))},Mg=function(e,t,n){var r=0===vn(t).length?Wg:Ig;return r(e,t,n)},Lg=function(e,t,n){return H.from(e.dom().caretPositionFromPoint(t,n)).bind(function(t){if(null===t.offsetNode)return H.none();var n=e.dom().createRange();return n.setStart(t.offsetNode,t.offset),n.collapse(),H.some(n)})},_g=function(e,t,n){return H.from(e.dom().caretRangeFromPoint(t,n))},Hg=function(e,t,n,r){var o=e.dom().createRange();o.selectNode(t.dom());var i=o.getBoundingClientRect(),u=Math.max(i.left,Math.min(i.right,n)),a=Math.max(i.top,Math.min(i.bottom,r));return Og(e,t,u,a)},jg=function(e,t,n){return Ue.fromPoint(e,t,n).bind(function(r){var o=function(){return Mg(e,r,t)};return 0===vn(r).length?o():Hg(e,r,t,n).orThunk(o)})},Fg=document.caretPositionFromPoint?Lg:document.caretRangeFromPoint?_g:jg,zg=function(e,t,n){var r=Ue.fromDom(e.document);return Fg(r,t,n).map(function(e){return ng(Ue.fromDom(e.startContainer),e.startOffset,Ue.fromDom(e.endContainer),e.endOffset)})},Ug=function(e,t){var n=Cn(e);return"input"===n?eg.after(e):X(["br","img"],n)?0===t?eg.before(e):eg.after(e):eg.on(e,t)},qg=function(e,t){var n=e.fold(eg.before,Ug,eg.after),r=t.fold(eg.before,Ug,eg.after);return ig(n,r)},Gg=function(e,t,n,r){var o=Ug(e,t),i=Ug(n,r);return ig(o,i)},Vg=function(e){return e.match({domRange:function(e){var t=Ue.fromDom(e.startContainer),n=Ue.fromDom(e.endContainer);return Gg(t,e.startOffset,n,e.endOffset)},relative:qg,exact:Gg})},Yg=function(e,t){H.from(e.getSelection()).each(function(e){e.removeAllRanges(),e.addRange(t)})},Xg=function(e,t,n,r,o){var i=gg(e,t,n,r,o);Yg(e,i)},Kg=function(e,t,n,r,o,i){t.collapse(n.dom(),r),t.extend(o.dom(),i)},Jg=function(e,t){return xg(e,t).match({ltr:function(t,n,r,o){Xg(e,t,n,r,o)},rtl:function(t,n,r,o){var i=e.getSelection();if(i.setBaseAndExtent)i.setBaseAndExtent(t.dom(),n,r.dom(),o);else if(i.extend)try{Kg(e,i,t,n,r,o)}catch(u){Xg(e,r,o,t,n)}else Xg(e,r,o,t,n)}})},$g=function(e,t,n,r,o){var i=Gg(t,n,r,o);Jg(e,i)},Qg=function(e,t,n){var r=qg(t,n);Jg(e,r)},Zg=function(e){var t=og(e).dom(),n=function(e,n,r,o){return gg(t,e,n,r,o)},r=Vg(e);return xg(t,r).match({ltr:n,rtl:n})},eh=function(e){if(e.rangeCount>0){var t=e.getRangeAt(0),n=e.getRangeAt(e.rangeCount-1);return H.some(ng(Ue.fromDom(t.startContainer),t.startOffset,Ue.fromDom(n.endContainer),n.endOffset))}return H.none()},th=function(e){var t=Ue.fromDom(e.anchorNode),n=Ue.fromDom(e.focusNode);return cg(t,e.anchorOffset,n,e.focusOffset)?H.some(ng(Ue.fromDom(e.anchorNode),e.anchorOffset,Ue.fromDom(e.focusNode),e.focusOffset)):eh(e)},nh=function(e,t){var n=lg(e,t);Yg(e,n)},rh=function(e){return H.from(e.getSelection()).filter(function(e){return e.rangeCount>0}).bind(th)},oh=function(e){return rh(e).map(function(e){return ug(e.start(),e.soffset(),e.finish(),e.foffset())})},ih=function(e,t){var n=Cg(e,t);return vg(n)},uh=function(e,t,n){return zg(e,t,n)},ah=function(e){var t=e.getSelection();t.removeAllRanges()},ch=tinymce.util.Tools.resolve("tinymce.util.VK"),lh=function(e,t,n,r){return mh(e,t,Ym.next(n),r)},fh=function(e,t,n,r){return mh(e,t,Ym.prev(n),r)},sh=function(e,t){var n=ug(t,0,t,0);return Zg(n)},dh=function(e,t){var n=qn(t,"tr");return se(n).bind(function(t){return $n(t,"td,th").map(function(t){return sh(e,t)})})},mh=function(e,t,n,r,o){return n.fold(H.none,H.none,function(t,n){return so(n).map(function(t){return sh(e,t)})},function(n){return dr.table(n,t).bind(function(t){var o=eu.noMenu(n);return e.undoManager.transact(function(){r.insertRowsAfter(t,o)}),dh(e,t)})})},gh=["table","li","dl"],hh=function(e,t,n,r){if(e.keyCode===ch.TAB){var o=Rs(t),i=function(e){var t=Cn(e);return rn(e,o)||X(gh,t)},u=t.selection.getRng();if(u.collapsed){var a=Ue.fromDom(u.startContainer);dr.cell(a,i).each(function(o){e.preventDefault();var u=e.shiftKey?fh:lh,a=u(t,i,o,n,r);a.each(function(e){t.selection.setRng(e)})})}}},vh={handle:hh},ph=ve("selection","kill"),bh={response:ph},wh=function(e){return function(t){return t===e}},yh=wh(38),xh=wh(40),Ch=function(e){return e>=37&&e<=40},Rh={ltr:{isBackward:wh(37),isForward:wh(39)},rtl:{isBackward:wh(39),isForward:wh(37)},isUp:yh,isDown:xh,isNavigation:Ch},Sh=function(e,t){var n=Cg(e,t);return{start:D(Ue.fromDom(n.startContainer)),soffset:D(n.startOffset),finish:D(Ue.fromDom(n.endContainer)),foffset:D(n.endOffset)}},Th=function(e,t,n,r){return{start:D(eg.on(e,t)),finish:D(eg.on(n,r))}},Dh={convertToRange:Sh,makeSitus:Th},kh=(nn.detect().browser.isSafari(),function(e){var t=void 0!==e?e.dom():document,n=t.body.scrollLeft||t.documentElement.scrollLeft,r=t.body.scrollTop||t.documentElement.scrollTop;return Xu(n,r)}),Ah=function(e,t,n){var r=void 0!==n?n.dom():document,o=r.defaultView;o.scrollBy(e,t)},Oh=function(e,t,n,r,o,i,u){return rn(n,o)&&r===i?H.none():Qn(n,"td,th",t).bind(function(n){return Qn(o,"td,th",t).bind(function(r){return Eh(e,t,n,r,u)})})},Eh=function(e,t,n,r,o){return rn(n,r)?H.none():Ai.identify(n,r,t).bind(function(t){var r=t.boxes().getOr([]);return r.length>0?(o(e,r,t.start(),t.finish()),H.some(bh.response(H.some(Dh.makeSitus(n,0,n,uo(n))),!0))):H.none()})},Nh=function(e,t,n,r,o){var i=function(e){return o.clear(n),o.selectRange(n,e.boxes(),e.start(),e.finish()),e.boxes()};return Ai.shiftSelection(r,e,t,o.firstSelectedSelector(),o.lastSelectedSelector()).map(i)},Ph={sync:Oh,detect:Eh,update:Nh},Bh=Re(["left","top","right","bottom"],[]),Ih=function(e,t){return Bh({left:e.left(),top:e.top()+t,right:e.right(),bottom:e.bottom()+t})},Wh=function(e,t){return Bh({left:e.left(),top:e.top()-t,right:e.right(),bottom:e.bottom()-t})},Mh=function(e,t){var n=e.bottom()-e.top();return Bh({left:e.left(),top:t-n,right:e.right(),bottom:t})},Lh=function(e,t){var n=e.bottom()-e.top();return Bh({left:e.left(),top:t,right:e.right(),bottom:t+n})},_h=function(e,t,n){return Bh({left:e.left()+t,top:e.top()+n,right:e.right()+t,bottom:e.bottom()+n})},Hh=function(e){return e.top()},jh=function(e){return e.bottom()},Fh=function(e){return"("+e.left()+", "+e.top()+") -> ("+e.right()+", "+e.bottom()+")"},zh={nu:Bh,moveUp:Wh,moveDown:Ih,moveBottomTo:Mh,moveTopTo:Lh,getTop:Hh,getBottom:jh,translate:_h,toString:Fh},Uh=function(e,t,n){return n>=0&&n<uo(t)?e.getRangedRect(t,n,t,n+1):n>0?e.getRangedRect(t,n-1,t,n):H.none()},qh=function(e){return zh.nu({left:e.left,top:e.top,right:e.right,bottom:e.bottom})},Gh=function(e,t){return H.some(e.getRect(t))},Vh=function(e,t,n){return Dn(t)?Gh(e,t).map(qh):kn(t)?Uh(e,t,n).map(qh):H.none()},Yh=function(e,t){return Dn(t)?Gh(e,t).map(qh):kn(t)?e.getRangedRect(t,0,t,uo(t)).map(qh):H.none()},Xh={getBoxAt:Vh,getEntireBox:Yh},Kh=ve("item","mode"),Jh=function(e,t,n,r){var o=void 0!==r?r:$h;return e.property().parent(t).map(function(e){return Kh(e,o)})},$h=function(e,t,n,r){var o=void 0!==r?r:Qh;return n.sibling(e,t).map(function(e){return Kh(e,o)})},Qh=function(e,t,n,r){var o=void 0!==r?r:Qh,i=e.property().children(t),u=n.first(i);return u.map(function(e){return Kh(e,o)})},Zh=[{current:Jh,next:$h,fallback:H.none()},{current:$h,next:Qh,fallback:H.some(Jh)},{current:Qh,next:Qh,fallback:H.some($h)}],ev=function(e,t,n,r,o){var o=void 0!==o?o:Zh,i=ne(o,function(e){return e.current===n});return i.bind(function(n){return n.current(e,t,r,n.next).orThunk(function(){return n.fallback.bind(function(n){return ev(e,t,n,r)})})})},tv={backtrack:Jh,sidestep:$h,advance:Qh,go:ev},nv=function(){var e=function(e,t){return e.query().prevSibling(t)},t=function(e){return e.length>0?H.some(e[e.length-1]):H.none()};return{sibling:e,first:t}},rv=function(){var e=function(e,t){return e.query().nextSibling(t)},t=function(e){return e.length>0?H.some(e[0]):H.none()};return{sibling:e,first:t}},ov={left:nv,right:rv},iv=function(e,t,n,r,o,i){var u=tv.go(e,t,r,o);return u.bind(function(t){return i(t.item())?H.none():n(t.item())?H.some(t.item()):iv(e,t.item(),n,t.mode(),o,i)})},uv=function(e,t,n,r){return iv(e,t,n,tv.sidestep,ov.left(),r)},av=function(e,t,n,r){return iv(e,t,n,tv.sidestep,ov.right(),r)},cv={left:uv,right:av},lv=function(e,t){return 0===e.property().children(t).length},fv=function(t,n,r){return dv(t,n,e(lv,t),r)},sv=function(t,n,r){return mv(t,n,e(lv,t),r)},dv=function(e,t,n,r){return cv.left(e,t,n,r)},mv=function(e,t,n,r){return cv.right(e,t,n,r)},gv=function(){return{left:ov.left,right:ov.right}},hv=function(e,t,n,r,o){return tv.go(e,t,n,r,o)},vv={before:fv,after:sv,seekLeft:dv,seekRight:mv,walkers:gv,walk:hv,backtrack:tv.backtrack,sidestep:tv.sidestep,advance:tv.advance},pv=r(),bv=function(e,t,n){return vv.gather(pv,e,t,n)},wv=function(e,t){return vv.before(pv,e,t)},yv=function(e,t){return vv.after(pv,e,t)},xv=function(e,t,n){return vv.seekLeft(pv,e,t,n)},Cv=function(e,t,n){return vv.seekRight(pv,e,t,n)},Rv=function(){return vv.walkers()},Sv=function(e,t,n,r){return vv.walk(pv,e,t,n,r)},Tv={gather:bv,before:wv,after:yv,seekLeft:xv,seekRight:Cv,walkers:Rv,walk:Sv},Dv=5,kv=100,Av=Fi.generate([{none:[]},{retry:["caret"]}]),Ov=function(e,t){return e.left()<t.left()||Math.abs(t.right()-e.left())<1||e.left()>t.right()},Ev=function(e,t,n){return Vn(t,Ya.isBlock).fold(D(!1),function(t){return Xh.getEntireBox(e,t).exists(function(e){return Ov(n,e)})})},Nv=function(e,t,n,r,o){var i=zh.moveDown(o,Dv);return Math.abs(n.bottom()-r.bottom())<1?Av.retry(i):n.top()>o.bottom()?Av.retry(i):n.top()===o.bottom()?Av.retry(zh.moveDown(o,1)):Ev(e,t,o)?Av.retry(zh.translate(i,Dv,0)):Av.none()},Pv=function(e,t,n,r,o){var i=zh.moveUp(o,Dv);return Math.abs(n.top()-r.top())<1?Av.retry(i):n.bottom()<o.top()?Av.retry(i):n.bottom()===o.top()?Av.retry(zh.moveUp(o,1)):Ev(e,t,o)?Av.retry(zh.translate(i,Dv,0)):Av.none()},Bv={point:zh.getTop,adjuster:Pv,move:zh.moveUp,gather:Tv.before},Iv={point:zh.getBottom,adjuster:Nv,move:zh.moveDown,gather:Tv.after},Wv=function(e,t,n){return e.elementFromPoint(t,n).filter(function(e){return"table"===Cn(e)}).isSome()},Mv=function(e,t,n,r,o){return Lv(e,t,n,t.move(r,Dv),o)},Lv=function(e,t,n,r,o){return 0===o?H.some(r):Wv(e,r.left(),t.point(r))?Mv(e,t,n,r,o-1):e.situsFromPoint(r.left(),t.point(r)).bind(function(i){return i.start().fold(H.none,function(i,u){return Xh.getEntireBox(e,i,u).bind(function(u){return t.adjuster(e,i,u,n,r).fold(H.none,function(r){return Lv(e,t,n,r,o-1)})}).orThunk(function(){return H.some(r)})},H.none)})},_v=function(e,t){return e.situsFromPoint(t.left(),t.bottom()+Dv)},Hv=function(e,t){return e.situsFromPoint(t.left(),t.top()-Dv)},jv=function(e,t,n){return e.point(t)>n.getInnerHeight()?H.some(e.point(t)-n.getInnerHeight()):e.point(t)<0?H.some(-e.point(t)):H.none()},Fv=function(e,t,n){var r=e.move(n,Dv),o=Lv(t,e,n,r,kv).getOr(r);return jv(e,o,t).fold(function(){return t.situsFromPoint(o.left(),e.point(o))},function(n){return t.scrollBy(0,n),t.situsFromPoint(o.left(),e.point(o)-n)})},zv={tryUp:e(Fv,Bv),tryDown:e(Fv,Iv),ieTryUp:Hv,ieTryDown:_v,getJumpSize:D(Dv)},Uv=Fi.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),qv=function(e,t,n){var r=e.getRect(t),o=e.getRect(n);return o.right>r.left&&o.left<r.right},Gv=function(e,t,n,r,o,i,u){return Qn(r,"td,th",u).bind(function(n){return Qn(t,"td,th",u).map(function(t){return rn(n,t)?rn(r,n)&&uo(n)===o?i(t):Uv.none("in same cell"):ti.sharedOne(Vv,[n,t]).fold(function(){return qv(e,t,n)?Uv.success():i(t)},function(e){return i(t)})})}).getOr(Uv.none("default"))},Vv=function(e){return Qn(e,"tr")},Yv=function(e,t,n,r,o){return e.fold(t,n,r,o)},Xv={verify:Gv,cata:Yv,adt:Uv},Kv=ve("element","offset"),Jv=ve("element","deltaOffset"),$v=ve("element","start","finish"),Qv=ve("begin","end"),Zv=ve("element","text"),ep={point:Kv,delta:Jv,range:$v,points:Qv,text:Zv},tp=(ve("ancestor","descendants","element","index"),ve("parent","children","element","index")),np=function(e){return dn(e).bind(function(t){var n=vn(t);return rp(n,e).map(function(r){return tp(t,n,e,r)})})},rp=function(t,n){return re(t,e(rn,n))},op=function(e){return"br"===Cn(e)},ip=function(e,t,n){return t(e,n).bind(function(e){return kn(e)&&0===ro(e).trim().length?ip(e,t,n):H.some(e)})},up=function(e,t,n){return n.traverse(t).orThunk(function(){return ip(t,n.gather,e)}).map(n.relative)},ap=function(e,t){return pn(e,t).filter(op).orThunk(function(){return pn(e,t-1).filter(op)})},cp=function(e,t,n,r){return ap(t,n).bind(function(t){return r.traverse(t).fold(function(){return ip(t,r.gather,e).map(r.relative)},function(e){return np(e).map(function(e){return eg.on(e.parent(),e.index())})})})},lp=function(e,t,n,r){var o=op(t)?up(e,t,r):cp(e,t,n,r);return o.map(function(e){return{start:D(e),finish:D(e)}})},fp=function(e){return Xv.cata(e,function(e){return H.none()},function(){return H.none()},function(e){return H.some(ep.point(e,0))},function(e){return H.some(ep.point(e,uo(e)))})},sp={tryBr:lp,process:fp},dp=20,mp=nn.detect(),gp=function(e,t,n){return e.getSelection().bind(function(r){return sp.tryBr(t,r.finish(),r.foffset(),n).fold(function(){return H.some(ep.point(r.finish(),r.foffset()))},function(o){var i=e.fromSitus(o),u=Xv.verify(e,r.finish(),r.foffset(),i.finish(),i.foffset(),n.failure,t);return sp.process(u)})})},hp=function(e,t,n,r,o,i){return 0===i?H.none():bp(e,t,n,r,o).bind(function(u){var a=e.fromSitus(u),c=Xv.verify(e,n,r,a.finish(),a.foffset(),o.failure,t);return Xv.cata(c,function(){return H.none()},function(){return H.some(u)},function(u){return rn(n,u)&&0===r?vp(e,n,r,zh.moveUp,o):hp(e,t,u,0,o,i-1)},function(u){return rn(n,u)&&r===uo(u)?vp(e,n,r,zh.moveDown,o):hp(e,t,u,uo(u),o,i-1)})})},vp=function(e,t,n,r,o){return Xh.getBoxAt(e,t,n).bind(function(t){return pp(e,o,r(t,zv.getJumpSize()))})},pp=function(e,t,n){return mp.browser.isChrome()||mp.browser.isSafari()||mp.browser.isFirefox()||mp.browser.isEdge()?t.otherRetry(e,n):mp.browser.isIE()?t.ieRetry(e,n):H.none()},bp=function(e,t,n,r,o){return Xh.getBoxAt(e,n,r).bind(function(t){return pp(e,o,t)})},wp=function(e,t,n){return gp(e,t,n).bind(function(r){return hp(e,t,r.element(),r.offset(),n,dp).map(e.fromSitus)})},yp={handle:wp},xp=function(e,t,n){return Gn(e,t,n).isSome()},Cp=nn.detect(),Rp=function(e,t){return xp(e,function(e){return dn(e).exists(function(e){return rn(e,t)})})},Sp=function(e,t,n,r,o){return Qn(r,"td,th",t).bind(function(r){return Qn(r,"table",t).bind(function(i){return Rp(o,i)?yp.handle(e,t,n).bind(function(e){return Qn(e.finish(),"td,th",t).map(function(t){return{start:D(r),finish:D(t),range:D(e)}})}):H.none()})})},Tp=function(e,t,n,r,o,i){return Cp.browser.isIE()?H.none():i(r,t).orThunk(function(){return Sp(e,t,n,r,o).map(function(e){var t=e.range();return bh.response(H.some(Dh.makeSitus(t.start(),t.soffset(),t.finish(),t.foffset())),!0)})})},Dp=function(e,t){return Qn(e,"tr",t).bind(function(e){return Qn(e,"table",t).bind(function(n){var r=qn(n,"tr");return rn(e,r[0])?Tv.seekLeft(n,function(e){return mo(e).isSome()},t).map(function(e){var t=uo(e);return bh.response(H.some(Dh.makeSitus(e,t,e,t)),!0)}):H.none()})})},kp=function(e,t){return Qn(e,"tr",t).bind(function(e){return Qn(e,"table",t).bind(function(n){var r=qn(n,"tr");return rn(e,r[r.length-1])?Tv.seekRight(n,function(e){return so(e).isSome()},t).map(function(e){return bh.response(H.some(Dh.makeSitus(e,0,e,0)),!0)}):H.none()})})},Ap=function(e,t,n,r,o,i,u){return Sp(e,n,r,o,i).bind(function(e){return Ph.detect(t,n,e.start(),e.finish(),u)})},Op={navigate:Tp,select:Ap,firstUpCheck:Dp,lastDownCheck:kp},Ep=function(e,t){return Qn(e,"td,th",t)},Np={down:{traverse:hn,gather:Tv.after,relative:eg.before,otherRetry:zv.tryDown,ieRetry:zv.ieTryDown,failure:Xv.adt.failedDown},up:{traverse:gn,gather:Tv.before,relative:eg.before,otherRetry:zv.tryUp,ieRetry:zv.ieTryUp,failure:Xv.adt.failedUp}},Pp=ve("rows","cols"),Bp=function(e,t,n,r){var o=b(e),i=w(o,t,n,r);return{mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},Ip=function(t,n,r,o){var i=b(t),u=function(){return o.clear(n),H.none()},a=function(t,a,c,l,f,s){var d=t.raw().which,m=t.raw().shiftKey===!0,g=Ai.retrieve(n,o.selectedSelector()).fold(function(){return Rh.isDown(d)&&m?e(Op.select,i,n,r,Np.down,l,a,o.selectRange):Rh.isUp(d)&&m?e(Op.select,i,n,r,Np.up,l,a,o.selectRange):Rh.isDown(d)?e(Op.navigate,i,r,Np.down,l,a,Op.lastDownCheck):Rh.isUp(d)?e(Op.navigate,i,r,Np.up,l,a,Op.firstUpCheck):H.none},function(e){var t=function(t){return function(){var r=tc(t,function(t){return Ph.update(t.rows(),t.cols(),n,e,o)});return r.fold(function(){return Ai.getEdges(n,o.firstSelectedSelector(),o.lastSelectedSelector()).map(function(e){var t=Rh.isDown(d)||s.isForward(d)?eg.after:eg.before;return i.setRelativeSelection(eg.on(e.first(),0),t(e.table())),o.clear(n),bh.response(H.none(),!0)})},function(e){return H.some(bh.response(H.none(),!0))})}};return Rh.isDown(d)&&m?t([Pp(1,0)]):Rh.isUp(d)&&m?t([Pp(-1,0)]):s.isBackward(d)&&m?t([Pp(0,-1),Pp(-1,0)]):s.isForward(d)&&m?t([Pp(0,1),Pp(1,0)]):Rh.isNavigation(d)&&m===!1?u:H.none});return g()},c=function(e,t,i,u,a){return Ai.retrieve(n,o.selectedSelector()).fold(function(){var c=e.raw().which,l=e.raw().shiftKey===!0;return l===!1?H.none():Rh.isNavigation(c)?Ph.sync(n,r,t,i,u,a,o.selectRange):H.none()},H.none)};return{keydown:a,keyup:c}},Wp={mouse:Bp,keyboard:Ip},Mp=function(e,t){$(t,function(t){Vc(e,t)})},Lp=function(e){return function(t){qc(t,e)}},_p=function(e){return function(t){Mp(t,e)}},Hp=function(e){var t=Lp(e.selected()),n=_p([e.selected(),e.lastSelected(),e.firstSelected()]),r=function(t){var r=qn(t,e.selectedSelector());$(r,n)},o=function(n,o,i,u){r(n),$(o,t),qc(i,e.firstSelected()),qc(u,e.lastSelected())};return{clear:r,selectRange:o,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},jp=function(e){var t=function(t){In(t,e.selected()),In(t,e.firstSelected()),In(t,e.lastSelected())},n=function(t){En(t,e.selected(),"1")},r=function(n){var r=qn(n,e.selectedSelector());$(r,t)},o=function(t,o,i,u){r(t),$(o,n),En(i,e.firstSelected(),"1"),En(u,e.lastSelected(),"1")};return{clear:r,selectRange:o,selectedSelector:e.selectedSelector,firstSelectedSelector:e.firstSelectedSelector,lastSelectedSelector:e.lastSelectedSelector}},Fp={byClass:Hp,byAttr:jp},zp=function(e){return Yc(Ue.fromDom(e.target),"ephox-snooker-resizer-bar")===!1},Up=function(e){var t=function(){var t=Rs(e);return Ni.retrieve(t,Hi.selectedSelector()).fold(function(){return void 0===e.selection.getStart()?qi.none():qi.single(e.selection)},function(e){return qi.multiple(e)})};return{get:t}},qp=ld.each,Gp=function(e){function t(t){return function(){e.execCommand(t)}}var n=[];qp("inserttable tableprops deletetable | cell row column".split(" "),function(t){"|"===t?n.push({text:"-"}):n.push(e.menuItems[t])}),e.addButton("table",{type:"menubutton",title:"Table",menu:n}),e.addButton("tableprops",{title:"Table properties",onclick:t("mceTableProps"),icon:"table"}),e.addButton("tabledelete",{title:"Delete table",onclick:t("mceTableDelete")}),e.addButton("tablecellprops",{title:"Cell properties",onclick:t("mceTableCellProps")}),e.addButton("tablemergecells",{title:"Merge cells",onclick:t("mceTableMergeCells")}),e.addButton("tablesplitcells",{title:"Split cell",onclick:t("mceTableSplitCells")}),e.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:t("mceTableInsertRowBefore")}),e.addButton("tableinsertrowafter",{title:"Insert row after",onclick:t("mceTableInsertRowAfter")}),e.addButton("tabledeleterow",{title:"Delete row",onclick:t("mceTableDeleteRow")}),e.addButton("tablerowprops",{title:"Row properties",onclick:t("mceTableRowProps")}),e.addButton("tablecutrow",{title:"Cut row",onclick:t("mceTableCutRow")}),e.addButton("tablecopyrow",{title:"Copy row",onclick:t("mceTableCopyRow")}),e.addButton("tablepasterowbefore",{title:"Paste row before",onclick:t("mceTablePasteRowBefore")}),e.addButton("tablepasterowafter",{title:"Paste row after",onclick:t("mceTablePasteRowAfter")}),e.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:t("mceTableInsertColBefore")}),e.addButton("tableinsertcolafter",{title:"Insert column after",onclick:t("mceTableInsertColAfter")}),e.addButton("tabledeletecol",{title:"Delete column",onclick:t("mceTableDeleteCol")})},Vp=function(e){var t=function(t){var n=e.dom.is(t,"table")&&e.getBody().contains(t);return n},n=td(e);n.length>0&&e.addContextToolbar(t,n.join(" "))},Yp={addButtons:Gp,addToolbars:Vp},Xp=function(e,t){function n(t){return function(){e.execCommand(t)}}var r=H.none(),o=[],i=[],u=[],a=[],c=function(e){e.disabled(!0)},l=function(e){e.disabled(!1)},f=function(){var e=this;o.push(e),r.fold(function(){c(e)},function(t){l(e)})},s=function(){var e=this;i.push(e),r.fold(function(){c(e)},function(t){l(e)})},d=function(){var e=this;u.push(e),r.fold(function(){c(e)},function(t){e.disabled(t.mergable().isNone())})},m=function(){var e=this;a.push(e),r.fold(function(){c(e)},function(t){e.disabled(t.unmergable().isNone())})},g=function(){r.fold(function(){$(o,c),$(i,c),$(u,c),$(a,c)},function(e){$(o,l),$(i,l),$(u,function(t){t.disabled(e.mergable().isNone())}),$(a,function(t){t.disabled(e.unmergable().isNone())})})};e.on("init",function(){e.on("nodechange",function(n){var o=H.from(e.dom.getParent(e.selection.getStart(),"th,td"));r=o.bind(function(e){var n=Ue.fromDom(e),r=dr.table(n);return r.map(function(e){return eu.forMenu(t,e,n)})}),g()})});var h=function(){var e="";e='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var t=0;t<10;t++){e+="<tr>";for(var n=0;n<10;n++)e+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*t+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+t+'"></a></td>';e+="</tr>"}return e+="</table>",e+='<div class="mce-text-center" role="presentation">1 x 1</div>'},v=function(e,t,n,r){var o,i,u,a,c,l=r.getEl().getElementsByTagName("table")[0],f=r.isRtl()||"tl-tr"===r.parent().rel;
for(l.nextSibling.innerHTML=t+1+" x "+(n+1),f&&(t=9-t),i=0;i<10;i++)for(o=0;o<10;o++)a=l.rows[i].childNodes[o].firstChild,c=(f?o>=t:o<=t)&&i<=n,e.dom.toggleClass(a,"mce-active",c),c&&(u=a);return u.parentNode},p=Vs(e)===!1?{text:"Table",icon:"table",context:"table",onclick:n("mceInsertTable")}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(t){t.aria&&(this.parent().hideAll(),t.stopImmediatePropagation(),e.execCommand("mceInsertTable"))},onshow:function(){v(e,0,0,this.menu.items()[0])},onhide:function(){var t=this.menu.items()[0].getEl().getElementsByTagName("a");e.dom.removeClass(t,"mce-active"),e.dom.addClass(t[0],"mce-active")},menu:[{type:"container",html:h(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(t){var n,r,o=t.target;"A"===o.tagName.toUpperCase()&&(n=parseInt(o.getAttribute("data-mce-x"),10),r=parseInt(o.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"===this.parent().rel)&&(n=9-n),n===this.lastX&&r===this.lastY||(v(e,n,r,t.control),this.lastX=n,this.lastY=r))},onclick:function(t){var n=this;"A"===t.target.tagName.toUpperCase()&&(t.preventDefault(),t.stopPropagation(),n.parent().cancel(),e.undoManager.transact(function(){Yd.insert(e,n.lastX+1,n.lastY+1)}),e.addVisual())}}]},b={text:"Table properties",context:"table",onPostRender:f,onclick:n("mceTableProps")},w={text:"Delete table",context:"table",onPostRender:f,cmd:"mceTableDelete"},y={text:"Row",context:"table",menu:[{text:"Insert row before",onclick:n("mceTableInsertRowBefore"),onPostRender:s},{text:"Insert row after",onclick:n("mceTableInsertRowAfter"),onPostRender:s},{text:"Delete row",onclick:n("mceTableDeleteRow"),onPostRender:s},{text:"Row properties",onclick:n("mceTableRowProps"),onPostRender:s},{text:"-"},{text:"Cut row",onclick:n("mceTableCutRow"),onPostRender:s},{text:"Copy row",onclick:n("mceTableCopyRow"),onPostRender:s},{text:"Paste row before",onclick:n("mceTablePasteRowBefore"),onPostRender:s},{text:"Paste row after",onclick:n("mceTablePasteRowAfter"),onPostRender:s}]},x={text:"Column",context:"table",menu:[{text:"Insert column before",onclick:n("mceTableInsertColBefore"),onPostRender:s},{text:"Insert column after",onclick:n("mceTableInsertColAfter"),onPostRender:s},{text:"Delete column",onclick:n("mceTableDeleteCol"),onPostRender:s}]},C={separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:n("mceTableCellProps"),onPostRender:s},{text:"Merge cells",onclick:n("mceTableMergeCells"),onPostRender:d},{text:"Split cell",onclick:n("mceTableSplitCells"),onPostRender:m}]};e.addMenuItem("inserttable",p),e.addMenuItem("tableprops",b),e.addMenuItem("deletetable",w),e.addMenuItem("row",y),e.addMenuItem("column",x),e.addMenuItem("cell",C)},Kp={addMenuItems:Xp},Jp=function(e){return e.get().fold(function(){},function(e){return J(e,function(e){return e.dom()})})},$p=function(e,t){var n=J(e,Ue.fromDom);t.set(H.from(n))},Qp=function(e,t){return{insertTable:function(t,n){return Yd.insert(e,t,n)},setClipboardRows:function(e){return $p(e,t)},getClipboardRows:function(){return Jp(t)}}};return R.add("table",x),C})()}();
},{}],"tinymce/plugins/textcolor/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function t(){}var o=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t,o){var e;return t.dom.getParents(t.selection.getStart(),function(t){var r;(r=t.style["forecolor"===o?"color":"background-color"])&&(e=e?e:r)}),e},r=function(t){var o,e=[];for(o=0;o<t.length;o+=2)e.push({text:t[o+1],color:"#"+t[o]});return e},n=function(t,o,e){t.undoManager.transact(function(){t.focus(),t.formatter.apply(o,{value:e}),t.nodeChanged()})},l=function(t,o){t.undoManager.transact(function(){t.focus(),t.formatter.remove(o,{value:null},null,!0),t.nodeChanged()})},a={getCurrentColor:e,mapColors:r,applyFormat:n,removeFormat:l},c=function(t){t.addCommand("mceApplyTextcolor",function(o,e){a.applyFormat(t,o,e)}),t.addCommand("mceRemoveTextcolor",function(o){a.removeFormat(t,o)})},i={register:c},u=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),s=tinymce.util.Tools.resolve("tinymce.util.Tools"),m=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],g=function(t){return t.getParam("textcolor_map",m)},d=function(t){return t.getParam("forecolor_map",g(t))},f=function(t){return t.getParam("backcolor_map",g(t))},C=function(t){return t.getParam("textcolor_rows",5)},F=function(t){return t.getParam("textcolor_cols",8)},b=function(t){return t.getParam("forecolor_rows",C(t))},p=function(t){return t.getParam("backcolor_rows",C(t))},y=function(t){return t.getParam("forecolor_cols",F(t))},k=function(t){return t.getParam("backcolor_cols",F(t))},v=function(t){return t.getParam("color_picker_callback",null)},h=function(t){return"function"==typeof v(t)},P={getForeColorMap:d,getBackColorMap:f,getForeColorRows:b,getBackColorRows:p,getForeColorCols:y,getBackColorCols:k,getColorPickerCallback:v,hasColorPicker:h},x=tinymce.util.Tools.resolve("tinymce.util.I18n"),B=function(t,o,e,r){var n,l,c,i,s,m,g,d=0,f=u.DOM.uniqueId("mcearia"),C=function(t,o){var e="transparent"===t;return'<td class="mce-grid-cell'+(e?" mce-colorbtn-trans":"")+'"><div id="'+f+"-"+d++ +'" data-mce-color="'+(t?t:"")+'" role="option" tabIndex="-1" style="'+(t?"background-color: "+t:"")+'" title="'+x.translate(o)+'">'+(e?"&#215;":"")+"</div></td>"};for(n=a.mapColors(e),n.push({text:x.translate("No color"),color:"transparent"}),c='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',i=n.length-1,m=0;m<o;m++){for(c+="<tr>",s=0;s<t;s++)g=m*t+s,g>i?c+="<td></td>":(l=n[g],c+=C(l.color,l.text));c+="</tr>"}if(r){for(c+='<tr><td colspan="'+t+'" class="mce-custom-color-btn"><div id="'+f+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+f+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+x.translate("Custom...")+"</button></div></td></tr>",c+="<tr>",s=0;s<t;s++)c+=C("","Custom color");c+="</tr>"}return c+="</tbody></table>"},T={getHtml:B},w=function(t,o){t.style.background=o,t.setAttribute("data-mce-color",o)},M=function(t){return function(o){var e=o.control;e._color?t.execCommand("mceApplyTextcolor",e.settings.format,e._color):t.execCommand("mceRemoveTextcolor",e.settings.format)}},_=function(t,o){return function(e){var r,n=this.parent(),l=a.getCurrentColor(t,n.settings.format),c=function(o){t.execCommand("mceApplyTextcolor",n.settings.format,o),n.hidePanel(),n.color(o)},i=function(){t.execCommand("mceRemoveTextcolor",n.settings.format),n.hidePanel(),n.resetColor()};if(u.DOM.getParent(e.target,".mce-custom-color-btn")){n.hidePanel();var m=P.getColorPickerCallback(t);m.call(t,function(t){var e,r,l,a=n.panel.getEl().getElementsByTagName("table")[0];for(e=s.map(a.rows[a.rows.length-1].childNodes,function(t){return t.firstChild}),l=0;l<e.length&&(r=e[l],r.getAttribute("data-mce-color"));l++);if(l===o)for(l=0;l<o-1;l++)w(e[l],e[l+1].getAttribute("data-mce-color"));w(r,t),c(t)},l)}r=e.target.getAttribute("data-mce-color"),r?(this.lastId&&u.DOM.get(this.lastId).setAttribute("aria-selected","false"),e.target.setAttribute("aria-selected",!0),this.lastId=e.target.id,"transparent"===r?i():c(r)):null!==r&&n.hidePanel()}},R=function(t,o){return function(){var e=o?P.getForeColorCols(t):P.getBackColorCols(t),r=o?P.getForeColorRows(t):P.getBackColorRows(t),n=o?P.getForeColorMap(t):P.getBackColorMap(t),l=P.hasColorPicker(t);return T.getHtml(e,r,n,l)}},A=function(t){t.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:R(t,!0),onclick:_(t,P.getForeColorCols(t))},onclick:M(t)}),t.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:R(t,!1),onclick:_(t,P.getBackColorCols(t))},onclick:M(t)})},D={register:A};return o.add("textcolor",function(t){i.register(t),D.register(t)}),t})()}();
},{}],"tinymce/themes/modern/theme.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(e,t,n){var i,r,o,s,a,l,u,c,d,f;return d=Yt(),r=It.getPos(t,Se.getUiContainer(e)),o=r.x,s=r.y,Ut(e)&&Ft(document.body)&&(o-=d.x,s-=d.y),i=e.getEl(),f=It.getSize(i),a=f.width,l=f.height,f=It.getSize(t),u=f.width,c=f.height,n=(n||"").split(""),"b"===n[0]&&(s+=c),"r"===n[1]&&(o+=u),"c"===n[0]&&(s+=Math.round(c/2)),"c"===n[1]&&(o+=Math.round(u/2)),"b"===n[3]&&(s-=l),"r"===n[4]&&(o-=a),"c"===n[3]&&(s-=Math.round(l/2)),"c"===n[4]&&(o-=Math.round(a/2)),{x:o,y:s,w:a,h:l}}function t(){}function n(e){this.cls=[],this.cls._map={},this.onchange=e||t,this.prefix=""}function i(e){for(var t,n=[],i=e.length;i--;)t=e[i],t.__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}function r(e){return e.nodeType>0}function o(e,t){var n,i;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(B.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!o(e[n],t[n]))return!1}if(r(e)||r(t))return e===t;i={};for(n in t){if(!o(e[n],t[n]))return!1;i[n]=!0}for(n in e)if(!i[n]&&!o(e[n],t[n]))return!1;return!0}function s(e){return e._eventDispatcher||(e._eventDispatcher=new jt({scope:e,toggleEvent:function(t,n){n&&jt.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&a(e))}})),e._eventDispatcher}function a(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=l._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),l._lastHoverCtrl=null)}function i(t){var n,i,r,o=e.getParentCtrl(t.target),s=l._lastHoverCtrl,a=0;if(o!==s){if(l._lastHoverCtrl=o,i=o.parents().toArray().reverse(),i.push(o),s){for(r=s.parents().toArray().reverse(),r.push(s),a=0;a<r.length&&i[a]===r[a];a++);for(n=r.length-1;n>=a;n--)s=r[n],s.fire("mouseleave",{target:s.getEl()})}for(n=a;n<i.length;n++)o=i[n],o.fire("mouseenter",{target:o.getEl()})}}function r(t){t.preventDefault(),"mousewheel"===t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var o,s,a,l,u,c;if(u=e._nativeEvents){for(a=e.parents().toArray(),a.unshift(e),o=0,s=a.length;!l&&o<s;o++)l=a[o]._eventsRoot;for(l||(l=a[a.length-1]||e),e._eventsRoot=l,s=o,o=0;o<s;o++)a[o]._eventsRoot=l;var d=l._delegates;d||(d=l._delegates={});for(c in u){if(!u)return!1;"wheel"!==c||gn?("mouseenter"===c||"mouseleave"===c?l._hasMouseEnter||(zt(l.getEl()).on("mouseleave",n).on("mouseover",i),l._hasMouseEnter=1):d[c]||(zt(l.getEl()).on(c,t),d[c]=!0),u[c]=!1):mn?zt(e.getEl()).on("mousewheel",r):zt(e.getEl()).on("DOMMouseScroll",r)}}}function l(e){function t(e){return e&&1===e.nodeType}function n(e){return e=e||y,t(e)?e.getAttribute("role"):null}function i(e){for(var t,i=e||y;i=i.parentNode;)if(t=n(i))return t}function r(e){var n=y;if(t(n))return n.getAttribute("aria-"+e)}function o(e){var t=e.tagName.toUpperCase();return"INPUT"===t||"TEXTAREA"===t||"SELECT"===t}function s(e){return!(!o(e)||e.hidden)||(!!Cn(e)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(n(e)))}function a(e){function t(e){if(1===e.nodeType&&"none"!==e.style.display&&!e.disabled){s(e)&&n.push(e);for(var i=0;i<e.childNodes.length;i++)t(e.childNodes[i])}}var n=[];return t(e||w.getEl()),n}function l(e){var t,n;e=e||x,n=e.parents().toArray(),n.unshift(e);for(var i=0;i<n.length&&(t=n[i],!t.settings.ariaRoot);i++);return t}function u(e){var t=l(e),n=a(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?c(t.lastAriaIndex,n):c(0,n)}function c(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function d(e,t){var n=-1,i=l();t=t||a(i.getEl());for(var r=0;r<t.length;r++)t[r]===y&&(n=r);n+=e,i.lastAriaIndex=c(n,t)}function f(){var e=i();"tablist"===e?d(-1,a(y.parentNode)):x.parent().submenu?v():d(-1)}function h(){var e=n(),t=i();"tablist"===t?d(1,a(y.parentNode)):"menuitem"===e&&"menu"===t&&r("haspopup")?b():d(1)}function m(){d(-1)}function g(){var e=n(),t=i();"menuitem"===e&&"menubar"===t?b():"button"===e&&r("haspopup")?b({key:"down"}):d(1)}function p(e){var t=i();if("tablist"===t){var n=a(x.getEl("body"))[0];n&&n.focus()}else d(e.shiftKey?-1:1)}function v(){x.fire("cancel")}function b(e){e=e||{},x.fire("click",{target:y,aria:e})}var y,x,w=e.root;try{y=document.activeElement}catch(_){y=document.body}return x=w.getParentCtrl(y),w.on("keydown",function(e){function t(e,t){o(y)||Cn(y)||"slider"!==n(y)&&t(e)!==!1&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,f);break;case 39:t(e,h);break;case 38:t(e,m);break;case 40:t(e,g);break;case 27:v();break;case 14:case 13:case 32:t(e,b);break;case 9:p(e),e.preventDefault()}}),w.on("focusin",function(e){y=e.target,x=e.control}),{focusFirst:u}}function u(e){var t,n,i,r,o,s,a,l,u=Math.max;return t=e.documentElement,n=e.body,i=u(t.scrollWidth,n.scrollWidth),r=u(t.clientWidth,n.clientWidth),o=u(t.offsetWidth,n.offsetWidth),s=u(t.scrollHeight,n.scrollHeight),a=u(t.clientHeight,n.clientHeight),l=u(t.offsetHeight,n.offsetHeight),{width:i<o?r:i,height:s<l?a:s}}function c(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function d(e,t){var n,i,r,o,s,a,l,d=t.document||document;t=t||{};var f=d.getElementById(t.handle||e);r=function(e){var r,h,m=u(d);c(e),e.preventDefault(),i=e.button,r=f,a=e.screenX,l=e.screenY,h=window.getComputedStyle?window.getComputedStyle(r,null).getPropertyValue("cursor"):r.runtimeStyle.cursor,n=zt("<div></div>").css({position:"absolute",top:0,left:0,width:m.width,height:m.height,zIndex:2147483647,opacity:1e-4,cursor:h}).appendTo(d.body),zt(d).on("mousemove touchmove",s).on("mouseup touchend",o),t.start(e)},s=function(e){return c(e),e.button!==i?o(e):(e.deltaX=e.screenX-a,e.deltaY=e.screenY-l,e.preventDefault(),void t.drag(e))},o=function(e){c(e),zt(d).off("mousemove touchmove",s).off("mouseup touchend",o),n.remove(),t.stop&&t.stop(e)},this.destroy=function(){zt(f).off()},zt(f).on("mousedown touchstart",r)}function f(e,t){for(;e;){if(e===t)return!0;e=e.parent()}}function h(e){for(var t=Mn.length;t--;){var n=Mn[t],i=n.getParentCtrl(e.target);if(n.settings.autohide){if(i&&(f(i,n)||n.parent()===i))continue;e=n.fire("autohide",{target:e.target}),e.isDefaultPrevented()||n.hide()}}}function m(){yn||(yn=function(e){2!==e.button&&h(e)},zt(document).on("click touchstart",yn))}function g(){xn||(xn=function(){var e;for(e=Mn.length;e--;)v(Mn[e])},zt(window).on("scroll",xn))}function p(){if(!wn){var e=document.documentElement,t=e.clientWidth,n=e.clientHeight;wn=function(){document.all&&t===e.clientWidth&&n===e.clientHeight||(t=e.clientWidth,n=e.clientHeight,Pn.hideAll())},zt(window).on("resize",wn)}}function v(e){function t(t,n){for(var i,r=0;r<Mn.length;r++)if(Mn[r]!==e)for(i=Mn[r].parent();i&&(i=i.parent());)i===e&&Mn[r].fixed(t).moveBy(0,n).repaint()}var n=It.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function b(e,t){var n,i,r=Pn.zIndex||65535;if(e)Nn.push(t);else for(n=Nn.length;n--;)Nn[n]===t&&Nn.splice(n,1);if(Nn.length)for(n=0;n<Nn.length;n++)Nn[n].modal&&(r++,i=Nn[n]),Nn[n].getEl().style.zIndex=r,Nn[n].zIndex=r,r++;var o=zt("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];i?zt(o).css("z-index",i.zIndex-1):o&&(o.parentNode.removeChild(o),_n=!1),Pn.currentZIndex=r}function y(e){var t;for(t=Mn.length;t--;)Mn[t]===e&&Mn.splice(t,1);for(t=Nn.length;t--;)Nn[t]===e&&Nn.splice(t,1)}function x(e,t){var n,i,r=this,o=Rn.classPrefix;r.show=function(s,a){function l(){n&&(zt(e).append('<div class="'+o+"throbber"+(t?" "+o+"throbber-inline":"")+'"></div>'),a&&a())}return r.hide(),n=!0,s?i=he.setTimeout(l,s):l(),r},r.hide=function(){var t=e.lastChild;return he.clearTimeout(i),t&&t.className.indexOf("throbber")!==-1&&t.parentNode.removeChild(t),n=!1,r}}function w(e){var t=function(e){return e.inline?e.getElement():e.getContentAreaContainer()},n=function(){var n=t(e);return It.getSize(n).width},i=function(e){Je(e,function(e){e.moveTo(0,0)})},r=function(n){if(n.length>0){var i=n.slice(0,1)[0],r=t(e);i.moveRel(r,"tc-tc"),Je(n,function(e,t){t>0&&e.moveRel(n[t-1].getEl(),"bc-tc")})}},o=function(e){i(e),r(e)},s=function(e,t){var i=B.extend(e,{maxWidth:n()}),r=new Yn(i);return r.args=i,i.timeout>0&&(r.timer=setTimeout(function(){r.close(),t()},i.timeout)),r.on("close",function(){t()}),r.renderTo(),r},a=function(e){e.close()},l=function(e){return e.args};return{open:s,close:a,reposition:o,getArgs:l}}function _(e){var t,n="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",i=zt("meta[name=viewport]")[0];yt.overrideViewPort!==!1&&(i||(i=document.createElement("meta"),i.setAttribute("name","viewport"),document.getElementsByTagName("head")[0].appendChild(i)),t=i.getAttribute("content"),t&&"undefined"!=typeof qn&&(qn=t),i.setAttribute("content",e?n:qn))}function R(e,t){C()&&t===!1&&zt([document.documentElement,document.body]).removeClass(e+"fullscreen")}function C(){for(var e=0;e<$n.length;e++)if($n[e]._fullscreen)return!0;return!1}function E(){function e(){var e,t,n=It.getWindowSize();for(e=0;e<$n.length;e++)t=$n[e].layoutRect(),$n[e].moveTo($n[e].settings.x||Math.max(0,n.w/2-t.w/2),$n[e].settings.y||Math.max(0,n.h/2-t.h/2))}if(!yt.desktop){var t={w:window.innerWidth,h:window.innerHeight};he.setInterval(function(){var e=window.innerWidth,n=window.innerHeight;t.w===e&&t.h===n||(t={w:e,h:n},zt(window).trigger("resize"))},100)}zt(window).on("resize",e)}function k(e){var t=function(e,t,n){var i;return e.title=e.title||" ",e.url=e.url||e.file,e.url&&(e.width=parseInt(e.width||320,10),e.height=parseInt(e.height||240,10)),e.body&&(e.items={defaults:e.defaults,type:e.bodyType||"form",items:e.body,data:e.data,callbacks:e.commands}),e.url||e.buttons||(e.buttons=[{text:"Ok",subtype:"primary",onclick:function(){i.find("form")[0].submit()}},{text:"Cancel",onclick:function(){i.close()}}]),i=new Xn(e),i.on("close",function(){n(i)}),e.data&&i.on("postRender",function(){this.find("*").each(function(t){var n=t.name();n in e.data&&t.value(e.data[n])})}),i.features=e||{},i.params=t||{},i=i.renderTo(document.body).reflow()},n=function(e,t,n){var i;return i=jn.alert(e,function(){t()}),i.on("close",function(){n(i)}),i},i=function(e,t,n){var i;return i=jn.confirm(e,function(e){t(e)}),i.on("close",function(){n(i)}),i},r=function(e){e.close()},o=function(e){return e.params},s=function(e,t){e.params=t};return{open:t,alert:n,confirm:i,close:r,getParams:o,setParams:s}}function H(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}function T(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}function S(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function M(e,t,n){e.setAttribute("aria-"+t,n)}function N(e,t){var n,i,r,o,s,a;"v"===e.settings.orientation?(o="top",r="height",i="h"):(o="left",r="width",i="w"),a=e.getEl("handle"),n=(e.layoutRect()[i]||100)-It.getSize(a)[r],s=n*((t-e._minValue)/(e._maxValue-e._minValue))+"px",a.style[o]=s,a.style.height=e.layoutRect().h+"px",M(a,"valuenow",t),M(a,"valuetext",""+e.settings.previewFilter(t)),M(a,"valuemin",e._minValue),M(a,"valuemax",e._maxValue)}function P(){}var W=tinymce.util.Tools.resolve("tinymce.ThemeManager"),D=tinymce.util.Tools.resolve("tinymce.EditorManager"),B=tinymce.util.Tools.resolve("tinymce.util.Tools"),O=function(e){return e.getParam("branding",!0,"boolean")},A=function(e){return z(e)!==!1},z=function(e){return e.getParam("menubar")},L=function(e){return e.getParam("statusbar",!0,"boolean")},I=function(e){return e.getParam("toolbar_items_size")},F=function(e){return e.getParam("readonly",!1,"boolean")},U=function(e){return e.getParam("fixed_toolbar_container")},V=function(e){return e.getParam("inline_toolbar_position_handler")},Y=function(e){return e.getParam("menu")},$=function(e){return e.getParam("removed_menuitems","")},q=function(e){return e.getParam("min_width",100,"number")},X=function(e){return e.getParam("min_height",100,"number")},j=function(e){return e.getParam("max_width",65535,"number")},J=function(e){return e.getParam("max_height",65535,"number")},G=function(e){return e.settings.skin===!1},K=function(e){return e.getParam("inline",!1,"boolean")},Z=function(e){var t=e.getParam("resize","vertical");return t===!1?"none":"both"===t?"both":"vertical"},Q=function(e){var t=e.settings,n=t.skin,i=t.skin_url;if(n!==!1){var r=n?n:"lightgray";i=i?e.documentBaseURI.toAbsolute(i):D.baseURL+"/skins/"+r}return i},ee=function(e,t){for(var n=[],i=1;i<10;i++){var r=e["toolbar"+i];if(!r)break;n.push(r)}var o=e.toolbar?[e.toolbar]:[t];return n.length>0?n:o},te=function(e){var t=e.getParam("toolbar"),n="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";return t===!1?[]:B.isArray(t)?B.grep(t,function(e){return e.length>0}):ee(e.settings,n)},ne=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ie=tinymce.util.Tools.resolve("tinymce.ui.Factory"),re=tinymce.util.Tools.resolve("tinymce.util.I18n"),oe=function(e){return e.fire("SkinLoaded")},se=function(e){return e.fire("ResizeEditor")},ae=function(e){return e.fire("BeforeRenderUI")},le={fireSkinLoaded:oe,fireResizeEditor:se,fireBeforeRenderUI:ae},ue=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}},ce=function(e,t){e.shortcuts.add("Alt+F9","",ue(t,"menubar")),e.shortcuts.add("Alt+F10,F10","",ue(t,"toolbar")),e.shortcuts.add("Alt+F11","",ue(t,"elementpath")),t.on("cancel",function(){e.focus()})},de={addKeys:ce},fe=tinymce.util.Tools.resolve("tinymce.geom.Rect"),he=tinymce.util.Tools.resolve("tinymce.util.Delay"),me=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},ge=function(e){return function(){return e}},pe=ge(!1),ve=ge(!0),be=pe,ye=ve,xe=function(){return we},we=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},i=function(){},r=function(){return null},o=function(){},s={fold:function(e,t){return e()},is:be,isSome:be,isNone:ye,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:r,getOrUndefined:o,or:n,orThunk:t,map:xe,ap:xe,each:i,bind:xe,flatten:xe,exists:be,forall:ye,filter:xe,equals:e,equals_:e,toArray:function(){return[]},toString:ge("none()")};return Object.freeze&&Object.freeze(s),s}(),_e=function(e){var t=function(){return e},n=function(){return o},i=function(t){return _e(t(e))},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:ye,isNone:be,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:i,ap:function(t){return t.fold(xe,function(t){return _e(t(e))})},each:function(t){t(e)},bind:r,flatten:t,exists:r,forall:r,filter:function(t){return t(e)?o:we},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(be,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return o},Re=function(e){return null===e||void 0===e?we:_e(e)},Ce={some:_e,none:xe,from:Re},Ee=function(e){var t=He(e);if(t&&"static"!==ne.DOM.getStyle(t,"position",!0)){var n=ne.DOM.getPos(t),i=t.scrollLeft-n.x,r=t.scrollTop-n.y;return Ce.some({x:i,y:r})}return Ce.none()},ke=function(e,t){var n=ne.DOM.select(e.settings.ui_container)[0];t.getRoot().uiContainer=n},He=function(e){return e?e.getRoot().uiContainer:null},Te=function(e,t){return t.uiContainer=He(e)},Se={getUiContainerDelta:Ee,setUiContainer:ke,getUiContainer:He,inheritUiContainer:Te},Me=function(e,t,n){var i,r=[];if(t)return B.each(t.split(/[ ,]/),function(t){var o,s=function(){var n=e.selection;t.settings.stateSelector&&n.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&n.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})};"|"===t?i=null:(i||(i={type:"buttongroup",items:[]},r.push(i)),e.buttons[t]&&(o=t,t=e.buttons[o],"function"==typeof t&&(t=t()),t.type=t.type||"button",t.size=n,t=ie.create(t),i.items.push(t),e.initialized?s():e.on("init",s)))}),{type:"toolbar",layout:"flow",items:r}},Ne=function(e,t){var n=[],i=function(i){i&&n.push(Me(e,i,t))};if(B.each(te(e),function(e){i(e)}),n.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:n}},Pe={createToolbar:Me,createToolbars:Ne},We=ne.DOM,De=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},Be=function(e){B.each(e.contextToolbars,function(e){e.panel&&e.panel.hide()})},Oe=function(e,t){e.moveTo(t.left,t.top)},Ae=function(e,t,n){t=t?t.substr(0,2):"",B.each({t:"down",b:"up"},function(i,r){e.classes.toggle("arrow-"+i,n(r,t.substr(0,1)))}),B.each({l:"left",r:"right"},function(i,r){e.classes.toggle("arrow-"+i,n(r,t.substr(1,1)))})},ze=function(e,t,n,i,r,o){return o=De({x:t,y:n,w:o.w,h:o.h}),e&&(o=e({elementRect:De(i),contentAreaRect:De(r),panelRect:o})),o},Le=function(e){var t,n=function(){return e.contextToolbars||[]},i=function(t){var n,i,r;return n=We.getPos(e.getContentAreaContainer()),i=e.dom.getRect(t),r=e.dom.getRoot(),"BODY"===r.nodeName&&(i.x-=r.ownerDocument.documentElement.scrollLeft||r.scrollLeft,i.y-=r.ownerDocument.documentElement.scrollTop||r.scrollTop),i.x+=n.x,i.y+=n.y,i},r=function(t,n){var r,o,s,a,l,u,c,d,f=V(e);if(!e.removed){if(!t||!t.toolbar.panel)return void Be(e);c=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],l=t.toolbar.panel,n&&l.show(),s=i(t.element),o=We.getRect(l.getEl()),a=We.getRect(e.getContentAreaContainer()||e.getBody());var h=Se.getUiContainerDelta(l).getOr({x:0,y:0});if(s.x+=h.x,s.y+=h.y,o.x+=h.x,o.y+=h.y,a.x+=h.x,a.y+=h.y,d=25,"inline"!==We.getStyle(t.element,"display",!0)){var m=t.element.getBoundingClientRect();s.w=m.width,s.h=m.height}e.inline||(a.w=e.getDoc().documentElement.offsetWidth),e.selection.controlSelection.isResizable(t.element)&&s.w<d&&(s=fe.inflate(s,0,8)),r=fe.findBestRelativePosition(o,s,a,c),s=fe.clamp(s,a),r?(u=fe.relativePosition(o,s,r),Oe(l,ze(f,u.x,u.y,s,a,o))):(a.h+=o.h,s=fe.intersect(a,s),s?(r=fe.findBestRelativePosition(o,s,a,["bc-tc","bl-tl","br-tr"]),r?(u=fe.relativePosition(o,s,r),Oe(l,ze(f,u.x,u.y,s,a,o))):Oe(l,ze(f,s.x,s.y,s,a,o))):l.hide()),Ae(l,r,function(e,t){return e===t})}},o=function(t){return function(){var n=function(){e.selection&&r(u(e.selection.getNode()),t)};he.requestAnimationFrame(n)}},s=function(n){if(!t){var i=o(!0),r=Se.getUiContainer(n);t=e.selection.getScrollContainer()||e.getWin(),We.bind(t,"scroll",i),We.bind(r,"scroll",i),e.on("remove",function(){We.unbind(t,"scroll",i),We.unbind(r,"scroll",i)})}},a=function(t){var n;return t.toolbar.panel?(t.toolbar.panel.show(),void r(t)):(n=ie.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:Pe.createToolbar(e,t.toolbar.items),oncancel:function(){e.focus()}}),Se.setUiContainer(e,n),s(n),t.toolbar.panel=n,n.renderTo().reflow(),void r(t))},l=function(){B.each(n(),function(e){e.panel&&e.panel.hide()})},u=function(t){var i,r,o,s=n();for(o=e.$(t).parents().add(t),i=o.length-1;i>=0;i--)for(r=s.length-1;r>=0;r--)if(s[r].predicate(o[i]))return{toolbar:s[r],element:o[i]};return null};e.on("click keyup setContent ObjectResized",function(t){("setcontent"!==t.type||t.selection)&&he.setEditorTimeout(e,function(){var t;t=u(e.selection.getNode()),t?(l(),a(t)):l()})}),e.on("blur hide contextmenu",l),e.on("ObjectResizeStart",function(){var t=u(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.hide()}),e.on("ResizeEditor ResizeWindow",o(!0)),e.on("nodeChange",o(!1)),e.on("remove",function(){B.each(n(),function(e){e.panel&&e.panel.remove()}),e.contextToolbars={}}),e.shortcuts.add("ctrl+F9","",function(){var t=u(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.items()[0].focus()})},Ie={addContextualToolbars:Le},Fe=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},Ue=function(e){return function(t){return Fe(t)===e}},Ve=Ue("function"),Ye=Ue("number"),$e=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return et(e,t)};return void 0===e?n:t}(),qe=function(e,t){var n=$e(e,t);return n===-1?Ce.none():Ce.some(n)},Xe=function(e,t){return Qe(e,t).isSome()},je=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r,e)}return i},Je=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];t(r,n,e)}},Ge=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i,e)&&n.push(o)}return n},Ke=function(e,t,n){return Je(e,function(e){n=t(n,e)}),n},Ze=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(t(r,n,e))return Ce.some(r)}return Ce.none()},Qe=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(t(r,n,e))return Ce.some(n)}return Ce.none()},et=function(e,t){for(var n=0,i=e.length;n<i;++n)if(e[n]===t)return n;return-1},tt=Array.prototype.push,nt=function(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);tt.apply(t,e[n])}return t},it=Array.prototype.slice,rt=(Ve(Array.from)?Array.from:function(e){return it.call(e)},{file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code"},table:{title:"Table"},help:{title:"Help"}}),ot=function(){return{name:"|",item:{text:"|"}}},st=function(e,t){var n=t?{name:e,item:t}:null;return"|"===e?ot():n},at=function(e,t){return Qe(e,function(e){return e.name===t}).isSome()},lt=function(e){return e&&"|"===e.item.text},ut=function(e,t){var n=Ge(e,function(e){return t.hasOwnProperty(e.name)===!1}),i=Ge(n,function(e,t,n){return!lt(e)||!lt(n[t-1])});return Ge(i,function(e,t,n){return!lt(e)||t>0&&t<n.length-1})},ct=function(e,t,n,i){var r,o,s,a;return t?(o=t[i],a=!0):o=rt[i],o&&(r={text:o.title},s=[],B.each((o.items||"").split(/[ ,]/),function(t){var n=st(t,e[t]);n&&s.push(n)}),a||B.each(e,function(e,t){e.context!==i||at(s,t)||("before"===e.separator&&s.push(ot()),e.prependToContext?s.unshift(st(t,e)):s.push(st(t,e)),"after"===e.separator&&s.push(ot()))}),r.menu=je(ut(s,n),function(e){return e.item}),!r.menu.length)?null:r},dt=function(e){var t,n=[],i=Y(e);if(i)for(t in i)n.push(t);else for(t in rt)n.push(t);return n},ft=function(e){for(var t=[],n=dt(e),i=B.makeMap($(e).split(/[ ,]/)),r=z(e),o="string"==typeof r?r.split(/[ ,]/):n,s=0;s<o.length;s++){var a=o[s],l=ct(e.menuItems,Y(e),i,a);l&&t.push(l)}return t},ht={createMenuButtons:ft},mt=ne.DOM,gt=function(e){return{width:e.clientWidth,height:e.clientHeight}},pt=function(e,t,n){var i,r,o,s;i=e.getContainer(),r=e.getContentAreaContainer().firstChild,o=gt(i),s=gt(r),null!==t&&(t=Math.max(q(e),t),t=Math.min(j(e),t),mt.setStyle(i,"width",t+(o.width-s.width)),mt.setStyle(r,"width",t)),n=Math.max(X(e),n),n=Math.min(J(e),n),mt.setStyle(r,"height",n),le.fireResizeEditor(e)},vt=function(e,t,n){var i=e.getContentAreaContainer();pt(e,i.clientWidth+t,i.clientHeight+n)},bt={resizeTo:pt,resizeBy:vt},yt=tinymce.util.Tools.resolve("tinymce.Env"),xt=function(e){return{element:function(){return e}}},wt=function(e,t,n){var i=e.settings[n];i&&i(xt(t.getEl("body")))},_t=function(e,t,n){B.each(n,function(n){var i=t.items().filter("#"+n.name)[0];i&&i.visible()&&n.name!==e&&(wt(n,i,"onhide"),i.visible(!1))})},Rt=function(e){e.items().each(function(e){e.active(!1)})},Ct=function(e,t){return B.grep(e,function(e){return e.name===t})[0]},Et=function(e,t,n){return function(i){var r=i.control,o=r.parents().filter("panel")[0],s=o.find("#"+t)[0],a=Ct(n,t);_t(t,o,n),Rt(r.parent()),s&&s.visible()?(wt(a,s,"onhide"),s.hide(),r.active(!1)):(s?(s.show(),wt(a,s,"onshow")):(s=ie.create({type:"container",name:t,layout:"stack",classes:"sidebar-panel",html:""}),o.prepend(s),wt(a,s,"onrender"),wt(a,s,"onshow")),r.active(!0)),le.fireResizeEditor(e)}},kt=function(){return!yt.ie||yt.ie>=11},Ht=function(e){return!(!kt()||!e.sidebars)&&e.sidebars.length>0},Tt=function(e){var t=B.map(e.sidebars,function(t){var n=t.settings;return{type:"button",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:Et(e,t.name,e.sidebars)}});return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:t}]}},St={hasSidebar:Ht,createSidebar:Tt},Mt=function(e){var t=function(){e._skinLoaded=!0,le.fireSkinLoaded(e)};return function(){e.initialized?t():e.on("init",t)}},Nt={fireSkinLoaded:Mt},Pt=ne.DOM,Wt=function(e){return function(t){e.find("*").disabled("readonly"===t.mode)}},Dt=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},Bt=function(e){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[Dt("0"),St.createSidebar(e)]}},Ot=function(e,t,n){var i,r,o;if(G(e)===!1&&n.skinUiCss?Pt.styleSheetLoader.load(n.skinUiCss,Nt.fireSkinLoaded(e)):Nt.fireSkinLoaded(e)(),i=t.panel=ie.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[A(e)===!1?null:{type:"menubar",border:"0 0 1 0",items:ht.createMenuButtons(e)},Pe.createToolbars(e,I(e))]},St.hasSidebar(e)?Bt(e):Dt("1 0 0 0")]}),Se.setUiContainer(e,i),"none"!==Z(e)&&(r={type:"resizehandle",direction:Z(e),onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;o={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){"both"===Z(e)?bt.resizeTo(e,o.width+t.deltaX,o.height+t.deltaY):bt.resizeTo(e,null,o.height+t.deltaY)}}),L(e)){var s='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">Tiny</a>',a=re.translate(["Powered by {0}",s]),l=O(e)?{type:"label",classes:"branding",html:" "+a}:null;i.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},r,l]})}return le.fireBeforeRenderUI(e),e.on("SwitchMode",Wt(i)),i.renderBefore(n.targetNode).reflow(),F(e)&&e.setMode("readonly"),n.width&&Pt.setStyle(i.getEl(),"width",n.width),e.on("remove",function(){i.remove(),i=null}),de.addKeys(e,i),Ie.addContextualToolbars(e),{iframeContainer:i.find("#iframe")[0].getEl(),editorContainer:i.getEl()}},At={render:Ot},zt=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Lt=0,It={id:function(){return"mceu_"+Lt++},create:function(e,t,n){var i=document.createElement(e);return ne.DOM.setAttribs(i,t),"string"==typeof n?i.innerHTML=n:B.each(n,function(e){e.nodeType&&i.appendChild(e)}),i},createFragment:function(e){return ne.DOM.createFragment(e)},getWindowSize:function(){return ne.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return ne.DOM.getPos(e,t||It.getContainer())},getContainer:function(){return yt.container?yt.container:document.body},getViewPort:function(e){return ne.DOM.getViewPort(e)},get:function(e){return document.getElementById(e)},addClass:function(e,t){return ne.DOM.addClass(e,t)},removeClass:function(e,t){return ne.DOM.removeClass(e,t)},hasClass:function(e,t){return ne.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return ne.DOM.toggleClass(e,t,n)},css:function(e,t,n){return ne.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return ne.DOM.getStyle(e,t,!0)},on:function(e,t,n,i){return ne.DOM.bind(e,t,n,i)},off:function(e,t,n){return ne.DOM.unbind(e,t,n)},fire:function(e,t,n){return ne.DOM.fire(e,t,n)},innerHtml:function(e,t){ne.DOM.setHTML(e,t)}},Ft=function(e){return"static"===It.getRuntimeStyle(e,"position")},Ut=function(e){return e.state.get("fixed")},Vt=function(e){return{x:0,y:0,w:e.scrollWidth-1,h:e.scrollHeight-1}},Yt=function(){var e=window,t=Math.max(e.pageXOffset,document.body.scrollLeft,document.documentElement.scrollLeft),n=Math.max(e.pageYOffset,document.body.scrollTop,document.documentElement.scrollTop),i=e.innerWidth||document.documentElement.clientWidth,r=e.innerHeight||document.documentElement.clientHeight;return{x:t,y:n,w:i,h:r}},$t=function(e){var t=Se.getUiContainer(e);return t&&!Ut(e)?Vt(t):Yt()},qt={testMoveRel:function(t,n){for(var i=$t(this),r=0;r<n.length;r++){var o=e(this,t,n[r]);if(Ut(this)){if(o.x>0&&o.x+o.w<i.w&&o.y>0&&o.y+o.h<i.h)return n[r]}else if(o.x>i.x&&o.x+o.w<i.w+i.x&&o.y>i.y&&o.y+o.h<i.h+i.y)return n[r]}return n[0]},moveRel:function(t,n){"string"!=typeof n&&(n=this.testMoveRel(t,n));var i=e(this,t,n);return this.moveTo(i.x,i.y)},moveBy:function(e,t){var n=this,i=n.layoutRect();return n.moveTo(i.x+e,i.y+t),n},moveTo:function(e,t){function n(e,t,n){return e<0?0:e+n>t?(e=t-n,e<0?0:e):e}var i=this;if(i.settings.constrainToViewport){var r=$t(this),o=i.layoutRect();e=n(e,r.w+r.x,o.w),t=n(t,r.h+r.y,o.h)}var s=Se.getUiContainer(i);return s&&Ft(s)&&!Ut(i)&&(e-=s.scrollLeft,t-=s.scrollTop),s&&(e+=1,t+=1),i.state.get("rendered")?i.layoutRect({x:e,y:t}).repaint():(i.settings.x=e,i.settings.y=t),i.fire("move",{x:e,y:t}),i}},Xt=tinymce.util.Tools.resolve("tinymce.util.Class"),jt=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),Jt={parseBox:function(e){var t,n=10;if(e)return"number"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0})},measureBox:function(e,t){function n(t){var n=e.ownerDocument.defaultView;if(n){var i=n.getComputedStyle(e,null);return i?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),i.getPropertyValue(t)):null}return e.currentStyle[t]}function i(e){var t=parseFloat(n(e));return isNaN(t)?0:t}return{top:i(t+"TopWidth"),right:i(t+"RightWidth"),bottom:i(t+"BottomWidth"),left:i(t+"LeftWidth")}}};B.extend(n.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){var t=void 0;for(t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),n.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e};var Gt,Kt,Zt,Qt=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,en=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,tn=/^\s*|\s*$/g,nn=Xt.extend({init:function(e){function t(e){if(e)return e=e.toLowerCase(),
function(t){return"*"===e||t.type===e}}function n(e){if(e)return function(t){return t._name===e}}function i(e){if(e)return e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;return!0}}function r(e,t,n){if(e)return function(i){var r=i[e]?i[e]():"";return t?"="===t?r===n:"*="===t?r.indexOf(n)>=0:"~="===t?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===t?r!==n:"^="===t?0===r.indexOf(n):"$="===t&&r.substr(r.length-n.length)===n:!!n}}function o(e){var t;if(e)return e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(t=a(e[1],[]),function(e){return!l(e,t)}):(e=e[2],function(t,n,i){return"first"===e?0===n:"last"===e?n===i-1:"even"===e?n%2===0:"odd"===e?n%2===1:!!t[e]&&t[e]()})}function s(e,s,a){function l(e){e&&s.push(e)}var u;return u=Qt.exec(e.replace(tn,"")),l(t(u[1])),l(n(u[2])),l(i(u[3])),l(r(u[4],u[5],u[6])),l(o(u[7])),s.pseudo=!!u[7],s.direct=a,s}function a(e,t){var n,i,r,o=[];do if(en.exec(""),i=en.exec(e),i&&(e=i[3],o.push(i[1]),i[2])){n=i[3];break}while(i);for(n&&a(n,t),e=[],r=0;r<o.length;r++)">"!==o[r]&&e.push(s(o[r],[],">"===o[r-1]));return t.push(e),t}var l=this.match;this._selectors=a(e,[])},match:function(e,t){var n,i,r,o,s,a,l,u,c,d,f,h,m;for(t=t||this._selectors,n=0,i=t.length;n<i;n++){for(s=t[n],o=s.length,m=e,h=0,r=o-1;r>=0;r--)for(u=s[r];m;){if(u.pseudo)for(f=m.parent().items(),c=d=f.length;c--&&f[c]!==m;);for(a=0,l=u.length;a<l;a++)if(!u[a](m,c,d)){a=l+1;break}if(a===l){h++;break}if(r===o-1)break;m=m.parent()}if(h===o)return!0}return!1},find:function(e){function t(e,n,i){var r,s,a,l,u,c=n[i];for(r=0,s=e.length;r<s;r++){for(u=e[r],a=0,l=c.length;a<l;a++)if(!c[a](u,r,s)){a=l+1;break}if(a===l)i===n.length-1?o.push(u):u.items&&t(u.items(),n,i+1);else if(c.direct)return;u.items&&t(u.items(),n,i)}}var n,r,o=[],s=this._selectors;if(e.items){for(n=0,r=s.length;n<r;n++)t(e.items(),s[n],0);r>1&&(o=i(o))}return Gt||(Gt=nn.Collection),new Gt(o)}}),rn=Array.prototype.push,on=Array.prototype.slice;Zt={length:0,init:function(e){e&&this.add(e)},add:function(e){var t=this;return B.isArray(e)?rn.apply(t,e):e instanceof Kt?t.add(e.toArray()):rn.call(t,e),t},set:function(e){var t,n=this,i=n.length;for(n.length=0,n.add(e),t=n.length;t<i;t++)delete n[t];return n},filter:function(e){var t,n,i,r,o=this,s=[];for("string"==typeof e?(e=new nn(e),r=function(t){return e.match(t)}):r=e,t=0,n=o.length;t<n;t++)i=o[t],r(i)&&s.push(i);return new Kt(s)},slice:function(){return new Kt(on.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},each:function(e){return B.each(this,e),this},toArray:function(){return B.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new Kt(B.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n,i=this;return void 0!==t?(i.each(function(n){n[e]&&n[e](t)}),i):(n=i[0],n&&n[e]?n[e]():void 0)},exec:function(e){var t=this,n=B.toArray(arguments).slice(1);return t.each(function(t){t[e]&&t[e].apply(t,n)}),t},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},B.each("fire on off show hide append prepend before after reflow".split(" "),function(e){Zt[e]=function(){var t=B.toArray(arguments);return this.each(function(n){e in n&&n[e].apply(n,t)}),this}}),B.each("text name disabled active selected checked visible parent value data".split(" "),function(e){Zt[e]=function(t){return this.prop(e,t)}}),Kt=Xt.extend(Zt),nn.Collection=Kt;var sn=Kt,an=function(e){this.create=e.create};an.create=function(e,t){return new an({create:function(n,i){var r,o=function(e){n.set(i,e.value)},s=function(n){e.set(t,n.value)};return n.on("change:"+i,s),e.on("change:"+t,o),r=n._bindings,r||(r=n._bindings=[],n.on("destroy",function(){for(var e=r.length;e--;)r[e]()})),r.push(function(){e.off("change:"+t,o)}),e.get(t)}})};var ln,un,cn=tinymce.util.Tools.resolve("tinymce.util.Observable"),dn=Xt.extend({Mixins:[cn],init:function(e){var t,n;e=e||{};for(t in e)n=e[t],n instanceof an&&(e[t]=n.create(this,t));this.data=e},set:function(e,t){var n,i,r=this.data[e];if(t instanceof an&&(t=t.create(this,e)),"object"==typeof e){for(n in e)this.set(n,e[n]);return this}return o(r,t)||(this.data[e]=t,i={target:this,name:e,value:t,oldValue:r},this.fire("change:"+e,i),this.fire("change",i)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return an.create(this,e)},destroy:function(){this.fire("destroy")}}),fn={},hn={add:function(e){var t=e.parent();if(t){if(!t._layout||t._layout.isNative())return;fn[t._id]||(fn[t._id]=t),ln||(ln=!0,he.requestAnimationFrame(function(){var e,t;ln=!1;for(e in fn)t=fn[e],t.state.get("rendered")&&t.reflow();fn={}},document.body))}},remove:function(e){fn[e._id]&&delete fn[e._id]}},mn="onmousewheel"in document,gn=!1,pn="mce-",vn=0,bn={Statics:{classPrefix:pn},isRtl:function(){return un.rtl},classPrefix:pn,init:function(e){function t(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)o.classes.add(e[t])}var i,r,o=this;o.settings=e=B.extend({},o.Defaults,e),o._id=e.id||"mceu_"+vn++,o._aria={role:e.role},o._elmCache={},o.$=zt,o.state=new dn({visible:!0,active:!1,disabled:!1,value:""}),o.data=new dn(e.data),o.classes=new n(function(){o.state.get("rendered")&&(o.getEl().className=this.toString())}),o.classes.prefix=o.classPrefix,i=e.classes,i&&(o.Defaults&&(r=o.Defaults.classes,r&&i!==r&&t(r)),t(i)),B.each("title text name visible disabled active value".split(" "),function(t){t in e&&o[t](e[t])}),o.on("click",function(){if(o.disabled())return!1}),o.settings=e,o.borderBox=Jt.parseBox(e.border),o.paddingBox=Jt.parseBox(e.padding),o.marginBox=Jt.parseBox(e.margin),e.hidden&&o.hide()},Properties:"parent,name",getContainerElm:function(){var e=Se.getUiContainer(this);return e?e:It.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,i,r,o,s,a,l,u,c=this,d=c.settings,f=c.getEl();e=c.borderBox=c.borderBox||Jt.measureBox(f,"border"),c.paddingBox=c.paddingBox||Jt.measureBox(f,"padding"),c.marginBox=c.marginBox||Jt.measureBox(f,"margin"),u=It.getSize(f),a=d.minWidth,l=d.minHeight,r=a||u.width,o=l||u.height,n=d.width,i=d.height,s=d.autoResize,s="undefined"!=typeof s?s:!n&&!i,n=n||r,i=i||o;var h=e.left+e.right,m=e.top+e.bottom,g=d.maxWidth||65535,p=d.maxHeight||65535;return c._layoutRect=t={x:d.x||0,y:d.y||0,w:n,h:i,deltaW:h,deltaH:m,contentW:n-h,contentH:i-m,innerW:n-h,innerH:i-m,startMinWidth:a||0,startMinHeight:l||0,minW:Math.min(r,g),minH:Math.min(o,p),maxW:g,maxH:p,autoResize:s,scrollW:0},c._lastLayoutRect={},t},layoutRect:function(e){var t,n,i,r,o,s=this,a=s._layoutRect;return a||(a=s.initLayoutRect()),e?(i=a.deltaW,r=a.deltaH,void 0!==e.x&&(a.x=e.x),void 0!==e.y&&(a.y=e.y),void 0!==e.minW&&(a.minW=e.minW),void 0!==e.minH&&(a.minH=e.minH),n=e.w,void 0!==n&&(n=n<a.minW?a.minW:n,n=n>a.maxW?a.maxW:n,a.w=n,a.innerW=n-i),n=e.h,void 0!==n&&(n=n<a.minH?a.minH:n,n=n>a.maxH?a.maxH:n,a.h=n,a.innerH=n-r),n=e.innerW,void 0!==n&&(n=n<a.minW-i?a.minW-i:n,n=n>a.maxW-i?a.maxW-i:n,a.innerW=n,a.w=n+i),n=e.innerH,void 0!==n&&(n=n<a.minH-r?a.minH-r:n,n=n>a.maxH-r?a.maxH-r:n,a.innerH=n,a.h=n+r),void 0!==e.contentW&&(a.contentW=e.contentW),void 0!==e.contentH&&(a.contentH=e.contentH),t=s._lastLayoutRect,t.x===a.x&&t.y===a.y&&t.w===a.w&&t.h===a.h||(o=un.repaintControls,o&&o.map&&!o.map[s._id]&&(o.push(s),o.map[s._id]=!0),t.x=a.x,t.y=a.y,t.w=a.w,t.h=a.h),s):a},repaint:function(){var e,t,n,i,r,o,s,a,l,u,c=this;l=document.createRange?function(e){return e}:Math.round,e=c.getEl().style,i=c._layoutRect,a=c._lastRepaintRect||{},r=c.borderBox,o=r.left+r.right,s=r.top+r.bottom,i.x!==a.x&&(e.left=l(i.x)+"px",a.x=i.x),i.y!==a.y&&(e.top=l(i.y)+"px",a.y=i.y),i.w!==a.w&&(u=l(i.w-o),e.width=(u>=0?u:0)+"px",a.w=i.w),i.h!==a.h&&(u=l(i.h-s),e.height=(u>=0?u:0)+"px",a.h=i.h),c._hasBody&&i.innerW!==a.innerW&&(u=l(i.innerW),n=c.getEl("body"),n&&(t=n.style,t.width=(u>=0?u:0)+"px"),a.innerW=i.innerW),c._hasBody&&i.innerH!==a.innerH&&(u=l(i.innerH),n=n||c.getEl("body"),n&&(t=t||n.style,t.height=(u>=0?u:0)+"px"),a.innerH=i.innerH),c._lastRepaintRect=a,c.fire("repaint",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,It.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){function n(e){var t,n;return"string"!=typeof e?e:function(r){return t||i.parentsAndSelf().each(function(i){var r=i.settings.callbacks;if(r&&(t=r[e]))return n=i,!1}),t?t.call(n,r):(r.action=e,void this.fire("execute",r))}}var i=this;return s(i).on(e,n(t)),i},off:function(e,t){return s(this).off(e,t),this},fire:function(e,t,n){var i=this;if(t=t||{},t.control||(t.control=i),t=s(i).fire(e,t),n!==!1&&i.parent)for(var r=i.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},hasEventListeners:function(e){return s(this).has(e)},parents:function(e){var t,n=this,i=new sn;for(t=n.parent();t;t=t.parent())i.add(t);return e&&(i=i.filter(e)),i},parentsAndSelf:function(e){return new sn(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=zt("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,i=n.getEl(n.ariaTarget);return"undefined"==typeof t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&i.setAttribute("role"===e?e:"aria-"+e,t),n)},encode:function(e,t){return t!==!1&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return un.translate?un.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(t=o.length;t--;)o[t].remove()}r&&r.items&&(e=[],r.items().each(function(t){t!==n&&e.push(t)}),r.items().set(e),r._lastRect=null),n._eventsRoot&&n._eventsRoot===n&&zt(i).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return zt(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return zt(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,i,r,o=this,s=o.settings;o.$el=zt(o.getEl()),o.state.set("rendered",!0);for(i in s)0===i.indexOf("on")&&o.on(i.substr(2),s[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}a(o),s.style&&(e=o.getEl(),e&&(e.setAttribute("style",s.style),e.style.cssText=s.style)),o.settings.border&&(t=o.borderBox,o.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var l=o.getRoot();l.controlIdLookup||(l.controlIdLookup={}),l.controlIdLookup[o._id]=o;for(var u in o._aria)o.aria(u,o._aria[u]);o.state.get("visible")===!1&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(e){var t,n=e.value;o.state.get("rendered")&&(o.getEl().style.display=n===!1?"none":"",o.getEl().getBoundingClientRect()),t=o.parent(),t&&(t._lastRect=null),o.fire(n?"show":"hide"),hn.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){function t(e,t){var n,i,r=e;for(n=i=0;r&&r!==t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}var n,i,r,o,s,a,l=this.getEl(),u=l.parentNode,c=t(l,u);return n=c.x,i=c.y,r=l.offsetWidth,o=l.offsetHeight,s=u.clientWidth,a=u.clientHeight,"end"===e?(n-=s-r,i-=a-o):"center"===e&&(n-=s/2-r/2,i-=a/2-o/2),u.scrollLeft=n,u.scrollTop=i,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var i=n.length;i--;)n[i].rootControl=e;return e},reflow:function(){hn.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};B.each("text title visible disabled active value".split(" "),function(e){bn[e]=function(t){return 0===arguments.length?this.state.get(e):("undefined"!=typeof t&&this.state.set(e,t),this)}}),un=Xt.extend(bn);var yn,xn,wn,_n,Rn=un,Cn=function(e){return!!e.getAttribute("data-mce-tabstop")},En={},kn=Rn.extend({init:function(e){var t=this;t._super(e),e=t.settings,e.fixed&&t.state.set("fixed",!0),t._items=new sn,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new n(function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString())}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=ie.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return e=En[e]=En[e]||new nn(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t,n,i,r=this;return e&&(n=r.keyboardNav||r.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(r):(i=r.find("*"),r.statusbar&&i.add(r.statusbar.items()),i.each(function(e){return e.settings.autofocus?(t=null,!1):void(e.canFocus&&(t=t||e))}),t&&t.focus(),r)},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}r>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),n=e.getEl(),n&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,i=[];return B.isArray(e)||(e=[e]),B.each(e,function(e){e&&(e instanceof Rn||("string"==typeof e&&(e={type:e}),t=B.extend({},n.settings.defaults,e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=ie.create(t)),i.push(e))}),i},renderNew:function(){var e=this;return e.items().each(function(t,n){var i;t.parent(e),t.state.get("rendered")||(i=e.getEl("body"),i.hasChildNodes()&&n<=i.childNodes.length-1?zt(i.childNodes[n]).before(t.renderHtml()):zt(i).append(t.renderHtml()),t.postRender(),hn.add(t))}),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var i,r,o,s=this;return e=s.create(e),i=s.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),s.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find("*").each(function(e){var n=e.name(),i=e.value();n&&"undefined"!=typeof i&&(t[n]=i)}),t},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=l({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!==t.w||n.h!==t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var e;if(hn.remove(this),this.visible()){for(Rn.repaintControls=[],Rn.repaintControls.map={},this.recalc(),e=Rn.repaintControls.length;e--;)Rn.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),Rn.repaintControls=[]}return this}}),Hn={init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function e(){function e(e,o,s,a,l,u){var c,d,f,h,m,g,p,v,b;if(d=n.getEl("scroll"+e)){if(v=o.toLowerCase(),b=s.toLowerCase(),zt(n.getEl("absend")).css(v,n.layoutRect()[a]-1),!l)return void zt(d).css("display","none");zt(d).css("display","block"),c=n.getEl("body"),f=n.getEl("scroll"+e+"t"),h=c["client"+s]-2*i,h-=t&&r?d["client"+u]:0,m=c["scroll"+s],g=h/m,p={},p[v]=c["offset"+o]+i,p[b]=h,zt(d).css(p),p={},p[v]=c["scroll"+o]*g,p[b]=h*g,zt(f).css(p)}}var t,r,o;o=n.getEl("body"),t=o.scrollWidth>o.clientWidth,r=o.scrollHeight>o.clientHeight,e("h","Left","Width","contentW",t,"Height"),e("v","Top","Height","contentH",r,"Width")}function t(){function e(e,t,r,o,s){var a,l=n._id+"-scroll"+e,u=n.classPrefix;zt(n.getEl()).append('<div id="'+l+'" class="'+u+"scrollbar "+u+"scrollbar-"+e+'"><div id="'+l+'t" class="'+u+'scrollbar-thumb"></div></div>'),n.draghelper=new d(l+"t",{start:function(){a=n.getEl("body")["scroll"+t],zt("#"+l).addClass(u+"active")},drag:function(l){var u,c,d,f,h=n.layoutRect();c=h.contentW>h.innerW,d=h.contentH>h.innerH,f=n.getEl("body")["client"+r]-2*i,f-=c&&d?n.getEl("scroll"+e)["client"+s]:0,u=f/n.getEl("body")["scroll"+r],n.getEl("body")["scroll"+t]=a+l["delta"+o]/u},stop:function(){zt("#"+l).removeClass(u+"active")}})}n.classes.add("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height")}var n=this,i=2;n.settings.autoScroll&&(n._hasScroll||(n._hasScroll=!0,t(),n.on("wheel",function(t){var i=n.getEl("body");i.scrollLeft+=10*(t.deltaX||0),i.scrollTop+=10*t.deltaY,e()}),zt(n.getEl("body")).on("scroll",e)),e())}},Tn=kn.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[Hn],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),"undefined"==typeof n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}}),Sn={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){if(e<=1||t<=1){var n=It.getWindowSize();e=e<=1?e*n.w:e,t=t<=1?t*n.h:t}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this,i=n.layoutRect();return n.resizeTo(i.w+e,i.h+t)}},Mn=[],Nn=[],Pn=Tn.extend({Mixins:[qt,Sn],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add("floatpanel"),e.autohide&&(m(),p(),Mn.push(t)),e.autofix&&(g(),t.on("move",function(){v(this)})),t.on("postrender show",function(e){if(e.control===t){var n,i=t.classPrefix;t.modal&&!_n&&(n=zt("#"+i+"modal-block",t.getContainerElm()),n[0]||(n=zt('<div id="'+i+'modal-block" class="'+i+"reset "+i+'fade"></div>').appendTo(t.getContainerElm())),he.setTimeout(function(){n.addClass(i+"in"),zt(t.getEl()).addClass(i+"in")}),_n=!0),b(!0,t)}}),t.on("show",function(){t.parents().each(function(e){if(e.state.get("fixed"))return t.fixed(!0),!1})}),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start")),t.aria("label",e.ariaLabel),t.aria("labelledby",t._id),t.aria("describedby",t.describedBy||t._id+"-none")},fixed:function(e){var t=this;if(t.state.get("fixed")!==e){if(t.state.get("rendered")){var n=It.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e,t=this,n=t._super();for(e=Mn.length;e--&&Mn[e]!==t;);return e===-1&&Mn.push(t),n},hide:function(){return y(this),b(!1,this),this._super()},hideAll:function(){Pn.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),b(!1,e)),e},remove:function(){y(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});Pn.hideAll=function(){for(var e=Mn.length;e--;){var t=Mn[e];t&&t.settings.autohide&&(t.hide(),Mn.splice(e,1))}};var Wn=function(e,t){return!(!e||t.settings.ui_container)},Dn=function(e,t,n){var i,r,o=ne.DOM,s=U(e);s&&(r=o.select(s)[0]);var a=function(){if(i&&i.moveRel&&i.visible()&&!i._fixed){var t=e.selection.getScrollContainer(),n=e.getBody(),r=0,s=0;if(t){var a=o.getPos(n),l=o.getPos(t);r=Math.max(0,l.x-a.x),s=Math.max(0,l.y-a.y)}i.fixed(!1).moveRel(n,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(r,s)}},l=function(){i&&(i.show(),a(),o.addClass(e.getBody(),"mce-edit-focus"))},u=function(){i&&(i.hide(),Pn.hideAll(),o.removeClass(e.getBody(),"mce-edit-focus"))},c=function(){return i?void(i.visible()||l()):(i=t.panel=ie.create({type:r?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:Wn(r,e),border:1,items:[A(e)===!1?null:{type:"menubar",border:"0 0 1 0",items:ht.createMenuButtons(e)},Pe.createToolbars(e,I(e))]}),Se.setUiContainer(e,i),le.fireBeforeRenderUI(e),r?i.renderTo(r).reflow():i.renderTo().reflow(),de.addKeys(e,i),l(),Ie.addContextualToolbars(e),e.on("nodeChange",a),e.on("ResizeWindow",a),e.on("activate",l),e.on("deactivate",u),void e.nodeChanged())};return e.settings.content_editable=!0,e.on("focus",function(){G(e)===!1&&n.skinUiCss?o.styleSheetLoader.load(n.skinUiCss,c,c):c()}),e.on("blur hide",u),e.on("remove",function(){i&&(i.remove(),i=null)}),G(e)===!1&&n.skinUiCss?o.styleSheetLoader.load(n.skinUiCss,Nt.fireSkinLoaded(e)):Nt.fireSkinLoaded(e)(),{}},Bn={render:Dn},On=function(e,t){var n;e.on("ProgressState",function(e){n=n||new x(t.panel.getEl("body")),e.state?n.show(e.time):n.hide()})},An={setup:On},zn=function(e,t,n){var i=Q(e);return i&&(n.skinUiCss=i+"/skin.min.css",e.contentCSS.push(i+"/content"+(e.inline?".inline":"")+".min.css")),An.setup(e,t),K(e)?Bn.render(e,t,n):At.render(e,t,n)},Ln={renderUI:zn},In=Rn.extend({Mixins:[qt],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}}),Fn=Rn.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&Fn.tooltips!==!1&&(t.on("mouseenter",function(n){var i=t.tooltip().moveTo(-65535);if(n.control===t){var r=i.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);i.classes.toggle("tooltip-n","bc-tc"===r),i.classes.toggle("tooltip-nw","bc-tl"===r),i.classes.toggle("tooltip-ne","bc-tr"===r),i.moveRel(t.getEl(),r)}else i.hide()}),t.on("mouseleave mousedown click",function(){t.tooltip().remove(),t._tooltip=null})),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new In({type:"tooltip"}),Se.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",function(t){e(t.value)}),n.state.on("change:active",function(e){t(e.value)}),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),Un=Fn.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add("progress"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this,t=e._id,n=this.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}var t=this;return t.state.on("change:value",function(t){e(t.value)}),e(t.state.get("value")),t._super()}}),Vn=function(e,t){e.getEl().lastChild.textContent=t+(e.progressBar?" "+e.progressBar.value()+"%":"")},Yn=Rn.extend({Mixins:[qt],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),t.maxWidth=e.maxWidth,e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new Un),t.on("click",function(e){e.target.className.indexOf(t.classPrefix+"close")!==-1&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n="",i="",r="",o="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),o=' style="max-width: '+e.maxWidth+"px;"+(e.color?"background-color: "+e.color+';"':'"'),e.closeButton&&(i='<button type="button" class="'+t+'close" aria-hidden="true"></button>'),e.progressBar&&(r=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+o+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+r+i+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var e=this;return he.setTimeout(function(){e.$el.addClass(e.classPrefix+"in"),Vn(e,e.state.get("text"))},100),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().firstChild.innerHTML=t.value,Vn(e,t.value)}),e.progressBar&&(e.progressBar.bindStates(),e.progressBar.state.on("change:value",function(t){Vn(e,e.state.get("text"))})),e._super()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||e.remove(),e},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}}),$n=[],qn="",Xn=Pn.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var t=this;t._super(e),t.isRtl()&&t.classes.add("rtl"),t.classes.add("window"),t.bodyClasses.add("window-body"),t.state.set("fixed",!0),e.buttons&&(t.statusbar=new Tn({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:t.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),t.statusbar.classes.add("foot"),t.statusbar.parent(t)),t.on("click",function(e){var n=t.classPrefix+"close";(It.hasClass(e.target,n)||It.hasClass(e.target.parentNode,n))&&t.close()}),t.on("cancel",function(){t.close()}),t.on("move",function(e){e.control===t&&Pn.hideAll()}),t.aria("describedby",t.describedBy||t._id+"-none"),t.aria("label",e.title),t._fullscreen=!1},recalc:function(){var e,t,n,i,r=this,o=r.statusbar;r._fullscreen&&(r.layoutRect(It.getWindowSize()),r.layoutRect().contentH=r.layoutRect().innerH),r._super(),e=r.layoutRect(),r.settings.title&&!r._fullscreen&&(t=e.headerW,t>e.w&&(n=e.x-Math.max(0,t/2),r.layoutRect({w:t,x:n}),i=!0)),o&&(o.layoutRect({w:r.layoutRect().innerW}).recalc(),t=o.layoutRect().minW+e.deltaW,t>e.w&&(n=e.x-Math.max(0,t-e.w),r.layoutRect({w:t,x:n}),i=!0)),i&&r.recalc()},initLayoutRect:function(){var e,t=this,n=t._super(),i=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var r=It.getSize(e);n.headerW=r.width,n.headerH=r.height,i+=n.headerH}t.statusbar&&(i+=t.statusbar.layoutRect().h),n.deltaH+=i,n.minH+=i,n.h+=i;var o=It.getWindowSize();return n.x=t.settings.x||Math.max(0,o.w/2-n.w/2),n.y=t.settings.y||Math.max(0,o.h/2-n.h/2),n},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",s="",a=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+e.encode(r.title)+'</div><div id="'+n+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),r.url&&(a='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),"undefined"==typeof a&&(a=t.renderHtml(e)),e.statusbar&&(s=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+a+"</div>"+s+"</div></div>"},fullscreen:function(e){var t,n,i=this,r=document.documentElement,o=i.classPrefix;if(e!==i._fullscreen)if(zt(window).on("resize",function(){var e;if(i._fullscreen)if(t)i._timer||(i._timer=he.setTimeout(function(){var e=It.getWindowSize();i.moveTo(0,0).resizeTo(e.w,e.h),i._timer=0},50));else{e=(new Date).getTime();var n=It.getWindowSize();i.moveTo(0,0).resizeTo(n.w,n.h),(new Date).getTime()-e>50&&(t=!0)}}),n=i.layoutRect(),i._fullscreen=e,e){i._initial={x:n.x,y:n.y,w:n.w,h:n.h},i.borderBox=Jt.parseBox("0"),i.getEl("head").style.display="none",n.deltaH-=n.headerH+2,zt([r,document.body]).addClass(o+"fullscreen"),i.classes.add("fullscreen");var s=It.getWindowSize();i.moveTo(0,0).resizeTo(s.w,s.h)}else i.borderBox=Jt.parseBox(i.settings.border),i.getEl("head").style.display="",n.deltaH+=n.headerH,zt([r,document.body]).removeClass(o+"fullscreen"),i.classes.remove("fullscreen"),i.moveTo(i._initial.x,i._initial.y).resizeTo(i._initial.w,i._initial.h);return i.reflow()},postRender:function(){var e,t=this;setTimeout(function(){t.classes.add("in"),t.fire("open")},0),t._super(),t.statusbar&&t.statusbar.postRender(),t.focus(),this.dragHelper=new d(t._id+"-dragh",{start:function(){e={x:t.layoutRect().x,y:t.layoutRect().y}},drag:function(n){t.moveTo(e.x+n.deltaX,e.y+n.deltaY)}}),t.on("submit",function(e){e.isDefaultPrevented()||t.close()}),$n.push(t),_(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),R(t.classPrefix,!1),e=$n.length;e--;)$n[e]===t&&$n.splice(e,1);_($n.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});E();var jn=Xn.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(e){function t(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),i(t)}}}var n,i=e.callback||function(){};switch(e.buttons){case jn.OK_CANCEL:n=[t("Ok",!0,!0),t("Cancel",!1)];
break;case jn.YES_NO:case jn.YES_NO_CANCEL:n=[t("Yes",1,!0),t("No",0)],e.buttons===jn.YES_NO_CANCEL&&n.push(t("Cancel",-1));break;default:n=[t("Ok",!0,!0)]}return new Xn({padding:20,x:e.x,y:e.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:n,title:e.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:e.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:e.onClose,onCancel:function(){i(!1)}}).renderTo(document.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,jn.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=jn.OK_CANCEL,jn.msgBox(e)}}}),Jn=function(e){var t=function(t){return Ln.renderUI(e,this,t)},n=function(t,n){return bt.resizeTo(e,t,n)},i=function(t,n){return bt.resizeBy(e,t,n)},r=function(){return w(e)},o=function(){return k(e)};return{renderUI:t,resizeTo:n,resizeBy:i,getNotificationManagerImpl:r,getWindowManagerImpl:o}},Gn={get:Jn},Kn=Xt.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=B.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,i,r,o=this,s=o.settings;t=s.firstControlClass,n=s.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(s.controlClass),e.visible()&&(i||(i=e),r=e)}),i&&i.classes.add(t),r&&r.classes.add(n)},renderHtml:function(e){var t=this,n="";return t.applyClasses(e.items()),e.items().each(function(e){n+=e.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),Zn=Kn.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}}),Qn=Fn.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&(e=t.style,e.width=e.height="100%"),this._super()},renderHtml:function(){var e,t,n=this,i=n._id,r=n.classPrefix,o=n.state.get("icon"),s=n.state.get("text"),a="",l=n.settings;return e=l.image,e?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",s&&(n.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+n.encode(s)+"</span>"),o=o?r+"ico "+r+"i-"+o:"",t="boolean"==typeof l.active?' aria-pressed="'+l.active+'"':"",'<div id="'+i+'" class="'+n.classes+'" tabindex="-1"'+t+'><button id="'+i+'-button" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+a+"</button></div>"},bindStates:function(){function e(e){var r=n("span."+i,t.getEl());e?(r[0]||(n("button:first",t.getEl()).append('<span class="'+i+'"></span>'),r=n("span."+i,t.getEl())),r.html(t.encode(e))):r.remove(),t.classes.toggle("btn-has-text",!!e)}var t=this,n=t.$,i=t.classPrefix+"txt";return t.state.on("change:text",function(t){e(t.value)}),t.state.on("change:icon",function(n){var i=n.value,r=t.classPrefix;t.settings.icon=i,i=i?r+"ico "+r+"i-"+t.settings.icon:"";var o=t.getEl().firstChild,s=o.getElementsByTagName("i")[0];i?(s&&s===o.firstChild||(s=document.createElement("i"),o.insertBefore(s,o.firstChild)),s.className=i):s&&o.removeChild(s),e(t.state.get("text"))}),t._super()}}),ei=Qn.extend({init:function(e){var t=this;e=B.extend({text:"Browse...",multiple:!1,accept:null},e),t._super(e),t.classes.add("browsebutton"),e.multiple&&t.classes.add("multiple")},postRender:function(){var e=this,t=It.create("input",{type:"file",id:e._id+"-browse",accept:e.settings.accept});e._super(),zt(t).on("change",function(t){var n=t.target.files;e.value=function(){return n.length?e.settings.multiple?n:n[0]:null},t.preventDefault(),n.length&&e.fire("change",t)}),zt(t).on("click",function(e){e.stopPropagation()}),zt(e.getEl("button")).on("click",function(e){e.stopPropagation(),t.click()}),e.getEl().appendChild(t)},remove:function(){zt(this.getEl("button")).off(),zt(this.getEl("input")).off(),this._super()}}),ti=kn.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}}),ni=Fn.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){function e(e){t.classes.toggle("checked",e),t.aria("checked",e)}var t=this;return t.state.on("change:text",function(e){t.getEl("al").firstChild.data=t.translate(e.value)}),t.state.on("change:checked change:value",function(n){t.fire("change"),e(n.value)}),t.state.on("change:icon",function(e){var n=e.value,i=t.classPrefix;if("undefined"==typeof n)return t.settings.icon;t.settings.icon=n,n=n?i+"ico "+i+"i-"+t.settings.icon:"";var r=t.getEl().firstChild,o=r.getElementsByTagName("i")[0];n?(o&&o===r.firstChild||(o=document.createElement("i"),r.insertBefore(o,r.firstChild)),o.className=n):o&&r.removeChild(o)}),t.state.get("checked")&&e(!0),t._super()}}),ii=tinymce.util.Tools.resolve("tinymce.util.VK"),ri=Fn.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add("combobox"),t.subinput=!0,t.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",function(n){var i=n.target,r=t.getEl();if(zt.contains(r,i)||i===r)for(;i&&i!==r;)i.id&&i.id.indexOf("-open")!==-1&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),i=i.parentNode}),t.on("keydown",function(e){var n;13===e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){if("INPUT"===e.target.nodeName){var n=t.state.get("value"),i=e.target.value;i!==n&&(t.state.set("value",i),t.fire("autocomplete",e))}}),t.on("mouseover",function(e){var n=t.tooltip().moveTo(-65535);if(t.statusLevel()&&e.target.className.indexOf(t.classPrefix+"status")!==-1){var i=t.statusMessage()||"Ok",r=n.text(i).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"===r),n.classes.toggle("tooltip-nw","bc-tl"===r),n.classes.toggle("tooltip-ne","bc-tr"===r),n.moveRel(e.target,r)}})},statusLevel:function(e){return arguments.length>0&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return arguments.length>0&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,t=this,n=t.settings;t.menu||(e=n.menu||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=ie.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()===t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"===e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var e,t,n=this,i=n.getEl(),r=n.getEl("open"),o=n.layoutRect(),s=0,a=i.firstChild;n.statusLevel()&&"none"!==n.statusLevel()&&(s=parseInt(It.getRuntimeStyle(a,"padding-right"),10)-parseInt(It.getRuntimeStyle(a,"padding-left"),10)),e=r?o.w-It.getSize(r).width-10:o.w-10;var l=document;return l.all&&(!l.documentMode||l.documentMode<=8)&&(t=n.layoutRect().h-2+"px"),zt(a).css({width:e-s,lineHeight:t}),n._super(),n},postRender:function(){var e=this;return zt(this.getEl("inp")).on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)}),e._super()},renderHtml:function(){var e,t,n=this,i=n._id,r=n.settings,o=n.classPrefix,s=n.state.get("value")||"",a="",l="",u="";return"spellcheck"in r&&(l+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(l+=' maxlength="'+r.maxLength+'"'),r.size&&(l+=' size="'+r.size+'"'),r.subtype&&(l+=' type="'+r.subtype+'"'),u='<i id="'+i+'-status" class="mce-status mce-ico" style="display: none"></i>',n.disabled()&&(l+=' disabled="disabled"'),e=r.icon,e&&"caret"!==e&&(e=o+"ico "+o+"i-"+r.icon),t=n.state.get("text"),(e||t)&&(a='<div id="'+i+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==e?'<i class="'+e+'"></i>':'<i class="'+o+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",n.classes.add("has-open")),'<div id="'+i+'" class="'+n.classes+'"><input id="'+i+'-inp" class="'+o+'textbox" value="'+n.encode(s,!1)+'" hidefocus="1"'+l+' placeholder="'+n.encode(r.placeholder)+'" />'+u+a+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,t){var n=this;if(0===e.length)return void n.hideMenu();var i=function(e,t){return function(){n.fire("selectitem",{title:t,value:e})}};n.menu?n.menu.items().remove():n.menu=ie.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(n).renderTo(),B.each(e,function(e){n.menu.add({text:e.title,url:e.previewUrl,match:t,classes:"menu-item-ellipsis",onclick:i(e.value,e.title)})}),n.menu.renderNew(),n.hideMenu(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()});var r=n.layoutRect().w;n.menu.layoutRect({w:r,minW:0,maxW:r}),n.menu.repaint(),n.menu.reflow(),n.menu.show(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on("change:value",function(t){e.getEl("inp").value!==t.value&&(e.getEl("inp").value=t.value)}),e.state.on("change:disabled",function(t){e.getEl("inp").disabled=t.value}),e.state.on("change:statusLevel",function(t){var n=e.getEl("status"),i=e.classPrefix,r=t.value;It.css(n,"display","none"===r?"none":""),It.toggleClass(n,i+"i-checkmark","ok"===r),It.toggleClass(n,i+"i-warning","warn"===r),It.toggleClass(n,i+"i-error","error"===r),e.classes.toggle("has-status","none"!==r),e.repaint()}),It.on(e.getEl("status"),"mouseleave",function(){e.tooltip().hide()}),e.on("cancel",function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())});var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on("keydown",function(n){var i=n.keyCode;"INPUT"===n.target.nodeName&&(i===ii.DOWN?(n.preventDefault(),e.fire("autocomplete"),t(0,e.menu)):i===ii.UP&&(n.preventDefault(),t(-1,e.menu)))}),e._super()},remove:function(){zt(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),oi=ri.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(i){}},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.state.get("rendered")&&e.repaintColor(t.value)}),e._super()}}),si=Qn.extend({showPanel:function(){var e=this,t=e.settings;if(e.classes.add("opened"),e.panel)e.panel.show();else{var n=t.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,e.panel=new Pn(n).on("hide",function(){e.classes.remove("opened")}).on("cancel",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}var i=["bc-tc","bc-tl","bc-tr"],r=["bc-tc","bc-tr","bc-tl","tc-bc","tc-br","tc-bl"],o=e.panel.testMoveRel(e.getEl(),t.popoverAlign||(e.isRtl()?i:r));e.panel.classes.toggle("start","l"===o.substr(-1)),e.panel.classes.toggle("end","r"===o.substr(-1));var s="t"===o.substr(0,1);e.panel.classes.toggle("bottom",!s),e.panel.classes.toggle("top",s),e.panel.moveRel(e.getEl(),o)},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),ai=ne.DOM,li=si.extend({init:function(e){this._super(e),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get("text"),r=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",s="";return i&&(e.classes.add("btn-has-text"),s='<span class="'+n+'txt">'+e.encode(i)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+s+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(n){n.aria&&"down"===n.aria.key||n.control!==e||ai.getParent(n.target,"."+e.classPrefix+"open")||(n.stopImmediatePropagation(),t.call(e,n))}),delete e.settings.onclick,e._super()}}),ui=tinymce.util.Tools.resolve("tinymce.util.Color"),ci=Fn.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var n,i,r=It.getPos(e);return n=t.pageX-r.x,i=t.pageY-r.y,n=Math.max(0,Math.min(n/e.clientWidth,1)),i=Math.max(0,Math.min(i/e.clientHeight,1)),{x:n,y:i}}function t(e,t){var n=(360-e.h)/360;It.css(s,{top:100*n+"%"}),t||It.css(l,{left:e.s+"%",top:100-e.v+"%"}),a.style.background=ui({s:100,v:100,h:e.h}).toHex(),u.color().parse({s:e.s,v:e.v,h:e.h})}function n(n){var i;i=e(a,n),r.s=100*i.x,r.v=100*(1-i.y),t(r),u.fire("change")}function i(n){var i;i=e(o,n),r=c.toHsv(),r.h=360*(1-i.y),t(r,!0),u.fire("change")}var r,o,s,a,l,u=this,c=u.color();o=u.getEl("h"),s=u.getEl("hp"),a=u.getEl("sv"),l=u.getEl("svp"),u._repaint=function(){r=c.toHsv(),t(r)},u._super(),u._svdraghelper=new d(u._id+"-sv",{start:n,drag:n}),u._hdraghelper=new d(u._id+"-h",{start:i,drag:i}),u._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;return arguments.length?(t.color().parse(e),void(t._rendered&&t._repaint())):t.color().toHex()},color:function(){return this._color||(this._color=ui()),this._color},renderHtml:function(){function e(){var e,t,n,i,s="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",i=o.split(","),e=0,t=i.length-1;e<t;e++)s+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+i[e]+",endColorstr="+i[e+1]+");-ms-"+n+i[e]+",endColorstr="+i[e+1]+')"></div>';return s}var t,n=this,i=n._id,r=n.classPrefix,o="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",s="background: -ms-linear-gradient(top,"+o+");background: linear-gradient(to bottom,"+o+");";return t='<div id="'+i+'-h" class="'+r+'colorpicker-h" style="'+s+'">'+e()+'<div id="'+i+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+i+'" class="'+n.classes+'"><div id="'+i+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+i+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+t+"</div>"}}),di=Fn.extend({init:function(e){var t=this;e=B.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),t._super(e),t.classes.add("dropzone"),e.multiple&&t.classes.add("multiple")},renderHtml:function(){var e,t,n=this,i=n.settings;return e={id:n._id,hidefocus:"1"},t=It.create("div",e,"<span>"+this.translate(i.text)+"</span>"),i.height&&It.css(t,"height",i.height+"px"),i.width&&It.css(t,"width",i.width+"px"),t.className=n.classes,t.outerHTML},postRender:function(){var e=this,t=function(t){t.preventDefault(),e.classes.toggle("dragenter"),e.getEl().className=e.classes},n=function(t){var n=e.settings.accept;if("string"!=typeof n)return t;var i=new RegExp("("+n.split(/\s*,\s*/).join("|")+")$","i");return B.grep(t,function(e){return i.test(e.name)})};e._super(),e.$el.on("dragover",function(e){e.preventDefault()}),e.$el.on("dragenter",t),e.$el.on("dragleave",t),e.$el.on("drop",function(t){if(t.preventDefault(),!e.state.get("disabled")){var i=n(t.dataTransfer.files);e.value=function(){return i.length?e.settings.multiple?i:i[0]:null},i.length&&e.fire("change",t)}})},remove:function(){this.$el.off(),this._super()}}),fi=Fn.extend({init:function(e){var t=this;e.delimiter||(e.delimiter=""),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){var n,i=e.target;(n=i.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t,n,i=this,r=e||[],o="",s=i.classPrefix;for(t=0,n=r.length;t<n;t++)o+=(t>0?'<div class="'+s+'divider" aria-hidden="true"> '+i.settings.delimiter+" </div>":"")+'<div role="button" class="'+s+"path-item"+(t===n-1?" "+s+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+i._id+"-"+t+'" aria-level="'+(t+1)+'">'+r[t].name+"</div>";return o||(o='<div class="'+s+'path-item"></div>'),o}}),hi=fi.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var t=this,n=t.settings.editor;return n.settings.elementpath!==!1&&(t.on("select",function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()}),n.on("nodeChange",function(i){for(var r=[],o=i.parents,s=o.length;s--;)if(1===o[s].nodeType&&!e(o[s])){var a=n.fire("ResolveName",{name:o[s].nodeName.toLowerCase(),target:o[s]});if(a.isDefaultPrevented()||r.push({name:a.name,element:o[s]}),a.isPropagationStopped())break}t.row(r)})),t._super()}}),mi=kn.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}}),gi=kn.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,t=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),t.each(function(t){var n,i=t.settings.label;i&&(n=new mi(B.extend({items:{type:"label",id:t._id+"-l",text:i,flex:0,forId:t._id,disabled:t.disabled()}},e.settings.formItemDefaults)),n.type="formitem",t.aria("labelledby",t._id+"-l"),"undefined"==typeof t.settings.flex&&(t.settings.flex=1),e.replace(t,n),n.add(t))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e,n,i,r=0,o=[];if(t.settings.labelGapCalc!==!1)for(i="children"===t.settings.labelGapCalc?t.find("formitem"):t.items(),i.filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;r=n>r?n:r,o.push(t)}),n=t.settings.labelGap||0,e=o.length;e--;)o[e].settings.minWidth=r+n}var t=this;t._super(),t.on("show",e),e()}}),pi=gi.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}}),vi=0,bi=function(e){var t=new Date,n=t.getTime(),i=Math.floor(1e9*Math.random());return vi++,e+"_"+i+vi+String(n)},yi=function(e,t){var n=t||document,i=n.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return _i(i.childNodes[0])},xi=function(e,t){var n=t||document,i=n.createElement(e);return _i(i)},wi=function(e,t){var n=t||document,i=n.createTextNode(e);return _i(i)},_i=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:ge(e)}},Ri=function(e,t,n){var i=e.dom();return Ce.from(i.elementFromPoint(t,n)).map(_i)},Ci={fromHtml:yi,fromTag:xi,fromText:wi,fromDom:_i,fromPoint:Ri},Ei=function(e){var t,n=!1;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return n||(n=!0,t=e.apply(null,i)),t}},ki=(Node.ATTRIBUTE_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE,Node.DOCUMENT_NODE),Hi=(Node.DOCUMENT_TYPE_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE),Ti=(Node.TEXT_NODE,Node.PROCESSING_INSTRUCTION_NODE,Node.ENTITY_REFERENCE_NODE,Node.ENTITY_NODE,Node.NOTATION_NODE,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var i={};return Je(e,function(e,n){i[e]=ge(t[n])}),i}}),Si="undefined"!=typeof window?window:Function("return this;")(),Mi=function(e,t){for(var n=void 0!==t&&null!==t?t:Si,i=0;i<e.length&&void 0!==n&&null!==n;++i)n=n[e[i]];return n},Ni=function(e,t){var n=e.split(".");return Mi(n,t)},Pi=function(e,t){return Ni(e,t)},Wi=function(e,t){var n=Pi(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},Di={getOrDie:Wi},Bi=function(){var e=Di.getOrDie("Node");return e},Oi=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Ai=function(e,t){return Oi(e,t,Bi().DOCUMENT_POSITION_PRECEDING)},zi=function(e,t){return Oi(e,t,Bi().DOCUMENT_POSITION_CONTAINED_BY)},Li={documentPositionPreceding:Ai,documentPositionContainedBy:zi},Ii=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}},Fi=function(e,t){var n=Ii(e,t);if(!n)return{major:0,minor:0};var i=function(e){return Number(t.replace(n,"$"+e))};return Yi(i(1),i(2))},Ui=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Vi():Fi(e,n)},Vi=function(){return Yi(0,0)},Yi=function(e,t){return{major:e,minor:t}},$i={nu:Yi,detect:Ui,unknown:Vi},qi="Edge",Xi="Chrome",ji="IE",Ji="Opera",Gi="Firefox",Ki="Safari",Zi=function(e,t){return function(){return t===e}},Qi=function(){return er({current:void 0,version:$i.unknown()})},er=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:Zi(qi,t),isChrome:Zi(Xi,t),isIE:Zi(ji,t),isOpera:Zi(Ji,t),isFirefox:Zi(Gi,t),isSafari:Zi(Ki,t)}},tr={unknown:Qi,nu:er,edge:ge(qi),chrome:ge(Xi),ie:ge(ji),opera:ge(Ji),firefox:ge(Gi),safari:ge(Ki)},nr="Windows",ir="iOS",rr="Android",or="Linux",sr="OSX",ar="Solaris",lr="FreeBSD",ur=function(e,t){return function(){return t===e}},cr=function(){return dr({current:void 0,version:$i.unknown()})},dr=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:ur(nr,t),isiOS:ur(ir,t),isAndroid:ur(rr,t),isOSX:ur(sr,t),isLinux:ur(or,t),isSolaris:ur(ar,t),isFreeBSD:ur(lr,t)}},fr={unknown:cr,nu:dr,windows:ge(nr),ios:ge(ir),android:ge(rr),linux:ge(or),osx:ge(sr),solaris:ge(ar),freebsd:ge(lr)},hr=function(e,t,n){var i=e.isiOS()&&/ipad/i.test(n)===!0,r=e.isiOS()&&!i,o=e.isAndroid()&&3===e.version.major,s=e.isAndroid()&&4===e.version.major,a=i||o||s&&/mobile/i.test(n)===!0,l=e.isiOS()||e.isAndroid(),u=l&&!a,c=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1;return{isiPad:ge(i),isiPhone:ge(r),isTablet:ge(a),isPhone:ge(u),isTouch:ge(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ge(c)}},mr=function(e,t){var n=String(t).toLowerCase();return Ze(e,function(e){return e.search(n)})},gr=function(e,t){return mr(e,t).map(function(e){var n=$i.detect(e.versionRegexes,t);return{current:e.name,version:n}})},pr=function(e,t){return mr(e,t).map(function(e){var n=$i.detect(e.versionRegexes,t);return{current:e.name,version:n}})},vr={detectBrowser:gr,detectOs:pr},br=function(e,t){return e.indexOf(t)!==-1},yr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,xr=function(e){return function(t){return br(t,e)}},wr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){var t=br(e,"edge/")&&br(e,"chrome")&&br(e,"safari")&&br(e,"applewebkit");return t}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yr],search:function(e){return br(e,"chrome")&&!br(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return br(e,"msie")||br(e,"trident")}},{name:"Opera",versionRegexes:[yr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:xr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:xr("firefox")},{name:"Safari",versionRegexes:[yr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(br(e,"safari")||br(e,"mobile/"))&&br(e,"applewebkit")}}],_r=[{name:"Windows",search:xr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return br(e,"iphone")||br(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:xr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:xr("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:xr("linux"),versionRegexes:[]},{name:"Solaris",search:xr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:xr("freebsd"),versionRegexes:[]}],Rr={browsers:ge(wr),oses:ge(_r)},Cr=function(e){var t=Rr.browsers(),n=Rr.oses(),i=vr.detectBrowser(t,e).fold(tr.unknown,tr.nu),r=vr.detectOs(n,e).fold(fr.unknown,fr.nu),o=hr(r,i,e);return{browser:i,os:r,deviceType:o}},Er={detect:Cr},kr=Ei(function(){var e=navigator.userAgent;return Er.detect(e)}),Hr={detect:kr},Tr=Hi,Sr=ki,Mr=function(e){return e.nodeType!==Tr&&e.nodeType!==Sr||0===e.childElementCount},Nr=function(e,t){var n=void 0===t?document:t.dom();return Mr(n)?[]:je(n.querySelectorAll(e),Ci.fromDom)},Pr=function(e,t){var n=void 0===t?document:t.dom();return Mr(n)?Ce.none():Ce.from(n.querySelector(e)).map(Ci.fromDom)},Wr=function(e,t){var n=e.dom(),i=t.dom();return n!==i&&n.contains(i)},Dr=function(e,t){return Li.documentPositionContainedBy(e.dom(),t.dom())},Br=Hr.detect().browser,Or=(Br.isIE()?Dr:Wr,Ti("element","offset"),function(e,t){return Nr(t,e)}),Ar=B.trim,zr=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Lr=zr("true"),Ir=zr("false"),Fr=function(e,t,n,i,r){return{type:e,title:t,url:n,level:i,attach:r}},Ur=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return Lr(e)}return!1},Vr=function(e,t){return je(Or(Ci.fromDom(t),e),function(e){return e.dom()})},Yr=function(e){return e.innerText||e.textContent},$r=function(e){return e.id?e.id:bi("h")},qr=function(e){return e&&"A"===e.nodeName&&(e.id||e.name)},Xr=function(e){return qr(e)&&Jr(e)},jr=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},Jr=function(e){return Ur(e)&&!Ir(e)},Gr=function(e){return jr(e)&&Jr(e)},Kr=function(e){return jr(e)?parseInt(e.nodeName.substr(1),10):0},Zr=function(e){var t=$r(e),n=function(){e.id=t};return Fr("header",Yr(e),"#"+t,Kr(e),n)},Qr=function(e){var t=e.id||e.name,n=Yr(e);return Fr("anchor",n?n:"#"+t,"#"+t,0,me)},eo=function(e){return je(Ge(e,Gr),Zr)},to=function(e){return je(Ge(e,Xr),Qr)},no=function(e){var t=Vr("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t},io=function(e){return Ar(e.title).length>0},ro=function(e){var t=no(e);return Ge(eo(t).concat(to(t)),io)},oo={find:ro},so=function(){return window.tinymce?window.tinymce.activeEditor:D.activeEditor},ao={},lo=5,uo=function(){ao={}},co=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},fo=function(e){return B.map(e,co)},ho=function(e,t){return{title:e,value:{title:e,url:t,attach:me}}},mo=function(e,t){var n=Xe(t,function(t){return t.url===e});return!n},go=function(e,t,n){var i=t in e?e[t]:n;return i===!1?null:i},po=function(e,t,n,i){var r={title:"-"},o=function(e){var i=e.hasOwnProperty(n)?e[n]:[],r=Ge(i,function(e){return mo(e,t)});return B.map(r,function(e){return{title:e,value:{title:e,url:e,attach:me}}})},s=function(e){var n=Ge(t,function(t){return t.type===e});return fo(n)},a=function(){var e=s("anchor"),t=go(i,"anchor_top","#top"),n=go(i,"anchor_bottom","#bottom");return null!==t&&e.unshift(ho("<top>",t)),null!==n&&e.push(ho("<bottom>",n)),e},l=function(e){return Ke(e,function(e,t){var n=0===e.length||0===t.length;return n?e.concat(t):e.concat(r,t)},[])};return i.typeahead_urls===!1?[]:"file"===n?l([bo(e,o(ao)),bo(e,s("header")),bo(e,a())]):bo(e,o(ao))},vo=function(e,t){var n=ao[t];/^https?/.test(e)&&(n?qe(n,e).isNone()&&(ao[t]=n.slice(0,lo).concat(e)):ao[t]=[e])},bo=function(e,t){var n=e.toLowerCase(),i=B.grep(t,function(e){return e.title.toLowerCase().indexOf(n)!==-1});return 1===i.length&&i[0].title===e?[]:i},yo=function(e){var t=e.title;return t.raw?t.raw:t},xo=function(e,t,n,i){var r=function(r){var o=oo.find(n),s=po(r,o,i,t);e.showAutoComplete(s,r)};e.on("autocomplete",function(){r(e.value())}),e.on("selectitem",function(t){var n=t.value;e.value(n.url);var r=yo(n);"image"===i?e.fire("change",{
meta:{alt:r,attach:n.attach}}):e.fire("change",{meta:{text:r,attach:n.attach}}),e.focus()}),e.on("click",function(t){0===e.value().length&&"INPUT"===t.target.nodeName&&r("")}),e.on("PostRender",function(){e.getRoot().on("submit",function(t){t.isDefaultPrevented()||vo(e.value(),i)})})},wo=function(e){var t=e.status,n=e.message;return"valid"===t?{status:"ok",message:n}:"unknown"===t?{status:"warn",message:n}:"invalid"===t?{status:"warn",message:n}:{status:"none",message:""}},_o=function(e,t,n){var i=t.filepicker_validator_handler;if(i){var r=function(t){return 0===t.length?void e.statusLevel("none"):void i({url:t,type:n},function(t){var n=wo(t);e.statusMessage(n.message),e.statusLevel(n.status)})};e.state.on("change:value",function(e){r(e.value)})}},Ro=ri.extend({Statics:{clearHistory:uo},init:function(e){var t,n,i,r=this,o=so(),s=o.settings,a=e.filetype;e.spellcheck=!1,i=s.file_picker_types||s.file_browser_callback_types,i&&(i=B.makeMap(i,/[, ]/)),i&&!i[a]||(n=s.file_picker_callback,!n||i&&!i[a]?(n=s.file_browser_callback,!n||i&&!i[a]||(t=function(){n(r.getEl("inp").id,r.value(),a,window)})):t=function(){var e=r.fire("beforecall").meta;e=B.extend({filetype:a},e),n.call(o,function(e,t){r.value(e).fire("change",{meta:t})},r.value(),e)}),t&&(e.icon="browse",e.onaction=t),r._super(e),r.classes.add("filepicker"),xo(r,s,o.getBody(),a),_o(r,s,a)}}),Co=Zn.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}}),Eo=Zn.extend({recalc:function(e){var t,n,i,r,o,s,a,l,u,c,d,f,h,m,g,p,v,b,y,x,w,_,R,C,E,k,H,T,S,M,N,P,W,D,B,O,A,z,L=[],I=Math.max,F=Math.min;for(i=e.items().filter(":visible"),r=e.layoutRect(),o=e.paddingBox,s=e.settings,f=e.isRtl()?s.direction||"row-reversed":s.direction,a=s.align,l=e.isRtl()?s.pack||"end":s.pack,u=s.spacing||0,"row-reversed"!==f&&"column-reverse"!==f||(i=i.set(i.toArray().reverse()),f=f.split("-")[0]),"column"===f?(E="y",R="h",C="minH",k="maxH",T="innerH",H="top",S="deltaH",M="contentH",B="left",W="w",N="x",P="innerW",D="minW",O="right",A="deltaW",z="contentW"):(E="x",R="w",C="minW",k="maxW",T="innerW",H="left",S="deltaW",M="contentW",B="top",W="h",N="y",P="innerH",D="minH",O="bottom",A="deltaH",z="contentH"),d=r[T]-o[H]-o[H],_=c=0,t=0,n=i.length;t<n;t++)h=i[t],m=h.layoutRect(),g=h.settings,p=g.flex,d-=t<n-1?u:0,p>0&&(c+=p,m[k]&&L.push(h),m.flex=p),d-=m[C],v=o[B]+m[D]+o[O],v>_&&(_=v);if(x={},d<0?x[C]=r[C]-d+r[S]:x[C]=r[T]-d+r[S],x[D]=_+r[A],x[M]=r[T]-d,x[z]=_,x.minW=F(x.minW,r.maxW),x.minH=F(x.minH,r.maxH),x.minW=I(x.minW,r.startMinWidth),x.minH=I(x.minH,r.startMinHeight),!r.autoResize||x.minW===r.minW&&x.minH===r.minH){for(y=d/c,t=0,n=L.length;t<n;t++)h=L[t],m=h.layoutRect(),b=m[k],v=m[C]+m.flex*y,v>b?(d-=m[k]-m[C],c-=m.flex,m.flex=0,m.maxFlexSize=b):m.maxFlexSize=0;for(y=d/c,w=o[H],x={},0===c&&("end"===l?w=d+o[H]:"center"===l?(w=Math.round(r[T]/2-(r[T]-d)/2)+o[H],w<0&&(w=o[H])):"justify"===l&&(w=o[H],u=Math.floor(d/(i.length-1)))),x[N]=o[B],t=0,n=i.length;t<n;t++)h=i[t],m=h.layoutRect(),v=m.maxFlexSize||m[C],"center"===a?x[N]=Math.round(r[P]/2-m[W]/2):"stretch"===a?(x[W]=I(m[D]||0,r[P]-o[B]-o[O]),x[N]=o[B]):"end"===a&&(x[N]=r[P]-m[W]-o.top),m.flex>0&&(v+=m.flex*y),x[R]=v,x[E]=w,h.layoutRect(x),h.recalc&&h.recalc(),w+=v+u}else if(x.w=x.minW,x.h=x.minH,e.layoutRect(x),this.recalc(e),null===e._lastRect){var U=e.parent();U&&(U._lastRect=null,U.recalc())}}}),ko=Kn.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}}),Ho=function(e,t){return Pr(t,e)},To=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},So=function(e,t,n){var i=function(e){n(e,t)};e.formatter?e.formatter.formatChanged(t,i):e.on("init",function(){e.formatter.formatChanged(t,i)})},Mo=function(e,t){return function(n){So(e,t,function(e){n.control.active(e)})}},No=function(e){var t=["alignleft","aligncenter","alignright","alignjustify"],n="alignleft",i=[{text:"Left",icon:"alignleft",onclick:To(e,"alignleft")},{text:"Center",icon:"aligncenter",onclick:To(e,"aligncenter")},{text:"Right",icon:"alignright",onclick:To(e,"alignright")},{text:"Justify",icon:"alignjustify",onclick:To(e,"alignjustify")}];e.addMenuItem("align",{text:"Align",menu:i}),e.addButton("align",{type:"menubutton",icon:n,menu:i,onShowMenu:function(n){var i=n.control.menu;B.each(t,function(t,n){i.items().eq(n).each(function(n){return n.active(e.formatter.match(t))})})},onPostRender:function(i){var r=i.control;B.each(t,function(t,i){So(e,t,function(e){r.icon(n),e&&r.icon(t)})})}}),B.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(t,n){e.addButton(n,{active:!1,tooltip:t[0],cmd:t[1],onPostRender:Mo(e,n)})})},Po={register:No},Wo=function(e){return e?e.split(",")[0]:""},Do=function(e,t){var n,i=t?t.toLowerCase():"";return B.each(e,function(e){e.value.toLowerCase()===i&&(n=e.value)}),B.each(e,function(e){n||Wo(e.value).toLowerCase()!==Wo(i).toLowerCase()||(n=e.value)}),n},Bo=function(e,t){return function(){var n=this;n.state.set("value",null),e.on("init nodeChange",function(i){var r=e.queryCommandValue("FontName"),o=Do(t,r);n.value(o?o:null),!o&&r&&n.text(Wo(r))})}},Oo=function(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e},Ao=function(e){var t="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",n=Oo(e.settings.font_formats||t);return B.map(n,function(e){return{text:{raw:e[0]},value:e[1],textStyle:e[1].indexOf("dings")===-1?"font-family:"+e[1]:""}})},zo=function(e){e.addButton("fontselect",function(){var t=Ao(e);return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:Bo(e,t),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}})},Lo=function(e){zo(e)},Io={register:Lo},Fo=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},Uo=function(e,t){return/[0-9.]+px$/.test(e)?Fo(72*parseInt(e,10)/96,t||0)+"pt":e},Vo=function(e,t,n){var i;return B.each(e,function(e){e.value===n?i=n:e.value===t&&(i=t)}),i},Yo=function(e,t){return function(){var n=this;e.on("init nodeChange",function(i){var r,o,s,a;if(r=e.queryCommandValue("FontSize"))for(s=3;!a&&s>=0;s--)o=Uo(r,s),a=Vo(t,o,r);n.value(a?a:null),a||n.text(o)})}},$o=function(e){var t="8pt 10pt 12pt 14pt 18pt 24pt 36pt",n=e.settings.fontsize_formats||t;return B.map(n.split(" "),function(e){var t=e,n=e,i=e.split("=");return i.length>1&&(t=i[0],n=i[1]),{text:t,value:n}})},qo=function(e){e.addButton("fontsizeselect",function(){var t=$o(e);return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:Yo(e,t),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}})},Xo=function(e){qo(e)},jo={register:Xo},Jo=function(e,t){var n=t.length;return B.each(t,function(t){t.menu&&(t.hidden=0===Jo(e,t.menu));var i=t.format;i&&(t.hidden=!e.formatter.canApply(i)),t.hidden&&n--}),n},Go=function(e,t){var n=t.items().length;return t.items().each(function(t){t.menu&&t.visible(Go(e,t.menu)>0),!t.menu&&t.settings.menu&&t.visible(Jo(e,t.settings.menu)>0);var i=t.settings.format;i&&t.visible(e.formatter.canApply(i)),t.visible()||n--}),n},Ko=function(e){var t=0,n=[],i=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],r=function(e){var i=[];if(e)return B.each(e,function(e){var o={text:e.title,icon:e.icon};if(e.items)o.menu=r(e.items);else{var s=e.format||"custom"+t++;e.format||(e.name=s,n.push(e)),o.format=s,o.cmd=e.cmd}i.push(o)}),i},o=function(){var t;return t=r(e.settings.style_formats_merge?e.settings.style_formats?i.concat(e.settings.style_formats):i:e.settings.style_formats||i)};return e.on("init",function(){B.each(n,function(t){e.formatter.register(t.name,t)})}),{type:"menu",items:o(),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return e.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on("show",function(){var n,i;n=t.settings.format,n&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),i=t.settings.cmd,i&&t.active(e.queryCommandState(i))})},onclick:function(){this.settings.format&&To(e,this.settings.format)(),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}},Zo=function(e,t){e.addMenuItem("formats",{text:"Formats",menu:t})},Qo=function(e,t){e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:t,onShowMenu:function(){e.settings.style_formats_autohide&&Go(e,this.menu)}})},es=function(e){var t=Ko(e);Zo(e,t),Qo(e,t)},ts={register:es},ns="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",is=function(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e},rs=function(e,t,n){return function(){var i=this;e.on("nodeChange",function(r){var o=e.formatter,s=null;B.each(r.parents,function(e){if(B.each(t,function(t){if(n?o.matchNode(e,n,{value:t.value})&&(s=t.value):o.matchNode(e,t.value)&&(s=t.value),s)return!1}),s)return!1}),i.value(s)})}},os=function(e,t){return function(){var n=[];return B.each(t,function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})}),{type:"listbox",text:t[0][0],values:n,fixedWidth:!0,onselect:function(t){if(t.control){var n=t.control.value();To(e,n)()}},onPostRender:rs(e,n)}}},ss=function(e,t){return B.map(t,function(t){return{text:t[0],onclick:To(e,t[1]),textStyle:function(){return e.formatter.getCssText(t[1])}}})},as=function(e){var t=is(e.settings.block_formats||ns);e.addMenuItem("blockformats",{text:"Blocks",menu:ss(e,t)}),e.addButton("formatselect",os(e,t))},ls={register:as},us=function(e,t){var n,i;if("string"==typeof t)i=t.split(" ");else if(B.isArray(t))return nt(B.map(t,function(t){return us(e,t)}));return n=B.grep(i,function(t){return"|"===t||t in e.menuItems}),B.map(n,function(t){return"|"===t?{text:"-"}:e.menuItems[t]})},cs=function(e){return e&&"-"===e.text},ds=function(e){var t=Ge(e,function(e,t,n){return!cs(e)||!cs(n[t-1])});return Ge(t,function(e,t,n){return!cs(e)||t>0&&t<n.length-1})},fs=function(e,t){var n=[{text:"-"}],i=B.grep(e.menuItems,function(e){return e.context===t});return B.each(i,function(e){"before"===e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"===e.separator&&n.push({text:"|"})}),n},hs=function(e){var t=e.settings.insert_button_items;return ds(t?us(e,t):fs(e,"insert"))},ms=function(e){e.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(hs(e)),this.menu.renderNew()}})},gs=function(e){ms(e)},ps={register:gs},vs=function(e){B.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{active:!1,tooltip:t,onPostRender:Mo(e,n),onclick:To(e,n)})})},bs=function(e){B.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})})},ys=function(e){B.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(t,n){e.addButton(n,{active:!1,tooltip:t[0],cmd:t[1],onPostRender:Mo(e,n)})})},xs=function(e){vs(e),bs(e),ys(e)},ws=function(e){B.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:To(e,"code")})},_s=function(e){xs(e),ws(e)},Rs={register:_s},Cs=function(e,t){return function(){var n=this,i=function(){var n="redo"===t?"hasRedo":"hasUndo";return!!e.undoManager&&e.undoManager[n]()};n.disabled(!i()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){n.disabled(e.readonly||!i())})}},Es=function(e){e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:Cs(e,"undo"),cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:Cs(e,"redo"),cmd:"redo"})},ks=function(e){e.addButton("undo",{tooltip:"Undo",onPostRender:Cs(e,"undo"),cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:Cs(e,"redo"),cmd:"redo"})},Hs=function(e){Es(e),ks(e)},Ts={register:Hs},Ss=function(e){return function(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}},Ms=function(e){e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:Ss(e),cmd:"mceToggleVisualAid"})},Ns=function(e){Ms(e)},Ps={register:Ns},Ws=function(){Fn.tooltips=!yt.iOS,Rn.translate=function(e){return D.translate(e)}},Ds=function(e){e.settings.ui_container&&(yt.container=Ho(Ci.fromDom(document.body),e.settings.ui_container).fold(ge(null),function(e){return e.dom()}))},Bs=function(e){e.rtl&&(Rn.rtl=!0)},Os=function(e){e.on("mousedown progressstate",function(){Pn.hideAll()})},As=function(e){Bs(e),Os(e),Ds(e),Ws(),ls.register(e),Po.register(e),Rs.register(e),Ts.register(e),jo.register(e),Io.register(e),ts.register(e),Ps.register(e),ps.register(e)},zs={setup:As},Ls=Zn.extend({recalc:function(e){var t,n,i,r,o,s,a,l,u,c,d,f,h,m,g,p,v,b,y,x,w,_,R,C,E,k,H,T,S,M=[],N=[];t=e.settings,r=e.items().filter(":visible"),o=e.layoutRect(),i=t.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),b=t.spacingH||t.spacing||0,y=t.spacingV||t.spacing||0,x=t.alignH||t.align,w=t.alignV||t.align,p=e.paddingBox,T="reverseRows"in t?t.reverseRows:e.isRtl(),x&&"string"==typeof x&&(x=[x]),w&&"string"==typeof w&&(w=[w]);for(d=0;d<i;d++)M.push(0);for(f=0;f<n;f++)N.push(0);for(f=0;f<n;f++)for(d=0;d<i&&(c=r[f*i+d],c);d++)u=c.layoutRect(),C=u.minW,E=u.minH,M[d]=C>M[d]?C:M[d],N[f]=E>N[f]?E:N[f];for(k=o.innerW-p.left-p.right,_=0,d=0;d<i;d++)_+=M[d]+(d>0?b:0),k-=(d>0?b:0)+M[d];for(H=o.innerH-p.top-p.bottom,R=0,f=0;f<n;f++)R+=N[f]+(f>0?y:0),H-=(f>0?y:0)+N[f];if(_+=p.left+p.right,R+=p.top+p.bottom,l={},l.minW=_+(o.w-o.innerW),l.minH=R+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW===o.minW&&l.minH===o.minH){o.autoResize&&(l=e.layoutRect(l),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH);var P;P="start"===t.packV?0:H>0?Math.floor(H/n):0;var W=0,D=t.flexWidths;if(D)for(d=0;d<D.length;d++)W+=D[d];else W=i;var B=k/W;for(d=0;d<i;d++)M[d]+=D?D[d]*B:B;for(m=p.top,f=0;f<n;f++){for(h=p.left,a=N[f]+P,d=0;d<i&&(S=T?f*i+i-1-d:f*i+d,c=r[S],c);d++)g=c.settings,u=c.layoutRect(),s=Math.max(M[d],u.startMinWidth),u.x=h,u.y=m,v=g.alignH||(x?x[d]||x[0]:null),"center"===v?u.x=h+s/2-u.w/2:"right"===v?u.x=h+s-u.w:"stretch"===v&&(u.w=s),v=g.alignV||(w?w[d]||w[0]:null),"center"===v?u.y=m+a/2-u.h/2:"bottom"===v?u.y=m+a-u.h:"stretch"===v&&(u.h=a),c.layoutRect(u),h+=s+b,c.recalc&&c.recalc();m+=a+y}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var O=e.parent();O&&(O._lastRect=null,O.recalc())}}}),Is=Fn.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,t&&t()):he.setTimeout(function(){n.html(e)}),this}}),Fs=Fn.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("infobox"),t.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl("body").firstChild.data=e.encode(t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e.state.on("change:help",function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}}),Us=Fn.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,t=e._super();if(e.settings.multiline){var n=It.getSize(e.getEl());n.width>t.maxW&&(t.minW=t.maxW,e.classes.add("multiline")),e.getEl().style.width=t.minW+"px",t.startMinH=t.h=t.minH=Math.min(t.maxH,It.getSize(e.getEl()).height)}return t},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,i=n.settings.forId,r=n.settings.html?n.settings.html:n.encode(n.state.get("text"));return!i&&(t=n.settings.forName)&&(e=n.getRoot().find("#"+t)[0],e&&(i=e._id)),i?'<label id="'+n._id+'" class="'+n.classes+'"'+(i?' for="'+i+'"':"")+">"+r+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+r+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}}),Vs=kn.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.classes.add("toolbar")},postRender:function(){var e=this;return e.items().each(function(e){e.classes.add("toolbar-item")}),e._super()}}),Ys=Vs.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),$s=Qn.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(e){var t,n=this;if(n.menu&&n.menu.visible()&&e!==!1)return n.hideMenu();n.menu||(t=n.state.get("menu")||[],n.classes.add("opened"),t.length?t={type:"menu",animate:!0,items:t}:(t.type=t.type||"menu",t.animate=!0),t.renderTo?n.menu=t.parent(n).show().renderTo():n.menu=ie.create(t).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(e){"hide"===e.type&&e.control.parent()===n&&n.classes.remove("opened-under"),e.control===n.menu&&(n.activeMenu("show"===e.type),n.classes.toggle("opened","show"===e.type)),n.aria("expanded","show"===e.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.repaint(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);var i=n.menu.layoutRect(),r=n.$el.offset().top+n.layoutRect().h;r>i.y&&r<i.y+i.h&&n.classes.add("opened-under"),n.fire("showmenu")},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var e,t=this,n=t._id,i=t.classPrefix,r=t.settings.icon,o=t.state.get("text"),s="";return e=t.settings.image,e?(r="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o&&(t.classes.add("btn-has-text"),s='<span class="'+i+'txt">'+t.encode(o)+"</span>"),r=t.settings.icon?i+"ico "+i+"i-"+r:"",t.aria("role",t.parent()instanceof Ys?"menuitem":"button"),'<div id="'+n+'" class="'+t.classes+'" tabindex="-1" aria-labelledby="'+n+'"><button id="'+n+'-open" role="presentation" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+e+"></i>":"")+s+' <i class="'+i+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&H(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(":visible")[0].focus())}),e.on("mouseenter",function(t){var n,i=t.control,r=e.parent();i&&r&&i instanceof $s&&i.parent()===r&&(r.items().filter("MenuButton").each(function(e){e.hideMenu&&e!==i&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(i.focus(),i.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}}),qs=Pn.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var n=e.items,i=n.length;i--;)n[i]=B.extend({},e.itemDefaults,n[i]);t._super(e),t.classes.add("menu"),e.animate&&11!==yt.ie&&t.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("select")},load:function(){function e(){i.throbber&&(i.throbber.hide(),i.throbber=null)}var t,n,i=this;n=i.settings.itemsFactory,n&&(i.throbber||(i.throbber=new x(i.getEl("body"),(!0)),0===i.items().length?(i.throbber.show(),i.fire("loading")):i.throbber.show(100,function(){i.items().remove(),i.fire("loading")}),i.on("hide close",e)),i.requestTime=t=(new Date).getTime(),i.settings.itemsFactory(function(n){return 0===n.length?void i.hide():void(i.requestTime===t&&(i.getEl().style.width="",i.getEl("body").style.width="",e(),i.items().remove(),i.getEl("body").innerHTML="",i.add(n),i.renderNew(),i.fire("loaded")))}))},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1}),e.settings.itemsFactory&&e.on("postrender",function(){e.settings.itemsFactory&&e.load()}),e.on("show hide",function(t){t.control===e&&("show"===t.type?he.setTimeout(function(){e.classes.add("in")},0):e.classes.remove("in"))}),e._super()}}),Xs=$s.extend({init:function(e){function t(n){for(var o=0;o<n.length;o++){if(i=n[o].selected||e.value===n[o].value)return r=r||n[o].text,s.state.set("value",n[o].value),!0;if(n[o].menu&&t(n[o].menu))return!0}}var n,i,r,o,s=this;s._super(e),e=s.settings,s._values=n=e.values,n&&("undefined"!=typeof e.value&&t(n),!i&&n.length>0&&(r=n[0].text,s.state.set("value",n[0].value)),s.state.set("menu",n)),s.state.set("text",e.text||r),s.classes.add("listbox"),s.on("select",function(t){var n=t.control;o&&(t.lastControl=o),e.multiple?n.active(!n.active()):s.value(t.control.value()),o=n})},value:function(e){function t(n){return Xe(n,function(n){return n.menu?t(n.menu):n.value===e})}return 0===arguments.length?this.state.get("value"):"undefined"==typeof e?this:(this.settings.values?t(this.settings.values)?this.state.set("value",e):null===e&&this.state.set("value",null):this.state.set("value",e),this)},bindStates:function(){function e(e,t){e instanceof qs&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===t)})}function t(e,n){var i;if(e)for(var r=0;r<e.length;r++){if(e[r].value===n)return e[r];if(e[r].menu&&(i=t(e[r].menu,n)))return i}}var n=this;return n.on("show",function(t){e(t.control,n.value())}),n.state.on("change:value",function(e){var i=t(n.state.get("menu"),e.value);i?n.text(i.text):n.text(n.settings.text)}),n._super()}}),js=function(e,t){var n=e._textStyle;if(n){var i=e.getEl("text");i.setAttribute("style",n),t&&(i.style.color="",i.style.backgroundColor="")}},Js=Fn.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),t=n.state.get("text"),"-"!==t&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,t=this,n=t.settings,i=t.parent();if(i.items().each(function(e){e!==t&&e.hideMenu()}),n.menu){e=t.menu,e?e.show():(e=n.menu,e.length?e={type:"menu",items:e}:e.type=e.type||"menu",i.settings.itemDefaults&&(e.itemDefaults=i.settings.itemDefaults),e=t.menu=ie.create(e).parent(t).renderTo(),e.reflow(),e.on("cancel",function(n){n.stopPropagation(),t.focus(),e.hide()}),e.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),e.on("hide",function(n){n.control===e&&t.classes.remove("selected")}),e.submenu=!0),e._parentMenu=i,e.classes.add("menu-sub");var r=e.testMoveRel(t.getEl(),t.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(t.getEl(),r),e.rel=r,r="menu-sub-"+r,e.classes.remove(e._lastRel).add(r),e._lastRel=r,t.classes.add("selected"),t.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){function e(e){var t,n,i={};for(i=yt.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)n=i[e[t].toLowerCase()],n&&(e[t]=n);return e.join("+")}function t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function n(e){var n=s.match||"";return n?e.replace(new RegExp(t(n),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):e}function i(e){return e.replace(new RegExp(t("!mce~match["),"g"),"<b>").replace(new RegExp(t("]mce~match!"),"g"),"</b>")}var r=this,o=r._id,s=r.settings,a=r.classPrefix,l=r.state.get("text"),u=r.settings.icon,c="",d=s.shortcut,f=r.encode(s.url),h="";return u&&r.parent().classes.add("menu-has-icons"),s.image&&(c=" style=\"background-image: url('"+s.image+"')\""),d&&(d=e(d)),u=a+"ico "+a+"i-"+(r.settings.icon||"none"),h="-"!==l?'<i class="'+u+'"'+c+"></i>":"",l=i(r.encode(n(l))),f=i(r.encode(n(f))),'<div id="'+o+'" class="'+r.classes+'" tabindex="-1">'+h+("-"!==l?'<span id="'+o+'-text" class="'+a+'text">'+l+"</span>":"")+(d?'<div id="'+o+'-shortcut" class="'+a+'menu-shortcut">'+d+"</div>":"")+(s.menu?'<div class="'+a+'caret"></div>':"")+(f?'<div class="'+a+'menu-item-link">'+f+"</div>":"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=e.getEl("text");i&&(i.setAttribute("style",n),e._textStyle=n)}return e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),he.requestAnimationFrame(function(){e.parent().hideAll()})))}),e._super(),e},hover:function(){var e=this;return e.parent().items().each(function(e){e.classes.remove("selected")}),e.classes.toggle("selected",!0),e},active:function(e){return js(this,e),"undefined"!=typeof e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),Gs=ni.extend({Defaults:{classes:"radio",role:"radio"}}),Ks=Fn.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"===e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new d(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!==e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}}),Zs=Fn.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",function(e){var n;13===e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,t=this,n="";return e=T(t._options),t.size&&(n=' size = "'+t.size+'"'),'<select id="'+t._id+'" class="'+t.classes+'"'+n+">"+e+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",function(t){e.getEl().innerHTML=T(t.value)}),e._super()}}),Qs=Fn.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"===e.orientation&&t.classes.add("vertical"),t._minValue=Ye(e.minValue)?e.minValue:0,t._maxValue=Ye(e.maxValue)?e.maxValue:100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){
function e(e,t,n){return(n+e)/(t-e)}function t(e,t,n){return n*(t-e)-e}function n(n,i){function r(r){var o;o=c.value(),o=t(n,i,e(n,i,o)+.05*r),o=S(o,n,i),c.value(o),c.fire("dragstart",{value:o}),c.fire("drag",{value:o}),c.fire("dragend",{value:o})}c.on("keydown",function(e){switch(e.keyCode){case 37:case 38:r(-1);break;case 39:case 40:r(1)}})}function i(e,t,n){var i,r,o,f,h;c._dragHelper=new d(c._id,{handle:c._id+"-handle",start:function(e){i=e[s],r=parseInt(c.getEl("handle").style[a],10),o=(c.layoutRect()[u]||100)-It.getSize(n)[l],c.fire("dragstart",{value:h})},drag:function(l){var u=l[s]-i;f=S(r+u,0,o),n.style[a]=f+"px",h=e+f/o*(t-e),c.value(h),c.tooltip().text(""+c.settings.previewFilter(h)).show().moveRel(n,"bc tc"),c.fire("drag",{value:h})},stop:function(){c.tooltip().hide(),c.fire("dragend",{value:h})}})}var r,o,s,a,l,u,c=this;r=c._minValue,o=c._maxValue,"v"===c.settings.orientation?(s="screenY",a="top",l="height",u="h"):(s="screenX",a="left",l="width",u="w"),c._super(),n(r,o),i(r,o,c.getEl("handle"))},repaint:function(){this._super(),N(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",function(t){N(e,t.value)}),e._super()}}),ea=Fn.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}}),ta=$s.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t,n=this,i=n.getEl(),r=n.layoutRect();return n._super(),e=i.firstChild,t=i.lastChild,zt(e).css({width:r.w-It.getSize(t).width,height:r.h-2}),zt(t).css({height:r.h-2}),n},activeMenu:function(e){var t=this;zt(t.getEl().lastChild).toggleClass(t.classPrefix+"active",e)},renderHtml:function(){var e,t,n=this,i=n._id,r=n.classPrefix,o=n.state.get("icon"),s=n.state.get("text"),a=n.settings,l="";return e=a.image,e?(o="none","string"!=typeof e&&(e=window.getSelection?e[0]:e[1]),e=" style=\"background-image: url('"+e+"')\""):e="",o=a.icon?r+"ico "+r+"i-"+o:"",s&&(n.classes.add("btn-has-text"),l='<span class="'+r+'txt">'+n.encode(s)+"</span>"),t="boolean"==typeof a.active?' aria-pressed="'+a.active+'"':"",'<div id="'+i+'" class="'+n.classes+'" role="button"'+t+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(o?'<i class="'+o+'"'+e+"></i>":"")+l+'</button><button type="button" class="'+r+'open" hidefocus="1" tabindex="-1">'+(n._menuBtnText?(o?"":"")+n._menuBtnText:"")+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(e){var n=e.target;if(e.control===this)for(;n;){if(e.aria&&"down"!==e.aria.key||"BUTTON"===n.nodeName&&n.className.indexOf("open")===-1)return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}}),delete e.settings.onclick,e._super()}}),na=ko.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),ia=Tn.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var t;this.activeTabId&&(t=this.getEl(this.activeTabId),zt(t).removeClass(this.classPrefix+"active"),t.setAttribute("aria-selected","false")),this.activeTabId="t"+e,t=this.getEl("t"+e),t.setAttribute("aria-selected","true"),zt(t).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each(function(t,n){e!==n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n="",i=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,r){var o=e._id+"-t"+r;t.aria("role","tabpanel"),t.aria("labelledby",o),n+='<div id="'+o+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+i+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(n&&n.id===e._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]===t.target&&e.activateTab(i)})},initLayoutRect:function(){var e,t,n,i=this;t=It.getSize(i.getEl("head")).width,t=t<0?0:t,n=0,i.items().each(function(e){t=Math.max(t,e.layoutRect().minW),n=Math.max(n,e.layoutRect().minH)}),i.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=n,e.layoutRect({x:0,y:0,w:t,h:n})});var r=It.getSize(i.getEl("head")).height;return i.settings.minWidth=t,i.settings.minHeight=n+r,e=i._super(),e.deltaH+=r,e.innerH=e.h-e.deltaH,e}}),ra=Fn.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",function(e){var n;13===e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){t.state.set("value",e.target.value)}))},repaint:function(){var e,t,n,i,r,o=this,s=0;e=o.getEl().style,t=o._layoutRect,r=o._lastRepaintRect||{};var a=document;return!o.settings.multiline&&a.all&&(!a.documentMode||a.documentMode<=8)&&(e.lineHeight=t.h-s+"px"),n=o.borderBox,i=n.left+n.right+8,s=n.top+n.bottom+(o.settings.multiline?8:0),t.x!==r.x&&(e.left=t.x+"px",r.x=t.x),t.y!==r.y&&(e.top=t.y+"px",r.y=t.y),t.w!==r.w&&(e.width=t.w-i+"px",r.w=t.w),t.h!==r.h&&(e.height=t.h-s+"px",r.h=t.h),o._lastRepaintRect=r,o.fire("repaint",{},!1),o},renderHtml:function(){var e,t,n=this,i=n.settings;return e={id:n._id,hidefocus:"1"},B.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(t){e[t]=i[t]}),n.disabled()&&(e.disabled="disabled"),i.subtype&&(e.type=i.subtype),t=It.create(i.multiline?"textarea":"input",e),t.value=n.state.get("value"),t.className=n.classes.toString(),t.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)})},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl().value!==t.value&&(e.getEl().value=t.value)}),e.state.on("change:disabled",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}}),oa=function(){return{Selector:nn,Collection:sn,ReflowQueue:hn,Control:Rn,Factory:ie,KeyboardNavigation:l,Container:kn,DragHelper:d,Scrollable:Hn,Panel:Tn,Movable:qt,Resizable:Sn,FloatPanel:Pn,Window:Xn,MessageBox:jn,Tooltip:In,Widget:Fn,Progress:Un,Notification:Yn,Layout:Kn,AbsoluteLayout:Zn,Button:Qn,ButtonGroup:ti,Checkbox:ni,ComboBox:ri,ColorBox:oi,PanelButton:si,ColorButton:li,ColorPicker:ci,Path:fi,ElementPath:hi,FormItem:mi,Form:gi,FieldSet:pi,FilePicker:Ro,FitLayout:Co,FlexLayout:Eo,FlowLayout:ko,FormatControls:zs,GridLayout:Ls,Iframe:Is,InfoBox:Fs,Label:Us,Toolbar:Vs,MenuBar:Ys,MenuButton:$s,MenuItem:Js,Throbber:x,Menu:qs,ListBox:Xs,Radio:Gs,ResizeHandle:Ks,SelectBox:Zs,Slider:Qs,Spacer:ea,SplitButton:ta,StackLayout:na,TabPanel:ia,TextBox:ra,DropZone:di,BrowseButton:ei}},sa=function(e){e.ui?B.each(oa(),function(t,n){e.ui[n]=t}):e.ui=oa()},aa=function(){B.each(oa(),function(e,t){ie.add(t,e)})},la={appendTo:sa,registerToFactory:aa};return la.registerToFactory(),la.appendTo(window.tinymce?window.tinymce:{}),W.add("modern",function(e){return zs.setup(e),Gn.get(e)}),P})()}();
},{}],"tinymce":[function(require,module,exports){
(function (setImmediate){
!function(){!function(){"use strict";function e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function t(){function e(n,r){return t.push(n+" ")>Yt.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function n(e){return e[mn]=!0,e}function r(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||wn)-(~e.sourceIndex||wn);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function o(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function i(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function a(e){return n(function(t){return t=+t,n(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function u(e){return e&&typeof e.getElementsByTagName!==xn&&e}function c(){}function s(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function l(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=hn++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var u,c,s=[pn,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(c=t[mn]||(t[mn]={}),(u=c[r])&&u[0]===pn&&u[1]===i)return s[2]=u[2];if(c[r]=s,s[2]=e(t,n,a))return!0}}}function f(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function d(e,t,n){for(var r=0,o=t.length;r<o;r++)Zn(e,t[r],n);return n}function m(e,t,n,r,o){for(var i,a=[],u=0,c=e.length,s=null!=t;u<c;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),s&&t.push(u)));return a}function g(e,t,r,o,i,a){return o&&!o[mn]&&(o=g(o)),i&&!i[mn]&&(i=g(i,a)),n(function(n,a,u,c){var s,l,f,g=[],p=[],h=a.length,v=n||d(t||"*",u.nodeType?[u]:u,[]),b=!e||!n&&t?v:m(v,g,e,u,c),y=r?i||(n?e:h||o)?[]:a:b;if(r&&r(b,y,u,c),o)for(s=m(y,p),o(s,[],u,c),l=s.length;l--;)(f=s[l])&&(y[p[l]]=!(b[p[l]]=f));if(n){if(i||e){if(i){for(s=[],l=y.length;l--;)(f=y[l])&&s.push(b[l]=f);i(null,y=[],s,c)}for(l=y.length;l--;)(f=y[l])&&(s=i?An.call(n,f):g[l])>-1&&(n[s]=!(a[s]=f))}}else y=m(y===a?y.splice(h,y.length):y),i?i(null,a,y,c):Tn.apply(a,y)})}function p(e){for(var t,n,r,o=e.length,i=Yt.relative[e[0].type],a=i||Yt.relative[" "],u=i?1:0,c=l(function(e){return e===t},a,!0),d=l(function(e){return An.call(t,e)>-1},a,!0),m=[function(e,n,r){return!i&&(r||n!==tn)||((t=n).nodeType?c(e,n,r):d(e,n,r))}];u<o;u++)if(n=Yt.relative[e[u].type])m=[l(f(m),n)];else{if(n=Yt.filter[e[u].type].apply(null,e[u].matches),n[mn]){for(r=++u;r<o&&!Yt.relative[e[r].type];r++);return g(u>1&&f(m),u>1&&s(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(In,"$1"),n,u<r&&p(e.slice(u,r)),r<o&&p(e=e.slice(r)),r<o&&s(e))}m.push(n)}return f(m)}function h(e,t){var r=t.length>0,o=e.length>0,i=function(n,i,a,u,c){var s,l,f,d=0,g="0",p=n&&[],h=[],v=tn,b=n||o&&Yt.find.TAG("*",c),y=pn+=null==v?1:Math.random()||.1,C=b.length;for(c&&(tn=i!==an&&i);g!==C&&null!=(s=b[g]);g++){if(o&&s){for(l=0;f=e[l++];)if(f(s,i,a)){u.push(s);break}c&&(pn=y)}r&&((s=!f&&s)&&d--,n&&p.push(s))}if(d+=g,r&&g!==d){for(l=0;f=t[l++];)f(p,h,i,a);if(n){if(d>0)for(;g--;)p[g]||h[g]||(h[g]=Sn.call(u));h=m(h)}Tn.apply(u,h),c&&!n&&h.length>0&&d+t.length>1&&Zn.uniqueSort(u)}return c&&(pn=y,tn=v),p};return r?n(i):i}function v(e,t){void 0===t&&(t={});var n,r=0,o={};n=t.maxLoadTime||5e3;var i=function(t){e.getElementsByTagName("head")[0].appendChild(t)},a=function(a,u,c){var s,l,f,d,m=function(){for(var e=d.passed,t=e.length;t--;)e[t]();d.status=2,d.passed=[],d.failed=[]},g=function(){for(var e=d.failed,t=e.length;t--;)e[t]();d.status=3,d.passed=[],d.failed=[]},p=function(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&parseInt(e[1],10)<536)},h=function(e,t){e()||((new Date).getTime()-f<n?Pt.setTimeout(t):g())},v=function(){h(function(){for(var t,n,r=e.styleSheets,o=r.length;o--;)if(t=r[o],n=t.ownerNode?t.ownerNode:t.owningElement,n&&n.id===s.id)return m(),!0},v)},b=function(){h(function(){try{var e=l.sheet.cssRules;return m(),!!e}catch(t){}},b)};if(a=xr._addCacheSuffix(a),o[a]?d=o[a]:(d={passed:[],failed:[]},o[a]=d),u&&d.passed.push(u),c&&d.failed.push(c),1!==d.status){if(2===d.status)return void m();if(3===d.status)return void g();if(d.status=1,s=e.createElement("link"),s.rel="stylesheet",s.type="text/css",s.id="u"+r++,s.async=!1,s.defer=!1,f=(new Date).getTime(),t.contentCssCors&&(s.crossOrigin="anonymous"),"onload"in s&&!p())s.onload=v,s.onerror=g;else{if(navigator.userAgent.indexOf("Firefox")>0)return l=e.createElement("style"),l.textContent='@import "'+a+'"',b(),void i(l);v()}i(s),s.href=a}},u=function(e){return ba.nu(function(t){a(e,pe(t,he(Ea.value(e))),pe(t,he(Ea.error(e))))})},c=function(e){return e.fold(ve,ve)},s=function(e,t,n){Ca(He(e,u)).get(function(e){var r=We(e,function(e){return e.isValue()});r.fail.length>0?n(r.fail.map(c)):t(r.pass.map(c))})};return{load:a,loadAll:s}}function b(e,t){var n=e,r=function(e,n,r,o){var i,a;if(e){if(!o&&e[n])return e[n];if(e!==t){if(i=e[r])return i;for(a=e.parentNode;a&&a!==t;a=a.parentNode)if(i=a[r])return i}}},o=function(e,n,r,o){var i,a,u;if(e){if(i=e[r],t&&i===t)return;if(i){if(!o)for(u=i[n];u;u=u[n])if(!u[n])return u;return i}if(a=e.parentNode,a&&a!==t)return a}};this.current=function(){return n},this.next=function(e){return n=r(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=r(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=o(n,"lastChild","previousSibling",e)}}function y(e){var t,n,r,o,i,a,u,c,s,l,f,d,m,g={},p={},h=[],v={},b={},y=function(t,n,r){var o=e[t];return o?o=Bu(o,/[, ]/,Bu(o.toUpperCase(),/[, ]/)):(o=Ru[t],o||(o=Bu(n," ",Bu(n.toUpperCase()," ")),o=_u(o,r),Ru[t]=o)),o};e=e||{},r=Lu(e.schema),e.verify_html===!1&&(e.valid_elements="*[*]"),t=Fu(e.valid_styles),n=Fu(e.invalid_styles,"map"),c=Fu(e.valid_classes,"map"),o=y("whitespace_elements","pre script noscript style textarea video audio iframe object code"),i=y("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=y("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),u=y("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),l=y("non_empty_elements","td th iframe video audio object script pre code",a),f=y("move_caret_before_on_enter_elements","table",l),d=y("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),s=y("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",d),m=y("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),Du((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){b[e]=new RegExp("</"+e+"[^>]*>","gi")});var C=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var t,n,r,o,i,a,u,c,s,l,f,d,m,p,v,b,y,x,w,E=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,N=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(e)for(e=Iu(e,","),g["@"]&&(b=g["@"].attributes,y=g["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(i=E.exec(e[t])){if(p=i[1],s=i[2],v=i[3],c=i[5],d={},m=[],a={attributes:d,attributesOrder:m},"#"===p&&(a.paddEmpty=!0),"-"===p&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),b){for(x in b)d[x]=b[x];m.push.apply(m,y)}if(c)for(c=Iu(c,"|"),r=0,o=c.length;r<o;r++)if(i=N.exec(c[r])){if(u={},f=i[1],l=i[2].replace(/[\\:]:/g,":"),p=i[3],w=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),u.required=!0),"-"===f){delete d[l],m.splice(Pu(m,l),1);continue}p&&("="===p&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:w}),u.defaultValue=w),":"===p&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:w}),u.forcedValue=w),"<"===p&&(u.validValues=Bu(w,"?"))),S.test(l)?(a.attributePatterns=a.attributePatterns||[],u.pattern=C(l),a.attributePatterns.push(u)):(d[l]||m.push(l),d[l]=u)}b||"@"!==s||(b=d,y=m),v&&(a.outputName=s,g[v]=a),S.test(s)?(a.pattern=C(s),h.push(a)):g[s]=a}},w=function(e){g={},h=[],x(e),Du(r,function(e,t){p[t]=e.children})},E=function(e){var t=/^(~)?(.+)$/;e&&(Ru.text_block_elements=Ru.block_elements=null,Du(Iu(e,","),function(e){var n=t.exec(e),r="~"===n[1],o=r?"span":"div",i=n[2];if(p[i]=p[o],v[i]=o,r||(s[i.toUpperCase()]={},s[i]={}),!g[i]){var a=g[o];a=_u({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,g[i]=a}Du(p,function(e,t){e[o]&&(p[t]=e=_u({},p[t]),e[i]=e[o])})}))},N=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;Ru[e.schema]=null,t&&Du(Iu(t,","),function(e){var t,r,o=n.exec(e);o&&(r=o[1],t=r?p[o[2]]:p[o[2]]={"#comment":{}},t=p[o[2]],Du(Iu(o[3],"|"),function(e){"-"===r?delete t[e]:t[e]={}}))})},S=function(e){var t,n=g[e];if(n)return n;for(t=h.length;t--;)if(n=h[t],n.pattern.test(e))return n};e.valid_elements?w(e.valid_elements):(Du(r,function(e,t){g[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},p[t]=e.children}),"html5"!==e.schema&&Du(Iu("strong/b em/i"),function(e){e=Iu(e,"/"),g[e[1]].outputName=e[0]}),Du(Iu("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){g[e]&&(g[e].removeEmpty=!0)}),Du(Iu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){g[e].paddEmpty=!0}),Du(Iu("span"),function(e){g[e].removeEmptyAttrs=!0})),E(e.custom_elements),N(e.valid_children),x(e.extended_valid_elements),N("+ol[ul|ol],+ul[ul|ol]"),Du({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){g[t]&&(g[t].parentsRequired=Iu(e))}),e.invalid_elements&&Du(Ou(e.invalid_elements),function(e){g[e]&&delete g[e]}),S("span")||x("span[!data-mce-type|*]");var k=function(){return t},T=function(){return n},R=function(){return c},A=function(){return u},B=function(){return s},D=function(){return d},_=function(){return m},O=function(){return a},P=function(){return i},I=function(){return l},L=function(){return f},F=function(){return o},M=function(){return b},U=function(e,t){var n=p[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},z=function(e,t){var n,r,o=S(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},V=function(){return v};return{children:p,elements:g,getValidStyles:k,getValidClasses:R,getBlockElements:B,getInvalidStyles:T,getShortEndedElements:O,getTextBlockElements:D,getTextInlineElements:_,getBoolAttrs:A,getElementRule:S,getSelfClosingElements:P,getNonEmptyElements:I,getMoveCaretBeforeOnEnterElements:L,getWhiteSpaceElements:F,getSpecialElements:M,isValidChild:U,isValid:z,getCustomElements:V,addValidElements:x,setValidElements:w,addCustomElements:E,addValidChildren:N}}function C(e,t){var n,r,o,i,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,l={},f="\ufeff";for(e=e||{},t&&(o=t.getValidStyles(),i=t.getInvalidStyles()),r=("\\\" \\' \\; \\: ; : "+f).split(" "),n=0;n<r.length;n++)l[r[n]]=f+n,l[f+n]=r[n];return{toHex:function(e){return e.replace(a,Mu)},parse:function(t){var r,o,i,d,m={},g=e.url_converter,p=e.url_converter_scope||this,h=function(e,t,r){var o,i,a,u;if(o=m[e+"-top"+t],o&&(i=m[e+"-right"+t],i&&(a=m[e+"-bottom"+t],a&&(u=m[e+"-left"+t])))){var c=[o,i,a,u];for(n=c.length-1;n--&&c[n]===c[n+1];);n>-1&&r||(m[e+t]=n===-1?c[0]:c.join(" "),delete m[e+"-top"+t],delete m[e+"-right"+t],delete m[e+"-bottom"+t],delete m[e+"-left"+t])}},v=function(e){var t,n=m[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return m[e]=n[0],!0}},b=function(e,t,n,r){v(t)&&v(n)&&v(r)&&(m[e]=m[t]+" "+m[n]+" "+m[r],delete m[t],delete m[n],delete m[r])},y=function(e){return d=!0,l[e]},C=function(e,t){return d&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return l[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},x=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},w=function(e){return e.replace(/\\[0-9a-f]+/gi,x)},E=function(t,n,r,o,i,a){if(i=i||a)return i=C(i),"'"+i.replace(/\'/g,"\\'")+"'";if(n=C(n||r||o),!e.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return g&&(n=g.call(p,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,y).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,y)});r=c.exec(t);)if(c.lastIndex=r.index+r[0].length,o=r[1].replace(s,"").toLowerCase(),i=r[2].replace(s,""),o&&i){if(o=w(o),i=w(i),o.indexOf(f)!==-1||o.indexOf('"')!==-1)continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(i)))continue;"font-weight"===o&&"700"===i?i="bold":"color"!==o&&"background-color"!==o||(i=i.toLowerCase()),i=i.replace(a,Mu),i=i.replace(u,E),m[o]=d?C(i,!0):i}h("border","",!0),h("border","-width"),h("border","-color"),h("border","-style"),h("padding",""),h("margin",""),b("border","border-width","border-style","border-color"),"medium none"===m.border&&delete m.border,"none"===m["border-image"]&&delete m["border-image"]}return m},serialize:function(e,t){var n,r,a="",u=function(t){var n,r,i,u;if(n=o[t])for(r=0,i=n.length;r<i;r++)t=n[r],u=e[t],u&&(a+=(a.length>0?" ":"")+t+": "+u+";")},c=function(e,t){var n;return n=i["*"],(!n||!n[e])&&(n=i[t],!n||!n[e])};if(t&&o)u("*"),u(t);else for(n in e)r=e[n],!r||i&&!c(n,t)||(a+=(a.length>0?" ":"")+n+": "+r+";");return a}}}function x(e,t){var n=this;void 0===t&&(t={});var r,o={},i=window,a={},u=0,c=!0,s=!0,l=v(e,{contentCssCors:t.contentCssCors}),f=[],d=t.schema?t.schema:y({}),m=C({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),g=t.ownEvents?new $t(t.proxy):$t.Event,p=d.getBlockElements(),h=Vr.overrideDefaults(function(){return{context:e,element:De.getRoot()}}),w=function(e){if("string"==typeof e)return!!p[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!p[e.nodeName])}return!1},E=function(t){if(t&&e&&"string"==typeof t){var n=e.getElementById(t);return n&&n.id!==t?e.getElementsByName(t)[1]:n}return t},N=function(e){return"string"==typeof e&&(e=E(e)),h(e)},S=function(e,t,n){var o,i,a=N(e);return a.length&&(o=r[t],i=o&&o.get?o.get(a,t):a.attr(t)),"undefined"==typeof i&&(i=n||""),i},k=function(e){var t=E(e);return t?t.attributes:[]},T=function(e,n,o){var i,a;""===o&&(o=null);var u=N(e);i=u.attr(n),u.length&&(a=r[n],a&&a.set?a.set(u,o,n):u.attr(n,o),i!==o&&t.onSetAttrib&&t.onSetAttrib({attrElm:u,attrName:n,attrValue:o}))},R=function(t,n){if(!Vu||1!==t.nodeType||n)return t.cloneNode(n);if(!n){var r=e.createElement(t.nodeName);return Uu(k(t),function(e){T(r,e.nodeName,S(t,e.nodeName))}),r}return null},A=function(){return t.root_element||e.body},B=function(e){var t=e?e:i,n=t.document,r=s?n.documentElement:n.body;return{x:t.pageXOffset||r.scrollLeft,y:t.pageYOffset||r.scrollTop,w:t.innerWidth||r.clientWidth,h:t.innerHeight||r.clientHeight}},D=function(t,n){return fa.getPos(e.body,E(t),n)},_=function(e,n,r){var o=N(e).css(n,r);t.update_styles&&Wu(m,o)},O=function(e,n){var r=N(e).css(n);t.update_styles&&Wu(m,r)},P=function(e,t,n){var r=N(e);return n?r.css(t):(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"===t&&(t=St.ie&&St.ie<12?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},I=function(e){var t,n;return e=E(e),t=P(e,"width"),n=P(e,"height"),t.indexOf("px")===-1&&(t=0),n.indexOf("px")===-1&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},L=function(e){var t,n;return e=E(e),t=D(e),n=I(e),{x:t.x,y:t.y,w:n.w,h:n.h}},F=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(Hu.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return Zn(t,i[0].ownerDocument||i[0],null,i).length>0},M=function(e,t,n,r){var o,i=[],a=E(e);for(r=void 0===r,n=n||("BODY"!==A().nodeName?A().parentNode:null),xr.is(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return F(e,o)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},U=function(e,t,n){var r=M(e,t,n,!1);return r&&r.length>0?r[0]:null},z=function(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return F(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null},V=function(e,t){return z(e,t,"nextSibling")},H=function(e,t){return z(e,t,"previousSibling")},j=function(n,r){return Zn(n,E(r)||t.root_element||e,[])},q=function(e,t,r){var o,i="string"==typeof e?E(e):e;if(!i)return!1;if(xr.isArray(i)&&(i.length||0===i.length))return o=[],Uu(i,function(e,n){e&&("string"==typeof e&&(e=E(e)),o.push(t.call(r,e,n)))}),o;var a=r?r:n;return t.call(a,i)},W=function(e,t){N(e).each(function(e,n){Uu(t,function(e,t){T(n,t,e)})})},$=function(e,t){var n=N(e);Vu?n.each(function(e,n){if(n.canHaveHTML!==!1){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(r){Vr("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},K=function(t,n,r,o,i){return q(t,function(t){var a="string"==typeof n?e.createElement(n):n;return W(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&$(a,o)),i?a:t.appendChild(a)})},X=function(t,n,r){return K(e.createElement(t),t,n,r,!0)},Y=Tu.decode,G=Tu.encodeAllRaw,Z=function(e,t,n){var r,o="";o+="<"+e;for(r in t)t.hasOwnProperty(r)&&null!==t[r]&&"undefined"!=typeof t[r]&&(o+=" "+r+'="'+G(t[r])+'"');return"undefined"!=typeof n?o+">"+n+"</"+e+">":o+" />"},J=function(t){var n,r=e.createElement("div"),o=e.createDocumentFragment();for(t&&(r.innerHTML=t);n=r.firstChild;)o.appendChild(n);return o},Q=function(e,t){var n=N(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},ee=function(e){return q(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},te=function(e){return m.parse(e)},ne=function(e,t){return m.serialize(e,t)},re=function(t){var n,r;if(De!==x.DOM&&e===document){if(o[t])return;o[t]=!0}r=e.getElementById("mceDefaultStyles"),r||(r=e.createElement("style"),r.id="mceDefaultStyles",r.type="text/css",n=e.getElementsByTagName("head")[0],n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)),r.styleSheet?r.styleSheet.cssText+=t:r.appendChild(e.createTextNode(t))},oe=function(t){var n;return De!==x.DOM&&e===document?void x.DOM.loadCSS(t):(t||(t=""),n=e.getElementsByTagName("head")[0],void Uu(t.split(","),function(e){var t;e=xr._addCacheSuffix(e),a[e]||(a[e]=!0,t=X("link",{rel:"stylesheet",href:e}),n.appendChild(t))}))},ie=function(e,t,n){N(e).toggleClass(t,n).each(function(){""===this.className&&Vr(this).attr("class",null)})},ae=function(e,t){N(e).addClass(t)},ue=function(e,t){ie(e,t,!1)},ce=function(e,t){return N(e).hasClass(t)},se=function(e){N(e).show()},le=function(e){N(e).hide()},fe=function(e){return"none"===N(e).css("display")},de=function(e){return(e?e:"mce_")+u++},me=function(e){var t="string"==typeof e?E(e):e;return cu.isElement(t)?t.outerHTML:Vr("<div></div>").append(Vr(t).clone()).html()},ge=function(e,t){N(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}Q(Vr(this).html(t),!0)})},pe=function(e,t){var n=E(t);return q(e,function(e){var t,r;return t=n.parentNode,r=n.nextSibling,r?t.insertBefore(e,r):t.appendChild(e),e})},he=function(e,t,n){return q(t,function(t){return xr.is(t,"array")&&(e=e.cloneNode(!0)),n&&Uu(zu(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},ve=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=X(t),Uu(k(e),function(t){T(n,t.nodeName,S(e,t.nodeName))}),he(n,e,!0)),n||e},be=function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},ye=function(e){return m.toHex(xr.trim(e))},Ce=function(e,t){var n,r,o,i,a,u,c=0;if(e=e.firstChild){a=new b(e,e.parentNode),t=t||(d?d.getNonEmptyElements():null),i=d?d.getWhiteSpaceElements():{};do{if(o=e.nodeType,cu.isElement(e)){var s=e.getAttribute("data-mce-bogus");if(s){e=a.next("all"===s);continue}if(u=e.nodeName.toLowerCase(),t&&t[u]){if("br"===u){c++,e=a.next();continue}return!1}for(r=k(e),n=r.length;n--;)if(u=r[n].nodeName,"name"===u||"data-mce-bookmark"===u)return!1}if(8===o)return!1;if(3===o&&!ju.test(e.nodeValue))return!1;if(3===o&&e.parentNode&&i[e.parentNode.nodeName]&&ju.test(e.nodeValue))return!1;e=a.next()}while(e)}return c<=1},xe=function(){return e.createRange()},we=function(e,t,n){var r,o,i,a=xe();if(e&&t)return a.setStart(e.parentNode,$u(e)),a.setEnd(t.parentNode,$u(t)),r=a.extractContents(),a=xe(),a.setStart(t.parentNode,$u(t)+1),a.setEnd(e.parentNode,$u(e)+1),o=a.extractContents(),i=e.parentNode,i.insertBefore(du.trimNode(De,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(du.trimNode(De,o),e),Q(e),n||t},Ee=function(n,r,o,a){if(xr.isArray(n)){for(var u=n.length;u--;)n[u]=Ee(n[u],r,o,a);return n}return!t.collect||n!==e&&n!==i||f.push([n,r,o,a]),g.bind(n,r,o,a||De)},Ne=function(t,n,r){var o;if(xr.isArray(t)){for(o=t.length;o--;)t[o]=Ne(t[o],n,r);return t}if(f&&(t===e||t===i))for(o=f.length;o--;){var a=f[o];t!==a[0]||n&&n!==a[1]||r&&r!==a[2]||g.unbind(a[0],a[1],a[2])}return g.unbind(t,n,r)},Se=function(e,t,n){return g.fire(e,t,n)},ke=function(e){if(e&&cu.isElement(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Te=function(e){for(var t=A(),n=null;e&&e!==t&&(n=ke(e),null===n);e=e.parentNode);return n},Re=function(){if(f)for(var e=f.length;e--;){var t=f[e];g.unbind(t[0],t[1],t[2])}Zn.setDocument&&Zn.setDocument()},Ae=function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},Be=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},De={doc:e,settings:t,win:i,files:a,stdMode:c,boxModel:s,styleSheetLoader:l,boundEvents:f,styles:m,schema:d,events:g,isBlock:w,$:h,$$:N,root:null,clone:R,getRoot:A,getViewPort:B,getRect:L,getSize:I,getParent:U,getParents:M,get:E,getNext:V,getPrev:H,select:j,is:F,add:K,create:X,createHTML:Z,createFragment:J,remove:Q,setStyle:_,getStyle:P,setStyles:O,removeAllAttribs:ee,setAttrib:T,setAttribs:W,getAttrib:S,getPos:D,parseStyle:te,serializeStyle:ne,addStyle:re,loadCSS:oe,addClass:ae,removeClass:ue,hasClass:ce,toggleClass:ie,show:se,hide:le,isHidden:fe,uniqueId:de,setHTML:$,getOuterHTML:me,setOuterHTML:ge,decode:Y,encode:G,insertAfter:pe,replace:he,rename:ve,findCommonAncestor:be,toHex:ye,run:q,getAttribs:k,isEmpty:Ce,createRng:xe,nodeIndex:$u,split:we,bind:Ee,unbind:Ne,fire:Se,getContentEditable:ke,getContentEditableParent:Te,destroy:Re,isChildOf:Ae,dumpRng:Be};return r=qu(m,t,function(){return De}),De}function w(){var e=this,t=[],n={},r={},o=[],i=function(e){if(r[e])return r[e].instance},a=function(e){var t;return r[e]&&(t=r[e].dependencies),t||[]},u=function(e,t){var r=w.language;if(r&&w.languageLoad!==!1){if(t)if(t=","+t+",",t.indexOf(","+r.substr(0,2)+",")!==-1)r=r.substr(0,2);else if(t.indexOf(","+r+",")===-1)return;Ju.ScriptLoader.add(n[e]+"/langs/"+r+".js")}},c=function(e,n,i){t.push(n),r[e]={instance:n,dependencies:i};var a=We(o,function(t){return t.name===e});return o=a.fail,Qu(a.pass,function(e){e.callback()}),n},s=function(e){delete n[e],delete r[e]},l=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},f=function(t,n){var r=e.urls[t];Qu(n,function(e){Ju.ScriptLoader.add(r+"/"+e)})},d=function(e,t,n,r){var o=a(e);Qu(o,function(e){var n=l(t,e);m(n.resource,n,void 0,void 0)}),n&&(r?n.call(r):n.call(Ju))},m=function(e,t,o,i,a){if(!n[e]){var u="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==u.indexOf("/")&&u.indexOf("://")===-1&&(u=w.baseURL+"/"+u),n[e]=u.substring(0,u.lastIndexOf("/")),r[e]?d(e,t,o,i):Ju.ScriptLoader.add(u,function(){return d(e,t,o,i)},i,a)}},g=function(e,t){r.hasOwnProperty(e)?t():o.push({name:e,callback:t})};return{items:t,urls:n,lookup:r,_listeners:o,get:i,dependencies:a,requireLangPack:u,add:c,remove:s,createUrl:l,addComponents:f,load:m,waitFor:g}}function E(e,t,n,r,o){return e(n,r)?Re.some(n):Le(o)&&o(n)?Re.none():t(n,r,o)}function N(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]]);return n}function S(e,t,n){var r=function(){return rl(e)?0===t:0===t},o=function(){return rl(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var n;return n=ul(e.ownerDocument),n.setStart(e,t),n.setEnd(e,t),n},a=function(){return n||(n=hl(S(e,t))),n},u=function(){return a().length>0},c=function(n){return n&&e===n.container()&&t===n.offset()},s=function(n){return al(e,n?t-1:t)};return{container:he(e),offset:he(t),toRange:i,getClientRects:a,isVisible:u,isAtStart:r,isAtEnd:o,isEqual:c,getNode:s}}function k(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return a(n).getOr("")},r=function(e){try{return o(e)}catch(t){return Re.none()}},o=function(t){return e(t)?Re.from(t.dom().nodeValue):Re.none()},i=Ko.detect().browser,a=i.isIE()&&10===i.version.major?r:o,u=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r};return{get:n,getOption:a,set:u}}function T(e){var t=zc();Uc(e,t);var n=Mc(e,t);return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each(function(t){Vm(e,n,t,r)})},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){Pc(e,Re.some(t)).each(function(e){var t=e.elements;je(t,sc)})},getAll:function(t){var n=Fc(e,t);return fi(n,function(e){return He(e,function(e){return e.dom()})})}}}function R(e){var t,n,r,o,i,a=[];return e=e||{},t=e.indent,n=yg(e.indent_before||""),r=yg(e.indent_after||""),o=Tu.getEncodeFunc(e.entity_encoding||"raw",e.entities),i="html"===e.element_format,{start:function(e,u,c){var s,l,f,d;if(t&&n[e]&&a.length>0&&(d=a[a.length-1],d.length>0&&"\n"!==d&&a.push("\n")),a.push("<",e),u)for(s=0,l=u.length;s<l;s++)f=u[s],a.push(" ",f.name,'="',o(f.value,!0),'"');!c||i?a[a.length]=">":a[a.length]=" />",c&&t&&r[e]&&a.length>0&&(d=a[a.length-1],d.length>0&&"\n"!==d&&a.push("\n"))},end:function(e){var n;a.push("</",e,">"),t&&r[e]&&a.length>0&&(n=a[a.length-1],n.length>0&&"\n"!==n&&a.push("\n"))},text:function(e,t){e.length>0&&(a[a.length]=t?e:o(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("<!--",e,"-->")},pi:function(e,n){n?a.push("<?",e," ",o(n),"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}}function A(e,t){void 0===t&&(t=y());var n=R(e);e=e||{},e.validate=!("validate"in e)||e.validate;var r=function(r){var o,i;i=e.validate,o={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do a(e);while(e=e.next)}},n.reset();var a=function(e){var r,u,c,s,l,f,d,m,g,p=o[e.type];if(p)p(e);else{if(r=e.name,u=e.shortEnded,c=e.attributes,i&&c&&c.length>1&&(f=[],f.map={},g=t.getElementRule(e.name))){for(d=0,m=g.attributesOrder.length;d<m;d++)s=g.attributesOrder[d],s in c.map&&(l=c.map[s],f.map[s]=l,f.push({name:s,value:l}));for(d=0,m=c.length;d<m;d++)s=c[d].name,s in f.map||(l=c.map[s],f.map[s]=l,f.push({name:s,value:l}));c=f}if(n.start(e.name,c,u),!u){if(e=e.firstChild)do a(e);while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?o[11](r):a(r),n.getContent()};return{serialize:r}}function B(e){var t,n,r,o,i={state:{},exec:{},value:{}},a=e.settings;e.on("PreInit",function(){t=e.dom,n=e.selection,a=e.settings,r=e.formatter});var u=function(t,n,r,o){var a,u,c=!1;if(!e.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||o&&o.skip_focus?cx.restore(e):e.focus(),o=e.fire("BeforeExecCommand",{command:t,ui:n,value:r}),o.isDefaultPrevented())return!1;if(u=t.toLowerCase(),a=i.exec[u])return a(u,n,r),e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(gx(e.plugins,function(o){if(o.execCommand&&o.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),c=!0,!1}),c)return c;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{c=e.getDoc().execCommand(t,n,r)}catch(s){}return!!c&&(e.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}},c=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=i.state[t])return n(t);try{return e.getDoc().queryCommandState(t)}catch(r){}return!1}},s=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=i.value[t])return n(t);try{return e.getDoc().queryCommandValue(t)}catch(r){}}},l=function(e,t){t=t||"exec",gx(e,function(e,n){gx(n.toLowerCase().split(","),function(n){i[t][n]=e})})},f=function(t,n,r){t=t.toLowerCase(),i.exec[t]=function(t,o,i,a){return n.call(r||e,o,i,a)}},d=function(t){if(t=t.toLowerCase(),i.exec[t])return!0;try{return e.getDoc().queryCommandSupported(t)}catch(n){}return!1},m=function(t,n,r){t=t.toLowerCase(),i.state[t]=function(){return n.call(r||e)}},g=function(t,n,r){t=t.toLowerCase(),i.value[t]=function(){return n.call(r||e)}},p=function(e){return e=e.toLowerCase(),!!i.exec[e]};px(this,{execCommand:u,queryCommandState:c,queryCommandValue:s,queryCommandSupported:d,addCommands:l,addCommand:f,addQueryStateHandler:m,addQueryValueHandler:g,hasCustomCommand:p});var h=function(t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=null),e.getDoc().execCommand(t,n,r)},v=function(e){return r.match(e)},b=function(t,n){r.toggle(t,n?{value:n}:void 0),e.nodeChanged()},y=function(e){o=n.getBookmark(e)},C=function(){n.moveToBookmark(o)};l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(t){var n,r=e.getDoc();try{h(t)}catch(o){n=!0}if("paste"!==t||r.queryCommandEnabled(t)||(n=!0),n||!r.queryCommandSupported(t)){var i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");St.mac&&(i=i.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(n.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}r.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),gx("left,center,right,justify".split(","),function(e){t!==e&&r.remove("align"+e)}),"none"!==t&&b("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var r,o;h(e),r=t.getParent(n.getNode(),"ol,ul"),r&&(o=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName)&&(y(),t.split(o,r),
C()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){b(e)},"ForeColor,HiliteColor":function(e,t,n){b(e,n)},FontName:function(t,n,r){dC(e,r)},FontSize:function(t,n,r){gC(e,r)},RemoveFormat:function(e){r.remove(e)},mceBlockQuote:function(){b("blockquote")},FormatBlock:function(e,t,n){return b(n||"p")},mceCleanup:function(){var t=n.getBookmark();e.setContent(e.getContent()),n.moveToBookmark(t)},mceRemoveNode:function(t,r,o){var i=o||n.getNode();i!==e.getBody()&&(y(),e.dom.remove(i,!0),C())},mceSelectNodeDepth:function(r,o,i){var a=0;t.getParent(n.getNode(),function(e){if(1===e.nodeType&&a++===i)return n.select(e),!1},e.getBody())},mceSelectNode:function(e,t,r){n.select(r)},mceInsertContent:function(t,n,r){zg.insertAtCaret(e,r)},mceInsertRawHTML:function(t,r,o){n.setContent("tiny_mce_marker");var i=e.getContent();e.setContent(i.replace(/tiny_mce_marker/g,function(){return o}))},mceToggleFormat:function(e,t,n){b(n)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){mx(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,r,o){e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(e,o,i){var a;"string"==typeof i&&(i={href:i}),a=t.getParent(n.getNode(),"a"),i.href=i.href.replace(" ","%20"),a&&i.href||r.remove("link"),i.href&&r.apply("link",i,a)},selectAll:function(){var e=t.getParent(n.getStart(),cu.isContentEditableTrue);if(e){var r=t.createRng();r.selectNodeContents(e),n.setRng(r)}},"delete":function(){Ry.deleteCommand(e)},forwardDelete:function(){Ry.forwardDeleteCommand(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return qC.insert(e,r),!0}});var x=function(e){return function(){var o=n.isCollapsed()?[t.getParent(n.getNode(),t.isBlock)]:n.getSelectedBlocks(),i=hx(o,function(t){return!!r.matchNode(t,e)});return vx(i,!0)!==-1}};l({JustifyLeft:x("alignleft"),JustifyCenter:x("aligncenter"),JustifyRight:x("alignright"),JustifyFull:x("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return v(e)},mceBlockQuote:function(){return v("blockquote")},Outdent:function(){var e;if(a.inline_styles){if((e=t.getParent(n.getStart(),t.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0;if((e=t.getParent(n.getEnd(),t.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0}return c("InsertUnorderedList")||c("InsertOrderedList")||!a.inline_styles&&!!t.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var r=t.getParent(n.getNode(),"ul,ol");return r&&("insertunorderedlist"===e&&"UL"===r.tagName||"insertorderedlist"===e&&"OL"===r.tagName)}},"state"),l({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),g("FontName",function(){return mC(e)},this),g("FontSize",function(){return pC(e)},this)}function D(e){var t=this,n={},r=[],o=function(e){var t,n,r={};qx(Wx(e,"+"),function(e){e in Kx?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=$x[e]||e.toUpperCase().charCodeAt(0))}),t=[r.keyCode];for(n in Kx)r[n]?t.push(n):r[n]=!1;return r.id=t.join(","),r.access&&(r.alt=!0,St.mac?r.ctrl=!0:r.shift=!0),r.meta&&(St.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},i=function(t,n,r,i){var a;return a=xr.map(Wx(t,">"),o),a[a.length-1]=xr.extend(a[a.length-1],{func:r,scope:i||e}),xr.extend(a[0],{desc:e.translate(n),subpatterns:a.slice(1)})},a=function(e){return e.altKey||e.ctrlKey||e.metaKey},u=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},c=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},s=function(e){return e.func?e.func.call(e.scope):null};e.on("keyup keypress keydown",function(e){!a(e)&&!u(e)||e.isDefaultPrevented()||(qx(n,function(t){if(c(e,t))return r=t.subpatterns.slice(0),"keydown"===e.type&&s(t),!0}),c(e,r[0])&&(1===r.length&&"keydown"===e.type&&s(r[0]),r.shift()))}),t.add=function(t,r,o,a){var u;return u=o,"string"==typeof o?o=function(){e.execCommand(u,!1,null)}:xr.isArray(u)&&(o=function(){e.execCommand(u[0],u[1],u[2])}),qx(Wx(xr.trim(t.toLowerCase())),function(e){var t=i(e,r,o,a);n[t.id]=t}),!0},t.remove=function(e){var t=i(e);return!!n[t.id]&&(delete n[t.id],!0)}}function _(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}function O(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():_()},r=function(){return Re.from(t[0])},o=function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)},i=function(){t.length>0&&n().reposition(t)},a=function(e){t.push(e)},u=function(e){Ge(t,function(t){return t===e}).each(function(e){t.splice(e,1)})},c=function(r){if(!e.removed&&ww.isEditorAttachedToDom(e))return Ye(t,function(e){return o(n().getArgs(e),r)}).getOrThunk(function(){e.editorManager.setActive(e);var t=n().open(r,function(){u(t),i()});return a(t),i(),t})},s=function(){r().each(function(e){n().close(e),u(e),i()})},l=function(){return t},f=function(e){e.on("SkinLoaded",function(){var t=e.settings.service_message;t&&c({text:t,type:"warning",timeout:0,icon:""})}),e.on("ResizeEditor ResizeWindow",function(){Pt.requestAnimationFrame(i)}),e.on("remove",function(){je(t.slice(),function(e){n().close(e)})})};return f(e),{open:c,close:s,getNotifications:l}}function P(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}function I(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():P()},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},o=function(t){e.fire("OpenWindow",{win:t})},i=function(t){e.fire("CloseWindow",{win:t})},a=function(e){t.push(e),o(e)},u=function(n){Ge(t,function(e){return e===n}).each(function(r){t.splice(r,1),i(n),0===t.length&&e.focus()})},c=function(){return Re.from(t[t.length-1])},s=function(t,r){e.editorManager.setActive(e),cx.store(e);var o=n().open(t,r,u);return a(o),o},l=function(e,t,o){var i=n().alert(e,r(o?o:this,t),u);a(i)},f=function(e,t,o){var i=n().confirm(e,r(o?o:this,t),u);a(i)},d=function(){c().each(function(e){n().close(e),u(e)})},m=function(){return c().map(n().getParams).getOr(null)},g=function(e){c().each(function(t){n().setParams(t,e)})},p=function(){return t};return e.on("remove",function(){je(t.slice(0),function(e){n().close(e)})}),{windows:t,open:s,alert:l,confirm:f,close:d,getParams:m,setParams:g,getWindows:p}}function L(){var e=pt.getOrDie("XMLHttpRequest");return new e}function F(e,t){var n={},r=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},o=function(e,n,o,i){var a,u;a=L(),a.open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=function(e){i(e.loaded/e.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){var e;return a.status<200||a.status>=300?void o("HTTP Error: "+a.status):(e=JSON.parse(a.responseText),e&&"string"==typeof e.location?void n(r(t.basePath,e.location)):void o("Invalid JSON: "+a.responseText))},u=new FormData,u.append("file",e.blob(),e.filename()),a.send(u)},i=function(){return new Tt(function(e){e([])})},a=function(e,t){return{url:t,blobInfo:e,status:!0}},u=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},c=function(e,t){xr.each(n[e],function(e){e(t)}),delete n[e]},s=function(t,n,r){return e.markPending(t.blobUri()),new Tt(function(o){var i,s,l=function(){};try{var f=function(){i&&(i.close(),s=l)},d=function(n){f(),e.markUploaded(t.blobUri(),n),c(t.blobUri(),a(t,n)),o(a(t,n))},m=function(n){f(),e.removeFailed(t.blobUri()),c(t.blobUri(),u(t,n)),o(u(t,n))};s=function(e){e<0||e>100||(i||(i=r()),i.progressBar.value(e))},n(t,d,m,s)}catch(g){o(u(t,g.message))}})},l=function(e){return e===o},f=function(e){var t=e.blobUri();return new Tt(function(e){n[t]=n[t]||[],n[t].push(e)})},d=function(n,r){return n=xr.grep(n,function(t){return!e.isUploaded(t.blobUri())}),Tt.all(xr.map(n,function(n){return e.isPending(n.blobUri())?f(n):s(n,t.handler,r)}))},m=function(e,n){return!t.url&&l(t.handler)?i():d(e,n)};return Le(t.handler)===!1&&(t.handler=o),{upload:m}}function M(){var e=pt.getOrDie("FileReader");return new e}function U(e){var t=pt.getOrDie("Uint8Array");return new t(e)}function z(e,t){var n={},r=function(r,o){var i;o||(o=he(!0)),i=$e($w(r),function(t){var n=t.src;return!!St.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===St.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t)))))});var a=He(i,function(e){if(n[e.src])return new Tt(function(t){n[e.src].then(function(n){return"string"==typeof n?n:void t({image:e,blobInfo:n.blobInfo})})});var r=new Tt(function(n,r){Ww(t,e,n,r)}).then(function(e){return delete n[e.image.src],e})["catch"](function(t){return delete n[e.src],t});return n[e.src]=r,r});return Tt.all(a)};return{findAll:r}}function V(){var e=[],t=function(e){var t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"};return t[e.toLowerCase()]||"dat"},n=function(e,t,n,o){if(De(e)){var i=e;return r({id:i,name:o,blob:t,base64:n})}if(_e(e))return r(e);throw new Error("Unknown input type")},r=function(e){var n,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return n=e.id||Gw.uuid("blobid"),r=e.name||n,{id:he(n),name:he(r),filename:he(r+"."+t(e.blob.type)),blob:he(e.blob),base64:he(e.base64),blobUri:he(e.blobUri||yt.createObjectURL(e.blob)),uri:he(e.uri)}},o=function(t){i(t.id())||e.push(t)},i=function(e){return a(function(t){return t.id()===e})},a=function(t){return $e(e,t)[0]},u=function(e){return a(function(t){return t.blobUri()===e})},c=function(t){e=$e(e,function(e){return e.blobUri()!==t||(yt.revokeObjectURL(e.blobUri()),!1)})},s=function(){je(e,function(e){yt.revokeObjectURL(e.blobUri())}),e=[]};return{create:n,add:o,get:i,getByUri:u,findFirst:a,removeByUri:c,destroy:s}}function H(){var e=1,t=2,n={},r=function(e,t){return{status:e,resultUri:t}},o=function(e){return e in n},i=function(e){var t=n[e];return t?t.resultUri:null},a=function(t){return!!o(t)&&n[t].status===e},u=function(e){return!!o(e)&&n[e].status===t},c=function(t){n[t]=r(e,null)},s=function(e,o){n[e]=r(t,o)},l=function(e){delete n[e]},f=function(){n={}};return{hasBlobUri:o,getResultUri:i,isPending:a,isUploaded:u,markPending:c,markUploaded:s,removeFailed:l,destroy:f}}function j(e){var t,n,r=V(),o=H(),i=[],a=function(t){return function(n){return e.selection?t(n):[]}},u=function(){return"?"+(new Date).getTime()},c=function(e,t,n){var r=0;do r=e.indexOf(t,r),r!==-1&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1);while(r!==-1);return e},s=function(e,t,n){return e=c(e,'src="'+t+'"','src="'+n+'"'),e=c(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},l=function(t,n){je(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=He(e.fragments,function(e){return s(e,t,n)}):e.content=s(e.content,t,n)})},f=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},d=function(t,n){r.removeByUri(t.src),l(t.src,n),e.$(t).attr({src:eC.shouldReuseFileName(e)?n+u():n,"data-mce-src":e.convertURL(n,"src")})},m=function(n){return t||(t=F(o,{url:eC.getImageUploadUrl(e),basePath:eC.getImageUploadBasePath(e),credentials:eC.getImagesUploadCredentials(e),handler:eC.getImagesUploadHandler(e)})),v().then(a(function(r){var o;return o=He(r,function(e){return e.blobInfo}),t.upload(o,f).then(a(function(t){var o=He(t,function(t,n){var o=r[n].image;return t.status&&eC.shouldReplaceBlobUris(e)?d(o,t.url):t.error&&Dw.uploadError(e,t.error),{element:o,status:t.status}});return n&&n(o),o}))}))},g=function(t){if(eC.isAutomaticUploadsEnabled(e))return m(t)},p=function(t){if(tt(i,function(e){return e(t)})===!1)return!1;if(0===t.getAttribute("src").indexOf("data:")){var n=eC.getImagesDataImgFilter(e);return n(t)}return!0},h=function(e){i.push(e)},v=function(){return n||(n=z(o,r)),n.findAll(e.getBody(),p).then(a(function(t){return t=$e(t,function(t){return"string"!=typeof t||(Dw.displayError(e,t),!1)}),je(t,function(e){l(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},b=function(){r.destroy(),o.destroy(),n=t=null},y=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var i=o.getResultUri(n);if(i)return'src="'+i+'"';var a=r.getByUri(n);if(a||(a=Xe(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),a){var u=a.blob();return'src="data:'+u.type+";base64,"+a.base64()+'"'}return t})};return e.on("setContent",function(){eC.isAutomaticUploadsEnabled(e)?g():v()}),e.on("RawSaveContent",function(e){e.content=y(e.content)}),e.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=y(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){je(e,function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=o.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:r,addFilter:h,uploadImages:m,uploadImagesAuto:g,scanForImages:v,destroy:b}}function q(e){var t,n=[],r=function(t){var r,o;if(o=e.$(t).parentsUntil(e.getBody()).add(t),o.length===n.length){for(r=o.length;r>=0&&o[r]===n[r];r--);if(r===-1)return n=o,!0}return n=o,!1};"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",function(n){var r,o;r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset},"nodechange"!==n.type&&vC.isEq(o,t)||e.fire("SelectionChange"),t=o}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!St.range&&e.selection.isCollapsed()||lE(e)&&!r(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("MouseUp",function(t){!t.isDefaultPrevented()&&lE(e)&&("IMG"===e.selection.getNode().nodeName?Pt.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())}),this.nodeChanged=function(t){var n,r,o,i=e.selection;e.initialized&&i&&!e.settings.disable_nodechange&&!e.readonly&&(o=e.getBody(),n=i.getStart(!0)||o,n.ownerDocument===e.getDoc()&&e.dom.isChildOf(n,o)||(n=o),r=[],e.dom.getParent(n,function(e){return e===o||void r.push(e)}),t=t||{},t.element=n,t.parents=r,e.fire("NodeChange",t))}}function W(e,t){void 0===t&&(t=y());var n=function(){};e=e||{},e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,o=e.cdata?e.cdata:n,i=e.text?e.text:n,a=e.start?e.start:n,u=e.end?e.end:n,c=e.pi?e.pi:n,s=e.doctype?e.doctype:n,l=function(n){var l,f,d,m,g,p,h,v,b,y,C,x,w,E,N,S,k,T,R,A,B,D,_,O,P,I,L,F,M,U,z=0,V=[],H=0,j=Tu.decode,q=xr.makeMap("src,href,data,background,formaction,poster,xlink:href"),W=/((java|vb)script|mhtml):/i,$=function(e){var t,n;for(t=V.length;t--&&V[t].name!==e;);if(t>=0){for(n=V.length-1;n>=t;n--)e=V[n],e.valid&&u(e.name);V.length=t}},K=function(t,n,r,o,i){var a,u,c=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),r=n in C?n:j(r||o||i||""),w&&!v&&TN(n)===!1){if(a=T[n],!a&&R){for(u=R.length;u--&&(a=R[u],!a.pattern.test(n)););u===-1&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(q[n]&&!e.allow_script_urls){var s=r.replace(c,"");try{s=decodeURIComponent(s)}catch(l){s=unescape(s)}if(W.test(s))return;if(AN(e,s))return}v&&(n in q||0===n.indexOf("on"))||(m.map[n]=r,m.push({name:n,value:r}))};for(I=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),L=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,y=t.getShortEndedElements(),P=e.self_closing_elements||t.getSelfClosingElements(),C=t.getBoolAttrs(),w=e.validate,b=e.remove_internals,U=e.fix_self_closing,F=t.getSpecialElements(),_=n+">";l=I.exec(_);){if(z<l.index&&i(j(n.substr(z,l.index-z))),f=l[6])f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),$(f);else if(f=l[7]){if(l.index+l[0].length>n.length){i(j(n.substr(l.index))),z=l.index+l[0].length;continue}if(f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),x=f in y,U&&P[f]&&V.length>0&&V[V.length-1].name===f&&$(f),!w||(E=t.getElementRule(f))){if(N=!0,w&&(T=E.attributes,R=E.attributePatterns),(k=l[8])?(v=k.indexOf("data-mce-type")!==-1,v&&b&&(N=!1),m=[],m.map={},k.replace(L,K)):(m=[],m.map={}),w&&!v){if(A=E.attributesRequired,B=E.attributesDefault,D=E.attributesForced,O=E.removeEmptyAttrs,O&&!m.length&&(N=!1),D)for(g=D.length;g--;)S=D[g],h=S.name,M=S.value,"{$uid}"===M&&(M="mce_"+H++),m.map[h]=M,m.push({name:h,value:M});if(B)for(g=B.length;g--;)S=B[g],h=S.name,h in m.map||(M=S.value,"{$uid}"===M&&(M="mce_"+H++),m.map[h]=M,m.push({name:h,value:M}));if(A){for(g=A.length;g--&&!(A[g]in m.map););g===-1&&(N=!1)}if(S=m.map["data-mce-bogus"]){if("all"===S){z=BN(t,n,I.lastIndex),I.lastIndex=z;continue}N=!1}}N&&a(f,m,x)}else N=!1;if(d=F[f]){d.lastIndex=z=l.index+l[0].length,(l=d.exec(n))?(N&&(p=n.substr(z,l.index-z)),z=l.index+l[0].length):(p=n.substr(z),z=n.length),N&&(p.length>0&&i(p,!0),u(f)),I.lastIndex=z;continue}x||(k&&k.indexOf("/")===k.length-1?N&&u(f):V.push({name:f,valid:N}))}else(f=l[1])?(">"===f.charAt(0)&&(f=" "+f),e.allow_conditional_comments||"[if"!==f.substr(0,3).toLowerCase()||(f=" "+f),r(f)):(f=l[2])?o(RN(f)):(f=l[3])?s(f):(f=l[4])&&c(f,l[5]);z=l.index+l[0].length}for(z<n.length&&i(j(n.substr(z))),g=V.length-1;g>=0;g--)f=V[g],f.valid&&u(f.name)};return{parse:l}}function $(e){var t,n,r=this,o=0,i=[],a=0,u=function(){return 0===a},c=function(e){u()&&(r.typing=e)},s=function(t){e.setDirty(t)},l=function(e){c(!1),r.add({},e)},f=function(){r.typing&&(c(!1),r.add())};e.on("init",function(){r.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(f(),r.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&l(e)}),e.on("ObjectResizeStart Cut",function(){r.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("DragEnd",l),e.on("KeyUp",function(t){var o=t.keyCode;t.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||t.ctrlKey)&&(l(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),n&&r.typing&&uS.isEq(uS.createFromEditor(e),i[0])===!1&&(e.isDirty()===!1&&(s(!0),e.fire("change",{level:i[0],lastLevel:null})),e.fire("TypingUndo"),n=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&t<=36||t>=37&&t<=40||45===t)return void(r.typing&&l(e));var o=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224===t||91===t||r.typing||o||(r.beforeChange(),c(!0),r.add({},e),n=!0)}}),e.on("MouseDown",function(e){r.typing&&l(e)});var d=function(e){return"insertReplacementText"===e.inputType},m=function(e){return"insertText"===e.inputType&&null===e.data};return e.on("input",function(e){e.inputType&&(d(e)||m(e))&&l(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),r={data:i,typing:!1,beforeChange:function(){u()&&(t=Yl.getUndoBookmark(e.selection))},add:function(n,r){var a,c,l,f=e.settings;if(l=uS.createFromEditor(e),n=n||{},n=xr.extend(n,l),u()===!1||e.removed)return null;if(c=i[o],e.fire("BeforeAddUndo",{level:n,lastLevel:c,originalEvent:r}).isDefaultPrevented())return null;if(c&&uS.isEq(c,n))return null;if(i[o]&&(i[o].beforeBookmark=t),f.custom_undo_redo_levels&&i.length>f.custom_undo_redo_levels){for(a=0;a<i.length-1;a++)i[a]=i[a+1];i.length--,o=i.length}n.bookmark=Yl.getUndoBookmark(e.selection),o<i.length-1&&(i.length=o+1),i.push(n),o=i.length-1;var d={level:n,lastLevel:c,originalEvent:r};return e.fire("AddUndo",d),o>0&&(s(!0),e.fire("change",d)),n},undo:function(){var t;return r.typing&&(r.add(),r.typing=!1,c(!1)),o>0&&(t=i[--o],uS.applyToEditor(e,t,!0),s(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return o<i.length-1&&(t=i[++o],uS.applyToEditor(e,t,!1),s(!0),e.fire("redo",{level:t})),t},clear:function(){i=[],o=0,r.typing=!1,r.data=i,e.fire("ClearUndos")},hasUndo:function(){return o>0||r.typing&&i[0]&&!uS.isEq(uS.createFromEditor(e),i[0])},hasRedo:function(){return o<i.length-1&&!r.typing},transact:function(e){return f(),r.beforeChange(),r.ignore(e),r.add()},ignore:function(e){try{a++,e()}finally{a--}},extra:function(t,n){var a,u;r.transact(t)&&(u=i[o].bookmark,a=i[o-1],uS.applyToEditor(e,a,!0),r.transact(n)&&(i[o-1].beforeBookmark=u))}}}function K(e){var t={},n=function(e){return e?t[e]:t},r=function(e,n){e&&("string"!=typeof e?xr.each(e,function(e,t){r(t,e)}):(n=n.length?n:[n],xr.each(n,function(e){"undefined"==typeof e.deep&&(e.deep=!e.selector),"undefined"==typeof e.split&&(e.split=!e.selector||e.inline),"undefined"==typeof e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),t[e]=n))},o=function(e){return e&&t[e]&&delete t[e],t};return r(Fk.get(e.dom)),r(e.settings.formats),{get:n,register:r,unregister:o}}function X(t){var n=K(t),r=dc(null);return Yk.setup(t),FS(t),{get:n.get,register:n.register,unregister:n.unregister,apply:e(Bk.applyFormat,t),remove:e(sk.remove,t),toggle:e(Kk.toggle,t,n),match:e(vS.match,t),matchAll:e(vS.matchAll,t),matchNode:e(vS.matchNode,t),canApply:e(vS.canApply,t),formatChanged:e(Ik.formatChanged,t,r),getCssText:e(Wk.getCssText,t)}}function Y(e,t){void 0===t&&(t=y());var n={},r=[],o={},i={};e=e||{},e.validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var n,r,o,i,a,c,s,l,f,d,m,g,p,h,v,b;for(g=NT("tr,td,th,tbody,thead,tfoot,table"),d=t.getNonEmptyElements(),m=t.getWhiteSpaceElements(),p=t.getTextBlockElements(),h=t.getSpecialElements(),n=0;n<e.length;n++)if(r=e[n],r.parent&&!r.fixed)if(p[r.name]&&"li"===r.parent.name){for(v=r.next;v&&p[v.name];)v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!t.isValidChild(o.name,r.name)&&!g[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),a=c=u(i[0].clone()),f=0;f<i.length-1;f++){for(t.isValidChild(c.name,i[f].name)?(s=u(i[f].clone()),c.append(s)):s=c,l=i[f].firstChild;l&&l!==i[f+1];)b=l.next,s.append(l),l=b;c=s}xT(t,d,m,a)?o.insert(r,i[0],!0):(o.insert(a,i[0],!0),o.insert(r,a)),o=i[0],(xT(t,d,m,o)||yT(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if(v=r.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if(v=r.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(u(new hT("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(u(new hT("div",1))):h[r.name]?r.empty().remove():r.unwrap()}}},u=function(e){var t,a,u;a=e.name,a in n&&(u=o[a],u?u.push(e):o[a]=[e]),t=r.length;for(;t--;)a=r[t].name,a in e.attributes.map&&(u=i[a],u?u.push(e):i[a]=[e]);return e},c=function(e,t){ST(kT(e),function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)})},s=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},l=function(e,t){ST(kT(e),function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})})},f=function(){return[].concat(r)},d=function(u,c){var s,l,f,d,m,g,p,h,v,b,y,C=[];c=c||{},o={},i={},v=TT(NT("script,style,head,html,body,title,meta,param"),t.getBlockElements());var x=t.getNonEmptyElements(),w=t.children,E=e.validate,N="forced_root_block"in c?c.forced_root_block:e.forced_root_block,S=t.getWhiteSpaceElements(),k=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,R=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/;b=S.hasOwnProperty(c.context)||S.hasOwnProperty(e.root_name);var B=function(){var n,r,o=P.firstChild,i=function(e){e&&(o=e.firstChild,o&&3===o.type&&(o.value=o.value.replace(k,"")),o=e.lastChild,o&&3===o.type&&(o.value=o.value.replace(T,"")))};if(t.isValidChild(P.name,N.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!v[o.name]&&!o.attr("data-mce-type")?r?r.append(o):(r=D(N,1),r.attr(e.forced_root_block_attrs),P.insert(r,o),r.append(o)):(i(r),r=null),o=n;i(r)}},D=function(e,t){var r,i=new hT(e,t);return e in n&&(r=o[e],r?r.push(i):o[e]=[i]),i},_=function(e){var n,r,o,i,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(o=n.value.replace(T,""),o.length>0)return void(n.value=o);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}},O=function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n};s=DN({validate:E,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:O(t.getSelfClosingElements()),cdata:function(e){y.append(D("#cdata",4)).value=e},text:function(e,t){var n;b||(e=e.replace(R," "),wT(y.lastChild,v)&&(e=e.replace(k,""))),0!==e.length&&(n=D("#text",3),n.raw=!!t,y.append(n).value=e)},comment:function(e){y.append(D("#comment",8)).value=e},pi:function(e,t){y.append(D(e,7)).value=t,_(y)},doctype:function(e){var t;t=y.append(D("#doctype",10)),t.value=e,_(y)},start:function(e,n,o){var a,u,c,s,l;if(c=E?t.getElementRule(e):{}){for(a=D(c.outputName||e,1),a.attributes=n,a.shortEnded=o,y.append(a),l=w[y.name],l&&w[a.name]&&!l[a.name]&&C.push(a),u=r.length;u--;)s=r[u].name,s in n.map&&(p=i[s],p?p.push(a):i[s]=[a]);v[e]&&_(a),o||(y=a),!b&&S[e]&&(b=!0)}},end:function(n){var r,o,i,a,u;if(o=E?t.getElementRule(n):{}){if(v[n]&&!b){if(r=y.firstChild,r&&3===r.type)if(i=r.value.replace(k,""),i.length>0)r.value=i,r=r.next;else for(a=r.next,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.next,(0===i.length||A.test(i))&&(r.remove(),r=a),r=a;if(r=y.lastChild,r&&3===r.type)if(i=r.value.replace(T,""),i.length>0)r.value=i,r=r.prev;else for(a=r.prev,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.prev,(0===i.length||A.test(i))&&(r.remove(),r=a),r=a}if(b&&S[n]&&(b=!1),o.removeEmpty&&xT(t,x,S,y)&&!y.attributes.map.name&&!y.attr("id"))return u=y.parent,v[y.name]?y.empty().remove():y.unwrap(),void(y=u);o.paddEmpty&&(bT(y)||xT(t,x,S,y))&&vT(e,c,v,y),y=y.parent}}},t);var P=y=new hT(c.context||e.root_name,11);if(s.parse(u),E&&C.length&&(c.context?c.invalid=!0:a(C)),N&&("body"===P.name||c.isRootContent)&&B(),!c.invalid){for(h in o){for(p=n[h],l=o[h],m=l.length;m--;)l[m].parent||l.splice(m,1);for(f=0,d=p.length;f<d;f++)p[f](l,h,c)}for(f=0,d=r.length;f<d;f++)if(p=r[f],p.name in i){for(l=i[p.name],m=l.length;m--;)l[m].parent||l.splice(m,1);for(m=0,g=p.callbacks.length;m<g;m++)p.callbacks[m](l,p.name,c)}}return P},m={schema:t,addAttributeFilter:l,getAttributeFilters:f,addNodeFilter:c,getNodeFilters:s,filterNode:u,parse:d};return ET(m,e),dT.register(m,e),m}function G(t,n){var r,o,i,a=["data-mce-selected"];r=n&&n.dom?n.dom:Ku.DOM,o=n&&n.schema?n.schema:y(t),t.entity_encoding=t.entity_encoding||"named",t.remove_trailing_brs=!("remove_trailing_brs"in t)||t.remove_trailing_brs,i=Y(t,o),nT.register(i,t,r);var u=function(e,a){var u=Qk({format:"html"},a?a:{}),c=aT.process(n,e,u),s=BT(r,c,u),l=DT(i,s,u);return"tree"===u.format?l:OT(n,t,o,l,u)};return{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:u,addRules:function(e){o.addValidElements(e)},setRules:function(e){o.setValidElements(e)},addTempAttr:e(RT,i,a),getTempAttrs:function(){return a}}}function Z(e,t){var n=G(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}}function J(t){return{getBookmark:e(Qd.getBookmark,t),moveToBookmark:e(Qd.moveToBookmark,t)}}function Q(e){var t=xr.each,n=CN.BACKSPACE,r=CN.DELETE,o=e.dom,i=e.selection,a=e.settings,u=e.parser,c=St.gecko,s=St.ie,l=St.webkit,f="data:text/mce-internal,",d=s?"Text":"URL",m=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},g=function(e){return e.isDefaultPrevented()},p=function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&i.select(t.target),n=e.selection.getContent(),n.length>0&&(r=f+escape(e.id)+","+escape(n),t.dataTransfer.setData(d,r)))},h=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(d),t&&t.indexOf(f)>=0)?(t=t.substr(f.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},v=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},b=function(){var t=function(e){var t=o.create("body"),n=e.cloneContents();return t.appendChild(n),i.serializer.serialize(t,{format:"html"})},a=function(n){var r=t(n),i=o.createRng();i.selectNode(e.getBody());var a=t(i);return r===a};e.on("keydown",function(t){var i,u,c=t.keyCode;if(!g(t)&&(c===r||c===n)){if(i=e.selection.isCollapsed(),u=e.getBody(),i&&!o.isEmpty(u))return;if(!i&&!a(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),u.firstChild&&o.isBlock(u.firstChild)?e.selection.setCursorLocation(u.firstChild,0):e.selection.setCursorLocation(u,0),e.nodeChanged()}})},y=function(){e.shortcuts.add("meta+a",null,"SelectAll")},C=function(){e.settings.content_editable||o.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=i.getRng(),e.getBody().focus(),"mousedown"===t.type){if(os(n.startContainer))return;i.placeCaretAt(t.clientX,t.clientY)}else i.setRng(n)})},x=function(){e.on("keydown",function(t){if(!g(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){var r=i.getNode(),a=r.previousSibling;if("HR"===r.nodeName)return o.remove(r),void t.preventDefault();a&&a.nodeName&&"hr"===a.nodeName.toLowerCase()&&(o.remove(a),t.preventDefault())}}})},w=function(){Range.prototype.getClientRects||e.on("mousedown",function(t){if(!g(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Pt.setEditorTimeout(e,function(){n.focus()})}})},E=function(){e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==o.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&o.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),i.select(n))})},N=function(){var n=function(){var n=o.getAttribs(i.getStart().cloneNode(!1));return function(){var r=i.getStart();r!==e.getBody()&&(o.setAttrib(r,"style",null),t(n,function(e){r.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!i.isCollapsed()&&o.getParent(i.getStart(),o.isBlock)!==o.getParent(i.getEnd(),o.isBlock)};e.on("keypress",function(t){var o;if(!g(t)&&(8===t.keyCode||46===t.keyCode)&&r())return o=n(),e.getDoc().execCommand("delete",!1,null),o(),t.preventDefault(),!1}),o.bind(e.getDoc(),"cut",function(t){var o;!g(t)&&r()&&(o=n(),Pt.setEditorTimeout(e,function(){o()}))})},S=function(){e.on("keydown",function(e){if(!g(e)&&e.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){var t=i.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},k=function(){e.on("keydown",function(t){var n,r,a,u,c;if(!g(t)&&t.keyCode===CN.BACKSPACE&&(n=i.getRng(),r=n.startContainer,a=n.startOffset,u=o.getRoot(),c=r,n.collapsed&&0===a)){for(;c&&c.parentNode&&c.parentNode.firstChild===c&&c.parentNode!==u;)c=c.parentNode;
"BLOCKQUOTE"===c.tagName&&(e.formatter.toggle("blockquote",null,c),n=o.createRng(),n.setStart(r,0),n.setEnd(r,0),i.setRng(n))}})},T=function(){var t=function(){m("StyleWithCSS",!1),m("enableInlineTableEditing",!1),a.object_resizing||m("enableObjectResizing",!1)};a.readonly||e.on("BeforeExecCommand MouseDown",t)},R=function(){var n=function(){t(o.select("a"),function(e){var t=e.parentNode,n=o.getRoot();if(t.lastChild===e){for(;t&&!o.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}o.add(t,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()})},A=function(){a.forced_root_block&&e.on("init",function(){m("DefaultParagraphSeparator",a.forced_root_block)})},B=function(){e.on("keyup focusin mouseup",function(e){CN.modifierPressed(e)||i.normalize()},!0)},D=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},_=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},O=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(St.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))},P=function(){St.mac&&e.on("keydown",function(t){!CN.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})},I=function(){m("AutoUrlDetect",!1)},L=function(){e.on("click",function(e){var t=e.target;do if("A"===t.tagName)return void e.preventDefault();while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},F=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})})},M=function(){u.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})},U=function(){e.on("dragstart",function(e){p(e)}),e.on("drop",function(t){if(!g(t)){var n=h(t);if(n&&n.id!==e.id){t.preventDefault();var r=JT.fromPoint(t.x,t.y,e.getDoc());i.setRng(r),v(n.html,!0)}}})},z=function(){},V=function(){var t;return!c||e.removed?0:(t=e.selection.getSel(),!t||!t.rangeCount||0===t.rangeCount)};return k(),b(),St.windowsPhone||B(),l&&(C(),E(),A(),F(),S(),M(),St.iOS?(_(),O(),L()):y()),St.ie>=11&&(O(),S()),St.ie&&(y(),I(),U()),c&&(x(),w(),N(),T(),R(),D(),P(),S()),{refreshContentEditable:z,isHidden:V}}function ee(e){var t=function(t,n){return Dm.walk(e,t,n)},n=CS.split,r=function(t){return BC.normalize(e,t).fold(he(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})};return{walk:t,split:n,normalize:r}}var te,ne,re,oe,ie,ae,ue,ce,se,le,fe,de,me,ge=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t]},pe=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},he=function(e){return function(){return e}},ve=function(e){return e},be=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},ye=function(e){return function(){throw new Error(e)}},Ce=he(!1),xe=he(!0),we=Ce,Ee=xe,Ne=function(){return Se},Se=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o=function(){return null},i=function(){},a={fold:function(e,t){return e()},is:we,isSome:we,isNone:Ee,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:o,getOrUndefined:i,or:n,orThunk:t,map:Ne,ap:Ne,each:r,bind:Ne,flatten:Ne,exists:we,forall:Ee,filter:Ne,equals:e,equals_:e,toArray:function(){return[]},toString:he("none()")};return Object.freeze&&Object.freeze(a),a}(),ke=function(e){var t=function(){return e},n=function(){return i},r=function(t){return ke(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:Ee,isNone:we,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(Ne,function(t){return ke(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:Se},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(we,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},Te=function(e){return null===e||void 0===e?Se:ke(e)},Re={some:ke,none:Ne,from:Te},Ae=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},Be=function(e){return function(t){return Ae(t)===e}},De=Be("string"),_e=Be("object"),Oe=Be("array"),Pe=Be("null"),Ie=Be("boolean"),Le=Be("function"),Fe=Be("number"),Me=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return Ze(e,t)};return void 0===e?n:t}(),Ue=function(e,t){var n=Me(e,t);return n===-1?Re.none():Re.some(n)},ze=function(e,t){return Me(e,t)>-1},Ve=function(e,t){return Ge(e,t).isSome()},He=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},je=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n,e)}},qe=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n,e)}},We=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o],u=t(a,o,e)?n:r;u.push(a)}return{pass:n,fail:r}},$e=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},Ke=function(e,t,n){return qe(e,function(e){n=t(n,e)}),n},Xe=function(e,t,n){return je(e,function(e){n=t(n,e)}),n},Ye=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return Re.some(o)}return Re.none()},Ge=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return Re.some(n)}return Re.none()},Ze=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},Je=Array.prototype.push,Qe=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Je.apply(t,e[n])}return t},et=function(e,t){var n=He(e,t);return Qe(n)},tt=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(t(o,n,e)!==!0)return!1}return!0},nt=Array.prototype.slice,rt=function(e){var t=nt.call(e,0);return t.reverse(),t},ot=function(e,t){return $e(e,function(e){return!ze(t,e)})},it=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},at=function(e,t){var n=nt.call(e,0);return n.sort(t),n},ut=function(e){return 0===e.length?Re.none():Re.some(e[0])},ct=function(e){return 0===e.length?Re.none():Re.some(e[e.length-1])},st=Le(Array.from)?Array.from:function(e){return nt.call(e)},lt="undefined"!=typeof window?window:Function("return this;")(),ft=function(e,t){for(var n=void 0!==t&&null!==t?t:lt,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},dt=function(e,t){var n=e.split(".");return ft(n,t)},mt=function(e,t){return dt(e,t)},gt=function(e,t){var n=mt(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},pt={getOrDie:gt},ht=function(){return pt.getOrDie("URL")},vt=function(e){return ht().createObjectURL(e)},bt=function(e){ht().revokeObjectURL(e)},yt={createObjectURL:vt,revokeObjectURL:bt},Ct=navigator,xt=Ct.userAgent,wt=function(e){return"matchMedia"in window&&matchMedia(e).matches};te=!1,se=/Android/.test(xt),ne=/WebKit/.test(xt),re=!ne&&!te&&/MSIE/gi.test(xt)&&/Explorer/gi.test(Ct.appName),re=re&&/MSIE (\w+)\./.exec(xt)[1],oe=xt.indexOf("Trident/")!==-1&&(xt.indexOf("rv:")!==-1||Ct.appName.indexOf("Netscape")!==-1)&&11,ie=xt.indexOf("Edge/")!==-1&&!re&&!oe&&12,re=re||oe||ie,ae=!ne&&!oe&&/Gecko/.test(xt),ue=xt.indexOf("Mac")!==-1,ce=/(iPad|iPhone)/.test(xt),le="FormData"in window&&"FileReader"in window&&"URL"in window&&!!yt.createObjectURL,fe=wt("only screen and (max-device-width: 480px)")&&(se||ce),de=wt("only screen and (min-width: 800px)")&&(se||ce),me=xt.indexOf("Windows Phone")!==-1,ie&&(ne=!1);var Et,Nt=!ce||le||parseInt(xt.match(/AppleWebKit\/(\d*)/)[1],10)>=534,St={opera:te,webkit:ne,ie:re,gecko:ae,mac:ue,iOS:ce,android:se,contentEditable:Nt,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==re,range:window.getSelection&&"Range"in window,documentMode:re&&!ie?document.documentMode||7:10,fileApi:le,ceFalse:re===!1||re>8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:re===!1||re>11,desktop:!fe&&!de,windowsPhone:me},kt=function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(e){var t=this;return null===this._state?void this._deferreds.push(e):void s(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(o){return void e.reject(o)}e.resolve(r)})}function n(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if("function"==typeof i)return void a(e(i,t),e(n,this),e(r,this))}this._state=!0,this._value=t,o.call(this)}catch(u){r.call(this,u)}}function r(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,n=this._deferreds.length;e<n;e++)t.call(this,this._deferreds[e]);this._deferreds=null}function i(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function a(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(o){if(r)return;r=!0,n(o)}}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(t,e(n,this),e(r,this))},s=c.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)};return c.prototype["catch"]=function(e){return this.then(null,e)},c.prototype.then=function(e,n){var r=this;return new c(function(o,a){t.call(r,new i(e,n,o,a))})},c.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new c(function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},n)}e[i]=a,0===--o&&t(e)}catch(c){n(c)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c(function(t){t(e)})},c.reject=function(e){return new c(function(t,n){n(e)})},c.race=function(e){return new c(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},c},Tt=window.Promise?window.Promise:kt(),Rt=function(e,t){var n,r=window.requestAnimationFrame,o=["ms","moz","webkit"],i=function(e){window.setTimeout(e,0)};for(n=0;n<o.length&&!r;n++)r=window[o[n]+"RequestAnimationFrame"];r||(r=i),r(e,t)},At=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},Bt=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},Dt=function(e){return clearTimeout(e)},_t=function(e){return clearInterval(e)},Ot=function(e,t){var n,r;return r=function(){var r=arguments;clearTimeout(n),n=At(function(){e.apply(this,r)},t)},r.stop=function(){clearTimeout(n)},r},Pt={requestAnimationFrame:function(e,t){return Et?void Et.then(e):void(Et=new Tt(function(e){t||(t=document.body),Rt(e,t)}).then(e))},setTimeout:At,setInterval:Bt,setEditorTimeout:function(e,t,n){return At(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r;return r=Bt(function(){e.removed?clearInterval(r):t()},n)},debounce:Ot,throttle:Ot,clearInterval:_t,clearTimeout:Dt},It="mce-data-",Lt=/^(?:mouse|contextmenu)|click/,Ft={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},Mt=function(e){return e.isDefaultPrevented===zt||e.isDefaultPrevented===Ut},Ut=function(){return!1},zt=function(){return!0},Vt=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Ht=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},jt=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&n.length>0)return n[0]}return t},qt=function(e,t){var n,r=t||{};for(n in e)Ft[n]||(r[n]=e[n]);if(r.target||(r.target=r.srcElement||document),St.experimentalShadowDom&&(r.target=jt(e,r.target)),e&&Lt.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var o=r.target.ownerDocument||document,i=o.documentElement,a=o.body;r.pageX=e.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),r.pageY=e.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)}return r.preventDefault=function(){r.isDefaultPrevented=zt,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},r.stopPropagation=function(){r.isPropagationStopped=zt,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=zt,r.stopPropagation()},Mt(r)===!1&&(r.isDefaultPrevented=Ut,r.isPropagationStopped=Ut,r.isImmediatePropagationStopped=Ut),"undefined"==typeof r.metaKey&&(r.metaKey=!1),r},Wt=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)return void t(o);var i=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){n.domLoaded||(n.domLoaded=!0,t(o))},u=function(){i()&&(Ht(r,"readystatechange",u),a())},c=function(){try{r.documentElement.doScroll("left")}catch(e){return void Pt.setTimeout(c)}a()};!r.addEventListener||St.ie&&St.ie<11?(Vt(r,"readystatechange",u),r.documentElement.doScroll&&e.self===e.top&&c()):i()?a():Vt(e,"DOMContentLoaded",a),Vt(e,"load",a)},$t=function(){var e,t,n,r,o,i=this,a={};t=It+(+new Date).toString(32),r="onmouseenter"in document.documentElement,n="onfocusin"in document.documentElement,o={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,i.domLoaded=!1,i.events=a;var u=function(e,t){var n,r,o,i,u=a[t];if(n=u&&u[e.type])for(r=0,o=n.length;r<o;r++)if(i=n[r],i&&i.func.call(i.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return};i.bind=function(c,s,l,f){var d,m,g,p,h,v,b,y=window,C=function(e){u(qt(e||y.event),d)};if(c&&3!==c.nodeType&&8!==c.nodeType){for(c[t]?d=c[t]:(d=e++,c[t]=d,a[d]={}),f=f||c,s=s.split(" "),g=s.length;g--;)p=s[g],v=C,h=b=!1,"DOMContentLoaded"===p&&(p="ready"),i.domLoaded&&"ready"===p&&"complete"===c.readyState?l.call(f,qt({type:p})):(r||(h=o[p],h&&(v=function(e){var t,n;if(t=e.currentTarget,n=e.relatedTarget,n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||(e=qt(e||y.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,u(e,d))})),n||"focusin"!==p&&"focusout"!==p||(b=!0,h="focusin"===p?"focus":"blur",v=function(e){e=qt(e||y.event),e.type="focus"===e.type?"focusin":"focusout",u(e,d)}),m=a[d][p],m?"ready"===p&&i.domLoaded?l({type:p}):m.push({func:l,scope:f}):(a[d][p]=m=[{func:l,scope:f}],m.fakeName=h,m.capture=b,m.nativeHandler=v,"ready"===p?Wt(c,v,i):Vt(c,h||p,v,b)));return c=m=0,l}},i.unbind=function(e,n,r){var o,u,c,s,l,f;if(!e||3===e.nodeType||8===e.nodeType)return i;if(o=e[t]){if(f=a[o],n){for(n=n.split(" "),c=n.length;c--;)if(l=n[c],u=f[l]){if(r)for(s=u.length;s--;)if(u[s].func===r){var d=u.nativeHandler,m=u.fakeName,g=u.capture;u=u.slice(0,s).concat(u.slice(s+1)),u.nativeHandler=d,u.fakeName=m,u.capture=g,f[l]=u}r&&0!==u.length||(delete f[l],Ht(e,u.fakeName||l,u.nativeHandler,u.capture))}}else{for(l in f)u=f[l],Ht(e,u.fakeName||l,u.nativeHandler,u.capture);f={}}for(l in f)return i;delete a[o];try{delete e[t]}catch(p){e[t]=null}}return i},i.fire=function(e,n,r){var o;if(!e||3===e.nodeType||8===e.nodeType)return i;r=qt(null,r),r.type=n,r.target=e;do o=e[t],o&&u(r,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!r.isPropagationStopped());return i},i.clean=function(e){var n,r,o=i.unbind;if(!e||3===e.nodeType||8===e.nodeType)return i;if(e[t]&&o(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(o(e),r=e.getElementsByTagName("*"),n=r.length;n--;)e=r[n],e[t]&&o(e);return i},i.destroy=function(){a={}},i.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};$t.Event=new $t,$t.Event.bind(window,"ready",function(){});var Kt,Xt,Yt,Gt,Zt,Jt,Qt,en,tn,nn,rn,on,an,un,cn,sn,ln,fn,dn,mn="sizzle"+-new Date,gn=window.document,pn=0,hn=0,vn=t(),bn=t(),yn=t(),Cn=function(e,t){return e===t&&(rn=!0),0},xn="undefined",wn=1<<31,En={}.hasOwnProperty,Nn=[],Sn=Nn.pop,kn=Nn.push,Tn=Nn.push,Rn=Nn.slice,An=Nn.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Bn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Dn="[\\x20\\t\\r\\n\\f]",_n="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",On="\\["+Dn+"*("+_n+")(?:"+Dn+"*([*^$|!~]?=)"+Dn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+_n+"))|)"+Dn+"*\\]",Pn=":("+_n+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+On+")*)|.*)\\)|)",In=new RegExp("^"+Dn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Dn+"+$","g"),Ln=new RegExp("^"+Dn+"*,"+Dn+"*"),Fn=new RegExp("^"+Dn+"*([>+~]|"+Dn+")"+Dn+"*"),Mn=new RegExp("="+Dn+"*([^\\]'\"]*?)"+Dn+"*\\]","g"),Un=new RegExp(Pn),zn=new RegExp("^"+_n+"$"),Vn={ID:new RegExp("^#("+_n+")"),CLASS:new RegExp("^\\.("+_n+")"),TAG:new RegExp("^("+_n+"|[*])"),ATTR:new RegExp("^"+On),PSEUDO:new RegExp("^"+Pn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Dn+"*(even|odd|(([+-]|)(\\d*)n|)"+Dn+"*(?:([+-]|)"+Dn+"*(\\d+)|))"+Dn+"*\\)|)","i"),bool:new RegExp("^(?:"+Bn+")$","i"),needsContext:new RegExp("^"+Dn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Dn+"*((?:-\\d)?\\d*)"+Dn+"*\\)|)(?=[^-]|$)","i")},Hn=/^(?:input|select|textarea|button)$/i,jn=/^h\d$/i,qn=/^[^{]+\{\s*\[native \w/,Wn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$n=/[+~]/,Kn=/'|\\/g,Xn=new RegExp("\\\\([\\da-f]{1,6}"+Dn+"?|("+Dn+")|.)","ig"),Yn=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Tn.apply(Nn=Rn.call(gn.childNodes),gn.childNodes),Nn[gn.childNodes.length].nodeType}catch(Gn){Tn={apply:Nn.length?function(e,t){kn.apply(e,Rn.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var Zn=function(e,t,n,r){var o,i,a,c,l,f,d,m,g,p;if((t?t.ownerDocument||t:gn)!==an&&on(t),t=t||an,n=n||[],!e||"string"!=typeof e)return n;if(1!==(c=t.nodeType)&&9!==c)return[];if(cn&&!r){if(o=Wn.exec(e))if(a=o[1]){if(9===c){if(i=t.getElementById(a),!i||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&dn(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return Tn.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&Xt.getElementsByClassName)return Tn.apply(n,t.getElementsByClassName(a)),n}if(Xt.qsa&&(!sn||!sn.test(e))){if(m=d=mn,g=t,p=9===c&&e,1===c&&"object"!==t.nodeName.toLowerCase()){for(f=Jt(e),(d=t.getAttribute("id"))?m=d.replace(Kn,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",l=f.length;l--;)f[l]=m+s(f[l]);g=$n.test(e)&&u(t.parentNode)||t,p=f.join(",")}if(p)try{return Tn.apply(n,g.querySelectorAll(p)),n}catch(h){}finally{d||t.removeAttribute("id")}}}return en(e.replace(In,"$1"),t,n,r)};Xt=Zn.support={},Zt=Zn.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},on=Zn.setDocument=function(e){function t(e){try{return e.top}catch(t){}return null}var n,o=e?e.ownerDocument||e:gn,i=o.defaultView;return o!==an&&9===o.nodeType&&o.documentElement?(an=o,un=o.documentElement,cn=!Zt(o),i&&i!==t(i)&&(i.addEventListener?i.addEventListener("unload",function(){on()},!1):i.attachEvent&&i.attachEvent("onunload",function(){on()})),Xt.attributes=!0,Xt.getElementsByTagName=!0,Xt.getElementsByClassName=qn.test(o.getElementsByClassName),Xt.getById=!0,Yt.find.ID=function(e,t){if(typeof t.getElementById!==xn&&cn){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},Yt.filter.ID=function(e){var t=e.replace(Xn,Yn);return function(e){return e.getAttribute("id")===t}},Yt.find.TAG=Xt.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==xn)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},Yt.find.CLASS=Xt.getElementsByClassName&&function(e,t){if(cn)return t.getElementsByClassName(e)},ln=[],sn=[],Xt.disconnectedMatch=!0,sn=sn.length&&new RegExp(sn.join("|")),ln=ln.length&&new RegExp(ln.join("|")),n=qn.test(un.compareDocumentPosition),dn=n||qn.test(un.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Cn=n?function(e,t){if(e===t)return rn=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!Xt.sortDetached&&t.compareDocumentPosition(e)===n?e===o||e.ownerDocument===gn&&dn(gn,e)?-1:t===o||t.ownerDocument===gn&&dn(gn,t)?1:nn?An.call(nn,e)-An.call(nn,t):0:4&n?-1:1)}:function(e,t){if(e===t)return rn=!0,0;var n,i=0,a=e.parentNode,u=t.parentNode,c=[e],s=[t];if(!a||!u)return e===o?-1:t===o?1:a?-1:u?1:nn?An.call(nn,e)-An.call(nn,t):0;if(a===u)return r(e,t);for(n=e;n=n.parentNode;)c.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;c[i]===s[i];)i++;return i?r(c[i],s[i]):c[i]===gn?-1:s[i]===gn?1:0},o):an},Zn.matches=function(e,t){return Zn(e,null,null,t)},Zn.matchesSelector=function(e,t){if((e.ownerDocument||e)!==an&&on(e),t=t.replace(Mn,"='$1']"),Xt.matchesSelector&&cn&&(!ln||!ln.test(t))&&(!sn||!sn.test(t)))try{var n=fn.call(e,t);if(n||Xt.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return Zn(t,an,null,[e]).length>0},Zn.contains=function(e,t){return(e.ownerDocument||e)!==an&&on(e),dn(e,t)},Zn.attr=function(e,t){(e.ownerDocument||e)!==an&&on(e);var n=Yt.attrHandle[t.toLowerCase()],r=n&&En.call(Yt.attrHandle,t.toLowerCase())?n(e,t,!cn):void 0;return void 0!==r?r:Xt.attributes||!cn?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Zn.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Zn.uniqueSort=function(e){var t,n=[],r=0,o=0;if(rn=!Xt.detectDuplicates,nn=!Xt.sortStable&&e.slice(0),e.sort(Cn),rn){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return nn=null,e},Gt=Zn.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Gt(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=Gt(t);return n},Yt=Zn.selectors={cacheLength:50,createPseudo:n,match:Vn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Xn,Yn),e[3]=(e[3]||e[4]||e[5]||"").replace(Xn,Yn),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Zn.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Zn.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Vn.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Un.test(n)&&(t=Jt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Xn,Yn).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=vn[e+" "];return t||(t=new RegExp("(^|"+Dn+")"+e+"("+Dn+"|$)"))&&vn(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==xn&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=Zn.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var s,l,f,d,m,g,p=i!==a?"nextSibling":"previousSibling",h=t.parentNode,v=u&&t.nodeName.toLowerCase(),b=!c&&!u;if(h){if(i){for(;p;){for(f=t;f=f[p];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;g=p="only"===e&&!g&&"nextSibling"}return!0}if(g=[a?h.firstChild:h.lastChild],a&&b){for(l=h[mn]||(h[mn]={}),s=l[e]||[],m=s[0]===pn&&s[1],d=s[0]===pn&&s[2],f=m&&h.childNodes[m];f=++m&&f&&f[p]||(d=m=0)||g.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[pn,m,d];break}}else if(b&&(s=(t[mn]||(t[mn]={}))[e])&&s[0]===pn)d=s[1];else for(;(f=++m&&f&&f[p]||(d=m=0)||g.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(b&&((f[mn]||(f[mn]={}))[e]=[pn,d]),f!==t)););return d-=o,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(e,t){var r,o=Yt.pseudos[e]||Yt.setFilters[e.toLowerCase()]||Zn.error("unsupported pseudo: "+e);return o[mn]?o(t):o.length>1?(r=[e,e,"",t],Yt.setFilters.hasOwnProperty(e.toLowerCase())?n(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)r=An.call(e,i[a]),e[r]=!(n[r]=i[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:n(function(e){var t=[],r=[],o=Qt(e.replace(In,"$1"));return o[mn]?n(function(e,t,n,r){for(var i,a=o(e,null,r,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))}):function(e,n,i){return t[0]=e,o(t,null,i,r),!r.pop()}}),has:n(function(e){return function(t){return Zn(e,t).length>0}}),contains:n(function(e){return e=e.replace(Xn,Yn),function(t){return(t.textContent||t.innerText||Gt(t)).indexOf(e)>-1}}),lang:n(function(e){return zn.test(e||"")||Zn.error("unsupported lang: "+e),e=e.replace(Xn,Yn).toLowerCase(),function(t){var n;do if(n=cn?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===un},focus:function(e){return e===an.activeElement&&(!an.hasFocus||an.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Yt.pseudos.empty(e)},header:function(e){return jn.test(e.nodeName)},input:function(e){return Hn.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,n){return[n<0?n+t:n]}),even:a(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:a(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:a(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:a(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},Yt.pseudos.nth=Yt.pseudos.eq;for(Kt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Yt.pseudos[Kt]=o(Kt);for(Kt in{submit:!0,reset:!0})Yt.pseudos[Kt]=i(Kt);c.prototype=Yt.filters=Yt.pseudos,Yt.setFilters=new c,Jt=Zn.tokenize=function(e,t){var n,r,o,i,a,u,c,s=bn[e+" "];if(s)return t?0:s.slice(0);for(a=e,u=[],c=Yt.preFilter;a;){n&&!(r=Ln.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=Fn.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(In," ")}),a=a.slice(n.length));for(i in Yt.filter)!(r=Vn[i].exec(a))||c[i]&&!(r=c[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?Zn.error(e):bn(e,u).slice(0)},Qt=Zn.compile=function(e,t){var n,r=[],o=[],i=yn[e+" "];if(!i){for(t||(t=Jt(e)),n=t.length;n--;)i=p(t[n]),i[mn]?r.push(i):o.push(i);i=yn(e,h(o,r)),i.selector=e}return i},en=Zn.select=function(e,t,n,r){var o,i,a,c,l,f="function"==typeof e&&e,d=!r&&Jt(e=f.selector||e);if(n=n||[],1===d.length){if(i=d[0]=d[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&Xt.getById&&9===t.nodeType&&cn&&Yt.relative[i[1].type]){if(t=(Yt.find.ID(a.matches[0].replace(Xn,Yn),t)||[])[0],!t)return n;f&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=Vn.needsContext.test(e)?0:i.length;o--&&(a=i[o],!Yt.relative[c=a.type]);)if((l=Yt.find[c])&&(r=l(a.matches[0].replace(Xn,Yn),$n.test(i[0].type)&&u(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&s(i),!e)return Tn.apply(n,r),n;break}}return(f||Qt(e,d))(r,t,!cn,n,$n.test(e)&&u(t.parentNode)||t),n},Xt.sortStable=mn.split("").sort(Cn).join("")===mn,Xt.detectDuplicates=!!rn,on(),Xt.sortDetached=!0;var Jn=Array.isArray,Qn=function(e){var t,n,r=e;if(!Jn(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},er=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e)===!1)return 0}else for(r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r,e)===!1)return 0;return 1},tr=function(e,t){var n=[];return er(e,function(r,o){n.push(t(r,o,e))}),n},nr=function(e,t){var n=[];return er(e,function(r,o){t&&!t(r,o,e)||n.push(r)}),n},rr=function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},or=function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},ir=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},ar=function(e,t,n){var r=ir(e,t,n);if(r!==-1)return e[r]},ur=function(e){return e[e.length-1]},cr={isArray:Jn,toArray:Qn,each:er,map:tr,filter:nr,indexOf:rr,reduce:or,findIndex:ir,find:ar,last:ur},sr=/^\s*|\s*$/g,lr=function(e){return null===e||void 0===e?"":(""+e).replace(sr,"")},fr=function(e,t){return t?!("array"!==t||!cr.isArray(e))||typeof e===t:void 0!==e},dr=function(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},mr=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},gr=function(e,t,n){var r,o,i,a,u,c=this,s=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),i=e[3].match(/(^|\.)(\w+)$/i)[2],o=c.createNS(e[3].replace(/\.\w+$/,""),n),!o[i]){if("static"===e[2])return o[i]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[i]));t[i]||(t[i]=function(){},s=1),o[i]=t[i],c.extend(o[i].prototype,t),e[5]&&(r=c.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],u=o[i],s?o[i]=function(){return r[a].apply(this,arguments)}:o[i]=function(){return this.parent=r[a],u.apply(this,arguments)},o[i].prototype[i]=o[i],c.each(r,function(e,t){o[i].prototype[t]=r[t]}),c.each(t,function(e,t){r[t]?o[i].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==i&&(o[i].prototype[t]=e)})),c.each(t["static"],function(e,t){o[i][t]=e})}},pr=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o,i,a,u,c=arguments;for(o=1,i=c.length;o<i;o++){t=c[o];for(a in t)t.hasOwnProperty(a)&&(u=t[a],
void 0!==u&&(e[a]=u))}return e},hr=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),cr.each(e,function(e,o){return t.call(r,e,o,n)!==!1&&void hr(e,t,n,r)}))},vr=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t},br=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0,r=e.length;n<r&&(t=t[e[n]],t);n++);return t},yr=function(e,t){return!e||fr(e,"array")?e:cr.map(e.split(t||","),lr)},Cr=function(e){var t=St.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e},xr={trim:lr,isArray:cr.isArray,is:fr,toArray:cr.toArray,makeMap:dr,each:cr.each,map:cr.map,grep:cr.filter,inArray:cr.indexOf,hasOwn:mr,extend:pr,create:gr,walk:hr,createNS:vr,resolve:br,explode:yr,_addCacheSuffix:Cr},wr=document,Er=Array.prototype.push,Nr=Array.prototype.slice,Sr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,kr=$t.Event,Tr=xr.makeMap("children,contents,next,prev"),Rr=function(e){return"undefined"!=typeof e},Ar=function(e){return"string"==typeof e},Br=function(e){return e&&e===e.window},Dr=function(e,t){var n,r,o;for(t=t||wr,o=t.createElement("div"),n=t.createDocumentFragment(),o.innerHTML=e;r=o.firstChild;)n.appendChild(r);return n},_r=function(e,t,n,r){var o;if(Ar(t))t=Dr(t,Kr(e[0]));else if(t.length&&!t.nodeType){if(t=Vr.makeArray(t),r)for(o=t.length-1;o>=0;o--)_r(e,t[o],n,r);else for(o=0;o<t.length;o++)_r(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Or=function(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1},Pr=function(e,t,n){var r,o;return t=Vr(t)[0],e.each(function(){var e=this;n&&r===e.parentNode?o.appendChild(e):(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e),o.appendChild(e))}),e},Ir=xr.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Lr=xr.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Fr={"for":"htmlFor","class":"className",readonly:"readOnly"},Mr={"float":"cssFloat"},Ur={},zr={},Vr=function(e,t){return new Vr.fn.init(e,t)},Hr=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},jr=/^\s*|\s*$/g,qr=function(e){return null===e||void 0===e?"":(""+e).replace(jr,"")},Wr=function(e,t){var n,r,o,i;if(e)if(n=e.length,void 0===n){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],t.call(i,r,i)===!1))break}else for(o=0;o<n&&(i=e[o],t.call(i,o,i)!==!1);o++);return e},$r=function(e,t){var n=[];return Wr(e,function(e,r){t(r,e)&&n.push(r)}),n},Kr=function(e){return e?9===e.nodeType?e:e.ownerDocument:wr};Vr.fn=Vr.prototype={constructor:Vr,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return Vr(e).attr(t);o.context=t=document}if(Ar(e)){if(o.selector=e,n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Sr.exec(e),!n)return Vr(t).find(e);if(n[1])for(r=Dr(e,Kr(t)).firstChild;r;)Er.call(o,r),r=r.nextSibling;else{if(r=Kr(t).getElementById(n[2]),!r)return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return xr.toArray(this)},add:function(e,t){var n,r,o=this;if(Ar(e))return o.add(Vr(e));if(t!==!1)for(n=Vr.unique(o.toArray().concat(Vr.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else Er.apply(o,Vr.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"==typeof e)Wr(e,function(e,t){r.attr(e,t)});else{if(!Rr(t)){if(r[0]&&1===r[0].nodeType){if(n=Ur[e],n&&n.get)return n.get(r[0],e);if(Lr[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),null===t&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if(n=Ur[e],n&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=Fr[e]||e,"object"==typeof e)Wr(e,function(e,t){n.prop(e,t)});else{if(!Rr(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)Wr(e,function(e,t){o.css(e,t)});else if(Rr(t))e=i(e),"number"!=typeof t||Ir[e]||(t=t.toString()+"px"),o.each(function(){var n=this.style;if(r=zr[e],r&&r.set)return void r.set(this,t);try{this.style[Mr[e]||e]=t}catch(o){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))});else{if(n=o[0],r=zr[e],r&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(u){return}}return o},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],kr.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(Rr(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){Vr(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(Rr(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return _r(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return _r(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?_r(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?_r(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return Vr(e).append(this),this},prependTo:function(e){return Vr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Pr(this,e)},wrapAll:function(e){return Pr(this,e,!0)},wrapInner:function(e){return this.each(function(){Vr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Vr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Vr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(e.indexOf(" ")!==-1?Wr(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var o,i;i=Or(r,e),i!==t&&(o=r.className,i?r.className=qr((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e)}),n)},hasClass:function(e){return Or(this[0],e)},each:function(e){return Wr(this,e)},on:function(e,t){return this.each(function(){kr.bind(this,e,t)})},off:function(e,t){return this.each(function(){kr.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?kr.fire(this,e.type,e):kr.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Vr(Nr.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)Vr.find(e,this[t],r);return Vr(r)},filter:function(e){return Vr("function"==typeof e?$r(this.toArray(),function(t,n){return e(n,t)}):Vr.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof Vr&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&Vr(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}}),Vr(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),i=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Er,sort:[].sort,splice:[].splice},xr.extend(Vr,{extend:xr.extend,makeArray:function(e){return Br(e)||e.nodeType?[e]:xr.toArray(e)},inArray:Hr,isArray:xr.isArray,each:Wr,trim:qr,grep:$r,find:Zn,expr:Zn.selectors,unique:Zn.uniqueSort,text:Zn.getText,contains:Zn.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?Vr.find.matchesSelector(t[0],e)?[t[0]]:[]:Vr.find.matches(e,t)}});var Xr=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof Vr&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&Vr(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},Yr=function(e,t,n,r){var o=[];for(r instanceof Vr&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&Vr(e).is(r))break}o.push(e)}return o},Gr=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};Wr({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Xr(e,"parentNode")},next:function(e){return Gr(e,"nextSibling",1)},prev:function(e){return Gr(e,"previousSibling",1)},children:function(e){return Yr(e.firstChild,"nextSibling",1)},contents:function(e){return xr.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){Vr.fn[e]=function(n){var r=this,o=[];return r.each(function(){var e=t.call(o,this,n,o);e&&(Vr.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(Tr[e]||(o=Vr.unique(o)),0===e.indexOf("parents")&&(o=o.reverse())),o=Vr(o),n?o.filter(n):o}}),Wr({parentsUntil:function(e,t){return Xr(e,"parentNode",t)},nextUntil:function(e,t){return Yr(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Yr(e,"previousSibling",1,t).slice(1)}},function(e,t){Vr.fn[e]=function(n,r){var o=this,i=[];return o.each(function(){var e=t.call(i,this,n,i);e&&(Vr.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(i=Vr.unique(i),0!==e.indexOf("parents")&&"prevUntil"!==e||(i=i.reverse())),i=Vr(i),r?i.filter(r):i}}),Vr.fn.is=function(e){return!!e&&this.filter(e).length>0},Vr.fn.init.prototype=Vr.fn,Vr.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return Vr.extend(n,this),n};var Zr=function(e,t,n){Wr(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})};St.ie&&St.ie<8&&(Zr(Ur,"get",{maxlength:function(e){var t=e.maxLength;if(2147483647!==t)return t},size:function(e){var t=e.size;if(20!==t)return t},"class":function(e){return e.className},style:function(e){var t=e.style.cssText;if(0!==t.length)return t}}),Zr(Ur,"set",{"class":function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),St.ie&&St.ie<9&&(Mr["float"]="styleFloat",Zr(zr,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),Vr.attrHooks=Ur,Vr.cssHooks=zr;var Jr,Qr,eo,to=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},no=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},ro=function(e,t){var n=no(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return ao(r(1),r(2))},oo=function(e,t){var n=String(t).toLowerCase();return 0===e.length?io():ro(e,n)},io=function(){return ao(0,0)},ao=function(e,t){return{major:e,minor:t}},uo={nu:ao,detect:oo,unknown:io},co="Edge",so="Chrome",lo="IE",fo="Opera",mo="Firefox",go="Safari",po=function(e,t){return function(){return t===e}},ho=function(){return vo({current:void 0,version:uo.unknown()})},vo=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:po(co,t),isChrome:po(so,t),isIE:po(lo,t),isOpera:po(fo,t),isFirefox:po(mo,t),isSafari:po(go,t)}},bo={unknown:ho,nu:vo,edge:he(co),chrome:he(so),ie:he(lo),opera:he(fo),firefox:he(mo),safari:he(go)},yo="Windows",Co="iOS",xo="Android",wo="Linux",Eo="OSX",No="Solaris",So="FreeBSD",ko=function(e,t){return function(){return t===e}},To=function(){return Ro({current:void 0,version:uo.unknown()})},Ro=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:ko(yo,t),isiOS:ko(Co,t),isAndroid:ko(xo,t),isOSX:ko(Eo,t),isLinux:ko(wo,t),isSolaris:ko(No,t),isFreeBSD:ko(So,t)}},Ao={unknown:To,nu:Ro,windows:he(yo),ios:he(Co),android:he(xo),linux:he(wo),osx:he(Eo),solaris:he(No),freebsd:he(So)},Bo=function(e,t,n){var r=e.isiOS()&&/ipad/i.test(n)===!0,o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,u=r||i||a&&/mobile/i.test(n)===!0,c=e.isiOS()||e.isAndroid(),s=c&&!u,l=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1;return{isiPad:he(r),isiPhone:he(o),isTablet:he(u),isPhone:he(s),isTouch:he(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:he(l)}},Do=function(e,t){var n=String(t).toLowerCase();return Ye(e,function(e){return e.search(n)})},_o=function(e,t){return Do(e,t).map(function(e){var n=uo.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Oo=function(e,t){return Do(e,t).map(function(e){var n=uo.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Po={detectBrowser:_o,detectOs:Oo},Io=function(e,t){return e.indexOf(t)!==-1},Lo=function(e){return e.replace(/^\s+|\s+$/g,"")},Fo=function(e){return e.replace(/^\s+/g,"")},Mo=function(e){return e.replace(/\s+$/g,"")},Uo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,zo=function(e){return function(t){return Io(t,e)}},Vo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){var t=Io(e,"edge/")&&Io(e,"chrome")&&Io(e,"safari")&&Io(e,"applewebkit");return t}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Uo],search:function(e){return Io(e,"chrome")&&!Io(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return Io(e,"msie")||Io(e,"trident")}},{name:"Opera",versionRegexes:[Uo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:zo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:zo("firefox")},{name:"Safari",versionRegexes:[Uo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(Io(e,"safari")||Io(e,"mobile/"))&&Io(e,"applewebkit")}}],Ho=[{name:"Windows",search:zo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return Io(e,"iphone")||Io(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:zo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:zo("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:zo("linux"),versionRegexes:[]},{name:"Solaris",search:zo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:zo("freebsd"),versionRegexes:[]}],jo={browsers:he(Vo),oses:he(Ho)},qo=function(e){var t=jo.browsers(),n=jo.oses(),r=Po.detectBrowser(t,e).fold(bo.unknown,bo.nu),o=Po.detectOs(n,e).fold(Ao.unknown,Ao.nu),i=Bo(o,r,e);return{browser:r,os:o,deviceType:i}},Wo={detect:qo},$o=to(function(){var e=navigator.userAgent;return Wo.detect(e)}),Ko={detect:$o},Xo=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return Zo(r.childNodes[0])},Yo=function(e,t){var n=t||document,r=n.createElement(e);return Zo(r)},Go=function(e,t){var n=t||document,r=n.createTextNode(e);return Zo(r)},Zo=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:he(e)}},Jo=function(e,t,n){var r=e.dom();return Re.from(r.elementFromPoint(t,n)).map(Zo)},Qo={fromHtml:Xo,fromTag:Yo,fromText:Go,fromDom:Zo,fromPoint:Jo},ei=(Node.ATTRIBUTE_NODE,Node.CDATA_SECTION_NODE,Node.COMMENT_NODE,Node.DOCUMENT_NODE),ti=(Node.DOCUMENT_TYPE_NODE,Node.DOCUMENT_FRAGMENT_NODE,Node.ELEMENT_NODE),ni=Node.TEXT_NODE,ri=(Node.PROCESSING_INSTRUCTION_NODE,Node.ENTITY_REFERENCE_NODE,Node.ENTITY_NODE,Node.NOTATION_NODE,function(e){var t=e.dom().nodeName;return t.toLowerCase()}),oi=function(e){return e.dom().nodeType},ii=function(e){return function(t){return oi(t)===e}},ai=ii(ti),ui=ii(ni),ci=Object.keys,si=Object.hasOwnProperty,li=function(e,t){for(var n=ci(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i,e)}},fi=function(e,t){return di(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},di=function(e,t){var n={};return li(e,function(r,o){var i=t(r,o,e);n[i.k]=i.v}),n},mi=function(e,t){var n={},r={};return li(e,function(e,o){var i=t(e,o)?n:r;i[o]=e}),{t:n,f:r}},gi=function(e,t){return si.call(e,t)},pi=function(e,t,n){if(!(De(n)||Ie(n)||Fe(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},hi=function(e,t,n){pi(e.dom(),t,n)},vi=function(e,t){var n=e.dom();li(t,function(e,t){pi(n,t,e)})},bi=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},yi=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Ci=function(e,t){e.dom().removeAttribute(t)},xi=function(e){var t=ui(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},wi=function(e){return void 0!==e.style},Ei=function(e,t,n){if(!De(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);wi(e)&&e.style.setProperty(t,n)},Ni=function(e,t){var n=e.dom();li(t,function(e,t){Ei(n,t,e)})},Si=function(e,t){var n=e.dom(),r=window.getComputedStyle(n),o=r.getPropertyValue(t),i=""!==o||xi(e)?o:ki(n,t);return null===i?void 0:i},ki=function(e,t){return wi(e)?e.style.getPropertyValue(t):""},Ti=function(e,t){var n=e.dom(),r=ki(n,t);return Re.from(r).filter(function(e){return e.length>0})},Ri=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return je(e,function(e,n){r[e]=he(t[n])}),r}},Ai=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do o=o.bind(r);while(o.isSome());return n},Bi={toArray:Ai},Di=function(){var e=pt.getOrDie("Node");return e},_i=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Oi=function(e,t){return _i(e,t,Di().DOCUMENT_POSITION_PRECEDING)},Pi=function(e,t){return _i(e,t,Di().DOCUMENT_POSITION_CONTAINED_BY)},Ii={documentPositionPreceding:Oi,documentPositionContainedBy:Pi},Li=ti,Fi=ei,Mi=function(e,t){var n=e.dom();if(n.nodeType!==Li)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Ui=function(e){return e.nodeType!==Li&&e.nodeType!==Fi||0===e.childElementCount},zi=function(e,t){var n=void 0===t?document:t.dom();return Ui(n)?[]:He(n.querySelectorAll(e),Qo.fromDom)},Vi=function(e,t){var n=void 0===t?document:t.dom();return Ui(n)?Re.none():Re.from(n.querySelector(e)).map(Qo.fromDom)},Hi=function(e,t){return e.dom()===t.dom()},ji=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},qi=function(e,t){return Ii.documentPositionContainedBy(e.dom(),t.dom())},Wi=Ko.detect().browser,$i=Wi.isIE()?qi:ji,Ki=function(e){return Qo.fromDom(e.dom().ownerDocument)},Xi=function(e){return Qo.fromDom(e.dom().ownerDocument.documentElement)},Yi=function(e){var t=e.dom(),n=t.ownerDocument.defaultView;return Qo.fromDom(n)},Gi=function(e){var t=e.dom();return Re.from(t.parentNode).map(Qo.fromDom)},Zi=function(e,t){for(var n=Le(t)?t:he(!1),r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Qo.fromDom(i);if(o.push(a),n(a)===!0)break;r=i}return o},Ji=function(e){var t=e.dom();return Re.from(t.previousSibling).map(Qo.fromDom)},Qi=function(e){var t=e.dom();return Re.from(t.nextSibling).map(Qo.fromDom)},ea=function(e){return rt(Bi.toArray(e,Ji))},ta=function(e){return Bi.toArray(e,Qi)},na=function(e){var t=e.dom();return He(t.childNodes,Qo.fromDom)},ra=function(e,t){var n=e.dom().childNodes;return Re.from(n[t]).map(Qo.fromDom)},oa=function(e){return ra(e,0)},ia=function(e){return ra(e,e.dom().childNodes.length-1)},aa=function(e){return e.dom().childNodes.length},ua=(Ri("element","offset"),Ko.detect().browser),ca=function(e){return Ye(e,ai)},sa=function(e){return ua.isFirefox()&&"table"===ri(e)?ca(na(e)).filter(function(e){return"caption"===ri(e)}).bind(function(e){return ca(ta(e)).map(function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,o=e.dom().offsetHeight;return n<=r?-o:0})}).getOr(0):0},la=function(e,t,n){var r,o,i=0,a=0,u=e.ownerDocument;if(n=n?n:e,t){if(n===e&&t.getBoundingClientRect&&"static"===Si(Qo.fromDom(e),"position"))return o=t.getBoundingClientRect(),i=o.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,a=o.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:i,y:a};for(r=t;r&&r!==n&&r.nodeType;)i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType;)i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=sa(Qo.fromDom(t))}return{x:i,y:a}},fa={getPos:la},da=function(e){var t=Re.none(),n=[],r=function(e){return da(function(t){o(function(n){t(e(n))})})},o=function(e){a()?c(e):n.push(e)},i=function(e){t=Re.some(e),u(n),n=[]},a=function(){return t.isSome()},u=function(e){je(e,c)},c=function(e){t.each(function(t){setTimeout(function(){e(t)},0)})};return e(i),{get:o,map:r,isReady:a}},ma=function(e){return da(function(t){t(e)})},ga={nu:da,pure:ma},pa=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this;setTimeout(function(){e.apply(r,t)},0)}},ha=function(e){var t=function(t){e(pa(t))},n=function(e){return ha(function(n){t(function(t){var r=e(t);n(r)})})},r=function(e){return ha(function(n){t(function(t){e(t).get(n)})})},o=function(e){return ha(function(n){t(function(t){e.get(n)})})},i=function(){return ga.nu(t)},a=function(){var e=null;return ha(function(t){null===e&&(e=i()),e.get(t)})};return{map:n,bind:r,anonBind:o,toLazy:i,toCached:a,get:t}},va=function(e){return ha(function(t){t(e)})},ba={nu:ha,pure:va},ya=function(e,t){return t(function(t){var n=[],r=0,o=function(o){return function(i){n[o]=i,r++,r>=e.length&&t(n)}};0===e.length?t([]):je(e,function(e,t){e.get(o(t))})})},Ca=function(e){return ya(e,ba.nu)},xa=function(e){var t=function(t){return e===t},n=function(t){return xa(e)},r=function(t){return xa(e)},o=function(t){return xa(t(e))},i=function(t){return xa(e)},a=function(t){t(e)},u=function(t){return t(e)},c=function(t,n){return n(e)},s=function(t){return t(e)},l=function(t){return t(e)},f=function(){return Re.some(e)};return{is:t,isValue:xe,isError:Ce,getOr:he(e),getOrThunk:he(e),getOrDie:he(e),or:n,orThunk:r,fold:c,map:o,mapError:i,each:a,bind:u,exists:s,forall:l,toOption:f}},wa=function(e){var t=function(e){return e()},n=function(){return ye(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return wa(e)},a=function(t){return wa(t(e))},u=function(t){return wa(e)},c=function(t,n){return t(e)};return{is:Ce,isValue:Ce,isError:xe,getOr:ve,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:c,map:i,mapError:a,each:ge,bind:u,exists:Ce,forall:xe,toOption:Re.none}},Ea={value:xa,error:wa},Na=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Sa=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],ka=["td","th"],Ta=["thead","tbody","tfoot"],Ra=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Aa=["h1","h2","h3","h4","h5","h6"],Ba=["li","dd","dt"],Da=["ul","ol","dl"],_a=["pre","script","textarea","style"],Oa=function(e){var t;return function(n){return t=t?t:it(e,he(!0)),t.hasOwnProperty(ri(n))}},Pa=Oa(Aa),Ia=Oa(Na),La=function(e){return ai(e)&&!Ia(e)},Fa=function(e){return ai(e)&&"br"===ri(e)},Ma=Oa(Ra),Ua=Oa(Da),za=Oa(Ba),Va=Oa(Sa),Ha=Oa(Ta),ja=Oa(ka),qa=Oa(_a),Wa=function(e){return function(t){return!!t&&t.nodeType===e}},$a=Wa(1),Ka=function(e){var t=e.toLowerCase().split(" ");return function(e){var n,r;if(e&&e.nodeType)for(r=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(r===t[n])return!0;return!1}},Xa=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r,o;if($a(t))for(r=0;r<n.length;r++){var i=t.ownerDocument.defaultView.getComputedStyle(t,null);if(o=i?i.getPropertyValue(e):null,o===n[r])return!0}return!1}},Ya=function(e,t){return function(n){return $a(n)&&n[e]===t}},Ga=function(e,t){return function(t){return $a(t)&&t.hasAttribute(e)}},Za=function(e,t){return function(n){return $a(n)&&n.getAttribute(e)===t}},Ja=function(e){return $a(e)&&e.hasAttribute("data-mce-bogus")},Qa=function(e){return $a(e)&&"all"===e.getAttribute("data-mce-bogus")},eu=function(e){return $a(e)&&"TABLE"===e.tagName},tu=function(e){return function(t){if($a(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},nu=Wa(3),ru=Wa(8),ou=Wa(9),iu=Ka("br"),au=tu("true"),uu=tu("false"),cu={isText:nu,isElement:$a,isComment:ru,isDocument:ou,isBr:iu,isContentEditableTrue:au,isContentEditableFalse:uu,matchNodeNames:Ka,hasPropValue:Ya,hasAttribute:Ga,hasAttributeValue:Za,matchStyleValues:Xa,isBogus:Ja,isBogusAll:Qa,isTable:eu},su=function(e){var t=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return t&&n},lu=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},fu=function(e,t){var n,r=t.childNodes;if(!cu.isElement(t)||!lu(t)){for(n=r.length-1;n>=0;n--)fu(e,r[n]);if(cu.isDocument(t)===!1){if(cu.isText(t)&&t.nodeValue.length>0){var o=xr.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||o>0)return;if(0===o&&su(t))return}else if(cu.isElement(t)&&(r=t.childNodes,1===r.length&&lu(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||Va(Qo.fromDom(t))))return;e.remove(t)}return t}},du={trimNode:fu},mu=xr.makeMap,gu=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pu=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hu=/[<>&\"\']/g,vu=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,bu={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};Qr={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},eo={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var yu=function(e){var t;return t=Qo.fromTag("div").dom(),t.innerHTML=e,t.textContent||t.innerText||e},Cu=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),Qr[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}};Jr=Cu("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var xu=function(e,t){return e.replace(t?gu:pu,function(e){return Qr[e]||e})},wu=function(e){return(""+e).replace(hu,function(e){return Qr[e]||e})},Eu=function(e,t){return e.replace(t?gu:pu,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":Qr[e]||"&#"+e.charCodeAt(0)+";"})},Nu=function(e,t,n){return n=n||Jr,e.replace(t?gu:pu,function(e){return Qr[e]||n[e]||e})},Su=function(e,t){var n=Cu(t)||Jr,r=function(e,t){return e.replace(t?gu:pu,function(e){return void 0!==Qr[e]?Qr[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})},o=function(e,t){return Nu(e,t,n)},i=mu(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?o:Nu:i.numeric?Eu:xu},ku=function(e){return e.replace(vu,function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):bu[t]||String.fromCharCode(t)):eo[e]||Jr[e]||yu(e)})},Tu={encodeRaw:xu,encodeAllRaw:wu,encodeNumeric:Eu,encodeNamed:Nu,getEncodeFunc:Su,decode:ku},Ru={},Au={},Bu=xr.makeMap,Du=xr.each,_u=xr.extend,Ou=xr.explode,Pu=xr.inArray,Iu=function(e,t){return e=xr.trim(e),e?e.split(t||" "):[]},Lu=function(e){var t,n,r,o,i,a,u={},c=function(e,n,r){var o,i,a,c=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};for(r=r||[],n=n||"","string"==typeof r&&(r=Iu(r)),e=Iu(e),o=e.length;o--;)i=Iu([t,n].join(" ")),a={attributes:c(i),attributesOrder:i,children:c(r,Au)},u[e[o]]=a},s=function(e,t){var n,r,o,i;for(e=Iu(e),n=e.length,t=Iu(t);n--;)for(r=u[e[n]],o=0,i=t.length;o<i;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])};return Ru[e]?Ru[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",
"html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),Du(Iu(a),function(e){c(e,"",r)}),i="center dir isindex noframes",n=[n,i].join(" "),o=[n,r].join(" "),Du(Iu(i),function(e){c(e,"",o)})),o=o||[n,r].join(" "),c("html","manifest","head body"),c("head","","base command link meta noscript script style title"),c("title hr noscript br"),c("base","href target"),c("link","href rel media hreflang type sizes hreflang"),c("meta","name http-equiv content charset"),c("style","media type scoped"),c("script","src async defer type charset"),c("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),c("address dt dd div caption","",o),c("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),c("blockquote","cite",o),c("ol","reversed start type","li"),c("ul","","li"),c("li","value",o),c("dl","","dt dd"),c("a","href target rel media hreflang type",r),c("q","cite",r),c("ins del","cite datetime",o),c("img","src sizes srcset alt usemap ismap width height"),c("iframe","src name width height",o),c("embed","src type width height"),c("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),c("param","name value"),c("map","name",[o,"area"].join(" ")),c("area","alt coords shape href target rel media hreflang type"),c("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),c("colgroup","span","col"),c("col","span"),c("tbody thead tfoot","","tr"),c("tr","","td th"),c("td","colspan rowspan headers",o),c("th","colspan rowspan headers scope abbr",o),c("form","accept-charset action autocomplete enctype method name novalidate target",o),c("fieldset","disabled form name",[o,"legend"].join(" ")),c("label","form for",r),c("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),c("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),c("select","disabled form multiple name required size","option optgroup"),c("optgroup","disabled label","option"),c("option","disabled label selected value"),c("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),c("menu","type label",[o,"li"].join(" ")),c("noscript","",o),"html4"!==e&&(c("wbr"),c("ruby","",[r,"rt rp"].join(" ")),c("figcaption","",o),c("mark rt rp summary bdi","",r),c("canvas","width height",o),c("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),c("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),c("picture","","img source"),c("source","src srcset type media sizes"),c("track","kind src srclang label default"),c("datalist","",[r,"option"].join(" ")),c("article section nav aside main header footer","",o),c("hgroup","","h1 h2 h3 h4 h5 h6"),c("figure","",[o,"figcaption"].join(" ")),c("time","datetime",r),c("dialog","open",o),c("command","type label icon disabled checked radiogroup command"),c("output","for form name",r),c("progress","value max",r),c("meter","value min max low high optimum",r),c("details","open",[o,"summary"].join(" ")),c("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(s("script","language xml:space"),s("style","xml:space"),s("object","declare classid code codebase codetype archive standby align border hspace vspace"),s("embed","align name hspace vspace"),s("param","valuetype type"),s("a","charset name rev shape coords"),s("br","clear"),s("applet","codebase archive code object alt name width height align hspace vspace"),s("img","name longdesc align border hspace vspace"),s("iframe","longdesc frameborder marginwidth marginheight scrolling align"),s("font basefont","size color face"),s("input","usemap align"),s("select","onchange"),s("textarea"),s("h1 h2 h3 h4 h5 h6 div p legend caption","align"),s("ul","type compact"),s("li","type"),s("ol dl menu dir","compact"),s("pre","width xml:space"),s("hr","align noshade size width"),s("isindex","prompt"),s("table","summary width frame rules cellspacing cellpadding align bgcolor"),s("col","width align char charoff valign"),s("colgroup","width align char charoff valign"),s("thead","align char charoff valign"),s("tr","align char charoff valign bgcolor"),s("th","axis align char charoff valign nowrap bgcolor width height"),s("form","accept"),s("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),s("tfoot","align char charoff valign"),s("tbody","align char charoff valign"),s("area","nohref"),s("body","background bgcolor text link vlink alink")),"html4"!==e&&(s("input button select textarea","autofocus"),s("input textarea","placeholder"),s("a","download"),s("link script img","crossorigin"),s("iframe","sandbox seamless allowfullscreen")),Du(Iu("a form meter progress dfn"),function(e){u[e]&&delete u[e].children[e]}),delete u.caption.children.table,delete u.script,Ru[e]=u,u)},Fu=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),Du(e,function(e,r){n[r]=n[r.toUpperCase()]="map"===t?Bu(e,/[, ]/):Ou(e,/[, ]/)})),n},Mu=function(e,t,n,r){var o=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)},Uu=xr.each,zu=xr.grep,Vu=St.ie,Hu=/^([a-z0-9],?)+$/i,ju=/^[ \t\r\n]*$/,qu=function(e,t,n){var r={},o=t.keep_values,i={set:function(e,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])),e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}};return r={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(o&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName)}}},o&&(r.href=r.src=i),r},Wu=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},$u=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o};!function(e){e.DOM=e(document),e.nodeIndex=$u}(x||(x={}));var Ku=x,Xu=Ku.DOM,Yu=xr.each,Gu=xr.grep,Zu=function(e){return"function"==typeof e},Ju=function(){var e=0,t=1,n=2,r=3,o={},i=[],a={},u=[],c=0,s=function(e,t,n){var r,o,i=Xu,a=function(){i.remove(o),r&&(r.onreadystatechange=r.onload=r=null),t()},u=function(){Zu(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)};o=i.uniqueId(),r=document.createElement("script"),r.id=o,r.type="text/javascript",r.src=xr._addCacheSuffix(e),r.onload=a,r.onerror=u,(document.getElementsByTagName("head")[0]||document.body).appendChild(r)};this.isDone=function(e){return o[e]===n},this.markDone=function(e){o[e]=n},this.add=this.load=function(t,n,r,u){var c=o[t];void 0===c&&(i.push(t),o[t]=e),n&&(a[t]||(a[t]=[]),a[t].push({success:n,failure:u,scope:r||this}))},this.remove=function(e){delete o[e],delete a[e]},this.loadQueue=function(e,t,n){this.loadScripts(i,e,t,n)},this.loadScripts=function(e,i,l,f){var d,m=[],g=function(e,t){Yu(a[t],function(t){Zu(t[e])&&t[e].call(t.scope)}),a[t]=void 0};u.push({success:i,failure:f,scope:l||this}),(d=function(){var i=Gu(e);if(e.length=0,Yu(i,function(e){return o[e]===n?void g("success",e):o[e]===r?void g("failure",e):void(o[e]!==t&&(o[e]=t,c++,s(e,function(){o[e]=n,c--,g("success",e),d()},function(){o[e]=r,c--,m.push(e),g("failure",e),d()})))}),!c){var a=u.slice(0);u.length=0,Yu(a,function(e){0===m.length?Zu(e.success)&&e.success.call(e.scope):Zu(e.failure)&&e.failure.call(e.scope,m)})}})()}};Ju.ScriptLoader=new Ju;var Qu=xr.each;!function(e){e.PluginManager=e(),e.ThemeManager=e()}(w||(w={}));var ec=function(e,t){var n=Gi(e);n.each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},tc=function(e,t){var n=Qi(e);n.fold(function(){var n=Gi(e);n.each(function(e){rc(e,t)})},function(e){ec(e,t)})},nc=function(e,t){var n=oa(e);n.fold(function(){rc(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},rc=function(e,t){e.dom().appendChild(t.dom())},oc=function(e,t){ec(e,t),rc(t,e)},ic=function(e,t){je(t,function(t){ec(e,t)})},ac=function(e,t){je(t,function(t){rc(e,t)})},uc=function(e){e.dom().textContent="",je(na(e),function(e){cc(e)})},cc=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},sc=function(e){var t=na(e);t.length>0&&ic(e,t),cc(e)},lc=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null===n&&(n=setTimeout(function(){e.apply(null,r),n=null},t))};return{cancel:r,throttle:o}},fc=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];null!==n&&clearTimeout(n),n=setTimeout(function(){e.apply(null,r),n=null},t)};return{cancel:r,throttle:o}},dc=function(e){var t=e,n=function(){return t},r=function(e){t=e},o=function(){return dc(n())};return{get:n,set:r,clone:o}},mc=function(e,t){var n=bi(e,t);return void 0===n||""===n?[]:n.split(" ")},gc=function(e,t,n){var r=mc(e,t),o=r.concat([n]);return hi(e,t,o.join(" ")),!0},pc=function(e,t,n){var r=$e(mc(e,t),function(e){return e!==n});return r.length>0?hi(e,t,r.join(" ")):Ci(e,t),!1},hc=function(e){return void 0!==e.dom().classList},vc=function(e){return mc(e,"class")},bc=function(e,t){return gc(e,"class",t)},yc=function(e,t){return pc(e,"class",t)},Cc=function(e,t){hc(e)?e.dom().classList.add(t):bc(e,t)},xc=function(e){var t=hc(e)?e.dom().classList:vc(e);0===t.length&&Ci(e,"class")},wc=function(e,t){if(hc(e)){var n=e.dom().classList;n.remove(t)}else yc(e,t);xc(e)},Ec=function(e,t){return hc(e)&&e.dom().classList.contains(t)},Nc=function(e,t){var n=[];return je(na(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Nc(e,t))}),n},Sc=function(e,t){return zi(t,e)},kc=function(e,t,n){for(var r=e.dom(),o=Le(n)?n:he(!1);r.parentNode;){r=r.parentNode;var i=Qo.fromDom(r);if(t(i))return Re.some(i);if(o(i))break}return Re.none()},Tc=function(e,t,n){var r=function(e){return t(e)};return E(r,kc,e,t,n)},Rc=function(e,t,n){return kc(e,function(e){return Mi(e,t)},n)},Ac=function(e,t){return Vi(t,e)},Bc=function(e,t,n){return E(Mi,Rc,e,t,n)},Dc=he("mce-annotation"),_c=he("data-mce-annotation"),Oc=he("data-mce-annotation-uid"),Pc=function(e,t){var n=e.selection.getRng(),r=Qo.fromDom(n.startContainer),o=Qo.fromDom(e.getBody()),i=t.fold(function(){return"."+Dc()},function(e){return"["+_c()+'="'+e+'"]'}),a=ra(r,n.startOffset).getOr(r),u=Bc(a,i,function(e){return Hi(e,o)}),c=function(e,t){return yi(e,t)?Re.some(bi(e,t)):Re.none()};return u.bind(function(t){return c(t,""+Oc()).bind(function(n){return c(t,""+_c()).map(function(t){var r=Lc(e,n);return{uid:n,name:t,elements:r}})})})},Ic=function(e){return ai(e)&&Ec(e,Dc())},Lc=function(e,t){var n=Qo.fromDom(e.getBody());return Sc(n,"["+Oc()+'="'+t+'"]')},Fc=function(e,t){var n=Qo.fromDom(e.getBody()),r=Sc(n,"["+_c()+'="'+t+'"]'),o={};return je(r,function(e){var t=bi(e,Oc()),n=o.hasOwnProperty(t)?o[t]:[];o[t]=n.concat([e])}),o},Mc=function(e,t){var n=dc({}),r=function(){return{listeners:[],previous:dc(Re.none())}},o=function(e,t){i(e,function(e){return t(e),e})},i=function(e,t){var o=n.get(),i=o.hasOwnProperty(e)?o[e]:r(),a=t(i);o[e]=a,n.set(o)},a=function(e,t,n){o(e,function(r){je(r.listeners,function(r){return r(!0,e,{uid:t,nodes:He(n,function(e){return e.dom()})})})})},u=function(e){o(e,function(t){je(t.listeners,function(t){return t(!1,e)})})},c=fc(function(){var t=n.get(),r=at(ci(t));je(r,function(t){i(t,function(n){var r=n.previous.get();return Pc(e,Re.some(t)).fold(function(){r.isSome()&&(u(t),n.previous.set(Re.none()))},function(e){var t=e.uid,o=e.name,i=e.elements;r.is(t)||(a(o,t,i),n.previous.set(Re.some(t)))}),{previous:n.previous,listeners:n.listeners}})})},30);e.on("remove",function(){c.cancel()}),e.on("nodeChange",function(){c.throttle()});var s=function(e,t){i(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})};return{addListener:s}},Uc=function(e,t){var n=function(e){var n=Re.from(e.attributes.map[_c()]);return n.bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(e){je(e,function(e){n(e).each(function(t){t.persistent===!1&&e.unwrap()})})})})},zc=function(){var e={},t=function(t,n){e[t]={name:t,settings:n}},n=function(t){return e.hasOwnProperty(t)?Re.from(e[t]).map(function(e){return e.settings}):Re.none()};return{register:t,lookup:n}},Vc=0,Hc=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Vc++,e+"_"+r+Vc+String(n)},jc=function(e,t){je(t,function(t){Cc(e,t)})},qc=function(e,t){return Qo.fromDom(e.dom().cloneNode(t))},Wc=function(e){return qc(e,!1)},$c=function(e){return qc(e,!0)},Kc=function(e,t){var n=t||document,r=n.createElement("div");return r.innerHTML=e,na(Qo.fromDom(r))},Xc=function(e){return e.dom().innerHTML},Yc=function(e,t){var n=Ki(e),r=n.dom(),o=Qo.fromDom(r.createDocumentFragment()),i=Kc(t,r);ac(o,i),uc(e),rc(e,o)},Gc="\ufeff",Zc=function(e){return e===Gc},Jc=function(e){return e.replace(new RegExp(Gc,"g"),"")},Qc={isZwsp:Zc,ZWSP:Gc,trim:Jc},es=cu.isElement,ts=cu.isText,ns=function(e){return ts(e)&&(e=e.parentNode),es(e)&&e.hasAttribute("data-mce-caret")},rs=function(e){return ts(e)&&Qc.isZwsp(e.data)},os=function(e){return ns(e)||rs(e)},is=function(e){return e.firstChild!==e.lastChild||!cu.isBr(e.firstChild)},as=function(e,t){var n,r,o,i;if(n=e.ownerDocument,o=n.createTextNode(Qc.ZWSP),i=e.parentNode,t){if(r=e.previousSibling,ts(r)){if(os(r))return r;if(ds(r))return r.splitText(r.data.length-1)}i.insertBefore(o,e)}else{if(r=e.nextSibling,ts(r)){if(os(r))return r;if(fs(r))return r.splitText(1),r}e.nextSibling?i.insertBefore(o,e.nextSibling):i.appendChild(o)}return o},us=function(e){var t=e.container();return e&&cu.isText(t)&&t.data.charAt(e.offset())===Qc.ZWSP},cs=function(e){var t=e.container();return e&&cu.isText(t)&&t.data.charAt(e.offset()-1)===Qc.ZWSP},ss=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},ls=function(e,t,n){var r,o,i;return r=t.ownerDocument,o=r.createElement(e),o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(ss()),i=t.parentNode,n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o},fs=function(e){return ts(e)&&e.data[0]===Qc.ZWSP},ds=function(e){return ts(e)&&e.data[e.data.length-1]===Qc.ZWSP},ms=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];cu.isBogus(n)&&n.parentNode.removeChild(n)},gs=function(e){return e&&e.hasAttribute("data-mce-caret")?(ms(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},ps=function(e){return ns(e.startContainer)},hs=cu.isContentEditableTrue,vs=cu.isContentEditableFalse,bs=cu.isBr,ys=cu.isText,Cs=cu.matchNodeNames("script style textarea"),xs=cu.matchNodeNames("img input textarea hr iframe video audio object"),ws=cu.matchNodeNames("table"),Es=os,Ns=function(e){return!Es(e)&&(ys(e)?!Cs(e.parentNode):xs(e)||bs(e)||ws(e)||ks(e))},Ss=function(e){return cu.isElement(e)&&"true"===e.getAttribute("unselectable")},ks=function(e){return Ss(e)===!1&&vs(e)},Ts=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(ks(e))return!1;if(hs(e))return!0}return!0},Rs=function(e){return!!ks(e)&&Xe(st(e.getElementsByTagName("*")),function(e,t){return e||hs(t)},!1)!==!0},As=function(e){return xs(e)||Rs(e)},Bs=function(e,t){return Ns(e)&&Ts(e,t)},Ds=Math.round,_s=function(e){return e?{left:Ds(e.left),top:Ds(e.top),bottom:Ds(e.bottom),right:Ds(e.right),width:Ds(e.width),height:Ds(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Os=function(e,t){return e=_s(e),t?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},Ps=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},Is=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Ls=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&Is(t.top-e.bottom,e,t)},Fs=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&Is(t.bottom-e.top,e,t)},Ms=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Us=function(e,t){return t.left>e.left&&t.right<e.right?0:t.left<e.left?t.left-e.left:t.right-e.right},zs=function(e,t){return t.top>e.top&&t.bottom<e.bottom?0:t.top<e.top?t.top-e.top:t.bottom-e.bottom},Vs=function(e,t){return{x:Us(e,t),y:zs(e,t)}},Hs=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},js=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},qs=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),Ws=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&qs.test(e)},$s=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return Re.none();n.push(o.getOrDie())}return Re.some(t.apply(null,n))},Ks=[].slice,Xs=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ks.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},Ys=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ks.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},Gs={and:Ys,or:Xs},Zs=cu.isElement,Js=Ns,Qs=cu.matchStyleValues("display","block table"),el=cu.matchStyleValues("float","left right"),tl=Gs.and(Zs,Js,be(el)),nl=be(cu.matchStyleValues("white-space","pre pre-line pre-wrap")),rl=cu.isText,ol=cu.isBr,il=Ku.nodeIndex,al=js,ul=function(e){return"createRange"in e?e.createRange():Ku.DOM.createRng()},cl=function(e){return e&&/[\r\n\t ]/.test(e)},sl=function(e){return!!e.setStart&&!!e.setEnd},ll=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(cl(e.toString())&&nl(n.parentNode)&&cu.isText(n)&&(t=n.data,cl(t[r-1])||cl(t[r+1])))},fl=function(e){var t,n=e.ownerDocument,r=ul(n),o=n.createTextNode(""),i=e.parentNode;return i.insertBefore(o,e),r.setStart(o,0),r.setEnd(o,1),t=_s(r.getBoundingClientRect()),i.removeChild(o),t},dl=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&cu.isText(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),gl(i)}return null},ml=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},gl=function(e){var t,n;return n=e.getClientRects(),t=_s(n.length>0?n[0]:e.getBoundingClientRect()),!sl(e)&&ol(e)&&ml(t)?fl(e):ml(t)&&sl(e)?dl(e):t},pl=function(e,t){var n=Os(e,t);return n.width=1,n.right=n.left+1,n},hl=function(e){var t,n,r=[],o=function(e){0!==e.height&&(r.length>0&&Ps(e,r[r.length-1])||r.push(e))},i=function(e,t){var n=ul(e.ownerDocument);if(t<e.data.length){if(Ws(e.data[t]))return r;if(Ws(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!ll(n)))return o(pl(gl(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),ll(n)||o(pl(gl(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),ll(n)||o(pl(gl(n),!0)))};if(rl(e.container()))return i(e.container(),e.offset()),r;if(Zs(e.container()))if(e.isAtEnd())n=al(e.container(),e.offset()),rl(n)&&i(n,n.data.length),tl(n)&&!ol(n)&&o(pl(gl(n),!1));else{if(n=al(e.container(),e.offset()),rl(n)&&i(n,0),tl(n)&&e.isAtEnd())return o(pl(gl(n),!1)),r;t=al(e.container(),e.offset()-1),tl(t)&&!ol(t)&&(Qs(t)||Qs(n)||!tl(n))&&o(pl(gl(t),!1)),tl(n)&&o(pl(gl(n),!0))}return r};!function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)},e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)},e.after=function(t){return e(t.parentNode,il(t)+1)},e.before=function(t){return e(t.parentNode,il(t))},e.isAbove=function(e,t){return $s([ut(t.getClientRects()),ct(e.getClientRects())],Ls).getOr(!1)},e.isBelow=function(e,t){return $s([ct(t.getClientRects()),ut(e.getClientRects())],Fs).getOr(!1)},e.isAtStart=function(e){return!!e&&e.isAtStart()},e.isAtEnd=function(e){return!!e&&e.isAtEnd()},e.isTextPosition=function(e){return!!e&&cu.isText(e.container())},e.isElementPosition=function(t){return e.isTextPosition(t)===!1}}(S||(S={}));var vl,bl=S,yl=cu.isText,Cl=cu.isBogus,xl=Ku.nodeIndex,wl=function(e){var t=e.parentNode;return Cl(t)?wl(t):t},El=function(e){return e?cr.reduce(e.childNodes,function(e,t){return Cl(t)&&"BR"!==t.nodeName?e=e.concat(El(t)):e.push(t),e},[]):[]},Nl=function(e,t){for(;(e=e.previousSibling)&&yl(e);)t+=e.data.length;return t},Sl=function(e){return function(t){return e===t}},kl=function(e){var t,n,r;return t=El(wl(e)),n=cr.findIndex(t,Sl(e),e),t=t.slice(0,n+1),r=cr.reduce(t,function(e,n,r){return yl(n)&&yl(t[r-1])&&e++,e},0),t=cr.filter(t,cu.matchNodeNames(e.nodeName)),n=cr.findIndex(t,Sl(e),e),n-r},Tl=function(e){var t;return t=yl(e)?"text()":e.nodeName.toLowerCase(),t+"["+kl(e)+"]"},Rl=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r},Al=function(e,t){var n,r,o,i,a,u=[];return n=t.container(),r=t.offset(),yl(n)?o=Nl(n,r):(i=n.childNodes,r>=i.length?(o="after",r=i.length-1):o="before",n=i[r]),u.push(Tl(n)),a=Rl(e,n),a=cr.filter(a,be(cu.isBogus)),u=u.concat(cr.map(a,function(e){return Tl(e)})),u.reverse().join("/")+","+o},Bl=function(e,t,n){var r=El(e);return r=cr.filter(r,function(e,t){return!yl(e)||!yl(r[t-1])}),r=cr.filter(r,cu.matchNodeNames(t)),r[n]},Dl=function(e,t){for(var n,r=e,o=0;yl(r);){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!yl(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return yl(e)&&t>e.data.length&&(t=e.data.length),bl(e,t)},_l=function(e,t){var n,r,o;return t?(n=t.split(","),t=n[0].split("/"),o=n.length>1?n[1]:"before",r=cr.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),Bl(e,t[1],parseInt(t[2],10))):null},e),r?yl(r)?Dl(r,parseInt(o,10)):(o="after"===o?xl(r)+1:xl(r),bl(r.parentNode,o)):null):null},Ol=cu.isContentEditableFalse,Pl=function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&cu.isText(r);r=r.previousSibling)o+=e(r.data).length;return o},Il=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],c=[],s=0,l=e.getRoot();for(cu.isText(a)?c.push(n?Pl(t,a,u):u):(i=a.childNodes,u>=i.length&&i.length&&(s=1,u=Math.max(0,i.length-1)),c.push(e.nodeIndex(i[u],n)+s));a&&a!==l;a=a.parentNode)c.push(e.nodeIndex(a,n));return c},Ll=function(e,t,n,r){var o=t.dom,i={};return i.start=Il(o,e,n,r,!0),t.isCollapsed()||(i.end=Il(o,e,n,r,!1)),i},Fl=function(e){cu.isText(e)&&0===e.data.length&&e.parentNode.removeChild(e)},Ml=function(e,t,n){var r=0;return xr.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},Ul=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],cu.isElement(n)&&"TR"===n.nodeName&&(o=n.childNodes,n=o[Math.min(t?r:r-1,o.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},zl=function(e){return Ul(e,!0),Ul(e,!1),e},Vl=function(e,t){var n;if(cu.isElement(e)&&(e=js(e,t),Ol(e)))return e;if(os(e)){if(cu.isText(e)&&ns(e)&&(e=e.parentNode),n=e.previousSibling,Ol(n))return n;if(n=e.nextSibling,Ol(n))return n}},Hl=function(e){return Vl(e.startContainer,e.startOffset)||Vl(e.endContainer,e.endOffset)},jl=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Ol(r)||"IMG"===o)return{name:o,index:Ml(n.dom,o,r)};var a=Hl(i);return a?(o=a.tagName,{name:o,index:Ml(n.dom,o,a)}):Ll(e,n,t,i)},ql=function(e){var t=e.getRng();return{start:Al(e.dom.getRoot(),bl.fromRangeStart(t)),end:Al(e.dom.getRoot(),bl.fromRangeEnd(t))}},Wl=function(e){return{rng:e.getRng()}},$l=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},Kl=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:Ml(n,u,a)};var c=zl(r.cloneRange());if(!i){c.collapse(!1);var s=$l(n,o+"_end",t);c.insertNode(s),Fl(s.nextSibling)}r=zl(r),r.collapse(!0);var l=$l(n,o+"_start",t);return r.insertNode(l),Fl(l.previousSibling),Fl(l.nextSibling),e.moveToBookmark({id:o,keep:1}),{id:o}},Xl=function(e,t,n){return 2===t?jl(Qc.trim,n,e):3===t?ql(e):t?Wl(e):Kl(e,!1)},Yl={getBookmark:Xl,getUndoBookmark:e(jl,ve,!0),getPersistentBookmark:Kl},Gl="_mce_caret",Zl=function(e){return cu.isElement(e)&&e.id===Gl},Jl=function(e,t){for(;t&&t!==e;){if(t.id===Gl)return t;t=t.parentNode}return null},Ql=cu.isElement,ef=cu.isText,tf=function(e){var t=e.parentNode;t&&t.removeChild(e)},nf=function(e){try{return e.nodeValue}catch(t){return""}},rf=function(e,t){0===t.length?tf(e):e.nodeValue=t},of=function(e){var t=Qc.trim(e);return{count:e.length-t.length,text:t}},af=function(e,t){return df(e),t},uf=function(e,t){var n=of(e.data.substr(0,t.offset())),r=of(e.data.substr(t.offset())),o=n.text+r.text;return o.length>0?(rf(e,o),bl(e,t.offset()-n.count)):t},cf=function(e,t){var n=t.container(),r=Ue(st(n.childNodes),e).map(function(e){return e<t.offset()?bl(n,t.offset()-1):t}).getOr(t);return df(e),r},sf=function(e,t){return ef(e)&&t.container()===e?uf(e,t):af(e,t)},lf=function(e,t){return t.container()===e.parentNode?cf(e,t):af(e,t)},ff=function(e,t){return bl.isTextPosition(t)?sf(e,t):lf(e,t)},df=function(e){if(Ql(e)&&os(e)&&(is(e)?e.removeAttribute("data-mce-caret"):tf(e)),ef(e)){var t=Qc.trim(nf(e));rf(e,t)}},mf={removeAndReposition:ff,remove:df},gf=Ko.detect().browser,pf=cu.isContentEditableFalse,hf=function(e){return cu.isElement(e)&&/^(TD|TH)$/i.test(e.tagName)},vf=function(e,t,n){var r,o,i,a,u,c=Os(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,i=e.scrollTop||r.scrollTop):(u=e.getBoundingClientRect(),o=e.scrollLeft-u.left,i=e.scrollTop-u.top),c.left+=o,c.right+=o,c.top+=i,c.bottom+=i,c.width=1,a=t.offsetWidth-t.clientWidth,a>0&&(n&&(a*=-1),c.left+=a,c.right+=a),c},bf=function(e){var t,n,r,o,i;for(t=Vr("*[contentEditable=false]",e),o=0;o<t.length;o++)n=t[o],r=n.previousSibling,ds(r)&&(i=r.data,1===i.length?r.parentNode.removeChild(r):r.deleteData(i.length-1,1)),r=n.nextSibling,fs(r)&&(i=r.data,1===i.length?r.parentNode.removeChild(r):r.deleteData(0,1))},yf=function(e,t,n){var r,o,i=dc(Re.none()),a=function(n,r){var a,s;if(u(),hf(r))return null;if(!t(r))return o=as(r,n),s=r.ownerDocument.createRange(),pf(o.nextSibling)?(s.setStart(o,0),s.setEnd(o,0)):(s.setStart(o,1),s.setEnd(o,1)),s;o=ls("p",r,n),a=vf(e,r,n),Vr(o).css("top",a.top);var l=Vr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(a).appendTo(e)[0];return i.set(Re.some({caret:l,element:r,before:n})),i.get().each(function(e){n&&Vr(e.caret).addClass("mce-visual-caret-before")}),c(),s=r.ownerDocument.createRange(),s.setStart(o,0),s.setEnd(o,0),s},u=function(){bf(e),o&&(mf.remove(o),o=null),i.get().each(function(e){Vr(e.caret).remove(),i.set(Re.none())}),clearInterval(r)},c=function(){r=Pt.setInterval(function(){n()?Vr("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):Vr("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)},s=function(){i.get().each(function(t){var n=vf(e,t.element,t.before);Vr(t.caret).css(n)})},l=function(){return Pt.clearInterval(r)},f=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:a,hide:u,getCss:f,reposition:s,destroy:l}},Cf=function(){return gf.isIE()||gf.isEdge()||gf.isFirefox()},xf=function(e){return pf(e)||cu.isTable(e)&&Cf()},wf=function(e){return function(t){return e===t}},Ef=wf(""),Nf=function(e){return/^[\r\n\t ]$/.test(e)},Sf=function(e){return!Nf(e)&&!Ef(e)},kf=cu.isContentEditableFalse,Tf=cu.matchStyleValues("display","block table table-cell table-caption list-item"),Rf=os,Af=ns,Bf=cu.isElement,Df=Ns,_f=function(e){return e>0},Of=function(e){return e<0},Pf=function(e,t){for(var n;n=e(t);)if(!Af(n))return n;return null},If=function(e,t,n,r,o){var i=new b(e,r);if(Of(t)){if((kf(e)||Af(e))&&(e=Pf(i.prev,!0),n(e)))return e;for(;e=Pf(i.prev,o);)if(n(e))return e}if(_f(t)){if((kf(e)||Af(e))&&(e=Pf(i.next,!0),n(e)))return e;for(;e=Pf(i.next,o);)if(n(e))return e}return null},Lf=function(e,t){for(;e&&e!==t;){if(Tf(e))return e;e=e.parentNode}return null},Ff=function(e,t,n){return Lf(e.container(),n)===Lf(t.container(),n)},Mf=function(e,t){var n,r;return t?(n=t.container(),r=t.offset(),Bf(n)?n.childNodes[r+e]:null):null},Uf=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},zf=function(e,t,n){return Lf(t,e)===Lf(n,e)},Vf=function(e,t,n){var r,o;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],Rf(r)&&(r=r[o]),kf(r)){if(zf(t,r,n))return r;break}if(Df(r))break;n=n.parentNode}return null},Hf=e(Uf,!0),jf=e(Uf,!1),qf=function(t,n,r){var o,i,a,u,c=e(Vf,!0,n),s=e(Vf,!1,n);if(i=r.startContainer,a=r.startOffset,ns(i)){if(Bf(i)||(i=i.parentNode),u=i.getAttribute("data-mce-caret"),"before"===u&&(o=i.nextSibling,xf(o)))return Hf(o);if("after"===u&&(o=i.previousSibling,xf(o)))return jf(o)}if(!r.collapsed)return r;if(cu.isText(i)){if(Rf(i)){if(1===t){if(o=s(i))return Hf(o);if(o=c(i))return jf(o)}if(t===-1){if(o=c(i))return jf(o);if(o=s(i))return Hf(o)}return r}if(ds(i)&&a>=i.data.length-1)return 1===t&&(o=s(i))?Hf(o):r;if(fs(i)&&a<=1)return t===-1&&(o=c(i))?jf(o):r;if(a===i.data.length)return o=s(i),o?Hf(o):r;if(0===a)return o=c(i),o?jf(o):r}return r},Wf=function(e,t){var n=Mf(e,t);return kf(n)&&!cu.isBogusAll(n)},$f=function(e,t){return cu.isTable(Mf(e,t))},Kf=function(e,t){return Re.from(Mf(e?0:-1,t)).filter(kf)},Xf=function(e,t,n){var r=qf(e,t,n);return e===-1?S.fromRangeStart(r):S.fromRangeEnd(r)},Yf=e(Wf,0),Gf=e(Wf,-1),Zf=e($f,0),Jf=e($f,-1),Qf=function(e,t,n){return Re.from(n.container()).filter(cu.isText).exists(function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))})},ed=e(Qf,!0,Nf),td=e(Qf,!1,Nf),nd=function(e){return Re.from(e.getNode()).map(Qo.fromDom)},rd=function(e){return Re.from(e.getNode(!0)).map(Qo.fromDom)};!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(vl||(vl={}));var od=cu.isContentEditableFalse,id=cu.isText,ad=cu.isElement,ud=cu.isBr,cd=Ns,sd=As,ld=Bs,fd=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},dd=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},md=function(e,t){if(_f(e)){if(cd(t.previousSibling)&&!id(t.previousSibling))return bl.before(t);if(id(t))return bl(t,0)}if(Of(e)){if(cd(t.nextSibling)&&!id(t.nextSibling))return bl.after(t);if(id(t))return bl(t,t.data.length)}return Of(e)?ud(t)?bl.before(t):bl.after(t):bl.before(t)},gd=function(e,t){var n=t.nextSibling;return n&&cd(n)?id(n)?bl(n,0):bl.before(n):pd(vl.Forwards,bl.after(t),e);
},pd=function(e,t,n){var r,o,i,a,u;if(!ad(n)||!t)return null;if(t.isEqual(bl.after(n))&&n.lastChild){if(u=bl.after(n.lastChild),Of(e)&&cd(n.lastChild)&&ad(n.lastChild))return ud(n.lastChild)?bl.before(n.lastChild):u}else u=t;var c=u.container(),s=u.offset();if(id(c)){if(Of(e)&&s>0)return bl(c,--s);if(_f(e)&&s<c.length)return bl(c,++s);r=c}else{if(Of(e)&&s>0&&(o=dd(c,s-1),cd(o)))return!sd(o)&&(i=If(o,e,ld,o))?id(i)?bl(i,i.data.length):bl.after(i):id(o)?bl(o,o.data.length):bl.before(o);if(_f(e)&&s<c.childNodes.length&&(o=dd(c,s),cd(o)))return ud(o)?gd(n,o):!sd(o)&&(i=If(o,e,ld,o))?id(i)?bl(i,0):bl.before(i):id(o)?bl(o,0):bl.after(o);r=o?o:u.getNode()}return(_f(e)&&u.isAtEnd()||Of(e)&&u.isAtStart())&&(r=If(r,e,he(!0),n,!0),ld(r,n))?md(e,r):(o=If(r,e,ld,n),a=cr.last($e(fd(c,n),od)),!a||o&&a.contains(o)?o?md(e,o):null:u=_f(e)?bl.after(a):bl.before(a))},hd=function(e){return{next:function(t){return pd(vl.Forwards,t,e)},prev:function(t){return pd(vl.Backwards,t,e)}}},vd=function(e,t,n){var r=e?bl.before(n):bl.after(n);return Nd(e,t,r)},bd=function(e){return cu.isBr(e)?bl.before(e):bl.after(e)},yd=function(e){return bl.isTextPosition(e)?0===e.offset():Ns(e.getNode())},Cd=function(e){if(bl.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Ns(e.getNode(!0))},xd=function(e,t){return!bl.isTextPosition(e)&&!bl.isTextPosition(t)&&e.getNode()===t.getNode(!0)},wd=function(e){return!bl.isTextPosition(e)&&cu.isBr(e.getNode())},Ed=function(e,t,n){return e?!xd(t,n)&&!wd(t)&&Cd(t)&&yd(n):!xd(n,t)&&yd(t)&&Cd(n)},Nd=function(e,t,n){var r=hd(t);return Re.from(e?r.next(n):r.prev(n))},Sd=function(e,t,n){return Nd(e,t,n).bind(function(r){return Ff(n,r,t)&&Ed(e,n,r)?Nd(e,t,r):Re.some(r)})},kd=function(e,t){var n=e?t.firstChild:t.lastChild;return cu.isText(n)?Re.some(bl(n,e?0:n.data.length)):n?Ns(n)?Re.some(e?bl.before(n):bd(n)):vd(e,t,n):Re.none()},Td=e(Nd,!0),Rd=e(Nd,!1),Ad={fromPosition:Nd,nextPosition:Td,prevPosition:Rd,navigate:Sd,positionIn:kd,firstPositionIn:e(kd,!0),lastPositionIn:e(kd,!1)},Bd=function(e){return"string"==typeof e.start},Dd=function(e){return e.hasOwnProperty("rng")},_d=function(e){return e.hasOwnProperty("id")},Od=function(e){return e.hasOwnProperty("name")},Pd=function(e){return xr.isArray(e.start)},Id=function(e,t){return!e.isBlock(t)||t.innerHTML||St.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t},Ld=function(e,t){var n,r;return n=e.createRng(),r=_l(e.getRoot(),t.start),n.setStart(r.container(),r.offset()),r=_l(e.getRoot(),t.end),n.setEnd(r.container(),r.offset()),n},Fd=function(e,t){var n=e.ownerDocument.createTextNode(Qc.ZWSP);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},Md=function(e){return e.hasChildNodes()===!1},Ud=function(e,t){return Ad.lastPositionIn(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},zd=function(e,t,n){return!(!Md(t)||!Jl(e,t))&&(Fd(t,n),!0)},Vd=function(e,t,n,r){var o,i,a,u,c=n[t?"start":"end"],s=e.getRoot();if(c){for(a=c[0],i=s,o=c.length-1;o>=1;o--){if(u=i.childNodes,zd(s,i,r))return!0;if(c[o]>u.length-1)return!!zd(s,i,r)||Ud(i,r);i=u[c[o]]}3===i.nodeType&&(a=Math.min(c[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(c[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},Hd=function(e){return cu.isText(e)&&e.data.length>0},jd=function(e,t,n){var r,o,i,a,u,c,s=e.get(n.id+"_"+t),l=n.keep;if(s){if(r=s.parentNode,"start"===t?(l?s.hasChildNodes()?(r=s.firstChild,o=1):Hd(s.nextSibling)?(r=s.nextSibling,o=0):Hd(s.previousSibling)?(r=s.previousSibling,o=s.previousSibling.data.length):(r=s.parentNode,o=e.nodeIndex(s)+1):o=e.nodeIndex(s),u=r,c=o):(l?s.hasChildNodes()?(r=s.firstChild,o=1):Hd(s.previousSibling)?(r=s.previousSibling,o=s.previousSibling.data.length):(r=s.parentNode,o=e.nodeIndex(s)):o=e.nodeIndex(s),u=r,c=o),!l){for(a=s.previousSibling,i=s.nextSibling,xr.each(xr.grep(s.childNodes),function(e){cu.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});s=e.get(n.id+"_"+t);)e.remove(s,!0);a&&i&&a.nodeType===i.nodeType&&cu.isText(a)&&!St.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),"start"===t?(u=a,c=o):(u=a,c=o))}return Re.some(bl(u,c))}return Re.none()},qd=function(e,t){return e.isSome()?e:t},Wd=function(e,t){var n=e.createRng();return Vd(e,!0,t,n)&&Vd(e,!1,t,n)?Re.some(n):Re.none()},$d=function(e,t){var n=jd(e,"start",t),r=jd(e,"end",t);return $s([n,qd(r,n)],function(t,n){var r=e.createRng();return r.setStart(Id(e,t.container()),t.offset()),r.setEnd(Id(e,n.container()),n.offset()),r})},Kd=function(e,t){return Re.from(e.select(t.name)[t.index]).map(function(t){var n=e.createRng();return n.selectNode(t),n})},Xd=function(e,t){var n=e.dom;if(t){if(Pd(t))return Wd(n,t);if(Bd(t))return Re.some(Ld(n,t));if(_d(t))return $d(n,t);if(Od(t))return Kd(n,t);if(Dd(t))return Re.some(t.rng)}return Re.none()},Yd={resolve:Xd},Gd=function(e,t,n){return Yl.getBookmark(e,t,n)},Zd=function(e,t){Yd.resolve(e,t).each(function(t){e.setRng(t)})},Jd=function(e){return cu.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Qd={getBookmark:Gd,moveToBookmark:Zd,isBookmarkNode:Jd},em=function(e){return e&&/^(IMG)$/.test(e.nodeName)},tm=function(e,t,n){var r,o,i,a=n.startOffset,u=n.startContainer;if((n.startContainer!==n.endContainer||!em(n.startContainer.childNodes[n.startOffset]))&&1===u.nodeType)for(i=u.childNodes,a<i.length?(u=i[a],r=new b(u,e.getParent(u,e.isBlock))):(u=i[i.length-1],r=new b(u,e.getParent(u,e.isBlock)),r.next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!im(o))return n.setStart(o,0),void t.setRng(n)},nm=function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!im(e))return e},rm=function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},om=function(e,t,n){return e.schema.isValidChild(t,n)},im=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},am=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},um=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},cm=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},sm=function(e,t,n){return cm(e,e.getStyle(t,n),n)},lm=function(e,t){var n;return e.getParent(t,function(t){return n=e.getStyle(t,"text-decoration"),n&&"none"!==n}),n},fm=function(e,t,n){return e.getParents(t,n,e.getRoot())},dm={isInlineBlock:em,moveStart:tm,getNonWhiteSpaceSibling:nm,isTextBlock:rm,isValid:om,isWhiteSpaceNode:im,replaceVars:am,isEq:um,normalizeStyleValue:cm,getStyle:sm,getTextDecoration:lm,getParents:fm},mm=Qd.isBookmarkNode,gm=dm.getParents,pm=dm.isWhiteSpaceNode,hm=dm.isTextBlock,vm=function(e,t){for("undefined"==typeof t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},bm=function(e,t){var n=vm(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=vm(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(e=n.node,e.splitText(n.offset-1))}return e},ym=function(e){return"BR"===e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Cm=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},xm=function(e,t,n,r){var o,i,a=n.nodeValue;return"undefined"==typeof r&&(r=e?a.length:0),e?(o=a.lastIndexOf(" ",r),i=a.lastIndexOf("",r),o=o>i?o:i,o!==-1&&!t&&(o<r||!e)&&o<=a.length&&o++):(o=a.indexOf(" ",r),i=a.indexOf("",r),o=o!==-1&&(i===-1||o<i)?o:i),o},wm=function(e,t,n,r,o,i){var a,u,c,s;if(3===n.nodeType){if(c=xm(o,i,n,r),c!==-1)return{container:n,offset:c};s=n}for(a=new b(n,e.getParent(n,e.isBlock)||t);u=a[o?"prev":"next"]();)if(3!==u.nodeType||mm(u.parentNode)){if(e.isBlock(u)||dm.isEq(u,"BR"))break}else if(s=u,c=xm(o,i,u),c!==-1)return{container:u,offset:c};if(s)return r=o?0:s.length,{container:s,offset:r}},Em=function(e,t,n,r,o){var i,a,u,c;for(3===r.nodeType&&0===r.nodeValue.length&&r[o]&&(r=r[o]),i=gm(e,r),a=0;a<i.length;a++)for(u=0;u<t.length;u++)if(c=t[u],!("collapsed"in c&&c.collapsed!==n.collapsed)&&e.is(i[a],c.selector))return i[a];return r},Nm=function(e,t,n,r){var o,i=e.dom,a=i.getRoot();if(t[0].wrapper||(o=i.getParent(n,t[0].block,a)),!o){var u=i.getParent(n,"LI,TD,TH");o=i.getParent(3===n.nodeType?n.parentNode:n,function(t){return t!==a&&hm(e,t)},u)}if(o&&t[0].wrapper&&(o=gm(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!dm.isEq(o,"br")););return o||n},Sm=function(e,t,n,r,o,i,a){var u,c,s,l,f;if(u=c=a?n:o,l=a?"previousSibling":"nextSibling",f=e.getRoot(),3===u.nodeType&&!pm(u)&&(a?r>0:i<u.nodeValue.length))return u;for(;;){if(!t[0].block_expand&&e.isBlock(c))return c;for(s=c[l];s;s=s[l])if(!mm(s)&&!pm(s)&&!ym(s))return c;if(c===f||c.parentNode===f){u=c;break}c=c.parentNode}return u},km=function(e,t,n,r){var o,i=t.startContainer,a=t.startOffset,u=t.endContainer,c=t.endOffset,s=e.dom;return 1===i.nodeType&&i.hasChildNodes()&&(i=js(i,a),3===i.nodeType&&(a=0)),1===u.nodeType&&u.hasChildNodes()&&(u=js(u,t.collapsed?c:c-1),3===u.nodeType&&(c=u.nodeValue.length)),i=Cm(s,i),u=Cm(s,u),(mm(i.parentNode)||mm(i))&&(i=mm(i)?i:i.parentNode,i=t.collapsed?i.previousSibling||i:i.nextSibling||i,3===i.nodeType&&(a=t.collapsed?i.length:0)),(mm(u.parentNode)||mm(u))&&(u=mm(u)?u:u.parentNode,u=t.collapsed?u.nextSibling||u:u.previousSibling||u,3===u.nodeType&&(c=t.collapsed?0:u.length)),t.collapsed&&(o=wm(s,e.getBody(),i,a,!0,r),o&&(i=o.container,a=o.offset),o=wm(s,e.getBody(),u,c,!1,r),o&&(u=o.container,c=o.offset)),n[0].inline&&(u=r?u:bm(u,c)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===i.nodeType&&0!==a||(i=Sm(s,n,i,a,u,c,!0)),n[0].inline&&3===u.nodeType&&c!==u.nodeValue.length||(u=Sm(s,n,i,a,u,c,!1))),n[0].selector&&n[0].expand!==!1&&!n[0].inline&&(i=Em(s,n,t,i,"previousSibling"),u=Em(s,n,t,u,"nextSibling")),(n[0].block||n[0].selector)&&(i=Nm(e,n,i,"previousSibling"),u=Nm(e,n,u,"nextSibling"),n[0].block&&(s.isBlock(i)||(i=Sm(s,n,i,a,u,c,!0)),s.isBlock(u)||(u=Sm(s,n,i,a,u,c,!1)))),1===i.nodeType&&(a=s.nodeIndex(i),i=i.parentNode),1===u.nodeType&&(c=s.nodeIndex(u)+1,u=u.parentNode),{startContainer:i,startOffset:a,endContainer:u,endOffset:c}},Tm={expandRng:km},Rm=xr.each,Am=function(e,t){var n=e.childNodes;return t--,t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e},Bm=function(e,t,n){var r,o,i,a,u,c,s,l=t.startContainer,f=t.startOffset,d=t.endContainer,m=t.endOffset;if(s=e.select("td[data-mce-selected],th[data-mce-selected]"),s.length>0)return void Rm(s,function(e){n([e])});var g=function(e){var t;return t=e[0],3===t.nodeType&&t===l&&f>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===m&&e.length>0&&t===d&&3===t.nodeType&&e.splice(e.length-1,1),e},p=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},h=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},v=function(e,t,r){var o=r?"nextSibling":"previousSibling";for(a=e,u=a.parentNode;a&&a!==t;a=u)u=a.parentNode,c=p(a===e?a:a[o],o),c.length&&(r||c.reverse(),n(g(c)))};if(1===l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[f]),1===d.nodeType&&d.hasChildNodes()&&(d=Am(d,m)),l===d)return n(g([l]));for(r=e.findCommonAncestor(l,d),a=l;a;a=a.parentNode){if(a===d)return v(l,r,!0);if(a===r)break}for(a=d;a;a=a.parentNode){if(a===l)return v(d,r);if(a===r)break}o=h(l,r)||l,i=h(d,r)||d,v(l,o,!0),c=p(o===l?o:o.nextSibling,"nextSibling",i===d?i.nextSibling:i),c.length&&n(g(c)),v(d,i)},Dm={walk:Bm},_m=function(){return"\ufeff"},Om=k(ui,"text"),Pm=function(e){return Om.get(e)},Im=function(e){return ui(e)&&Pm(e)===_m()},Lm=function(e,t,n,r){return Gi(t).fold(function(){return"skipping"},function(o){return"br"===r||Im(t)?"valid":Ic(t)?"existing":Zl(t)?"caret":dm.isValid(e,n,r)&&dm.isValid(e,ri(o),n)?"valid":"invalid-child"})},Fm=function(e){return 3===e.startContainer.nodeType&&e.startContainer.nodeValue.length>=e.startOffset&&""===e.startContainer.nodeValue[e.startOffset]},Mm=function(e,t){var n=Tm.expandRng(e,t,[{inline:!0}],Fm(t));t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},Um=function(e,t,n,r){var o=t.uid,i=void 0===o?Hc("mce-annotation"):o,a=N(t,["uid"]),u=Qo.fromTag("span",e);Cc(u,Dc()),hi(u,""+Oc(),i),hi(u,""+_c(),n);var c=r(i,a),s=c.attributes,l=void 0===s?{}:s,f=c.classes,d=void 0===f?[]:f;return vi(u,l),jc(u,d),u},zm=function(e,t,n,r,o){var i=[],a=Um(e.getDoc(),o,n,r),u=dc(Re.none()),c=function(){u.set(Re.none())},s=function(){return u.get().getOrThunk(function(){var e=Wc(a);return i.push(e),u.set(Re.some(e)),e})},l=function(e){je(e,f)},f=function(t){var n=Lm(e,t,"span",ri(t));switch(n){case"invalid-child":c();var r=na(t);l(r),c();break;case"valid":var o=s();oc(t,o);break;case"skipping":case"existing":case"caret":}},d=function(e){var t=He(e,Qo.fromDom);l(t)};return Dm.walk(e.dom,t,function(e){c(),d(e)}),i},Vm=function(e,t,n,r){e.undoManager.transact(function(){var o=e.selection.getRng();if(o.collapsed&&Mm(e,o),e.selection.getRng().collapsed){var i=Um(e.getDoc(),r,t,n.decorate);Yc(i,""),e.selection.getRng().insertNode(i.dom()),e.selection.select(i.dom())}else{var a=Yl.getPersistentBookmark(e.selection,!1),u=e.selection.getRng();zm(e,u,t,n.decorate,r),e.selection.moveToBookmark(a)}})},Hm=function(e){return e.firstChild&&e.firstChild===e.lastChild},jm=function(e){return"br"===e.name||""===e.value},qm=function(e,t){var n=e.getBlockElements();return n[t.name]&&Hm(t)&&jm(t.firstChild)},Wm=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||qm(e,t))},$m=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),Wm(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},Km=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},Xm=function(e,t,n){var r=t.serialize(n),o=e.createFragment(r);return Km(o)},Ym=function(e){return xr.grep(e.childNodes,function(e){return"LI"===e.nodeName})},Gm=function(e){return""===e.data||cu.isBr(e)},Zm=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Gm(e.firstChild)},Jm=function(e){return!e.firstChild||Zm(e)},Qm=function(e){return e.length>0&&Jm(e[e.length-1])?e.slice(0,-1):e},eg=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},tg=function(e,t){return!!eg(e,t)},ng=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},rg=function(e,t){var n=bl.before(e),r=hd(t),o=r.next(n);return o?o.toRange():null},og=function(e,t){var n=bl.after(e),r=hd(t),o=r.prev(n);return o?o.toRange():null},ig=function(e,t,n,r){var o=ng(e,r),i=e.parentNode;return i.insertBefore(o[0],e),xr.each(t,function(t){i.insertBefore(t,e)}),i.insertBefore(o[1],e),i.removeChild(e),og(t[t.length-1],n)},ag=function(e,t,n){var r=e.parentNode;return xr.each(t,function(t){r.insertBefore(t,e)}),rg(e,n)},ug=function(e,t,n,r){return r.insertAfter(t.reverse(),e),og(t[0],n)},cg=function(e,t,n,r){var o=Xm(t,e,r),i=eg(t,n.startContainer),a=Qm(Ym(o.firstChild)),u=1,c=2,s=t.getRoot(),l=function(e){var r=bl.fromRangeStart(n),o=hd(t.getRoot()),a=e===u?o.prev(r):o.next(r);return!a||eg(t,a.getNode())!==i};return l(u)?ag(i,a,s):l(c)?ug(i,a,s,t):ig(i,a,s,n)},sg={isListFragment:$m,insertAtCaret:cg,isParentBlockLi:tg,trimListItems:Qm,listItems:Ym},lg=xr.each,fg=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return lg(e.getAttribs(t),function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))}),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(n=t[r],"undefined"==typeof n)return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!o(r(t),r(n))&&(!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!Qd.isBookmarkNode(t)&&!Qd.isBookmarkNode(n)))}},dg=function(e){for(var t=[],n=e.dom();n;)t.push(Qo.fromDom(n)),n=n.lastChild;return t},mg=function(e){var t=Sc(e,"br"),n=$e(dg(e).slice(-1),Fa);t.length===n.length&&je(n,cc)},gg=function(e){uc(e),rc(e,Qo.fromHtml('<br data-mce-bogus="1">'))},pg=function(e){return ui(e)?""===Pm(e):Fa(e)},hg=function(e){return 1===$e(na(e),pg).length},vg=function(e){ia(e).each(function(t){Ji(t).each(function(n){Ia(e)&&Fa(t)&&Ia(n)&&cc(t)})})},bg={removeTrailingBr:mg,fillWithPaddingBr:gg,isPaddedElement:hg,trimBlockTrailingBr:vg},yg=xr.makeMap,Cg=function(e,t,n,r){var o=document.createRange();return o.setStart(e,t),o.setEnd(n,r),o},xg=function(e){var t=bl.fromRangeStart(e),n=bl.fromRangeEnd(e),r=e.commonAncestorContainer;return Ad.fromPosition(!1,r,n).map(function(o){return!Ff(t,n,r)&&Ff(t,o,r)?Cg(t.container(),t.offset(),o.container(),o.offset()):e}).getOr(e)},wg=function(e){return e.collapsed?e:xg(e)},Eg={normalize:wg},Ng=function(e,t){return cu.isText(e)&&""===e.nodeValue[t-1]},Sg=function(e,t){var n,r;n=e.startContainer,r=e.startOffset;var o=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(r>0?t=t.replace(/^&nbsp;/," "):o("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t},kg=function(e,t){var n,r;return n=e.startContainer,r=e.startOffset,3===n.nodeType&&e.collapsed&&(""===n.data[r]?(n.deleteData(r,1),/[\u00a0| ]$/.test(t)||(t+=" ")):""===n.data[r-1]&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))),t},Tg=cu.matchNodeNames("td th"),Rg=function(e,t){var n=e.selection.getRng(),r=n.startContainer,o=n.startOffset;n.collapsed&&Ng(r,o)&&cu.isText(r)&&(r.insertData(o-1," "),r.deleteData(o,1),n.setStart(r,o),n.setEnd(r,o),e.selection.setRng(n)),e.selection.setContent(t)},Ag=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):Rg(e,t)}},Bg=function(e,t){Re.from(e.getParent(t,"td,th")).map(Qo.fromDom).each(bg.trimBlockTrailingBr)},Dg=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var o=e.getBody(),i=new fg(r);xr.each(r.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==o;t=t.parentNode)n[e.nodeName.toLowerCase()]&&i.compare(t,e)&&r.remove(e,!0)})}},_g=function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},Og=function(e){xr.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},Pg=function(e){return!!e.getAttribute("data-mce-fragment")},Ig=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},Lg=function(e,t){var n,r,o,i,a,u=e.dom,c=e.selection,s=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null};if(t){if(e.selection.scrollIntoView(t),n=s(t))return u.remove(t),void c.select(n);var l=u.createRng();i=t.previousSibling,i&&3===i.nodeType?(l.setStart(i,i.nodeValue.length),St.ie||(a=t.nextSibling,a&&3===a.nodeType&&(i.appendData(a.data),a.parentNode.removeChild(a)))):(l.setStartBefore(t),l.setEndBefore(t));var f=function(t){var n=bl.fromRangeStart(t),r=hd(e.getBody());if(n=r.next(n))return n.toRange()};r=u.getParent(t,u.isBlock),u.remove(t),r&&u.isEmpty(r)&&(e.$(r).empty(),l.setStart(r,0),l.setEnd(r,0),Tg(r)||Pg(r)||!(o=f(l))?u.add(r,u.create("br",{"data-mce-bogus":"1"})):(l=o,u.remove(r))),c.setRng(l)}},Fg=function(e,t,n){var r,o,i,a,u,c,s,l,f,d,m,g=e.selection,p=e.dom;if(/^ | $/.test(t)&&(t=Sg(g.getRng(),t)),r=e.parser,m=n.merge,o=A({validate:e.settings.validate},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',c={content:t,format:"html",selection:!0,paste:n.paste},c=e.fire("BeforeSetContent",c),c.isDefaultPrevented())return void e.fire("SetContent",{content:c.content,format:"html",selection:!0,paste:n.paste});t=c.content,t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d),l=g.getRng();var h=l.startContainer||(l.parentElement?l.parentElement():null),v=e.getBody();h===v&&g.isCollapsed()&&p.isBlock(v.firstChild)&&Ig(e,v.firstChild)&&p.isEmpty(v.firstChild)&&(l=p.createRng(),l.setStart(v.firstChild,0),l.setEnd(v.firstChild,0),g.setRng(l)),g.isCollapsed()||(e.selection.setRng(Eg.normalize(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),t=kg(e.selection.getRng(),t)),i=g.getNode();var b={context:i.nodeName.toLowerCase(),data:n.data,insert:!0};if(u=r.parse(t,b),n.paste===!0&&sg.isListFragment(e.schema,u)&&sg.isParentBlockLi(p,i))return l=sg.insertAtCaret(o,p,e.selection.getRng(),u),e.selection.setRng(l),void e.fire("SetContent",c);if(_g(u),f=u.lastChild,"mce_marker"===f.attr("id"))for(s=f,f=f.prev;f;f=f.walk(!0))if(3===f.type||!p.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(s,f,"br"===f.name);break}if(e._selectionOverrides.showBlockCaretContainer(i),b.invalid){for(Rg(e,d),i=g.getNode(),a=e.getBody(),9===i.nodeType?i=f=a:f=i;f!==a;)i=f,f=f.parentNode;t=i===a?a.innerHTML:p.getOuterHTML(i),t=o.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return o.serialize(u)}))),i===a?p.setHTML(a,t):p.setOuterHTML(i,t)}else t=o.serialize(u),Ag(e,t,i);Dg(e,m),Lg(e,p.get("mce_marker")),Og(e.getBody()),Bg(e.dom,e.selection.getStart()),e.fire("SetContent",c),e.addVisual()},Mg=function(e){var t;return"string"!=typeof e?(t=xr.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},Ug=function(e,t){var n=Mg(t);Fg(e,n.content,n.details)},zg={insertAtCaret:Ug},Vg=Ri("sections","settings"),Hg=Ko.detect(),jg=Hg.deviceType.isTouch(),qg=["lists","autolink","autosave"],Wg={theme:"mobile"},$g=function(e){var t=Oe(e)?e.join(" "):e,n=He(De(t)?t.split(" "):[],Lo);return $e(n,function(e){return e.length>0})},Kg=function(t){return $e(t,e(ze,qg))},Xg=function(e,t){var n=mi(t,function(t,n){return ze(e,n)});return Vg(n.t,n.f)},Yg=function(e,t,n){var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return xr.extend({},n,o)},Gg=function(e,t){return e.sections().hasOwnProperty(t)},Zg=function(e,t,n){return{id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:t,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"40px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}},Jg=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?xr.extend({},e.external_plugins,n):n},Qg=function(e,t){return[].concat($g(e)).concat($g(t))},ep=function(e,t,n,r){var o=$g(n.forced_plugins),i=$g(r.plugins),a=e&&Gg(t,"mobile")?Kg(i):i,u=Qg(o,a);return xr.extend(r,{plugins:u.join(" ")})},tp=function(e,t){var n=t.settings().inline;return e&&Gg(t,"mobile")&&!n},np=function(e,t,n,r){var o=Xg(["mobile"],r),i=xr.extend(t,n,o.settings(),tp(e,o)?Yg(o,"mobile",Wg):{},{validate:!0,content_editable:o.settings().inline,external_plugins:Jg(n,o.settings())});return ep(e,o,n,i)},rp=function(e,t,n,r,o){var i=Zg(t,n,e);return np(jg,i,r,o)},op=function(e,t,n){return Re.from(t.settings[n]).filter(e)},ip=e(op,De),ap=function(e){var t={};return"string"==typeof e?je(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){var n=e.split("=");n.length>1?t[xr.trim(n[0])]=xr.trim(n[1]):t[xr.trim(n[0])]=xr.trim(n)}):t=e,t},up=function(e){return function(t){return Oe(t)&&tt(t,e)}},cp=function(e,t,n,r){var o=t in e.settings?e.settings[t]:n;return"hash"===r?ap(o):"string"===r?op(De,e,t).getOr(n):"number"===r?op(Fe,e,t).getOr(n):"boolean"===r?op(Ie,e,t).getOr(n):"object"===r?op(_e,e,t).getOr(n):"array"===r?op(Oe,e,t).getOr(n):"string[]"===r?op(up(De),e,t).getOr(n):"function"===r?op(Le,e,t).getOr(n):o},sp=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,lp=function(e){return sp.test(e)},fp=function(e,t){var n=ip(e,"inline_boundaries_selector").getOr("a[href],code");return Mi(Qo.fromDom(t),n)},dp=function(e){return"rtl"===Ku.DOM.getStyle(e,"direction",!0)||lp(e.textContent)},mp=function(e,t,n){return $e(Ku.DOM.getParents(n.container(),"*",t),e)},gp=function(e,t,n){var r=mp(e,t,n);return Re.from(r[r.length-1])},pp=function(e,t,n){var r=Lf(t,e),o=Lf(n,e);return r&&r===o},hp=function(e){return us(e)||cs(e)},vp=function(e,t){var n=t.container(),r=t.offset();return e?rs(n)?cu.isText(n.nextSibling)?bl(n.nextSibling,0):bl.after(n):us(t)?bl(n,r+1):t:rs(n)?cu.isText(n.previousSibling)?bl(n.previousSibling,n.previousSibling.data.length):bl.before(n):cs(t)?bl(n,r-1):t},bp=e(vp,!0),yp=e(vp,!1),Cp={isInlineTarget:fp,findRootInline:gp,isRtl:dp,isAtZwsp:hp,normalizePosition:vp,normalizeForwards:bp,normalizeBackwards:yp,hasSameParentBlock:pp},xp=function(e){return function(t){return Hi(e,Qo.fromDom(t.dom().parentNode))}},wp=function(e,t){return $i(e,t)?Tc(t,function(e){return Ma(e)||za(e)},xp(e)):Re.none()},Ep=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},Np=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),Ep(e))},Sp=function(e,t,n){return $s([Ad.firstPositionIn(n),Ad.lastPositionIn(n)],function(r,o){var i=Cp.normalizePosition(!0,r),a=Cp.normalizePosition(!1,o),u=Cp.normalizePosition(!1,t);return e?Ad.nextPosition(n,u).map(function(e){return e.isEqual(a)&&t.isEqual(i)}).getOr(!1):Ad.prevPosition(n,u).map(function(e){return e.isEqual(i)&&t.isEqual(a)}).getOr(!1)}).getOr(!0)},kp={getParentBlock:wp,paddEmptyBody:Np,willDeleteLastPositionInElement:Sp},Tp=function(e,t,n){return Rc(e,t,n).isSome()},Rp=function(t,n){var r=Qo.fromDom(t),o=Qo.fromDom(n);return Tp(o,"pre,code",e(Hi,r))},Ap=function(e,t){return cu.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&Rp(e,t)===!1},Bp=function(e){return cu.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name")},Dp=function(e,t){return Ns(t)&&Ap(e,t)===!1||Bp(t)||_p(t)},_p=cu.hasAttribute("data-mce-bookmark"),Op=cu.hasAttribute("data-mce-bogus"),Pp=cu.hasAttributeValue("data-mce-bogus","all"),Ip=function(e){var t,n,r=0;if(Dp(e,e))return!1;if(n=e.firstChild,!n)return!0;t=new b(n,e);do if(Pp(n))n=t.next(!0);else if(Op(n))n=t.next();else if(cu.isBr(n))r++,n=t.next();else{if(Dp(e,n))return!1;n=t.next()}while(n);return r<=1},Lp=function(e){return Ip(e.dom())},Fp={isEmpty:Lp},Mp=Ri("block","position"),Up=Ri("from","to"),zp=function(e,t){var n=Qo.fromDom(e),r=Qo.fromDom(t.container());return kp.getParentBlock(n,r).map(function(e){return Mp(e,t)})},Vp=function(e){return Hi(e.from().block(),e.to().block())===!1},Hp=function(e){return Gi(e.from().block()).bind(function(t){return Gi(e.to().block()).filter(function(e){return Hi(t,e)})}).isSome()},jp=function(e){return cu.isContentEditableFalse(e.from().block())===!1&&cu.isContentEditableFalse(e.to().block())===!1},qp=function(e,t,n){return cu.isBr(n.position().getNode())&&Fp.isEmpty(n.block())===!1?Ad.positionIn(!1,n.block().dom()).bind(function(r){return r.isEqual(n.position())?Ad.fromPosition(t,e,r).bind(function(t){return zp(e,t)}):Re.some(n)}).getOr(n):n},Wp=function(e,t,n){var r=zp(e,bl.fromRangeStart(n)),o=r.bind(function(n){return Ad.fromPosition(t,e,n.position()).bind(function(n){return zp(e,n).map(function(n){return qp(e,t,n)})})});return $s([r,o],Up).filter(function(e){return Vp(e)&&Hp(e)&&jp(e)})},$p=function(e,t,n){return n.collapsed?Wp(e,t,n):Re.none()},Kp={read:$p},Xp=function(e){return e.slice(0,-1)},Yp=function(e,t,n){return $i(t,e)?Xp(Zi(e,function(e){return n(e)||Hi(e,t)})):[]},Gp=function(e,t){return Yp(e,t,he(!1))},Zp=function(e,t){return[e].concat(Gp(e,t))},Jp={parentsUntil:Yp,parents:Gp,parentsAndSelf:Zp},Qp=function(e){var t=na(e);return Ge(t,Ia).fold(function(){return t},function(e){return t.slice(0,e)})},eh=function(e){var t=Qp(e);return je(t,cc),t},th=function(e,t){var n=Jp.parentsAndSelf(t,e);return Ye(n.reverse(),Fp.isEmpty).each(cc)},nh=function(e){return 0===$e(ea(e),function(e){return!Fp.isEmpty(e)}).length},rh=function(e,t,n,r){if(Fp.isEmpty(n))return bg.fillWithPaddingBr(n),Ad.firstPositionIn(n.dom());nh(r)&&Fp.isEmpty(t)&&ec(r,Qo.fromTag("br"));var o=Ad.prevPosition(n.dom(),bl.before(r.dom()));return je(eh(t),function(e){ec(r,e)}),th(e,t),o},oh=function(e,t,n){if(Fp.isEmpty(n))return cc(n),Fp.isEmpty(t)&&bg.fillWithPaddingBr(t),Ad.firstPositionIn(t.dom());var r=Ad.lastPositionIn(n.dom());return je(eh(t),function(e){rc(n,e)}),th(e,t),r},ih=function(e,t){var n=Jp.parentsAndSelf(t,e);return Re.from(n[n.length-1])},ah=function(e,t){return $i(t,e)?ih(t,e):Re.none()},uh=function(e,t){Ad.positionIn(e,t.dom()).map(function(e){return e.getNode()}).map(Qo.fromDom).filter(Fa).each(cc)},ch=function(t,n,r){return uh(!0,n),uh(!1,r),ah(n,r).fold(e(oh,t,n,r),e(rh,t,n,r))},sh=function(e,t,n,r){return t?ch(e,r,n):ch(e,n,r)},lh={mergeBlocks:sh},fh=function(e,t){var n,r=Qo.fromDom(e.getBody());return n=Kp.read(r.dom(),t,e.selection.getRng()).bind(function(e){return lh.mergeBlocks(r,t,e.from().block(),e.to().block())}),n.each(function(t){e.selection.setRng(t.toRange())}),n.isSome()},dh={backspaceDelete:fh},mh=function(e,t){var n=t.getRng();return $s([kp.getParentBlock(e,Qo.fromDom(n.startContainer)),kp.getParentBlock(e,Qo.fromDom(n.endContainer))],function(r,o){return Hi(r,o)===!1&&(n.deleteContents(),lh.mergeBlocks(e,!0,r,o).each(function(e){t.setRng(e.toRange())}),!0)}).getOr(!1)},gh=function(t,n){var r=Qo.fromDom(n),o=e(Hi,t);return kc(r,ja,o).isSome()},ph=function(e,t){return gh(e,t.startContainer)||gh(e,t.endContainer)},hh=function(e,t){var n=Ad.prevPosition(e.dom(),bl.fromRangeStart(t)).isNone(),r=Ad.nextPosition(e.dom(),bl.fromRangeEnd(t)).isNone();return!ph(e,t)&&n&&r},vh=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},bh=function(e){var t=Qo.fromDom(e.getBody()),n=e.selection.getRng();return hh(t,n)?vh(e):mh(t,e.selection)},yh=function(e,t){return!e.selection.isCollapsed()&&bh(e)},Ch={backspaceDelete:yh},xh=function(e){if(!Oe(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return je(e,function(r,o){var i=ci(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!Oe(u))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){var n=arguments.length;if(n!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];var c=function(e){var n=ci(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));var o=tt(t,function(e){return ze(n,e)});if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));
return e[a].apply(null,r)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[o];return t.apply(null,r)},match:c,log:function(e){console.log(e,{constructors:t,constructor:a,params:r})}}}}),n},wh={generate:xh},Eh=function(e){return nd(e).exists(Fa)},Nh=function(e,t,n){var r=$e(Jp.parentsAndSelf(Qo.fromDom(n.container()),t),Ia),o=ut(r).getOr(t);return Ad.fromPosition(e,o.dom(),n).filter(Eh)},Sh=function(e,t){return nd(t).exists(Fa)||Nh(!0,e,t).isSome()},kh=function(e,t){return rd(t).exists(Fa)||Nh(!1,e,t).isSome()},Th=e(Nh,!1),Rh=e(Nh,!0),Ah=function(e){return ja(Qo.fromDom(e))||za(Qo.fromDom(e))},Bh=wh.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Dh=function(e,t){var n=t.getNode(e===!1),r=e?"after":"before";return cu.isElement(n)&&n.getAttribute("data-mce-caret")===r},_h=function(e,t,n,r){var o=function(t){return La(Qo.fromDom(t))&&!Ff(n,r,e)};return Kf(!t,n).fold(function(){return Kf(t,r).fold(he(!1),o)},o)},Oh=function(e,t,n,r){var o=r.getNode(t===!1);return kp.getParentBlock(Qo.fromDom(e),Qo.fromDom(n.getNode())).map(function(e){return Fp.isEmpty(e)?Bh.remove(e.dom()):Bh.moveToElement(o)}).orThunk(function(){return Re.some(Bh.moveToElement(o))})},Ph=function(e,t,n){return Ad.fromPosition(t,e,n).bind(function(r){return Ah(r.getNode())?Re.none():_h(e,t,n,r)?Re.none():t&&cu.isContentEditableFalse(r.getNode())?Oh(e,t,n,r):t===!1&&cu.isContentEditableFalse(r.getNode(!0))?Oh(e,t,n,r):t&&Gf(n)?Re.some(Bh.moveToPosition(r)):t===!1&&Yf(n)?Re.some(Bh.moveToPosition(r)):Re.none()})},Ih=function(e,t){return e&&cu.isContentEditableFalse(t.nextSibling)?Re.some(Bh.moveToElement(t.nextSibling)):e===!1&&cu.isContentEditableFalse(t.previousSibling)?Re.some(Bh.moveToElement(t.previousSibling)):Re.none()},Lh=function(e,t,n){return n.fold(function(e){return Re.some(Bh.remove(e))},function(e){return Re.some(Bh.moveToElement(e))},function(n){return Ff(t,n,e)?Re.none():Re.some(Bh.moveToPosition(n))})},Fh=function(e,t,n){return Dh(t,n)?Ih(t,n.getNode(t===!1)).fold(function(){return Ph(e,t,n)},Re.some):Ph(e,t,n).bind(function(t){return Lh(e,n,t)})},Mh=function(e,t,n){var r=qf(t?1:-1,e,n),o=bl.fromRangeStart(r),i=Qo.fromDom(e);return t===!1&&Gf(o)?Re.some(Bh.remove(o.getNode(!0))):t&&Yf(o)?Re.some(Bh.remove(o.getNode())):t===!1&&Yf(o)&&kh(i,o)?Th(i,o).map(function(e){return Bh.remove(e.getNode())}):t&&Gf(o)&&Sh(i,o)?Rh(i,o).map(function(e){return Bh.remove(e.getNode())}):Fh(e,t,o)},Uh=function(e){return" \f\n\r\t\x0B".indexOf(e)!==-1},zh=function(e,t,n){var r=Xe(e.split(""),function(r,o){return Uh(o)||""===o?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+""}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}},{previousCharIsSpace:!1,str:""});return r.str},Vh=function(e,t,n){if(0!==n){var r=e.data.slice(t,t+n),o=t+n>=e.data.length,i=0===t;e.replaceData(t,n,zh(r,i,o))}},Hh=function(e,t){var n=e.data.slice(t),r=n.length-Fo(n).length;return Vh(e,t,r)},jh=function(e,t){var n=e.data.slice(0,t),r=n.length-Mo(n).length;return Vh(e,t-r,r)},qh=function(e,t,n){var r=Mo(e.data).length;return e.appendData(t.data),cc(Qo.fromDom(t)),n&&Hh(e,r),e},Wh=function(e,t){var n=e.container(),r=e.offset();return bl.isTextPosition(e)===!1&&n===t.parentNode&&r>bl.before(t).offset()},$h=function(e,t){return Wh(t,e)?bl(t.container(),t.offset()-1):t},Kh=function(e){return cu.isText(e)?bl(e,0):bl.before(e)},Xh=function(e){return cu.isText(e)?bl(e,e.data.length):bl.after(e)},Yh=function(e){return Ns(e.previousSibling)?Re.some(Xh(e.previousSibling)):e.previousSibling?Ad.lastPositionIn(e.previousSibling):Re.none()},Gh=function(e){return Ns(e.nextSibling)?Re.some(Kh(e.nextSibling)):e.nextSibling?Ad.firstPositionIn(e.nextSibling):Re.none()},Zh=function(e,t){var n=bl.before(t.previousSibling?t.previousSibling:t.parentNode);return Ad.prevPosition(e,n).fold(function(){return Ad.nextPosition(e,bl.after(t))},Re.some)},Jh=function(e,t){return Ad.nextPosition(e,bl.after(t)).fold(function(){return Ad.prevPosition(e,bl.before(t))},Re.some)},Qh=function(e,t){return Yh(t).orThunk(function(){return Gh(t)}).orThunk(function(){return Zh(e,t)})},ev=function(e,t){return Gh(t).orThunk(function(){return Yh(t)}).orThunk(function(){return Jh(e,t)})},tv=function(e,t,n){return e?ev(t,n):Qh(t,n)},nv=function(t,n,r){return tv(t,n,r).map(e($h,r))},rv=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},ov=function(e){return function(t){return t.dom()===e}},iv=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(ri(t))},av=function(e){if(Fp.isEmpty(e)){var t=Qo.fromHtml('<br data-mce-bogus="1">');return uc(e),rc(e,t),Re.some(bl.before(t.dom()))}return Re.none()},uv=function(e,t,n){var r=Ji(e).filter(function(e){return cu.isText(e.dom())}),o=Qi(e).filter(function(e){return cu.isText(e.dom())});return cc(e),$s([r,o,t],function(e,t,r){var o=e.dom(),i=t.dom(),a=o.data.length;return qh(o,i,n),r.container()===i?bl(o,a):r}).orThunk(function(){return n&&(r.each(function(e){return jh(e.dom(),e.dom().length)}),o.each(function(e){return Hh(e.dom(),0)})),t})},cv=function(e,t){return gi(e.schema.getTextInlineElements(),ri(t))},sv=function(t,n,r,o){void 0===o&&(o=!0);var i=nv(n,t.getBody(),r.dom()),a=kc(r,e(iv,t),ov(t.getBody())),u=uv(r,i,cv(t,r));t.dom.isEmpty(t.getBody())?(t.setContent(""),t.selection.setCursorLocation()):a.bind(av).fold(function(){o&&rv(t,n,u)},function(e){o&&rv(t,n,Re.some(e))})},lv={deleteElement:sv},fv=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),lv.deleteElement(e,t,Qo.fromDom(n)),!0}},dv=function(e,t){return function(n){var r=t?bl.before(n):bl.after(n);return e.selection.setRng(r.toRange()),!0}},mv=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},gv=function(e,t){var n=Mh(e.getBody(),t,e.selection.getRng()).map(function(n){return n.fold(fv(e,t),dv(e,t),mv(e))});return n.getOr(!1)},pv=function(e){je(Sc(e,".mce-offscreen-selection"),cc)},hv=function(e,t){var n=e.selection.getNode();return!!cu.isContentEditableFalse(n)&&(pv(Qo.fromDom(e.getBody())),lv.deleteElement(e,t,Qo.fromDom(e.selection.getNode())),kp.paddEmptyBody(e),!0)},vv=function(e,t){for(;t&&t!==e;){if(cu.isContentEditableTrue(t)||cu.isContentEditableFalse(t))return t;t=t.parentNode}return null},bv=function(e){var t,n=vv(e.getBody(),e.selection.getNode());return cu.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(bl.before(t).toRange())),!0},yv=function(e,t){return e.selection.isCollapsed()?gv(e,t):hv(e,t)},Cv={backspaceDelete:yv,paddEmptyElement:bv},xv=cu.isText,wv=function(e){return xv(e)&&e.data[0]===Qc.ZWSP},Ev=function(e){return xv(e)&&e.data[e.data.length-1]===Qc.ZWSP},Nv=function(e){return e.ownerDocument.createTextNode(Qc.ZWSP)},Sv=function(e){if(xv(e.previousSibling))return Ev(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData(Qc.ZWSP),e.previousSibling);if(xv(e))return wv(e)?e:(e.insertData(0,Qc.ZWSP),e);var t=Nv(e);return e.parentNode.insertBefore(t,e),t},kv=function(e){if(xv(e.nextSibling))return wv(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,Qc.ZWSP),e.nextSibling);if(xv(e))return Ev(e)?e:(e.appendData(Qc.ZWSP),e);var t=Nv(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},Tv=function(e,t){return e?Sv(t):kv(t)},Rv=e(Tv,!0),Av=e(Tv,!1),Bv=function(e,t){return cu.isText(e.container())?Tv(t,e.container()):Tv(t,e.getNode())},Dv=function(e,t){var n=t.get();return n&&e.container()===n&&rs(n)},_v=function(e,t){return t.fold(function(t){mf.remove(e.get());var n=Rv(t);return e.set(n),Re.some(bl(n,n.length-1))},function(t){return Ad.firstPositionIn(t).map(function(t){if(Dv(t,e))return bl(e.get(),1);mf.remove(e.get());var n=Bv(t,!0);return e.set(n),bl(n,1)})},function(t){return Ad.lastPositionIn(t).map(function(t){if(Dv(t,e))return bl(e.get(),e.get().length-1);mf.remove(e.get());var n=Bv(t,!1);return e.set(n),bl(n,n.length-1)})},function(t){mf.remove(e.get());var n=Av(t);return e.set(n),Re.some(bl(n,1))})},Ov={renderCaret:_v},Pv=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return Re.none()},Iv={evaluateUntil:Pv},Lv=wh.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Fv=function(e,t){var n=Lf(t,e);return n?n:e},Mv=function(t,n,r){var o=Cp.normalizeForwards(r),i=Fv(n,o.container());return Cp.findRootInline(t,i,o).fold(function(){return Ad.nextPosition(i,o).bind(e(Cp.findRootInline,t,i)).map(function(e){return Lv.before(e)})},Re.none)},Uv=function(e,t){return null===Jl(e,t)},zv=function(t,n,r){return Cp.findRootInline(t,n,r).filter(e(Uv,n))},Vv=function(e,t,n){var r=Cp.normalizeBackwards(n);return zv(e,t,r).bind(function(e){var t=Ad.prevPosition(e,r);return t.isNone()?Re.some(Lv.start(e)):Re.none()})},Hv=function(e,t,n){var r=Cp.normalizeForwards(n);return zv(e,t,r).bind(function(e){var t=Ad.nextPosition(e,r);return t.isNone()?Re.some(Lv.end(e)):Re.none()})},jv=function(t,n,r){var o=Cp.normalizeBackwards(r),i=Fv(n,o.container());return Cp.findRootInline(t,i,o).fold(function(){return Ad.prevPosition(i,o).bind(e(Cp.findRootInline,t,i)).map(function(e){return Lv.after(e)})},Re.none)},qv=function(e){return Cp.isRtl($v(e))===!1},Wv=function(e,t,n){var r=Iv.evaluateUntil([Mv,Vv,Hv,jv],[e,t,n]);return r.filter(qv)},$v=function(e){return e.fold(ve,ve,ve,ve)},Kv=function(e){return e.fold(he("before"),he("start"),he("end"),he("after"))},Xv=function(e){return e.fold(Lv.before,Lv.before,Lv.after,Lv.after)},Yv=function(e){return e.fold(Lv.start,Lv.start,Lv.end,Lv.end)},Gv=function(e,t){return Kv(e)===Kv(t)&&$v(e)===$v(t)},Zv=function(e,t,n,r,o,i){return $s([Cp.findRootInline(t,n,r),Cp.findRootInline(t,n,o)],function(t,r){return t!==r&&Cp.hasSameParentBlock(n,t,r)?Lv.after(e?t:r):i}).getOr(i)},Jv=function(e,t){return e.fold(he(!0),function(e){return!Gv(e,t)})},Qv=function(t,n,r,o,i){var a=Cp.normalizePosition(t,i),u=Ad.fromPosition(t,r,a).map(e(Cp.normalizePosition,t)),c=u.fold(function(){return o.map(Xv)},function(i){return Wv(n,r,i).map(e(Zv,t,n,r,a,i)).filter(e(Jv,o))});return c.filter(qv)},eb=function(e,t){return e?t.fold(pe(Re.some,Lv.start),Re.none,pe(Re.some,Lv.after),Re.none):t.fold(Re.none,pe(Re.some,Lv.before),Re.none,pe(Re.some,Lv.end))},tb=function(t,n,r,o){var i=Cp.normalizePosition(t,o),a=Wv(n,r,i);return Wv(n,r,i).bind(e(eb,t)).orThunk(function(){return Qv(t,n,r,a,o)})},nb={readLocation:Wv,findLocation:tb,prevLocation:e(tb,!1),nextLocation:e(tb,!0),getElement:$v,outside:Xv,inside:Yv},rb=function(e){return Le(e.selection.getSel().modify)},ob=function(e,t,n){var r=e?1:-1;return t.setRng(bl(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},ib=function(e,t){var n=t.selection.getRng(),r=e?bl.fromRangeEnd(n):bl.fromRangeStart(n);return!!rb(t)&&(e&&us(r)?ob(!0,t.selection,r):!(e||!cs(r))&&ob(!1,t.selection,r))},ab={hasSelectionModifyApi:rb,moveByWord:ib},ub=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},cb=function(e){return e.settings.inline_boundaries!==!1},sb=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},lb=function(e,t,n){return Ov.renderCaret(t,n).map(function(t){return ub(e,t),n})},fb=function(t,n,r){var o=t.getBody(),i=bl.fromRangeStart(t.selection.getRng()),a=e(Cp.isInlineTarget,t),u=nb.findLocation(r,a,o,i);return u.bind(function(e){return lb(t,n,e)})},db=function(t,n,r){var o=$e(n.select('*[data-mce-selected="inline-boundary"]'),t),i=$e(r,t);je(ot(o,i),e(sb,!1)),je(ot(i,o),e(sb,!0))},mb=function(e,t){if(e.selection.isCollapsed()&&e.composing!==!0&&t.get()){var n=bl.fromRangeStart(e.selection.getRng());bl.isTextPosition(n)&&Cp.isAtZwsp(n)===!1&&(ub(e,mf.removeAndReposition(t.get(),n)),t.set(null))}},gb=function(e,t,n,r){if(t.selection.isCollapsed()){var o=$e(r,e);je(o,function(r){var o=bl.fromRangeStart(t.selection.getRng());nb.readLocation(e,t.getBody(),o).bind(function(e){return lb(t,n,e)})})}},pb=function(e,t,n){return function(){return!!cb(e)&&fb(e,t,n).isSome()}},hb=function(e,t,n){return function(){return!!cb(t)&&ab.moveByWord(e,t)}},vb=function(t){var n=dc(null),r=e(Cp.isInlineTarget,t);return t.on("NodeChange",function(e){cb(t)&&(db(r,t.dom,e.parents),mb(t,n),gb(r,t,n,e.parents))}),n},bb=e(hb,!0),yb=e(hb,!1),Cb={move:pb,moveNextWord:bb,movePrevWord:yb,setupSelectedState:vb,setCaretPosition:ub},xb=function(e){return e.settings.inline_boundaries!==!1},wb=function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},Eb=function(e){return $s([Ad.firstPositionIn(e),Ad.lastPositionIn(e)],function(t,n){var r=Cp.normalizePosition(!0,t),o=Cp.normalizePosition(!1,n);return Ad.nextPosition(e,r).map(function(e){return e.isEqual(o)}).getOr(!0)}).getOr(!0)},Nb=function(e,t){return function(n){return Ov.renderCaret(t,n).map(function(t){return Cb.setCaretPosition(e,t),!0}).getOr(!1)}},Sb=function(t,n,r,o){var i=t.getBody(),a=e(Cp.isInlineTarget,t);t.undoManager.ignore(function(){t.selection.setRng(wb(r,o)),t.execCommand("Delete"),nb.readLocation(a,i,bl.fromRangeStart(t.selection.getRng())).map(nb.inside).map(Nb(t,n))}),t.nodeChanged()},kb=function(e,t){var n=Lf(t,e);return n?n:e},Tb=function(t,n,r,o){var i=kb(t.getBody(),o.container()),a=e(Cp.isInlineTarget,t),u=nb.readLocation(a,i,o);return u.bind(function(e){return r?e.fold(he(Re.some(nb.inside(e))),Re.none,he(Re.some(nb.outside(e))),Re.none):e.fold(Re.none,he(Re.some(nb.outside(e))),Re.none,he(Re.some(nb.inside(e))))}).map(Nb(t,n)).getOrThunk(function(){var e=Ad.navigate(r,i,o),c=e.bind(function(e){return nb.readLocation(a,i,e)});return u.isSome()&&c.isSome()?Cp.findRootInline(a,i,o).map(function(e){return!!Eb(e)&&(lv.deleteElement(t,r,Qo.fromDom(e)),!0)}).getOr(!1):c.bind(function(i){return e.map(function(e){return r?Sb(t,n,o,e):Sb(t,n,e,o),!0})}).getOr(!1)})},Rb=function(e,t,n){if(e.selection.isCollapsed()&&xb(e)){var r=bl.fromRangeStart(e.selection.getRng());return Tb(e,t,n,r)}return!1},Ab={backspaceDelete:Rb},Bb=Ri("start","end"),Db=Ri("rng","table","cells"),_b=wh.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),Ob=function(t){return e(Hi,t)},Pb=function(e,t){return Bc(Qo.fromDom(e),"td,th",t)},Ib=function(e,t){return Rc(e,"table",t)},Lb=function(e){return Hi(e.start(),e.end())===!1},Fb=function(e,t){return Ib(e.start(),t).bind(function(n){return Ib(e.end(),t).bind(function(e){return Hi(n,e)?Re.some(n):Re.none()})})},Mb=function(e){return Sc(e,"td,th")},Ub=function(e,t){return Ib(e.start(),t).bind(function(t){return ct(Mb(t)).map(function(t){return Bb(e.start(),t)})})},zb=function(e,t){var n=Pb(t.startContainer,e),r=Pb(t.endContainer,e);return t.collapsed?Re.none():$s([n,r],Bb).fold(function(){return n.fold(function(){return r.bind(function(t){return Ib(t,e).bind(function(e){return ut(Mb(e)).map(function(e){return Bb(e,t)})})})},function(t){return Ib(t,e).bind(function(e){return ct(Mb(e)).map(function(e){return Bb(t,e)})})})},function(t){return Vb(e,t)?Re.none():Ub(t,e)})},Vb=function(e,t){return Fb(t,e).isSome()},Hb=function(e,t){var n=Pb(e.startContainer,t),r=Pb(e.endContainer,t);return $s([n,r],Bb).filter(Lb).filter(function(e){return Vb(t,e)}).orThunk(function(){return zb(t,e)})},jb=function(e,t){return Fb(e,t).map(function(t){return Db(e,t,Mb(t))})},qb=function(e,t){var n=Ob(e);return Hb(t,n).bind(function(e){return jb(e,n)})},Wb=function(e,t){return Ge(e,function(e){return Hi(e,t)})},$b=function(e){return $s([Wb(e.cells(),e.rng().start()),Wb(e.cells(),e.rng().end())],function(t,n){return e.cells().slice(t,n+1)})},Kb=function(e){return $b(e).map(function(t){var n=e.cells();return t.length===n.length?_b.removeTable(e.table()):_b.emptyCells(t)})},Xb=function(e){return _b.emptyCells(e)},Yb=function(e,t){return qb(e,t).bind(Kb)},Gb={getActionFromRange:Yb,getActionFromCells:Xb},Zb=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Jb=function(e){return et(e,function(e){var t=Hs(e);return t?[Qo.fromDom(t)]:[]})},Qb=function(e){return Zb(e).length>1},ey={getRanges:Zb,getSelectedNodes:Jb,hasMultipleRanges:Qb},ty=function(e){return $e(ey.getSelectedNodes(e),ja)},ny=function(e){var t=Sc(e,"td[data-mce-selected],th[data-mce-selected]");return t},ry=function(e,t){var n=ny(t),r=ty(e);return n.length>0?n:r},oy=function(e){return ry(ey.getRanges(e.selection.getSel()),Qo.fromDom(e.getBody()))},iy={getCellsFromRanges:ty,getCellsFromElement:ny,getCellsFromElementOrRanges:ry,getCellsFromEditor:oy},ay=function(e,t){return je(t,bg.fillWithPaddingBr),e.selection.setCursorLocation(t[0].dom(),0),!0},uy=function(e,t){return lv.deleteElement(e,!1,t),!0},cy=function(t,n,r){return Gb.getActionFromRange(n,r).map(function(n){return n.fold(e(uy,t),e(ay,t))})},sy=function(e,t){return py(e,t)},ly=function(e,t,n,r){return my(t,r).fold(function(){return cy(e,t,n)},function(t){return sy(e,t)}).getOr(!1)},fy=function(e,t){var n=Qo.fromDom(e.getBody()),r=e.selection.getRng(),o=iy.getCellsFromEditor(e);return 0!==o.length?ay(e,o):ly(e,n,r,t)},dy=function(e,t){return Ye(Jp.parentsAndSelf(t,e),ja)},my=function(e,t){return Ye(Jp.parentsAndSelf(t,e),function(e){return"caption"===ri(e)})},gy=function(e,t,n,r,o){return Ad.navigate(n,e.getBody(),o).bind(function(e){return dy(t,Qo.fromDom(e.getNode())).map(function(e){return Hi(e,r)===!1})})},py=function(e,t){return bg.fillWithPaddingBr(t),e.selection.setCursorLocation(t.dom(),0),Re.some(!0)},hy=function(e,t,n,r){return Ad.firstPositionIn(e.dom()).bind(function(o){return Ad.lastPositionIn(e.dom()).map(function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)})}).getOr(!0)},vy=function(e,t){return py(e,t)},by=function(e,t,n){return my(e,Qo.fromDom(n.getNode())).map(function(e){return Hi(e,t)===!1})},yy=function(e,t,n,r,o){return Ad.navigate(n,e.getBody(),o).bind(function(i){return hy(r,n,o,i)?vy(e,r):by(t,r,i)}).or(Re.some(!0))},Cy=function(e,t,n,r){var o=bl.fromRangeStart(e.selection.getRng());return dy(n,r).bind(function(r){return Fp.isEmpty(r)?py(e,r):gy(e,n,t,r,o)})},xy=function(e,t,n,r){var o=bl.fromRangeStart(e.selection.getRng());return Fp.isEmpty(r)?py(e,r):yy(e,n,t,r,o)},wy=function(e,t,n){var r=Qo.fromDom(e.getBody());return my(r,n).fold(function(){return Cy(e,t,r,n)},function(n){return xy(e,t,r,n)}).getOr(!1)},Ey=function(e,t){var n=Qo.fromDom(e.selection.getStart(!0)),r=iy.getCellsFromEditor(e);return e.selection.isCollapsed()&&0===r.length?wy(e,t,n):fy(e,n)},Ny={backspaceDelete:Ey},Sy=function(e,t){e.getDoc().execCommand(t,!1,null)},ky=function(e){Cv.backspaceDelete(e,!1)||Ab.backspaceDelete(e,!1)||dh.backspaceDelete(e,!1)||Ny.backspaceDelete(e)||Ch.backspaceDelete(e,!1)||(Sy(e,"Delete"),kp.paddEmptyBody(e))},Ty=function(e){Cv.backspaceDelete(e,!0)||Ab.backspaceDelete(e,!0)||dh.backspaceDelete(e,!0)||Ny.backspaceDelete(e)||Ch.backspaceDelete(e,!0)||Sy(e,"ForwardDelete")},Ry={deleteCommand:ky,forwardDeleteCommand:Ty},Ay=function(e,t,n){var r=e.getParam(t,n);if(r.indexOf("=")!==-1){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},By=function(e){return e.getParam("iframe_attrs",{})},Dy=function(e){return e.getParam("doctype","<!DOCTYPE html>")},_y=function(e){return e.getParam("document_base_url","")},Oy=function(e){return Ay(e,"body_id","tinymce")},Py=function(e){return Ay(e,"body_class","")},Iy=function(e){return e.getParam("content_security_policy","")},Ly=function(e){return e.getParam("br_in_pre",!0)},Fy=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return t===!1?"":t},My=function(e){return e.getParam("forced_root_block_attrs",{})},Uy=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},zy=function(e){return e.getParam("no_newline_selector","")},Vy=function(e){return e.getParam("keep_styles",!0)},Hy=function(e){return e.getParam("end_container_on_empty_block",!1)},jy=function(e){return xr.explode(e.getParam("font_size_style_values",""))},qy=function(e){return xr.explode(e.getParam("font_size_classes",""))},Wy=function(e){return e.getParam("images_dataimg_filter",he(!0),"function")},$y=function(e){return e.getParam("automatic_uploads",!0,"boolean")},Ky=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},Xy=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Yy=function(e){return e.getParam("images_upload_url","","string")},Gy=function(e){return e.getParam("images_upload_base_path","","string")},Zy=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},Jy=function(e){return e.getParam("images_upload_handler",null,"function")},Qy=function(e){return e.getParam("content_css_cors",!1,"boolean")},eC={getIframeAttrs:By,getDocType:Dy,getDocumentBaseUrl:_y,getBodyId:Oy,getBodyClass:Py,getContentSecurityPolicy:Iy,shouldPutBrInPre:Ly,getForcedRootBlock:Fy,getForcedRootBlockAttrs:My,getBrNewLineSelector:Uy,getNoNewLineSelector:zy,shouldKeepStyles:Vy,shouldEndContainerOnEmptyBlock:Hy,getFontStyleValues:jy,getFontSizeClasses:qy,getImagesDataImgFilter:Wy,isAutomaticUploadsEnabled:$y,shouldReuseFileName:Ky,shouldReplaceBlobUris:Xy,getImageUploadUrl:Yy,getImageUploadBasePath:Gy,getImagesUploadCredentials:Zy,getImagesUploadHandler:Jy,shouldUseContentCssCors:Qy},tC=function(e,t,n){var r=function(t){return Ti(t,e)},o=function(e){return Hi(Qo.fromDom(t),e)};return Tc(Qo.fromDom(n),function(e){return r(e).isSome()},o).bind(r)},nC=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},rC=function(e,t){return/[0-9.]+px$/.test(e)?nC(72*parseInt(e,10)/96,t||0)+"pt":e},oC=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},iC=function(e,t){return Re.from(Ku.DOM.getStyle(t,e,!0))},aC=function(e){return function(t,n){return Re.from(n).map(Qo.fromDom).filter(ai).bind(function(n){return tC(e,t,n.dom()).or(iC(e,n.dom()))}).getOr("")}},uC={getFontSize:aC("font-size"),getFontFamily:pe(oC,aC("font-family")),toPt:rC},cC=function(e){return Ad.firstPositionIn(e.getBody()).map(function(e){var t=e.container();return cu.isText(t)?t.parentNode:t})},sC=function(e,t){return e.startContainer===t&&0===e.startOffset},lC=function(e){return Re.from(e.selection.getRng()).bind(function(t){var n=e.getBody();return sC(t,n)?Re.none():Re.from(e.selection.getStart(!0))})},fC=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=eC.getFontStyleValues(e),o=eC.getFontSizeClasses(e);return o?o[n-1]||t:r[n-1]||t}return t}return t},dC=function(e,t){e.formatter.toggle("fontname",{value:fC(e,t)}),e.nodeChanged()},mC=function(e){return lC(e).fold(function(){return cC(e).map(function(t){return uC.getFontFamily(e.getBody(),t)}).getOr("")},function(t){return uC.getFontFamily(e.getBody(),t)})},gC=function(e,t){e.formatter.toggle("fontsize",{value:fC(e,t)}),e.nodeChanged()},pC=function(e){return lC(e).fold(function(){return cC(e).map(function(t){return uC.getFontSize(e.getBody(),t)}).getOr("")},function(t){return uC.getFontSize(e.getBody(),t)})},hC=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},vC={isEq:hC},bC=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},yC=function(e,t,n){return null!==bC(e,t,n)},CC=function(e,t,n){return yC(e,t,function(e){return e.nodeName===n})},xC=function(e){return e&&"TABLE"===e.nodeName},wC=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},EC=function(e,t){return os(e)&&yC(e,t,Zl)===!1},NC=function(e,t,n){for(var r=new b(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(cu.isBr(t))return!0},SC=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},kC=function(e,t){for(;t&&t!==e;){if(cu.isContentEditableFalse(t))return!0;t=t.parentNode}return!1},TC=function(e,t,n,r,o){var i,a,u,c,s=e.getRoot(),l=e.schema.getNonEmptyElements();if(u=e.getParent(o.parentNode,e.isBlock)||s,r&&cu.isBr(o)&&t&&e.isEmpty(u))return Re.some(S(o.parentNode,e.nodeIndex(o)));for(i=new b(o,u);c=i[r?"prev":"next"]();){if("false"===e.getContentEditableParent(c)||EC(c,s))return Re.none();if(cu.isText(c)&&c.nodeValue.length>0)return CC(c,s,"A")===!1?Re.some(S(c,r?c.nodeValue.length:0)):Re.none();if(e.isBlock(c)||l[c.nodeName.toLowerCase()])return Re.none();a=c}return n&&a?Re.some(S(a,0)):Re.none()},RC=function(e,t,n,r){var o,i,a,u,c,s,l,f=e.getRoot(),d=!1;if(o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"],l=cu.isElement(o)&&i===o.childNodes.length,c=e.schema.getNonEmptyElements(),s=n,os(o))return Re.none();if(cu.isElement(o)&&i>o.childNodes.length-1&&(s=!1),cu.isDocument(o)&&(o=f,i=0),o===f){if(s&&(u=o.childNodes[i>0?i-1:0])){if(os(u))return Re.none();if(c[u.nodeName]||xC(u))return Re.none()}if(o.hasChildNodes()){if(i=Math.min(!s&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=cu.isText(o)&&l?o.data.length:0,!t&&o===f.lastChild&&xC(o))return Re.none();if(kC(f,o)||os(o))return Re.none();if(o.hasChildNodes()&&xC(o)===!1){u=o,a=new b(o,f);do{if(cu.isContentEditableFalse(u)||os(u)){d=!1;break}if(cu.isText(u)&&u.nodeValue.length>0){i=s?0:u.nodeValue.length,o=u,d=!0;break}if(c[u.nodeName.toLowerCase()]&&!wC(u)){i=e.nodeIndex(u),o=u.parentNode,s||i++,d=!0;break}}while(u=s?a.next():a.prev())}}}return t&&(cu.isText(o)&&0===i&&TC(e,l,t,!0,o).each(function(e){o=e.container(),i=e.offset(),d=!0}),cu.isElement(o)&&(u=o.childNodes[i],u||(u=o.childNodes[i-1]),!u||!cu.isBr(u)||SC(u,"A")||NC(e,u,!1)||NC(e,u,!0)||TC(e,l,t,!0,u).each(function(e){o=e.container(),i=e.offset(),d=!0}))),s&&!t&&cu.isText(o)&&i===o.nodeValue.length&&TC(e,l,t,!1,o).each(function(e){o=e.container(),i=e.offset(),d=!0}),d?Re.some(S(o,i)):Re.none()},AC=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=S.fromRangeStart(t);return RC(e,n,!0,r).each(function(e){n&&S.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||RC(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),vC.isEq(t,r)?Re.none():Re.some(r)},BC={normalize:AC},DC=function(e,t,n){for(var r,o=new b(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0},_C=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},OC=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},PC=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();BC.normalize(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var u=a.startOffset,c=a.startContainer;if(1===c.nodeType&&c.hasChildNodes()){var s=u>c.childNodes.length-1;c=c.childNodes[Math.min(u,c.childNodes.length-1)]||c,u=s&&3===c.nodeType?c.nodeValue.length:0}var l=i.getParent(c,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",m=t&&t.ctrlKey;"LI"!==d||m||(l=f),c&&3===c.nodeType&&u>=c.nodeValue.length&&(DC(e.schema,c,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),a.insertNode(n),_C(i,o,n),OC(i,o,n,r),e.undoManager.add()},IC=function(e,t){var n=Qo.fromTag("br");ec(Qo.fromDom(t),n),e.undoManager.add()},LC=function(e,t){MC(e.getBody(),t)||tc(Qo.fromDom(t),Qo.fromTag("br"));var n=Qo.fromTag("br");tc(Qo.fromDom(t),n),_C(e.dom,e.selection,n.dom()),OC(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},FC=function(e){return cu.isBr(e.getNode())},MC=function(e,t){return!!FC(bl.after(t))||Ad.nextPosition(e,bl.after(t)).map(function(e){return cu.isBr(e.getNode())}).getOr(!1)},UC=function(e){return e&&"A"===e.nodeName&&"href"in e},zC=function(e){return e.fold(he(!1),UC,UC,he(!1))},VC=function(t){var n=e(Cp.isInlineTarget,t),r=bl.fromRangeStart(t.selection.getRng());return nb.readLocation(n,t.getBody(),r).filter(zC)},HC=function(t,n){n.fold(ge,e(IC,t),e(LC,t),ge)},jC=function(t,n){var r=VC(t);r.isSome()?r.each(e(HC,t)):PC(t,n)},qC={insert:jC},WC=(wh.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),wh.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}])),$C=Ri("start","soffset","finish","foffset"),KC=(WC.domRange,WC.relative,WC.exact,Ko.detect().browser),XC=function(e,t){var n=ui(t)?Pm(t).length:na(t).length+1;return e>n?n:e<0?0:e},YC=function(e){return $C(e.start(),XC(e.soffset(),e.start()),e.finish(),XC(e.foffset(),e.finish()))},GC=function(e,t){return $i(e,t)||Hi(e,t)},ZC=function(e){return function(t){return GC(e,t.start())&&GC(e,t.finish())}},JC=function(e){return e.inline===!0||KC.isIE()},QC=function(e){return $C(Qo.fromDom(e.startContainer),e.startOffset,Qo.fromDom(e.endContainer),e.endOffset)},ex=function(e){var t=e.getSelection(),n=t&&0!==t.rangeCount?Re.from(t.getRangeAt(0)):Re.none();return n.map(QC)},tx=function(e){var t=Yi(e);return ex(t.dom()).filter(ZC(e))},nx=function(e,t){return Re.from(t).filter(ZC(e)).map(YC)},rx=function(e){var t=document.createRange();try{return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),Re.some(t)}catch(n){return Re.none()}},ox=function(e){var t=JC(e)?tx(Qo.fromDom(e.getBody())):Re.none();e.bookmark=t.isSome()?t:e.bookmark},ix=function(e,t){var n=Qo.fromDom(e.getBody()),r=JC(e)?Re.from(t):Re.none(),o=r.map(QC).filter(ZC(n));e.bookmark=o.isSome()?o:e.bookmark},ax=function(t){var n=t.bookmark?t.bookmark:Re.none();return n.bind(e(nx,Qo.fromDom(t.getBody()))).bind(rx)},ux=function(e){ax(e).each(function(t){e.selection.setRng(t)})},cx={store:ox,storeNative:ix,readRange:ex,restore:ux,getRng:ax,getBookmark:tx,validate:nx},sx=function(e,t,n,r,o,i){if("false"!==e.getContentEditable(i)){var a=n?"margin":"padding";if(a="TABLE"===i.nodeName?"margin":a,a+="rtl"===e.getStyle(i,"direction",!0)?"Right":"Left","outdent"===t){var u=Math.max(0,parseInt(i.style[a]||0,10)-r);e.setStyle(i,a,u?u+o:"")}else{var u=parseInt(i.style[a]||0,10)+r+o;e.setStyle(i,a,u)}}},lx=function(e){return Ua(e)||za(e)},fx=function(e){return Gi(e).map(lx).getOr(!1)},dx=function(e){return $e(He(e.selection.getSelectedBlocks(),Qo.fromDom),function(e){return!lx(e)&&!fx(e)})},mx=function(e,t){var n=e.settings,r=e.dom,o=e.selection,i=e.formatter,a=/[a-z%]+$/i.exec(n.indentation)[0],u=parseInt(n.indentation,10),c=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||n.forced_root_block||r.getParent(o.getNode(),r.isBlock)||i.apply("div"),je(dx(e),function(e){sx(r,t,c,u,a,e.dom())})},gx=xr.each,px=xr.extend,hx=xr.map,vx=xr.inArray,bx=xr.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),yx=function(e){var t,n,r=this,o={},i=function(){return!1},a=function(){return!0};e=e||{},t=e.scope||r,n=e.toggleEvent||i;var u=function(n,r){var u,c,l,f;if(n=n.toLowerCase(),r=r||{},r.type=n,r.target||(r.target=t),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=a},r.stopPropagation=function(){r.isPropagationStopped=a},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=a},r.isDefaultPrevented=i,r.isPropagationStopped=i,r.isImmediatePropagationStopped=i),e.beforeFire&&e.beforeFire(r),u=o[n])for(c=0,l=u.length;c<l;c++){if(f=u[c],f.once&&s(n,f.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(f.func.call(t,r)===!1)return r.preventDefault(),
r}return r},c=function(e,t,a,u){var c,s,l;if(t===!1&&(t=i),t)for(t={func:t},u&&xr.extend(t,u),s=e.toLowerCase().split(" "),l=s.length;l--;)e=s[l],c=o[e],c||(c=o[e]=[],n(e,!0)),a?c.unshift(t):c.push(t);return r},s=function(e,t){var i,a,u,c,s;if(e)for(c=e.toLowerCase().split(" "),i=c.length;i--;){if(e=c[i],a=o[e],!e){for(u in o)n(u,!1),delete o[u];return r}if(a){if(t)for(s=a.length;s--;)a[s].func===t&&(a=a.slice(0,s).concat(a.slice(s+1)),o[e]=a);else a.length=0;a.length||(n(e,!1),delete o[e])}}else{for(e in o)n(e,!1);o={}}return r},l=function(e,t,n){return c(e,t,n,{once:!0})},f=function(e){return e=e.toLowerCase(),!(!o[e]||0===o[e].length)};r.fire=u,r.on=c,r.off=s,r.once=l,r.has=f};yx.isNative=function(e){return!!bx[e.toLowerCase()]};var Cx,xx=function(e){return e._eventDispatcher||(e._eventDispatcher=new yx({scope:e,toggleEvent:function(t,n){yx.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},wx={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e)return t;if(t=xx(r).fire(e,t,n),n!==!1&&r.parent)for(var o=r.parent();o&&!t.isPropagationStopped();)o.fire(e,t,!1),o=o.parent();return t},on:function(e,t,n){return xx(this).on(e,t,n)},off:function(e,t){return xx(this).off(e,t)},once:function(e,t){return xx(this).once(e,t)},hasEventListeners:function(e){return xx(this).has(e)}},Ex=function(e,t){return e.fire("PreProcess",t)},Nx=function(e,t){return e.fire("PostProcess",t)},Sx=function(e){return e.fire("remove")},kx=function(e,t){return e.fire("SwitchMode",{mode:t})},Tx=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},Rx=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},Ax={firePreProcess:Ex,firePostProcess:Nx,fireRemove:Sx,fireSwitchMode:kx,fireObjectResizeStart:Tx,fireObjectResized:Rx},Bx=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},Dx=function(e,t,n){Ec(e,t)&&n===!1?wc(e,t):n&&Cc(e,t)},_x=function(e,t){Dx(Qo.fromDom(e.getBody()),"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable="false"):(e.readonly=!1,e.getBody().contentEditable="true",Bx(e,"StyleWithCSS",!1),Bx(e,"enableInlineTableEditing",!1),Bx(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},Ox=function(e,t){t!==Px(e)&&(e.initialized?_x(e,"readonly"===t):e.on("init",function(){_x(e,"readonly"===t)}),Ax.fireSwitchMode(e,t))},Px=function(e){return e.readonly?"readonly":"design"},Ix=function(e){return e.readonly===!0},Lx=Ku.DOM,Fx=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=Lx.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},Mx=function(e){return!e.hidden&&!e.readonly},Ux=function(e,t,n){Mx(e)?e.fire(t,n):Ix(e)&&n.preventDefault()},zx=function(e,t){var n,r;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=Fx(e,t),e.settings.event_root){if(Cx||(Cx={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&Cx){for(t in Cx)e.dom.unbind(Fx(e,t));Cx=null}})),Cx[t])return;r=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||Lx.isChildOf(r,a))&&Ux(o[i],t,n)}},Cx[t]=r,Lx.bind(n,t,r)}else r=function(n){Ux(e,t,n)},Lx.bind(n,t,r),e.delegates[t]=r},Vx={bindPendingEventDelegates:function(){var e=this;xr.each(e._pendingNativeEvents,function(t){zx(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?zx(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(Fx(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),r=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(Fx(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&r&&(n.onload=null,r.unbind(t.getWin()),r.unbind(t.getDoc())),r&&(r.unbind(n),r.unbind(t.getContainer()))}};Vx=xr.extend({},wx,Vx);var Hx,jx=Vx,qx=xr.each,Wx=xr.explode,$x={f9:120,f10:121,f11:122},Kx=xr.makeMap("alt,ctrl,shift,meta,access"),Xx=function(e){var t=Ki(e).dom();return e.dom()===t.activeElement},Yx=function(e){var t=void 0!==e?e.dom():document;return Re.from(t.activeElement).map(Qo.fromDom)},Gx=function(e){return Yx(Ki(e)).filter(function(t){return e.dom().contains(t.dom())})},Zx=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})},Jx=function(e){return e.collapsed?Re.from(js(e.startContainer,e.startOffset)).map(Qo.fromDom):Re.none()},Qx=function(e,t){return Jx(t).bind(function(t){return Ha(t)?Re.some(t):$i(e,t)===!1?Re.some(e):Re.none()})},ew=function(e,t){Qx(Qo.fromDom(e.getBody()),t).bind(function(e){return Ad.firstPositionIn(e.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},tw=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},nw=function(e){return Xx(e)||Gx(e).isSome()},rw=function(e){return e.iframeElement&&Xx(Qo.fromDom(e.iframeElement))},ow=function(e){var t=e.getBody();return t&&nw(Qo.fromDom(t))},iw=function(e){return e.inline?ow(e):rw(e)},aw=function(e){var t=e.selection,n=e.settings.content_editable,r=e.getBody(),o=t.getRng();e.quirks.refreshContentEditable();var i=Zx(e,t.getNode());return e.$.contains(r,i)?(tw(i),ew(e,o),void uw(e)):(void 0!==e.bookmark&&iw(e)===!1&&cx.getRng(e).each(function(t){e.selection.setRng(t),o=t}),n||(St.opera||tw(r),e.getWin().focus()),(St.gecko||n)&&(tw(r),ew(e,o)),void uw(e))},uw=function(e){return e.editorManager.setActive(e)},cw=function(e,t){e.removed||(t?uw(e):aw(e))},sw={focus:cw,hasFocus:iw},lw=function(e,t){var n=t.dom();return n[e]},fw=function(e,t){return parseInt(Si(t,e),10)},dw=e(lw,"clientWidth"),mw=e(lw,"clientHeight"),gw=e(fw,"margin-top"),pw=e(fw,"margin-left"),hw=function(e){return e.dom().getBoundingClientRect()},vw=function(e,t,n){var r=dw(e),o=mw(e);return t>=0&&n>=0&&t<=r&&n<=o},bw=function(e,t,n,r){var o=hw(t),i=e?o.left+t.dom().clientLeft+pw(t):0,a=e?o.top+t.dom().clientTop+gw(t):0,u=n-i,c=r-a;return{x:u,y:c}},yw=function(e,t,n){var r=Qo.fromDom(e.getBody()),o=e.inline?r:Xi(r),i=bw(e.inline,o,t,n);return vw(o,i.x,i.y)},Cw=function(e){return Re.from(e).map(Qo.fromDom)},xw=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return Cw(t).map(function(e){return $i(Ki(e),e)}).getOr(!1)},ww={isXYInContentArea:yw,isEditorAttachedToDom:xw},Ew=w.PluginManager,Nw=function(e,t){for(var n in Ew.urls){var r=Ew.urls[n]+"/plugin"+t+".js";if(r===e)return n}return null},Sw=function(e,t){var n=Nw(t,e.suffix);return n?"Failed to load plugin: "+n+" from url "+t:"Failed to load plugin url: "+t},kw=function(e,t){e.notificationManager.open({type:"error",text:t})},Tw=function(e,t){e._skinLoaded?kw(e,t):e.on("SkinLoaded",function(){kw(e,t)})},Rw=function(e,t){Tw(e,"Failed to upload image: "+t)},Aw=function(e,t){Tw(e,Sw(e,t))},Bw=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,arguments):r.log.apply(r,arguments))},Dw={pluginLoadError:Aw,uploadError:Rw,displayError:Tw,initError:Bw},_w=w.PluginManager,Ow=w.ThemeManager,Pw=function(e){var t=pt.getOrDie("requestAnimationFrame");t(e)},Iw=function(e){var t=pt.getOrDie("atob");return t(e)},Lw={atob:Iw,requestAnimationFrame:Pw},Fw=function(e){return new Tt(function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var o=L();o.open("GET",e,!0),o.responseType="blob",o.onload=function(){200===this.status?t(this.response):r()},o.onerror=r,o.send()}catch(i){r()}})},Mw=function(e){var t,n,r=decodeURIComponent(e).split(",");return n=/data:([^;]+)/.exec(r[0]),n&&(t=n[1]),{type:t,data:r[1]}},Uw=function(e){return new Tt(function(t){var n,r,o,i=Mw(e);try{n=Lw.atob(i.data)}catch(a){return void t(new Blob([]))}for(r=U(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);t(new Blob([r],{type:i.type}))})},zw=function(e){return 0===e.indexOf("blob:")?Fw(e):0===e.indexOf("data:")?Uw(e):null},Vw=function(e){return new Tt(function(t){var n=M();n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},Hw={uriToBlob:zw,blobToDataUri:Vw,parseDataUri:Mw},jw=0,qw=function(e){return(e||"blobid")+jw++},Ww=function(e,t,n,r){var o,i;return 0===t.src.indexOf("blob:")?(i=e.getByUri(t.src),void(i?n({image:t,blobInfo:i}):Hw.uriToBlob(t.src).then(function(r){Hw.blobToDataUri(r).then(function(a){o=Hw.parseDataUri(a).data,i=e.create(qw(),r,o),e.add(i),n({image:t,blobInfo:i})})},function(e){r(e)}))):(o=Hw.parseDataUri(t.src).data,i=e.findFirst(function(e){return e.base64()===o}),void(i?n({image:t,blobInfo:i}):Hw.uriToBlob(t.src).then(function(r){i=e.create(qw(),r,o),e.add(i),n({image:t,blobInfo:i})},function(e){r(e)})))},$w=function(e){return e?st(e.getElementsByTagName("img")):[]},Kw=0,Xw=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)},t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()},Yw=function(e){return e+Kw++ +Xw()},Gw={uuid:Yw},Zw=function(e,t){return e.hasOwnProperty(t.nodeName)},Jw=function(e,t){return!!cu.isText(t)||!!cu.isElement(t)&&(!Zw(e,t)&&!Qd.isBookmarkNode(t))},Qw=function(e,t,n){return Ve(Jp.parents(Qo.fromDom(n),Qo.fromDom(t)),function(t){return Zw(e,t.dom())})},eE=function(e,t){if(cu.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||Zw(e,t.nextSibling)))return!0}return!1},tE=function(e){var t,n,r,o,i,a,u,c,s,l,f,d=e.settings,m=e.dom,g=e.selection,p=e.schema,h=p.getBlockElements(),v=g.getStart(),b=e.getBody();if(f=d.forced_root_block,v&&cu.isElement(v)&&f&&(l=b.nodeName.toLowerCase(),p.isValidChild(l,f.toLowerCase())&&!Qw(h,b,v))){for(t=g.getRng(),n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,s=sw.hasFocus(e),v=b.firstChild;v;)if(Jw(h,v)){if(eE(h,v)){u=v,v=v.nextSibling,m.remove(u);continue}a||(a=m.create(f,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(a,v),c=!0),u=v,v=v.nextSibling,a.appendChild(u)}else a=null,v=v.nextSibling;c&&s&&(t.setStart(n,r),t.setEnd(o,i),g.setRng(t),e.nodeChanged())}},nE=function(t){t.settings.forced_root_block&&t.on("NodeChange",e(tE,t))},rE={setup:nE},oE=function(e){var t=e.startContainer,n=e.startOffset;return cu.isText(t)?0===n?Re.some(Qo.fromDom(t)):Re.none():Re.from(t.childNodes[n]).map(Qo.fromDom)},iE=function(e){var t=e.endContainer,n=e.endOffset;return cu.isText(t)?n===t.data.length?Re.some(Qo.fromDom(t)):Re.none():Re.from(t.childNodes[n-1]).map(Qo.fromDom)},aE=function(e){return oa(e).fold(he([e]),function(t){return[e].concat(aE(t))})},uE=function(e){return ia(e).fold(he([e]),function(t){return"br"===ri(t)?Ji(t).map(function(t){return[e].concat(uE(t))}).getOr([]):[e].concat(uE(t))})},cE=function(t,n){return $s([oE(n),iE(n)],function(n,r){var o=Ye(aE(t),e(Hi,n)),i=Ye(uE(t),e(Hi,r));return o.isSome()&&i.isSome()}).getOr(!1)},sE=function(e,t,n,r){var o=n,i=new b(n,o),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==xr.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(St.ie&&St.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},lE=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},fE=function(e){var t,n,r,o;return o=e.getBoundingClientRect(),t=e.ownerDocument,n=t.documentElement,r=t.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}},dE=function(e){return e.inline?fE(e.getBody()):{left:0,top:0}},mE=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},gE=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o},pE=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=fE(e.getContentAreaContainer()),r=gE(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},hE=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},vE=function(e,t){return hE(dE(e),mE(e),pE(e,t))},bE={calc:vE},yE=cu.isContentEditableFalse,CE=cu.isContentEditableTrue,xE=function(e,t){return yE(t)&&t!==e},wE=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!yE(t)},EE=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},NE=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i},SE=function(e,t){e.parentNode!==t&&t.appendChild(e)},kE=function(e,t,n,r,o,i){var a=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+r>i&&(u=t.pageY+r-i),e.style.width=n-a+"px",e.style.height=r-u+"px"},TE=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},RE=function(e){return 0===e.button},AE=function(e){return e.element},BE=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},DE=function(e,t){return function(n){if(RE(n)){var r=Ye(t.dom.getParents(n.target),Gs.or(yE,CE)).getOr(null);if(xE(t.getBody(),r)){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?i.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?i.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-o.x,e.relY=n.pageY-o.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=NE(t,r,e.width,e.height)}}}},_E=function(e,t){var n=Pt.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(r){var o=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(AE(e)&&!e.dragging&&o>10){var i=t.fire("dragstart",{target:e.element});if(i.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var a=BE(e,bE.calc(t,r));SE(e.ghost,t.getBody()),kE(e.ghost,a,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},OE=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},PE=function(e,t){return function(n){if(e.dragging&&wE(t,OE(t.selection),e.element)){var r=EE(e.element),o=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,t.undoManager.transact(function(){TE(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}LE(e)}},IE=function(e,t){return function(){e.dragging&&t.fire("dragend"),LE(e)}},LE=function(e){e.dragging=!1,e.element=null,TE(e.ghost)},FE=function(e){var t,n,r,o,i,a,u={};t=Ku.DOM,a=document,n=DE(u,e),r=_E(u,e),o=PE(u,e),i=IE(u,e),e.on("mousedown",n),e.on("mousemove",r),e.on("mouseup",o),t.bind(a,"mousemove",r),t.bind(a,"mouseup",i),e.on("remove",function(){t.unbind(a,"mousemove",r),t.unbind(a,"mouseup",i)})},ME=function(e){e.on("drop",function(t){var n="undefined"!=typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(yE(n)||yE(e.dom.getContentEditableParent(n)))&&t.preventDefault()})},UE=function(e){FE(e),ME(e)},zE={init:UE},VE=function(e){var t=function(t){return He(t,function(t){return t=_s(t),t.node=e,t})};if(cu.isElement(e))return t(e.getClientRects());if(cu.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},HE=function(e){return Xe(e,function(e,t){return e.concat(VE(t))},[])};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(Hx||(Hx={}));var jE=function(e,t,n,r){for(;r=If(r,e,Bs,t);)if(n(r))return},qE=function(e,t,n,r,o,i){var a,u,c=0,s=[],l=function(r){var i,a,l;for(l=HE([r]),e===-1&&(l=l.reverse()),i=0;i<l.length;i++)if(a=l[i],!n(a,u)){if(s.length>0&&t(a,cr.last(s))&&c++,a.line=c,o(a))return!0;s.push(a)}};return(u=cr.last(i.getClientRects()))?(a=i.getNode(),l(a),jE(e,r,l,a),s):s},WE=function(e,t){return t.line>e},$E=function(e,t){return t.line===e},KE=e(qE,Hx.Up,Ls,Fs),XE=e(qE,Hx.Down,Fs,Ls),YE=function(e,t,n,r){var o,i,a,u,c,s,l=hd(t),f=[],d=0,m=function(t){return 1===e?cr.last(t.getClientRects()):cr.last(t.getClientRects())};1===e?(o=l.next,i=Fs,a=Ls,u=bl.after(r)):(o=l.prev,i=Ls,a=Fs,u=bl.before(r)),s=m(u);do if(u.isVisible()&&(c=m(u),!a(c,s))){if(f.length>0&&i(c,cr.last(f))&&d++,c=_s(c),c.position=u,c.line=d,n(c))return f;f.push(c)}while(u=o(u));return f},GE=function(e){return function(t){return WE(e,t)}},ZE=function(e){return function(t){return $E(e,t)}},JE=cu.isContentEditableFalse,QE=If,eN=function(e,t){return Math.abs(e.left-t)},tN=function(e,t){return Math.abs(e.right-t)},nN=function(e,t){return e>=t.left&&e<=t.right},rN=function(e,t){return cr.reduce(e,function(e,n){var r,o;return r=Math.min(eN(e,t),tN(e,t)),o=Math.min(eN(n,t),tN(n,t)),nN(t,n)?n:nN(t,e)?e:o===r&&JE(n.node)?n:o<r?n:e})},oN=function(e,t,n,r){for(;r=QE(r,e,Bs,t);)if(n(r))return},iN=function(t,n){var r=[],o=function(e,t){var o;return o=$e(HE([t]),function(t){return!e(t,n)}),r=r.concat(o),0===o.length};return r.push(n),oN(Hx.Up,t,e(o,Ls),n.node),oN(Hx.Down,t,e(o,Fs),n.node),r},aN=function(e){return $e(st(e.getElementsByTagName("*")),xf)},uN=function(e,t){return{node:e.node,before:eN(e,t)<tN(e,t)}},cN=function(e,t,n){var r,o=HE(aN(e)),i=$e(o,function(e){return n>=e.top&&n<=e.bottom});return r=rN(i,t),r&&(r=rN(iN(e,r),t),r&&xf(r.node))?uN(r,t):null},sN=function(e,t,n){return!n.collapsed&&Xe(n.getClientRects(),function(n,r){return n||Ms(r,e,t)},!1)},lN={isXYWithinRange:sN},fN=cu.isContentEditableTrue,dN=cu.isContentEditableFalse,mN=function(e,t,n,r,o){return t._selectionOverrides.showCaret(e,n,r,o)},gN=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},pN=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?null:gN(t)},hN=function(e,t,n){var r=qf(1,e.getBody(),t),o=bl.fromRangeStart(r),i=o.getNode();if(dN(i))return mN(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(dN(a))return mN(1,e,a,!1,!1);var u=e.dom.getParent(o.getNode(),function(e){return dN(e)||fN(e)});return dN(u)?mN(1,e,u,!1,n):null},vN=function(e,t,n){if(!t||!t.collapsed)return t;var r=hN(e,t,n);return r?r:t},bN=function(e){var t=lc(function(){if(!e.removed){var t=e.selection.getRng();if(t.collapsed){var n=vN(e,e.selection.getRng(),!1);e.selection.setRng(n)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},yN={setup:bN},CN={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return St.mac?e.metaKey:e.ctrlKey&&!e.altKey}},xN=cu.isContentEditableTrue,wN=cu.isContentEditableFalse,EN=Gf,NN=Yf,SN=function(e,t){for(var n=e.getBody();t&&t!==n;){if(xN(t)||wN(t))return t;t=t.parentNode}return null},kN=function(e){var t,n=function(t){return e.dom.isBlock(t)},r=e.getBody(),o=yf(e.getBody(),n,function(){return sw.hasFocus(e)}),i="sel-"+e.dom.uniqueId(),a=function(t){return e.dom.hasClass(t,"mce-offscreen-selection")},u=function(){var t=e.dom.get(i);return t?t.getElementsByTagName("*")[0]:t},c=function(t){t&&e.selection.setRng(t)},s=function(){return e.selection.getRng()},l=function(t,n,r,i){void 0===i&&(i=!0);var a;return a=e.fire("ShowCaret",{target:n,direction:t,before:r}),a.isDefaultPrevented()?null:(i&&e.selection.scrollIntoView(n,t===-1),o.show(r,n))},f=function(e,t){return t=qf(e,r,t),e===-1?bl.fromRangeStart(t):bl.fromRangeEnd(t)},d=function(t){t.hasAttribute("data-mce-caret")&&(gs(t),c(s()),e.selection.scrollIntoView(t[0]))},m=function(){e.on("mouseup",function(t){var n=s();n.collapsed&&ww.isXYInContentArea(e,t.clientX,t.clientY)&&c(hN(e,n,!1))}),e.on("click",function(t){var n;n=SN(e,t.target),n&&(wN(n)&&(t.preventDefault(),e.focus()),xN(n)&&e.dom.isChildOf(n,e.selection.getNode())&&b())}),e.on("blur NewBlock",function(){b()}),e.on("ResizeWindow FullscreenStateChanged",function(){return o.reposition()});var n=function(e){var t=!1;e.on("touchstart",function(){t=!1}),e.on("touchmove",function(){t=!0}),e.on("touchend",function(n){var r=SN(e,n.target);wN(r)&&(t||(n.preventDefault(),v(pN(e,r))))})},i=function(e){var t=hd(e);if(!e.firstChild)return!1;var n=bl.before(e.firstChild),r=t.next(n);return r&&!NN(r)&&!EN(r)},f=function(t,n){var r=e.dom.getParent(t,e.dom.isBlock),o=e.dom.getParent(n,e.dom.isBlock);return r===o},d=function(t,n){var r=e.dom.getParent(t,e.dom.isBlock),o=e.dom.getParent(n,e.dom.isBlock);return!(!r||!e.dom.isChildOf(r,o)||wN(SN(e,r))!==!1)||r&&!f(r,o)&&i(r)};n(e),e.on("mousedown",function(t){var n,o=t.target;if((o===r||"HTML"===o.nodeName||e.dom.isChildOf(o,r))&&ww.isXYInContentArea(e,t.clientX,t.clientY)!==!1)if(n=SN(e,o))wN(n)?(t.preventDefault(),v(pN(e,n))):(b(),xN(n)&&t.shiftKey||lN.isXYWithinRange(t.clientX,t.clientY,e.selection.getRng())||(C(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(xf(o)===!1){b(),C();var i=cN(r,t.clientX,t.clientY);if(i&&!d(t.target,i.node)){t.preventDefault();var a=l(1,i.node,i.before,!1);e.getBody().focus(),c(a)}}}),e.on("keypress",function(t){if(!CN.modifierPressed(t))switch(t.keyCode){default:wN(e.selection.getNode())&&t.preventDefault()}}),e.on("getSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);n=n.cloneRange(),n.selectNode(t),e.range=n}}),e.on("setSelectionRange",function(e){var t;t=v(e.range,e.forward),t&&(e.range=t)});var m=function(e){return"mcepastebin"===e.id};e.on("AfterSetSelectionRange",function(e){var t=e.range;h(t)||m(t.startContainer.parentNode)||C(),a(t.startContainer.parentNode)||b()}),e.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!St.ie){var n=u();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText))}}),zE.init(e),yN.setup(e)},g=function(){var t=e.contentStyles,n=".mce-content-body";t.push(o.getCss()),t.push(n+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+n+" *[contentEditable=false] {cursor: default;}"+n+" *[contentEditable=true] {cursor: text;}")},p=function(e){return os(e)||fs(e)||ds(e)},h=function(e){return p(e.startContainer)||p(e.endContainer)},v=function(n,r){var o,a,u,c,s,d,m,g,p,v,b=e.$,y=e.dom;if(!n)return null;if(n.collapsed){if(!h(n))if(r===!1){if(g=f(-1,n),xf(g.getNode(!0)))return l(-1,g.getNode(!0),!1,!1);if(xf(g.getNode()))return l(-1,g.getNode(),!g.isAtEnd(),!1)}else{if(g=f(1,n),xf(g.getNode()))return l(1,g.getNode(),!g.isAtEnd(),!1);if(xf(g.getNode(!0)))return l(1,g.getNode(!0),!1,!1)}return null}return c=n.startContainer,s=n.startOffset,d=n.endOffset,3===c.nodeType&&0===s&&wN(c.parentNode)&&(c=c.parentNode,s=y.nodeIndex(c),c=c.parentNode),1!==c.nodeType?null:(d===s+1&&(o=c.childNodes[s]),wN(o)?(p=v=o.cloneNode(!0),m=e.fire("ObjectSelected",{target:o,targetClone:p}),m.isDefaultPrevented()?null:(a=Ac(Qo.fromDom(e.getBody()),"#"+i).fold(function(){return b([])},function(e){return b([e.dom()])}),p=m.targetClone,0===a.length&&(a=b('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",i),a.appendTo(e.getBody())),n=e.dom.createRng(),p===v&&St.ie?(a.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(p),n.setStartAfter(a[0].firstChild.firstChild),n.setEndAfter(p)):(a.empty().append("").append(p).append(""),n.setStart(a[0].firstChild,1),n.setEnd(a[0].lastChild,0)),a.css({top:y.getPos(o,e.getBody()).y}),a[0].focus(),u=e.selection.getSel(),u.removeAllRanges(),u.addRange(n),je(Sc(Qo.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){Ci(e,"data-mce-selected")}),o.setAttribute("data-mce-selected","1"),t=o,C(),n)):null)},b=function(){t&&(t.removeAttribute("data-mce-selected"),Ac(Qo.fromDom(e.getBody()),"#"+i).each(cc),t=null),Ac(Qo.fromDom(e.getBody()),"#"+i).each(cc),t=null},y=function(){o.destroy(),t=null},C=function(){o.hide()};return St.ceFalse&&(m(),g()),{showCaret:l,showBlockCaretContainer:d,hideFakeCaret:C,destroy:y}},TN=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},RN=function(e){return e.replace(/<!--|-->/g,"")},AN=function(e,t){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?e.allow_svg_data_urls===!1&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},BN=function(e,t,n){var r,o,i,a,u=1;for(a=e.getShortEndedElements(),i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,i.lastIndex=r=n;o=i.exec(t);){if(r=i.lastIndex,"/"===o[1])u--;else if(!o[1]){if(o[2]in a)continue;u++}if(0===u)break}return r};!function(e){e.findEndTag=BN}(W||(W={}));var DN=W,_N=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},ON=function(e,t){var n,r,o,i,a,u=t,c=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=e.schema;for(u=_N(e.getTempAttrs(),u),a=s.getShortEndedElements();i=c.exec(u);)r=c.lastIndex,o=i[0].length,n=a[i[1]]?r:DN.findEndTag(s,u,r),u=u.substring(0,r-o)+u.substring(n),c.lastIndex=r-o;return Qc.trim(u)},PN=ON,IN={trimExternal:PN,trimInternal:ON},LN=0,FN=1,MN=2,UN=function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),i=function(e,t,n){return{start:e,end:t,diag:n}},a=function(n,r,o,i,u){var s=c(n,r,o,i);if(null===s||s.start===r&&s.diag===r-i||s.end===n&&s.diag===n-o)for(var l=n,f=o;l<r||f<i;)l<r&&f<i&&e[l]===t[f]?(u.push([LN,e[l]]),++l,++f):r-n>i-o?(u.push([MN,e[l]]),++l):(u.push([FN,t[f]]),++f);else{a(n,s.start,o,s.start-s.diag,u);for(var d=s.start;d<s.end;++d)u.push([LN,e[d]]);a(s.end,r,s.end-s.diag,i,u)}},u=function(n,r,o,a){for(var u=n;u-r<a&&u<o&&e[u]===t[u-r];)++u;return i(n,u,r)},c=function(n,i,a,c){var s=i-n,l=c-a;if(0===s||0===l)return null;var f=s-l,d=l+s,m=(d%2===0?d:d+1)/2;r[1+m]=n,o[1+m]=i+1;var g,p,h,v,b;for(g=0;g<=m;++g){for(p=-g;p<=g;p+=2){for(h=p+m,p===-g||p!==g&&r[h-1]<r[h+1]?r[h]=r[h+1]:r[h]=r[h-1]+1,v=r[h],b=v-n+a-p;v<i&&b<c&&e[v]===t[b];)r[h]=++v,++b;if(f%2!==0&&f-g<=p&&p<=f+g&&o[h-f]<=r[h])return u(o[h-f],p+n-a,i,c)}for(p=f-g;p<=f+g;p+=2){for(h=p+m-f,p===f-g||p!==f+g&&o[h+1]<=o[h-1]?o[h]=o[h+1]-1:o[h]=o[h-1],v=o[h]-1,b=v-n+a-p;v>=n&&b>=a&&e[v]===t[b];)o[h]=v--,b--;if(f%2===0&&-g<=p&&p<=g&&o[h]<=r[h+f])return u(o[h],p+n-a,i,c)}}},s=[];return a(0,e.length,0,t.length,s),s},zN={KEEP:LN,DELETE:MN,INSERT:FN,diff:UN},VN=function(e){return cu.isElement(e)?e.outerHTML:cu.isText(e)?Tu.encodeRaw(e.data,!1):cu.isComment(e)?"<!--"+e.data+"-->":""},HN=function(e){var t,n,r;for(r=document.createElement("div"),t=document.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},jN=function(e,t,n){var r=HN(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},qN=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},WN=function(e,t){var n=0;je(e,function(e){e[0]===zN.KEEP?n++:e[0]===zN.INSERT?(jN(t,e[1],n),n++):e[0]===zN.DELETE&&qN(t,n)})},$N=function(e){return $e(He(st(e.childNodes),VN),function(e){return e.length>0})},KN=function(e,t){var n=He(st(t.childNodes),VN);return WN(zN.diff(n,e),t),t},XN={read:$N,write:KN},YN=dc(Re.none()),GN=function(){return YN.get().getOrThunk(function(){var e=document.implementation.createHTMLDocument("undo");return YN.set(Re.some(e)),e})},ZN=function(e){return e.indexOf("</iframe>")!==-1},JN=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},QN=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},eS=function(e){var t,n,r;return t=XN.read(e.getBody()),r=et(t,function(t){var n=IN.trimInternal(e.serializer,t);return n.length>0?[n]:[]}),n=r.join(""),ZN(n)?JN(r):QN(n)},tS=function(e,t,n){"fragmented"===t.type?XN.write(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},nS=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},rS=function(e){var t=Qo.fromTag("body",GN());return Yc(t,nS(e)),je(Sc(t,"*[data-mce-bogus]"),sc),Xc(t)},oS=function(e,t){return nS(e)===nS(t)},iS=function(e,t){return rS(e)===rS(t)},aS=function(e,t){return!(!e||!t)&&(!!oS(e,t)||iS(e,t))},uS={createFragmentedLevel:JN,createCompleteLevel:QN,createFromEditor:eS,applyToEditor:tS,isEq:aS},cS=dm.isEq,sS=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(r[o].inherit===!1&&e.dom.is(t,r[o].selector))return!0;return!1},lS=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,function(t){return!!sS(e,t,n)||(t.parentNode===o||!!mS(e,t,n,r,!0))}),mS(e,t,n,r))},fS=function(e,t,n){return!!cS(t,n.inline)||(!!cS(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},dS=function(e,t,n,r,o,i){var a,u,c,s=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(s)if("undefined"==typeof s.length){for(a in s)if(s.hasOwnProperty(a)){if(u="attributes"===r?e.getAttrib(t,a):dm.getStyle(e,t,a),o&&!u&&!n.exact)return;if((!o||n.exact)&&!cS(u,dm.normalizeStyleValue(e,dm.replaceVars(s[a],i),a)))return}}else for(c=0;c<s.length;c++)if("attributes"===r?e.getAttrib(t,s[c]):dm.getStyle(e,t,s[c]))return n;return n},mS=function(e,t,n,r,o){var i,a,u,c,s=e.formatter.get(n),l=e.dom;if(s&&t)for(a=0;a<s.length;a++)if(i=s[a],fS(e.dom,t,i)&&dS(l,t,i,"attributes",o,r)&&dS(l,t,i,"styles",o,r)){if(c=i.classes)for(u=0;u<c.length;u++)if(!e.dom.hasClass(t,c[u]))return;return i}},gS=function(e,t,n,r){var o;return r?lS(e,r,t,n):(r=e.selection.getNode(),!!lS(e,r,t,n)||(o=e.selection.getStart(),!(o===r||!lS(e,o,t,n))))},pS=function(e,t,n){var r,o=[],i={};return r=e.selection.getStart(),e.dom.getParent(r,function(r){var a,u;for(a=0;a<t.length;a++)u=t[a],!i[u]&&mS(e,r,u,n)&&(i[u]=!0,o.push(u))},e.dom.getRoot()),o},hS=function(e,t){var n,r,o,i,a,u=e.formatter.get(t),c=e.dom;if(u)for(n=e.selection.getStart(),r=dm.getParents(c,n),i=u.length-1;i>=0;i--){if(a=u[i].selector,!a||u[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(c.is(r[o],a))return!0}return!1},vS={matchNode:mS,matchName:fS,match:gS,matchAll:pS,canApply:hS,matchesUnInheritedFormatSelector:sS},bS=function(e,t){return e.splitText(t)},yS=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&cu.isText(t)?n>0&&n<t.nodeValue.length&&(r=bS(t,n),t=r.previousSibling,o>n?(o-=n,t=r=bS(r,o).previousSibling,o=r.nodeValue.length,n=0):o=0):(cu.isText(t)&&n>0&&n<t.nodeValue.length&&(t=bS(t,n),n=0),cu.isText(r)&&o>0&&o<r.nodeValue.length&&(r=bS(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},CS={split:yS},xS=Qc.ZWSP,wS="_mce_caret",ES=function(e,t){return e.importNode(t,!0)},NS=function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==xS||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},SS=function(e){return NS(e).length>0},kS=function(e){var t;if(e)for(t=new b(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e;return null},TS=function(e){var t=Qo.fromTag("span");return vi(t,{id:wS,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&rc(t,Qo.fromText(xS)),t},RS=function(e){var t=kS(e);return t&&t.nodeValue.charAt(0)===xS&&t.deleteData(0,1),t},AS=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(SS(t))lv.deleteElement(e,!1,Qo.fromDom(t),n);else{var i=o.getRng(),a=r.getParent(t,r.isBlock),u=RS(t);i.startContainer===u&&i.startOffset>0&&i.setStart(u,i.startOffset-1),i.endContainer===u&&i.endOffset>0&&i.setEnd(u,i.endOffset-1),r.remove(t,!0),a&&r.isEmpty(a)&&bg.fillWithPaddingBr(Qo.fromDom(a)),
o.setRng(i)}},BS=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)AS(e,t,n);else if(t=Jl(e.getBody(),o.getStart()),!t)for(;t=r.get(wS);)AS(e,t,!1)},DS=function(t,n,r){var o=t.dom,i=o.getParent(r,e(dm.isTextBlock,t));i&&o.isEmpty(i)?r.parentNode.replaceChild(n,r):(bg.removeTrailingBr(Qo.fromDom(r)),o.isEmpty(r)?r.parentNode.replaceChild(n,r):o.insertAfter(n,r))},_S=function(e,t){return e.appendChild(t),t},OS=function(e,t){var n=Ke(e,function(e,t){return _S(e,t.cloneNode(!1))},t);return _S(n,n.ownerDocument.createTextNode(xS))},PS=function(e,t,n){var r,o,i,a,u,c,s,l=e.selection;r=l.getRng(!0),a=r.startOffset,c=r.startContainer,s=c.nodeValue,o=Jl(e.getBody(),l.getStart()),o&&(i=kS(o));var f=/[^\s\u00a0\u00ad\u200b\ufeff]/;s&&a>0&&a<s.length&&f.test(s.charAt(a))&&f.test(s.charAt(a-1))?(u=l.getBookmark(),r.collapse(!0),r=Tm.expandRng(e,r,e.formatter.get(t)),r=CS.split(r),e.formatter.apply(t,n,r),l.moveToBookmark(u)):(o&&i.nodeValue===xS?e.formatter.apply(t,n,o):(o=ES(e.getDoc(),TS(!0).dom()),i=o.firstChild,r.insertNode(o),a=1,e.formatter.apply(t,n,o)),l.setCursorLocation(i,a))},IS=function(e,t,n,r){var o,i,a,u,c,s,l,f=e.dom,d=e.selection,m=[],g=d.getRng();for(o=g.startContainer,i=g.startOffset,c=o,3===o.nodeType&&(i!==o.nodeValue.length&&(u=!0),c=c.parentNode);c;){if(vS.matchNode(e,c,t,n,r)){s=c;break}c.nextSibling&&(u=!0),m.push(c),c=c.parentNode}if(s)if(u){a=d.getBookmark(),g.collapse(!0);var p=Tm.expandRng(e,g,e.formatter.get(t),!0);p=CS.split(p),e.formatter.remove(t,n,p),d.moveToBookmark(a)}else{l=Jl(e.getBody(),s);var h=TS(!1).dom(),v=OS(m,h);l?DS(e,h,l):DS(e,h,s),AS(e,l,!1),d.setCursorLocation(v,1),f.isEmpty(s)&&f.remove(s)}},LS=function(e,t){var n=e.selection,r=e.getBody();BS(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==xS||BS(e,Jl(r,n.getStart())),37!==t&&39!==t||BS(e,Jl(r,n.getStart()))},FS=function(e){e.on("mouseup keydown",function(t){LS(e,t.keyCode)})},MS=function(e,t){var n=TS(!1),r=OS(t,n.dom());return ec(Qo.fromDom(e),n),cc(Qo.fromDom(e)),bl(r,0)},US=function(e,t){var n=e.schema.getTextInlineElements();return n.hasOwnProperty(ri(t))&&!Zl(t.dom())&&!cu.isBogus(t.dom())},zS=function(e){return Zl(e.dom())&&SS(e.dom())},VS={},HS=cr.filter,jS=cr.each,qS=function(e,t){var n=VS[e];n||(VS[e]=n=[]),VS[e].push(t)},WS=function(e,t){jS(VS[e],function(e){e(t)})};qS("pre",function(e){var t,n,r=e.selection.getRng(),o=function(e){return t(e.previousSibling)&&cr.indexOf(n,e.previousSibling)!==-1},i=function(e,t){Vr(t).remove(),Vr(e).append("<br><br>").append(t.childNodes)};t=cu.matchNodeNames("pre"),r.collapsed||(n=e.selection.getSelectedBlocks(),jS(HS(HS(n,t),o),function(e){i(e.previousSibling,e)}))});var $S={postProcess:WS},KS=/^(src|href|style)$/,XS=xr.each,YS=dm.isEq,GS=function(e){return/^(TH|TD)$/.test(e.nodeName)},ZS=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},JS=function(e,t,n){var r,o,i;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],cu.isElement(r)&&(i=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[o>i?i:o]),cu.isText(r)&&n&&o>=r.nodeValue.length&&(r=new b(r,e.getBody()).next()||r),cu.isText(r)&&!n&&0===o&&(r=new b(r,e.getBody()).prev()||r),r},QS=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},ek=function(e,t,n,r,o){var i=Qo.fromDom(t),a=Qo.fromDom(e.create(r,o)),u=n?ta(i):ea(i);return ac(a,u),n?(ec(i,a),nc(a,i)):(tc(i,a),rc(a,i)),a.dom()},tk=function(e,t,n){return!!YS(t,n.inline)||(!!YS(t,n.block)||(n.selector?cu.isElement(t)&&e.is(t,n.selector):void 0))},nk=function(e,t){return t.links&&"A"===e.tagName},rk=function(e,t,n,r){return t=dm.getNonWhiteSpaceSibling(t,n,r),!t||"BR"===t.nodeName||e.isBlock(t)},ok=function(e,t,n){var r,o=t.parentNode,i=e.dom,a=e.settings.forced_root_block;n.block&&(a?o===i.getRoot()&&(n.list_block&&YS(t,n.list_block)||XS(xr.grep(t.childNodes),function(t){dm.isValid(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=QS(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=0})):i.isBlock(t)&&!i.isBlock(o)&&(rk(i,t,!1)||rk(i,t.firstChild,!0,1)||t.insertBefore(i.create("br"),t.firstChild),rk(i,t,!0)||rk(i,t.lastChild,!1,1)||t.appendChild(i.create("br")))),n.selector&&n.inline&&!YS(n.inline,t)||i.remove(t,1)},ik=function(e,t,n,r,o){var i,a,u,c=e.dom;if(!tk(c,r,t)&&!nk(r,t))return!1;if("all"!==t.remove)for(XS(t.styles,function(e,i){e=dm.normalizeStyleValue(c,dm.replaceVars(e,n),i),"number"==typeof i&&(i=e,o=0),(t.remove_similar||!o||YS(dm.getStyle(c,o,i),e))&&c.setStyle(r,i,""),u=1}),u&&""===c.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),XS(t.attributes,function(e,t){var i;if(e=dm.replaceVars(e,n),"number"==typeof t&&(t=e,o=0),!o||YS(c.getAttrib(o,t),e)){if("class"===t&&(e=c.getAttrib(r,t),e&&(i="",XS(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)}),i)))return void c.setAttrib(r,t,i);"class"===t&&r.removeAttribute("className"),KS.test(t)&&r.removeAttribute("data-mce-"+t),r.removeAttribute(t)}}),XS(t.classes,function(e){e=dm.replaceVars(e,n),o&&!c.hasClass(o,e)||c.removeClass(r,e)}),a=c.getAttribs(r),i=0;i<a.length;i++){var s=a[i].nodeName;if(0!==s.indexOf("_")&&0!==s.indexOf("data-"))return!1}return"none"!==t.remove?(ok(e,r,t),!0):void 0},ak=function(e,t,n,r,o){var i;return XS(dm.getParents(e.dom,t.parentNode).reverse(),function(t){var a;i||"_start"===t.id||"_end"===t.id||(a=vS.matchNode(e,t,n,r,o),a&&a.split!==!1&&(i=t))}),i},uk=function(e,t,n,r,o,i,a,u){var c,s,l,f,d,m,g=e.dom;if(n){for(m=n.parentNode,c=r.parentNode;c&&c!==m;c=c.parentNode){for(s=g.clone(c,!1),d=0;d<t.length;d++)if(ik(e,t[d],u,s,s)){s=0;break}s&&(l&&s.appendChild(l),f||(f=s),l=s)}!i||a.mixed&&g.isBlock(n)||(r=g.split(n,r)),l&&(o.parentNode.insertBefore(l,o),f.appendChild(o))}return r},ck=function(e,t,n,r,o){var i,a,u=e.formatter.get(t),c=u[0],s=!0,l=e.dom,f=e.selection,d=function(r){var i=ak(e,r,t,n,o);return uk(e,u,i,r,r,!0,c,n)},m=function(e){return Qd.isBookmarkNode(e)&&cu.isElement(e)&&("_start"===e.id||"_end"===e.id)},g=function(t){var r,o,i,a,f;if(cu.isElement(t)&&l.getContentEditable(t)&&(a=s,s="true"===l.getContentEditable(t),f=!0),r=xr.grep(t.childNodes),s&&!f)for(o=0,i=u.length;o<i&&!ik(e,u[o],n,t,t);o++);if(c.deep&&r.length){for(o=0,i=r.length;o<i;o++)g(r[o]);f&&(s=a)}},p=function(e){var t=l.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return m(n)&&(n=n[e?"firstChild":"lastChild"]),cu.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),l.remove(t,!0),n},h=function(t){var n,r,o=t.commonAncestorContainer;if(t=Tm.expandRng(e,t,u,!0),c.split){if(t=CS.split(t),n=JS(e,t,!0),r=JS(e,t),n!==r){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),o&&/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&&GS(r)&&r.firstChild&&(r=r.firstChild||r),ZS(l,n,r)){var i=Re.from(n.firstChild).getOr(n);return d(ek(l,i,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void p(!0)}if(ZS(l,r,n)){var i=Re.from(r.lastChild).getOr(r);return d(ek(l,i,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void p(!1)}n=QS(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=QS(l,r,"span",{id:"_end","data-mce-type":"bookmark"}),d(n),d(r),n=p(!0),r=p()}else n=r=d(n);t.startContainer=n.parentNode?n.parentNode:n,t.startOffset=l.nodeIndex(n),t.endContainer=r.parentNode?r.parentNode:r,t.endOffset=l.nodeIndex(r)+1}Dm.walk(l,t,function(t){XS(t,function(t){g(t),cu.isElement(t)&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===dm.getTextDecoration(l,t.parentNode)&&ik(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})};if(r)return void(r.nodeType?(a=l.createRng(),a.setStartBefore(r),a.setEndAfter(r),h(a)):h(r));if("false"!==l.getContentEditable(f.getNode()))f.isCollapsed()&&c.inline&&!l.select("td[data-mce-selected],th[data-mce-selected]").length?IS(e,t,n,o):(i=Yl.getPersistentBookmark(e.selection,!0),h(f.getRng()),f.moveToBookmark(i),c.inline&&vS.match(e,t,n,f.getStart())&&dm.moveStart(l,f,f.getRng()),e.nodeChanged());else{r=f.getNode();for(var v=0,b=u.length;v<b&&(!u[v].ceFalseOverride||!ik(e,u[v],n,r,r));v++);}},sk={removeFormat:ik,remove:ck},lk=xr.each,fk=function(e){return e&&1===e.nodeType&&!Qd.isBookmarkNode(e)&&!Zl(e)&&!cu.isBogus(e)},dk=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!Qd.isBookmarkNode(n))return n}return e},mk=function(e,t,n){var r,o,i=new fg(e);if(t&&n&&(t=dk(t,"previousSibling"),n=dk(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,t.appendChild(o);return e.remove(n),xr.each(xr.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},gk=function(e,t,n){lk(e.childNodes,function(e){fk(e)&&(t(e)&&n(e),e.hasChildNodes()&&gk(e,t,n))})},pk=function(t,n){return e(function(e,n){return!(!n||!dm.getStyle(t,n,e))},n)},hk=function(t,n,r){return e(function(e,n,r){t.setStyle(r,e,n),""===r.getAttribute("style")&&r.removeAttribute("style"),vk(t,r)},n,r)},vk=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},bk=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=dm.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},yk=function(t,n,r,o){(n.styles.color||n.styles.textDecoration)&&(xr.walk(o,e(bk,t),"childNodes"),bk(t,o))},Ck=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&gk(r,pk(e,"fontSize"),hk(e,"backgroundColor",dm.replaceVars(t.styles.backgroundColor,n)))},xk=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(gk(r,pk(e,"fontSize"),hk(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},wk=function(e,t,n,r){r&&t.merge_siblings!==!1&&(r=mk(e,dm.getNonWhiteSpaceSibling(r),r),r=mk(e,r,dm.getNonWhiteSpaceSibling(r,!0)))},Ek=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";lk(e.select(r,n),function(n){fk(n)&&lk(t.styles,function(t,r){e.setStyle(n,r,"")})})}},Nk=function(e,t,n,r){lk(t,function(t){lk(e.dom.select(t.inline,r),function(r){fk(r)&&sk.removeFormat(e,t,n,r,t.exact?r:null)}),Ek(e.dom,t,r)})},Sk=function(e,t,n,r,o){vS.matchNode(e,o.parentNode,n,r)&&sk.removeFormat(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,function(i){if(vS.matchNode(e,i,n,r))return sk.removeFormat(e,t,r,o),!0})},kk={mergeWithChildren:Nk,mergeUnderlineAndColor:yk,mergeBackgroundColorAndFontSize:Ck,mergeSubSup:xk,mergeSiblings:wk,mergeWithParents:Sk},Tk=xr.each,Rk=function(e){return e&&1===e.nodeType&&!Qd.isBookmarkNode(e)&&!Zl(e)&&!cu.isBogus(e)},Ak=function(e,t,n,r){var o,i,a=e.formatter.get(t),u=a[0],c=!r&&e.selection.isCollapsed(),s=e.dom,l=e.selection,f=function(e,t){if(t=t||u,e){if(t.onformat&&t.onformat(e,t,n,r),Tk(t.styles,function(t,r){s.setStyle(e,r,dm.replaceVars(t,n))}),t.styles){var o=s.getAttrib(e,"style");o&&e.setAttribute("data-mce-style",o)}Tk(t.attributes,function(t,r){s.setAttrib(e,r,dm.replaceVars(t,n))}),Tk(t.classes,function(t){t=dm.replaceVars(t,n),s.hasClass(e,t)||s.addClass(e,t)})}},d=function(e,t){var n=!1;return!!u.selector&&(Tk(e,function(e){if(!("collapsed"in e&&e.collapsed!==c))return s.is(t,e.selector)&&!Zl(t)?(f(t,e),n=!0,!1):void 0}),n)},m=function(r,o,i,c){var s,l,m=[],g=!0;s=u.inline||u.block,l=r.create(s),f(l),Dm.walk(r,o,function(o){var i,p=function(o){var h,v,b,y;if(y=g,h=o.nodeName.toLowerCase(),v=o.parentNode.nodeName.toLowerCase(),1===o.nodeType&&r.getContentEditable(o)&&(y=g,g="true"===r.getContentEditable(o),b=!0),dm.isEq(h,"br"))return i=0,void(u.block&&r.remove(o));if(u.wrapper&&vS.matchNode(e,o,t,n))return void(i=0);if(g&&!b&&u.block&&!u.wrapper&&dm.isTextBlock(e,h)&&dm.isValid(e,v,s))return o=r.rename(o,s),f(o),m.push(o),void(i=0);if(u.selector){var C=d(a,o);if(!u.inline||C)return void(i=0)}!g||b||!dm.isValid(e,s,h)||!dm.isValid(e,v,s)||!c&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||Zl(o)||u.inline&&r.isBlock(o)?(i=0,Tk(xr.grep(o.childNodes),p),b&&(g=y),i=0):(i||(i=r.clone(l,!1),o.parentNode.insertBefore(i,o),m.push(i)),i.appendChild(o))};Tk(o,p)}),u.links===!0&&Tk(m,function(e){var t=function(e){"A"===e.nodeName&&f(e,u),Tk(xr.grep(e.childNodes),t)};t(e)}),Tk(m,function(o){var i,c=function(e){var t=0;return Tk(e.childNodes,function(e){dm.isWhiteSpaceNode(e)||Qd.isBookmarkNode(e)||t++}),t},s=function(e){var t=!1;return Tk(e.childNodes,function(e){if(Rk(e))return t=e,!1}),t},l=function(e){var t,n;return t=s(e),t&&!Qd.isBookmarkNode(t)&&vS.matchName(r,t,u)&&(n=r.clone(t,!1),f(n),r.replace(n,e,!0),r.remove(t,1)),n||e};return i=c(o),(m.length>1||!r.isBlock(o))&&0===i?void r.remove(o,1):void((u.inline||u.wrapper)&&(u.exact||1!==i||(o=l(o)),kk.mergeWithChildren(e,a,n,o),kk.mergeWithParents(e,u,t,n,o),kk.mergeBackgroundColorAndFontSize(r,u,n,o),kk.mergeSubSup(r,u,n,o),kk.mergeSiblings(r,u,n,o)))})};if("false"!==s.getContentEditable(l.getNode())){if(u){if(r)r.nodeType?d(a,r)||(i=s.createRng(),i.setStartBefore(r),i.setEndAfter(r),m(s,Tm.expandRng(e,i,a),null,!0)):m(s,r,null,!0);else if(c&&u.inline&&!s.select("td[data-mce-selected],th[data-mce-selected]").length)PS(e,t,n);else{var g=e.selection.getNode();e.settings.forced_root_block||!a[0].defaultBlock||s.getParent(g,s.isBlock)||Ak(e,a[0].defaultBlock),e.selection.setRng(Eg.normalize(e.selection.getRng())),o=Yl.getPersistentBookmark(e.selection,!0),m(s,Tm.expandRng(e,l.getRng(),a),o),u.styles&&kk.mergeUnderlineAndColor(s,u,n,g),l.moveToBookmark(o),dm.moveStart(s,l,l.getRng()),e.nodeChanged()}$S.postProcess(t,e)}}else{r=l.getNode();for(var p=0,h=a.length;p<h;p++)if(a[p].ceFalseOverride&&s.is(r,a[p].selector))return void f(r,a[p])}},Bk={applyFormat:Ak},Dk=xr.each,_k=function(e,t){var n={};e.set({}),t.on("NodeChange",function(r){var o=dm.getParents(t.dom,r.element),i={};o=xr.grep(o,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}),Dk(e.get(),function(e,r){Dk(o,function(a){return t.formatter.matchNode(a,r,{},e.similar)?(n[r]||(Dk(e,function(e){e(!0,{node:a,format:r,parents:o})}),n[r]=e),i[r]=e,!1):!vS.matchesUnInheritedFormatSelector(t,a,r)&&void 0})}),Dk(n,function(e,t){i[t]||(delete n[t],Dk(e,function(e){e(!1,{node:r.element,format:t,parents:o})}))})})},Ok=function(e,t,n,r){var o=e.get();Dk(t.split(","),function(e){o[e]||(o[e]=[],o[e].similar=r),o[e].push(n)}),e.set(o)},Pk=function(e,t,n,r,o){null===t.get()&&_k(t,e),Ok(t,n,r,o)},Ik={formatChanged:Pk},Lk=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,r){xr.each(r,function(n,r){e.setAttrib(t,r,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return xr.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t},Fk={get:Lk},Mk=xr.each,Uk=Ku.DOM,zk=function(e,t){var n,r,o,i=t&&t.schema||y({}),a=function(e,t){t.classes.length&&Uk.addClass(e,t.classes.join(" ")),Uk.setAttribs(e,t.attrs)},u=function(e){var t;return r="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=Uk.create(r.name),a(t,r),t},c=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(t&&xr.inArray(o,t)!==-1?t:o[0])},s=function(e,t,n){var r,o,i,a=t.length>0&&t[0],l=a&&a.name;if(i=c(e,l))l===i?(o=t[0],t=t.slice(1)):o=i;else if(a)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=u(o),r.appendChild(e)),n&&(r||(r=Uk.create("div"),r.appendChild(e)),xr.each(n,function(t){var n=u(t);r.insertBefore(n,e)})),s(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],n=u(r),o=Uk.create("div"),o.appendChild(s(n,e.slice(1),r.siblings)),o):""},Vk=function(e,t){return zk(jk(e),t)},Hk=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=xr.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":xr.inArray("checked disabled enabled read-only required".split(" "),r)!==-1&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=t||"div",n},jk=function(e){return e&&"string"==typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),xr.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=xr.map(e.split(/(?:~\+|~|\+)/),Hk),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},qk=function(e,t){var n,r,o,i,a,u,c="";if(u=e.settings.preview_styles,u===!1)return"";"string"!=typeof u&&(u="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var s=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}return"preview"in t&&(u=t.preview,u===!1)?"":(n=t.block||t.inline||"span",i=jk(t.selector),i.length?(i[0].name||(i[0].name=n),n=t.selector,r=zk(i,e)):r=zk([n],e),o=Uk.select(n,r)[0]||r.firstChild,Mk(t.styles,function(e,t){e=s(e),e&&Uk.setStyle(o,t,e)}),Mk(t.attributes,function(e,t){e=s(e),e&&Uk.setAttrib(o,t,e)}),Mk(t.classes,function(e){e=s(e),Uk.hasClass(o,e)||Uk.addClass(o,e)}),e.fire("PreviewFormats"),Uk.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),a=Uk.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,Mk(u.split(" "),function(t){var n=Uk.getStyle(o,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=Uk.getStyle(e.getBody(),t,!0),"#ffffff"===Uk.toHex(n).toLowerCase())||"color"===t&&"#000000"===Uk.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===a)return;var r=parseFloat(n)/(/%$/.test(n)?100:1);n=r*a+"px"}"border"===t&&n&&(c+="padding:0 2px;"),c+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),Uk.remove(r),c)},Wk={getCssText:qk,parseSelector:jk,selectorToHtml:Vk},$k=function(e,t,n,r,o){var i=t.get(n);!vS.match(e,n,r,o)||"toggle"in i[0]&&!i[0].toggle?Bk.applyFormat(e,n,r,o):sk.remove(e,n,r,o)},Kk={toggle:$k},Xk=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Yk={setup:Xk},Gk=Object.prototype.hasOwnProperty,Zk=function(e,t){return t},Jk=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)Gk.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},Qk=Jk(Zk),eT=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)n=e[r],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),e.addAttributeFilter("src,href,style",function(e,r){for(var o,i,a=e.length,u="data-mce-"+r,c=t.url_converter,s=t.url_converter_scope;a--;)o=e[a],i=o.attributes.map[u],void 0!==i?(o.attr(r,i.length>0?i:null),o.attr(u,null)):(i=o.attributes.map[r],"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):c&&(i=c.call(s,i,r,o.name)),o.attr(r,i.length>0?i:null))}),e.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("class"),n&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),e.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,o=e.length;o--;)r=e[o],"bookmark"!==r.attributes.map["data-mce-type"]||n.cleanup||r.remove()}),e.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)t=e[n].firstChild,t&&(t.value=Tu.decode(t.value))}),e.addNodeFilter("script,style",function(e,n){for(var r,o,i,a=e.length,u=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)r=e[a],o=r.firstChild?r.firstChild.value:"","script"===n?(i=r.attr("type"),i&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+u(o)+"\n// ]]>")):"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="<!--\n"+u(o)+"\n-->")}),e.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){je(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},tT=function(e){var t,n,r=function(e){return e&&"br"===e.name};t=e.lastChild,r(t)&&(n=t.prev,r(n)&&(t.remove(),n.remove()))},nT={register:eT,trimTrailingBr:tT},rT=function(e,t,n){var r,o,i,a=e.dom;return t=t.cloneNode(!0),r=document.implementation,r.createHTMLDocument&&(o=r.createHTMLDocument(""),xr.each("BODY"===t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!==t.nodeName?o.body.firstChild:o.body,i=a.doc,a.doc=o),Ax.firePreProcess(e,Qk(n,{node:t})),i&&(a.doc=i),t},oT=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},iT=function(e,t,n){return oT(e,n)?rT(e,t,n):t},aT={process:iT},uT=function(e,t){je(t,function(t){e.attr(t,null)})},cT=function(e,t,n){e.addNodeFilter("font",function(e){je(e,function(e){var r=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),uT(e,["color","face","size"])})})},sT=function(e,t){e.addNodeFilter("strike",function(e){je(e,function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))})})},lT=function(e,t){var n=C();t.convert_fonts_to_spans&&cT(e,n,xr.explode(t.font_size_legacy_values)),sT(e,n)},fT=function(e,t){t.inline_styles&&lT(e,t)},dT={register:fT},mT=/^[ \t\r\n]*$/,gT={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},pT=function(e,t,n){var r,o,i=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[i])return e[i];if(e!==t){if(r=e[a])return r;for(o=e.parent;o&&o!==t;o=o.parent)if(r=o[a])return r}},hT=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r,o;if(r=new e(t,gT[t]||1),n)for(o in n)r.attr(o,n[o]);return r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r,o=this;if("string"!=typeof e){for(r in e)o.attr(r,e[r]);return o}if(n=o.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),o;return o}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}},e.prototype.clone=function(){var t,n,r,o,i,a=this,u=new e(a.name,a.type);if(r=a.attributes){for(i=[],i.map={},t=0,n=r.length;t<n;t++)o=r[t],"id"!==o.name&&(i[i.length]={name:o.name,value:o.value},i.map[o.name]=o.value);u.attributes=i}return u.value=a.value,u.shortEnded=a.shortEnded,u},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},e.prototype.insert=function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){var t,n=this,r=[];for(t=n.firstChild;t;t=pT(t,n))t.name===e&&r.push(t);return r},e.prototype.empty=function(){var e,t,n,r=this;if(r.firstChild){for(e=[],n=r.firstChild;n;n=pT(n,r))e.push(n);for(t=e.length;t--;)n=e[t],n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}return r.firstChild=r.lastChild=null,r},e.prototype.isEmpty=function(e,t,n){var r,o,i=this,a=i.firstChild;if(t=t||{},a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(e[a.name])return!1;for(r=a.attributes.length;r--;)if(o=a.attributes[r].name,"name"===o||0===o.indexOf("data-mce-bookmark"))return!1}if(8===a.type)return!1;if(3===a.type&&!mT.test(a.value))return!1;if(3===a.type&&a.parent&&t[a.parent.name]&&mT.test(a.value))return!1;if(n&&n(a))return!1}while(a=pT(a,i));return!0},e.prototype.walk=function(e){return pT(this,null,e)},e}(),vT=function(e,t,n,r){var o=e.padd_empty_with_br||t.insert;o&&n[r.name]?r.empty().append(new hT("br",1)).shortEnded=!0:r.empty().append(new hT("#text",3)).value=""},bT=function(e){return yT(e,"#text")&&""===e.firstChild.value},yT=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},CT=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},xT=function(e,t,n,r){return r.isEmpty(t,n,function(t){return CT(e,t)})},wT=function(e,t){return e&&(t[e.name]||"br"===e.name)},ET=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,r,o){var i,a,u,c,s,l,f,d,m=e.length,g=xr.extend({},n.getBlockElements()),p=n.getNonEmptyElements(),h=n.getNonEmptyElements();for(g.body=1,i=0;i<m;i++)if(a=e[i],u=a.parent,g[a.parent.name]&&a===u.lastChild){for(s=a.prev;s;){if(l=s.name,"span"!==l||"bookmark"!==s.attr("data-mce-type")){if("br"!==l)break;if("br"===l){a=null;break}}s=s.prev}a&&(a.remove(),xT(n,p,h,u)&&(f=n.getElementRule(u.name),f&&(f.removeEmpty?u.remove():f.paddEmpty&&vT(t,o,g,u))))}else{for(c=a;u&&u.firstChild===c&&u.lastChild===c&&(c=u,!g[u.name]);)u=u.parent;c===u&&t.padd_empty_with_br!==!0&&(d=new hT("#text",3),d.value="",a.replace(d))}}),e.addAttributeFilter("href",function(e){var n,r=e.length,o=function(e){var t=e.split(" ").filter(function(e){return e.length>0});return t.concat(["noopener"]).sort().join(" ")},i=function(e){var t=e?xr.trim(e):"";return/\b(noopener)\b/g.test(t)?t:o(t)};if(!t.allow_unsafe_link_target)for(;r--;)n=e[r],"a"===n.name&&"_blank"===n.attr("target")&&n.attr("rel",i(n.attr("rel")))}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if(o=e[i],"a"===o.name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do n=t.prev,r.insert(t,o),t=n;while(t)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)if(t=e[r],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new hT("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,r,o,i,a,u,c,s=e.length,l=n.getValidClasses();s--;){for(t=e[s],r=t.attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],c=!1,u=l["*"],u&&u[i]&&(c=!0),u=l[t.name],!c&&u&&u[i]&&(c=!0),c&&(a&&(a+=" "),a+=i);a.length||(a=null),t.attr("class",a)}})},NT=xr.makeMap,ST=xr.each,kT=xr.explode,TT=xr.extend,RT=function(e,t,n){xr.inArray(t,n)===-1&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},AT=function(e,t,n){if(!t.no_events&&e){var r=Ax.firePostProcess(e,Qk(t,{content:n}));return r.content}return n},BT=function(e,t,n){var r=Qc.trim(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||qa(Qo.fromDom(t))?r:xr.trim(r)},DT=function(e,t,n){var r=n.selection?Qk({forced_root_block:!1},n):n,o=e.parse(t,r);return nT.trimTrailingBr(o),o},_T=function(e,t,n){var r=A(e,t);return r.serialize(n)},OT=function(e,t,n,r,o){var i=_T(t,n,r);return AT(e,o,i)};!function(e){e.isBookmarkNode=Qd.isBookmarkNode}(J||(J={}));var PT,IT=J,LT=cu.isContentEditableFalse,FT=cu.isContentEditableTrue,MT=function(e,t){for(;t&&t!==e;){if(FT(t)||LT(t))return t;t=t.parentNode}return null},UT=function(e,t){var n,r,o,i,a,u,c,s,l,f,d,m,g,p,h,v,b,y=t.dom,C=xr.each,x=t.getDoc(),w=document,E=Math.abs,N=Math.round,S=t.getBody();
i={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var k=".mce-content-body";t.contentStyles.push(k+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+k+" .mce-resizehandle:hover {background: #000}"+k+" img[data-mce-selected],"+k+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+k+" .mce-clonedresizable {position: absolute;"+(St.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+k+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var T=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},R=function(e,t){return T(e.target)&&!lN.isXYWithinRange(e.clientX,e.clientY,t)},A=function(e){var n=e.target;R(e,t.selection.getRng())&&!e.isDefaultPrevented()&&(e.preventDefault(),t.selection.select(n))},B=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},D=function(e){var n=t.settings.object_resizing;return n!==!1&&!St.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&Mi(Qo.fromDom(e),n)))},_=function(e){var i,C,x,w,k;i=e.screenX-u,C=e.screenY-c,p=i*a[2]+f,h=C*a[3]+d,p=p<5?5:p,h=h<5?5:h,x=T(n)&&t.settings.resize_img_proportional!==!1?!CN.modifierPressed(e):CN.modifierPressed(e)||T(n)&&a[2]*a[3]!==0,x&&(E(i)>E(C)?(h=N(p*m),p=N(h/m)):(p=N(h/m),h=N(p*m))),y.setStyles(B(r),{width:p,height:h}),w=a.startPos.x+i,k=a.startPos.y+C,w=w>0?w:0,k=k>0?k:0,y.setStyles(o,{left:w,top:k,display:"block"}),o.innerHTML=p+" &times; "+h,a[2]<0&&r.clientWidth<=p&&y.setStyle(r,"left",s+(f-p)),a[3]<0&&r.clientHeight<=h&&y.setStyle(r,"top",l+(d-h)),i=S.scrollWidth-v,C=S.scrollHeight-b,i+C!==0&&y.setStyles(o,{left:w-i,top:k-C}),g||(Ax.fireObjectResizeStart(t,n,f,d),g=!0)},O=function(){g=!1;var e=function(e,r){r&&(n.style[e]||!t.schema.isValid(n.nodeName.toLowerCase(),e)?y.setStyle(B(n),e,r):y.setAttrib(B(n),e,r))};e("width",p),e("height",h),y.unbind(x,"mousemove",_),y.unbind(x,"mouseup",O),w!==x&&(y.unbind(w,"mousemove",_),y.unbind(w,"mouseup",O)),y.remove(r),y.remove(o),P(n),Ax.fireObjectResized(t,n,p,h),y.setAttrib(n,"style",y.getAttrib(n,"style")),t.nodeChanged()},P=function(e){var g,E,N,k,T;I(),M(),g=y.getPos(e,S),s=g.x,l=g.y,T=e.getBoundingClientRect(),E=T.width||T.right-T.left,N=T.height||T.bottom-T.top,n!==e&&(n=e,p=h=0),k=t.fire("ObjectSelected",{target:e}),D(e)&&!k.isDefaultPrevented()?C(i,function(e,t){var i,g=function(t){u=t.screenX,c=t.screenY,f=B(n).clientWidth,d=B(n).clientHeight,m=d/f,a=e,e.startPos={x:E*e[0]+s,y:N*e[1]+l},v=S.scrollWidth,b=S.scrollHeight,r=n.cloneNode(!0),y.addClass(r,"mce-clonedresizable"),y.setAttrib(r,"data-mce-bogus","all"),r.contentEditable=!1,r.unSelectabe=!0,y.setStyles(r,{left:s,top:l,margin:0}),r.removeAttribute("data-mce-selected"),S.appendChild(r),y.bind(x,"mousemove",_),y.bind(x,"mouseup",O),w!==x&&(y.bind(w,"mousemove",_),y.bind(w,"mouseup",O)),o=y.add(S,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},f+" &times; "+d)};i=y.get("mceResizeHandle"+t),i&&y.remove(i),i=y.add(S,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===St.ie&&(i.contentEditable=!1),y.bind(i,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),g(e)}),e.elm=i,y.setStyles(i,{left:E*e[0]+s-i.offsetWidth/2,top:N*e[1]+l-i.offsetHeight/2})}):I(),n.setAttribute("data-mce-selected","1")},I=function(){var e,t;M(),n&&n.removeAttribute("data-mce-selected");for(e in i)t=y.get("mceResizeHandle"+e),t&&(y.unbind(t),y.remove(t))},L=function(n){var r,o,i=function(e,t){if(e)do if(e===t)return!0;while(e=e.parentNode)};if(!g&&!t.removed)return C(y.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),o="mousedown"===n.type?n.target:e.getNode(),o=y.$(o).closest("table,img,figure.image,hr")[0],i(o,S)&&(U(),r=e.getStart(!0),i(r,o)&&i(e.getEnd(!0),o))?void P(o):void I()},F=function(e){return LT(MT(t.getBody(),e))},M=function(){for(var e in i){var t=i[e];t.elm&&(y.unbind(t.elm),delete t.elm)}},U=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};t.on("init",function(){U(),St.ie&&St.ie>=11&&(t.on("mousedown click",function(e){var n=e.target,r=n.nodeName;g||!/^(TABLE|IMG|HR)$/.test(r)||F(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())}),t.dom.bind(S,"mscontrolselect",function(e){var n=function(e){Pt.setEditorTimeout(t,function(){t.selection.select(e)})};return F(e.target)?(e.preventDefault(),void n(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target)))}));var e=Pt.throttle(function(e){t.composing||L(e)});t.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),t.on("keyup compositionend",function(t){n&&"TABLE"===n.nodeName&&e(t)}),t.on("hide blur",I),t.on("contextmenu",A)}),t.on("remove",M);var z=function(){n=r=null};return{isResizable:D,showResizeRect:P,hideResizeRect:I,updateResizeRect:L,destroy:z}},zT=function(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}},VT=function(e,t,n){var r={elm:t,alignToTop:n};return e.fire("scrollIntoView",r),r.isDefaultPrevented()},HT=function(e,t,n){var r,o,i,a,u=e.dom,c=u.getRoot(),s=0;if(!VT(e,t,n)&&cu.isElement(t)){if(n===!1&&(s=t.offsetHeight),"BODY"!==c.nodeName){var l=e.selection.getScrollContainer();if(l)return r=zT(t).y-zT(l).y+s,a=l.clientHeight,i=l.scrollTop,void((r<i||r+25>i+a)&&(l.scrollTop=r<i?r:r-a+25))}o=u.getViewPort(e.getWin()),r=u.getPos(t).y+s,i=o.y,a=o.h,(r<o.y||r+25>i+a)&&e.getWin().scrollTo(0,r<i?r:r-a+25)}},jT=function(e){if(e.inline)return e.getBody().getBoundingClientRect();var t=e.getWin();return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight}},qT=function(e,t,n){e.inline?(e.getBody().scrollLeft+=t,e.getBody().scrollTop+=n):e.getWin().scrollBy(t,n)},WT=function(e,t){ut(S.fromRangeStart(t).getClientRects()).each(function(t){var n=jT(e),r=Vs(n,t),o=4,i=r.x>0?r.x+o:r.x-o,a=r.y>0?r.y+o:r.y-o;qT(e,0!==r.x?i:0,0!==r.y?a:0)})},$T={scrollElementIntoView:HT,scrollRangeIntoView:WT},KT=function(e){return cu.isContentEditableTrue(e)||cu.isContentEditableFalse(e)},XT=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},YT=function(e,t,n){var r,o,i;if(r=n.elementFromPoint(e,t),o=n.body.createTextRange(),r&&"HTML"!==r.tagName||(r=n.body),o.moveToElementText(r),i=xr.toArray(o.getClientRects()),i=i.sort(function(e,n){return e=Math.abs(Math.max(e.top-t,e.bottom-t)),n=Math.abs(Math.max(n.top-t,n.bottom-t)),e-n}),i.length>0){t=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(e,t),o.collapse(!0),o}catch(a){}}return null},GT=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return cu.isContentEditableFalse(XT(n,t,KT))?null:e},ZT=function(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)o=i.caretPositionFromPoint(e,t),o&&(r=n.createRange(),r.setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(a){r=YT(e,t,n)}return GT(r,n.body)}return r},JT={fromPoint:ZT},QT=function(e,t){return He(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},eR={processRanges:QT},tR=function(e,t){var n=t||document,r=n.createDocumentFragment();return je(e,function(e){r.appendChild(e.dom())}),Qo.fromDom(r)},nR=Ri("element","width","rows"),rR=Ri("element","cells"),oR=Ri("x","y"),iR=function(e,t){var n=parseInt(bi(e,t),10);return isNaN(n)?1:n},aR=function(e,t,n,r,o){for(var i=iR(o,"rowspan"),a=iR(o,"colspan"),u=e.rows(),c=n;c<n+i;c++){u[c]||(u[c]=rR($c(r),[]));for(var s=t;s<t+a;s++){var l=u[c].cells();l[s]=c===n&&s===t?o:Wc(o)}}},uR=function(e,t,n){var r=e.rows(),o=r[n]?r[n].cells():[];return!!o[t]},cR=function(e,t,n){for(;uR(e,t,n);)t++;return t},sR=function(e){return Xe(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},lR=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(Hi(o[i],t))return Re.some(oR(i,r));return Re.none()},fR=function(e,t,n,r,o){for(var i=[],a=e.rows(),u=n;u<=o;u++){var c=a[u].cells(),s=t<r?c.slice(t,r+1):c.slice(r,t+1);i.push(rR(a[u].element(),s))}return i},dR=function(e,t,n){var r=t.x(),o=t.y(),i=n.x(),a=n.y(),u=o<a?fR(e,r,o,i,a):fR(e,r,a,i,o);return nR(e.element(),sR(u),u)},mR=function(e,t){var n=Wc(e.element()),r=Qo.fromTag("tbody");return ac(r,t),rc(n,r),n},gR=function(e){return He(e.rows(),function(e){var t=He(e.cells(),function(e){var t=$c(e);return Ci(t,"colspan"),Ci(t,"rowspan"),t}),n=Wc(e.element());return ac(n,t),n})},pR=function(e){var t=nR(Wc(e),0,[]);return je(Sc(e,"tr"),function(e,n){je(Sc(e,"td,th"),function(r,o){aR(t,cR(t,o,n),n,e,r)})}),nR(t.element(),sR(t.rows()),t.rows())},hR=function(e){return mR(e,gR(e))},vR=function(e,t,n){return lR(e,t).bind(function(t){return lR(e,n).map(function(n){return dR(e,t,n)})})},bR={fromDom:pR,toDom:hR,subsection:vR},yR=function(e){return Ye(e,function(e){return"ul"===ri(e)||"ol"===ri(e)})},CR=function(e,t){return Ye(e,function(e){return"li"===ri(e)&&cE(e,t)}).fold(he([]),function(t){return yR(e).map(function(e){return[Qo.fromTag("li"),Qo.fromTag(ri(e))]}).getOr([])})},xR=function(e,t){var n=Xe(t,function(e,t){return rc(t,e),t},e);return t.length>0?tR([n]):n},wR=function(e){return za(e)?Gi(e).filter(Ua).fold(he([]),function(t){return[e,t]}):Ua(e)?[e]:[]},ER=function(e,t){var n=Qo.fromDom(t.commonAncestorContainer),r=Jp.parentsAndSelf(n,e),o=$e(r,function(e){return La(e)||Pa(e)}),i=CR(r,t),a=o.concat(i.length?i:wR(n));return He(a,Wc)},NR=function(){return tR([])},SR=function(e,t){return xR(Qo.fromDom(t.cloneContents()),ER(e,t))},kR=function(t,n){return Rc(n,"table",e(Hi,t))},TR=function(e,t){return kR(e,t[0]).bind(function(e){var n=t[0],r=t[t.length-1],o=bR.fromDom(e);return bR.subsection(o,n,r).map(function(e){return tR([bR.toDom(e)])})}).getOrThunk(NR)},RR=function(e,t){return t.length>0&&t[0].collapsed?NR():SR(e,t[0])},AR=function(e,t){var n=iy.getCellsFromElementOrRanges(t,e);return n.length>0?TR(e,n):RR(e,t)},BR={read:AR},DR=function(e){return Re.from(e.selection.getRng()).map(function(e){return Qc.trim(e.toString())}).getOr("")},_R=function(e,t){var n,r=e.selection.getRng(),o=e.dom.create("body"),i=e.selection.getSel(),a=eR.processRanges(e,ey.getRanges(i));return r.cloneContents?(n=t.contextual?BR.read(Qo.fromDom(e.getBody()),a).dom():r.cloneContents(),n&&o.appendChild(n)):o.innerHTML=r.toString(),e.selection.serializer.serialize(o,t)},OR=function(e,t){if(void 0===t&&(t={}),t.get=!0,t.format=t.format||"html",t.selection=!0,t=e.fire("BeforeGetContent",t),t.isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return DR(e);t.getInner=!0;var n=_R(e,t);return"tree"===t.format?n:(t.content=e.selection.isCollapsed()?"":n,e.fire("GetContent",t),t.content)},PR={getContent:OR},IR=function(e,t,n){var r,o,i,a=e.selection.getRng(),u=e.getDoc();if(n=n||{format:"html"},n.set=!0,n.selection=!0,n.content=t,!n.no_events&&(n=e.fire("BeforeSetContent",n),n.isDefaultPrevented()))return void e.fire("SetContent",n);if(t=n.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer===u&&a.endContainer===u?u.body.innerHTML=t:(a.deleteContents(),0===u.body.childNodes.length?u.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(o=u.createDocumentFragment(),i=u.createElement("div"),o.appendChild(i),i.outerHTML=t,a.insertNode(o))),r=e.dom.get("__caret"),a=u.createRange(),a.setStartBefore(r),a.setEndBefore(r),e.selection.setRng(a),e.dom.remove("__caret");try{e.selection.setRng(a)}catch(c){}}else a.item&&(u.execCommand("Delete",!1,null),a=e.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):a.pasteHTML(t);n.no_events||e.fire("SetContent",n)},LR={setContent:IR},FR=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return Re.from(i).map(Qo.fromDom).map(function(e){return r&&t.collapsed?e:ra(e,o(e,a)).getOr(e)}).bind(function(e){return ai(e)?Re.some(e):Gi(e)}).map(function(e){return e.dom()}).getOr(e)},MR=function(e,t,n){return FR(e,t,!0,n,function(e,t){return Math.min(aa(e),t)})},UR=function(e,t,n){return FR(e,t,!1,n,function(e,t){return t>0?t-1:t})},zR=function(e,t){for(var n=e;e&&cu.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},VR=function(e,t){var n,r,o,i,a;return t?(r=t.startContainer,o=t.endContainer,i=t.startOffset,a=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?zR(r.nextSibling,!0):r.parentNode,o=0===a?zR(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):e},HR=function(e,t,n,r){var o,i,a=[];if(i=e.getRoot(),n=e.getParent(n||MR(i,t,t.collapsed),e.isBlock),r=e.getParent(r||UR(i,t,t.collapsed),e.isBlock),n&&n!==i&&a.push(n),n&&r&&n!==r){o=n;for(var u=new b(n,i);(o=u.next())&&o!==r;)e.isBlock(o)&&a.push(o)}return r&&n!==r&&r!==i&&a.push(r),a},jR=function(e,t,n){return Re.from(t).map(function(t){var r=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,r),o.setEnd(t.parentNode,r+1),n&&(sE(e,o,t,!0),sE(e,o,t,!1)),o})},qR=xr.each,WR=function(e){return!!e.select},$R=function(e){return!(!e||!e.ownerDocument)&&$i(Qo.fromDom(e.ownerDocument),Qo.fromDom(e))},KR=function(e){return!!e&&(!!WR(e)||$R(e.startContainer)&&$R(e.endContainer))},XR=function(e,t,n,r){var o,i,a,u,c,s=function(t,n){var o=e.createRng();t?(o.setStart(t,n),o.setEnd(t,n),x(o),b(!1)):(sE(e,o,r.getBody(),!0),x(o))},l=function(e){return PR.getContent(r,e)},f=function(e,t){return LR.setContent(r,e,t)},d=function(e){return MR(r.getBody(),C(),e)},m=function(e){return UR(r.getBody(),C(),e)},g=function(e,t){return o.getBookmark(e,t)},p=function(e){return o.moveToBookmark(e)},h=function(t,n){return jR(e,t,n).each(x),t},v=function(){var e=C(),t=y();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},b=function(e){var t=C();t.collapse(!!e),x(t)},y=function(){return t.getSelection?t.getSelection():t.document.selection},C=function(){var n,o,i,c,s=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}};if(!t)return null;if(c=t.document,"undefined"==typeof c||null===c)return null;if(void 0!==r.bookmark&&sw.hasFocus(r)===!1){var l=cx.getRng(r);if(l.isSome())return l.map(function(e){return eR.processRanges(r,[e])[0]}).getOr(c.createRange())}try{(n=y())&&(o=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange())}catch(f){}return o=eR.processRanges(r,[o])[0],o||(o=c.createRange?c.createRange():c.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(i=e.getRoot(),o.setStart(i,0),o.setEnd(i,0)),a&&u&&(0===s(o.START_TO_START,o,a)&&0===s(o.END_TO_END,o,a)?o=u:(a=null,u=null)),o},x=function(e,t){var n,o,i;if(KR(e)){var c=WR(e)?e:null;if(c){u=null;try{c.select()}catch(s){}}else{if(n=y(),i=r.fire("SetSelectionRange",{range:e,forward:t}),e=i.range,n){u=e;try{n.removeAllRanges(),n.addRange(e)}catch(s){}t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),a=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||St.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(o=e.startContainer.childNodes[e.startOffset],o&&"IMG"===o.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(o,0,o,1))),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},w=function(t){return f(e.getOuterHTML(t)),t},E=function(){return VR(r.getBody(),C())},N=function(t,n){return HR(e,C(),t,n)},S=function(){var t,n,r=y();return!(r&&r.anchorNode&&r.focusNode)||(t=e.createRng(),t.setStart(r.anchorNode,r.anchorOffset),t.collapse(!0),n=e.createRng(),n.setStart(r.focusNode,r.focusOffset),n.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,n)<=0)},k=function(){var t=C(),n=y();if(!ey.hasMultipleRanges(n)&&lE(r)){var o=BC.normalize(e,t);return o.each(function(e){x(e,S())}),o.getOr(t)}return t},T=function(t,n){var o;return c||(c={},o={},r.on("NodeChange",function(t){var n=t.element,r=e.getParents(n,null,e.getRoot()),i={};qR(c,function(t,n){qR(r,function(a){if(e.is(a,n))return o[n]||(qR(t,function(e){e(!0,{node:a,selector:n,parents:r})}),o[n]=t),i[n]=t,!1})}),qR(o,function(e,t){i[t]||(delete o[t],qR(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),c[t]||(c[t]=[]),c[t].push(n),O},R=function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},A=function(e,t){return $T.scrollElementIntoView(r,e,t)},B=function(e,t){return x(JT.fromPoint(e,t,r.getDoc()))},D=function(){var e=C();return e.collapsed?bl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},_=function(){t=a=u=null,i.destroy()},O={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:b,setCursorLocation:s,getContent:l,setContent:f,getBookmark:g,moveToBookmark:p,select:h,isCollapsed:v,isForward:S,setNode:w,getNode:E,getSel:y,setRng:x,getRng:C,getStart:d,getEnd:m,getSelectedBlocks:N,normalize:k,selectorChanged:T,getScrollContainer:R,scrollIntoView:A,placeCaretAt:B,getBoundingClientRect:D,destroy:_};return o=IT(O),i=UT(O,r),O.bookmarkManager=o,O.controlSelection=i,O},YR=cu.isContentEditableFalse,GR=Hs,ZR=Gf,JR=Yf,QR=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},eA=function(e,t){var n=Ff(e,t);return!(n||!cu.isBr(e.getNode()))||n},tA=function(e,t,n,r){var o,i,a,u,c=e===vl.Forwards,s=c?JR:ZR;return!r.collapsed&&(o=GR(r),YR(o))?mN(e,t,o,e===vl.Backwards,!0):(u=ps(r),i=Xf(e,t.getBody(),r),s(i)?pN(t,i.getNode(!c)):(i=n(i))?s(i)?mN(e,t,i.getNode(!c),c,!0):(a=n(i),s(a)&&eA(i,a)?mN(e,t,a.getNode(!c),c,!0):u?vN(t,i.toRange(),!0):null):u?r:null)},nA=function(e,t,n,r){var o,i,a,u,c,s,l,f,d;if(d=GR(r),o=Xf(e,t.getBody(),r),i=n(t.getBody(),GE(1),o),a=$e(i,ZE(1)),c=cr.last(o.getClientRects()),(JR(o)||Zf(o))&&(d=o.getNode()),(ZR(o)||Jf(o))&&(d=o.getNode(!0)),!c)return null;if(s=c.left,u=rN(a,s),u&&YR(u.node))return l=Math.abs(s-u.left),f=Math.abs(s-u.right),mN(e,t,u.node,l<f,!0);if(d){var m=YE(e,t.getBody(),GE(1),d);if(u=rN($e(m,ZE(1)),s))return vN(t,u.position.toRange(),!0);if(u=cr.last($e(m,ZE(0))))return vN(t,u.position.toRange(),!0)}},rA=function(e){var t=e.dom.create(e.settings.forced_root_block);return(!St.ie||St.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},oA=function(t,n,r){var o,i,a,u=hd(t.getBody()),c=e(QR,u.next),s=e(QR,u.prev);if(r.collapsed&&t.settings.forced_root_block){if(o=t.dom.getParent(r.startContainer,"PRE"),!o)return;i=1===n?c(bl.fromRangeStart(r)):s(bl.fromRangeStart(r)),i||(a=rA(t),1===n?t.$(o).after(a):t.$(o).before(a),t.selection.select(a,!0),t.selection.collapse())}},iA=function(t,n){var r,o=hd(t.getBody()),i=e(QR,o.next),a=e(QR,o.prev),u=n?vl.Forwards:vl.Backwards,c=n?i:a,s=t.selection.getRng();return(r=tA(u,t,c,s))?r:(r=oA(t,u,s),r?r:null)},aA=function(e,t){var n,r=t?1:-1,o=t?XE:KE,i=e.selection.getRng();return(n=nA(r,e,o,i))?n:(n=oA(e,r,i),n?n:null)},uA=function(e,t){return function(){var n=iA(e,t);return!!n&&(e.selection.setRng(n),!0)}},cA=function(e,t){return function(){var n=aA(e,t);return!!n&&(e.selection.setRng(n),!0)}};!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(PT||(PT={}));var sA=function(e,t){return e===vl.Backwards?t.reverse():t},lA=function(e,t,n){return e===vl.Forwards?t.next(n):t.prev(n)},fA=function(e,t,n,r){return cu.isBr(r.getNode(t===vl.Forwards))?PT.Br:Ff(n,r)===!1?PT.Block:PT.Wrap},dA=function(e,t,n,r){for(var o,i=hd(n),a=r,u=[];a&&(o=lA(t,i,a));){if(cu.isBr(o.getNode(!1)))return t===vl.Forwards?{positions:sA(t,u).concat([o]),breakType:PT.Br,breakAt:Re.some(o)}:{positions:sA(t,u),breakType:PT.Br,breakAt:Re.some(o)};if(o.isVisible()){if(e(a,o)){var c=fA(n,t,a,o);return{positions:sA(t,u),breakType:c,breakAt:Re.some(o)}}u.push(o),a=o}else a=o}return{positions:sA(t,u),breakType:PT.Eol,breakAt:Re.none()}},mA=function(e,t,n,r){return t(n,r).breakAt.map(function(r){var o=t(n,r).positions;return e===vl.Backwards?o.concat(r):[r].concat(o)}).getOr([])},gA=function(e,t){return Xe(e,function(e,n){return e.fold(function(){return Re.some(n)},function(r){return $s([ut(r.getClientRects()),ut(n.getClientRects())],function(e,o){var i=Math.abs(t-e.left),a=Math.abs(t-o.left);return a<=i?n:r}).or(e)})},Re.none())},pA=function(e,t){return ut(t.getClientRects()).bind(function(t){return gA(e,t.left)})},hA=e(dA,S.isAbove,-1),vA=e(dA,S.isBelow,1),bA=function(e,t){return hA(e,t).breakAt.isNone()},yA=function(e,t){return vA(e,t).breakAt.isNone()},CA=e(mA,-1,hA),xA=e(mA,1,vA),wA=function(e){return Ad.firstPositionIn(e).map(function(t){return[t].concat(vA(e,t).positions)}).getOr([])},EA=function(e){return Ad.lastPositionIn(e).map(function(t){return hA(e,t).positions.concat(t)}).getOr([])},NA=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},SA=function(e,t){return et(t,function(t){var n=NA(_s(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})},kA=function(e,t,n){return Xe(e,function(e,r){return e.fold(function(){return Re.some(r)},function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return Re.some(i<o?r:e)})},Re.none())},TA=function(e,t,n,r,o){var i=Sc(Qo.fromDom(n),"td,th,caption").map(function(e){return e.dom()}),a=$e(SA(e,i),function(e){return t(e,o)});return kA(a,r,o).map(function(e){return e.cell})},RA=function(e){return e.bottom},AA=function(e){return e.top},BA=function(e,t){return e.y<t},DA=function(e,t){return e.y>t},_A=e(TA,RA,BA),OA=e(TA,AA,DA),PA=function(e,t){return ut(t.getClientRects()).bind(function(t){return _A(e,t.left,t.top)}).bind(function(e){return pA(EA(e),t)})},IA=function(e,t){return ct(t.getClientRects()).bind(function(t){return OA(e,t.left,t.top)}).bind(function(e){return pA(wA(e),t)})},LA=function(e,t){e.selection.setRng(t),$T.scrollRangeIntoView(e,t)},FA=function(e,t,n){return n.breakAt.map(function(n){return e(t,n).breakAt.isSome()}).getOr(!1)},MA=function(e){return e.breakType===PT.Wrap&&0===e.positions.length},UA=function(e){return e.breakType===PT.Br&&1===e.positions.length},zA=function(e,t,n){var r=e(t,n);return MA(r)||!cu.isBr(n.getNode())&&UA(r)?!FA(e,t,r):r.breakAt.isNone()},VA=e(zA,hA),HA=e(zA,vA),jA=function(e,t,n){var r=bl.fromRangeStart(t);return Ad.positionIn(!e,n).map(function(e){return e.isEqual(r)}).getOr(!1)},qA=function(e,t,n,r){var o=e.selection.getRng(),i=t?1:-1;if(Cf()&&jA(t,o,n)){var a=mN(i,e,n,!t,!0);return LA(e,a),!0}return!1},WA=function(e,t,n){return PA(t,n).orThunk(function(){return ut(n.getClientRects()).bind(function(n){return gA(CA(e,bl.before(t)),n.left)})}).getOr(bl.before(t))},$A=function(e,t,n){return IA(t,n).orThunk(function(){return ut(n.getClientRects()).bind(function(n){return gA(xA(e,bl.after(t)),n.left)})}).getOr(bl.after(t))},KA=function(e,t){var n=t.getNode(e);return cu.isElement(n)&&"TABLE"===n.nodeName?Re.some(n):Re.none()},XA=function(e,t,n,r){var o=eC.getForcedRootBlock(t);o?t.undoManager.transact(function(){var r=Qo.fromTag(o);vi(r,eC.getForcedRootBlockAttrs(t)),rc(r,Qo.fromTag("br")),e?tc(Qo.fromDom(n),r):ec(Qo.fromDom(n),r);var i=t.dom.createRng();i.setStart(r.dom(),0),i.setEnd(r.dom(),0),LA(t,i)}):LA(t,r.toRange())},YA=function(e,t,n){var r=t?KA(!0,n):KA(!1,n),o=t===!1;r.fold(function(){return LA(e,n.toRange())},function(r){return Ad.positionIn(o,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return LA(e,n.toRange())},function(o){return XA(t,e,r,n)})})},GA=function(e,t,n,r){var o=e.selection.getRng(),i=bl.fromRangeStart(o),a=e.getBody();if(!t&&VA(r,i)){var u=WA(a,n,i);return YA(e,t,u),!0}if(t&&HA(r,i)){var u=$A(a,n,i);return YA(e,t,u),!0}return!1},ZA=function(e,t){return function(){return Re.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Re.from(e.dom.getParent(n,"table")).map(function(r){return qA(e,t,r,n)})}).getOr(!1)}},JA=function(e,t){return function(){return Re.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Re.from(e.dom.getParent(n,"table")).map(function(r){return GA(e,t,r,n)})}).getOr(!1)}},QA=function(e){return ze(["figcaption"],ri(e))},eB=function(e){var t=document.createRange();return t.setStartBefore(e.dom()),t.setEndBefore(e.dom()),t},tB=function(e,t,n){n?rc(e,t):nc(e,t)},nB=function(e,t){var n=Qo.fromTag("br");return tB(e,n,t),eB(n)},rB=function(e,t,n,r){var o=Qo.fromTag(n),i=Qo.fromTag("br");return vi(o,r),rc(o,i),tB(e,o,t),eB(i)},oB=function(e,t,n,r){return""===t?nB(e,r):rB(e,r,t,n)},iB=function(t,n){var r=e(Hi,n);return Tc(Qo.fromDom(t.container()),Ia,r).filter(QA)},aB=function(e,t,n){return t?yA(e.dom(),n):bA(e.dom(),n)},uB=function(e,t){var n=Qo.fromDom(e.getBody()),r=bl.fromRangeStart(e.selection.getRng()),o=eC.getForcedRootBlock(e),i=eC.getForcedRootBlockAttrs(e);return iB(r,n).exists(function(){if(aB(n,t,r)){var a=oB(n,o,i,t);return e.selection.setRng(a),!0}return!1})},cB=function(e,t){return function(){return!!e.selection.isCollapsed()&&uB(e,t)}},sB=function(e){return He(e,function(e){return Qk({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:ge},e)})},lB=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},fB=function(e,t){return et(sB(e),function(e){return lB(e,t)?[e]:[]})},dB=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,r)}},mB=function(e,t){return Ye(fB(e,t),function(e){return e.action()})},gB={match:fB,action:dB,execute:mB},pB=function(e,t,n){var r=Ko.detect().os;gB.execute([{keyCode:CN.RIGHT,action:uA(e,!0)},{keyCode:CN.LEFT,action:uA(e,!1)},{keyCode:CN.UP,action:cA(e,!1)},{keyCode:CN.DOWN,action:cA(e,!0)},{keyCode:CN.RIGHT,action:ZA(e,!0)},{keyCode:CN.LEFT,action:ZA(e,!1)},{keyCode:CN.UP,action:JA(e,!1)},{keyCode:CN.DOWN,action:JA(e,!0)},{keyCode:CN.RIGHT,action:Cb.move(e,t,!0)},{keyCode:CN.LEFT,action:Cb.move(e,t,!1)},{keyCode:CN.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Cb.moveNextWord(e,t)},{keyCode:CN.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:Cb.movePrevWord(e,t)},{keyCode:CN.UP,action:cB(e,!1)},{keyCode:CN.DOWN,action:cB(e,!0)}],n).each(function(e){n.preventDefault()})},hB=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&pB(e,t,n)})},vB={setup:hB},bB=function(e,t){var n=Jp.parentsAndSelf(t,e);return Ge(n,Ia).fold(he(n),function(e){return n.slice(0,e)})},yB=function(e){return 1===na(e).length},CB=function(t,n,r,o){var i=e(US,n),a=He($e(o,i),function(e){return e.dom()});if(0===a.length)lv.deleteElement(n,t,r);else{var u=MS(r.dom(),a);n.selection.setRng(u.toRange())}},xB=function(e,t){var n=Qo.fromDom(e.getBody()),r=Qo.fromDom(e.selection.getStart()),o=$e(bB(n,r),yB);return ct(o).map(function(n){var r=bl.fromRangeStart(e.selection.getRng());return!(!kp.willDeleteLastPositionInElement(t,r,n.dom())||zS(n))&&(CB(t,e,n,o),!0)}).getOr(!1)},wB=function(e,t){return!!e.selection.isCollapsed()&&xB(e,t)},EB={backspaceDelete:wB},NB=function(e,t,n){gB.execute([{keyCode:CN.BACKSPACE,action:gB.action(Cv.backspaceDelete,e,!1)},{keyCode:CN.DELETE,action:gB.action(Cv.backspaceDelete,e,!0)},{keyCode:CN.BACKSPACE,action:gB.action(Ab.backspaceDelete,e,t,!1)},{keyCode:CN.DELETE,action:gB.action(Ab.backspaceDelete,e,t,!0)},{keyCode:CN.BACKSPACE,action:gB.action(Ny.backspaceDelete,e,!1)},{keyCode:CN.DELETE,action:gB.action(Ny.backspaceDelete,e,!0)},{keyCode:CN.BACKSPACE,action:gB.action(Ch.backspaceDelete,e,!1)},{keyCode:CN.DELETE,action:gB.action(Ch.backspaceDelete,e,!0)},{keyCode:CN.BACKSPACE,action:gB.action(dh.backspaceDelete,e,!1)},{keyCode:CN.DELETE,action:gB.action(dh.backspaceDelete,e,!0)},{keyCode:CN.BACKSPACE,action:gB.action(EB.backspaceDelete,e,!1)},{keyCode:CN.DELETE,action:gB.action(EB.backspaceDelete,e,!0)}],n).each(function(e){n.preventDefault()})},SB=function(e,t){gB.execute([{keyCode:CN.BACKSPACE,action:gB.action(Cv.paddEmptyElement,e)},{keyCode:CN.DELETE,action:gB.action(Cv.paddEmptyElement,e)}],t)},kB=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&NB(e,t,n)}),e.on("keyup",function(t){t.isDefaultPrevented()===!1&&SB(e,t)})},TB={setup:kB},RB=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},AB=function(e,t){var n,r,o,i,a=t,u=e.dom,c=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var s=RB(t.firstChild);s&&/^(UL|OL|DL)$/.test(s.nodeName)&&t.insertBefore(u.doc.createTextNode(""),t.firstChild)}if(o=u.createRng(),t.normalize(),t.hasChildNodes()){for(n=new b(t,t);r=n.current();){if(cu.isText(r)){o.setStart(r,0),o.setEnd(r,0);break}if(c[r.nodeName.toLowerCase()]){o.setStartBefore(r),o.setEndBefore(r);break}a=r,r=n.next()}r||(o.setStart(a,0),o.setEnd(a,0))}else cu.isBr(t)?t.nextSibling&&u.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),u.remove(i),e.selection.scrollIntoView(t)}},BB=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},DB=function(e){return Re.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},_B=function(e){return DB(e).fold(he(""),function(e){return e.nodeName.toUpperCase()})},OB=function(e){return DB(e).filter(function(e){return za(Qo.fromDom(e))}).isSome()},PB={moveToCaretPosition:AB,getEditableRoot:BB,getParentBlock:DB,getParentBlockName:_B,isListItemParentBlock:OB},IB=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},LB=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},FB=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},MB=function(e){return FB(e)&&FB(e.parentNode)},UB=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},zB=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!cu.isElement(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},VB=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){MB(n)&&(o="LI");var u=o?t(o):i.create("BR");if(zB(n,r,!0)&&zB(n,r,!1))LB(n,"LI")?i.insertAfter(u,UB(n)):i.replace(u,n);else if(zB(n,r,!0))LB(n,"LI")?(i.insertAfter(u,UB(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n);else if(zB(n,r,!1))i.insertAfter(u,UB(n));else{n=UB(n);var c=a.cloneRange();c.setStartAfter(r),c.setEndAfter(n);var s=c.extractContents();"LI"===o&&IB(s,"LI")?(u=s.firstChild,i.insertAfter(s,n)):(i.insertAfter(s,n),i.insertAfter(u,n))}i.remove(r),PB.moveToCaretPosition(e,u)}},HB={insert:VB},jB=function(e){je(Nc(Qo.fromDom(e),ui),function(e){var t=e.dom();t.nodeValue=Qc.trim(t.nodeValue)})},qB=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},WB=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},$B=function(e){e.innerHTML='<br data-mce-bogus="1">'},KB=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},XB=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t);
},YB=function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;cu.isElement(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)o=i[r],!o.hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):qB(e,o)&&e.remove(o)}},GB=function(e,t,n){return cu.isText(t)===!1?n:e?1===n&&t.data.charAt(n-1)===Qc.ZWSP?0:n:n===t.data.length-1&&t.data.charAt(n)===Qc.ZWSP?t.data.length:n},ZB=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,GB(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,GB(!1,e.endContainer,e.endOffset)),t},JB=function(e){do cu.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},QB=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},eD=function(e,t){var n=eC.getForcedRootBlock(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,eC.getForcedRootBlockAttrs(e))},tD=function(e,t,n,r,o){var i,a,u,c,s,l,f=t||"P",d=e.dom,m=QB(d,r);if(a=d.getParent(r,d.isBlock),!a||!XB(d,a)){if(a=a||m,l=a===e.getBody()||WB(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),eD(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(c=r;c.parentNode!==a;)c=c.parentNode;for(;c&&!d.isBlock(c);)u=c,c=c.previousSibling;if(u&&e.schema.isValidChild(l,f.toLowerCase())){for(i=d.create(f),eD(e,i),u.parentNode.insertBefore(i,u),c=u;c&&!d.isBlock(c);)s=c.nextSibling,i.appendChild(c),c=s;n.setStart(r,o),n.setEnd(r,o)}}return r},nD=function(e,t){var n;t.normalize(),n=t.lastChild,n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},rD=function(e,t){var n,r,o,i,a,u,c,s,l,f,d,m,g,p=e.dom,h=e.schema,v=h.getNonEmptyElements(),y=e.selection.getRng(),C=function(t){var n,i,u,c=o,s=h.getTextInlineElements();if(t||"TABLE"===f||"HR"===f?(n=p.create(t||m),eD(e,n)):n=a.cloneNode(!1),u=n,eC.shouldKeepStyles(e)===!1)p.setAttrib(n,"style",null),p.setAttrib(n,"class",null);else do if(s[c.nodeName]){if(Zl(c))continue;i=c.cloneNode(!1),p.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(u=i,n.appendChild(i))}while((c=c.parentNode)&&c!==r);return $B(u),n},x=function(e){var t,n,r,u;if(u=GB(e,o,i),cu.isText(o)&&(e?u>0:u<o.nodeValue.length))return!1;if(o.parentNode===a&&g&&!e)return!0;if(e&&cu.isElement(o)&&o===a.firstChild)return!0;if(KB(o,"TABLE")||KB(o,"HR"))return g&&!e||!g&&e;for(t=new b(o,a),cu.isText(o)&&(e&&0===u?t.prev():e||u!==o.nodeValue.length||t.next());n=t.current();){if(cu.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(r=n.nodeName.toLowerCase(),v[r]&&"br"!==r))return!1}else if(cu.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0},w=function(){c=/^(H[1-6]|PRE|FIGURE)$/.test(f)&&"HGROUP"!==d?C(m):C(),eC.shouldEndContainerOnEmptyBlock(e)&&XB(p,l)&&p.isEmpty(a)?c=p.split(l,a):p.insertAfter(c,a),PB.moveToCaretPosition(e,c)};if(BC.normalize(p,y).each(function(e){y.setStart(e.startContainer,e.startOffset),y.setEnd(e.endContainer,e.endOffset)}),o=y.startContainer,i=y.startOffset,m=eC.getForcedRootBlock(e),u=t.shiftKey,cu.isElement(o)&&o.hasChildNodes()&&(g=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,i=g&&cu.isText(o)?o.nodeValue.length:0),r=QB(p,o))return(m&&!u||!m&&u)&&(o=tD(e,m,y,o,i)),a=p.getParent(o,p.isBlock),l=a?p.getParent(a.parentNode,p.isBlock):null,f=a?a.nodeName.toUpperCase():"",d=l?l.nodeName.toUpperCase():"","LI"!==d||t.ctrlKey||(a=l,l=l.parentNode,f=d),/^(LI|DT|DD)$/.test(f)&&p.isEmpty(a)?void HB.insert(e,C,l,a,m):void(m&&a===e.getBody()||(m=m||"P",ns(a)?(c=gs(a),p.isEmpty(a)&&$B(a),PB.moveToCaretPosition(e,c)):x()?w():x(!0)?(c=a.parentNode.insertBefore(C(),a),PB.moveToCaretPosition(e,KB(a,"HR")?c:a)):(n=ZB(y).cloneRange(),n.setEndAfter(a),s=n.extractContents(),jB(s),JB(s),c=s.firstChild,p.insertAfter(s,a),YB(p,v,c),nD(p,a),p.isEmpty(a)&&$B(a),c.normalize(),p.isEmpty(c)?(p.remove(c),w()):PB.moveToCaretPosition(e,c)),p.setAttrib(c,"id",""),e.fire("NewBlock",{newBlock:c})))},oD={insert:rD},iD=function(e,t){return PB.getParentBlock(e).filter(function(e){return t.length>0&&Mi(Qo.fromDom(e),t)}).isSome()},aD=function(e){return iD(e,eC.getBrNewLineSelector(e))},uD=function(e){return iD(e,eC.getNoNewLineSelector(e))},cD={shouldInsertBr:aD,shouldBlockNewLine:uD},sD=wh.generate([{br:[]},{block:[]},{none:[]}]),lD=function(e,t){return cD.shouldBlockNewLine(e)},fD=function(e){return function(t,n){var r=""===eC.getForcedRootBlock(t);return r===e}},dD=function(e){return function(t,n){return PB.isListItemParentBlock(t)===e}},mD=function(e,t){return function(n,r){var o=PB.getParentBlockName(n)===e.toUpperCase();return o===t}},gD=function(e){return mD("pre",e)},pD=function(){return mD("summary",!0)},hD=function(e){return function(t,n){return eC.shouldPutBrInPre(t)===e}},vD=function(e,t){return cD.shouldInsertBr(e)},bD=function(e,t){return t},yD=function(e){var t=eC.getForcedRootBlock(e),n=PB.getEditableRoot(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t?t:"P")},CD=function(e,t){return function(n,r){var o=Xe(e,function(e,t){return e&&t(n,r)},!0);return o?Re.some(t):Re.none()}},xD=function(e,t){return Iv.evaluateUntil([CD([lD],sD.none()),CD([pD()],sD.br()),CD([gD(!0),hD(!1),bD],sD.br()),CD([gD(!0),hD(!1)],sD.block()),CD([gD(!0),hD(!0),bD],sD.block()),CD([gD(!0),hD(!0)],sD.br()),CD([dD(!0),bD],sD.br()),CD([dD(!0)],sD.block()),CD([fD(!0),bD,yD],sD.block()),CD([fD(!0)],sD.br()),CD([vD],sD.br()),CD([fD(!1),bD],sD.br()),CD([yD],sD.block())],[e,t.shiftKey]).getOr(sD.none())},wD={getAction:xD},ED=function(e,t){wD.getAction(e,t).fold(function(){qC.insert(e,t)},function(){oD.insert(e,t)},ge)},ND={insert:ED},SD=function(e){e.typing&&(e.typing=!1,e.add())},kD=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),SD(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),ND.insert(e,t)}))},TD=function(e){e.on("keydown",function(t){t.keyCode===CN.ENTER&&kD(e,t)})},RD={setup:TD},AD=function(e,t){var n=t.container(),r=t.offset();return cu.isText(n)?(n.insertData(r,e),Re.some(S(n,r+e.length))):nd(t).map(function(n){var r=Qo.fromText(e);return t.isAtEnd()?tc(n,r):ec(n,r),S(r.dom(),e.length)})},BD=e(AD,""),DD=e(AD," "),_D=function(e,t,n){var r=$e(Jp.parentsAndSelf(Qo.fromDom(n.container()),t),Ia);return ut(r).fold(function(){return Ad.navigate(e,t.dom(),n).forall(function(e){return Ff(e,n,t.dom())===!1})},function(t){return Ad.navigate(e,t.dom(),n).isNone()})},OD=e(_D,!1),PD=e(_D,!0),ID="",LD=function(e){return S.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},FD=function(e,t){var n=$e(Jp.parentsAndSelf(Qo.fromDom(t.container()),e),Ia);return ut(n).getOr(e)},MD=function(e,t){return LD(t)?td(t):td(t)||Ad.prevPosition(FD(e,t).dom(),t).exists(td)},UD=function(e,t){return LD(t)?ed(t):ed(t)||Ad.nextPosition(FD(e,t).dom(),t).exists(ed)},zD=function(e){return ze(["pre","pre-line","pre-wrap"],e)},VD=function(e){return nd(e).bind(function(e){return Tc(e,ai)}).exists(function(e){return zD(Si(e,"white-space"))})},HD=function(e,t){return Ad.prevPosition(e.dom(),t).isNone()},jD=function(e,t){return Ad.nextPosition(e.dom(),t).isNone()},qD=function(e,t){return HD(e,t)||jD(e,t)||OD(e,t)||PD(e,t)||kh(e,t)||Sh(e,t)},WD=function(e,t){return!VD(t)&&(qD(e,t)||MD(e,t)||UD(e,t))},$D=function(e,t){return!VD(t)&&(OD(e,t)||kh(e,t)||MD(e,t))},KD=function(e,t){return!VD(t)&&(PD(e,t)||Sh(e,t)||UD(e,t))},XD=function(e,t){return Ef(e.charAt(t))},YD=function(e){var t=e.container();return cu.isText(t)&&Io(t.data,ID)},GD=function(e,t,n){var r=S(t,0);return XD(n,0)&&!$D(e,r)?" "+n.slice(1):n},ZD=function(e){return He(e.split(""),function(e,t,n){return Ef(e)&&t>0&&t<n.length-1&&Sf(n[t-1])&&Sf(n[t+1])?" ":e}).join("")},JD=function(e,t,n){var r=S(t,n.length);return XD(n,n.length-1)&&!KD(e,r)?n.slice(0,-1)+" ":n},QD=function(e,t){return Re.some(t).filter(YD).bind(function(t){var n=t.container(),r=n.nodeValue,o=GD(e,n,ZD(JD(e,n,r)));return r!==o?(t.container().nodeValue=o,Re.some(t)):Re.none()})},e_=function(e){var t=Qo.fromDom(e.getBody());e.selection.isCollapsed()&&QD(t,S.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},t_=function(e){return function(t){return t.fold(function(t){return Ad.prevPosition(e.dom(),bl.before(t))},function(e){return Ad.firstPositionIn(e)},function(e){return Ad.lastPositionIn(e)},function(t){return Ad.nextPosition(e.dom(),bl.after(t))})}},n_=function(e,t){return function(n){return WD(e,n)?BD(t):DD(t)}},r_=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},o_=function(t){var n=bl.fromRangeStart(t.selection.getRng()),r=Qo.fromDom(t.getBody());if(t.selection.isCollapsed()){var o=e(Cp.isInlineTarget,t),i=bl.fromRangeStart(t.selection.getRng());return nb.readLocation(o,t.getBody(),i).bind(t_(r)).bind(n_(r,n)).exists(r_(t))}return!1},i_=function(e,t){gB.execute([{keyCode:CN.SPACEBAR,action:gB.action(o_,e)}],t).each(function(e){t.preventDefault()})},a_=function(e){e.on("keydown",function(t){t.isDefaultPrevented()===!1&&i_(e,t)})},u_={setup:a_},c_=function(e){return Ac(Qo.fromDom(e.getBody()),"*[data-mce-caret]").fold(he(null),function(e){return e.dom()})},s_=function(e){e.selection.setRng(e.selection.getRng())},l_=function(e,t){t.hasAttribute("data-mce-caret")&&(gs(t),s_(e),e.selection.scrollIntoView(t))},f_=function(e,t){var n=c_(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void l_(e,n)):void(is(n)&&(l_(e,n),e.undoManager.add()))},d_=function(t){t.on("keyup compositionstart",e(f_,t))},m_={setup:d_},g_=Ko.detect().browser,p_=function(e){var t=lc(function(){e.composing||e_(e)},0);g_.isIE()&&(e.on("keypress",function(e){t.throttle()}),e.on("remove",function(e){t.cancel()}))},h_=function(e){p_(e),e.on("input",function(t){t.isComposing===!1&&e_(e)})},v_=function(e){var t=Cb.setupSelectedState(e);m_.setup(e),vB.setup(e,t),TB.setup(e,t),RD.setup(e),u_.setup(e),h_(e)},b_={setup:v_},y_=function(e){return cu.isElement(e)&&Ma(Qo.fromDom(e))},C_=function(e){var t=e.selection.getRng(),n=S.fromRangeStart(t),r=S.fromRangeEnd(t);if(S.isElementPosition(n)){var o=n.container();y_(o)&&Ad.firstPositionIn(o).each(function(e){return t.setStart(e.container(),e.offset())})}if(S.isElementPosition(r)){var o=n.container();y_(o)&&Ad.lastPositionIn(o).each(function(e){return t.setEnd(e.container(),e.offset())})}e.selection.setRng(Eg.normalize(t))},x_=function(e){e.on("click",function(t){t.detail>=3&&C_(e)})},w_=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},E_=function(e){e.parser.addNodeFilter("details",function(e){je(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){je(e,function(e){var t=e.attr("data-mce-open");e.attr("open",De(t)?t:null),e.attr("data-mce-open",null)})})},N_=function(e){w_(e),E_(e)},S_=Ku.DOM,k_=function(e,t){var n=Qo.fromDom(e.getDoc().head),r=Qo.fromTag("style");hi(r,"type","text/css"),rc(r,Qo.fromText(t)),rc(n,r)},T_=function(e){var t=Y(e.settings,e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,n){for(var r,o,i,a=t.length,u=e.dom;a--;)if(r=t[a],o=r.attr(n),i="data-mce-"+n,!r.attributes.map[i]){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?(o=u.serializeStyle(u.parseStyle(o),r.name),o.length||(o=null),r.attr(i,o),r.attr(n,o)):"tabindex"===n?(r.attr(i,o),r.attr(n,null)):r.attr(i,e.convertURL(o,n,r.name))}}),t.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("type")||"no/type",0!==n.indexOf("mce-")&&t.attr("type","mce-"+n)}),t.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n,r=t.length,o=e.schema.getNonEmptyElements();r--;)n=t[r],n.isEmpty(o)&&0===n.getAll("br").length&&(n.append(new hT("br",1)).shortEnded=!0)}),t},R_=function(e){e.settings.auto_focus&&Pt.setEditorTimeout(e,function(){var t;t=e.settings.auto_focus===!0?e:e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},A_=function(e){e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),R_(e)},B_=function(e){return e.inline?S_.styleSheetLoader:e.dom.styleSheetLoader},D_=function(e,t){var n,r,o=e.settings,i=e.getElement(),a=e.getDoc();o.inline||(e.getElement().style.visibility=e.orgVisibility),t||o.content_editable||(a.open(),a.write(e.iframeHTML),a.close()),o.content_editable&&(e.on("remove",function(){var e=this.getBody();S_.removeClass(e,"mce-content-body"),S_.removeClass(e,"mce-edit-focus"),S_.setAttrib(e,"contentEditable",null)}),S_.addClass(i,"mce-content-body"),e.contentDocument=a=o.content_document||document,e.contentWindow=o.content_window||window,e.bodyElement=i,o.content_document=o.content_window=null,o.root_name=i.nodeName.toLowerCase()),n=e.getBody(),n.disabled=!0,e.readonly=o.readonly,e.readonly||(e.inline&&"static"===S_.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=e.getParam("content_editable_state",!0)),n.disabled=!1,e.editorUpload=j(e),e.schema=y(o),e.dom=Ku(a,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:o.force_hex_style_colors,class_filter:o.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:o.content_editable,schema:e.schema,contentCssCors:eC.shouldUseContentCssCors(e),onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=T_(e),e.serializer=Z(o,e),e.selection=XR(e.dom,e.getWin(),e.serializer,e),e.annotator=T(e),e.formatter=X(e),e.undoManager=$(e),e._nodeChangeDispatcher=new q(e),e._selectionOverrides=kN(e),N_(e),x_(e),b_.setup(e),rE.setup(e),e.fire("PreInit"),o.browser_spellcheck||o.gecko_spellcheck||(a.body.spellcheck=!1,S_.setAttrib(n,"spellcheck","false")),e.quirks=Q(e),e.fire("PostRender"),o.directionality&&(n.dir=o.directionality),o.nowrap&&(n.style.whiteSpace="nowrap"),o.protect&&e.on("BeforeSetContent",function(e){xr.each(o.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),e.contentStyles.length>0&&(r="",xr.each(e.contentStyles,function(e){r+=e+"\r\n"}),e.dom.addStyle(r)),B_(e).loadAll(e.contentCSS,function(t){A_(e)},function(t){A_(e)}),o.content_style&&k_(e,o.content_style)},__={initContentBody:D_},O_=Ku.DOM,P_=function(e,t){if(document.domain!==window.location.hostname&&St.ie&&St.ie<12){var n=Gw.uuid("mce");e[n]=function(){__.initContentBody(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return O_.setAttrib(t,"src",r),!0}return!1},I_=function(e){var t="number"==typeof e?e+"px":e;return t?t:""},L_=function(e,t,n,r){var o=Qo.fromTag("iframe");return vi(o,r),vi(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Ni(o,{width:"100%",height:I_(n),display:"block"}),o},F_=function(e){var t,n,r;return r=eC.getDocType(e)+"<html><head>",eC.getDocumentBaseUrl(e)!==e.documentBaseUrl&&(r+='<base href="'+e.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',t=eC.getBodyId(e),n=eC.getBodyClass(e),eC.getContentSecurityPolicy(e)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+eC.getContentSecurityPolicy(e)+'" />'),r+='</head><body id="'+t+'" class="mce-content-body '+n+'" data-id="'+e.id+'"><br></body></html>'},M_=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),r=L_(e.id,n,t.height,eC.getIframeAttrs(e)).dom();r.onload=function(){r.onload=null,e.fire("load")};var o=P_(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=F_(e),O_.add(t.iframeContainer,r),o},U_=function(e,t){var n=M_(e,t);t.editorContainer&&(O_.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=O_.isHidden(t.editorContainer)),e.getElement().style.display="none",O_.setAttrib(e.id,"aria-hidden","true"),n||__.initContentBody(e)},z_={init:U_},V_=Ku.DOM,H_=function(e,t,n){var r,o,i=_w.get(n);if(r=_w.urls[n]||e.documentBaseUrl.replace(/\/$/,""),n=xr.trim(n),i&&xr.inArray(t,n)===-1){if(xr.each(_w.dependencies(n),function(n){H_(e,t,n)}),e.plugins[n])return;o=new i(e,r,e.$),e.plugins[n]=o,o.init&&(o.init(e,r),t.push(n))}},j_=function(e){return e.replace(/^\-/,"")},q_=function(e){var t=[];xr.each(e.settings.plugins.split(/[ ,]/),function(n){H_(e,t,j_(n))})},W_=function(e){var t,n=e.settings.theme;De(n)?(e.settings.theme=j_(n),t=Ow.get(n),e.theme=new t(e,Ow.urls[n]),e.theme.init&&e.theme.init(e,Ow.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)):e.theme={}},$_=function(e){var t,n,r,o,i,a=e.settings,u=e.getElement();return t=a.width||V_.getStyle(u,"width")||"100%",n=a.height||V_.getStyle(u,"height")||u.offsetHeight,r=a.min_height||100,o=/^[0-9\.]+(|px)$/i,o.test(""+t)&&(t=Math.max(parseInt(t,10),100)),o.test(""+n)&&(n=Math.max(parseInt(n,10),r)),i=e.theme.renderUI({targetNode:u,width:t,height:n,deltaWidth:a.delta_width,deltaHeight:a.delta_height}),a.content_editable||(n=(i.iframeHeight||n)+("number"==typeof n?i.deltaHeight||0:""),n<r&&(n=r)),i.height=n,i},K_=function(e){var t,n=e.getElement();return t=e.settings.theme(e,n),t.editorContainer.nodeType&&(t.editorContainer.id=t.editorContainer.id||e.id+"_parent"),t.iframeContainer&&t.iframeContainer.nodeType&&(t.iframeContainer.id=t.iframeContainer.id||e.id+"_iframecontainer"),t.height=t.iframeHeight?t.iframeHeight:n.offsetHeight,t},X_=function(e){return{editorContainer:e,iframeContainer:e}},Y_=function(e){var t=V_.create("div");return V_.insertAfter(t,e),X_(t)},G_=function(e){var t=e.getElement();return e.inline?X_(null):Y_(t)},Z_=function(e){var t=e.settings,n=e.getElement();return e.orgDisplay=n.style.display,De(t.theme)?$_(e):Le(t.theme)?K_(e):G_(e)},J_=function(e){var t,n=e.settings,r=e.getElement();return e.rtl=n.rtl_ui||e.editorManager.i18n.rtl,e.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||V_.getAttrib(r,"aria-label",e.getLang("aria.rich_text_area")),e.fire("ScriptsLoaded"),W_(e),q_(e),t=Z_(e),e.editorContainer=t.editorContainer?t.editorContainer:null,n.content_css&&xr.each(xr.explode(n.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))}),n.content_editable?__.initContentBody(e):z_.init(e,t)},Q_={init:J_},eO=Ku.DOM,tO=function(e){return"-"===e.charAt(0)},nO=function(e,t){var n=t.settings;n.language&&"en"!==n.language&&!n.language_url&&(n.language_url=t.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!t.editorManager.i18n.data[n.language]&&e.add(n.language_url)},rO=function(e,t,n,r){var o=t.settings,i=o.theme;if(De(i)){if(!tO(i)&&!Ow.urls.hasOwnProperty(i)){var a=o.theme_url;a?Ow.load(i,t.documentBaseURI.toAbsolute(a)):Ow.load(i,"themes/"+i+"/theme"+n+".js")}e.loadQueue(function(){Ow.waitFor(i,r)})}else r()},oO=function(e,t){xr.isArray(e.plugins)&&(e.plugins=e.plugins.join(" ")),xr.each(e.external_plugins,function(t,n){_w.load(n,t),e.plugins+=" "+n}),xr.each(e.plugins.split(/[ ,]/),function(e){if(e=xr.trim(e),e&&!_w.urls[e])if(tO(e)){e=e.substr(1,e.length);var n=_w.dependencies(e);xr.each(n,function(e){var n={prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"};e=_w.createUrl(n,e),_w.load(e.resource,e)})}else _w.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"})})},iO=function(e,t){var n=Ju.ScriptLoader;rO(n,e,t,function(){nO(n,e),oO(e.settings,t),n.loadQueue(function(){e.removed||Q_.init(e)},e,function(t){Dw.pluginLoadError(e,t[0]),e.removed||Q_.init(e)})})},aO=function(e){var t=e.settings,n=e.id,r=function(){eO.unbind(window,"ready",r),e.render()};if(!$t.Event.domLoaded)return void eO.bind(window,"ready",r);if(e.getElement()&&St.contentEditable){t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var o=e.getElement().form||eO.getParent(n,"form");o&&(e.formElement=o,t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(eO.insertAfter(eO.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},eO.bind(o,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!t.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),o._mceOldSubmit(o)})),e.windowManager=I(e),e.notificationManager=O(e),"xml"===t.encoding&&e.on("GetContent",function(e){e.save&&(e.content=eO.encode(e.content))}),t.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),t.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),iO(e,e.suffix)}},uO={render:aO},cO=function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r},sO={add:cO},lO=xr.each,fO=xr.trim,dO="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),mO={ftp:21,http:80,https:443,mailto:25},gO=function(e,t){var n,r,o=this;if(e=fO(e),t=o.settings=t||{},n=t.base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(o.source=e);var i=0===e.indexOf("//");0!==e.indexOf("/")||i||(e=(n?n.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(r=t.base_uri?t.base_uri.path:new gO(document.location.href).directory,""==t.base_uri.protocol?e="//mce_host"+o.toAbsPath(r,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(n&&n.protocol||"http")+"://mce_host"+o.toAbsPath(r,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),lO(dO,function(t,n){var r=e[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),o[t]=r}),n&&(o.protocol||(o.protocol=n.protocol),o.userInfo||(o.userInfo=n.userInfo),o.port||"mce_host"!==o.host||(o.port=n.port),o.host&&"mce_host"!==o.host||(o.host=n.host),o.source=""),i&&(o.protocol="")};gO.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;if("./"===e)return e;if(e=new gO(e,{base_uri:n}),"mce_host"!==e.host&&n.host!==e.host&&e.host||n.port!==e.port||n.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var r=n.getURI(),o=e.getURI();return r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o?r:(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return e=new gO(e,{base_uri:this}),e.getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=mO[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,o,i=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(r=0,o=e.length;r<o;r++)if(r>=n.length||e[r]!==n[r]){i=r+1;break}if(e.length<n.length)for(r=0,o=n.length;r<o;r++)if(r>=e.length||e[r]!==n[r]){i=r+1;break}if(1===i)return t;for(r=0,o=e.length-(i-1);r<o;r++)a+="../";for(r=i-1,o=n.length;r<o;r++)a+=r!==i-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var n,r,o,i=0,a=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),lO(e,function(e){e&&a.push(e)}),e=a,n=t.length-1,a=[];n>=0;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?i>0?i--:a.push(t[n]):i++);return n=e.length-i,o=n<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},gO.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},gO.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t};var pO="html",hO=function(e,t){var n=eC.getForcedRootBlock(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s||<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")},vO=function(e,t,n){var r;if(t.format=t.format?t.format:pO,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)r=xr.trim(IN.trimExternal(e.serializer,n.innerHTML));else if("text"===t.format)r=Qc.trim(n.innerText||n.textContent);else{if("tree"===t.format)return e.serializer.serialize(n,t);r=hO(e,e.serializer.serialize(n,t))}return"text"===t.format||qa(Qo.fromDom(n))?t.content=r:t.content=xr.trim(r),t.no_events||e.fire("GetContent",t),t.content},bO=function(e,t){return void 0===t&&(t={}),Re.from(e.getBody()).fold(he("tree"===t.format?new hT("body",11):""),function(n){return vO(e,t,n)})},yO=function(e,t){t(e),e.firstChild&&yO(e.firstChild,t),e.next&&yO(e.next,t)},CO=function(e,t,n){var r={},o={},i=[];n.firstChild&&yO(n.firstChild,function(n){je(e,function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}),je(t,function(e){"string"==typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})})});for(var a in r)r.hasOwnProperty(a)&&i.push(r[a]);for(var a in o)o.hasOwnProperty(a)&&i.push(o[a]);return i},xO=function(e,t,n){var r=CO(e,t,n);je(r,function(e){je(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},wO="html",EO=function(e){return e instanceof hT},NO=function(e){sw.hasFocus(e)&&Ad.firstPositionIn(e.getBody()).each(function(t){var n=t.getNode(),r=cu.isTable(n)?Ad.firstPositionIn(n).getOr(t):t;e.selection.setRng(r.toRange())})},SO=function(e,t){e.dom.setHTML(e.getBody(),t),NO(e)},kO=function(e,t,n,r){var o,i;return 0===n.length||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>"),o=eC.getForcedRootBlock(e),o&&e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())?(n=i,n=e.dom.createHTML(o,e.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),SO(e,n),e.fire("SetContent",r)):("raw"!==r.format&&(n=A({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=qa(Qo.fromDom(t))?n:xr.trim(n),SO(e,r.content),r.no_events||e.fire("SetContent",r)),r.content},TO=function(e,t,n,r){xO(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=A({validate:e.validate},e.schema).serialize(n);return r.content=qa(Qo.fromDom(t))?o:xr.trim(o),SO(e,r.content),r.no_events||e.fire("SetContent",r),n},RO=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:wO,n.set=!0,n.content=EO(t)?"":t,EO(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),Re.from(e.getBody()).fold(he(t),function(r){return EO(t)?TO(e,r,t,n):kO(e,r,t,n)})},AO=Ku.DOM,BO=function(e){AO.setStyle(e.id,"display",e.orgDisplay)},DO=function(e){return Re.from(e).each(function(e){return e.destroy()})},_O=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},OO=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),AO.unbind(t,"submit reset",e.formEventDelegate))},PO=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&AO.remove(o.nextSibling),!e.inline&&r&&BO(e),Ax.fireRemove(e),e.editorManager.remove(e),AO.remove(e.getContainer()),DO(t),DO(n),e.destroy()}},IO=function(e,t){var n=e.selection,r=e.dom;if(!e.destroyed){if(!t&&!e.removed)return void e.remove();t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),DO(n),DO(r)),OO(e),_O(e),e.destroyed=!0}},LO=Ku.DOM,FO=xr.extend,MO=xr.each,UO=xr.resolve,zO=St.ie,VO=function(e,t,n){var r=this,o=r.documentBaseUrl=n.documentBaseURL,i=n.baseURI;t=rp(r,e,o,n.defaultSettings,t),r.settings=t,w.language=t.language||"en",w.languageLoad=t.language_load,w.baseURL=n.baseURL,r.id=e,r.setDirty(!1),r.plugins={},r.documentBaseURI=new gO(t.document_base_url,{base_uri:i}),r.baseURI=i,r.contentCSS=[],r.contentStyles=[],r.shortcuts=new D(r),r.loadedCSS={},r.editorCommands=new B(r),r.suffix=n.suffix,r.editorManager=n,r.inline=t.inline,r.buttons={},r.menuItems={},t.cache_suffix&&(St.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),t.override_viewport===!1&&(St.overrideViewPort=!1),n.fire("SetupEditor",{editor:r}),r.execCallback("setup",r),r.$=Vr.overrideDefaults(function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}})};VO.prototype={render:function(){uO.render(this)},focus:function(e){sw.focus(this,e)},hasFocus:function(){return sw.hasFocus(this)},execCallback:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this,i=o.settings[e];if(i)return o.callbackLookup&&(r=o.callbackLookup[e])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=i.replace(/\.\w+$/,""),r=r?UO(r):0,i=UO(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[e]={func:i,scope:r}),i.apply(r||o,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&xr.is(e,"string")){var t=this.settings.language||"en",n=this.editorManager.i18n;e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n.data[t+"."+r]||"{#"+r+"}"})}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){return cp(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&"undefined"==typeof t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return sO.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({id:Gw.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e);
},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(LO.show(e.getContainer()),LO.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(zO&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(LO.hide(e.getContainer()),LO.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this,r=n.getElement();return n.removed?"":r?(e=e||{},e.load=!0,t=n.setContent(void 0!==r.value?r.value:r.innerHTML,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t):void 0},save:function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return e=e||{},e.save=!0,e.element=o,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=LO.getParent(r.id,"form"))&&MO(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,e.set_dirty!==!1&&r.setDirty(!1),t},setContent:function(e,t){return RO(this,e,t)},getContent:function(e){return bO(this,e)},insertContent:function(e,t){t&&(e=FO({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){Ox(this,e)},getContainer:function(){var e=this;return e.container||(e.container=LO.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=LO.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement,e&&(t.contentWindow=e.contentWindow)),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!o.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,o.remove_script_host)},addVisual:function(e){var t,n=this,r=n.settings,o=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),MO(o.select("table,a",e),function(e){var i;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",i=o.getAttrib(e,"border"),void(i&&"0"!==i||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t));case"A":return void(o.getAttrib(e,"href")||(i=o.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){PO(this)},destroy:function(e){IO(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},FO(VO.prototype,jx);var HO,jO,qO,WO=function(e){return e.className.toString().indexOf("mce-")!==-1},$O={isEditorUIElement:WO},KO=function(e){return"nodechange"===e.type&&e.selectionChange},XO=function(e,t){var n=function(){t.throttle()};Ku.DOM.bind(document,"mouseup",n),e.on("remove",function(){Ku.DOM.unbind(document,"mouseup",n)})},YO=function(e){e.on("focusout",function(){cx.store(e)})},GO=function(e,t){e.on("mouseup touchend",function(e){t.throttle()})},ZO=function(e,t){var n=Ko.detect().browser;n.isIE()?YO(e):GO(e,t),e.on("keyup nodechange",function(t){KO(t)||cx.store(e)})},JO=function(e){var t=lc(function(){cx.store(e)},0);e.inline&&XO(e,t),e.on("init",function(){ZO(e,t)}),e.on("remove",function(){t.cancel()})},QO={register:JO},eP=Ku.DOM,tP=function(e){return $O.isEditorUIElement(e)},nP=function(e,t){var n=e?e.settings.custom_ui_selector:"",r=eP.getParent(t,function(t){return tP(t)||!!n&&e.dom.is(t,n)});return null!==r},rP=function(){try{return document.activeElement}catch(e){return document.body}},oP=function(e,t){var n=t.editor;QO.register(n),n.on("focusin",function(){var t=this,n=e.focusedEditor;n!==t&&(n&&n.fire("blur",{focusedEditor:t}),e.setActive(t),e.focusedEditor=t,t.fire("focus",{blurredEditor:n}),t.focus(!0))}),n.on("focusout",function(){var t=this;Pt.setEditorTimeout(t,function(){var n=e.focusedEditor;nP(t,rP())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),HO||(HO=function(t){var n,r=e.activeEditor;n=t.target,r&&n.ownerDocument===document&&(n===document.body||nP(r,n)||e.focusedEditor!==r||(r.fire("blur",{focusedEditor:null}),e.focusedEditor=null))},eP.bind(document,"focusin",HO))},iP=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(eP.unbind(document,"focusin",HO),HO=null)},aP=function(t){t.on("AddEditor",e(oP,t)),t.on("RemoveEditor",e(iP,t))},uP={setup:aP,isEditorUIElement:tP,isUIElement:nP},cP={},sP="en",lP={setCode:function(e){e&&(sP=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return sP},rtl:!1,add:function(e,t){var n=cP[e];n||(cP[e]=n={});for(var r in t)n[r]=t[r];this.setCode(e)},translate:function(e){var t=cP[sP]||{},n=function(e){return xr.is(e,"function")?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||xr.is(e,"undefined")},o=function(e){return e=n(e),xr.hasOwn(t,e)?n(t[e]):e};if(r(e))return"";if(xr.is(e,"object")&&xr.hasOwn(e,"raw"))return n(e.raw);if(xr.is(e,"array")){var i=e.slice(1);e=o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return xr.hasOwn(i,t)?n(i[t]):e})}return o(e).replace(/{context:\w+}$/,"")},data:cP},fP=Ku.DOM,dP=xr.explode,mP=xr.each,gP=xr.extend,pP=0,hP=!1,vP=[],bP=[],yP=function(e){return"length"!==e},CP=function(e){mP(qO.get(),function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)})},xP=function(e){e!==hP&&(e?Vr(window).on("resize scroll",CP):Vr(window).off("resize scroll",CP),hP=e)},wP=function(e){var t=bP;delete vP[e.id];for(var n=0;n<vP.length;n++)if(vP[n]===e){vP.splice(n,1);break}return bP=$e(bP,function(t){return e!==t}),qO.activeEditor===e&&(qO.activeEditor=bP.length>0?bP[0]:null),qO.focusedEditor===e&&(qO.focusedEditor=null),t.length!==bP.length},EP=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(wP(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e};qO={defaultSettings:{},$:Vr,majorVersion:"4",minorVersion:"9.2",releaseDate:"2018-12-17",editors:vP,i18n:lP,activeEditor:null,settings:{},setup:function(){var e,t,n,r,o=this,i="";if(t=gO.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,i=n.suffix;else{for(var a=document.getElementsByTagName("script"),u=0;u<a.length;u++){r=a[u].src;var c=r.substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){c.indexOf(".min")!==-1&&(i=".min"),e=r.substring(0,r.lastIndexOf("/"));break}}!e&&document.currentScript&&(r=document.currentScript.src,r.indexOf(".min")!==-1&&(i=".min"),e=r.substring(0,r.lastIndexOf("/")))}o.baseURL=new gO(t).toAbsolute(e),o.documentBaseURL=t,o.baseURI=new gO(o.baseURL),o.suffix=i,uP.setup(o)},overrideDefaults:function(e){var t,n;t=e.base_url,t&&(this.baseURL=new gO(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new gO(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;for(var o in r)w.PluginManager.urls[o]=r[o]},init:function(e){var t,n,r=this;n=xr.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var o=function(e,t){return e.inline&&t.tagName.toLowerCase()in n},i=function(e){var t=e.id;return t||(t=e.name,t=t&&!fP.get(t)?e.name:fP.uniqueId(),e.setAttribute("id",t)),t},a=function(t){var n=e[t];if(n)return n.apply(r,Array.prototype.slice.call(arguments,2))},u=function(e,t){return t.constructor===RegExp?t.test(e.className):fP.hasClass(e,t)},c=function(e){var t,n=[];if(St.ie&&St.ie<11)return Dw.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(e.types)return mP(e.types,function(e){n=n.concat(fP.select(e.selector))}),n;if(e.selector)return fP.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":t=e.elements||"",t.length>0&&mP(dP(t),function(e){var t;(t=fP.get(e))?n.push(t):mP(document.forms,function(t){mP(t.elements,function(t){t.name===e&&(e="mce_editor_"+pP++,fP.setAttrib(t,"id",e),n.push(t))})})});break;case"textareas":case"specific_textareas":mP(fP.select("textarea"),function(t){e.editor_deselector&&u(t,e.editor_deselector)||e.editor_selector&&!u(t,e.editor_selector)||n.push(t)})}return n},s=function(e){t=e},l=function(){var t,n=0,u=[],f=function(e,o,i){var a=new VO(e,o,r);u.push(a),a.on("init",function(){++n===t.length&&s(u)}),a.targetElm=a.targetElm||i,a.render()};return fP.unbind(window,"ready",l),a("onpageload"),t=Vr.unique(c(e)),e.types?void mP(e.types,function(n){xr.each(t,function(t){return!fP.is(t,n.selector)||(f(i(t),gP({},e,n),t),!1)})}):(xr.each(t,function(e){EP(r.get(e.id))}),t=xr.grep(t,function(e){return!r.get(e.id)}),void(0===t.length?s([]):mP(t,function(t){o(e,t)?Dw.initError("Could not initialize inline editor on invalid inline target element",t):f(i(t),e,t)})))};return r.settings=e,fP.bind(window,"ready",l),new Tt(function(e){t?e(t):s=function(t){e(t)}})},get:function(e){return 0===arguments.length?bP.slice(0):De(e)?Ye(bP,function(t){return t.id===e}).getOr(null):Fe(e)&&bP[e]?bP[e]:null},add:function(e){var t,n=this;return t=vP[e.id],t===e?e:(null===n.get(e.id)&&(yP(e.id)&&(vP[e.id]=e),vP.push(e),bP.push(e)),xP(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),jO||(jO=function(){n.fire("BeforeUnload")},fP.bind(window,"beforeunload",jO)),e)},createEditor:function(e,t){return this.add(new VO(e,t,this))},remove:function(e){var t,n,r=this;if(e)return De(e)?void mP(fP.select(e),function(e){n=r.get(e.id),n&&r.remove(n)}):(n=e,Pe(r.get(n.id))?null:(wP(n)&&r.fire("RemoveEditor",{editor:n}),0===bP.length&&fP.unbind(window,"beforeunload",jO),n.remove(),xP(bP.length>0),n));for(t=bP.length-1;t>=0;t--)r.remove(bP[t])},execCommand:function(e,t,n){var r=this,o=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new VO(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){mP(bP,function(e){e.save()})},addI18n:function(e,t){lP.add(e,t)},translate:function(e){return lP.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},gP(qO,wx),qO.setup();var NP=qO;!function(e){e.compareRanges=vC.isEq,e.getCaretRangeFromPoint=JT.fromPoint,e.getSelectedNode=Hs,e.getNode=js}(ee||(ee={}));var SP,kP,TP=ee,RP=Math.min,AP=Math.max,BP=Math.round,DP=function(e,t,n){var r,o,i,a,u,c;return r=t.x,o=t.y,i=e.w,a=e.h,u=t.w,c=t.h,n=(n||"").split(""),"b"===n[0]&&(o+=c),"r"===n[1]&&(r+=u),"c"===n[0]&&(o+=BP(c/2)),"c"===n[1]&&(r+=BP(u/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=BP(a/2)),"c"===n[4]&&(r-=BP(i/2)),LP(r,o,i,a)},_P=function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if(o=DP(e,t,r[i]),o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},OP=function(e,t,n){return LP(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},PP=function(e,t){var n,r,o,i;return n=AP(e.x,t.x),r=AP(e.y,t.y),o=RP(e.x+e.w,t.x+t.w),i=RP(e.y+e.h,t.y+t.h),o-n<0||i-r<0?null:LP(n,r,o-n,i-r)},IP=function(e,t,n){var r,o,i,a,u,c,s,l,f,d;return u=e.x,c=e.y,s=e.x+e.w,l=e.y+e.h,f=t.x+t.w,d=t.y+t.h,r=AP(0,t.x-u),o=AP(0,t.y-c),i=AP(0,s-f),a=AP(0,l-d),u+=r,c+=o,n&&(s+=r,l+=o,u-=i,c-=a),s-=i,l-=a,LP(u,c,s-u,l-c)},LP=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},FP=function(e){return LP(e.left,e.top,e.width,e.height)},MP={inflate:OP,relativePosition:DP,findBestRelativePosition:_P,intersect:PP,clamp:IP,create:LP,fromClientRect:FP},UP={},zP={add:function(e,t){UP[e.toLowerCase()]=t},has:function(e){return!!UP[e.toLowerCase()]},get:function(e){var t=e.toLowerCase(),n=UP.hasOwnProperty(t)?UP[t]:null;if(null===n)throw new Error("Could not find module for type: "+e);return n},create:function(e,t){var n;if("string"==typeof e?(t=t||{},t.type=e):(t=e,e=t.type),e=e.toLowerCase(),n=UP[e],!n)throw new Error("Could not find control by type: "+e);return n=new n(t),n.type=e,n}},VP=xr.each,HP=xr.extend,jP=function(){};jP.extend=SP=function(e){var t,n,r,o=this,i=o.prototype,a=function(){var e,t,n,r=this;if(!kP&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)},u=function(){return this},c=function(e,t){return function(){var n,r=this,o=r._super;return r._super=i[e],n=t.apply(r,arguments),r._super=o,n}};kP=!0,t=new o,kP=!1,e.Mixins&&(VP(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),i.Mixins&&(e.Mixins=i.Mixins.concat(e.Mixins))),e.Methods&&VP(e.Methods.split(","),function(t){e[t]=u}),e.Properties&&VP(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}}),e.Statics&&VP(e.Statics,function(e,t){a[t]=e}),e.Defaults&&i.Defaults&&(e.Defaults=HP({},i.Defaults,e.Defaults));for(n in e)r=e[n],"function"==typeof r&&i[n]?t[n]=c(n,r):t[n]=r;return a.prototype=t,a.constructor=a,a.extend=SP,a};var qP=Math.min,WP=Math.max,$P=Math.round,KP=function(e){var t={},n=0,r=0,o=0,i=function(e,t,n){var r,o,i,a,u,c;return r=0,o=0,i=0,e/=255,t/=255,n/=255,u=qP(e,qP(t,n)),c=WP(e,WP(t,n)),u===c?(i=u,{h:0,s:0,v:100*i}):(a=e===u?t-n:n===u?e-t:n-e,r=e===u?3:n===u?1:5,r=60*(r-a/(c-u)),o=(c-u)/c,i=c,{h:$P(r),s:$P(100*o),v:$P(100*i)})},a=function(e,t,i){var a,u,c,s;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=WP(0,qP(t,1)),i=WP(0,qP(i,1)),0===t)return void(n=r=o=$P(255*i));switch(a=e/60,u=i*t,c=u*(1-Math.abs(a%2-1)),s=i-u,Math.floor(a)){case 0:n=u,r=c,o=0;break;case 1:n=c,r=u,o=0;break;case 2:n=0,r=u,o=c;break;case 3:n=0,r=c,o=u;break;case 4:n=c,r=0,o=u;break;case 5:n=u,r=0,o=c;break;default:n=r=o=0}n=$P(255*(n+s)),r=$P(255*(r+s)),o=$P(255*(o+s))},u=function(){var e=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)},c=function(){return{r:n,g:r,b:o}},s=function(){return i(n,r,o)},l=function(e){var i;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&a(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,t};return e&&l(e),t.toRgb=c,t.toHsv=s,t.toHex=u,t.parse=l,t},XP=function(e,t){var n,r,o,i;if(t=t||'"',null===e)return"null";if(o=typeof e,"string"===o)return r="\bb\tt\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,o){return'"'===t&&"'"===e?e:(n=r.indexOf(o),n+1?"\\"+r.charAt(n+1):(e=o.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+t;if("object"===o){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(n=0,r="[";n<e.length;n++)r+=(n>0?",":"")+XP(e[n],t);return r+"]"}r="{";for(i in e)e.hasOwnProperty(i)&&(r+="function"!=typeof e[i]?(r.length>1?","+t:t)+i+t+":"+XP(e[i],t):"");return r+"}"}return""+e},YP={serialize:XP,parse:function(e){try{return JSON.parse(e)}catch(t){}}},GP={callbacks:{},count:0,send:function(e){var t=this,n=Ku.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},ZP={send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||n++>1e4?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",ZP.fire("beforeInitialize",{settings:e}),t=L()){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&xr.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=ZP.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return r();setTimeout(r,10)}}};xr.extend(ZP,wx);var JP=xr.extend,QP=function(e){this.settings=JP({},e),this.count=0};QP.sendRPC=function(e){return(new QP).send(e)},QP.prototype={send:function(e){var t=e.error,n=e.success;e=JP(this.settings,e),e.success=function(r,o){r=YP.parse(r),"undefined"==typeof r&&(r={error:"JSON Parse error."}),r.error?t.call(e.error_scope||e.scope,r.error,o):n.call(e.success_scope||e.scope,r.result)},e.error=function(n,r){t&&t.call(e.error_scope||e.scope,n,r)},e.data=YP.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),e.content_type="application/json",ZP.send(e)}};var eI,tI=function(){return function(){var e={},t=[],n={getItem:function(t){var n=e[t];return n?n:null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter(function(e){return e===n}),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()};try{eI=window.localStorage}catch(Gn){eI=tI()}var nI=eI,rI=NP,oI={geom:{Rect:MP},util:{Promise:Tt,Delay:Pt,Tools:xr,VK:CN,URI:gO,Class:jP,EventDispatcher:yx,Observable:wx,I18n:lP,XHR:ZP,JSON:YP,JSONRequest:QP,JSONP:GP,LocalStorage:nI,Color:KP},dom:{EventUtils:$t,Sizzle:Zn,DomQuery:Vr,TreeWalker:b,DOMUtils:Ku,ScriptLoader:Ju,RangeUtils:TP,Serializer:Z,ControlSelection:UT,BookmarkManager:IT,Selection:XR,Event:$t.Event},html:{Styles:C,Entities:Tu,Node:hT,Schema:y,SaxParser:DN,DomParser:Y,Writer:R,Serializer:A},ui:{Factory:zP},Env:St,AddOnManager:w,Annotator:T,Formatter:X,UndoManager:$,EditorCommands:B,WindowManager:I,NotificationManager:O,EditorObservable:jx,Shortcuts:D,Editor:VO,FocusManager:$O,EditorManager:NP,DOM:Ku.DOM,ScriptLoader:Ju.ScriptLoader,PluginManager:w.PluginManager,ThemeManager:w.ThemeManager,trim:xr.trim,isArray:xr.isArray,is:xr.is,toArray:xr.toArray,makeMap:xr.makeMap,each:xr.each,map:xr.map,grep:xr.grep,inArray:xr.inArray,extend:xr.extend,create:xr.create,walk:xr.walk,createNS:xr.createNS,resolve:xr.resolve,explode:xr.explode,_addCacheSuffix:xr._addCacheSuffix,isOpera:St.opera,isWebKit:St.webkit,isIE:St.ie,isGecko:St.gecko,isMac:St.mac};rI=xr.extend(rI,oI);var iI=rI,aI=function(e){if("object"==typeof module)try{module.exports=e}catch(t){}},uI=function(e){window.tinymce=e,window.tinyMCE=e};uI(iI),aI(iI)}()}();
}).call(this,require("timers").setImmediate)

},{"timers":62}],"underscore.string":[function(require,module,exports){
"use strict";function s(e){return this instanceof s?void(this._wrapped=e):new s(e)}function fn2method(e,r){"function"==typeof r&&(s.prototype[e]=function(){var e=[this._wrapped].concat(Array.prototype.slice.call(arguments)),i=r.apply(null,e);return"string"==typeof i?new s(i):i})}function prototype2method(e){fn2method(e,function(r){var s=Array.prototype.slice.call(arguments,1);return String.prototype[e].apply(r,s)})}s.VERSION="3.3.4",s.isBlank=require("./isBlank"),s.stripTags=require("./stripTags"),s.capitalize=require("./capitalize"),s.decapitalize=require("./decapitalize"),s.chop=require("./chop"),s.trim=require("./trim"),s.clean=require("./clean"),s.cleanDiacritics=require("./cleanDiacritics"),s.count=require("./count"),s.chars=require("./chars"),s.swapCase=require("./swapCase"),s.escapeHTML=require("./escapeHTML"),s.unescapeHTML=require("./unescapeHTML"),s.splice=require("./splice"),s.insert=require("./insert"),s.replaceAll=require("./replaceAll"),s.include=require("./include"),s.join=require("./join"),s.lines=require("./lines"),s.dedent=require("./dedent"),s.reverse=require("./reverse"),s.startsWith=require("./startsWith"),s.endsWith=require("./endsWith"),s.pred=require("./pred"),s.succ=require("./succ"),s.titleize=require("./titleize"),s.camelize=require("./camelize"),s.underscored=require("./underscored"),s.dasherize=require("./dasherize"),s.classify=require("./classify"),s.humanize=require("./humanize"),s.ltrim=require("./ltrim"),s.rtrim=require("./rtrim"),s.truncate=require("./truncate"),s.prune=require("./prune"),s.words=require("./words"),s.pad=require("./pad"),s.lpad=require("./lpad"),s.rpad=require("./rpad"),s.lrpad=require("./lrpad"),s.sprintf=require("./sprintf"),s.vsprintf=require("./vsprintf"),s.toNumber=require("./toNumber"),s.numberFormat=require("./numberFormat"),s.strRight=require("./strRight"),s.strRightBack=require("./strRightBack"),s.strLeft=require("./strLeft"),s.strLeftBack=require("./strLeftBack"),s.toSentence=require("./toSentence"),s.toSentenceSerial=require("./toSentenceSerial"),s.slugify=require("./slugify"),s.surround=require("./surround"),s.quote=require("./quote"),s.unquote=require("./unquote"),s.repeat=require("./repeat"),s.naturalCmp=require("./naturalCmp"),s.levenshtein=require("./levenshtein"),s.toBoolean=require("./toBoolean"),s.exports=require("./exports"),s.escapeRegExp=require("./helper/escapeRegExp"),s.wrap=require("./wrap"),s.map=require("./map"),s.strip=s.trim,s.lstrip=s.ltrim,s.rstrip=s.rtrim,s.center=s.lrpad,s.rjust=s.lpad,s.ljust=s.rpad,s.contains=s.include,s.q=s.quote,s.toBool=s.toBoolean,s.camelcase=s.camelize,s.mapChars=s.map,s.prototype={value:function(){return this._wrapped}};for(var key in s)fn2method(key,s[key]);fn2method("tap",function(e,r){return r(e)});var prototypeMethods=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var method in prototypeMethods)prototype2method(prototypeMethods[method]);module.exports=s;
},{"./camelize":63,"./capitalize":64,"./chars":65,"./chop":66,"./classify":67,"./clean":68,"./cleanDiacritics":69,"./count":70,"./dasherize":71,"./decapitalize":72,"./dedent":73,"./endsWith":74,"./escapeHTML":75,"./exports":76,"./helper/escapeRegExp":80,"./humanize":85,"./include":86,"./insert":87,"./isBlank":88,"./join":89,"./levenshtein":90,"./lines":91,"./lpad":92,"./lrpad":93,"./ltrim":94,"./map":95,"./naturalCmp":96,"./numberFormat":97,"./pad":98,"./pred":99,"./prune":100,"./quote":101,"./repeat":102,"./replaceAll":103,"./reverse":104,"./rpad":105,"./rtrim":106,"./slugify":107,"./splice":108,"./sprintf":109,"./startsWith":110,"./strLeft":111,"./strLeftBack":112,"./strRight":113,"./strRightBack":114,"./stripTags":115,"./succ":116,"./surround":117,"./swapCase":118,"./titleize":119,"./toBoolean":120,"./toNumber":121,"./toSentence":122,"./toSentenceSerial":123,"./trim":124,"./truncate":125,"./underscored":126,"./unescapeHTML":127,"./unquote":128,"./vsprintf":129,"./words":130,"./wrap":131}],"underscore":[function(require,module,exports){
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&i<o;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&i<u;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&i<a;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,y=c.bind,d=Object.create,g=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(e<2||null==r)return r;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(d)return d(n);g.prototype=n;var t=new g;return g.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&t<=A};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;e<u;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;e<u;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;if(e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),void 0!==e&&e!==-1)return n[e]},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-(1/0),o=-(1/0);if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-(1/0)&&i===-(1/0))&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e<i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;i<e;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);o<a;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;f<l;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);o<a;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);e<u;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;o<r&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;e<t;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(y&&n.bind===y)return y.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;o<u;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(e<=1)throw new Error("bindAll must be passed function names");for(t=1;t<e;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;f<t&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;a<i;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;i<o;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;a<c;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n||(k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length)},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
},{}]},{},[])

