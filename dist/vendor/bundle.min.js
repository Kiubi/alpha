require=(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],n):(e.Backbone=e.Backbone||{},e.Backbone.Radio=n(e._,e.Backbone))}(this,function(e,n){"use strict";function t(e,n,t,r){var o=e[n];if(!(t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context))return delete e[n],!0}function r(n,r,o,i){n||(n={});for(var s=r?[r]:e.keys(n),u=!1,c=0,a=s.length;c<a;c++)r=s[c],n[r]&&t(n,r,o,i)&&(u=!0);return u}function o(n){return l[n]||(l[n]=e.bind(c.log,c,n))}function i(n){return e.isFunction(n)?n:function(){return n}}e="default"in e?e["default"]:e,n="default"in n?n["default"]:n;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=n.Radio,c=n.Radio={};c.VERSION="2.0.0",c.noConflict=function(){return n.Radio=u,this},c.DEBUG=!1,c._debugText=function(e,n,t){return e+(t?" on the "+t+" channel":"")+': "'+n+'"'},c.debugLog=function(e,n,t){c.DEBUG&&console&&console.warn&&console.warn(c._debugText(e,n,t))};var a=/\s+/;c._eventsApi=function(n,t,r,o){if(!r)return!1;var i={};if("object"===("undefined"==typeof r?"undefined":s(r))){for(var u in r){var c=n[t].apply(n,[u,r[u]].concat(o));a.test(u)?e.extend(i,c):i[u]=c}return i}if(a.test(r)){for(var l=r.split(a),f=0,h=l.length;f<h;f++)i[l[f]]=n[t].apply(n,[l[f]].concat(o));return i}return!1},c._callHandler=function(e,n,t){var r=t[0],o=t[1],i=t[2];switch(t.length){case 0:return e.call(n);case 1:return e.call(n,r);case 2:return e.call(n,r,o);case 3:return e.call(n,r,o,i);default:return e.apply(n,t)}};var l={};e.extend(c,{log:function(n,t){if("undefined"!=typeof console){var r=e.toArray(arguments).slice(2);console.log("["+n+'] "'+t+'"',r)}},tuneIn:function(e){var n=c.channel(e);return n._tunedIn=!0,n.on("all",o(e)),this},tuneOut:function(e){var n=c.channel(e);return n._tunedIn=!1,n.off("all",o(e)),delete l[e],this}}),c.Requests={request:function(n){var t=e.toArray(arguments).slice(1),r=c._eventsApi(this,"request",n,t);if(r)return r;var o=this.channelName,i=this._requests;if(o&&this._tunedIn&&c.log.apply(this,[o,n].concat(t)),i&&(i[n]||i["default"])){var s=i[n]||i["default"];return t=i[n]?t:arguments,c._callHandler(s.callback,s.context,t)}c.debugLog("An unhandled request was fired",n,o)},reply:function(e,n,t){return c._eventsApi(this,"reply",e,[n,t])?this:(this._requests||(this._requests={}),this._requests[e]&&c.debugLog("A request was overwritten",e,this.channelName),this._requests[e]={callback:i(n),context:t||this},this)},replyOnce:function(n,t,r){if(c._eventsApi(this,"replyOnce",n,[t,r]))return this;var o=this,s=e.once(function(){return o.stopReplying(n),i(t).apply(this,arguments)});return this.reply(n,s,r)},stopReplying:function(e,n,t){return c._eventsApi(this,"stopReplying",e)?this:(e||n||t?r(this._requests,e,n,t)||c.debugLog("Attempted to remove the unregistered request",e,this.channelName):delete this._requests,this)}},c._channels={},c.channel=function(e){if(!e)throw new Error("You must provide a name for the channel.");return c._channels[e]?c._channels[e]:c._channels[e]=new c.Channel(e)},c.Channel=function(e){this.channelName=e},e.extend(c.Channel.prototype,n.Events,c.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var f,h,d=[n.Events,c.Requests];return e.each(d,function(n){e.each(n,function(n,t){c[t]=function(n){return h=e.toArray(arguments).slice(1),f=this.channel(n),f[t].apply(f,h)}})}),c.reset=function(n){var t=n?[this._channels[n]]:this._channels;e.each(t,function(e){e.reset()})},c});
},{"backbone":"backbone","underscore":"underscore"}],2:[function(require,module,exports){
+function(t){"use strict";function i(i){return this.each(function(){var o=t(this),f=o.data("bs.affix"),n="object"==typeof i&&i;f||o.data("bs.affix",f=new e(this,n)),"string"==typeof i&&f[i]()})}var e=function(i,o){this.options=t.extend({},e.DEFAULTS,o),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};e.VERSION="3.3.7",e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0,target:window},e.prototype.getState=function(t,i,e,o){var f=this.$target.scrollTop(),n=this.$element.offset(),s=this.$target.height();if(null!=e&&"top"==this.affixed)return f<e&&"top";if("bottom"==this.affixed)return null!=e?!(f+this.unpin<=n.top)&&"bottom":!(f+s<=t-o)&&"bottom";var a=null==this.affixed,h=a?f:n.top,r=a?s:i;return null!=e&&f<=e?"top":null!=o&&h+r>=t-o&&"bottom"},e.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(e.RESET).addClass("affix");var t=this.$target.scrollTop(),i=this.$element.offset();return this.pinnedOffset=i.top-t},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=this.$element.height(),o=this.options.offset,f=o.top,n=o.bottom,s=Math.max(t(document).height(),t(document.body).height());"object"!=typeof o&&(n=f=o),"function"==typeof f&&(f=o.top(this.$element)),"function"==typeof n&&(n=o.bottom(this.$element));var a=this.getState(s,i,f,n);if(this.affixed!=a){null!=this.unpin&&this.$element.css("top","");var h="affix"+(a?"-"+a:""),r=t.Event(h+".bs.affix");if(this.$element.trigger(r),r.isDefaultPrevented())return;this.affixed=a,this.unpin="bottom"==a?this.getPinnedOffset():null,this.$element.removeClass(e.RESET).addClass(h).trigger(h.replace("affix","affixed")+".bs.affix")}"bottom"==a&&this.$element.offset({top:s-i-n})}};var o=t.fn.affix;t.fn.affix=i,t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=o,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),o=e.data();o.offset=o.offset||{},null!=o.offsetBottom&&(o.offset.bottom=o.offsetBottom),null!=o.offsetTop&&(o.offset.top=o.offsetTop),i.call(e,o)})})}(jQuery);
},{}],3:[function(require,module,exports){
+function(t){"use strict";function e(e){return this.each(function(){var a=t(this),n=a.data("bs.alert");n||a.data("bs.alert",n=new r(this)),"string"==typeof e&&n[e].call(a)})}var a='[data-dismiss="alert"]',r=function(e){t(e).on("click",a,this.close)};r.VERSION="3.3.7",r.TRANSITION_DURATION=150,r.prototype.close=function(e){function a(){o.detach().trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=t("#"===s?[]:s);e&&e.preventDefault(),o.length||(o=n.closest(".alert")),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one("bsTransitionEnd",a).emulateTransitionEnd(r.TRANSITION_DURATION):a())};var n=t.fn.alert;t.fn.alert=e,t.fn.alert.Constructor=r,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",a,r.prototype.close)}(jQuery);
},{}],4:[function(require,module,exports){
+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),i=s.data("bs.button"),o="object"==typeof e&&e;i||s.data("bs.button",i=new n(this,o)),"toggle"==e?i.toggle():e&&i.setState(e)})}var n=function(e,s){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,s),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",s=this.$element,i=s.is("input")?"val":"html",o=s.data();e+="Text",null==o.resetText&&s.data("resetText",s[i]()),setTimeout(t.proxy(function(){s[i](null==o[e]?this.options[e]:o[e]),"loadingText"==e?(this.isLoading=!0,s.addClass(n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,s.removeClass(n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".active").removeClass("active"),this.$element.addClass("active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("active")&&(t=!1),this.$element.toggleClass("active")),n.prop("checked",this.$element.hasClass("active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active")),this.$element.toggleClass("active")};var s=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=s,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var s=t(n.target).closest(".btn");e.call(s,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),s.is("input,button")?s.trigger("focus"):s.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(e.type))})}(jQuery);
},{}],5:[function(require,module,exports){
+function(t){"use strict";function e(e){return this.each(function(){var s=t(this),n=s.data("bs.carousel"),a=t.extend({},i.DEFAULTS,s.data(),"object"==typeof e&&e),r="string"==typeof e?e:a.slide;n||s.data("bs.carousel",n=new i(this,a)),"number"==typeof e?n.to(e):r?n[r]():a.interval&&n.pause().cycle()})}var i=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};i.VERSION="3.3.7",i.TRANSITION_DURATION=600,i.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},i.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},i.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},i.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".item"),this.$items.index(t||this.$active)},i.prototype.getItemForDirection=function(t,e){var i=this.getItemIndex(e),s="prev"==t&&0===i||"next"==t&&i==this.$items.length-1;if(s&&!this.options.wrap)return e;var n="prev"==t?-1:1,a=(i+n)%this.$items.length;return this.$items.eq(a)},i.prototype.to=function(t){var e=this,i=this.getItemIndex(this.$active=this.$element.find(".item.active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):i==t?this.pause().cycle():this.slide(t>i?"next":"prev",this.$items.eq(t))},i.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},i.prototype.next=function(){if(!this.sliding)return this.slide("next")},i.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},i.prototype.slide=function(e,s){var n=this.$element.find(".item.active"),a=s||this.getItemForDirection(e,n),r=this.interval,o="next"==e?"left":"right",l=this;if(a.hasClass("active"))return this.sliding=!1;var h=a[0],c=t.Event("slide.bs.carousel",{relatedTarget:h,direction:o});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,r&&this.pause(),this.$indicators.length){this.$indicators.find(".active").removeClass("active");var d=t(this.$indicators.children()[this.getItemIndex(a)]);d&&d.addClass("active")}var u=t.Event("slid.bs.carousel",{relatedTarget:h,direction:o});return t.support.transition&&this.$element.hasClass("slide")?(a.addClass(e),a[0].offsetWidth,n.addClass(o),a.addClass(o),n.one("bsTransitionEnd",function(){a.removeClass([e,o].join(" ")).addClass("active"),n.removeClass(["active",o].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger(u)},0)}).emulateTransitionEnd(i.TRANSITION_DURATION)):(n.removeClass("active"),a.addClass("active"),this.sliding=!1,this.$element.trigger(u)),r&&this.cycle(),this}};var s=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=i,t.fn.carousel.noConflict=function(){return t.fn.carousel=s,this};var n=function(i){var s,n=t(this),a=t(n.attr("data-target")||(s=n.attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,""));if(a.hasClass("carousel")){var r=t.extend({},a.data(),n.data()),o=n.attr("data-slide-to");o&&(r.interval=!1),e.call(a,r),o&&a.data("bs.carousel").to(o),i.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",n).on("click.bs.carousel.data-api","[data-slide-to]",n),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var i=t(this);e.call(i,i.data())})})}(jQuery);
},{}],6:[function(require,module,exports){
+function(t){"use strict";function e(e){var a,s=e.attr("data-target")||(a=e.attr("href"))&&a.replace(/.*(?=#[^\s]+$)/,"");return t(s)}function a(e){return this.each(function(){var a=t(this),i=a.data("bs.collapse"),n=t.extend({},s.DEFAULTS,a.data(),"object"==typeof e&&e);!i&&n.toggle&&/show|hide/.test(e)&&(n.toggle=!1),i||a.data("bs.collapse",i=new s(this,n)),"string"==typeof e&&i[e]()})}var s=function(e,a){this.$element=t(e),this.options=t.extend({},s.DEFAULTS,a),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};s.VERSION="3.3.7",s.TRANSITION_DURATION=350,s.DEFAULTS={toggle:!0},s.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},s.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(e=i.data("bs.collapse"),e&&e.transitioning))){var n=t.Event("show.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){i&&i.length&&(a.call(i,"hide"),e||i.data("bs.collapse",null));var l=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[l](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("collapse in")[l](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var r=t.camelCase(["scroll",l].join("-"));this.$element.one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(s.TRANSITION_DURATION)[l](this.$element[0][r])}}}},s.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var a=this.dimension();this.$element[a](this.$element[a]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};return t.support.transition?void this.$element[a](0).one("bsTransitionEnd",t.proxy(i,this)).emulateTransitionEnd(s.TRANSITION_DURATION):i.call(this)}}},s.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},s.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(a,s){var i=t(s);this.addAriaAndCollapsedClass(e(i),i)},this)).end()},s.prototype.addAriaAndCollapsedClass=function(t,e){var a=t.hasClass("in");t.attr("aria-expanded",a),e.toggleClass("collapsed",!a).attr("aria-expanded",a)};var i=t.fn.collapse;t.fn.collapse=a,t.fn.collapse.Constructor=s,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(s){var i=t(this);i.attr("data-target")||s.preventDefault();var n=e(i),l=n.data("bs.collapse"),o=l?"toggle":i.data();a.call(n,o)})}(jQuery);
},{}],7:[function(require,module,exports){
+function(t){"use strict";function e(e){var o=e.attr("data-target");o||(o=e.attr("href"),o=o&&/#[A-Za-z]/.test(o)&&o.replace(/.*(?=#[^\s]*$)/,""));var n=o&&t(o);return n&&n.length?n:e.parent()}function o(o){o&&3===o.which||(t(r).remove(),t(a).each(function(){var n=t(this),r=e(n),a={relatedTarget:this};r.hasClass("open")&&(o&&"click"==o.type&&/input|textarea/i.test(o.target.tagName)&&t.contains(r[0],o.target)||(r.trigger(o=t.Event("hide.bs.dropdown",a)),o.isDefaultPrevented()||(n.attr("aria-expanded","false"),r.removeClass("open").trigger(t.Event("hidden.bs.dropdown",a)))))}))}function n(e){return this.each(function(){var o=t(this),n=o.data("bs.dropdown");n||o.data("bs.dropdown",n=new d(this)),"string"==typeof e&&n[e].call(o)})}var r=".dropdown-backdrop",a='[data-toggle="dropdown"]',d=function(e){t(e).on("click.bs.dropdown",this.toggle)};d.VERSION="3.3.7",d.prototype.toggle=function(n){var r=t(this);if(!r.is(".disabled, :disabled")){var a=e(r),d=a.hasClass("open");if(o(),!d){"ontouchstart"in document.documentElement&&!a.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",o);var i={relatedTarget:this};if(a.trigger(n=t.Event("show.bs.dropdown",i)),n.isDefaultPrevented())return;r.trigger("focus").attr("aria-expanded","true"),a.toggleClass("open").trigger(t.Event("shown.bs.dropdown",i))}return!1}},d.prototype.keydown=function(o){if(/(38|40|27|32)/.test(o.which)&&!/input|textarea/i.test(o.target.tagName)){var n=t(this);if(o.preventDefault(),o.stopPropagation(),!n.is(".disabled, :disabled")){var r=e(n),d=r.hasClass("open");if(!d&&27!=o.which||d&&27==o.which)return 27==o.which&&r.find(a).trigger("focus"),n.trigger("click");var i=" li:not(.disabled):visible a",s=r.find(".dropdown-menu"+i);if(s.length){var p=s.index(o.target);38==o.which&&p>0&&p--,40==o.which&&p<s.length-1&&p++,~p||(p=0),s.eq(p).trigger("focus")}}}};var i=t.fn.dropdown;t.fn.dropdown=n,t.fn.dropdown.Constructor=d,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=i,this},t(document).on("click.bs.dropdown.data-api",o).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",a,d.prototype.toggle).on("keydown.bs.dropdown.data-api",a,d.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",d.prototype.keydown)}(jQuery);
},{}],8:[function(require,module,exports){
+function(t){"use strict";function e(e,i){return this.each(function(){var s=t(this),n=s.data("bs.modal"),a=t.extend({},o.DEFAULTS,s.data(),"object"==typeof e&&e);n||s.data("bs.modal",n=new o(this,a)),"string"==typeof e?n[e](i):a.show&&n.show(i)})}var o=function(e,o){this.options=o,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};o.VERSION="3.3.7",o.TRANSITION_DURATION=300,o.BACKDROP_TRANSITION_DURATION=150,o.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},o.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},o.prototype.show=function(e){var i=this,s=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(s),this.isShown||s.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var s=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),s&&i.$element[0].offsetWidth,i.$element.addClass("in"),i.enforceFocus();var n=t.Event("shown.bs.modal",{relatedTarget:e});s?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(n)}).emulateTransitionEnd(o.TRANSITION_DURATION):i.$element.trigger("focus").trigger(n)}))},o.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(o.TRANSITION_DURATION):this.hideModal())},o.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},o.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},o.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},o.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.modal")})},o.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},o.prototype.backdrop=function(e){var i=this,s=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&s;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+s).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(o.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},o.prototype.handleUpdate=function(){this.adjustDialog()},o.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},o.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},o.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},o.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},o.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},o.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=o,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(o){var i=t(this),s=i.attr("href"),n=t(i.attr("data-target")||s&&s.replace(/.*(?=#[^\s]+$)/,"")),a=n.data("bs.modal")?"toggle":t.extend({remote:!/#/.test(s)&&s},n.data(),i.data());i.is("a")&&o.preventDefault(),n.one("show.bs.modal",function(t){t.isDefaultPrevented()||n.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(n,a,this)})}(jQuery);
},{}],9:[function(require,module,exports){
+function(t){"use strict";function o(o){return this.each(function(){var n=t(this),r=n.data("bs.popover"),i="object"==typeof o&&o;!r&&/destroy|hide/.test(o)||(r||n.data("bs.popover",r=new e(this,i)),"string"==typeof o&&r[o]())})}var e=function(t,o){this.init("popover",t,o)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.3.7",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),o=this.getTitle(),e=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](o),t.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof e?"html":"append":"text"](e),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,o=this.options;return t.attr("data-content")||("function"==typeof o.content?o.content.call(t[0]):o.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")};var n=t.fn.popover;t.fn.popover=o,t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery);
},{}],10:[function(require,module,exports){
+function(t){"use strict";function s(e,i){this.$body=t(document.body),this.$scrollElement=t(t(e).is(document.body)?window:e),this.options=t.extend({},s.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function e(e){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),r="object"==typeof e&&e;o||i.data("bs.scrollspy",o=new s(this,r)),"string"==typeof e&&o[e]()})}s.VERSION="3.3.7",s.DEFAULTS={offset:10},s.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},s.prototype.refresh=function(){var s=this,e="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(e="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var s=t(this),o=s.data("target")||s.attr("href"),r=/^#./.test(o)&&t(o);return r&&r.length&&r.is(":visible")&&[[r[e]().top+i,o]]||null}).sort(function(t,s){return t[0]-s[0]}).each(function(){s.offsets.push(this[0]),s.targets.push(this[1])})},s.prototype.process=function(){var t,s=this.$scrollElement.scrollTop()+this.options.offset,e=this.getScrollHeight(),i=this.options.offset+e-this.$scrollElement.height(),o=this.offsets,r=this.targets,l=this.activeTarget;if(this.scrollHeight!=e&&this.refresh(),s>=i)return l!=(t=r[r.length-1])&&this.activate(t);if(l&&s<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)l!=r[t]&&s>=o[t]&&(void 0===o[t+1]||s<o[t+1])&&this.activate(r[t])},s.prototype.activate=function(s){this.activeTarget=s,this.clear();var e=this.selector+'[data-target="'+s+'"],'+this.selector+'[href="'+s+'"]',i=t(e).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate.bs.scrollspy")},s.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("active")};var i=t.fn.scrollspy;t.fn.scrollspy=e,t.fn.scrollspy.Constructor=s,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var s=t(this);e.call(s,s.data())})})}(jQuery);
},{}],11:[function(require,module,exports){
+function(t){"use strict";function a(a){return this.each(function(){var n=t(this),i=n.data("bs.tab");i||n.data("bs.tab",i=new e(this)),"string"==typeof a&&i[a]()})}var e=function(a){this.element=t(a)};e.VERSION="3.3.7",e.TRANSITION_DURATION=150,e.prototype.show=function(){var a=this.element,e=a.closest("ul:not(.dropdown-menu)"),n=a.data("target");if(n||(n=a.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!a.parent("li").hasClass("active")){var i=e.find(".active:last a"),r=t.Event("hide.bs.tab",{relatedTarget:a[0]}),s=t.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(r),a.trigger(s),!s.isDefaultPrevented()&&!r.isDefaultPrevented()){var d=t(n);this.activate(a.closest("li"),e),this.activate(d,d.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:a[0]}),a.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},e.prototype.activate=function(a,n,i){function r(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),a.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),d?(a[0].offsetWidth,a.addClass("in")):a.removeClass("fade"),a.parent(".dropdown-menu").length&&a.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}var s=n.find("> .active"),d=i&&t.support.transition&&(s.length&&s.hasClass("fade")||!!n.find("> .fade").length);s.length&&d?s.one("bsTransitionEnd",r).emulateTransitionEnd(e.TRANSITION_DURATION):r(),s.removeClass("in")};var n=t.fn.tab;t.fn.tab=a,t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this};var i=function(e){e.preventDefault(),a.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery);
},{}],12:[function(require,module,exports){
+function(t){"use strict";function e(e){return this.each(function(){var o=t(this),n=o.data("bs.tooltip"),s="object"==typeof e&&e;!n&&/destroy|hide/.test(e)||(n||o.data("bs.tooltip",n=new i(this,s)),"string"==typeof e&&n[e]())})}var i=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};i.VERSION="3.3.7",i.TRANSITION_DURATION=150,i.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},i.prototype.init=function(e,i,o){if(this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(o),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var n=this.options.trigger.split(" "),s=n.length;s--;){var r=n[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=r){var l="hover"==r?"mouseenter":"focusin",a="hover"==r?"mouseleave":"focusout";this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},i.prototype.getDefaults=function(){return i.DEFAULTS},i.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},i.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,o){i[t]!=o&&(e[t]=o)}),e},i.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusin"==e.type?"focus":"hover"]=!0),i.tip().hasClass("in")||"in"==i.hoverState?void(i.hoverState="in"):(clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show())},i.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},i.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i)),e instanceof t.Event&&(i.inState["focusout"==e.type?"focus":"hover"]=!1),!i.isInStateTrue())return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},i.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(e);var o=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(e.isDefaultPrevented()||!o)return;var n=this,s=this.tip(),r=this.getUID(this.type);this.setContent(),s.attr("id",r),this.$element.attr("aria-describedby",r),this.options.animation&&s.addClass("fade");var l="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,p=a.test(l);p&&(l=l.replace(a,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass(l).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var h=this.getPosition(),f=s[0].offsetWidth,c=s[0].offsetHeight;if(p){var u=l,d=this.getPosition(this.$viewport);l="bottom"==l&&h.bottom+c>d.bottom?"top":"top"==l&&h.top-c<d.top?"bottom":"right"==l&&h.right+f>d.width?"left":"left"==l&&h.left-f<d.left?"right":l,s.removeClass(u).addClass(l)}var g=this.getCalculatedOffset(l,h,f,c);this.applyPlacement(g,l);var v=function(){var t=n.hoverState;n.$element.trigger("shown.bs."+n.type),n.hoverState=null,"out"==t&&n.leave(n)};t.support.transition&&this.$tip.hasClass("fade")?s.one("bsTransitionEnd",v).emulateTransitionEnd(i.TRANSITION_DURATION):v()}},i.prototype.applyPlacement=function(e,i){var o=this.tip(),n=o[0].offsetWidth,s=o[0].offsetHeight,r=parseInt(o.css("margin-top"),10),l=parseInt(o.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(l)&&(l=0),e.top+=r,e.left+=l,t.offset.setOffset(o[0],t.extend({using:function(t){o.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),o.addClass("in");var a=o[0].offsetWidth,p=o[0].offsetHeight;"top"==i&&p!=s&&(e.top=e.top+s-p);var h=this.getViewportAdjustedDelta(i,e,a,p);h.left?e.left+=h.left:e.top+=h.top;var f=/top|bottom/.test(i),c=f?2*h.left-n+a:2*h.top-s+p,u=f?"offsetWidth":"offsetHeight";o.offset(e),this.replaceArrow(c,o[0][u],f)},i.prototype.replaceArrow=function(t,e,i){this.arrow().css(i?"left":"top",50*(1-t/e)+"%").css(i?"top":"left","")},i.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},i.prototype.hide=function(e){function o(){"in"!=n.hoverState&&s.detach(),n.$element&&n.$element.removeAttr("aria-describedby").trigger("hidden.bs."+n.type),e&&e()}var n=this,s=t(this.$tip),r=t.Event("hide.bs."+this.type);if(this.$element.trigger(r),!r.isDefaultPrevented())return s.removeClass("in"),t.support.transition&&s.hasClass("fade")?s.one("bsTransitionEnd",o).emulateTransitionEnd(i.TRANSITION_DURATION):o(),this.hoverState=null,this},i.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},i.prototype.hasContent=function(){return this.getTitle()},i.prototype.getPosition=function(e){e=e||this.$element;var i=e[0],o="BODY"==i.tagName,n=i.getBoundingClientRect();null==n.width&&(n=t.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}));var s=window.SVGElement&&i instanceof window.SVGElement,r=o?{top:0,left:0}:s?null:e.offset(),l={scroll:o?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},a=o?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},n,l,a,r)},i.prototype.getCalculatedOffset=function(t,e,i,o){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-o,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-o/2,left:e.left-i}:{top:e.top+e.height/2-o/2,left:e.left+e.width}},i.prototype.getViewportAdjustedDelta=function(t,e,i,o){var n={top:0,left:0};if(!this.$viewport)return n;var s=this.options.viewport&&this.options.viewport.padding||0,r=this.getPosition(this.$viewport);if(/right|left/.test(t)){var l=e.top-s-r.scroll,a=e.top+s-r.scroll+o;l<r.top?n.top=r.top-l:a>r.top+r.height&&(n.top=r.top+r.height-a)}else{var p=e.left-s,h=e.left+s+i;p<r.left?n.left=r.left-p:h>r.right&&(n.left=r.left+r.width-h)}return n},i.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},i.prototype.getUID=function(t){do t+=~~(1e6*Math.random());while(document.getElementById(t));return t},i.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},i.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},i.prototype.enable=function(){this.enabled=!0},i.prototype.disable=function(){this.enabled=!1},i.prototype.toggleEnabled=function(){this.enabled=!this.enabled},i.prototype.toggle=function(e){var i=this;e&&(i=t(e.currentTarget).data("bs."+this.type),i||(i=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,i))),e?(i.inState.click=!i.inState.click,i.isInStateTrue()?i.enter(i):i.leave(i)):i.tip().hasClass("in")?i.leave(i):i.enter(i)},i.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var o=t.fn.tooltip;t.fn.tooltip=e,t.fn.tooltip.Constructor=i,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=o,this}}(jQuery);
},{}],13:[function(require,module,exports){
+function(n){"use strict";function t(){var n=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==n.style[i])return{end:t[i]};return!1}n.fn.emulateTransitionEnd=function(t){var i=!1,r=this;n(this).one("bsTransitionEnd",function(){i=!0});var e=function(){i||n(r).trigger(n.support.transition.end)};return setTimeout(e,t),this},n(function(){n.support.transition=t(),n.support.transition&&(n.event.special.bsTransitionEnd={bindType:n.support.transition.end,delegateType:n.support.transition.end,handle:function(t){if(n(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery);
},{}],14:[function(require,module,exports){
"use strict";module.exports=function(t){t.Bar=function(e,n){return n.type="bar",new t(e,n)}};
},{}],15:[function(require,module,exports){
"use strict";module.exports=function(e){e.Bubble=function(t,u){return u.type="bubble",new e(t,u)}};
},{}],16:[function(require,module,exports){
"use strict";module.exports=function(t){t.Doughnut=function(u,n){return n.type="doughnut",new t(u,n)}};
},{}],17:[function(require,module,exports){
"use strict";module.exports=function(e){e.Line=function(n,t){return t.type="line",new e(n,t)}};
},{}],18:[function(require,module,exports){
"use strict";module.exports=function(e){e.PolarArea=function(r,t){return t.type="polarArea",new e(r,t)}};
},{}],19:[function(require,module,exports){
"use strict";module.exports=function(r){r.Radar=function(t,e){return e.type="radar",new r(t,e)}};
},{}],20:[function(require,module,exports){
"use strict";module.exports=function(t){t.Scatter=function(e,n){return n.type="scatter",new t(e,n)}};
},{}],21:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),defaults._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{position:"left",type:"category",categoryPercentage:.8,barPercentage:.9,offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{callbacks:{title:function(e,t){var r="";return e.length>0&&(e[0].yLabel?r=e[0].yLabel:t.labels.length>0&&e[0].index<t.labels.length&&(r=t.labels[e[0].index])),r},label:function(e,t){var r=t.datasets[e.datasetIndex].label||"";return r+": "+e.xLabel}},mode:"index",axis:"y"}}),module.exports=function(e){e.controllers.bar=e.DatasetController.extend({dataElementType:elements.Rectangle,initialize:function(){var t,r=this;e.DatasetController.prototype.initialize.apply(r,arguments),t=r.getMeta(),t.stack=r.getDataset().stack,t.bar=!0},update:function(e){var t,r,a=this,o=a.getMeta().data;for(a._ruler=a.getRuler(),t=0,r=o.length;t<r;++t)a.updateElement(o[t],t,e)},updateElement:function(e,t,r){var a=this,o=a.chart,l=a.getMeta(),n=a.getDataset(),d=e.custom||{},i=o.options.elements.rectangle;e._xScale=a.getScaleForId(l.xAxisID),e._yScale=a.getScaleForId(l.yAxisID),e._datasetIndex=a.index,e._index=t,e._model={datasetLabel:n.label,label:o.data.labels[t],borderSkipped:d.borderSkipped?d.borderSkipped:i.borderSkipped,backgroundColor:d.backgroundColor?d.backgroundColor:helpers.valueAtIndexOrDefault(n.backgroundColor,t,i.backgroundColor),borderColor:d.borderColor?d.borderColor:helpers.valueAtIndexOrDefault(n.borderColor,t,i.borderColor),borderWidth:d.borderWidth?d.borderWidth:helpers.valueAtIndexOrDefault(n.borderWidth,t,i.borderWidth)},a.updateElementGeometry(e,t,r),e.pivot()},updateElementGeometry:function(e,t,r){var a=this,o=e._model,l=a.getValueScale(),n=l.getBasePixel(),d=l.isHorizontal(),i=a._ruler||a.getRuler(),s=a.calculateBarValuePixels(a.index,t),c=a.calculateBarIndexPixels(a.index,t,i);o.horizontal=d,o.base=r?n:s.base,o.x=d?r?n:s.head:c.center,o.y=d?c.center:r?n:s.head,o.height=d?c.size:void 0,o.width=d?void 0:c.size},getValueScaleId:function(){return this.getMeta().yAxisID},getIndexScaleId:function(){return this.getMeta().xAxisID},getValueScale:function(){return this.getScaleForId(this.getValueScaleId())},getIndexScale:function(){return this.getScaleForId(this.getIndexScaleId())},getStackCount:function(e){var t,r,a=this,o=a.chart,l=a.getIndexScale(),n=l.options.stacked,d=void 0===e?o.data.datasets.length:e+1,i=[];for(t=0;t<d;++t)r=o.getDatasetMeta(t),r.bar&&o.isDatasetVisible(t)&&(n===!1||n===!0&&i.indexOf(r.stack)===-1||void 0===n&&(void 0===r.stack||i.indexOf(r.stack)===-1))&&i.push(r.stack);return i.length},getStackIndex:function(e){return this.getStackCount(e)-1},getRuler:function(){var e,t,r=this,a=r.getIndexScale(),o=r.getStackCount(),l=r.index,n=[],d=a.isHorizontal(),i=d?a.left:a.top,s=i+(d?a.width:a.height);for(e=0,t=r.getMeta().data.length;e<t;++e)n.push(a.getPixelForValue(null,e,l));return{pixels:n,start:i,end:s,stackCount:o,scale:a}},calculateBarValuePixels:function(e,t){var r,a,o,l,n,d,i=this,s=i.chart,c=i.getMeta(),u=i.getValueScale(),h=s.data.datasets,g=u.getRightValue(h[e].data[t]),x=u.options.stacked,b=c.stack,p=0;if(x||void 0===x&&void 0!==b)for(r=0;r<e;++r)a=s.getDatasetMeta(r),a.bar&&a.stack===b&&a.controller.getValueScaleId()===u.id&&s.isDatasetVisible(r)&&(o=u.getRightValue(h[r].data[t]),(g<0&&o<0||g>=0&&o>0)&&(p+=o));return l=u.getPixelForValue(p),n=u.getPixelForValue(p+g),d=(n-l)/2,{size:d,base:l,head:n,center:n+d/2}},calculateBarIndexPixels:function(e,t,r){var a,o,l,n,d,i,s=this,c=r.scale.options,u=s.getStackIndex(e),h=r.pixels,g=h[t],x=h.length,b=r.start,p=r.end;return 1===x?(a=g>b?g-b:p-g,o=g<p?p-g:g-b):(t>0&&(a=(g-h[t-1])/2,t===x-1&&(o=a)),t<x-1&&(o=(h[t+1]-g)/2,0===t&&(a=o))),l=a*c.categoryPercentage,n=o*c.categoryPercentage,d=(l+n)/r.stackCount,i=d*c.barPercentage,i=Math.min(helpers.valueOrDefault(c.barThickness,i),helpers.valueOrDefault(c.maxBarThickness,1/0)),g-=l,g+=d*u,g+=(d-i)/2,{size:i,base:g,head:g+i,center:g+i/2}},draw:function(){var e=this,t=e.chart,r=e.getValueScale(),a=e.getMeta().data,o=e.getDataset(),l=a.length,n=0;for(helpers.canvas.clipArea(t.ctx,t.chartArea);n<l;++n)isNaN(r.getRightValue(o.data[n]))||a[n].draw();helpers.canvas.unclipArea(t.ctx)},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],r=e._index,a=e.custom||{},o=e._model;o.backgroundColor=a.hoverBackgroundColor?a.hoverBackgroundColor:helpers.valueAtIndexOrDefault(t.hoverBackgroundColor,r,helpers.getHoverColor(o.backgroundColor)),o.borderColor=a.hoverBorderColor?a.hoverBorderColor:helpers.valueAtIndexOrDefault(t.hoverBorderColor,r,helpers.getHoverColor(o.borderColor)),o.borderWidth=a.hoverBorderWidth?a.hoverBorderWidth:helpers.valueAtIndexOrDefault(t.hoverBorderWidth,r,o.borderWidth)},removeHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],r=e._index,a=e.custom||{},o=e._model,l=this.chart.options.elements.rectangle;o.backgroundColor=a.backgroundColor?a.backgroundColor:helpers.valueAtIndexOrDefault(t.backgroundColor,r,l.backgroundColor),o.borderColor=a.borderColor?a.borderColor:helpers.valueAtIndexOrDefault(t.borderColor,r,l.borderColor),o.borderWidth=a.borderWidth?a.borderWidth:helpers.valueAtIndexOrDefault(t.borderWidth,r,l.borderWidth)}}),e.controllers.horizontalBar=e.controllers.bar.extend({getValueScaleId:function(){return this.getMeta().xAxisID},getIndexScaleId:function(){return this.getMeta().yAxisID}})};
},{"../core/core.defaults":31,"../elements/index":46,"../helpers/index":51}],22:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,r){var o=r.datasets[e.datasetIndex].label||"",t=r.datasets[e.datasetIndex].data[e.index];return o+": ("+e.xLabel+", "+e.yLabel+", "+t.r+")"}}}}),module.exports=function(e){e.controllers.bubble=e.DatasetController.extend({dataElementType:elements.Point,update:function(e){var r=this,o=r.getMeta(),t=o.data;helpers.each(t,function(o,t){r.updateElement(o,t,e)})},updateElement:function(e,r,o){var t=this,a=t.getMeta(),d=e.custom||{},l=t.getScaleForId(a.xAxisID),i=t.getScaleForId(a.yAxisID),s=t._resolveElementOptions(e,r),n=t.getDataset().data[r],u=t.index,h=o?l.getPixelForDecimal(.5):l.getPixelForValue("object"==typeof n?n:NaN,r,u),c=o?i.getBasePixel():i.getPixelForValue(n,r,u);e._xScale=l,e._yScale=i,e._options=s,e._datasetIndex=u,e._index=r,e._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,hitRadius:s.hitRadius,pointStyle:s.pointStyle,radius:o?0:s.radius,skip:d.skip||isNaN(h)||isNaN(c),x:h,y:c},e.pivot()},setHoverStyle:function(e){var r=e._model,o=e._options;r.backgroundColor=helpers.valueOrDefault(o.hoverBackgroundColor,helpers.getHoverColor(o.backgroundColor)),r.borderColor=helpers.valueOrDefault(o.hoverBorderColor,helpers.getHoverColor(o.borderColor)),r.borderWidth=helpers.valueOrDefault(o.hoverBorderWidth,o.borderWidth),r.radius=o.radius+o.hoverRadius},removeHoverStyle:function(e){var r=e._model,o=e._options;r.backgroundColor=o.backgroundColor,r.borderColor=o.borderColor,r.borderWidth=o.borderWidth,r.radius=o.radius},_resolveElementOptions:function(e,r){var o,t,a,d=this,l=d.chart,i=l.data.datasets,s=i[d.index],n=e.custom||{},u=l.options.elements.point,h=helpers.options.resolve,c=s.data[r],b={},p={chart:l,dataIndex:r,dataset:s,datasetIndex:d.index},x=["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle"];for(o=0,t=x.length;o<t;++o)a=x[o],b[a]=h([n[a],s[a],u[a]],p,r);return b.radius=h([n.radius,c?c.r:void 0,s.radius,u.radius],p,r),b}})};
},{"../core/core.defaults":31,"../elements/index":46,"../helpers/index":51}],23:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e=[];e.push('<ul class="'+t.id+'-legend">');var a=t.data,r=a.datasets,n=a.labels;if(r.length)for(var o=0;o<r[0].data.length;++o)e.push('<li><span style="background-color:'+r[0].backgroundColor[o]+'"></span>'),n[o]&&e.push(n[o]),e.push("</li>");return e.push("</ul>"),e.join("")},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(a,r){var n=t.getDatasetMeta(0),o=e.datasets[0],i=n.data[r],d=i&&i.custom||{},l=helpers.valueAtIndexOrDefault,s=t.options.elements.arc,h=d.backgroundColor?d.backgroundColor:l(o.backgroundColor,r,s.backgroundColor),u=d.borderColor?d.borderColor:l(o.borderColor,r,s.borderColor),c=d.borderWidth?d.borderWidth:l(o.borderWidth,r,s.borderWidth);return{text:a,fillStyle:h,strokeStyle:u,lineWidth:c,hidden:isNaN(o.data[r])||n.data[r].hidden,index:r}}):[]}},onClick:function(t,e){var a,r,n,o=e.index,i=this.chart;for(a=0,r=(i.data.datasets||[]).length;a<r;++a)n=i.getDatasetMeta(a),n.data[o]&&(n.data[o].hidden=!n.data[o].hidden);i.update()}},cutoutPercentage:50,rotation:Math.PI*-.5,circumference:2*Math.PI,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var a=e.labels[t.index],r=": "+e.datasets[t.datasetIndex].data[t.index];return helpers.isArray(a)?(a=a.slice(),a[0]+=r):a+=r,a}}}}),defaults._set("pie",helpers.clone(defaults.doughnut)),defaults._set("pie",{cutoutPercentage:0}),module.exports=function(t){t.controllers.doughnut=t.controllers.pie=t.DatasetController.extend({dataElementType:elements.Arc,linkScales:helpers.noop,getRingIndex:function(t){for(var e=0,a=0;a<t;++a)this.chart.isDatasetVisible(a)&&++e;return e},update:function(t){var e=this,a=e.chart,r=a.chartArea,n=a.options,o=n.elements.arc,i=r.right-r.left-o.borderWidth,d=r.bottom-r.top-o.borderWidth,l=Math.min(i,d),s={x:0,y:0},h=e.getMeta(),u=n.cutoutPercentage,c=n.circumference;if(c<2*Math.PI){var g=n.rotation%(2*Math.PI);g+=2*Math.PI*(g>=Math.PI?-1:g<-Math.PI?1:0);var f=g+c,m={x:Math.cos(g),y:Math.sin(g)},x={x:Math.cos(f),y:Math.sin(f)},M=g<=0&&f>=0||g<=2*Math.PI&&2*Math.PI<=f,p=g<=.5*Math.PI&&.5*Math.PI<=f||g<=2.5*Math.PI&&2.5*Math.PI<=f,b=g<=-Math.PI&&-Math.PI<=f||g<=Math.PI&&Math.PI<=f,y=g<=.5*-Math.PI&&.5*-Math.PI<=f||g<=1.5*Math.PI&&1.5*Math.PI<=f,I=u/100,v={x:b?-1:Math.min(m.x*(m.x<0?1:I),x.x*(x.x<0?1:I)),y:y?-1:Math.min(m.y*(m.y<0?1:I),x.y*(x.y<0?1:I))},P={x:M?1:Math.max(m.x*(m.x>0?1:I),x.x*(x.x>0?1:I)),y:p?1:Math.max(m.y*(m.y>0?1:I),x.y*(x.y>0?1:I))},R={width:.5*(P.x-v.x),height:.5*(P.y-v.y)};l=Math.min(i/R.width,d/R.height),s={x:(P.x+v.x)*-.5,y:(P.y+v.y)*-.5}}a.borderWidth=e.getMaxBorderWidth(h.data),a.outerRadius=Math.max((l-a.borderWidth)/2,0),a.innerRadius=Math.max(u?a.outerRadius/100*u:0,0),a.radiusLength=(a.outerRadius-a.innerRadius)/a.getVisibleDatasetCount(),a.offsetX=s.x*a.outerRadius,a.offsetY=s.y*a.outerRadius,h.total=e.calculateTotal(),e.outerRadius=a.outerRadius-a.radiusLength*e.getRingIndex(e.index),e.innerRadius=Math.max(e.outerRadius-a.radiusLength,0),helpers.each(h.data,function(a,r){e.updateElement(a,r,t)})},updateElement:function(t,e,a){var r=this,n=r.chart,o=n.chartArea,i=n.options,d=i.animation,l=(o.left+o.right)/2,s=(o.top+o.bottom)/2,h=i.rotation,u=i.rotation,c=r.getDataset(),g=a&&d.animateRotate?0:t.hidden?0:r.calculateCircumference(c.data[e])*(i.circumference/(2*Math.PI)),f=a&&d.animateScale?0:r.innerRadius,m=a&&d.animateScale?0:r.outerRadius,x=helpers.valueAtIndexOrDefault;helpers.extend(t,{_datasetIndex:r.index,_index:e,_model:{x:l+n.offsetX,y:s+n.offsetY,startAngle:h,endAngle:u,circumference:g,outerRadius:m,innerRadius:f,label:x(c.label,e,n.data.labels[e])}});var M=t._model;this.removeHoverStyle(t),a&&d.animateRotate||(0===e?M.startAngle=i.rotation:M.startAngle=r.getMeta().data[e-1]._model.endAngle,M.endAngle=M.startAngle+M.circumference),t.pivot()},removeHoverStyle:function(e){t.DatasetController.prototype.removeHoverStyle.call(this,e,this.chart.options.elements.arc)},calculateTotal:function(){var t,e=this.getDataset(),a=this.getMeta(),r=0;return helpers.each(a.data,function(a,n){t=e.data[n],isNaN(t)||a.hidden||(r+=Math.abs(t))}),r},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?2*Math.PI*(t/e):0},getMaxBorderWidth:function(t){for(var e,a,r=0,n=this.index,o=t.length,i=0;i<o;i++)e=t[i]._model?t[i]._model.borderWidth:0,a=t[i]._chart?t[i]._chart.config.data.datasets[n].hoverBorderWidth:0,r=e>r?e:r,r=a>r?a:r;return r}})};
},{"../core/core.defaults":31,"../elements/index":46,"../helpers/index":51}],24:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}}),module.exports=function(e){function o(e,o){return helpers.valueOrDefault(e.showLine,o.showLines)}e.controllers.line=e.DatasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,update:function(e){var t,r,i,a=this,n=a.getMeta(),d=n.dataset,l=n.data||[],s=a.chart.options,u=s.elements.line,p=a.getScaleForId(n.yAxisID),h=a.getDataset(),c=o(h,s);for(c&&(i=d.custom||{},void 0!==h.tension&&void 0===h.lineTension&&(h.lineTension=h.tension),d._scale=p,d._datasetIndex=a.index,d._children=l,d._model={spanGaps:h.spanGaps?h.spanGaps:s.spanGaps,tension:i.tension?i.tension:helpers.valueOrDefault(h.lineTension,u.tension),backgroundColor:i.backgroundColor?i.backgroundColor:h.backgroundColor||u.backgroundColor,borderWidth:i.borderWidth?i.borderWidth:h.borderWidth||u.borderWidth,borderColor:i.borderColor?i.borderColor:h.borderColor||u.borderColor,borderCapStyle:i.borderCapStyle?i.borderCapStyle:h.borderCapStyle||u.borderCapStyle,borderDash:i.borderDash?i.borderDash:h.borderDash||u.borderDash,borderDashOffset:i.borderDashOffset?i.borderDashOffset:h.borderDashOffset||u.borderDashOffset,borderJoinStyle:i.borderJoinStyle?i.borderJoinStyle:h.borderJoinStyle||u.borderJoinStyle,fill:i.fill?i.fill:void 0!==h.fill?h.fill:u.fill,steppedLine:i.steppedLine?i.steppedLine:helpers.valueOrDefault(h.steppedLine,u.stepped),cubicInterpolationMode:i.cubicInterpolationMode?i.cubicInterpolationMode:helpers.valueOrDefault(h.cubicInterpolationMode,u.cubicInterpolationMode)},d.pivot()),t=0,r=l.length;t<r;++t)a.updateElement(l[t],t,e);for(c&&0!==d._model.tension&&a.updateBezierControlPoints(),t=0,r=l.length;t<r;++t)l[t].pivot()},getPointBackgroundColor:function(e,o){var t=this.chart.options.elements.point.backgroundColor,r=this.getDataset(),i=e.custom||{};return i.backgroundColor?t=i.backgroundColor:r.pointBackgroundColor?t=helpers.valueAtIndexOrDefault(r.pointBackgroundColor,o,t):r.backgroundColor&&(t=r.backgroundColor),t},getPointBorderColor:function(e,o){var t=this.chart.options.elements.point.borderColor,r=this.getDataset(),i=e.custom||{};return i.borderColor?t=i.borderColor:r.pointBorderColor?t=helpers.valueAtIndexOrDefault(r.pointBorderColor,o,t):r.borderColor&&(t=r.borderColor),t},getPointBorderWidth:function(e,o){var t=this.chart.options.elements.point.borderWidth,r=this.getDataset(),i=e.custom||{};return isNaN(i.borderWidth)?!isNaN(r.pointBorderWidth)||helpers.isArray(r.pointBorderWidth)?t=helpers.valueAtIndexOrDefault(r.pointBorderWidth,o,t):isNaN(r.borderWidth)||(t=r.borderWidth):t=i.borderWidth,t},updateElement:function(e,o,t){var r,i,a=this,n=a.getMeta(),d=e.custom||{},l=a.getDataset(),s=a.index,u=l.data[o],p=a.getScaleForId(n.yAxisID),h=a.getScaleForId(n.xAxisID),c=a.chart.options.elements.point;void 0!==l.radius&&void 0===l.pointRadius&&(l.pointRadius=l.radius),void 0!==l.hitRadius&&void 0===l.pointHitRadius&&(l.pointHitRadius=l.hitRadius),r=h.getPixelForValue("object"==typeof u?u:NaN,o,s),i=t?p.getBasePixel():a.calculatePointY(u,o,s),e._xScale=h,e._yScale=p,e._datasetIndex=s,e._index=o,e._model={x:r,y:i,skip:d.skip||isNaN(r)||isNaN(i),radius:d.radius||helpers.valueAtIndexOrDefault(l.pointRadius,o,c.radius),pointStyle:d.pointStyle||helpers.valueAtIndexOrDefault(l.pointStyle,o,c.pointStyle),backgroundColor:a.getPointBackgroundColor(e,o),borderColor:a.getPointBorderColor(e,o),borderWidth:a.getPointBorderWidth(e,o),tension:n.dataset._model?n.dataset._model.tension:0,steppedLine:!!n.dataset._model&&n.dataset._model.steppedLine,hitRadius:d.hitRadius||helpers.valueAtIndexOrDefault(l.pointHitRadius,o,c.hitRadius)}},calculatePointY:function(e,o,t){var r,i,a,n=this,d=n.chart,l=n.getMeta(),s=n.getScaleForId(l.yAxisID),u=0,p=0;if(s.options.stacked){for(r=0;r<t;r++)if(i=d.data.datasets[r],a=d.getDatasetMeta(r),"line"===a.type&&a.yAxisID===s.id&&d.isDatasetVisible(r)){var h=Number(s.getRightValue(i.data[o]));h<0?p+=h||0:u+=h||0}var c=Number(s.getRightValue(e));return c<0?s.getPixelForValue(p+c):s.getPixelForValue(u+c)}return s.getPixelForValue(e)},updateBezierControlPoints:function(){function e(e,o,t){return Math.max(Math.min(e,t),o)}var o,t,r,i,a,n=this,d=n.getMeta(),l=n.chart.chartArea,s=d.data||[];if(d.dataset._model.spanGaps&&(s=s.filter(function(e){return!e._model.skip})),"monotone"===d.dataset._model.cubicInterpolationMode)helpers.splineCurveMonotone(s);else for(o=0,t=s.length;o<t;++o)r=s[o],i=r._model,a=helpers.splineCurve(helpers.previousItem(s,o)._model,i,helpers.nextItem(s,o)._model,d.dataset._model.tension),i.controlPointPreviousX=a.previous.x,i.controlPointPreviousY=a.previous.y,i.controlPointNextX=a.next.x,i.controlPointNextY=a.next.y;if(n.chart.options.elements.line.capBezierPoints)for(o=0,t=s.length;o<t;++o)i=s[o]._model,i.controlPointPreviousX=e(i.controlPointPreviousX,l.left,l.right),i.controlPointPreviousY=e(i.controlPointPreviousY,l.top,l.bottom),i.controlPointNextX=e(i.controlPointNextX,l.left,l.right),i.controlPointNextY=e(i.controlPointNextY,l.top,l.bottom)},draw:function(){var e=this,t=e.chart,r=e.getMeta(),i=r.data||[],a=t.chartArea,n=i.length,d=0;for(helpers.canvas.clipArea(t.ctx,a),o(e.getDataset(),t.options)&&r.dataset.draw(),helpers.canvas.unclipArea(t.ctx);d<n;++d)i[d].draw(a)},setHoverStyle:function(e){var o=this.chart.data.datasets[e._datasetIndex],t=e._index,r=e.custom||{},i=e._model;i.radius=r.hoverRadius||helpers.valueAtIndexOrDefault(o.pointHoverRadius,t,this.chart.options.elements.point.hoverRadius),i.backgroundColor=r.hoverBackgroundColor||helpers.valueAtIndexOrDefault(o.pointHoverBackgroundColor,t,helpers.getHoverColor(i.backgroundColor)),i.borderColor=r.hoverBorderColor||helpers.valueAtIndexOrDefault(o.pointHoverBorderColor,t,helpers.getHoverColor(i.borderColor)),i.borderWidth=r.hoverBorderWidth||helpers.valueAtIndexOrDefault(o.pointHoverBorderWidth,t,i.borderWidth)},removeHoverStyle:function(e){var o=this,t=o.chart.data.datasets[e._datasetIndex],r=e._index,i=e.custom||{},a=e._model;void 0!==t.radius&&void 0===t.pointRadius&&(t.pointRadius=t.radius),a.radius=i.radius||helpers.valueAtIndexOrDefault(t.pointRadius,r,o.chart.options.elements.point.radius),a.backgroundColor=o.getPointBackgroundColor(e,r),a.borderColor=o.getPointBorderColor(e,r),a.borderWidth=o.getPointBorderWidth(e,r)}})};
},{"../core/core.defaults":31,"../elements/index":46,"../helpers/index":51}],25:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');var a=e.data,r=a.datasets,n=a.labels;if(r.length)for(var l=0;l<r[0].data.length;++l)t.push('<li><span style="background-color:'+r[0].backgroundColor[l]+'"></span>'),n[l]&&t.push(n[l]),t.push("</li>");return t.push("</ul>"),t.join("")},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map(function(a,r){var n=e.getDatasetMeta(0),l=t.datasets[0],i=n.data[r],o=i.custom||{},s=helpers.valueAtIndexOrDefault,d=e.options.elements.arc,u=o.backgroundColor?o.backgroundColor:s(l.backgroundColor,r,d.backgroundColor),c=o.borderColor?o.borderColor:s(l.borderColor,r,d.borderColor),h=o.borderWidth?o.borderWidth:s(l.borderWidth,r,d.borderWidth);return{text:a,fillStyle:u,strokeStyle:c,lineWidth:h,hidden:isNaN(l.data[r])||n.data[r].hidden,index:r}}):[]}},onClick:function(e,t){var a,r,n,l=t.index,i=this.chart;for(a=0,r=(i.data.datasets||[]).length;a<r;++a)n=i.getDatasetMeta(a),n.data[l].hidden=!n.data[l].hidden;i.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}}),module.exports=function(e){e.controllers.polarArea=e.DatasetController.extend({dataElementType:elements.Arc,linkScales:helpers.noop,update:function(e){var t=this,a=t.chart,r=a.chartArea,n=t.getMeta(),l=a.options,i=l.elements.arc,o=Math.min(r.right-r.left,r.bottom-r.top);a.outerRadius=Math.max((o-i.borderWidth/2)/2,0),a.innerRadius=Math.max(l.cutoutPercentage?a.outerRadius/100*l.cutoutPercentage:1,0),a.radiusLength=(a.outerRadius-a.innerRadius)/a.getVisibleDatasetCount(),t.outerRadius=a.outerRadius-a.radiusLength*t.index,t.innerRadius=t.outerRadius-a.radiusLength,n.count=t.countVisibleElements(),helpers.each(n.data,function(a,r){t.updateElement(a,r,e)})},updateElement:function(e,t,a){for(var r=this,n=r.chart,l=r.getDataset(),i=n.options,o=i.animation,s=n.scale,d=n.data.labels,u=r.calculateCircumference(l.data[t]),c=s.xCenter,h=s.yCenter,g=0,p=r.getMeta(),b=0;b<t;++b)isNaN(l.data[b])||p.data[b].hidden||++g;var m=i.startAngle,f=e.hidden?0:s.getDistanceFromCenterForValue(l.data[t]),v=m+u*g,C=v+(e.hidden?0:u),x=o.animateScale?0:s.getDistanceFromCenterForValue(l.data[t]);helpers.extend(e,{_datasetIndex:r.index,_index:t,_scale:s,_model:{x:c,y:h,innerRadius:0,outerRadius:a?x:f,startAngle:a&&o.animateRotate?m:v,endAngle:a&&o.animateRotate?m:C,label:helpers.valueAtIndexOrDefault(d,t,d[t])}}),r.removeHoverStyle(e),e.pivot()},removeHoverStyle:function(t){e.DatasetController.prototype.removeHoverStyle.call(this,t,this.chart.options.elements.arc)},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),a=0;return helpers.each(t.data,function(t,r){isNaN(e.data[r])||t.hidden||a++}),a},calculateCircumference:function(e){var t=this.getMeta().count;return t>0&&!isNaN(e)?2*Math.PI/t:0}})};
},{"../core/core.defaults":31,"../elements/index":46,"../helpers/index":51}],26:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("radar",{scale:{type:"radialLinear"},elements:{line:{tension:0}}}),module.exports=function(e){e.controllers.radar=e.DatasetController.extend({datasetElementType:elements.Line,dataElementType:elements.Point,linkScales:helpers.noop,update:function(e){var o=this,r=o.getMeta(),t=r.dataset,d=r.data,a=t.custom||{},i=o.getDataset(),l=o.chart.options.elements.line,n=o.chart.scale;void 0!==i.tension&&void 0===i.lineTension&&(i.lineTension=i.tension),helpers.extend(r.dataset,{_datasetIndex:o.index,_scale:n,_children:d,_loop:!0,_model:{tension:a.tension?a.tension:helpers.valueOrDefault(i.lineTension,l.tension),backgroundColor:a.backgroundColor?a.backgroundColor:i.backgroundColor||l.backgroundColor,borderWidth:a.borderWidth?a.borderWidth:i.borderWidth||l.borderWidth,borderColor:a.borderColor?a.borderColor:i.borderColor||l.borderColor,fill:a.fill?a.fill:void 0!==i.fill?i.fill:l.fill,borderCapStyle:a.borderCapStyle?a.borderCapStyle:i.borderCapStyle||l.borderCapStyle,borderDash:a.borderDash?a.borderDash:i.borderDash||l.borderDash,borderDashOffset:a.borderDashOffset?a.borderDashOffset:i.borderDashOffset||l.borderDashOffset,borderJoinStyle:a.borderJoinStyle?a.borderJoinStyle:i.borderJoinStyle||l.borderJoinStyle}}),r.dataset.pivot(),helpers.each(d,function(r,t){o.updateElement(r,t,e)},o),o.updateBezierControlPoints()},updateElement:function(e,o,r){var t=this,d=e.custom||{},a=t.getDataset(),i=t.chart.scale,l=t.chart.options.elements.point,n=i.getPointPositionForValue(o,a.data[o]);void 0!==a.radius&&void 0===a.pointRadius&&(a.pointRadius=a.radius),void 0!==a.hitRadius&&void 0===a.pointHitRadius&&(a.pointHitRadius=a.hitRadius),helpers.extend(e,{_datasetIndex:t.index,_index:o,_scale:i,_model:{x:r?i.xCenter:n.x,y:r?i.yCenter:n.y,tension:d.tension?d.tension:helpers.valueOrDefault(a.lineTension,t.chart.options.elements.line.tension),radius:d.radius?d.radius:helpers.valueAtIndexOrDefault(a.pointRadius,o,l.radius),backgroundColor:d.backgroundColor?d.backgroundColor:helpers.valueAtIndexOrDefault(a.pointBackgroundColor,o,l.backgroundColor),borderColor:d.borderColor?d.borderColor:helpers.valueAtIndexOrDefault(a.pointBorderColor,o,l.borderColor),borderWidth:d.borderWidth?d.borderWidth:helpers.valueAtIndexOrDefault(a.pointBorderWidth,o,l.borderWidth),pointStyle:d.pointStyle?d.pointStyle:helpers.valueAtIndexOrDefault(a.pointStyle,o,l.pointStyle),hitRadius:d.hitRadius?d.hitRadius:helpers.valueAtIndexOrDefault(a.pointHitRadius,o,l.hitRadius)}}),e._model.skip=d.skip?d.skip:isNaN(e._model.x)||isNaN(e._model.y)},updateBezierControlPoints:function(){var e=this.chart.chartArea,o=this.getMeta();helpers.each(o.data,function(r,t){var d=r._model,a=helpers.splineCurve(helpers.previousItem(o.data,t,!0)._model,d,helpers.nextItem(o.data,t,!0)._model,d.tension);d.controlPointPreviousX=Math.max(Math.min(a.previous.x,e.right),e.left),d.controlPointPreviousY=Math.max(Math.min(a.previous.y,e.bottom),e.top),d.controlPointNextX=Math.max(Math.min(a.next.x,e.right),e.left),d.controlPointNextY=Math.max(Math.min(a.next.y,e.bottom),e.top),r.pivot()})},setHoverStyle:function(e){var o=this.chart.data.datasets[e._datasetIndex],r=e.custom||{},t=e._index,d=e._model;d.radius=r.hoverRadius?r.hoverRadius:helpers.valueAtIndexOrDefault(o.pointHoverRadius,t,this.chart.options.elements.point.hoverRadius),d.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:helpers.valueAtIndexOrDefault(o.pointHoverBackgroundColor,t,helpers.getHoverColor(d.backgroundColor)),d.borderColor=r.hoverBorderColor?r.hoverBorderColor:helpers.valueAtIndexOrDefault(o.pointHoverBorderColor,t,helpers.getHoverColor(d.borderColor)),d.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:helpers.valueAtIndexOrDefault(o.pointHoverBorderWidth,t,d.borderWidth)},removeHoverStyle:function(e){var o=this.chart.data.datasets[e._datasetIndex],r=e.custom||{},t=e._index,d=e._model,a=this.chart.options.elements.point;d.radius=r.radius?r.radius:helpers.valueAtIndexOrDefault(o.pointRadius,t,a.radius),d.backgroundColor=r.backgroundColor?r.backgroundColor:helpers.valueAtIndexOrDefault(o.pointBackgroundColor,t,a.backgroundColor),d.borderColor=r.borderColor?r.borderColor:helpers.valueAtIndexOrDefault(o.pointBorderColor,t,a.borderColor),d.borderWidth=r.borderWidth?r.borderWidth:helpers.valueAtIndexOrDefault(o.pointBorderWidth,t,a.borderWidth)}})};
},{"../core/core.defaults":31,"../elements/index":46,"../helpers/index":51}],27:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults");defaults._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},showLines:!1,tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),module.exports=function(e){e.controllers.scatter=e.controllers.line};
},{"../core/core.defaults":31}],28:[function(require,module,exports){
"use strict";var defaults=require("./core.defaults"),Element=require("./core.element"),helpers=require("../helpers/index");defaults._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:helpers.noop,onComplete:helpers.noop}}),module.exports=function(e){e.Animation=Element.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),e.animationService={frameDuration:17,animations:[],dropFrames:0,request:null,addAnimation:function(e,n,t,r){var a,i,o=this.animations;for(n.chart=e,r||(e.animating=!0),a=0,i=o.length;a<i;++a)if(o[a].chart===e)return void(o[a]=n);o.push(n),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var n=helpers.findIndex(this.animations,function(n){return n.chart===e});n!==-1&&(this.animations.splice(n,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=helpers.requestAnimFrame.call(window,function(){e.request=null,e.startDigest()}))},startDigest:function(){var e=this,n=Date.now(),t=0;e.dropFrames>1&&(t=Math.floor(e.dropFrames),e.dropFrames=e.dropFrames%1),e.advance(1+t);var r=Date.now();e.dropFrames+=(r-n)/e.frameDuration,e.animations.length>0&&e.requestAnimationFrame()},advance:function(e){for(var n,t,r=this.animations,a=0;a<r.length;)n=r[a],t=n.chart,n.currentStep=(n.currentStep||0)+e,n.currentStep=Math.min(n.currentStep,n.numSteps),helpers.callback(n.render,[t,n],t),helpers.callback(n.onAnimationProgress,[n],t),n.currentStep>=n.numSteps?(helpers.callback(n.onAnimationComplete,[n],t),t.animating=!1,r.splice(a,1)):++a}},Object.defineProperty(e.Animation.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(e.Animation.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}})};
},{"../helpers/index":51,"./core.defaults":31,"./core.element":32}],29:[function(require,module,exports){
"use strict";var defaults=require("./core.defaults"),helpers=require("../helpers/index"),Interaction=require("./core.interaction"),platform=require("../platforms/platform");module.exports=function(t){function e(t){t=t||{};var e=t.data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=helpers.configMerge(defaults.global,defaults[t.type],t.options||{}),t}function a(t){var e=t.options;e.scale?t.scale.options=e.scale:e.scales&&e.scales.xAxes.concat(e.scales.yAxes).forEach(function(e){t.scales[e.id].options=e}),t.tooltip._options=e.tooltips}function n(t){return"top"===t||"bottom"===t}var i=t.plugins;t.types={},t.instances={},t.controllers={},helpers.extend(t.prototype,{construct:function(a,n){var i=this;n=e(n);var o=platform.acquireContext(a,n),s=o&&o.canvas,r=s&&s.height,l=s&&s.width;return i.id=helpers.uid(),i.ctx=o,i.canvas=s,i.config=n,i.width=l,i.height=r,i.aspectRatio=r?l/r:null,i.options=n.options,i._bufferedRender=!1,i.chart=i,i.controller=i,t.instances[i.id]=i,Object.defineProperty(i,"data",{get:function(){return i.config.data},set:function(t){i.config.data=t}}),o&&s?(i.initialize(),void i.update()):void console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return i.notify(t,"beforeInit"),helpers.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.ensureScalesHaveIDs(),t.buildScales(),t.initToolTip(),i.notify(t,"afterInit"),t},clear:function(){return helpers.canvas.clear(this),this},stop:function(){return t.animationService.cancelAnimation(this),this},resize:function(t){var e=this,a=e.options,n=e.canvas,o=a.maintainAspectRatio&&e.aspectRatio||null,s=Math.max(0,Math.floor(helpers.getMaximumWidth(n))),r=Math.max(0,Math.floor(o?s/o:helpers.getMaximumHeight(n)));if((e.width!==s||e.height!==r)&&(n.width=e.width=s,n.height=e.height=r,n.style.width=s+"px",n.style.height=r+"px",helpers.retinaScale(e,a.devicePixelRatio),!t)){var l={width:s,height:r};i.notify(e,"resize",[l]),e.options.onResize&&e.options.onResize(e,l),e.stop(),e.update(e.options.responsiveAnimationDuration)}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},a=t.scale;helpers.each(e.xAxes,function(t,e){t.id=t.id||"x-axis-"+e}),helpers.each(e.yAxes,function(t,e){t.id=t.id||"y-axis-"+e}),a&&(a.id=a.id||"scale")},buildScales:function(){var e=this,a=e.options,i=e.scales={},o=[];a.scales&&(o=o.concat((a.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(a.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),a.scale&&o.push({options:a.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),helpers.each(o,function(a){var o=a.options,s=helpers.valueOrDefault(o.type,a.dtype),r=t.scaleService.getScaleConstructor(s);if(r){n(o.position)!==n(a.dposition)&&(o.position=a.dposition);var l=new r({id:o.id,options:o,ctx:e.ctx,chart:e});i[l.id]=l,l.mergeTicksOptions(),a.isDefault&&(e.scale=l)}}),t.scaleService.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e=this,a=[],n=[];return helpers.each(e.data.datasets,function(i,o){var s=e.getDatasetMeta(o),r=i.type||e.config.type;if(s.type&&s.type!==r&&(e.destroyDatasetMeta(o),s=e.getDatasetMeta(o)),s.type=r,a.push(s.type),s.controller)s.controller.updateIndex(o);else{var l=t.controllers[s.type];if(void 0===l)throw new Error('"'+s.type+'" is not a chart type.');s.controller=new l(e,o),n.push(s.controller)}},e),n},resetElements:function(){var t=this;helpers.each(t.data.datasets,function(e,a){t.getDatasetMeta(a).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),a(e),i.notify(e,"beforeUpdate")!==!1){e.tooltip._data=e.data;var n=e.buildOrUpdateControllers();helpers.each(e.data.datasets,function(t,a){e.getDatasetMeta(a).controller.buildOrUpdateElements()},e),e.updateLayout(),helpers.each(n,function(t){t.reset()}),e.updateDatasets(),e.tooltip.initialize(),e.lastActive=[],i.notify(e,"afterUpdate"),e._bufferedRender?e._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:e.render(t)}},updateLayout:function(){var e=this;i.notify(e,"beforeLayout")!==!1&&(t.layoutService.update(this,this.width,this.height),i.notify(e,"afterScaleUpdate"),i.notify(e,"afterLayout"))},updateDatasets:function(){var t=this;if(i.notify(t,"beforeDatasetsUpdate")!==!1){for(var e=0,a=t.data.datasets.length;e<a;++e)t.updateDataset(e);i.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,a=e.getDatasetMeta(t),n={meta:a,index:t};i.notify(e,"beforeDatasetUpdate",[n])!==!1&&(a.controller.update(),i.notify(e,"afterDatasetUpdate",[n]))},render:function(e){var a=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var n=e.duration,o=e.lazy;if(i.notify(a,"beforeRender")!==!1){var s=a.options.animation,r=function(t){i.notify(a,"afterRender"),helpers.callback(s&&s.onComplete,[t],a)};if(s&&("undefined"!=typeof n&&0!==n||"undefined"==typeof n&&0!==s.duration)){var l=new t.Animation({numSteps:(n||s.duration)/16.66,easing:e.easing||s.easing,render:function(t,e){var a=helpers.easing.effects[e.easing],n=e.currentStep,i=n/e.numSteps;t.draw(a(i),i,n)},onAnimationProgress:s.onProgress,onAnimationComplete:r});t.animationService.addAnimation(a,l,n,o)}else a.draw(),r(new t.Animation({numSteps:0,chart:a}));return a}},draw:function(t){var e=this;e.clear(),helpers.isNullOrUndef(t)&&(t=1),e.transition(t),i.notify(e,"beforeDraw",[t])!==!1&&(helpers.each(e.boxes,function(t){t.draw(e.chartArea)},e),e.scale&&e.scale.draw(),e.drawDatasets(t),e._drawTooltip(t),i.notify(e,"afterDraw",[t]))},transition:function(t){for(var e=this,a=0,n=(e.data.datasets||[]).length;a<n;++a)e.isDatasetVisible(a)&&e.getDatasetMeta(a).controller.transition(t);e.tooltip.transition(t)},drawDatasets:function(t){var e=this;if(i.notify(e,"beforeDatasetsDraw",[t])!==!1){for(var a=(e.data.datasets||[]).length-1;a>=0;--a)e.isDatasetVisible(a)&&e.drawDataset(a,t);i.notify(e,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var a=this,n=a.getDatasetMeta(t),o={meta:n,index:t,easingValue:e};i.notify(a,"beforeDatasetDraw",[o])!==!1&&(n.controller.draw(e),i.notify(a,"afterDatasetDraw",[o]))},_drawTooltip:function(t){var e=this,a=e.tooltip,n={tooltip:a,easingValue:t};i.notify(e,"beforeTooltipDraw",[n])!==!1&&(a.draw(),i.notify(e,"afterTooltipDraw",[n]))},getElementAtEvent:function(t){return Interaction.modes.single(this,t)},getElementsAtEvent:function(t){return Interaction.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return Interaction.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,a){var n=Interaction.modes[e];return"function"==typeof n?n(this,t,a):[]},getDatasetAtEvent:function(t){return Interaction.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,a=e.data.datasets[t];a._meta||(a._meta={});var n=a._meta[e.id];return n||(n=a._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null}),n},getVisibleDatasetCount:function(){for(var t=0,e=0,a=this.data.datasets.length;e<a;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,a=this.data.datasets[t],n=a._meta&&a._meta[e];n&&(n.controller.destroy(),delete a._meta[e])},destroy:function(){var e,a,n=this,o=n.canvas;for(n.stop(),e=0,a=n.data.datasets.length;e<a;++e)n.destroyDatasetMeta(e);o&&(n.unbindEvents(),helpers.canvas.clear(n),platform.releaseContext(n.ctx),n.canvas=null,n.ctx=null),i.notify(n,"destroy"),delete t.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new t.Tooltip({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var t=this,e=t._listeners={},a=function(){t.eventHandler.apply(t,arguments)};helpers.each(t.options.events,function(n){platform.addEventListener(t,n,a),e[n]=a}),t.options.responsive&&(a=function(){t.resize()},platform.addEventListener(t,"resize",a),e.resize=a)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,helpers.each(e,function(e,a){platform.removeEventListener(t,a,e)}))},updateHoverStyle:function(t,e,a){var n,i,o,s=a?"setHoverStyle":"removeHoverStyle";for(i=0,o=t.length;i<o;++i)n=t[i],n&&this.getDatasetMeta(n._datasetIndex).controller[s](n)},eventHandler:function(t){var e=this,a=e.tooltip;if(i.notify(e,"beforeEvent",[t])!==!1){e._bufferedRender=!0,e._bufferedRequest=null;var n=e.handleEvent(t);n|=a&&a.handleEvent(t),i.notify(e,"afterEvent",[t]);var o=e._bufferedRequest;return o?e.render(o):n&&!e.animating&&(e.stop(),e.render(e.options.hover.animationDuration,!0)),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,a=e.options||{},n=a.hover,i=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,n.mode,n),helpers.callback(a.onHover||a.hover.onHover,[t["native"],e.active],e),"mouseup"!==t.type&&"click"!==t.type||a.onClick&&a.onClick.call(e,t["native"],e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,n.mode,!1),e.active.length&&n.mode&&e.updateHoverStyle(e.active,n.mode,!0),i=!helpers.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,i}}),t.Controller=t};
},{"../helpers/index":51,"../platforms/platform":54,"./core.defaults":31,"./core.interaction":34}],30:[function(require,module,exports){
"use strict";var helpers=require("../helpers/index");module.exports=function(t){function e(t,e){return t._chartjs?void t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),void r.forEach(function(e){var a="onData"+e.charAt(0).toUpperCase()+e.slice(1),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),n=r.apply(this,e);return helpers.each(t._chartjs.listeners,function(t){"function"==typeof t[a]&&t[a].apply(t,e)}),n}})}))}function a(t,e){var a=t._chartjs;if(a){var n=a.listeners,o=n.indexOf(e);o!==-1&&n.splice(o,1),n.length>0||(r.forEach(function(e){delete t[e]}),delete t._chartjs)}}var r=["push","pop","shift","splice","unshift"];t.DatasetController=function(t,e){this.initialize(t,e)},helpers.extend(t.DatasetController.prototype,{datasetElementType:null,dataElementType:null,initialize:function(t,e){var a=this;a.chart=t,a.index=e,a.linkScales(),a.addElements()},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),a=t.getDataset();null===e.xAxisID&&(e.xAxisID=a.xAxisID||t.chart.options.scales.xAxes[0].id),null===e.yAxisID&&(e.yAxisID=a.yAxisID||t.chart.options.scales.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},reset:function(){this.update(!0)},destroy:function(){this._data&&a(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,a=e.dataElementType;return a&&new a({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,a=this,r=a.getMeta(),n=a.getDataset().data||[],o=r.data;for(t=0,e=n.length;t<e;++t)o[t]=o[t]||a.createMetaData(t);r.dataset=r.dataset||a.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,r=t.getDataset(),n=r.data||(r.data=[]);t._data!==n&&(t._data&&a(t._data,t),e(n,t),t._data=n),t.resyncElements()},update:helpers.noop,transition:function(t){for(var e=this.getMeta(),a=e.data||[],r=a.length,n=0;n<r;++n)a[n].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],a=e.length,r=0;for(t.dataset&&t.dataset.draw();r<a;++r)e[r].draw()},removeHoverStyle:function(t,e){var a=this.chart.data.datasets[t._datasetIndex],r=t._index,n=t.custom||{},o=helpers.valueAtIndexOrDefault,s=t._model;s.backgroundColor=n.backgroundColor?n.backgroundColor:o(a.backgroundColor,r,e.backgroundColor),s.borderColor=n.borderColor?n.borderColor:o(a.borderColor,r,e.borderColor),s.borderWidth=n.borderWidth?n.borderWidth:o(a.borderWidth,r,e.borderWidth)},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],a=t._index,r=t.custom||{},n=helpers.valueAtIndexOrDefault,o=helpers.getHoverColor,s=t._model;s.backgroundColor=r.hoverBackgroundColor?r.hoverBackgroundColor:n(e.hoverBackgroundColor,a,o(s.backgroundColor)),s.borderColor=r.hoverBorderColor?r.hoverBorderColor:n(e.hoverBorderColor,a,o(s.borderColor)),s.borderWidth=r.hoverBorderWidth?r.hoverBorderWidth:n(e.hoverBorderWidth,a,s.borderWidth)},resyncElements:function(){var t=this,e=t.getMeta(),a=t.getDataset().data,r=e.data.length,n=a.length;n<r?e.data.splice(n,r-n):n>r&&t.insertElements(r,n-r)},insertElements:function(t,e){for(var a=0;a<e;++a)this.addElementAndReset(t+a)},onDataPush:function(){this.insertElements(this.getDataset().data.length-1,arguments.length)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),t.DatasetController.extend=helpers.inherits};
},{"../helpers/index":51}],31:[function(require,module,exports){
"use strict";var helpers=require("../helpers/index");module.exports={_set:function(e,r){return helpers.merge(this[e]||(this[e]={}),r)}};
},{"../helpers/index":51}],32:[function(require,module,exports){
"use strict";function interpolate(e,t,i,r){var n,o,s,l,h,u,a,p,c,_=Object.keys(i);for(n=0,o=_.length;n<o;++n)if(s=_[n],u=i[s],t.hasOwnProperty(s)||(t[s]=u),l=t[s],l!==u&&"_"!==s[0]){if(e.hasOwnProperty(s)||(e[s]=l),h=e[s],a=typeof u,a===typeof h)if("string"===a){if(p=color(h),p.valid&&(c=color(u),c.valid)){t[s]=c.mix(p,r).rgbString();continue}}else if("number"===a&&isFinite(h)&&isFinite(u)){t[s]=h+(u-h)*r;continue}t[s]=u}}var color=require("chartjs-color"),helpers=require("../helpers/index"),Element=function(e){helpers.extend(this,e),this.initialize.apply(this,arguments)};helpers.extend(Element.prototype,{initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=helpers.clone(e._model)),e._start={},e},transition:function(e){var t=this,i=t._model,r=t._start,n=t._view;return i&&1!==e?(n||(n=t._view={}),r||(r=t._start={}),interpolate(r,n,i,e),t):(t._view=i,t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return helpers.isNumber(this._model.x)&&helpers.isNumber(this._model.y)}}),Element.extend=helpers.inherits,module.exports=Element;
},{"../helpers/index":51,"chartjs-color":65}],33:[function(require,module,exports){
"use strict";var color=require("chartjs-color"),defaults=require("./core.defaults"),helpers=require("../helpers/index");module.exports=function(e){function t(e,t,r){var n;return"string"==typeof e?(n=parseInt(e,10),e.indexOf("%")!==-1&&(n=n/100*t.parentNode[r])):n=e,n}function r(e){return void 0!==e&&null!==e&&"none"!==e}function n(e,n,l){var i=document.defaultView,o=e.parentNode,a=i.getComputedStyle(e)[n],s=i.getComputedStyle(o)[n],u=r(a),h=r(s),p=Number.POSITIVE_INFINITY;return u||h?Math.min(u?t(a,e,l):p,h?t(s,o,l):p):"none"}helpers.configMerge=function(){return helpers.merge(helpers.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,r,n,l){var i=r[t]||{},o=n[t];"scales"===t?r[t]=helpers.scaleMerge(i,o):"scale"===t?r[t]=helpers.merge(i,[e.scaleService.getScaleDefaults(o.type),o]):helpers._merger(t,r,n,l)}})},helpers.scaleMerge=function(){return helpers.merge(helpers.clone(arguments[0]),[].slice.call(arguments,1),{merger:function(t,r,n,l){if("xAxes"===t||"yAxes"===t){var i,o,a,s=n[t].length;for(r[t]||(r[t]=[]),i=0;i<s;++i)a=n[t][i],o=helpers.valueOrDefault(a.type,"xAxes"===t?"category":"linear"),i>=r[t].length&&r[t].push({}),!r[t][i].type||a.type&&a.type!==r[t][i].type?helpers.merge(r[t][i],[e.scaleService.getScaleDefaults(o),a]):helpers.merge(r[t][i],a)}else helpers._merger(t,r,n,l)}})},helpers.where=function(e,t){if(helpers.isArray(e)&&Array.prototype.filter)return e.filter(t);var r=[];return helpers.each(e,function(e){t(e)&&r.push(e)}),r},helpers.findIndex=Array.prototype.findIndex?function(e,t,r){return e.findIndex(t,r)}:function(e,t,r){r=void 0===r?e:r;for(var n=0,l=e.length;n<l;++n)if(t.call(r,e[n],n,e))return n;return-1},helpers.findNextWhere=function(e,t,r){helpers.isNullOrUndef(r)&&(r=-1);for(var n=r+1;n<e.length;n++){var l=e[n];if(t(l))return l}},helpers.findPreviousWhere=function(e,t,r){helpers.isNullOrUndef(r)&&(r=e.length);for(var n=r-1;n>=0;n--){var l=e[n];if(t(l))return l}},helpers.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},helpers.almostEquals=function(e,t,r){return Math.abs(e-t)<r},helpers.almostWhole=function(e,t){var r=Math.round(e);return r-t<e&&r+t>e},helpers.max=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.max(e,t)},Number.NEGATIVE_INFINITY)},helpers.min=function(e){return e.reduce(function(e,t){return isNaN(t)?e:Math.min(e,t)},Number.POSITIVE_INFINITY)},helpers.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return e=+e,0===e||isNaN(e)?e:e>0?1:-1},helpers.log10=Math.log10?function(e){return Math.log10(e)}:function(e){return Math.log(e)/Math.LN10},helpers.toRadians=function(e){return e*(Math.PI/180)},helpers.toDegrees=function(e){return e*(180/Math.PI)},helpers.getAngleFromPoint=function(e,t){var r=t.x-e.x,n=t.y-e.y,l=Math.sqrt(r*r+n*n),i=Math.atan2(n,r);return i<-.5*Math.PI&&(i+=2*Math.PI),{angle:i,distance:l}},helpers.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},helpers.aliasPixel=function(e){return e%2===0?0:.5},helpers.splineCurve=function(e,t,r,n){var l=e.skip?t:e,i=t,o=r.skip?t:r,a=Math.sqrt(Math.pow(i.x-l.x,2)+Math.pow(i.y-l.y,2)),s=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),u=a/(a+s),h=s/(a+s);u=isNaN(u)?0:u,h=isNaN(h)?0:h;var p=n*u,c=n*h;return{previous:{x:i.x-p*(o.x-l.x),y:i.y-p*(o.y-l.y)},next:{x:i.x+c*(o.x-l.x),y:i.y+c*(o.y-l.y)}}},helpers.EPSILON=Number.EPSILON||1e-14,helpers.splineCurveMonotone=function(e){var t,r,n,l,i=(e||[]).map(function(e){return{model:e._model,deltaK:0,mK:0}}),o=i.length;for(t=0;t<o;++t)if(n=i[t],!n.model.skip){if(r=t>0?i[t-1]:null,l=t<o-1?i[t+1]:null,l&&!l.model.skip){var a=l.model.x-n.model.x;n.deltaK=0!==a?(l.model.y-n.model.y)/a:0}!r||r.model.skip?n.mK=n.deltaK:!l||l.model.skip?n.mK=r.deltaK:this.sign(r.deltaK)!==this.sign(n.deltaK)?n.mK=0:n.mK=(r.deltaK+n.deltaK)/2}var s,u,h,p;for(t=0;t<o-1;++t)n=i[t],l=i[t+1],n.model.skip||l.model.skip||(helpers.almostEquals(n.deltaK,0,this.EPSILON)?n.mK=l.mK=0:(s=n.mK/n.deltaK,u=l.mK/n.deltaK,p=Math.pow(s,2)+Math.pow(u,2),p<=9||(h=3/Math.sqrt(p),n.mK=s*h*n.deltaK,l.mK=u*h*n.deltaK)));var c;for(t=0;t<o;++t)n=i[t],n.model.skip||(r=t>0?i[t-1]:null,l=t<o-1?i[t+1]:null,r&&!r.model.skip&&(c=(n.model.x-r.model.x)/3,n.model.controlPointPreviousX=n.model.x-c,n.model.controlPointPreviousY=n.model.y-c*n.mK),l&&!l.model.skip&&(c=(l.model.x-n.model.x)/3,n.model.controlPointNextX=n.model.x+c,n.model.controlPointNextY=n.model.y+c*n.mK))},helpers.nextItem=function(e,t,r){return r?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},helpers.previousItem=function(e,t,r){return r?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},helpers.niceNum=function(e,t){var r,n=Math.floor(helpers.log10(e)),l=e/Math.pow(10,n);return r=t?l<1.5?1:l<3?2:l<7?5:10:l<=1?1:l<=2?2:l<=5?5:10,r*Math.pow(10,n)},helpers.requestAnimFrame=function(){return"undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)}}(),helpers.getRelativePosition=function(e,t){var r,n,l=e.originalEvent||e,i=e.currentTarget||e.srcElement,o=i.getBoundingClientRect(),a=l.touches;a&&a.length>0?(r=a[0].clientX,n=a[0].clientY):(r=l.clientX,n=l.clientY);var s=parseFloat(helpers.getStyle(i,"padding-left")),u=parseFloat(helpers.getStyle(i,"padding-top")),h=parseFloat(helpers.getStyle(i,"padding-right")),p=parseFloat(helpers.getStyle(i,"padding-bottom")),c=o.right-o.left-s-h,d=o.bottom-o.top-u-p;return r=Math.round((r-o.left-s)/c*i.width/t.currentDevicePixelRatio),n=Math.round((n-o.top-u)/d*i.height/t.currentDevicePixelRatio),{x:r,y:n}},helpers.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},helpers.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},helpers.getMaximumWidth=function(e){var t=e.parentNode;if(!t)return e.clientWidth;var r=parseInt(helpers.getStyle(t,"padding-left"),10),n=parseInt(helpers.getStyle(t,"padding-right"),10),l=t.clientWidth-r-n,i=helpers.getConstraintWidth(e);return isNaN(i)?l:Math.min(l,i)},helpers.getMaximumHeight=function(e){var t=e.parentNode;if(!t)return e.clientHeight;var r=parseInt(helpers.getStyle(t,"padding-top"),10),n=parseInt(helpers.getStyle(t,"padding-bottom"),10),l=t.clientHeight-r-n,i=helpers.getConstraintHeight(e);return isNaN(i)?l:Math.min(l,i)},helpers.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},helpers.retinaScale=function(e,t){var r=e.currentDevicePixelRatio=t||window.devicePixelRatio||1;if(1!==r){var n=e.canvas,l=e.height,i=e.width;n.height=l*r,n.width=i*r,e.ctx.scale(r,r),n.style.height=l+"px",n.style.width=i+"px"}},helpers.fontString=function(e,t,r){return t+" "+e+"px "+r},helpers.longestText=function(e,t,r,n){n=n||{};var l=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==t&&(l=n.data={},i=n.garbageCollect=[],n.font=t),e.font=t;var o=0;helpers.each(r,function(t){void 0!==t&&null!==t&&helpers.isArray(t)!==!0?o=helpers.measureText(e,l,i,o,t):helpers.isArray(t)&&helpers.each(t,function(t){void 0===t||null===t||helpers.isArray(t)||(o=helpers.measureText(e,l,i,o,t))})});var a=i.length/2;if(a>r.length){for(var s=0;s<a;s++)delete l[i[s]];i.splice(0,a)}return o},helpers.measureText=function(e,t,r,n,l){var i=t[l];return i||(i=t[l]=e.measureText(l).width,r.push(l)),i>n&&(n=i),n},helpers.numberOfLabelLines=function(e){var t=1;return helpers.each(e,function(e){helpers.isArray(e)&&e.length>t&&(t=e.length)}),t},helpers.color=color?function(e){return e instanceof CanvasGradient&&(e=defaults.global.defaultColor),color(e)}:function(e){return console.error("Color.js not found!"),e},helpers.getHoverColor=function(e){return e instanceof CanvasPattern?e:helpers.color(e).saturate(.5).darken(.1).rgbString()}};
},{"../helpers/index":51,"./core.defaults":31,"chartjs-color":65}],34:[function(require,module,exports){
"use strict";function getRelativePosition(e,t){return e["native"]?{x:e.x,y:e.y}:helpers.getRelativePosition(e,t)}function parseVisibleItems(e,t){var i,n,a,s,r,o=e.data.datasets;for(n=0,s=o.length;n<s;++n)if(e.isDatasetVisible(n))for(i=e.getDatasetMeta(n),a=0,r=i.data.length;a<r;++a){var u=i.data[a];u._view.skip||t(u)}}function getIntersectItems(e,t){var i=[];return parseVisibleItems(e,function(e){e.inRange(t.x,t.y)&&i.push(e)}),i}function getNearestItems(e,t,i,n){var a=Number.POSITIVE_INFINITY,s=[];return parseVisibleItems(e,function(e){if(!i||e.inRange(t.x,t.y)){var r=e.getCenterPoint(),o=n(t,r);o<a?(s=[e],a=o):o===a&&s.push(e)}}),s}function getDistanceMetricForAxis(e){var t=e.indexOf("x")!==-1,i=e.indexOf("y")!==-1;return function(e,n){var a=t?Math.abs(e.x-n.x):0,s=i?Math.abs(e.y-n.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(s,2))}}function indexMode(e,t,i){var n=getRelativePosition(t,e);i.axis=i.axis||"x";var a=getDistanceMetricForAxis(i.axis),s=i.intersect?getIntersectItems(e,n):getNearestItems(e,n,!1,a),r=[];return s.length?(e.data.datasets.forEach(function(t,i){if(e.isDatasetVisible(i)){var n=e.getDatasetMeta(i),a=n.data[s[0]._index];a&&!a._view.skip&&r.push(a)}}),r):[]}var helpers=require("../helpers/index");module.exports={modes:{single:function(e,t){var i=getRelativePosition(t,e),n=[];return parseVisibleItems(e,function(e){if(e.inRange(i.x,i.y))return n.push(e),n}),n.slice(0,1)},label:indexMode,index:indexMode,dataset:function(e,t,i){var n=getRelativePosition(t,e);i.axis=i.axis||"xy";var a=getDistanceMetricForAxis(i.axis),s=i.intersect?getIntersectItems(e,n):getNearestItems(e,n,!1,a);return s.length>0&&(s=e.getDatasetMeta(s[0]._datasetIndex).data),s},"x-axis":function(e,t){return indexMode(e,t,{intersect:!1})},point:function(e,t){var i=getRelativePosition(t,e);return getIntersectItems(e,i)},nearest:function(e,t,i){var n=getRelativePosition(t,e);i.axis=i.axis||"xy";var a=getDistanceMetricForAxis(i.axis),s=getNearestItems(e,n,i.intersect,a);return s.length>1&&s.sort(function(e,t){var i=e.getArea(),n=t.getArea(),a=i-n;return 0===a&&(a=e._datasetIndex-t._datasetIndex),a}),s.slice(0,1)},x:function(e,t,i){var n=getRelativePosition(t,e),a=[],s=!1;return parseVisibleItems(e,function(e){e.inXRange(n.x)&&a.push(e),e.inRange(n.x,n.y)&&(s=!0)}),i.intersect&&!s&&(a=[]),a},y:function(e,t,i){var n=getRelativePosition(t,e),a=[],s=!1;return parseVisibleItems(e,function(e){e.inYRange(n.y)&&a.push(e),e.inRange(n.x,n.y)&&(s=!0)}),i.intersect&&!s&&(a=[]),a}}};
},{"../helpers/index":51}],35:[function(require,module,exports){
"use strict";var defaults=require("./core.defaults");defaults._set("global",{responsive:!0,responsiveAnimationDuration:0,maintainAspectRatio:!0,events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",showLines:!0,elements:{},layout:{padding:{top:0,right:0,bottom:0,left:0}}}),module.exports=function(){var t=function(t,e){return this.construct(t,e),this};return t.Chart=t,t};
},{"./core.defaults":31}],36:[function(require,module,exports){
"use strict";var helpers=require("../helpers/index");module.exports=function(t){function e(t,e){return helpers.where(t,function(t){return t.position===e})}function h(t,e){t.forEach(function(t,e){return t._tmpIndex_=e,t}),t.sort(function(t,h){var i=e?h:t,o=e?t:h;return i.weight===o.weight?i._tmpIndex_-o._tmpIndex_:i.weight-o.weight}),t.forEach(function(t){delete t._tmpIndex_})}t.layoutService={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,t.boxes.push(e)},removeBox:function(t,e){var h=t.boxes?t.boxes.indexOf(e):-1;h!==-1&&t.boxes.splice(h,1)},configure:function(t,e,h){for(var i,o=["fullWidth","position","weight"],n=o.length,a=0;a<n;++a)i=o[a],h.hasOwnProperty(i)&&(e[i]=h[i])},update:function(t,i,o){function n(t){var e,h=t.isHorizontal();h?(e=t.update(t.fullWidth?w:P,A),I-=e.height):(e=t.update(z,_),P-=e.width),S.push({horizontal:h,minSize:e,box:t})}function a(t){var e=helpers.findNextWhere(S,function(e){return e.box===t});if(e)if(t.isHorizontal()){var h={left:Math.max(N,y),right:Math.max(O,H),top:0,bottom:0};t.update(t.fullWidth?w:P,W/2,h)}else t.update(e.minSize.width,I)}function r(t){var e=helpers.findNextWhere(S,function(e){return e.box===t}),h={left:0,right:0,top:q,bottom:j};e&&t.update(e.minSize.width,I,h)}function c(t){t.isHorizontal()?(t.left=t.fullWidth?u:N,t.right=t.fullWidth?i-p:N+P,t.top=J,t.bottom=J+t.height,J=t.bottom):(t.left=G,t.right=G+t.width,t.top=q,t.bottom=q+I,G=t.right)}if(t){var l=t.options.layout||{},f=helpers.options.toPadding(l.padding),u=f.left,p=f.right,s=f.top,d=f.bottom,g=e(t.boxes,"left"),x=e(t.boxes,"right"),m=e(t.boxes,"top"),b=e(t.boxes,"bottom"),v=e(t.boxes,"chartArea");h(g,!0),h(x,!1),h(m,!0),h(b,!1);var w=i-u-p,W=o-s-d,M=w/2,_=W/2,z=(i-M)/(g.length+x.length),A=(o-_)/(m.length+b.length),P=w,I=W,S=[];helpers.each(g.concat(x,m,b),n);var y=0,H=0,B=0,E=0;helpers.each(m.concat(b),function(t){if(t.getPadding){var e=t.getPadding();y=Math.max(y,e.left),H=Math.max(H,e.right)}}),helpers.each(g.concat(x),function(t){if(t.getPadding){var e=t.getPadding();B=Math.max(B,e.top),E=Math.max(E,e.bottom)}});var N=u,O=p,q=s,j=d;helpers.each(g.concat(x),a),helpers.each(g,function(t){N+=t.width}),helpers.each(x,function(t){O+=t.width}),helpers.each(m.concat(b),a),helpers.each(m,function(t){q+=t.height}),helpers.each(b,function(t){j+=t.height}),helpers.each(g.concat(x),r),N=u,O=p,q=s,j=d,helpers.each(g,function(t){N+=t.width}),helpers.each(x,function(t){O+=t.width}),helpers.each(m,function(t){q+=t.height}),helpers.each(b,function(t){j+=t.height});var k=Math.max(y-N,0);N+=k,O+=Math.max(H-O,0);var C=Math.max(B-q,0);q+=C,j+=Math.max(E-j,0);var D=o-q-j,F=i-N-O;F===P&&D===I||(helpers.each(g,function(t){t.height=D}),helpers.each(x,function(t){t.height=D}),helpers.each(m,function(t){t.fullWidth||(t.width=F)}),helpers.each(b,function(t){t.fullWidth||(t.width=F)}),I=D,P=F);var G=u+k,J=s+C;helpers.each(g.concat(m),c),G+=P,J+=I,helpers.each(x,c),helpers.each(b,c),t.chartArea={left:N,top:q,right:N+P,bottom:q+I},helpers.each(v,function(e){e.left=t.chartArea.left,e.top=t.chartArea.top,e.right=t.chartArea.right,e.bottom=t.chartArea.bottom,e.update(P,I)})}}}};
},{"../helpers/index":51}],37:[function(require,module,exports){
"use strict";var defaults=require("./core.defaults"),Element=require("./core.element"),helpers=require("../helpers/index");defaults._set("global",{plugins:{}}),module.exports=function(n){n.plugins={_plugins:[],_cacheId:0,register:function(n){var i=this._plugins;[].concat(n).forEach(function(n){i.indexOf(n)===-1&&i.push(n)}),this._cacheId++},unregister:function(n){var i=this._plugins;[].concat(n).forEach(function(n){var e=i.indexOf(n);e!==-1&&i.splice(e,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(n,i,e){var t,s,r,u,c,o=this.descriptors(n),l=o.length;for(t=0;t<l;++t)if(s=o[t],r=s.plugin,c=r[i],"function"==typeof c&&(u=[n].concat(e||[]),u.push(s.options),c.apply(r,u)===!1))return!1;return!0},descriptors:function(n){var i=n._plugins||(n._plugins={});if(i.id===this._cacheId)return i.descriptors;var e=[],t=[],s=n&&n.config||{},r=s.options&&s.options.plugins||{};return this._plugins.concat(s.plugins||[]).forEach(function(n){var i=e.indexOf(n);if(i===-1){var s=n.id,u=r[s];u!==!1&&(u===!0&&(u=helpers.clone(defaults.global.plugins[s])),e.push(n),t.push({plugin:n,options:u||{}}))}}),i.descriptors=t,i.id=this._cacheId,t}},n.pluginService=n.plugins,n.PluginBase=Element.extend({})};
},{"../helpers/index":51,"./core.defaults":31,"./core.element":32}],38:[function(require,module,exports){
"use strict";function labelsFromTicks(t){var e,i,o=[];for(e=0,i=t.length;e<i;++e)o.push(t[e].label);return o}function getLineValue(t,e,i){var o=t.getPixelForTick(e);return i&&(o-=0===e?(t.getPixelForTick(1)-o)/2:(o-t.getPixelForTick(e-1))/2),o}var defaults=require("./core.defaults"),Element=require("./core.element"),helpers=require("../helpers/index"),Ticks=require("./core.ticks");defaults._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",lineHeight:1.2,padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{}}}),module.exports=function(t){function e(t,e,i){return helpers.isArray(e)?helpers.longestText(t,i,e):t.measureText(e).width}function i(t){var e=helpers.valueOrDefault,i=defaults.global,o=e(t.fontSize,i.defaultFontSize),a=e(t.fontStyle,i.defaultFontStyle),r=e(t.fontFamily,i.defaultFontFamily);return{size:o,style:a,family:r,font:helpers.fontString(o,a,r)}}function o(t){return helpers.options.toLineHeight(helpers.valueOrDefault(t.lineHeight,1.2),helpers.valueOrDefault(t.fontSize,defaults.global.defaultFontSize))}t.Scale=Element.extend({getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},mergeTicksOptions:function(){var t=this.options.ticks;t.minor===!1&&(t.minor={display:!1}),t.major===!1&&(t.major={display:!1});for(var e in t)"major"!==e&&"minor"!==e&&("undefined"==typeof t.minor[e]&&(t.minor[e]=t[e]),"undefined"==typeof t.major[e]&&(t.major[e]=t[e]))},beforeUpdate:function(){helpers.callback(this.options.beforeUpdate,[this])},update:function(t,e,i){var o,a,r,n,l,s,h=this;for(h.beforeUpdate(),h.maxWidth=t,h.maxHeight=e,h.margins=helpers.extend({left:0,right:0,top:0,bottom:0},i),h.longestTextCache=h.longestTextCache||{},h.beforeSetDimensions(),h.setDimensions(),h.afterSetDimensions(),h.beforeDataLimits(),h.determineDataLimits(),h.afterDataLimits(),h.beforeBuildTicks(),l=h.buildTicks()||[],h.afterBuildTicks(),h.beforeTickToLabelConversion(),r=h.convertTicksToLabels(l)||h.ticks,h.afterTickToLabelConversion(),h.ticks=r,o=0,a=r.length;o<a;++o)n=r[o],s=l[o],s?s.label=n:l.push(s={label:n,major:!1});return h._ticks=l,h.beforeCalculateTickRotation(),h.calculateTickRotation(),h.afterCalculateTickRotation(),h.beforeFit(),h.fit(),h.afterFit(),h.afterUpdate(),h.minSize},afterUpdate:function(){helpers.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){helpers.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){helpers.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){helpers.callback(this.options.beforeDataLimits,[this])},determineDataLimits:helpers.noop,afterDataLimits:function(){helpers.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){helpers.callback(this.options.beforeBuildTicks,[this])},buildTicks:helpers.noop,afterBuildTicks:function(){helpers.callback(this.options.afterBuildTicks,[this])},beforeTickToLabelConversion:function(){helpers.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){helpers.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){helpers.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t=this,e=t.ctx,o=t.options.ticks,a=labelsFromTicks(t._ticks),r=i(o);e.font=r.font;var n=o.minRotation||0;if(a.length&&t.options.display&&t.isHorizontal())for(var l,s,h=helpers.longestText(e,r.font,a,t.longestTextCache),f=h,d=t.getPixelForTick(1)-t.getPixelForTick(0)-6;f>d&&n<o.maxRotation;){var p=helpers.toRadians(n);if(l=Math.cos(p),s=Math.sin(p),s*h>t.maxHeight){n--;break}n++,f=l*h}t.labelRotation=n},afterCalculateTickRotation:function(){helpers.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){helpers.callback(this.options.beforeFit,[this])},fit:function(){var t=this,a=t.minSize={width:0,height:0},r=labelsFromTicks(t._ticks),n=t.options,l=n.ticks,s=n.scaleLabel,h=n.gridLines,f=n.display,d=t.isHorizontal(),p=i(l),g=n.gridLines.tickMarkLength;if(d?a.width=t.isFullWidth()?t.maxWidth-t.margins.left-t.margins.right:t.maxWidth:a.width=f&&h.drawTicks?g:0,d?a.height=f&&h.drawTicks?g:0:a.height=t.maxHeight,s.display&&f){var c=o(s),u=helpers.options.toPadding(s.padding),m=c+u.height;d?a.height+=m:a.width+=m}if(l.display&&f){var b=helpers.longestText(t.ctx,p.font,r,t.longestTextCache),k=helpers.numberOfLabelLines(r),x=.5*p.size,T=t.options.ticks.padding;if(d){t.longestLabelWidth=b;var v=helpers.toRadians(t.labelRotation),L=Math.cos(v),D=Math.sin(v),y=D*b+p.size*k+x*(k-1)+x;a.height=Math.min(t.maxHeight,a.height+y+T),t.ctx.font=p.font;var F=e(t.ctx,r[0],p.font),R=e(t.ctx,r[r.length-1],p.font);0!==t.labelRotation?(t.paddingLeft="bottom"===n.position?L*F+3:L*x+3,t.paddingRight="bottom"===n.position?L*x+3:L*R+3):(t.paddingLeft=F/2+3,t.paddingRight=R/2+3)}else l.mirror?b=0:b+=T+x,a.width=Math.min(t.maxWidth,a.width+b),t.paddingTop=p.size/2,t.paddingBottom=p.size/2}t.handleMargins(),t.width=a.width,t.height=a.height},handleMargins:function(){var t=this;t.margins&&(t.paddingLeft=Math.max(t.paddingLeft-t.margins.left,0),t.paddingTop=Math.max(t.paddingTop-t.margins.top,0),t.paddingRight=Math.max(t.paddingRight-t.margins.right,0),t.paddingBottom=Math.max(t.paddingBottom-t.margins.bottom,0))},afterFit:function(){helpers.callback(this.options.afterFit,[this])},isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(helpers.isNullOrUndef(t))return NaN;if("number"==typeof t&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},getLabelForIndex:helpers.noop,getPixelForValue:helpers.noop,getValueForPixel:helpers.noop,getPixelForTick:function(t){var e=this,i=e.options.offset;if(e.isHorizontal()){var o=e.width-(e.paddingLeft+e.paddingRight),a=o/Math.max(e._ticks.length-(i?0:1),1),r=a*t+e.paddingLeft;i&&(r+=a/2);var n=e.left+Math.round(r);return n+=e.isFullWidth()?e.margins.left:0}var l=e.height-(e.paddingTop+e.paddingBottom);return e.top+t*(l/(e._ticks.length-1))},getPixelForDecimal:function(t){var e=this;if(e.isHorizontal()){var i=e.width-(e.paddingLeft+e.paddingRight),o=i*t+e.paddingLeft,a=e.left+Math.round(o);return a+=e.isFullWidth()?e.margins.left:0}return e.top+t*e.height},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,i=t.max;return t.beginAtZero?0:e<0&&i<0?i:e>0&&i>0?e:0},_autoSkip:function(t){var e,i,o,a,r,n=this,l=n.isHorizontal(),s=n.options.ticks.minor,h=t.length,f=helpers.toRadians(n.labelRotation),d=Math.cos(f),p=n.longestLabelWidth*d,g=[];for(s.maxTicksLimit&&(r=s.maxTicksLimit),l&&(e=!1,(p+s.autoSkipPadding)*h>n.width-(n.paddingLeft+n.paddingRight)&&(e=1+Math.floor((p+s.autoSkipPadding)*h/(n.width-(n.paddingLeft+n.paddingRight)))),r&&h>r&&(e=Math.max(e,Math.floor(h/r)))),i=0;i<h;i++)o=t[i],a=e>1&&i%e>0||i%e===0&&i+e>=h,a&&i!==h-1&&delete o.label,g.push(o);return g},draw:function(t){var e=this,a=e.options;if(a.display){var r=e.ctx,n=defaults.global,l=a.ticks.minor,s=a.ticks.major||l,h=a.gridLines,f=a.scaleLabel,d=0!==e.labelRotation,p=e.isHorizontal(),g=l.autoSkip?e._autoSkip(e.getTicks()):e.getTicks(),c=helpers.valueOrDefault(l.fontColor,n.defaultFontColor),u=i(l),m=helpers.valueOrDefault(s.fontColor,n.defaultFontColor),b=i(s),k=h.drawTicks?h.tickMarkLength:0,x=helpers.valueOrDefault(f.fontColor,n.defaultFontColor),T=i(f),v=helpers.options.toPadding(f.padding),L=helpers.toRadians(e.labelRotation),D=[],y="right"===a.position?e.left:e.right-k,F="right"===a.position?e.left+k:e.right,R="bottom"===a.position?e.top:e.bottom-k,z="bottom"===a.position?e.top+k:e.bottom;if(helpers.each(g,function(i,o){if(!helpers.isNullOrUndef(i.label)){var r,s,f,c,u=i.label;o===e.zeroLineIndex&&a.offset===h.offsetGridLines?(r=h.zeroLineWidth,s=h.zeroLineColor,f=h.zeroLineBorderDash,c=h.zeroLineBorderDashOffset):(r=helpers.valueAtIndexOrDefault(h.lineWidth,o),s=helpers.valueAtIndexOrDefault(h.color,o),f=helpers.valueOrDefault(h.borderDash,n.borderDash),c=helpers.valueOrDefault(h.borderDashOffset,n.borderDashOffset));var m,b,x,T,v,B,C,O,S,P,w="middle",M="middle",W=l.padding;if(p){var H=k+W;"bottom"===a.position?(M=d?"middle":"top",w=d?"right":"center",P=e.top+H):(M=d?"middle":"bottom",w=d?"left":"center",P=e.bottom-H);var A=getLineValue(e,o,h.offsetGridLines&&g.length>1);A<e.left&&(s="rgba(0,0,0,0)"),A+=helpers.aliasPixel(r),S=e.getPixelForTick(o)+l.labelOffset,m=x=v=C=A,b=R,T=z,B=t.top,O=t.bottom}else{var j,V="left"===a.position;l.mirror?(w=V?"left":"right",j=W):(w=V?"right":"left",j=k+W),S=V?e.right-j:e.left+j;var _=getLineValue(e,o,h.offsetGridLines&&g.length>1);_<e.top&&(s="rgba(0,0,0,0)"),_+=helpers.aliasPixel(r),P=e.getPixelForTick(o)+l.labelOffset,m=y,x=F,v=t.left,C=t.right,b=T=B=O=_}D.push({tx1:m,ty1:b,tx2:x,ty2:T,x1:v,y1:B,x2:C,y2:O,labelX:S,labelY:P,glWidth:r,glColor:s,glBorderDash:f,glBorderDashOffset:c,rotation:-1*L,label:u,major:i.major,textBaseline:M,textAlign:w})}}),helpers.each(D,function(t){if(h.display&&(r.save(),r.lineWidth=t.glWidth,r.strokeStyle=t.glColor,r.setLineDash&&(r.setLineDash(t.glBorderDash),r.lineDashOffset=t.glBorderDashOffset),r.beginPath(),h.drawTicks&&(r.moveTo(t.tx1,t.ty1),r.lineTo(t.tx2,t.ty2)),h.drawOnChartArea&&(r.moveTo(t.x1,t.y1),r.lineTo(t.x2,t.y2)),r.stroke(),r.restore()),l.display){r.save(),r.translate(t.labelX,t.labelY),r.rotate(t.rotation),r.font=t.major?b.font:u.font,r.fillStyle=t.major?m:c,r.textBaseline=t.textBaseline,r.textAlign=t.textAlign;var e=t.label;if(helpers.isArray(e))for(var i=0,o=0;i<e.length;++i)r.fillText(""+e[i],0,o),o+=1.5*u.size;else r.fillText(e,0,0);r.restore()}}),f.display){var B,C,O=0,S=o(f)/2;if(p)B=e.left+(e.right-e.left)/2,C="bottom"===a.position?e.bottom-S-v.bottom:e.top+S+v.top;else{var P="left"===a.position;B=P?e.left+S+v.top:e.right-S-v.top,C=e.top+(e.bottom-e.top)/2,O=P?-.5*Math.PI:.5*Math.PI}r.save(),r.translate(B,C),r.rotate(O),r.textAlign="center",r.textBaseline="middle",r.fillStyle=x,r.font=T.font,r.fillText(f.labelString,0,0),r.restore()}if(h.drawBorder){r.lineWidth=helpers.valueAtIndexOrDefault(h.lineWidth,0),r.strokeStyle=helpers.valueAtIndexOrDefault(h.color,0);var w=e.left,M=e.right,W=e.top,H=e.bottom,A=helpers.aliasPixel(r.lineWidth);p?(W=H="top"===a.position?e.bottom:e.top,W+=A,H+=A):(w=M="left"===a.position?e.right:e.left,w+=A,M+=A),r.beginPath(),r.moveTo(w,W),r.lineTo(M,H),r.stroke()}}}})};
},{"../helpers/index":51,"./core.defaults":31,"./core.element":32,"./core.ticks":40}],39:[function(require,module,exports){
"use strict";var defaults=require("./core.defaults"),helpers=require("../helpers/index");module.exports=function(e){e.scaleService={constructors:{},defaults:{},registerScaleType:function(e,t,s){this.constructors[e]=t,this.defaults[e]=helpers.clone(s)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?helpers.merge({},[defaults.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){var s=this;s.defaults.hasOwnProperty(e)&&(s.defaults[e]=helpers.extend(s.defaults[e],t))},addScalesToLayout:function(t){helpers.each(t.scales,function(s){s.fullWidth=s.options.fullWidth,s.position=s.options.position,s.weight=s.options.weight,e.layoutService.addBox(t,s)})}}};
},{"../helpers/index":51,"./core.defaults":31}],40:[function(require,module,exports){
"use strict";var helpers=require("../helpers/index");module.exports={generators:{linear:function(e,a){var r,o=[];if(e.stepSize&&e.stepSize>0)r=e.stepSize;else{var t=helpers.niceNum(a.max-a.min,!1);r=helpers.niceNum(t/(e.maxTicks-1),!0)}var h=Math.floor(a.min/r)*r,l=Math.ceil(a.max/r)*r;e.min&&e.max&&e.stepSize&&helpers.almostWhole((e.max-e.min)/e.stepSize,r/1e3)&&(h=e.min,l=e.max);var i=(l-h)/r;i=helpers.almostEquals(i,Math.round(i),r/1e3)?Math.round(i):Math.ceil(i),o.push(void 0!==e.min?e.min:h);for(var s=1;s<i;++s)o.push(h+s*r);return o.push(void 0!==e.max?e.max:l),o},logarithmic:function(e,a){var r,o,t=[],h=helpers.valueOrDefault,l=h(e.min,Math.pow(10,Math.floor(helpers.log10(a.min)))),i=Math.floor(helpers.log10(a.max)),s=Math.ceil(a.max/Math.pow(10,i));0===l?(r=Math.floor(helpers.log10(a.minNotZero)),o=Math.floor(a.minNotZero/Math.pow(10,r)),t.push(l),l=o*Math.pow(10,r)):(r=Math.floor(helpers.log10(l)),o=Math.floor(l/Math.pow(10,r)));do t.push(l),++o,10===o&&(o=1,++r),l=o*Math.pow(10,r);while(r<i||r===i&&o<s);var n=h(e.max,l);return t.push(n),t}},formatters:{values:function(e){return helpers.isArray(e)?e:""+e},linear:function(e,a,r){var o=r.length>3?r[2]-r[1]:r[1]-r[0];Math.abs(o)>1&&e!==Math.floor(e)&&(o=e-Math.floor(e));var t=helpers.log10(Math.abs(o)),h="";if(0!==e){var l=-1*Math.floor(t);l=Math.max(Math.min(l,20),0),h=e.toFixed(l)}else h="0";return h},logarithmic:function(e,a,r){var o=e/Math.pow(10,Math.floor(helpers.log10(e)));return 0===e?"0":1===o||2===o||5===o||0===a||a===r.length-1?e.toExponential():""}}};
},{"../helpers/index":51}],41:[function(require,module,exports){
"use strict";var defaults=require("./core.defaults"),Element=require("./core.element"),helpers=require("../helpers/index");defaults._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:helpers.noop,title:function(t,e){var o="",r=e.labels,l=r?r.length:0;if(t.length>0){var i=t[0];i.xLabel?o=i.xLabel:l>0&&i.index<l&&(o=r[i.index])}return o},afterTitle:helpers.noop,beforeBody:helpers.noop,beforeLabel:helpers.noop,label:function(t,e){var o=e.datasets[t.datasetIndex].label||"";return o&&(o+=": "),o+=t.yLabel},labelColor:function(t,e){var o=e.getDatasetMeta(t.datasetIndex),r=o.data[t.index],l=r._view;return{borderColor:l.borderColor,backgroundColor:l.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:helpers.noop,afterBody:helpers.noop,beforeFooter:helpers.noop,footer:helpers.noop,afterFooter:helpers.noop}}}),module.exports=function(t){function e(t,e){var o=helpers.color(t);return o.alpha(e*o.alpha()).rgbaString()}function o(t,e){return e&&(helpers.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function r(t){var e=t._xScale,o=t._yScale||t._scale,r=t._index,l=t._datasetIndex;return{xLabel:e?e.getLabelForIndex(r,l):"",yLabel:o?o.getLabelForIndex(r,l):"",index:r,datasetIndex:l,x:t._model.x,y:t._model.y}}function l(t){var e=defaults.global,o=helpers.valueOrDefault;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,bodyFontColor:t.bodyFontColor,_bodyFontFamily:o(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:o(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:o(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:o(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:o(t.titleFontStyle,e.defaultFontStyle),titleFontSize:o(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:o(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:o(t.footerFontStyle,e.defaultFontStyle),footerFontSize:o(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function i(t,e){var o=t._chart.ctx,r=2*e.yPadding,l=0,i=e.body,n=i.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);n+=e.beforeBody.length+e.afterBody.length;var a=e.title.length,d=e.footer.length,f=e.titleFontSize,h=e.bodyFontSize,c=e.footerFontSize;r+=a*f,r+=a?(a-1)*e.titleSpacing:0,r+=a?e.titleMarginBottom:0,r+=n*h,r+=n?(n-1)*e.bodySpacing:0,r+=d?e.footerMarginTop:0,r+=d*c,r+=d?(d-1)*e.footerSpacing:0;var y=0,s=function(t){l=Math.max(l,o.measureText(t).width+y)};return o.font=helpers.fontString(f,e._titleFontStyle,e._titleFontFamily),helpers.each(e.title,s),o.font=helpers.fontString(h,e._bodyFontStyle,e._bodyFontFamily),helpers.each(e.beforeBody.concat(e.afterBody),s),y=e.displayColors?h+2:0,helpers.each(i,function(t){helpers.each(t.before,s),helpers.each(t.lines,s),helpers.each(t.after,s)}),y=0,o.font=helpers.fontString(c,e._footerFontStyle,e._footerFontFamily),helpers.each(e.footer,s),l+=2*e.xPadding,{width:l,height:r}}function n(t,e){var o=t._model,r=t._chart,l=t._chart.chartArea,i="center",n="center";o.y<e.height?n="top":o.y>r.height-e.height&&(n="bottom");var a,d,f,h,c,y=(l.left+l.right)/2,s=(l.top+l.bottom)/2;"center"===n?(a=function(t){return t<=y},d=function(t){return t>y}):(a=function(t){return t<=e.width/2},d=function(t){return t>=r.width-e.width/2}),f=function(t){return t+e.width>r.width},h=function(t){return t-e.width<0},c=function(t){return t<=s?"top":"bottom"},a(o.x)?(i="left",f(o.x)&&(i="center",n=c(o.y))):d(o.x)&&(i="right",h(o.x)&&(i="center",n=c(o.y)));var g=t._options;return{xAlign:g.xAlign?g.xAlign:i,yAlign:g.yAlign?g.yAlign:n}}function a(t,e,o){var r=t.x,l=t.y,i=t.caretSize,n=t.caretPadding,a=t.cornerRadius,d=o.xAlign,f=o.yAlign,h=i+n,c=a+n;return"right"===d?r-=e.width:"center"===d&&(r-=e.width/2),"top"===f?l+=h:l-="bottom"===f?e.height+h:e.height/2,"center"===f?"left"===d?r+=h:"right"===d&&(r-=h):"left"===d?r-=c:"right"===d&&(r+=c),{x:r,y:l}}t.Tooltip=Element.extend({initialize:function(){this._model=l(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,r=e.callbacks,l=r.beforeTitle.apply(t,arguments),i=r.title.apply(t,arguments),n=r.afterTitle.apply(t,arguments),a=[];return a=o(a,l),a=o(a,i),a=o(a,n)},getBeforeBody:function(){var t=this._options.callbacks.beforeBody.apply(this,arguments);return helpers.isArray(t)?t:void 0!==t?[t]:[]},getBody:function(t,e){var r=this,l=r._options.callbacks,i=[];return helpers.each(t,function(t){var n={before:[],lines:[],after:[]};o(n.before,l.beforeLabel.call(r,t,e)),o(n.lines,l.label.call(r,t,e)),o(n.after,l.afterLabel.call(r,t,e)),i.push(n)}),i},getAfterBody:function(){var t=this._options.callbacks.afterBody.apply(this,arguments);return helpers.isArray(t)?t:void 0!==t?[t]:[]},getFooter:function(){var t=this,e=t._options.callbacks,r=e.beforeFooter.apply(t,arguments),l=e.footer.apply(t,arguments),i=e.afterFooter.apply(t,arguments),n=[];return n=o(n,r),n=o(n,l),n=o(n,i)},update:function(e){var o,d,f=this,h=f._options,c=f._model,y=f._model=l(h),s=f._active,g=f._data,u={xAlign:c.xAlign,yAlign:c.yAlign},p={x:c.x,y:c.y},b={width:c.width,height:c.height},x={x:c.caretX,y:c.caretY};if(s.length){y.opacity=1;var F=[],_=[];x=t.Tooltip.positioners[h.position].call(f,s,f._eventPosition);var v=[];for(o=0,d=s.length;o<d;++o)v.push(r(s[o]));h.filter&&(v=v.filter(function(t){return h.filter(t,g)})),h.itemSort&&(v=v.sort(function(t,e){return h.itemSort(t,e,g)})),helpers.each(v,function(t){F.push(h.callbacks.labelColor.call(f,t,f._chart)),_.push(h.callbacks.labelTextColor.call(f,t,f._chart))}),y.title=f.getTitle(v,g),y.beforeBody=f.getBeforeBody(v,g),y.body=f.getBody(v,g),y.afterBody=f.getAfterBody(v,g),y.footer=f.getFooter(v,g),y.x=Math.round(x.x),y.y=Math.round(x.y),y.caretPadding=h.caretPadding,y.labelColors=F,y.labelTextColors=_,y.dataPoints=v,b=i(this,y),u=n(this,b),p=a(y,b,u)}else y.opacity=0;return y.xAlign=u.xAlign,y.yAlign=u.yAlign,y.x=p.x,y.y=p.y,y.width=b.width,y.height=b.height,y.caretX=x.x,y.caretY=x.y,f._model=y,e&&h.custom&&h.custom.call(f,y),f},drawCaret:function(t,e){var o=this._chart.ctx,r=this._view,l=this.getCaretPosition(t,e,r);o.lineTo(l.x1,l.y1),o.lineTo(l.x2,l.y2),o.lineTo(l.x3,l.y3)},getCaretPosition:function(t,e,o){var r,l,i,n,a,d,f=o.caretSize,h=o.cornerRadius,c=o.xAlign,y=o.yAlign,s=t.x,g=t.y,u=e.width,p=e.height;if("center"===y)a=g+p/2,"left"===c?(r=s,l=r-f,i=r,n=a+f,d=a-f):(r=s+u,l=r+f,i=r,n=a-f,d=a+f);else if("left"===c?(l=s+h+f,r=l-f,i=l+f):"right"===c?(l=s+u-h-f,r=l-f,i=l+f):(l=s+u/2,r=l-f,i=l+f),"top"===y)n=g,a=n-f,d=n;else{n=g+p,a=n+f,d=n;var b=i;i=r,r=b}return{x1:r,x2:l,x3:i,y1:n,y2:a,y3:d}},drawTitle:function(t,o,r,l){var i=o.title;if(i.length){r.textAlign=o._titleAlign,r.textBaseline="top";var n=o.titleFontSize,a=o.titleSpacing;r.fillStyle=e(o.titleFontColor,l),r.font=helpers.fontString(n,o._titleFontStyle,o._titleFontFamily);var d,f;for(d=0,f=i.length;d<f;++d)r.fillText(i[d],t.x,t.y),t.y+=n+a,d+1===i.length&&(t.y+=o.titleMarginBottom-a)}},drawBody:function(t,o,r,l){var i=o.bodyFontSize,n=o.bodySpacing,a=o.body;r.textAlign=o._bodyAlign,r.textBaseline="top",r.font=helpers.fontString(i,o._bodyFontStyle,o._bodyFontFamily);var d=0,f=function(e){r.fillText(e,t.x+d,t.y),t.y+=i+n};r.fillStyle=e(o.bodyFontColor,l),helpers.each(o.beforeBody,f);var h=o.displayColors;d=h?i+2:0,helpers.each(a,function(n,a){var d=e(o.labelTextColors[a],l);r.fillStyle=d,helpers.each(n.before,f),helpers.each(n.lines,function(n){h&&(r.fillStyle=e(o.legendColorBackground,l),r.fillRect(t.x,t.y,i,i),r.lineWidth=1,r.strokeStyle=e(o.labelColors[a].borderColor,l),r.strokeRect(t.x,t.y,i,i),r.fillStyle=e(o.labelColors[a].backgroundColor,l),r.fillRect(t.x+1,t.y+1,i-2,i-2),r.fillStyle=d),f(n)}),helpers.each(n.after,f)}),d=0,helpers.each(o.afterBody,f),t.y-=n},drawFooter:function(t,o,r,l){var i=o.footer;i.length&&(t.y+=o.footerMarginTop,r.textAlign=o._footerAlign,r.textBaseline="top",r.fillStyle=e(o.footerFontColor,l),r.font=helpers.fontString(o.footerFontSize,o._footerFontStyle,o._footerFontFamily),helpers.each(i,function(e){r.fillText(e,t.x,t.y),t.y+=o.footerFontSize+o.footerSpacing}))},drawBackground:function(t,o,r,l,i){r.fillStyle=e(o.backgroundColor,i),r.strokeStyle=e(o.borderColor,i),r.lineWidth=o.borderWidth;var n=o.xAlign,a=o.yAlign,d=t.x,f=t.y,h=l.width,c=l.height,y=o.cornerRadius;r.beginPath(),r.moveTo(d+y,f),"top"===a&&this.drawCaret(t,l),r.lineTo(d+h-y,f),r.quadraticCurveTo(d+h,f,d+h,f+y),"center"===a&&"right"===n&&this.drawCaret(t,l),r.lineTo(d+h,f+c-y),r.quadraticCurveTo(d+h,f+c,d+h-y,f+c),"bottom"===a&&this.drawCaret(t,l),r.lineTo(d+y,f+c),r.quadraticCurveTo(d,f+c,d,f+c-y),"center"===a&&"left"===n&&this.drawCaret(t,l),r.lineTo(d,f+y),r.quadraticCurveTo(d,f,d+y,f),r.closePath(),r.fill(),o.borderWidth>0&&r.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var o={width:e.width,height:e.height},r={x:e.x,y:e.y},l=Math.abs(e.opacity<.001)?0:e.opacity,i=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&i&&(this.drawBackground(r,e,t,o,l),r.x+=e.xPadding,r.y+=e.yPadding,this.drawTitle(r,e,t,l),this.drawBody(r,e,t,l),this.drawFooter(r,e,t,l))}},handleEvent:function(t){var e=this,o=e._options,r=!1;if(e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:e._active=e._chart.getElementsAtEventForMode(t,o.mode,o),r=!helpers.arrayEquals(e._active,e._lastActive),!r)return!1;if(e._lastActive=e._active,o.enabled||o.custom){e._eventPosition={x:t.x,y:t.y};var l=e._model;e.update(!0),e.pivot(),r|=l.x!==e._model.x||l.y!==e._model.y}return r}}),t.Tooltip.positioners={average:function(t){if(!t.length)return!1;var e,o,r=0,l=0,i=0;for(e=0,o=t.length;e<o;++e){var n=t[e];if(n&&n.hasValue()){var a=n.tooltipPosition();r+=a.x,l+=a.y,++i}}return{x:Math.round(r/i),y:Math.round(l/i)}},nearest:function(t,e){var o,r,l,i=e.x,n=e.y,a=Number.POSITIVE_INFINITY;for(o=0,r=t.length;o<r;++o){var d=t[o];if(d&&d.hasValue()){var f=d.getCenterPoint(),h=helpers.distanceBetweenPoints(e,f);h<a&&(a=h,l=d)}}if(l){var c=l.tooltipPosition();i=c.x,n=c.y}return{x:i,y:n}}}};
},{"../helpers/index":51,"./core.defaults":31,"./core.element":32}],42:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),Element=require("../core/core.element"),helpers=require("../helpers/index");defaults._set("global",{elements:{arc:{backgroundColor:defaults.global.defaultColor,borderColor:"#fff",borderWidth:2}}}),module.exports=Element.extend({inLabelRange:function(e){var r=this._view;return!!r&&Math.pow(e-r.x,2)<Math.pow(r.radius+r.hoverRadius,2)},inRange:function(e,r){var t=this._view;if(t){for(var n=helpers.getAngleFromPoint(t,{x:e,y:r}),i=n.angle,a=n.distance,o=t.startAngle,l=t.endAngle;l<o;)l+=2*Math.PI;for(;i>l;)i-=2*Math.PI;for(;i<o;)i+=2*Math.PI;var s=i>=o&&i<=l,u=a>=t.innerRadius&&a<=t.outerRadius;return s&&u}return!1},getCenterPoint:function(){var e=this._view,r=(e.startAngle+e.endAngle)/2,t=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(r)*t,y:e.y+Math.sin(r)*t}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,r=e.startAngle+(e.endAngle-e.startAngle)/2,t=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(r)*t,y:e.y+Math.sin(r)*t}},draw:function(){var e=this._chart.ctx,r=this._view,t=r.startAngle,n=r.endAngle;e.beginPath(),e.arc(r.x,r.y,r.outerRadius,t,n),e.arc(r.x,r.y,r.innerRadius,n,t,!0),e.closePath(),e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,e.fill(),e.lineJoin="bevel",r.borderWidth&&e.stroke()}});
},{"../core/core.defaults":31,"../core/core.element":32,"../helpers/index":51}],43:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),Element=require("../core/core.element"),helpers=require("../helpers/index"),globalDefaults=defaults.global;defaults._set("global",{elements:{line:{tension:.4,backgroundColor:globalDefaults.defaultColor,borderWidth:3,borderColor:globalDefaults.defaultColor,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}}),module.exports=Element.extend({draw:function(){var e,r,l,o,t=this,s=t._view,a=t._chart.ctx,i=s.spanGaps,d=t._children.slice(),n=globalDefaults.elements.line,b=-1;for(t._loop&&d.length&&d.push(d[0]),a.save(),a.lineCap=s.borderCapStyle||n.borderCapStyle,a.setLineDash&&a.setLineDash(s.borderDash||n.borderDash),a.lineDashOffset=s.borderDashOffset||n.borderDashOffset,a.lineJoin=s.borderJoinStyle||n.borderJoinStyle,a.lineWidth=s.borderWidth||n.borderWidth,a.strokeStyle=s.borderColor||globalDefaults.defaultColor,a.beginPath(),b=-1,e=0;e<d.length;++e)r=d[e],l=helpers.previousItem(d,e),o=r._view,0===e?o.skip||(a.moveTo(o.x,o.y),b=e):(l=b===-1?l:d[b],o.skip||(b!==e-1&&!i||b===-1?a.moveTo(o.x,o.y):helpers.canvas.lineTo(a,l._view,r._view),b=e));a.stroke(),a.restore()}});
},{"../core/core.defaults":31,"../core/core.element":32,"../helpers/index":51}],44:[function(require,module,exports){
"use strict";function xRange(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hitRadius,2)}function yRange(e){var t=this._view;return!!t&&Math.pow(e-t.y,2)<Math.pow(t.radius+t.hitRadius,2)}var defaults=require("../core/core.defaults"),Element=require("../core/core.element"),helpers=require("../helpers/index"),defaultColor=defaults.global.defaultColor;defaults._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:defaultColor,borderColor:defaultColor,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}}),module.exports=Element.extend({inRange:function(e,t){var r=this._view;return!!r&&Math.pow(e-r.x,2)+Math.pow(t-r.y,2)<Math.pow(r.hitRadius+r.radius,2)},inLabelRange:xRange,inXRange:xRange,inYRange:yRange,getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,r=this._model,o=this._chart.ctx,i=t.pointStyle,a=t.radius,l=t.x,n=t.y,d=helpers.color,u=1.01,s=0;t.skip||(o.strokeStyle=t.borderColor||defaultColor,o.lineWidth=helpers.valueOrDefault(t.borderWidth,defaults.global.elements.point.borderWidth),o.fillStyle=t.backgroundColor||defaultColor,void 0!==e&&(r.x<e.left||e.right*u<r.x||r.y<e.top||e.bottom*u<r.y)&&(r.x<e.left?s=(l-r.x)/(e.left-r.x):e.right*u<r.x?s=(r.x-l)/(r.x-e.right):r.y<e.top?s=(n-r.y)/(e.top-r.y):e.bottom*u<r.y&&(s=(r.y-n)/(r.y-e.bottom)),s=Math.round(100*s)/100,o.strokeStyle=d(o.strokeStyle).alpha(s).rgbString(),o.fillStyle=d(o.fillStyle).alpha(s).rgbString()),helpers.canvas.drawPoint(o,i,a,l,n))}});
},{"../core/core.defaults":31,"../core/core.element":32,"../helpers/index":51}],45:[function(require,module,exports){
"use strict";function isVertical(t){return void 0!==t._view.width}function getBarBounds(t){var e,r,i,o,a=t._view;if(isVertical(t)){var n=a.width/2;e=a.x-n,r=a.x+n,i=Math.min(a.y,a.base),o=Math.max(a.y,a.base)}else{var l=a.height/2;e=Math.min(a.x,a.base),r=Math.max(a.x,a.base),i=a.y-l,o=a.y+l}return{left:e,top:i,right:r,bottom:o}}var defaults=require("../core/core.defaults"),Element=require("../core/core.element");defaults._set("global",{elements:{rectangle:{backgroundColor:defaults.global.defaultColor,borderColor:defaults.global.defaultColor,borderSkipped:"bottom",borderWidth:0}}}),module.exports=Element.extend({draw:function(){function t(t){return m[(y+t)%4]}var e,r,i,o,a,n,l,s=this._chart.ctx,h=this._view,u=h.borderWidth;if(h.horizontal?(e=h.base,r=h.x,i=h.y-h.height/2,o=h.y+h.height/2,a=r>e?1:-1,n=1,l=h.borderSkipped||"left"):(e=h.x-h.width/2,r=h.x+h.width/2,i=h.y,o=h.base,a=1,n=o>i?1:-1,l=h.borderSkipped||"bottom"),u){var d=Math.min(Math.abs(e-r),Math.abs(i-o));u=u>d?d:u;var b=u/2,f=e+("left"!==l?b*a:0),v=r+("right"!==l?-b*a:0),g=i+("top"!==l?b*n:0),c=o+("bottom"!==l?-b*n:0);f!==v&&(i=g,o=c),g!==c&&(e=f,r=v)}s.beginPath(),s.fillStyle=h.backgroundColor,s.strokeStyle=h.borderColor,s.lineWidth=u;var m=[[e,o],[e,i],[r,i],[r,o]],x=["bottom","left","top","right"],y=x.indexOf(l,0);y===-1&&(y=0);var w=t(0);s.moveTo(w[0],w[1]);for(var p=1;p<4;p++)w=t(p),s.lineTo(w[0],w[1]);s.fill(),u&&s.stroke()},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){var r=!1;if(this._view){var i=getBarBounds(this);r=t>=i.left&&t<=i.right&&e>=i.top&&e<=i.bottom}return r},inLabelRange:function(t,e){var r=this;if(!r._view)return!1;var i=!1,o=getBarBounds(r);return i=isVertical(r)?t>=o.left&&t<=o.right:e>=o.top&&e<=o.bottom},inXRange:function(t){var e=getBarBounds(this);return t>=e.left&&t<=e.right},inYRange:function(t){var e=getBarBounds(this);return t>=e.top&&t<=e.bottom},getCenterPoint:function(){var t,e,r=this._view;return isVertical(this)?(t=r.x,e=(r.y+r.base)/2):(t=(r.x+r.base)/2,e=r.y),{x:t,y:e}},getArea:function(){var t=this._view;return t.width*Math.abs(t.y-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}});
},{"../core/core.defaults":31,"../core/core.element":32}],46:[function(require,module,exports){
"use strict";module.exports={},module.exports.Arc=require("./element.arc"),module.exports.Line=require("./element.line"),module.exports.Point=require("./element.point"),module.exports.Rectangle=require("./element.rectangle");
},{"./element.arc":42,"./element.line":43,"./element.point":44,"./element.rectangle":45}],47:[function(require,module,exports){
"use strict";var helpers=require("./helpers.core"),exports=module.exports={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,o,t,i,a,n){if(n){var r=Math.min(n,i/2),l=Math.min(n,a/2);e.moveTo(o+r,t),e.lineTo(o+i-r,t),e.quadraticCurveTo(o+i,t,o+i,t+l),e.lineTo(o+i,t+a-l),e.quadraticCurveTo(o+i,t+a,o+i-r,t+a),e.lineTo(o+r,t+a),e.quadraticCurveTo(o,t+a,o,t+a-l),e.lineTo(o,t+l),e.quadraticCurveTo(o,t,o+r,t)}else e.rect(o,t,i,a)},drawPoint:function(e,o,t,i,a){var n,r,l,c,s,h;if(o&&"object"==typeof o&&(n=o.toString(),"[object HTMLImageElement]"===n||"[object HTMLCanvasElement]"===n))return void e.drawImage(o,i-o.width/2,a-o.height/2,o.width,o.height);if(!(isNaN(t)||t<=0)){switch(o){default:e.beginPath(),e.arc(i,a,t,0,2*Math.PI),e.closePath(),e.fill();break;case"triangle":e.beginPath(),r=3*t/Math.sqrt(3),s=r*Math.sqrt(3)/2,e.moveTo(i-r/2,a+s/3),e.lineTo(i+r/2,a+s/3),e.lineTo(i,a-2*s/3),e.closePath(),e.fill();break;case"rect":h=1/Math.SQRT2*t,e.beginPath(),e.fillRect(i-h,a-h,2*h,2*h),e.strokeRect(i-h,a-h,2*h,2*h);break;case"rectRounded":var T=t/Math.SQRT2,P=i-T,u=a-T,v=Math.SQRT2*t;e.beginPath(),this.roundedRect(e,P,u,v,v,t/2),e.closePath(),e.fill();break;case"rectRot":h=1/Math.SQRT2*t,e.beginPath(),e.moveTo(i-h,a),e.lineTo(i,a+h),e.lineTo(i+h,a),e.lineTo(i,a-h),e.closePath(),e.fill();break;case"cross":e.beginPath(),e.moveTo(i,a+t),e.lineTo(i,a-t),e.moveTo(i-t,a),e.lineTo(i+t,a),e.closePath();break;case"crossRot":e.beginPath(),l=Math.cos(Math.PI/4)*t,c=Math.sin(Math.PI/4)*t,e.moveTo(i-l,a-c),e.lineTo(i+l,a+c),e.moveTo(i-l,a+c),e.lineTo(i+l,a-c),e.closePath();break;case"star":e.beginPath(),e.moveTo(i,a+t),e.lineTo(i,a-t),e.moveTo(i-t,a),e.lineTo(i+t,a),l=Math.cos(Math.PI/4)*t,c=Math.sin(Math.PI/4)*t,e.moveTo(i-l,a-c),e.lineTo(i+l,a+c),e.moveTo(i-l,a+c),e.lineTo(i+l,a-c),e.closePath();break;case"line":e.beginPath(),e.moveTo(i-t,a),e.lineTo(i+t,a),e.closePath();break;case"dash":e.beginPath(),e.moveTo(i,a),e.lineTo(i+t,a),e.closePath()}e.stroke()}},clipArea:function(e,o){e.save(),e.beginPath(),e.rect(o.left,o.top,o.right-o.left,o.bottom-o.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,o,t,i){return t.steppedLine?("after"===t.steppedLine&&!i||"after"!==t.steppedLine&&i?e.lineTo(o.x,t.y):e.lineTo(t.x,o.y),void e.lineTo(t.x,t.y)):t.tension?void e.bezierCurveTo(i?o.controlPointPreviousX:o.controlPointNextX,i?o.controlPointPreviousY:o.controlPointNextY,i?t.controlPointNextX:t.controlPointPreviousX,i?t.controlPointNextY:t.controlPointPreviousY,t.x,t.y):void e.lineTo(t.x,t.y)}};helpers.clear=exports.clear,helpers.drawRoundedRectangle=function(e){e.beginPath(),exports.roundedRect.apply(exports,arguments),e.closePath()};
},{"./helpers.core":48}],48:[function(require,module,exports){
"use strict";var helpers={noop:function(){},uid:function(){var e=0;return function(){return e++}}(),isNullOrUndef:function(e){return null===e||"undefined"==typeof e},isArray:Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},valueOrDefault:function(e,r){return"undefined"==typeof e?r:e},valueAtIndexOrDefault:function(e,r,t){return helpers.valueOrDefault(helpers.isArray(e)?e[r]:e,t)},callback:function(e,r,t){if(e&&"function"==typeof e.call)return e.apply(t,r)},each:function(e,r,t,n){var l,s,o;if(helpers.isArray(e))if(s=e.length,n)for(l=s-1;l>=0;l--)r.call(t,e[l],l);else for(l=0;l<s;l++)r.call(t,e[l],l);else if(helpers.isObject(e))for(o=Object.keys(e),s=o.length,l=0;l<s;l++)r.call(t,e[o[l]],o[l])},arrayEquals:function(e,r){var t,n,l,s;if(!e||!r||e.length!==r.length)return!1;for(t=0,n=e.length;t<n;++t)if(l=e[t],s=r[t],l instanceof Array&&s instanceof Array){if(!helpers.arrayEquals(l,s))return!1}else if(l!==s)return!1;return!0},clone:function(e){if(helpers.isArray(e))return e.map(helpers.clone);if(helpers.isObject(e)){for(var r={},t=Object.keys(e),n=t.length,l=0;l<n;++l)r[t[l]]=helpers.clone(e[t[l]]);return r}return e},_merger:function(e,r,t,n){var l=r[e],s=t[e];helpers.isObject(l)&&helpers.isObject(s)?helpers.merge(l,s,n):r[e]=helpers.clone(s)},_mergerIf:function(e,r,t){var n=r[e],l=t[e];helpers.isObject(n)&&helpers.isObject(l)?helpers.mergeIf(n,l):r.hasOwnProperty(e)||(r[e]=helpers.clone(l))},merge:function(e,r,t){var n,l,s,o,u,c=helpers.isArray(r)?r:[r],i=c.length;if(!helpers.isObject(e))return e;for(t=t||{},n=t.merger||helpers._merger,l=0;l<i;++l)if(r=c[l],helpers.isObject(r))for(s=Object.keys(r),u=0,o=s.length;u<o;++u)n(s[u],e,r,t);return e},mergeIf:function(e,r){return helpers.merge(e,r,{merger:helpers._mergerIf})},extend:function(e){for(var r=function(r,t){e[t]=r},t=1,n=arguments.length;t<n;++t)helpers.each(arguments[t],r);return e},inherits:function(e){var r=this,t=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return r.apply(this,arguments)},n=function(){this.constructor=t};return n.prototype=r.prototype,t.prototype=new n,t.extend=helpers.inherits,e&&helpers.extend(t.prototype,e),t.__super__=r.prototype,t}};module.exports=helpers,helpers.callCallback=helpers.callback,helpers.indexOf=function(e,r,t){return Array.prototype.indexOf.call(e,r,t)},helpers.getValueOrDefault=helpers.valueOrDefault,helpers.getValueAtIndexOrDefault=helpers.valueAtIndexOrDefault;
},{}],49:[function(require,module,exports){
"use strict";var helpers=require("./helpers.core"),effects={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-Math.cos(t*(Math.PI/2))+1},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:-Math.pow(2,-10*t)+1},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var n=1.70158,e=0,u=1;return 0===t?0:1===t?1:(e||(e=.3),u<1?(u=1,n=e/4):n=e/(2*Math.PI)*Math.asin(1/u),-(u*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)))},easeOutElastic:function(t){var n=1.70158,e=0,u=1;return 0===t?0:1===t?1:(e||(e=.3),u<1?(u=1,n=e/4):n=e/(2*Math.PI)*Math.asin(1/u),u*Math.pow(2,-10*t)*Math.sin((t-n)*(2*Math.PI)/e)+1)},easeInOutElastic:function(t){var n=1.70158,e=0,u=1;return 0===t?0:2===(t/=.5)?1:(e||(e=.45),u<1?(u=1,n=e/4):n=e/(2*Math.PI)*Math.asin(1/u),t<1?-.5*(u*Math.pow(2,10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)):u*Math.pow(2,-10*(t-=1))*Math.sin((t-n)*(2*Math.PI)/e)*.5+1)},easeInBack:function(t){var n=1.70158;return t*t*((n+1)*t-n)},easeOutBack:function(t){var n=1.70158;return(t-=1)*t*((n+1)*t+n)+1},easeInOutBack:function(t){var n=1.70158;return(t/=.5)<1?.5*(t*t*(((n*=1.525)+1)*t-n)):.5*((t-=2)*t*(((n*=1.525)+1)*t+n)+2)},easeInBounce:function(t){return 1-effects.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*effects.easeInBounce(2*t):.5*effects.easeOutBounce(2*t-1)+.5}};module.exports={effects:effects},helpers.easingEffects=effects;
},{"./helpers.core":48}],50:[function(require,module,exports){
"use strict";var helpers=require("./helpers.core");module.exports={toLineHeight:function(e,t){var r=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!r||"normal"===r[1])return 1.2*t;switch(e=+r[2],r[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,r,o,i;return helpers.isObject(e)?(t=+e.top||0,r=+e.right||0,o=+e.bottom||0,i=+e.left||0):t=r=o=i=+e||0,{top:t,right:r,bottom:o,left:i,height:t+o,width:i+r}},resolve:function(e,t,r){var o,i,n;for(o=0,i=e.length;o<i;++o)if(n=e[o],void 0!==n&&(void 0!==t&&"function"==typeof n&&(n=n(t)),void 0!==r&&helpers.isArray(n)&&(n=n[r]),void 0!==n))return n}};
},{"./helpers.core":48}],51:[function(require,module,exports){
"use strict";module.exports=require("./helpers.core"),module.exports.easing=require("./helpers.easing"),module.exports.canvas=require("./helpers.canvas"),module.exports.options=require("./helpers.options");
},{"./helpers.canvas":47,"./helpers.core":48,"./helpers.easing":49,"./helpers.options":50}],52:[function(require,module,exports){
module.exports={acquireContext:function(n){return n&&n.canvas&&(n=n.canvas),n&&n.getContext("2d")||null}};
},{}],53:[function(require,module,exports){
"use strict";function readUsedSize(e,t){var n=helpers.getStyle(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}function initCanvas(e,t){var n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[EXPANDO_KEY]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var o=readUsedSize(e,"width");void 0!==o&&(e.width=o)}if(null===i||""===i)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var s=readUsedSize(e,"height");void 0!==o&&(e.height=s)}return e}function addEventListener(e,t,n){e.addEventListener(t,n,eventListenerOptions)}function removeEventListener(e,t,n){e.removeEventListener(t,n,eventListenerOptions)}function createEvent(e,t,n,i,r){return{type:e,chart:t,"native":r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function fromNativeEvent(e,t){var n=EVENT_TYPES[e.type]||e.type,i=helpers.getRelativePosition(e,t);return createEvent(n,t,i.x,i.y,e)}function throttled(e,t){var n=!1,i=[];return function(){i=Array.prototype.slice.call(arguments),t=t||this,n||(n=!0,helpers.requestAnimFrame.call(window,function(){n=!1,e.apply(t,i)}))}}function createResizer(e){var t=document.createElement("div"),n=CSS_PREFIX+"size-monitor",i=1e6,r="position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1;";t.style.cssText=r,t.className=n,t.innerHTML='<div class="'+n+'-expand" style="'+r+'"><div style="position:absolute;width:'+i+"px;height:"+i+'px;left:0;top:0"></div></div><div class="'+n+'-shrink" style="'+r+'"><div style="position:absolute;width:200%;height:200%;left:0; top:0"></div></div>';var o=t.childNodes[0],s=t.childNodes[1];t._reset=function(){o.scrollLeft=i,o.scrollTop=i,s.scrollLeft=i,s.scrollTop=i};var a=function(){t._reset(),e()};return addEventListener(o,"scroll",a.bind(o,"expand")),addEventListener(s,"scroll",a.bind(s,"shrink")),t}function watchForRender(e,t){var n=e[EXPANDO_KEY]||(e[EXPANDO_KEY]={}),i=n.renderProxy=function(e){e.animationName===CSS_RENDER_ANIMATION&&t()};helpers.each(ANIMATION_START_EVENTS,function(t){addEventListener(e,t,i)}),n.reflow=!!e.offsetParent,e.classList.add(CSS_RENDER_MONITOR)}function unwatchForRender(e){var t=e[EXPANDO_KEY]||{},n=t.renderProxy;n&&(helpers.each(ANIMATION_START_EVENTS,function(t){removeEventListener(e,t,n)}),delete t.renderProxy),e.classList.remove(CSS_RENDER_MONITOR)}function addResizeListener(e,t,n){var i=e[EXPANDO_KEY]||(e[EXPANDO_KEY]={}),r=i.resizer=createResizer(throttled(function(){if(i.resizer)return t(createEvent("resize",n))}));watchForRender(e,function(){if(i.resizer){var t=e.parentNode;t&&t!==r.parentNode&&t.insertBefore(r,t.firstChild),r._reset()}})}function removeResizeListener(e){var t=e[EXPANDO_KEY]||{},n=t.resizer;delete t.resizer,unwatchForRender(e),n&&n.parentNode&&n.parentNode.removeChild(n)}function injectCSS(e,t){var n=e._style||document.createElement("style");e._style||(e._style=n,t="/* Chart.js */\n"+t,n.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(n)),n.appendChild(document.createTextNode(t))}var helpers=require("../helpers/index"),EXPANDO_KEY="$chartjs",CSS_PREFIX="chartjs-",CSS_RENDER_MONITOR=CSS_PREFIX+"render-monitor",CSS_RENDER_ANIMATION=CSS_PREFIX+"render-animation",ANIMATION_START_EVENTS=["animationstart","webkitAnimationStart"],EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},supportsEventListenerOptions=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(n){}return e}(),eventListenerOptions=!!supportsEventListenerOptions&&{passive:!0};module.exports={_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,initialize:function(){var e="from{opacity:0.99}to{opacity:1}";injectCSS(this,"@-webkit-keyframes "+CSS_RENDER_ANIMATION+"{"+e+"}@keyframes "+CSS_RENDER_ANIMATION+"{"+e+"}."+CSS_RENDER_MONITOR+"{-webkit-animation:"+CSS_RENDER_ANIMATION+" 0.001s;animation:"+CSS_RENDER_ANIMATION+" 0.001s;}")},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(initCanvas(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[EXPANDO_KEY]){var n=t[EXPANDO_KEY].initial;["height","width"].forEach(function(e){var i=n[e];helpers.isNullOrUndef(i)?t.removeAttribute(e):t.setAttribute(e,i)}),helpers.each(n.style||{},function(e,n){t.style[n]=e}),t.width=t.width,delete t[EXPANDO_KEY]}},addEventListener:function(e,t,n){var i=e.canvas;if("resize"===t)return void addResizeListener(i,n,e);var r=n[EXPANDO_KEY]||(n[EXPANDO_KEY]={}),o=r.proxies||(r.proxies={}),s=o[e.id+"_"+t]=function(t){n(fromNativeEvent(t,e))};addEventListener(i,t,s)},removeEventListener:function(e,t,n){var i=e.canvas;if("resize"===t)return void removeResizeListener(i,n);var r=n[EXPANDO_KEY]||{},o=r.proxies||{},s=o[e.id+"_"+t];s&&removeEventListener(i,t,s)}},helpers.addEvent=addEventListener,helpers.removeEvent=removeEventListener;
},{"../helpers/index":51}],54:[function(require,module,exports){
"use strict";var helpers=require("../helpers/index"),basic=require("./platform.basic"),dom=require("./platform.dom"),implementation=dom._enabled?dom:basic;module.exports=helpers.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},implementation);
},{"../helpers/index":51,"./platform.basic":52,"./platform.dom":53}],55:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),elements=require("../elements/index"),helpers=require("../helpers/index");defaults._set("global",{plugins:{filler:{propagate:!0}}}),module.exports=function(){function e(e,t,r){var l,n=e._model||{},i=n.fill;if(void 0===i&&(i=!!n.backgroundColor),i===!1||null===i)return!1;if(i===!0)return"origin";if(l=parseFloat(i,10),isFinite(l)&&Math.floor(l)===l)return"-"!==i[0]&&"+"!==i[0]||(l=t+l),!(l===t||l<0||l>=r)&&l;switch(i){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return i;default:return!1}}function t(e){var t,r=e.el._model||{},l=e.el._scale||{},n=e.fill,i=null;if(isFinite(n))return null;if("start"===n?i=void 0===r.scaleBottom?l.bottom:r.scaleBottom:"end"===n?i=void 0===r.scaleTop?l.top:r.scaleTop:void 0!==r.scaleZero?i=r.scaleZero:l.getBasePosition?i=l.getBasePosition():l.getBasePixel&&(i=l.getBasePixel()),void 0!==i&&null!==i){if(void 0!==i.x&&void 0!==i.y)return i;if("number"==typeof i&&isFinite(i))return t=l.isHorizontal(),{x:t?i:null,y:t?null:i}}return null}function r(e,t,r){var l,n=e[t],i=n.fill,a=[t];if(!r)return i;for(;i!==!1&&a.indexOf(i)===-1;){if(!isFinite(i))return i;if(l=e[i],!l)return!1;if(l.visible)return i;a.push(i),i=l.fill}return!1}function l(e){var t=e.fill,r="dataset";return t===!1?null:(isFinite(t)||(r="boundary"),o[r](e))}function n(e){return e&&!e.skip}function i(e,t,r,l,n){var i;if(l&&n){for(e.moveTo(t[0].x,t[0].y),i=1;i<l;++i)helpers.canvas.lineTo(e,t[i-1],t[i]);for(e.lineTo(r[n-1].x,r[n-1].y),i=n-1;i>0;--i)helpers.canvas.lineTo(e,r[i],r[i-1],!0)}}function a(e,t,r,l,a,o){var s,u,f,c,d,p,v,h=t.length,g=l.spanGaps,b=[],m=[],x=0,y=0;for(e.beginPath(),s=0,u=h+!!o;s<u;++s)f=s%h,c=t[f]._view,d=r(c,f,l),p=n(c),v=n(d),p&&v?(x=b.push(c),y=m.push(d)):x&&y&&(g?(p&&b.push(c),v&&m.push(d)):(i(e,b,m,x,y),x=y=0,b=[],m=[]));i(e,b,m,x,y),e.closePath(),e.fillStyle=a,e.fill()}var o={dataset:function(e){var t=e.fill,r=e.chart,l=r.getDatasetMeta(t),n=l&&r.isDatasetVisible(t),i=n&&l.dataset._children||[],a=i.length||0;return a?function(e,t){return t<a&&i[t]._view||null}:null},boundary:function(e){var t=e.boundary,r=t?t.x:null,l=t?t.y:null;return function(e){return{x:null===r?e.x:r,y:null===l?e.y:l}}}};return{id:"filler",afterDatasetsUpdate:function(n,i){var a,o,s,u,f=(n.data.datasets||[]).length,c=i.propagate,d=[];for(o=0;o<f;++o)a=n.getDatasetMeta(o),s=a.dataset,u=null,s&&s._model&&s instanceof elements.Line&&(u={visible:n.isDatasetVisible(o),fill:e(s,o,f),chart:n,el:s}),a.$filler=u,d.push(u);for(o=0;o<f;++o)u=d[o],u&&(u.fill=r(d,o,c),u.boundary=t(u),u.mapper=l(u))},beforeDatasetDraw:function(e,t){var r=t.meta.$filler;if(r){var l=e.ctx,n=r.el,i=n._view,o=n._children||[],s=r.mapper,u=i.backgroundColor||defaults.global.defaultColor;s&&u&&o.length&&(helpers.canvas.clipArea(l,e.chartArea),a(l,o,s,i,u,n._loop),helpers.canvas.unclipArea(l))}}}};
},{"../core/core.defaults":31,"../elements/index":46,"../helpers/index":51}],56:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),Element=require("../core/core.element"),helpers=require("../helpers/index");defaults._set("global",{legend:{display:!0,position:"top",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var i=t.datasetIndex,n=this.chart,l=n.getDatasetMeta(i);l.hidden=null===l.hidden?!n.data.datasets[i].hidden:null,n.update()},onHover:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data;return helpers.isArray(t.datasets)?t.datasets.map(function(t,i){return{text:t.label,fillStyle:helpers.isArray(t.backgroundColor)?t.backgroundColor[0]:t.backgroundColor,hidden:!e.isDatasetVisible(i),lineCap:t.borderCapStyle,lineDash:t.borderDash,lineDashOffset:t.borderDashOffset,lineJoin:t.borderJoinStyle,lineWidth:t.borderWidth,strokeStyle:t.borderColor,pointStyle:t.pointStyle,datasetIndex:i}},this):[]}}},legendCallback:function(e){var t=[];t.push('<ul class="'+e.id+'-legend">');for(var i=0;i<e.data.datasets.length;i++)t.push('<li><span style="background-color:'+e.data.datasets[i].backgroundColor+'"></span>'),e.data.datasets[i].label&&t.push(e.data.datasets[i].label),t.push("</li>");return t.push("</ul>"),t.join("")}}),module.exports=function(e){function t(e,t){return e.usePointStyle?t*Math.SQRT2:e.boxWidth}function i(t,i){var l=new e.Legend({ctx:t.ctx,options:i,chart:t});n.configure(t,l,i),n.addBox(t,l),t.legend=l}var n=e.layoutService,l=helpers.noop;return e.Legend=Element.extend({initialize:function(e){helpers.extend(this,e),this.legendHitBoxes=[],this.doughnutMode=!1},beforeUpdate:l,update:function(e,t,i){var n=this;return n.beforeUpdate(),n.maxWidth=e,n.maxHeight=t,n.margins=i,n.beforeSetDimensions(),n.setDimensions(),n.afterSetDimensions(),n.beforeBuildLabels(),n.buildLabels(),n.afterBuildLabels(),n.beforeFit(),n.fit(),n.afterFit(),n.afterUpdate(),n.minSize},afterUpdate:l,beforeSetDimensions:l,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:l,beforeBuildLabels:l,buildLabels:function(){var e=this,t=e.options.labels||{},i=helpers.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(i=i.filter(function(i){return t.filter(i,e.chart.data)})),e.options.reverse&&i.reverse(),e.legendItems=i},afterBuildLabels:l,beforeFit:l,fit:function(){var e=this,i=e.options,n=i.labels,l=i.display,a=e.ctx,o=defaults.global,r=helpers.valueOrDefault,d=r(n.fontSize,o.defaultFontSize),s=r(n.fontStyle,o.defaultFontStyle),h=r(n.fontFamily,o.defaultFontFamily),f=helpers.fontString(d,s,h),u=e.legendHitBoxes=[],p=e.minSize,g=e.isHorizontal();if(g?(p.width=e.maxWidth,p.height=l?10:0):(p.width=l?10:0,p.height=e.maxHeight),l)if(a.font=f,g){var c=e.lineWidths=[0],b=e.legendItems.length?d+n.padding:0;a.textAlign="left",a.textBaseline="top",helpers.each(e.legendItems,function(i,l){var o=t(n,d),r=o+d/2+a.measureText(i.text).width;c[c.length-1]+r+n.padding>=e.width&&(b+=d+n.padding,c[c.length]=e.left),u[l]={left:0,top:0,width:r,height:d},c[c.length-1]+=r+n.padding}),p.height+=b}else{var m=n.padding,v=e.columnWidths=[],x=n.padding,y=0,S=0,k=d+m;helpers.each(e.legendItems,function(e,i){var l=t(n,d),o=l+d/2+a.measureText(e.text).width;S+k>p.height&&(x+=y+n.padding,v.push(y),y=0,S=0),y=Math.max(y,o),S+=k,u[i]={left:0,top:0,width:o,height:d}}),x+=y,v.push(y),p.width+=x}e.width=p.width,e.height=p.height},afterFit:l,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,i=e.options,n=i.labels,l=defaults.global,a=l.elements.line,o=e.width,r=e.lineWidths;if(i.display){var d,s=e.ctx,h=helpers.valueOrDefault,f=h(n.fontColor,l.defaultFontColor),u=h(n.fontSize,l.defaultFontSize),p=h(n.fontStyle,l.defaultFontStyle),g=h(n.fontFamily,l.defaultFontFamily),c=helpers.fontString(u,p,g);s.textAlign="left",s.textBaseline="middle",s.lineWidth=.5,s.strokeStyle=f,s.fillStyle=f,s.font=c;var b=t(n,u),m=e.legendHitBoxes,v=function(e,t,n){if(!(isNaN(b)||b<=0)){s.save(),s.fillStyle=h(n.fillStyle,l.defaultColor),s.lineCap=h(n.lineCap,a.borderCapStyle),s.lineDashOffset=h(n.lineDashOffset,a.borderDashOffset),s.lineJoin=h(n.lineJoin,a.borderJoinStyle),s.lineWidth=h(n.lineWidth,a.borderWidth),s.strokeStyle=h(n.strokeStyle,l.defaultColor);var o=0===h(n.lineWidth,a.borderWidth);if(s.setLineDash&&s.setLineDash(h(n.lineDash,a.borderDash)),i.labels&&i.labels.usePointStyle){var r=u*Math.SQRT2/2,d=r/Math.SQRT2,f=e+d,p=t+d;helpers.canvas.drawPoint(s,n.pointStyle,r,f,p)}else o||s.strokeRect(e,t,b,u),s.fillRect(e,t,b,u);s.restore()}},x=function(e,t,i,n){var l=u/2,a=b+l+e,o=t+l;s.fillText(i.text,a,o),i.hidden&&(s.beginPath(),s.lineWidth=2,s.moveTo(a,o),s.lineTo(a+n,o),s.stroke())},y=e.isHorizontal();d=y?{x:e.left+(o-r[0])/2,y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+n.padding,line:0};var S=u+n.padding;helpers.each(e.legendItems,function(t,i){var l=s.measureText(t.text).width,a=b+u/2+l,h=d.x,f=d.y;y?h+a>=o&&(f=d.y+=S,d.line++,h=d.x=e.left+(o-r[d.line])/2):f+S>e.bottom&&(h=d.x=h+e.columnWidths[d.line]+n.padding,f=d.y=e.top+n.padding,d.line++),v(h,f,t),m[i].left=h,m[i].top=f,x(h,f,t,l),y?d.x+=a+n.padding:d.y+=S})}},handleEvent:function(e){var t=this,i=t.options,n="mouseup"===e.type?"click":e.type,l=!1;if("mousemove"===n){if(!i.onHover)return}else{if("click"!==n)return;if(!i.onClick)return}var a=e.x,o=e.y;if(a>=t.left&&a<=t.right&&o>=t.top&&o<=t.bottom)for(var r=t.legendHitBoxes,d=0;d<r.length;++d){var s=r[d];if(a>=s.left&&a<=s.left+s.width&&o>=s.top&&o<=s.top+s.height){if("click"===n){i.onClick.call(t,e["native"],t.legendItems[d]),l=!0;break}if("mousemove"===n){i.onHover.call(t,e["native"],t.legendItems[d]),l=!0;break}}}return l}}),{id:"legend",beforeInit:function(e){var t=e.options.legend;t&&i(e,t)},beforeUpdate:function(e){var t=e.options.legend,l=e.legend;t?(helpers.mergeIf(t,defaults.global.legend),l?(n.configure(e,l,t),l.options=t):i(e,t)):l&&(n.removeBox(e,l),delete e.legend)},afterEvent:function(e,t){var i=e.legend;i&&i.handleEvent(t)}}};
},{"../core/core.defaults":31,"../core/core.element":32,"../helpers/index":51}],57:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),Element=require("../core/core.element"),helpers=require("../helpers/index");defaults._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,lineHeight:1.2,padding:10,position:"top",text:"",weight:2e3}}),module.exports=function(e){function t(t,o){var l=new e.Title({ctx:t.ctx,options:o,chart:t});i.configure(t,l,o),i.addBox(t,l),t.titleBlock=l}var i=e.layoutService,o=helpers.noop;return e.Title=Element.extend({initialize:function(e){var t=this;helpers.extend(t,e),t.legendHitBoxes=[]},beforeUpdate:o,update:function(e,t,i){var o=this;return o.beforeUpdate(),o.maxWidth=e,o.maxHeight=t,o.margins=i,o.beforeSetDimensions(),o.setDimensions(),o.afterSetDimensions(),o.beforeBuildLabels(),o.buildLabels(),o.afterBuildLabels(),o.beforeFit(),o.fit(),o.afterFit(),o.afterUpdate(),o.minSize},afterUpdate:o,beforeSetDimensions:o,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:o,beforeBuildLabels:o,buildLabels:o,afterBuildLabels:o,beforeFit:o,fit:function(){var e=this,t=helpers.valueOrDefault,i=e.options,o=i.display,l=t(i.fontSize,defaults.global.defaultFontSize),n=e.minSize,r=helpers.isArray(i.text)?i.text.length:1,a=helpers.options.toLineHeight(i.lineHeight,l),s=o?r*a+2*i.padding:0;e.isHorizontal()?(n.width=e.maxWidth,n.height=s):(n.width=s,n.height=e.maxHeight),e.width=n.width,e.height=n.height},afterFit:o,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,i=helpers.valueOrDefault,o=e.options,l=defaults.global;if(o.display){var n,r,a,s=i(o.fontSize,l.defaultFontSize),f=i(o.fontStyle,l.defaultFontStyle),d=i(o.fontFamily,l.defaultFontFamily),h=helpers.fontString(s,f,d),p=helpers.options.toLineHeight(o.lineHeight,s),u=p/2+o.padding,g=0,m=e.top,c=e.left,b=e.bottom,x=e.right;t.fillStyle=i(o.fontColor,l.defaultFontColor),t.font=h,e.isHorizontal()?(r=c+(x-c)/2,a=m+u,n=x-c):(r="left"===o.position?c+u:x-u,a=m+(b-m)/2,n=b-m,g=Math.PI*("left"===o.position?-.5:.5)),t.save(),t.translate(r,a),t.rotate(g),t.textAlign="center",t.textBaseline="middle";var v=o.text;if(helpers.isArray(v))for(var S=0,y=0;y<v.length;++y)t.fillText(v[y],0,S,n),S+=p;else t.fillText(v,0,0,n);t.restore()}}}),{id:"title",beforeInit:function(e){var i=e.options.title;i&&t(e,i)},beforeUpdate:function(o){var l=o.options.title,n=o.titleBlock;l?(helpers.mergeIf(l,defaults.global.title),n?(i.configure(o,n,l),n.options=l):t(o,l)):n&&(e.layoutService.removeBox(o,n),delete o.titleBlock)}}};
},{"../core/core.defaults":31,"../core/core.element":32,"../helpers/index":51}],58:[function(require,module,exports){
"use strict";module.exports=function(t){var i={position:"bottom"},e=t.Scale.extend({getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels},determineDataLimits:function(){var t=this,i=t.getLabels();t.minIndex=0,t.maxIndex=i.length-1;var e;void 0!==t.options.ticks.min&&(e=i.indexOf(t.options.ticks.min),t.minIndex=e!==-1?e:t.minIndex),void 0!==t.options.ticks.max&&(e=i.indexOf(t.options.ticks.max),t.maxIndex=e!==-1?e:t.maxIndex),t.min=i[t.minIndex],t.max=i[t.maxIndex]},buildTicks:function(){var t=this,i=t.getLabels();t.ticks=0===t.minIndex&&t.maxIndex===i.length-1?i:i.slice(t.minIndex,t.maxIndex+1)},getLabelForIndex:function(t,i){var e=this,n=e.chart.data,a=e.isHorizontal();return n.yLabels&&!a?e.getRightValue(n.datasets[i].data[t]):e.ticks[t-e.minIndex]},getPixelForValue:function(t,i){var e,n=this,a=n.options.offset,o=Math.max(n.maxIndex+1-n.minIndex-(a?0:1),1);if(void 0!==t&&null!==t&&(e=n.isHorizontal()?t.x:t.y),void 0!==e||void 0!==t&&isNaN(i)){var s=n.getLabels();t=e||t;var r=s.indexOf(t);i=r!==-1?r:i}if(n.isHorizontal()){var x=n.width/o,d=x*(i-n.minIndex);return a&&(d+=x/2),n.left+Math.round(d)}var l=n.height/o,m=l*(i-n.minIndex);return a&&(m+=l/2),n.top+Math.round(m)},getPixelForTick:function(t){return this.getPixelForValue(this.ticks[t],t+this.minIndex,null)},getValueForPixel:function(t){var i,e=this,n=e.options.offset,a=Math.max(e._ticks.length-(n?0:1),1),o=e.isHorizontal(),s=(o?e.width:e.height)/a;return t-=o?e.left:e.top,n&&(t-=s/2),i=t<=0?0:Math.round(t/s),i+e.minIndex},getBasePixel:function(){return this.bottom}});t.scaleService.registerScaleType("category",e,i)};
},{}],59:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),helpers=require("../helpers/index"),Ticks=require("../core/core.ticks");module.exports=function(e){var i={position:"left",ticks:{callback:Ticks.formatters.linear}},t=e.LinearScaleBase.extend({determineDataLimits:function(){function e(e){return r?e.xAxisID===i.id:e.yAxisID===i.id}var i=this,t=i.options,a=i.chart,s=a.data,n=s.datasets,r=i.isHorizontal(),l=0,o=1;i.min=null,i.max=null;var c=t.stacked;if(void 0===c&&helpers.each(n,function(i,t){if(!c){var s=a.getDatasetMeta(t);a.isDatasetVisible(t)&&e(s)&&void 0!==s.stack&&(c=!0)}}),t.stacked||c){var h={};helpers.each(n,function(s,n){var r=a.getDatasetMeta(n),l=[r.type,void 0===t.stacked&&void 0===r.stack?n:"",r.stack].join(".");void 0===h[l]&&(h[l]={positiveValues:[],negativeValues:[]});var o=h[l].positiveValues,c=h[l].negativeValues;a.isDatasetVisible(n)&&e(r)&&helpers.each(s.data,function(e,a){var s=+i.getRightValue(e);isNaN(s)||r.data[a].hidden||(o[a]=o[a]||0,c[a]=c[a]||0,t.relativePoints?o[a]=100:s<0?c[a]+=s:o[a]+=s)})}),helpers.each(h,function(e){var t=e.positiveValues.concat(e.negativeValues),a=helpers.min(t),s=helpers.max(t);i.min=null===i.min?a:Math.min(i.min,a),i.max=null===i.max?s:Math.max(i.max,s)})}else helpers.each(n,function(t,s){var n=a.getDatasetMeta(s);a.isDatasetVisible(s)&&e(n)&&helpers.each(t.data,function(e,t){var a=+i.getRightValue(e);isNaN(a)||n.data[t].hidden||(null===i.min?i.min=a:a<i.min&&(i.min=a),null===i.max?i.max=a:a>i.max&&(i.max=a))})});i.min=isFinite(i.min)&&!isNaN(i.min)?i.min:l,i.max=isFinite(i.max)&&!isNaN(i.max)?i.max:o,this.handleTickRangeOptions()},getTickLimit:function(){var e,i=this,t=i.options.ticks;if(i.isHorizontal())e=Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(i.width/50));else{var a=helpers.valueOrDefault(t.fontSize,defaults.global.defaultFontSize);e=Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(i.height/(2*a)))}return e},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,i){return+this.getRightValue(this.chart.data.datasets[i].data[e])},getPixelForValue:function(e){var i,t=this,a=t.start,s=+t.getRightValue(e),n=t.end-a;return t.isHorizontal()?(i=t.left+t.width/n*(s-a),Math.round(i)):(i=t.bottom-t.height/n*(s-a),Math.round(i))},getValueForPixel:function(e){var i=this,t=i.isHorizontal(),a=t?i.width:i.height,s=(t?e-i.left:i.bottom-e)/a;return i.start+(i.end-i.start)*s},getPixelForTick:function(e){return this.getPixelForValue(this.ticksAsNumbers[e])}});e.scaleService.registerScaleType("linear",t,i)};
},{"../core/core.defaults":31,"../core/core.ticks":40,"../helpers/index":51}],60:[function(require,module,exports){
"use strict";var helpers=require("../helpers/index"),Ticks=require("../core/core.ticks");module.exports=function(e){var i=helpers.noop;e.LinearScaleBase=e.Scale.extend({getRightValue:function(i){return"string"==typeof i?+i:e.Scale.prototype.getRightValue.call(this,i)},handleTickRangeOptions:function(){var e=this,i=e.options,n=i.ticks;if(n.beginAtZero){var a=helpers.sign(e.min),s=helpers.sign(e.max);a<0&&s<0?e.max=0:a>0&&s>0&&(e.min=0)}var t=void 0!==n.min||void 0!==n.suggestedMin,m=void 0!==n.max||void 0!==n.suggestedMax;void 0!==n.min?e.min=n.min:void 0!==n.suggestedMin&&(null===e.min?e.min=n.suggestedMin:e.min=Math.min(e.min,n.suggestedMin)),void 0!==n.max?e.max=n.max:void 0!==n.suggestedMax&&(null===e.max?e.max=n.suggestedMax:e.max=Math.max(e.max,n.suggestedMax)),t!==m&&e.min>=e.max&&(t?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,n.beginAtZero||e.min--)},getTickLimit:i,handleDirectionalChanges:i,buildTicks:function(){var e=this,i=e.options,n=i.ticks,a=e.getTickLimit();a=Math.max(2,a);var s={maxTicks:a,min:n.min,max:n.max,stepSize:helpers.valueOrDefault(n.fixedStepSize,n.stepSize)},t=e.ticks=Ticks.generators.linear(s,e);e.handleDirectionalChanges(),e.max=helpers.max(t),e.min=helpers.min(t),n.reverse?(t.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var i=this;i.ticksAsNumbers=i.ticks.slice(),i.zeroLineIndex=i.ticks.indexOf(0),e.Scale.prototype.convertTicksToLabels.call(i)}})};
},{"../core/core.ticks":40,"../helpers/index":51}],61:[function(require,module,exports){
"use strict";var helpers=require("../helpers/index"),Ticks=require("../core/core.ticks");module.exports=function(e){var t={position:"left",ticks:{callback:Ticks.formatters.logarithmic}},i=e.Scale.extend({determineDataLimits:function(){function e(e){return n?e.xAxisID===t.id:e.yAxisID===t.id}var t=this,i=t.options,a=i.ticks,r=t.chart,o=r.data,s=o.datasets,l=helpers.valueOrDefault,n=t.isHorizontal();t.min=null,t.max=null,t.minNotZero=null;var h=i.stacked;if(void 0===h&&helpers.each(s,function(t,i){if(!h){var a=r.getDatasetMeta(i);r.isDatasetVisible(i)&&e(a)&&void 0!==a.stack&&(h=!0)}}),i.stacked||h){var m={};helpers.each(s,function(a,o){var s=r.getDatasetMeta(o),l=[s.type,void 0===i.stacked&&void 0===s.stack?o:"",s.stack].join(".");r.isDatasetVisible(o)&&e(s)&&(void 0===m[l]&&(m[l]=[]),helpers.each(a.data,function(e,a){var r=m[l],o=+t.getRightValue(e);isNaN(o)||s.data[a].hidden||(r[a]=r[a]||0,i.relativePoints?r[a]=100:r[a]+=o)}))}),helpers.each(m,function(e){var i=helpers.min(e),a=helpers.max(e);t.min=null===t.min?i:Math.min(t.min,i),t.max=null===t.max?a:Math.max(t.max,a)})}else helpers.each(s,function(i,a){var o=r.getDatasetMeta(a);r.isDatasetVisible(a)&&e(o)&&helpers.each(i.data,function(e,i){var a=+t.getRightValue(e);isNaN(a)||o.data[i].hidden||(null===t.min?t.min=a:a<t.min&&(t.min=a),null===t.max?t.max=a:a>t.max&&(t.max=a),0!==a&&(null===t.minNotZero||a<t.minNotZero)&&(t.minNotZero=a))})});t.min=l(a.min,t.min),t.max=l(a.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(helpers.log10(t.min))-1),t.max=Math.pow(10,Math.floor(helpers.log10(t.max))+1)):(t.min=1,t.max=10))},buildTicks:function(){var e=this,t=e.options,i=t.ticks,a={min:i.min,max:i.max},r=e.ticks=Ticks.generators.logarithmic(a,e);e.isHorizontal()||r.reverse(),e.max=helpers.max(r),e.min=helpers.min(r),i.reverse?(r.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),e.Scale.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){return this.getPixelForValue(this.tickValues[e])},getPixelForValue:function(e){var t,i,a,r=this,o=r.start,s=+r.getRightValue(e),l=r.options,n=l.ticks;return r.isHorizontal()?(a=helpers.log10(r.end)-helpers.log10(o),0===s?i=r.left:(t=r.width,i=r.left+t/a*(helpers.log10(s)-helpers.log10(o)))):(t=r.height,0!==o||n.reverse?0===r.end&&n.reverse?(a=helpers.log10(r.start)-helpers.log10(r.minNotZero),i=s===r.end?r.top:s===r.minNotZero?r.top+.02*t:r.top+.02*t+.98*t/a*(helpers.log10(s)-helpers.log10(r.minNotZero))):0===s?i=n.reverse?r.top:r.bottom:(a=helpers.log10(r.end)-helpers.log10(o),t=r.height,i=r.bottom-t/a*(helpers.log10(s)-helpers.log10(o))):(a=helpers.log10(r.end)-helpers.log10(r.minNotZero),i=s===o?r.bottom:s===r.minNotZero?r.bottom-.02*t:r.bottom-.02*t-.98*t/a*(helpers.log10(s)-helpers.log10(r.minNotZero)))),i},getValueForPixel:function(e){var t,i,a=this,r=helpers.log10(a.end)-helpers.log10(a.start);return a.isHorizontal()?(i=a.width,t=a.start*Math.pow(10,(e-a.left)*r/i)):(i=a.height,t=Math.pow(10,(a.bottom-e)*r/i)/a.start),t}});e.scaleService.registerScaleType("logarithmic",i,t)};
},{"../core/core.ticks":40,"../helpers/index":51}],62:[function(require,module,exports){
"use strict";var defaults=require("../core/core.defaults"),helpers=require("../helpers/index"),Ticks=require("../core/core.ticks");module.exports=function(t){function e(t){var e=t.options;return e.angleLines.display||e.pointLabels.display?t.chart.data.labels.length:0}function i(t){var e=t.options.pointLabels,i=helpers.valueOrDefault(e.fontSize,f.defaultFontSize),a=helpers.valueOrDefault(e.fontStyle,f.defaultFontStyle),n=helpers.valueOrDefault(e.fontFamily,f.defaultFontFamily),r=helpers.fontString(i,a,n);return{size:i,style:a,family:n,font:r}}function a(t,e,i){return helpers.isArray(i)?{w:helpers.longestText(t,t.font,i),h:i.length*e+1.5*(i.length-1)*e}:{w:t.measureText(i).width,h:e}}function n(t,e,i,a,n){return t===a||t===n?{start:e-i/2,end:e+i/2}:t<a||t>n?{start:e-i-5,end:e}:{start:e,end:e+i+5}}function r(t){var r,o,s,l=i(t),h=Math.min(t.height/2,t.width/2),d={r:t.width,l:0,t:t.height,b:0},c={};t.ctx.font=l.font,t._pointLabelSizes=[];var u=e(t);for(r=0;r<u;r++){s=t.getPointPosition(r,h),o=a(t.ctx,l.size,t.pointLabels[r]||""),t._pointLabelSizes[r]=o;var f=t.getIndexAngle(r),g=helpers.toDegrees(f)%360,p=n(g,s.x,o.w,0,180),v=n(g,s.y,o.h,90,270);p.start<d.l&&(d.l=p.start,c.l=f),p.end>d.r&&(d.r=p.end,c.r=f),v.start<d.t&&(d.t=v.start,c.t=f),v.end>d.b&&(d.b=v.end,c.b=f)}t.setReductions(h,d,c)}function o(t){var e=Math.min(t.height/2,t.width/2);t.drawingArea=Math.round(e),t.setCenterPoint(0,0,0,0)}function s(t){return 0===t||180===t?"center":t<180?"left":"right"}function l(t,e,i,a){if(helpers.isArray(e))for(var n=i.y,r=1.5*a,o=0;o<e.length;++o)t.fillText(e[o],i.x,n),n+=r;else t.fillText(e,i.x,i.y)}function h(t,e,i){90===t||270===t?i.y-=e.h/2:(t>270||t<90)&&(i.y-=e.h)}function d(t){var a=t.ctx,n=helpers.valueOrDefault,r=t.options,o=r.angleLines,d=r.pointLabels;a.lineWidth=o.lineWidth,a.strokeStyle=o.color;var c=t.getDistanceFromCenterForValue(r.ticks.reverse?t.min:t.max),u=i(t);a.textBaseline="top";for(var g=e(t)-1;g>=0;g--){if(o.display){var p=t.getPointPosition(g,c);a.beginPath(),a.moveTo(t.xCenter,t.yCenter),a.lineTo(p.x,p.y),a.stroke(),a.closePath()}if(d.display){var v=t.getPointPosition(g,c+5),m=n(d.fontColor,f.defaultFontColor);a.font=u.font,a.fillStyle=m;var b=t.getIndexAngle(g),x=helpers.toDegrees(b);a.textAlign=s(x),h(x,t._pointLabelSizes[g],v),l(a,t.pointLabels[g]||"",v,u.size)}}}function c(t,i,a,n){var r=t.ctx;if(r.strokeStyle=helpers.valueAtIndexOrDefault(i.color,n-1),r.lineWidth=helpers.valueAtIndexOrDefault(i.lineWidth,n-1),t.options.gridLines.circular)r.beginPath(),r.arc(t.xCenter,t.yCenter,a,0,2*Math.PI),r.closePath(),r.stroke();else{var o=e(t);if(0===o)return;r.beginPath();var s=t.getPointPosition(0,a);r.moveTo(s.x,s.y);for(var l=1;l<o;l++)s=t.getPointPosition(l,a),r.lineTo(s.x,s.y);r.closePath(),r.stroke()}}function u(t){return helpers.isNumber(t)?t:0}var f=defaults.global,g={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0, 0, 0, 0.1)",lineWidth:1},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Ticks.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}},p=t.LinearScaleBase.extend({setDimensions:function(){var t=this,e=t.options,i=e.ticks;t.width=t.maxWidth,t.height=t.maxHeight,t.xCenter=Math.round(t.width/2),t.yCenter=Math.round(t.height/2);var a=helpers.min([t.height,t.width]),n=helpers.valueOrDefault(i.fontSize,f.defaultFontSize);t.drawingArea=e.display?a/2-(n/2+i.backdropPaddingY):a/2},determineDataLimits:function(){var t=this,e=t.chart,i=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY;helpers.each(e.data.datasets,function(n,r){if(e.isDatasetVisible(r)){var o=e.getDatasetMeta(r);helpers.each(n.data,function(e,n){var r=+t.getRightValue(e);isNaN(r)||o.data[n].hidden||(i=Math.min(r,i),a=Math.max(r,a))})}}),t.min=i===Number.POSITIVE_INFINITY?0:i,t.max=a===Number.NEGATIVE_INFINITY?0:a,t.handleTickRangeOptions()},getTickLimit:function(){var t=this.options.ticks,e=helpers.valueOrDefault(t.fontSize,f.defaultFontSize);return Math.min(t.maxTicksLimit?t.maxTicksLimit:11,Math.ceil(this.drawingArea/(1.5*e)))},convertTicksToLabels:function(){var e=this;t.LinearScaleBase.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map(e.options.pointLabels.callback,e)},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){this.options.pointLabels.display?r(this):o(this)},setReductions:function(t,e,i){var a=this,n=e.l/Math.sin(i.l),r=Math.max(e.r-a.width,0)/Math.sin(i.r),o=-e.t/Math.cos(i.t),s=-Math.max(e.b-a.height,0)/Math.cos(i.b);n=u(n),r=u(r),o=u(o),s=u(s),a.drawingArea=Math.min(Math.round(t-(n+r)/2),Math.round(t-(o+s)/2)),a.setCenterPoint(n,r,o,s)},setCenterPoint:function(t,e,i,a){var n=this,r=n.width-e-n.drawingArea,o=t+n.drawingArea,s=i+n.drawingArea,l=n.height-a-n.drawingArea;n.xCenter=Math.round((o+r)/2+n.left),n.yCenter=Math.round((s+l)/2+n.top)},getIndexAngle:function(t){var i=2*Math.PI/e(this),a=this.chart.options&&this.chart.options.startAngle?this.chart.options.startAngle:0,n=a*Math.PI*2/360;return t*i+n},getDistanceFromCenterForValue:function(t){var e=this;if(null===t)return 0;var i=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*i:(t-e.min)*i},getPointPosition:function(t,e){var i=this,a=i.getIndexAngle(t)-Math.PI/2;return{x:Math.round(Math.cos(a)*e)+i.xCenter,y:Math.round(Math.sin(a)*e)+i.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(){var t=this,e=t.min,i=t.max;return t.getPointPositionForValue(0,t.beginAtZero?0:e<0&&i<0?i:e>0&&i>0?e:0)},draw:function(){var t=this,e=t.options,i=e.gridLines,a=e.ticks,n=helpers.valueOrDefault;if(e.display){var r=t.ctx,o=this.getIndexAngle(0),s=n(a.fontSize,f.defaultFontSize),l=n(a.fontStyle,f.defaultFontStyle),h=n(a.fontFamily,f.defaultFontFamily),u=helpers.fontString(s,l,h);helpers.each(t.ticks,function(e,l){if(l>0||a.reverse){var h=t.getDistanceFromCenterForValue(t.ticksAsNumbers[l]);if(i.display&&0!==l&&c(t,i,h,l),a.display){var d=n(a.fontColor,f.defaultFontColor);if(r.font=u,r.save(),r.translate(t.xCenter,t.yCenter),r.rotate(o),a.showLabelBackdrop){var g=r.measureText(e).width;r.fillStyle=a.backdropColor,r.fillRect(-g/2-a.backdropPaddingX,-h-s/2-a.backdropPaddingY,g+2*a.backdropPaddingX,s+2*a.backdropPaddingY)}r.textAlign="center",r.textBaseline="middle",r.fillStyle=d,r.fillText(e,0,-h),r.restore()}}}),(e.angleLines.display||e.pointLabels.display)&&d(t)}}});t.scaleService.registerScaleType("radialLinear",p,g)};
},{"../core/core.defaults":31,"../core/core.ticks":40,"../helpers/index":51}],63:[function(require,module,exports){
"use strict";function sorter(t,e){return t-e}function arrayUnique(t){var e,i,n,o={},a=[];for(e=0,i=t.length;e<i;++e)n=t[e],o[n]||(o[n]=!0,a.push(n));return a}function buildLookupTable(t,e,i,n){if("linear"===n||!t.length)return[{time:e,pos:0},{time:i,pos:1}];var o,a,r,s,l,m=[],u=[e];for(o=0,a=t.length;o<a;++o)s=t[o],s>e&&s<i&&u.push(s);for(u.push(i),o=0,a=u.length;o<a;++o)l=u[o+1],r=u[o-1],s=u[o],void 0!==r&&void 0!==l&&Math.round((l+r)/2)===s||m.push({time:s,pos:o/(a-1)});return m}function lookup(t,e,i){for(var n,o,a,r=0,s=t.length-1;r>=0&&r<=s;){if(n=r+s>>1,o=t[n-1]||null,a=t[n],!o)return{lo:null,hi:a};if(a[e]<i)r=n+1;else{if(!(o[e]>i))return{lo:o,hi:a};s=n-1}}return{lo:a,hi:null}}function interpolate(t,e,i,n){var o=lookup(t,e,i),a=o.lo?o.hi?o.lo:t[t.length-2]:t[0],r=o.lo?o.hi?o.hi:t[t.length-1]:t[1],s=r[e]-a[e],l=s?(i-a[e])/s:0,m=(r[n]-a[n])*l;return a[n]+m}function momentify(t,e){var i=e.parser,n=e.parser||e.format;return"function"==typeof i?i(t):"string"==typeof t&&"string"==typeof n?moment(t,n):(t instanceof moment||(t=moment(t)),t.isValid()?t:"function"==typeof n?n(t):t)}function parse(t,e){if(helpers.isNullOrUndef(t))return null;var i=e.options.time,n=momentify(e.getRightValue(t),i);return n.isValid()?(i.round&&n.startOf(i.round),n.valueOf()):null}function determineStepSize(t,e,i,n){var o,a,r,s=e-t,l=INTERVALS[i],m=l.size,u=l.steps;if(!u)return Math.ceil(s/((n||1)*m));for(o=0,a=u.length;o<a&&(r=u[o],!(Math.ceil(s/(m*r))<=n));++o);return r}function determineUnitForAutoTicks(t,e,i,n){var o,a,r,s=UNITS.length;for(o=UNITS.indexOf(t);o<s-1;++o)if(a=INTERVALS[UNITS[o]],r=a.steps?a.steps[a.steps.length-1]:MAX_INTEGER,a.common&&Math.ceil((i-e)/(r*a.size))<=n)return UNITS[o];return UNITS[s-1]}function determineUnitForFormatting(t,e,i,n){var o,a,r=moment.duration(moment(n).diff(moment(i))),s=UNITS.length;for(o=s-1;o>=UNITS.indexOf(e);o--)if(a=UNITS[o],INTERVALS[a].common&&r.as(a)>=t.length)return a;return UNITS[e?UNITS.indexOf(e):0]}function determineMajorUnit(t){for(var e=UNITS.indexOf(t)+1,i=UNITS.length;e<i;++e)if(INTERVALS[UNITS[e]].common)return UNITS[e]}function generate(t,e,i,n){var o,a=n.time,r=a.unit||determineUnitForAutoTicks(a.minUnit,t,e,i),s=determineMajorUnit(r),l=helpers.valueOrDefault(a.stepSize,a.unitStepSize),m="week"===r&&a.isoWeekday,u=n.ticks.major.enabled,f=INTERVALS[r],h=moment(t),p=moment(e),c=[];for(l||(l=determineStepSize(t,e,r,i)),m&&(h=h.isoWeekday(m),p=p.isoWeekday(m)),h=h.startOf(m?"day":r),p=p.startOf(m?"day":r),p<e&&p.add(1,r),o=moment(h),u&&s&&!m&&!a.round&&(o.startOf(s),o.add(~~((h-o)/(f.size*l))*l,r));o<p;o.add(l,r))c.push(+o);return c.push(+o),c}function computeOffsets(t,e,i,n,o){var a,r,s=0,l=0;return o.offset&&e.length&&(o.time.min||(a=e.length>1?e[1]:n,r=e[0],s=(interpolate(t,"time",a,"pos")-interpolate(t,"time",r,"pos"))/2),o.time.max||(a=e[e.length-1],r=e.length>1?e[e.length-2]:i,l=(interpolate(t,"time",a,"pos")-interpolate(t,"time",r,"pos"))/2)),{left:s,right:l}}function ticksFromTimestamps(t,e){var i,n,o,a,r=[];for(i=0,n=t.length;i<n;++i)o=t[i],a=!!e&&o===+moment(o).startOf(e),r.push({value:o,major:a});return r}var moment=require("moment");moment="function"==typeof moment?moment:window.moment;var defaults=require("../core/core.defaults"),helpers=require("../helpers/index"),MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991,INTERVALS={millisecond:{common:!0,size:1,steps:[1,2,5,10,20,50,100,250,500]},second:{common:!0,size:1e3,steps:[1,2,5,10,30]},minute:{common:!0,size:6e4,steps:[1,2,5,10,30]},hour:{common:!0,size:36e5,steps:[1,2,3,6,12]},day:{common:!0,size:864e5,steps:[1,2,5]},week:{common:!1,size:6048e5,steps:[1,2,3,4]},month:{common:!0,size:2628e6,steps:[1,2,3]},quarter:{common:!1,size:7884e6,steps:[1,2,3,4]},year:{common:!0,size:3154e7}},UNITS=Object.keys(INTERVALS);module.exports=function(t){var e={position:"bottom",distribution:"linear",bounds:"data",time:{parser:!1,format:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},i=t.Scale.extend({initialize:function(){if(!moment)throw new Error("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at https://momentjs.com");this.mergeTicksOptions(),t.Scale.prototype.initialize.call(this)},update:function(){var e=this,i=e.options;return i.time&&i.time.format&&console.warn("options.time.format is deprecated and replaced by options.time.parser."),t.Scale.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),t.Scale.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var t,e,i,n,o,a,r=this,s=r.chart,l=r.options.time,m=MAX_INTEGER,u=MIN_INTEGER,f=[],h=[],p=[];for(t=0,i=s.data.labels.length;t<i;++t)p.push(parse(s.data.labels[t],r));for(t=0,i=(s.data.datasets||[]).length;t<i;++t)if(s.isDatasetVisible(t))if(o=s.data.datasets[t].data,helpers.isObject(o[0]))for(h[t]=[],e=0,n=o.length;e<n;++e)a=parse(o[e],r),f.push(a),h[t][e]=a;else f.push.apply(f,p),h[t]=p.slice(0);else h[t]=[];p.length&&(p=arrayUnique(p).sort(sorter),m=Math.min(m,p[0]),u=Math.max(u,p[p.length-1])),f.length&&(f=arrayUnique(f).sort(sorter),m=Math.min(m,f[0]),u=Math.max(u,f[f.length-1])),m=parse(l.min,r)||m,u=parse(l.max,r)||u,m=m===MAX_INTEGER?+moment().startOf("day"):m,u=u===MIN_INTEGER?+moment().endOf("day")+1:u,r.min=Math.min(m,u),r.max=Math.max(m+1,u),r._horizontal=r.isHorizontal(),r._table=[],r._timestamps={data:f,datasets:h,labels:p}},buildTicks:function(){var t,e,i,n=this,o=n.min,a=n.max,r=n.options,s=r.time,l=[],m=[];switch(r.ticks.source){case"data":l=n._timestamps.data;break;case"labels":l=n._timestamps.labels;break;case"auto":default:l=generate(o,a,n.getLabelCapacity(o),r)}for("ticks"===r.bounds&&l.length&&(o=l[0],a=l[l.length-1]),o=parse(s.min,n)||o,a=parse(s.max,n)||a,t=0,e=l.length;t<e;++t)i=l[t],i>=o&&i<=a&&m.push(i);return n.min=o,n.max=a,n._unit=s.unit||determineUnitForFormatting(m,s.minUnit,n.min,n.max),n._majorUnit=determineMajorUnit(n._unit),n._table=buildLookupTable(n._timestamps.data,o,a,r.distribution),n._offsets=computeOffsets(n._table,m,o,a,r),ticksFromTimestamps(m,n._majorUnit)},getLabelForIndex:function(t,e){var i=this,n=i.chart.data,o=i.options.time,a=n.labels&&t<n.labels.length?n.labels[t]:"",r=n.datasets[e].data[t];return helpers.isObject(r)&&(a=i.getRightValue(r)),o.tooltipFormat&&(a=momentify(a,o).format(o.tooltipFormat)),a},tickFormatFunction:function(t,e,i,n){var o=this,a=o.options,r=t.valueOf(),s=a.time.displayFormats,l=s[o._unit],m=o._majorUnit,u=s[m],f=t.clone().startOf(m).valueOf(),h=a.ticks.major,p=h.enabled&&m&&u&&r===f,c=t.format(n?n:p?u:l),d=p?h:a.ticks.minor,g=helpers.valueOrDefault(d.callback,d.userCallback);return g?g(c,e,i):c},convertTicksToLabels:function(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(this.tickFormatFunction(moment(t[e].value),e,t));return n},getPixelForOffset:function(t){var e=this,i=e._horizontal?e.width:e.height,n=e._horizontal?e.left:e.top,o=interpolate(e._table,"time",t,"pos");return n+i*(e._offsets.left+o)/(e._offsets.left+1+e._offsets.right)},getPixelForValue:function(t,e,i){var n=this,o=null;if(void 0!==e&&void 0!==i&&(o=n._timestamps.datasets[i][e]),null===o&&(o=parse(t,n)),null!==o)return n.getPixelForOffset(o)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,i=e._horizontal?e.width:e.height,n=e._horizontal?e.left:e.top,o=(i?(t-n)/i:0)*(e._offsets.left+1+e._offsets.left)-e._offsets.right,a=interpolate(e._table,"pos",o,"time");return moment(a)},getLabelWidth:function(t){var e=this,i=e.options.ticks,n=e.ctx.measureText(t).width,o=helpers.toRadians(i.maxRotation),a=Math.cos(o),r=Math.sin(o),s=helpers.valueOrDefault(i.fontSize,defaults.global.defaultFontSize);return n*a+s*r},getLabelCapacity:function(t){var e=this,i=e.options.time.displayFormats.millisecond,n=e.tickFormatFunction(moment(t),0,[],i),o=e.getLabelWidth(n),a=e.isHorizontal()?e.width:e.height;return Math.floor(a/o)}});t.scaleService.registerScaleType("time",i,e)};
},{"../core/core.defaults":31,"../helpers/index":51,"moment":"moment"}],64:[function(require,module,exports){
function getRgba(r){if(r){var e=/^#([a-fA-F0-9]{3})$/i,t=/^#([a-fA-F0-9]{6})$/i,a=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,n=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,s=/(\w+)/,g=[0,0,0],i=1,o=r.match(e);if(o){o=o[1];for(var l=0;l<g.length;l++)g[l]=parseInt(o[l]+o[l],16)}else if(o=r.match(t)){o=o[1];for(var l=0;l<g.length;l++)g[l]=parseInt(o.slice(2*l,2*l+2),16)}else if(o=r.match(a)){for(var l=0;l<g.length;l++)g[l]=parseInt(o[l+1]);i=parseFloat(o[4])}else if(o=r.match(n)){for(var l=0;l<g.length;l++)g[l]=Math.round(2.55*parseFloat(o[l+1]));i=parseFloat(o[4])}else if(o=r.match(s)){if("transparent"==o[1])return[0,0,0,0];if(g=colorNames[o[1]],!g)return}for(var l=0;l<g.length;l++)g[l]=scale(g[l],0,255);return i=i||0==i?scale(i,0,1):1,g[3]=i,g}}function getHsla(r){if(r){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,t=r.match(e);if(t){var a=parseFloat(t[4]),n=scale(parseInt(t[1]),0,360),s=scale(parseFloat(t[2]),0,100),g=scale(parseFloat(t[3]),0,100),i=scale(isNaN(a)?1:a,0,1);return[n,s,g,i]}}}function getHwb(r){if(r){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,t=r.match(e);if(t){var a=parseFloat(t[4]),n=scale(parseInt(t[1]),0,360),s=scale(parseFloat(t[2]),0,100),g=scale(parseFloat(t[3]),0,100),i=scale(isNaN(a)?1:a,0,1);return[n,s,g,i]}}}function getRgb(r){var e=getRgba(r);return e&&e.slice(0,3)}function getHsl(r){var e=getHsla(r);return e&&e.slice(0,3)}function getAlpha(r){var e=getRgba(r);return e?e[3]:(e=getHsla(r))?e[3]:(e=getHwb(r))?e[3]:void 0}function hexString(r){return"#"+hexDouble(r[0])+hexDouble(r[1])+hexDouble(r[2])}function rgbString(r,e){return e<1||r[3]&&r[3]<1?rgbaString(r,e):"rgb("+r[0]+", "+r[1]+", "+r[2]+")"}function rgbaString(r,e){return void 0===e&&(e=void 0!==r[3]?r[3]:1),"rgba("+r[0]+", "+r[1]+", "+r[2]+", "+e+")"}function percentString(r,e){if(e<1||r[3]&&r[3]<1)return percentaString(r,e);var t=Math.round(r[0]/255*100),a=Math.round(r[1]/255*100),n=Math.round(r[2]/255*100);return"rgb("+t+"%, "+a+"%, "+n+"%)"}function percentaString(r,e){var t=Math.round(r[0]/255*100),a=Math.round(r[1]/255*100),n=Math.round(r[2]/255*100);return"rgba("+t+"%, "+a+"%, "+n+"%, "+(e||r[3]||1)+")"}function hslString(r,e){return e<1||r[3]&&r[3]<1?hslaString(r,e):"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)"}function hslaString(r,e){return void 0===e&&(e=void 0!==r[3]?r[3]:1),"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+e+")"}function hwbString(r,e){return void 0===e&&(e=void 0!==r[3]?r[3]:1),"hwb("+r[0]+", "+r[1]+"%, "+r[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function keyword(r){return reverseNames[r.slice(0,3)]}function scale(r,e,t){return Math.min(Math.max(e,r),t)}function hexDouble(r){var e=r.toString(16).toUpperCase();return e.length<2?"0"+e:e}var colorNames=require("color-name");module.exports={getRgba:getRgba,getHsla:getHsla,getRgb:getRgb,getHsl:getHsl,getHwb:getHwb,getAlpha:getAlpha,hexString:hexString,rgbString:rgbString,rgbaString:rgbaString,percentString:percentString,percentaString:percentaString,hslString:hslString,hslaString:hslaString,hwbString:hwbString,keyword:keyword};var reverseNames={};for(var name in colorNames)reverseNames[colorNames[name]]=name;
},{"color-name":68}],65:[function(require,module,exports){
var convert=require("color-convert"),string=require("chartjs-color-string"),Color=function(t){if(t instanceof Color)return t;if(!(this instanceof Color))return new Color(t);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;"string"==typeof t?(e=string.getRgba(t),e?this.setValues("rgb",e):(e=string.getHsla(t))?this.setValues("hsl",e):(e=string.getHwb(t))&&this.setValues("hwb",e)):"object"==typeof t&&(e=t,void 0!==e.r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e))};Color.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=t<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return string.hexString(this.values.rgb)},rgbString:function(){return string.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return string.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return string.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return string.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return string.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return string.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return string.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],s=0;s<t.length;s++){var r=t[s]/255;e[s]=r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),s=t.luminosity();return e>s?(e+.05)/(s+.05):(s+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return e<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,s=(e[0]+t)%360;return e[0]=s<0?360+s:s,this.setValues("hsl",e),this},mix:function(t,e){var s=this,r=t,n=void 0===e?.5:e,a=2*n-1,i=s.alpha()-r.alpha(),h=((a*i===-1?a:(a+i)/(1+a*i))+1)/2,u=1-h;return this.rgb(h*s.red()+u*r.red(),h*s.green()+u*r.green(),h*s.blue()+u*r.blue()).alpha(s.alpha()*n+r.alpha()*(1-n))},toJSON:function(){return this.rgb()},clone:function(){var t,e,s=new Color,r=this.values,n=s.values;for(var a in r)r.hasOwnProperty(a)&&(t=r[a],e={}.toString.call(t),"[object Array]"===e?n[a]=t.slice(0):"[object Number]"===e?n[a]=t:console.error("unexpected color value:",t));return s}},Color.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},Color.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},Color.prototype.getValues=function(t){for(var e=this.values,s={},r=0;r<t.length;r++)s[t.charAt(r)]=e[t][r];return 1!==e.alpha&&(s.a=e.alpha),s},Color.prototype.setValues=function(t,e){var s,r=this.values,n=this.spaces,a=this.maxes,i=1;if(this.valid=!0,"alpha"===t)i=e;else if(e.length)r[t]=e.slice(0,t.length),i=e[t.length];else if(void 0!==e[t.charAt(0)]){for(s=0;s<t.length;s++)r[t][s]=e[t.charAt(s)];i=e.a}else if(void 0!==e[n[t][0]]){var h=n[t];for(s=0;s<t.length;s++)r[t][s]=e[h[s]];i=e.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===i?r.alpha:i)),"alpha"===t)return!1;var u;for(s=0;s<t.length;s++)u=Math.max(0,Math.min(a[t][s],r[t][s])),r[t][s]=Math.round(u);for(var l in n)l!==t&&(r[l]=convert[t][l](r[t]));return!0},Color.prototype.setSpace=function(t,e){var s=e[0];return void 0===s?this.getValues(t):("number"==typeof s&&(s=Array.prototype.slice.call(e)),this.setValues(t,s),this)},Color.prototype.setChannel=function(t,e,s){var r=this.values[t];return void 0===s?r[e]:s===r[e]?this:(r[e]=s,this.setValues(t,r),this)},"undefined"!=typeof window&&(window.Color=Color),module.exports=Color;
},{"chartjs-color-string":64,"color-convert":67}],66:[function(require,module,exports){
function rgb2hsl(r){var e,a,n,h=r[0]/255,b=r[1]/255,t=r[2]/255,l=Math.min(h,b,t),o=Math.max(h,b,t),g=o-l;return o==l?e=0:h==o?e=(b-t)/g:b==o?e=2+(t-h)/g:t==o&&(e=4+(h-b)/g),e=Math.min(60*e,360),e<0&&(e+=360),n=(l+o)/2,a=o==l?0:n<=.5?g/(o+l):g/(2-o-l),[e,100*a,100*n]}function rgb2hsv(r){var e,a,n,h=r[0],b=r[1],t=r[2],l=Math.min(h,b,t),o=Math.max(h,b,t),g=o-l;return a=0==o?0:g/o*1e3/10,o==l?e=0:h==o?e=(b-t)/g:b==o?e=2+(t-h)/g:t==o&&(e=4+(h-b)/g),e=Math.min(60*e,360),e<0&&(e+=360),n=o/255*1e3/10,[e,a,n]}function rgb2hwb(r){var e=r[0],a=r[1],n=r[2],h=rgb2hsl(r)[0],b=1/255*Math.min(e,Math.min(a,n)),n=1-1/255*Math.max(e,Math.max(a,n));return[h,100*b,100*n]}function rgb2cmyk(r){var e,a,n,h,b=r[0]/255,t=r[1]/255,l=r[2]/255;return h=Math.min(1-b,1-t,1-l),e=(1-b-h)/(1-h)||0,a=(1-t-h)/(1-h)||0,n=(1-l-h)/(1-h)||0,[100*e,100*a,100*n,100*h]}function rgb2keyword(r){return reverseKeywords[JSON.stringify(r)]}function rgb2xyz(r){var e=r[0]/255,a=r[1]/255,n=r[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,a=a>.04045?Math.pow((a+.055)/1.055,2.4):a/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92;var h=.4124*e+.3576*a+.1805*n,b=.2126*e+.7152*a+.0722*n,t=.0193*e+.1192*a+.9505*n;return[100*h,100*b,100*t]}function rgb2lab(r){var e,a,n,h=rgb2xyz(r),b=h[0],t=h[1],l=h[2];return b/=95.047,t/=100,l/=108.883,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,e=116*t-16,a=500*(b-t),n=200*(t-l),[e,a,n]}function rgb2lch(r){return lab2lch(rgb2lab(r))}function hsl2rgb(r){var e,a,n,h,b,t=r[0]/360,l=r[1]/100,o=r[2]/100;if(0==l)return b=255*o,[b,b,b];a=o<.5?o*(1+l):o+l-o*l,e=2*o-a,h=[0,0,0];for(var g=0;g<3;g++)n=t+1/3*-(g-1),n<0&&n++,n>1&&n--,b=6*n<1?e+6*(a-e)*n:2*n<1?a:3*n<2?e+(a-e)*(2/3-n)*6:e,h[g]=255*b;return h}function hsl2hsv(r){var e,a,n=r[0],h=r[1]/100,b=r[2]/100;return 0===b?[0,0,0]:(b*=2,h*=b<=1?b:2-b,a=(b+h)/2,e=2*h/(b+h),[n,100*e,100*a])}function hsl2hwb(r){return rgb2hwb(hsl2rgb(r))}function hsl2cmyk(r){return rgb2cmyk(hsl2rgb(r))}function hsl2keyword(r){return rgb2keyword(hsl2rgb(r))}function hsv2rgb(r){var e=r[0]/60,a=r[1]/100,n=r[2]/100,h=Math.floor(e)%6,b=e-Math.floor(e),t=255*n*(1-a),l=255*n*(1-a*b),o=255*n*(1-a*(1-b)),n=255*n;switch(h){case 0:return[n,o,t];case 1:return[l,n,t];case 2:return[t,n,o];case 3:return[t,l,n];case 4:return[o,t,n];case 5:return[n,t,l]}}function hsv2hsl(r){var e,a,n=r[0],h=r[1]/100,b=r[2]/100;return a=(2-h)*b,e=h*b,e/=a<=1?a:2-a,e=e||0,a/=2,[n,100*e,100*a]}function hsv2hwb(r){return rgb2hwb(hsv2rgb(r))}function hsv2cmyk(r){return rgb2cmyk(hsv2rgb(r))}function hsv2keyword(r){return rgb2keyword(hsv2rgb(r))}function hwb2rgb(e){var a,n,h,t,l=e[0]/360,o=e[1]/100,s=e[2]/100,y=o+s;switch(y>1&&(o/=y,s/=y),a=Math.floor(6*l),n=1-s,h=6*l-a,0!=(1&a)&&(h=1-h),t=o+h*(n-o),a){default:case 6:case 0:r=n,g=t,b=o;break;case 1:r=t,g=n,b=o;break;case 2:r=o,g=n,b=t;break;case 3:r=o,g=t,b=n;break;case 4:r=t,g=o,b=n;break;case 5:r=n,g=o,b=t}return[255*r,255*g,255*b]}function hwb2hsl(r){return rgb2hsl(hwb2rgb(r))}function hwb2hsv(r){return rgb2hsv(hwb2rgb(r))}function hwb2cmyk(r){return rgb2cmyk(hwb2rgb(r))}function hwb2keyword(r){return rgb2keyword(hwb2rgb(r))}function cmyk2rgb(r){var e,a,n,h=r[0]/100,b=r[1]/100,t=r[2]/100,l=r[3]/100;return e=1-Math.min(1,h*(1-l)+l),a=1-Math.min(1,b*(1-l)+l),n=1-Math.min(1,t*(1-l)+l),[255*e,255*a,255*n]}function cmyk2hsl(r){return rgb2hsl(cmyk2rgb(r))}function cmyk2hsv(r){return rgb2hsv(cmyk2rgb(r))}function cmyk2hwb(r){return rgb2hwb(cmyk2rgb(r))}function cmyk2keyword(r){return rgb2keyword(cmyk2rgb(r))}function xyz2rgb(r){var e,a,n,h=r[0]/100,b=r[1]/100,t=r[2]/100;return e=3.2406*h+b*-1.5372+t*-.4986,a=h*-.9689+1.8758*b+.0415*t,n=.0557*h+b*-.204+1.057*t,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:e=12.92*e,a=a>.0031308?1.055*Math.pow(a,1/2.4)-.055:a=12.92*a,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:n=12.92*n,e=Math.min(Math.max(0,e),1),a=Math.min(Math.max(0,a),1),n=Math.min(Math.max(0,n),1),[255*e,255*a,255*n]}function xyz2lab(r){var e,a,n,h=r[0],b=r[1],t=r[2];return h/=95.047,b/=100,t/=108.883,h=h>.008856?Math.pow(h,1/3):7.787*h+16/116,b=b>.008856?Math.pow(b,1/3):7.787*b+16/116,t=t>.008856?Math.pow(t,1/3):7.787*t+16/116,e=116*b-16,a=500*(h-b),n=200*(b-t),[e,a,n]}function xyz2lch(r){return lab2lch(xyz2lab(r))}function lab2xyz(r){var e,a,n,h,b=r[0],t=r[1],l=r[2];return b<=8?(a=100*b/903.3,h=7.787*(a/100)+16/116):(a=100*Math.pow((b+16)/116,3),h=Math.pow(a/100,1/3)),e=e/95.047<=.008856?e=95.047*(t/500+h-16/116)/7.787:95.047*Math.pow(t/500+h,3),n=n/108.883<=.008859?n=108.883*(h-l/200-16/116)/7.787:108.883*Math.pow(h-l/200,3),[e,a,n]}function lab2lch(r){var e,a,n,h=r[0],b=r[1],t=r[2];return e=Math.atan2(t,b),a=360*e/2/Math.PI,a<0&&(a+=360),n=Math.sqrt(b*b+t*t),[h,n,a]}function lab2rgb(r){return xyz2rgb(lab2xyz(r))}function lch2lab(r){var e,a,n,h=r[0],b=r[1],t=r[2];return n=t/360*2*Math.PI,e=b*Math.cos(n),a=b*Math.sin(n),[h,e,a]}function lch2xyz(r){return lab2xyz(lch2lab(r))}function lch2rgb(r){return lab2rgb(lch2lab(r))}function keyword2rgb(r){return cssKeywords[r]}function keyword2hsl(r){return rgb2hsl(keyword2rgb(r))}function keyword2hsv(r){return rgb2hsv(keyword2rgb(r))}function keyword2hwb(r){return rgb2hwb(keyword2rgb(r))}function keyword2cmyk(r){return rgb2cmyk(keyword2rgb(r))}function keyword2lab(r){return rgb2lab(keyword2rgb(r))}function keyword2xyz(r){return rgb2xyz(keyword2rgb(r))}module.exports={rgb2hsl:rgb2hsl,rgb2hsv:rgb2hsv,rgb2hwb:rgb2hwb,rgb2cmyk:rgb2cmyk,rgb2keyword:rgb2keyword,rgb2xyz:rgb2xyz,rgb2lab:rgb2lab,rgb2lch:rgb2lch,hsl2rgb:hsl2rgb,hsl2hsv:hsl2hsv,hsl2hwb:hsl2hwb,hsl2cmyk:hsl2cmyk,hsl2keyword:hsl2keyword,hsv2rgb:hsv2rgb,hsv2hsl:hsv2hsl,hsv2hwb:hsv2hwb,hsv2cmyk:hsv2cmyk,hsv2keyword:hsv2keyword,hwb2rgb:hwb2rgb,hwb2hsl:hwb2hsl,hwb2hsv:hwb2hsv,hwb2cmyk:hwb2cmyk,hwb2keyword:hwb2keyword,cmyk2rgb:cmyk2rgb,cmyk2hsl:cmyk2hsl,cmyk2hsv:cmyk2hsv,cmyk2hwb:cmyk2hwb,cmyk2keyword:cmyk2keyword,keyword2rgb:keyword2rgb,keyword2hsl:keyword2hsl,keyword2hsv:keyword2hsv,keyword2hwb:keyword2hwb,keyword2cmyk:keyword2cmyk,keyword2lab:keyword2lab,keyword2xyz:keyword2xyz,xyz2rgb:xyz2rgb,xyz2lab:xyz2lab,xyz2lch:xyz2lch,lab2xyz:lab2xyz,lab2rgb:lab2rgb,lab2lch:lab2lch,lch2lab:lch2lab,lch2xyz:lch2xyz,lch2rgb:lch2rgb};var cssKeywords={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},reverseKeywords={};for(var key in cssKeywords)reverseKeywords[JSON.stringify(cssKeywords[key])]=key;
},{}],67:[function(require,module,exports){
var conversions=require("./conversions"),convert=function(){return new Converter};for(var func in conversions){convert[func+"Raw"]=function(r){return function(t){return"number"==typeof t&&(t=Array.prototype.slice.call(arguments)),conversions[r](t)}}(func);var pair=/(\w+)2(\w+)/.exec(func),from=pair[1],to=pair[2];convert[from]=convert[from]||{},convert[from][to]=convert[func]=function(r){return function(t){"number"==typeof t&&(t=Array.prototype.slice.call(arguments));var n=conversions[r](t);if("string"==typeof n||void 0===n)return n;for(var o=0;o<n.length;o++)n[o]=Math.round(n[o]);return n}}(func)}var Converter=function(){this.convs={}};Converter.prototype.routeSpace=function(r,t){var n=t[0];return void 0===n?this.getValues(r):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(r,n))},Converter.prototype.setValues=function(r,t){return this.space=r,this.convs={},this.convs[r]=t,this},Converter.prototype.getValues=function(r){var t=this.convs[r];if(!t){var n=this.space,o=this.convs[n];t=convert[n][r](o),this.convs[r]=t}return t},["rgb","hsl","hsv","cmyk","keyword"].forEach(function(r){Converter.prototype[r]=function(t){return this.routeSpace(r,arguments)}}),module.exports=convert;
},{"./conversions":66}],68:[function(require,module,exports){
"use strict";module.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};
},{}],69:[function(require,module,exports){
!function(){"use strict";function e(e){return r(n(e),arguments)}function t(t,r){return e.apply(null,[t].concat(r||[]))}function r(t,r){var n,i,a,o,p,c,u,f,l,d=1,g=t.length,b="";for(i=0;i<g;i++)if("string"==typeof t[i])b+=t[i];else if(Array.isArray(t[i])){if(o=t[i],o[2])for(n=r[d],a=0;a<o[2].length;a++){if(!n.hasOwnProperty(o[2][a]))throw new Error(e('[sprintf] property "%s" does not exist',o[2][a]));n=n[o[2][a]]}else n=o[1]?r[o[1]]:r[d++];if(s.not_type.test(o[8])&&s.not_primitive.test(o[8])&&n instanceof Function&&(n=n()),s.numeric_arg.test(o[8])&&"number"!=typeof n&&isNaN(n))throw new TypeError(e("[sprintf] expecting number but found %T",n));switch(s.number.test(o[8])&&(f=n>=0),o[8]){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,o[6]?parseInt(o[6]):0);break;case"e":n=o[7]?parseFloat(n).toExponential(o[7]):parseFloat(n).toExponential();break;case"f":n=o[7]?parseFloat(n).toFixed(o[7]):parseFloat(n);break;case"g":n=o[7]?String(Number(n.toPrecision(o[7]))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=o[7]?n.substring(0,o[7]):n;break;case"t":n=String(!!n),n=o[7]?n.substring(0,o[7]):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=o[7]?n.substring(0,o[7]):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=o[7]?n.substring(0,o[7]):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}s.json.test(o[8])?b+=n:(!s.number.test(o[8])||f&&!o[3]?l="":(l=f?"+":"-",n=n.toString().replace(s.sign,"")),c=o[4]?"0"===o[4]?"0":o[4].charAt(1):" ",u=o[6]-(l+n).length,p=o[6]&&u>0?c.repeat(u):"",b+=o[5]?l+n+p:"0"===c?l+p+n:p+l+n)}return b}function n(e){if(i[e])return i[e];for(var t,r=e,n=[],a=0;r;){if(null!==(t=s.text.exec(r)))n.push(t[0]);else if(null!==(t=s.modulo.exec(r)))n.push("%");else{if(null===(t=s.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){a|=1;var o=[],p=t[2],c=[];if(null===(c=s.key.exec(p)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(c[1]);""!==(p=p.substring(c[0].length));)if(null!==(c=s.key_access.exec(p)))o.push(c[1]);else{if(null===(c=s.index_access.exec(p)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(c[1])}t[2]=o}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push(t)}r=r.substring(t[0].length)}return i[e]=n}var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/},i=Object.create(null);"undefined"!=typeof exports&&(exports.sprintf=e,exports.vsprintf=t),"undefined"!=typeof window&&(window.sprintf=e,window.vsprintf=t,"function"==typeof define&&define.amd&&define(function(){return{sprintf:e,vsprintf:t}}))}();
},{}],70:[function(require,module,exports){
var trim=require("./trim"),decap=require("./decapitalize");module.exports=function(e,r){return e=trim(e).replace(/[-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),r===!0?decap(e):e};
},{"./decapitalize":79,"./trim":131}],71:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e);var t=r?e.slice(1).toLowerCase():e.slice(1);return e.charAt(0).toUpperCase()+t};
},{"./helper/makeString":89}],72:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return makeString(e).split("")};
},{"./helper/makeString":89}],73:[function(require,module,exports){
module.exports=function(n,e){return null==n?[]:(n=String(n),e=~~e,e>0?n.match(new RegExp(".{1,"+e+"}","g")):[n])};
},{}],74:[function(require,module,exports){
var capitalize=require("./capitalize"),camelize=require("./camelize"),makeString=require("./helper/makeString");module.exports=function(e){return e=makeString(e),capitalize(camelize(e.replace(/[\W_]/g," ")).replace(/\s/g,""))};
},{"./camelize":70,"./capitalize":71,"./helper/makeString":89}],75:[function(require,module,exports){
var trim=require("./trim");module.exports=function(r){return trim(r).replace(/\s\s+/g," ")};
},{"./trim":131}],76:[function(require,module,exports){
var makeString=require("./helper/makeString"),from="",to="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";from+=from.toUpperCase(),to+=to.toUpperCase(),to=to.split(""),from+="",to.push("ss"),module.exports=function(o){return makeString(o).replace(/.{1}/g,function(o){var e=from.indexOf(o);return e===-1?o:to[e]})};
},{"./helper/makeString":89}],77:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){return e=makeString(e),r=makeString(r),0===e.length||0===r.length?0:e.split(r).length-1};
},{"./helper/makeString":89}],78:[function(require,module,exports){
var trim=require("./trim");module.exports=function(r){return trim(r).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()};
},{"./trim":131}],79:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return e=makeString(e),e.charAt(0).toLowerCase()+e.slice(1)};
},{"./helper/makeString":89}],80:[function(require,module,exports){
function getIndent(e){for(var t=e.match(/^[\s\\t]*/gm),n=t[0].length,r=1;r<t.length;r++)n=Math.min(t[r].length,n);return n}var makeString=require("./helper/makeString");module.exports=function(e,t){e=makeString(e);var n,r=getIndent(e);return 0===r?e:(n="string"==typeof t?new RegExp("^"+t,"gm"):new RegExp("^[ \\t]{"+r+"}","gm"),e.replace(n,""))};
},{"./helper/makeString":89}],81:[function(require,module,exports){
var makeString=require("./helper/makeString"),toPositive=require("./helper/toPositive");module.exports=function(e,t,i){return e=makeString(e),t=""+t,i="undefined"==typeof i?e.length-t.length:Math.min(toPositive(i),e.length)-t.length,i>=0&&e.indexOf(t,i)===i};
},{"./helper/makeString":89,"./helper/toPositive":91}],82:[function(require,module,exports){
var makeString=require("./helper/makeString"),escapeChars=require("./helper/escapeChars"),regexString="[";for(var key in escapeChars)regexString+=key;regexString+="]";var regex=new RegExp(regexString,"g");module.exports=function(e){return makeString(e).replace(regex,function(e){return"&"+escapeChars[e]+";"})};
},{"./helper/escapeChars":86,"./helper/makeString":89}],83:[function(require,module,exports){
module.exports=function(){var r={};for(var n in this)this.hasOwnProperty(n)&&!n.match(/^(?:include|contains|reverse|join|map|wrap)$/)&&(r[n]=this[n]);return r};
},{}],84:[function(require,module,exports){
var makeString=require("./makeString");module.exports=function(e,r){return e=makeString(e),0===e.length?"":e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+r)};
},{"./makeString":89}],85:[function(require,module,exports){
var escapeRegExp=require("./escapeRegExp");module.exports=function(e){return null==e?"\\s":e.source?e.source:"["+escapeRegExp(e)+"]"};
},{"./escapeRegExp":87}],86:[function(require,module,exports){
var escapeChars={"":"cent","":"pound","":"yen","":"euro","":"copy","":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};module.exports=escapeChars;
},{}],87:[function(require,module,exports){
var makeString=require("./makeString");module.exports=function(e){return makeString(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")};
},{"./makeString":89}],88:[function(require,module,exports){
var htmlEntities={nbsp:" ",cent:"",pound:"",yen:"",euro:"",copy:"",reg:"",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};module.exports=htmlEntities;
},{}],89:[function(require,module,exports){
module.exports=function(n){return null==n?"":""+n};
},{}],90:[function(require,module,exports){
module.exports=function(r,e){if(e<1)return"";for(var n="";e>0;)1&e&&(n+=r),e>>=1,r+=r;return n};
},{}],91:[function(require,module,exports){
module.exports=function(e){return e<0?0:+e||0};
},{}],92:[function(require,module,exports){
var capitalize=require("./capitalize"),underscored=require("./underscored"),trim=require("./trim");module.exports=function(e){return capitalize(trim(underscored(e).replace(/_id$/,"").replace(/_/g," ")))};
},{"./capitalize":71,"./trim":131,"./underscored":133}],93:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){return""===r||makeString(e).indexOf(r)!==-1};
},{"./helper/makeString":89}],94:[function(require,module,exports){
var splice=require("./splice");module.exports=function(e,r,i){return splice(e,r,0,i)};
},{"./splice":115}],95:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return/^\s*$/.test(makeString(e))};
},{"./helper/makeString":89}],96:[function(require,module,exports){
var makeString=require("./helper/makeString"),slice=[].slice;module.exports=function(){var e=slice.call(arguments),r=e.shift();return e.join(makeString(r))};
},{"./helper/makeString":89}],97:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(r,e){"use strict";if(r=makeString(r),e=makeString(e),r===e)return 0;if(!r||!e)return Math.max(r.length,e.length);for(var t=new Array(e.length+1),n=0;n<t.length;++n)t[n]=n;for(n=0;n<r.length;++n){for(var a=n+1,g=0;g<e.length;++g){var h=a;a=t[g]+(r.charAt(n)===e.charAt(g)?0:1);var i=h+1;a>i&&(a=i),i=t[g+1]+1,a>i&&(a=i),t[g]=h}t[g]=a}return a};
},{"./helper/makeString":89}],98:[function(require,module,exports){
module.exports=function(n){return null==n?[]:String(n).split(/\r\n?|\n/)};
},{}],99:[function(require,module,exports){
var pad=require("./pad");module.exports=function(r,e,a){return pad(r,e,a)};
},{"./pad":105}],100:[function(require,module,exports){
var pad=require("./pad");module.exports=function(r,e,a){return pad(r,e,a,"both")};
},{"./pad":105}],101:[function(require,module,exports){
var makeString=require("./helper/makeString"),defaultToWhiteSpace=require("./helper/defaultToWhiteSpace"),nativeTrimLeft=String.prototype.trimLeft;module.exports=function(e,t){return e=makeString(e),!t&&nativeTrimLeft?nativeTrimLeft.call(e):(t=defaultToWhiteSpace(t),e.replace(new RegExp("^"+t+"+"),""))};
},{"./helper/defaultToWhiteSpace":85,"./helper/makeString":89}],102:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){return e=makeString(e),0===e.length||"function"!=typeof r?e:e.replace(/./g,r)};
},{"./helper/makeString":89}],103:[function(require,module,exports){
module.exports=function(t,r){if(t==r)return 0;if(!t)return-1;if(!r)return 1;for(var n=/(\.\d+|\d+|\D+)/g,e=String(t).match(n),g=String(r).match(n),h=Math.min(e.length,g.length),i=0;i<h;i++){var l=e[i],u=g[i];if(l!==u){var a=+l,f=+u;return a===a&&f===f?a>f?1:-1:l<u?-1:1}}return e.length!=g.length?e.length-g.length:t<r?-1:1};
},{}],104:[function(require,module,exports){
module.exports=function(e,r,t,i){if(isNaN(e)||null==e)return"";e=e.toFixed(~~r),i="string"==typeof i?i:",";var n=e.split("."),l=n[0],o=n[1]?(t||".")+n[1]:"";return l.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+o};
},{}],105:[function(require,module,exports){
var makeString=require("./helper/makeString"),strRepeat=require("./helper/strRepeat");module.exports=function(e,t,r,a){e=makeString(e),t=~~t;var h=0;switch(r?r.length>1&&(r=r.charAt(0)):r=" ",a){case"right":return h=t-e.length,e+strRepeat(r,h);case"both":return h=t-e.length,strRepeat(r,Math.ceil(h/2))+e+strRepeat(r,Math.floor(h/2));default:return h=t-e.length,strRepeat(r,h)+e}};
},{"./helper/makeString":89,"./helper/strRepeat":90}],106:[function(require,module,exports){
var adjacent=require("./helper/adjacent");module.exports=function(e){return adjacent(e,-1)};
},{"./helper/adjacent":84}],107:[function(require,module,exports){
var makeString=require("./helper/makeString"),rtrim=require("./rtrim");module.exports=function(e,r,t){if(e=makeString(e),r=~~r,t=null!=t?String(t):"...",e.length<=r)return e;var n=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},i=e.slice(0,r+1).replace(/.(?=\W*\w*$)/g,n);return i=i.slice(i.length-2).match(/\w\w/)?i.replace(/\s*\S+$/,""):rtrim(i.slice(0,i.length-1)),(i+t).length>e.length?e:e.slice(0,i.length)+t};
},{"./helper/makeString":89,"./rtrim":113}],108:[function(require,module,exports){
var surround=require("./surround");module.exports=function(r,u){return surround(r,u||'"')};
},{"./surround":124}],109:[function(require,module,exports){
var makeString=require("./helper/makeString"),strRepeat=require("./helper/strRepeat");module.exports=function e(r,t,n){if(r=makeString(r),t=~~t,null==n)return strRepeat(r,t);for(var e=[];t>0;e[--t]=r);return e.join(n)};
},{"./helper/makeString":89,"./helper/strRepeat":90}],110:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r,n,a){var g=a===!0?"gi":"g",i=new RegExp(r,g);return makeString(e).replace(i,n)};
},{"./helper/makeString":89}],111:[function(require,module,exports){
var chars=require("./chars");module.exports=function(r){return chars(r).reverse().join("")};
},{"./chars":72}],112:[function(require,module,exports){
var pad=require("./pad");module.exports=function(r,e,a){return pad(r,e,a,"right")};
},{"./pad":105}],113:[function(require,module,exports){
var makeString=require("./helper/makeString"),defaultToWhiteSpace=require("./helper/defaultToWhiteSpace"),nativeTrimRight=String.prototype.trimRight;module.exports=function(e,t){return e=makeString(e),!t&&nativeTrimRight?nativeTrimRight.call(e):(t=defaultToWhiteSpace(t),e.replace(new RegExp(t+"+$"),""))};
},{"./helper/defaultToWhiteSpace":85,"./helper/makeString":89}],114:[function(require,module,exports){
var trim=require("./trim"),dasherize=require("./dasherize"),cleanDiacritics=require("./cleanDiacritics");module.exports=function(e){return trim(dasherize(cleanDiacritics(e).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")};
},{"./cleanDiacritics":76,"./dasherize":78,"./trim":131}],115:[function(require,module,exports){
var chars=require("./chars");module.exports=function(r,e,a,c){var s=chars(r);return s.splice(~~e,~~a,c),s.join("")};
},{"./chars":72}],116:[function(require,module,exports){
var deprecate=require("util-deprecate");module.exports=deprecate(require("sprintf-js").sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.");
},{"sprintf-js":69,"util-deprecate":139}],117:[function(require,module,exports){
var makeString=require("./helper/makeString"),toPositive=require("./helper/toPositive");module.exports=function(e,t,i){return e=makeString(e),t=""+t,i=null==i?0:Math.min(toPositive(i),e.length),e.lastIndexOf(t,i)===i};
},{"./helper/makeString":89,"./helper/toPositive":91}],118:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e),r=makeString(r);var i=r?e.indexOf(r):-1;return~i?e.slice(0,i):e};
},{"./helper/makeString":89}],119:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e),r=makeString(r);var n=e.lastIndexOf(r);return~n?e.slice(0,n):e};
},{"./helper/makeString":89}],120:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e),r=makeString(r);var n=r?e.indexOf(r):-1;return~n?e.slice(n+r.length,e.length):e};
},{"./helper/makeString":89}],121:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e),r=makeString(r);var n=r?e.lastIndexOf(r):-1;return~n?e.slice(n+r.length,e.length):e};
},{"./helper/makeString":89}],122:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return makeString(e).replace(/<\/?[^>]+>/g,"")};
},{"./helper/makeString":89}],123:[function(require,module,exports){
var adjacent=require("./helper/adjacent");module.exports=function(e){return adjacent(e,1)};
},{"./helper/adjacent":84}],124:[function(require,module,exports){
module.exports=function(n,o){return[o,n,o].join("")};
},{}],125:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return makeString(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})};
},{"./helper/makeString":89}],126:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return makeString(e).toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})};
},{"./helper/makeString":89}],127:[function(require,module,exports){
function boolMatch(t,r){var e,o,i=t.toLowerCase();for(r=[].concat(r),e=0;e<r.length;e+=1)if(o=r[e]){if(o.test&&o.test(t))return!0;if(o.toLowerCase()===i)return!0}}var trim=require("./trim");module.exports=function(t,r,e){return"number"==typeof t&&(t=""+t),"string"!=typeof t?!!t:(t=trim(t),!!boolMatch(t,r||["true","1"])||!boolMatch(t,e||["false","0"])&&void 0)};
},{"./trim":131}],128:[function(require,module,exports){
module.exports=function(n,r){if(null==n)return 0;var t=Math.pow(10,isFinite(r)?r:0);return Math.round(n*t)/t};
},{}],129:[function(require,module,exports){
var rtrim=require("./rtrim");module.exports=function(r,e,t,i){e=e||", ",t=t||" and ";var n=r.slice(),o=n.pop();return r.length>2&&i&&(t=rtrim(e)+t),n.length?n.join(e)+t+o:o};
},{"./rtrim":113}],130:[function(require,module,exports){
var toSentence=require("./toSentence");module.exports=function(e,n,t){return toSentence(e,n,t,!0)};
},{"./toSentence":129}],131:[function(require,module,exports){
var makeString=require("./helper/makeString"),defaultToWhiteSpace=require("./helper/defaultToWhiteSpace"),nativeTrim=String.prototype.trim;module.exports=function(e,r){return e=makeString(e),!r&&nativeTrim?nativeTrim.call(e):(r=defaultToWhiteSpace(r),e.replace(new RegExp("^"+r+"+|"+r+"+$","g"),""))};
},{"./helper/defaultToWhiteSpace":85,"./helper/makeString":89}],132:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r,n){return e=makeString(e),n=n||"...",r=~~r,e.length>r?e.slice(0,r)+n:e};
},{"./helper/makeString":89}],133:[function(require,module,exports){
var trim=require("./trim");module.exports=function(r){return trim(r).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()};
},{"./trim":131}],134:[function(require,module,exports){
var makeString=require("./helper/makeString"),htmlEntities=require("./helper/htmlEntities");module.exports=function(t){return makeString(t).replace(/\&([^;]+);/g,function(t,e){var r;return e in htmlEntities?htmlEntities[e]:(r=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(r[1],16)):(r=e.match(/^#(\d+)$/))?String.fromCharCode(~~r[1]):t})};
},{"./helper/htmlEntities":88,"./helper/makeString":89}],135:[function(require,module,exports){
module.exports=function(e,n){return n=n||'"',e[0]===n&&e[e.length-1]===n?e.slice(1,e.length-1):e};
},{}],136:[function(require,module,exports){
var deprecate=require("util-deprecate");module.exports=deprecate(require("sprintf-js").vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.");
},{"sprintf-js":69,"util-deprecate":139}],137:[function(require,module,exports){
var isBlank=require("./isBlank"),trim=require("./trim");module.exports=function(r,i){return isBlank(r)?[]:trim(r,i).split(i||/\s+/)};
},{"./isBlank":95,"./trim":131}],138:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(r,e){r=makeString(r),e=e||{};var t,i=e.width||75,f=e.seperator||"\n",n=e.cut||!1,a=e.preserveSpaces||!1,l=e.trailingSpaces||!1;if(i<=0)return r;if(n){var o=0;for(t="";o<r.length;)o%i==0&&o>0&&(t+=f),t+=r.charAt(o),o++;if(l)for(;o%i>0;)t+=" ",o++;return t}var g=r.split(" "),h=0;for(t="";g.length>0;){if(1+g[0].length+h>i&&h>0){if(a)t+=" ",h++;else if(l)for(;h<i;)t+=" ",h++;t+=f,h=0}h>0&&(t+=" ",h++),t+=g[0],h+=g[0].length,g.shift()}if(l)for(;h<i;)t+=" ",h++;return t};
},{"./helper/makeString":89}],139:[function(require,module,exports){
(function (global){
function deprecate(r,e){function o(){if(!t){if(config("throwDeprecation"))throw new Error(e);config("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return r.apply(this,arguments)}if(config("noDeprecation"))return r;var t=!1;return o}function config(r){try{if(!global.localStorage)return!1}catch(e){return!1}var o=global.localStorage[r];return null!=o&&"true"===String(o).toLowerCase()}module.exports=deprecate;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],"backbone.marionette":[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("backbone"),require("underscore"),require("backbone.radio")):"function"==typeof define&&define.amd?define(["backbone","underscore","backbone.radio"],t):e.Marionette=t(e.Backbone,e._,e.Backbone.Radio)}(this,function(e,t,i){"use strict";function n(e,t,i){return i.toUpperCase()}function s(e){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];var r=G(e),o=W.call(this,r),h=void 0;return t.isFunction(o)&&(h=o.apply(this,n)),this.trigger.apply(this,arguments),h}function r(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return t.isFunction(e.triggerMethod)?e.triggerMethod.apply(e,n):s.apply(e,n)}function o(e,i,n){e._getImmediateChildren&&t.each(e._getImmediateChildren(),function(e){n(e)&&r(e,i,e)})}function h(e){return!e._isAttached}function d(e){return!!h(e)&&(e._isAttached=!0,!0)}function l(e){return e._isAttached}function a(e){return!!l(e)&&(e._isAttached=!1,!0)}function c(e){e._isAttached&&e._isRendered&&r(e,"dom:refresh",e)}function u(e){e._isAttached&&e._isRendered&&r(e,"dom:remove",e)}function f(){o(this,"before:attach",h)}function _(){o(this,"attach",d),c(this)}function p(){o(this,"before:detach",l),u(this)}function g(){o(this,"detach",a)}function v(){u(this)}function m(){c(this)}function w(e){e._areViewEventsMonitored||e.monitorViewEvents===!1||(e._areViewEventsMonitored=!0,e.on({"before:attach":f,attach:_,"before:detach":p,detach:g,"before:render":v,render:m}))}function y(e,i,n,s,r){var o=s.split(/\s+/);t.each(o,function(t){var s=e[t];if(!s)throw new Q('Method "'+t+'" was configured as an event handler, but does not exist.');e[r](i,n,s)})}function C(e,i,n,s){if(i&&n){if(!t.isObject(n))throw new Q({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindevents"});t.each(n,function(n,r){return t.isString(n)?void y(e,i,r,n,s):void e[s](i,r,n)})}}function V(e,t){return C(this,e,t,"listenTo"),this}function E(e,t){return C(this,e,t,"stopListening"),this}function b(e,i,n,s){if(i&&n){if(!t.isObject(n))throw new Q({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindrequests"});var r=Y.call(e,n);i[s](r,e)}}function M(e,t){return b(this,e,t,"reply"),this}function R(e,t){return b(this,e,t,"stopReplying"),this}function B(e,i){return e.behaviorClass?e.behaviorClass:t.isFunction(e)?e:t.isFunction(Ne.Behaviors.behaviorsLookup)?Ne.Behaviors.behaviorsLookup(e,i)[i]:Ne.Behaviors.behaviorsLookup[i]}function x(e,i){return t.chain(i).map(function(i,n){var s=B(i,n),r=i===s?{}:i,o=new s(r,e),h=x(e,t.result(o,"behaviors"));return[o].concat(h)}).flatten().value()}function D(e,i){return""+e+t.uniqueId(".evt")+" "+i}function A(e){return!!ae[e]}function O(e,t){return ae[e]=t}function I(e,i){t.isString(i)&&(i={event:i});var n=i.event,s=!!i.preventDefault;A("triggersPreventDefault")&&(s=i.preventDefault!==!1);var r=!!i.stopPropagation;return A("triggersStopPropagation")&&(r=i.stopPropagation!==!1),function(t){s&&t.preventDefault(),r&&t.stopPropagation(),e.triggerMethod(n,e,t)}}function $(t){return t instanceof e.$?t:e.$(t)}function T(e){return this.prototype.Dom=t.extend({},this.prototype.Dom,e),this}function U(e){e._isRendered||(e.supportsRenderLifecycle||r(e,"before:render",e),e.render(),e.supportsRenderLifecycle||(e._isRendered=!0,r(e,"render",e)))}function S(e){if(e.destroy)return void e.destroy();e.supportsDestroyLifecycle||r(e,"before:destroy",e);var t=e._isAttached&&!e._shouldDisableEvents;t&&r(e,"before:detach",e),e.remove(),t&&(e._isAttached=!1,r(e,"detach",e)),e._isDestroyed=!0,e.supportsDestroyLifecycle||r(e,"destroy",e)}function F(e,i){var n=t.extend({},i);if(t.isString(e))return t.extend(n,{el:e}),L(n);if(t.isFunction(e))return t.extend(n,{regionClass:e}),L(n);if(t.isObject(e))return e.selector&&H("The selector option on a Region definition object is deprecated. Use el to pass a selector string"),t.extend(n,{el:e.selector},e),L(n);throw new Q({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})}function L(e){var i=e.regionClass,n=t.omit(e,"regionClass");return new i(n)}function P(e,t){return t.model&&t.model.get(e)}function z(){throw new Q({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.md#behaviorslookup"})}e=e&&e.hasOwnProperty("default")?e["default"]:e,t=t&&t.hasOwnProperty("default")?t["default"]:t,i=i&&i.hasOwnProperty("default")?i["default"]:i;var k="3.4.4",j=function(e){return function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return e.apply(t,n)}},N=e.Model.extend,H=function He(e,i){t.isObject(e)&&(e=e.prev+" is going to be removed in the future. Please use "+e.next+" instead."+(e.url?" See: "+e.url:"")),Ne.DEV_MODE&&(void 0!==i&&i||He._cache[e]||(He._warn("Deprecation warning: "+e),He._cache[e]=!0))};H._console="undefined"!=typeof console?console:{},H._warn=function(){var e=H._console.warn||H._console.log||t.noop;return e.apply(H._console,arguments)},H._cache={};var q=function(e){return document.documentElement.contains(e&&e.parentNode)},K=function(e,i){var n=this;e&&t.each(i,function(t){var i=e[t];void 0!==i&&(n[t]=i)})},W=function(e){if(e)return this.options&&void 0!==this.options[e]?this.options[e]:this[e]},Y=function(e){var i=this;return t.reduce(e,function(e,n,s){return t.isFunction(n)||(n=i[n]),n&&(e[s]=n),e},{})},Z=/(^|:)(\w)/gi,G=t.memoize(function(e){return"on"+e.replace(Z,n)}),J=["description","fileName","lineNumber","name","message","number"],Q=N.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+k+"/",constructor:function(e,i){t.isObject(e)?(i=e,e=i.message):i||(i={});var n=Error.call(this,e);t.extend(this,t.pick(n,J),t.pick(i,J)),this.captureStackTrace(),i.url&&(this.url=this.urlRoot+i.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,Q)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}});Q.extend=N;var X=function(e){this.options=t.extend({},t.result(this,"options"),e)},ee={normalizeMethods:Y,_setOptions:X,mergeOptions:K,getOption:W,bindEvents:V,unbindEvents:E},te={_initRadio:function(){var e=t.result(this,"channelName");if(e){if(!i)throw new Q({name:"BackboneRadioMissing",message:'The dependency "backbone.radio" is missing.'});var n=this._channel=i.channel(e),s=t.result(this,"radioEvents");this.bindEvents(n,s);var r=t.result(this,"radioRequests");this.bindRequests(n,r),this.on("destroy",this._destroyRadio)}},_destroyRadio:function(){this._channel.stopReplying(null,null,this)},getChannel:function(){return this._channel},bindEvents:V,unbindEvents:E,bindRequests:M,unbindRequests:R},ie=["channelName","radioEvents","radioRequests"],ne=function(e){this.hasOwnProperty("options")||this._setOptions(e),this.mergeOptions(e,ie),this._setCid(),this._initRadio(),this.initialize.apply(this,arguments)};ne.extend=N,t.extend(ne.prototype,e.Events,ee,te,{cidPrefix:"mno",_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},initialize:function(){},_setCid:function(){this.cid||(this.cid=t.uniqueId(this.cidPrefix))},destroy:function(){if(this._isDestroyed)return this;for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.triggerMethod.apply(this,["before:destroy",this].concat(t)),this._isDestroyed=!0,this.triggerMethod.apply(this,["destroy",this].concat(t)),this.stopListening(),this},triggerMethod:s});var se=function(e){this.templateId=e};t.extend(se,{templateCaches:{},get:function(e,t){var i=this.templateCaches[e];return i||(i=new se(e),this.templateCaches[e]=i),i.load(t)},clear:function(){for(var e=void 0,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];var s=i.length;if(s>0)for(e=0;e<s;e++)delete this.templateCaches[i[e]];else this.templateCaches={}}}),t.extend(se.prototype,{load:function(e){if(this.compiledTemplate)return this.compiledTemplate;var t=this.loadTemplate(this.templateId,e);return this.compiledTemplate=this.compileTemplate(t,e),this.compiledTemplate},loadTemplate:function(t,i){var n=e.$(t);if(!n.length)throw new Q({name:"NoTemplateError",message:'Could not find template: "'+t+'"'});return n.html()},compileTemplate:function(e,i){return t.template(e,i)}});var re=t.invokeMap||t.invoke,oe={_initBehaviors:function(){this._behaviors=this._getBehaviors()},_getBehaviors:function(){var e=t.result(this,"behaviors");return t.isObject(e)?x(this,e):{}},_getBehaviorTriggers:function(){var e=re(this._behaviors,"getTriggers");return t.reduce(e,function(e,i){return t.extend(e,i)},{})},_getBehaviorEvents:function(){var e=re(this._behaviors,"getEvents");return t.reduce(e,function(e,i){return t.extend(e,i)},{})},_proxyBehaviorViewProperties:function(){re(this._behaviors,"proxyViewProperties")},_delegateBehaviorEntityEvents:function(){re(this._behaviors,"delegateEntityEvents")},_undelegateBehaviorEntityEvents:function(){re(this._behaviors,"undelegateEntityEvents")},_destroyBehaviors:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];re.apply(void 0,[this._behaviors,"destroy"].concat(t))},_removeBehavior:function(e){this._isDestroyed||(this._behaviors=t.without(this._behaviors,e))},_bindBehaviorUIElements:function(){re(this._behaviors,"bindUIElements")},_unbindBehaviorUIElements:function(){re(this._behaviors,"unbindUIElements")},_triggerEventOnBehaviors:function(){for(var e=this._behaviors,t=0,i=e&&e.length;t<i;t++)s.apply(e[t],arguments)}},he={_delegateEntityEvents:function(e,i){this._undelegateEntityEvents(e,i);var n=t.result(this,"modelEvents");V.call(this,e,n);var s=t.result(this,"collectionEvents");V.call(this,i,s)},_undelegateEntityEvents:function(e,i){var n=t.result(this,"modelEvents");E.call(this,e,n);var s=t.result(this,"collectionEvents");E.call(this,i,s)}},de=/^(\S+)\s*(.*)$/,le=function(e){var t=e.match(de);return D(t[1],t[2])},ae={childViewEventPrefix:!0,triggersStopPropagation:!0,triggersPreventDefault:!0},ce={_getViewTriggers:function(e,i){return t.reduce(i,function(t,i,n){return n=le(n),t[n]=I(e,i),t},{})}},ue=function(e,i){return t.reduce(e,function(e,t,n){var s=fe(n,i);return e[s]=t,e},{})},fe=function(e,t){return e.replace(/@ui\.[a-zA-Z-_$0-9]*/g,function(e){return t[e.slice(4)]})},_e=function qe(e,i,n){return t.each(e,function(s,r){t.isString(s)?e[r]=fe(s,i):t.isObject(s)&&t.isArray(n)&&(t.extend(s,qe(t.pick(s,n),i)),t.each(n,function(e){var n=s[e];t.isString(n)&&(s[e]=fe(n,i))}))}),e},pe={normalizeUIKeys:function(e){var t=this._getUIBindings();return ue(e,t)},normalizeUIString:function(e){var t=this._getUIBindings();return fe(e,t)},normalizeUIValues:function(e,t){var i=this._getUIBindings();return _e(e,i,t)},_getUIBindings:function(){var e=t.result(this,"_uiBindings"),i=t.result(this,"ui");return e||i},_bindUIElements:function(){var e=this;if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var i=t.result(this,"_uiBindings");this._ui={},t.each(i,function(t,i){e._ui[i]=e.$(t)}),this.ui=this._ui}},_unbindUIElements:function(){var e=this;this.ui&&this._uiBindings&&(t.each(this.ui,function(t,i){delete e.ui[i]}),this.ui=this._uiBindings,delete this._uiBindings,delete this._ui)},_getUI:function(e){return this._ui[e]}},ge={createBuffer:function(){return document.createDocumentFragment()},getEl:function(e){return $(e)},findEl:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$(e);return i.find(t)},hasEl:function(e,t){return e.contains(t&&t.parentNode)},detachEl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$(e);t.detach()},replaceEl:function(e,t){if(e!==t){var i=t.parentNode;i&&i.replaceChild(e,t)}},swapEl:function(e,t){if(e!==t){var i=e.parentNode,n=t.parentNode;if(i&&n){var s=e.nextSibling,r=t.nextSibling;i.insertBefore(t,s),n.insertBefore(e,r)}}},setContents:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$(e);i.html(t)},appendContents:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i._$el,s=void 0===n?$(e):n,r=i._$contents,o=void 0===r?$(t):r;s.append(o)},hasContents:function(e){return!!e&&e.hasChildNodes()},detachContents:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:$(e);t.contents().detach()}},ve={Dom:ge,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,_isDestroyed:!1,isDestroyed:function(){return!!this._isDestroyed},_isRendered:!1,isRendered:function(){return!!this._isRendered},_isAttached:!1,isAttached:function(){return!!this._isAttached},delegateEvents:function(i){this._proxyBehaviorViewProperties(),this._buildEventProxies();var n=this._getEvents(i);"undefined"==typeof i&&(this.events=n);var s=t.extend({},this._getBehaviorEvents(),n,this._getBehaviorTriggers(),this.getTriggers());return e.View.prototype.delegateEvents.call(this,s),this},_getEvents:function(e){var i=e||this.events;return t.isFunction(i)?this.normalizeUIKeys(i.call(this)):this.normalizeUIKeys(i)},getTriggers:function(){if(this.triggers){var e=this.normalizeUIKeys(t.result(this,"triggers"));return this._getViewTriggers(this,e)}},delegateEntityEvents:function(){return this._delegateEntityEvents(this.model,this.collection),this._delegateBehaviorEntityEvents(),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.model,this.collection),this._undelegateBehaviorEntityEvents(),this},destroy:function(){if(this._isDestroyed)return this;for(var e=this._isAttached&&!this._shouldDisableEvents,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return this.triggerMethod.apply(this,["before:destroy",this].concat(i)),e&&this.triggerMethod("before:detach",this),this.unbindUIElements(),this._removeElement(),e&&(this._isAttached=!1,this.triggerMethod("detach",this)),this._removeChildren(),this._isDestroyed=!0,this._isRendered=!1,this._destroyBehaviors.apply(this,i),this.triggerMethod.apply(this,["destroy",this].concat(i)),this.stopListening(),this},_removeElement:function(){this.$el.off().removeData(),this.Dom.detachEl(this.el,this.$el)},bindUIElements:function(){return this._bindUIElements(),this._bindBehaviorUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this._unbindBehaviorUIElements(),this},getUI:function(e){return this._getUI(e)},childViewEventPrefix:function(){return!!A("childViewEventPrefix")&&"childview"},triggerMethod:function(){var e=s.apply(this,arguments);return this._triggerEventOnBehaviors.apply(this,arguments),e},_buildEventProxies:function(){this._childViewEvents=t.result(this,"childViewEvents"),this._childViewTriggers=t.result(this,"childViewTriggers")},_proxyChildViewEvents:function(e){this.listenTo(e,"all",this._childViewEventHandler)},_childViewEventHandler:function(e){for(var i=this.normalizeMethods(this._childViewEvents),n=arguments.length,s=Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];"undefined"!=typeof i&&t.isFunction(i[e])&&i[e].apply(this,s);var o=this._childViewTriggers;o&&t.isString(o[e])&&this.triggerMethod.apply(this,[o[e]].concat(s));var h=t.result(this,"childViewEventPrefix");if(h!==!1){var d=h+":"+e;this.triggerMethod.apply(this,[d].concat(s))}}};t.extend(ve,oe,ee,he,ce,pe);var me=["allowMissingEl","parentEl","replaceElement"],we=ne.extend({Dom:ge,cidPrefix:"mnr",replaceElement:!1,_isReplaced:!1,_isSwappingView:!1,constructor:function(t){if(this._setOptions(t),this.mergeOptions(t,me),this._initEl=this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new Q({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),ne.call(this,t)},show:function(e,t){if(this._ensureElement(t))return e=this._getView(e,t),e===this.currentView?this:(this._isSwappingView=!!this.currentView,this.triggerMethod("before:show",this,e,t),e._isAttached||this.empty(t),this._setupChildView(e),this.currentView=e,U(e),this._attachView(e,t),this.triggerMethod("show",this,e,t),this._isSwappingView=!1,this)},_setupChildView:function(e){w(e),this._proxyChildViewEvents(e),e.on("destroy",this._empty,this)},_proxyChildViewEvents:function(e){var t=this._parentView;t&&t._proxyChildViewEvents(e)},_shouldDisableMonitoring:function(){return this._parentView&&this._parentView.monitorViewEvents===!1},_attachView:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!e._isAttached&&q(this.el)&&!this._shouldDisableMonitoring(),s="undefined"==typeof i.replaceElement?!!t.result(this,"replaceElement"):!!i.replaceElement;n&&r(e,"before:attach",e),s?this._replaceEl(e):this.attachHtml(e),n&&(e._isAttached=!0,r(e,"attach",e))},_ensureElement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0],this.$el=this.Dom.getEl(this.el)),!this.$el||0===this.$el.length){var i="undefined"==typeof e.allowMissingEl?!!t.result(this,"allowMissingEl"):!!e.allowMissingEl;if(i)return!1;throw new Q('An "el" must exist in DOM for this region '+this.cid)}return!0},_getView:function(t){if(!t)throw new Q({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t._isDestroyed)throw new Q({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'});if(t instanceof e.View)return t;var i=this._getViewOptions(t);return new be(i)},_getViewOptions:function(e){if(t.isFunction(e))return{template:e};if(t.isObject(e))return e;var i=function(){return e};return{template:i}},getEl:function(e){var i=t.result(this,"parentEl");return i&&t.isString(e)?this.Dom.findEl(i,e):this.Dom.getEl(e)},_replaceEl:function(e){this._restoreEl(),e.on("before:destroy",this._restoreEl,this),this.Dom.replaceEl(e.el,this.el),this._isReplaced=!0},_restoreEl:function(){if(this._isReplaced){var e=this.currentView;e&&(this._detachView(e),this._isReplaced=!1)}},isReplaced:function(){return!!this._isReplaced},isSwappingView:function(){return!!this._isSwappingView},attachHtml:function(e){this.Dom.appendContents(this.el,e.el,{_$el:this.$el,_$contents:e.$el})},empty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowMissingEl:!0},t=this.currentView;if(!t)return this._ensureElement(e)&&this.detachHtml(),this;var i=!e.preventDestroy;return i||H("The preventDestroy option is deprecated. Use Region#detachView"),this._empty(t,i),this},_empty:function(e,t){e.off("destroy",this._empty,this),this.triggerMethod("before:empty",this,e),this._restoreEl(),delete this.currentView,e._isDestroyed||(t?this.removeView(e):this._detachView(e),this._stopChildViewEvents(e)),this.triggerMethod("empty",this,e)},_stopChildViewEvents:function(e){var t=this._parentView;t&&this._parentView.stopListening(e)},destroyView:function(e){return e._isDestroyed?e:(e._shouldDisableEvents=this._shouldDisableMonitoring(),S(e),e)},removeView:function(e){this.destroyView(e)},detachView:function(){var e=this.currentView;if(e)return this._empty(e),e},_detachView:function(e){var t=e._isAttached&&!this._shouldDisableMonitoring(),i=this._isReplaced;t&&r(e,"before:detach",e),i?this.Dom.replaceEl(this.el,e.el):this.detachHtml(),t&&(e._isAttached=!1,r(e,"detach",e))},detachHtml:function(){this.Dom.detachContents(this.el,this.$el)},hasView:function(){return!!this.currentView},reset:function(e){return this.empty(e),this.$el&&(this.el=this._initEl),delete this.$el,this},destroy:function(e){return this._isDestroyed?this:(this.reset(e),this._name&&this._parentView._removeReferences(this._name),delete this._parentView,delete this._name,ne.prototype.destroy.apply(this,arguments))}},{setDomApi:T}),ye=function(e,t){return e instanceof we?e:F(e,t)},Ce={regionClass:we,_initRegions:function(){this.regions=this.regions||{},this._regions={},this.addRegions(t.result(this,"regions"))},_reInitRegions:function(){re(this._regions,"reset")},addRegion:function(e,t){var i={};return i[e]=t,this.addRegions(i)[e]},addRegions:function(e){if(!t.isEmpty(e))return e=this.normalizeUIValues(e,["selector","el"]),this.regions=t.extend({},this.regions,e),this._addRegions(e)},_addRegions:function(e){var i=this,n={regionClass:this.regionClass,parentEl:t.partial(t.result,this,"el")};return t.reduce(e,function(e,t,s){return e[s]=ye(t,n),i._addRegion(e[s],s),e},{})},_addRegion:function(e,t){this.triggerMethod("before:add:region",this,t,e),e._parentView=this,e._name=t,this._regions[t]=e,this.triggerMethod("add:region",this,t,e)},removeRegion:function(e){var t=this._regions[e];return this._removeRegion(t,e),t},removeRegions:function(){var e=this._getRegions();return t.each(this._regions,t.bind(this._removeRegion,this)),e},_removeRegion:function(e,t){this.triggerMethod("before:remove:region",this,t,e),e.destroy(),this.triggerMethod("remove:region",this,t,e)},_removeReferences:function(e){delete this.regions[e],delete this._regions[e]},emptyRegions:function(){var e=this.getRegions();return re(e,"empty"),e},hasRegion:function(e){return!!this.getRegion(e)},getRegion:function(e){return this._isRendered||this.render(),this._regions[e]},_getRegions:function(){return t.clone(this._regions)},getRegions:function(){return this._isRendered||this.render(),this._getRegions()},showChildView:function(e,t){for(var i=this.getRegion(e),n=arguments.length,s=Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];return i.show.apply(i,[t].concat(s))},detachChildView:function(e){return this.getRegion(e).detachView()},getChildView:function(e){return this.getRegion(e).currentView}},Ve={render:function(e,i){if(!e)throw new Q({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var n=t.isFunction(e)?e:se.get(e);return n(i)}},Ee=["behaviors","childViewEventPrefix","childViewEvents","childViewTriggers","collectionEvents","events","modelEvents","regionClass","regions","template","templateContext","triggers","ui"],be=e.View.extend({constructor:function(i){this.render=t.bind(this.render,this),this._setOptions(i),this.mergeOptions(i,Ee),w(this),this._initBehaviors(),this._initRegions();var n=Array.prototype.slice.call(arguments);n[0]=this.options,e.View.prototype.constructor.apply(this,n),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},serializeData:function(){return this.model||this.collection?this.model?this.serializeModel():{items:this.serializeCollection()}:{}},serializeModel:function(){return this.model?t.clone(this.model.attributes):{}},serializeCollection:function(){return this.collection?this.collection.map(function(e){return t.clone(e.attributes)}):{}},setElement:function(){return e.View.prototype.setElement.apply(this,arguments),this._isRendered=this.Dom.hasContents(this.el),this._isAttached=q(this.el),this._isRendered&&this.bindUIElements(),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._isRendered&&this._reInitRegions(),this._renderTemplate(),this.bindUIElements(),this._isRendered=!0,this.triggerMethod("render",this),this)},_renderTemplate:function(){var e=this.getTemplate();if(e===!1)return void H("template:false is deprecated.  Use _.noop.");var t=this.mixinTemplateContext(this.serializeData()),i=this._renderHtml(e,t);this.attachElContent(i)},_renderHtml:function(e,t){return Ve.render(e,t,this)},getTemplate:function(){return this.template},mixinTemplateContext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.result(this,"templateContext");return t.extend(e,i)},attachElContent:function(e){return this.Dom.setContents(this.el,e,this.$el),this},_removeChildren:function(){this.removeRegions()},_getImmediateChildren:function(){return t.chain(this._getRegions()).map("currentView").compact().value()}},{setRenderer:function(e){return this.prototype._renderHtml=e,this},setDomApi:T});t.extend(be.prototype,ve,Ce);var Me=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce","partition"],Re=function(e,i){t.each(Me,function(n){e[n]=function(){var e=t.result(this,i),s=Array.prototype.slice.call(arguments);return t[n].apply(t,[e].concat(s))}})},Be=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,t.bind(this.add,this))};Re(Be.prototype,"_getViews"),t.extend(Be.prototype,{_getViews:function(){return t.values(this._views)},add:function(e,t){return this._add(e,t)._updateLength()},_add:function(e,t){var i=e.cid;return this._views[i]=e,e.model&&(this._indexByModel[e.model.cid]=i),t&&(this._indexByCustom[t]=i),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){return this._remove(e)._updateLength()},_remove:function(e){var i=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.some(this._indexByCustom,t.bind(function(e,t){if(e===i)return delete this._indexByCustom[t],!0},this)),delete this._views[i],this},_updateLength:function(){return this.length=t.size(this._views),this}});var xe=["behaviors","childView","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","events","filter","emptyView","emptyViewOptions","modelEvents","reorderOnSort","sort","triggers","ui","viewComparator"],De=e.View.extend({sort:!0,constructor:function(i){this.render=t.bind(this.render,this),this._setOptions(i),this.mergeOptions(i,xe),w(this),this._initBehaviors(),this.once("render",this._initialEvents),this._initChildViewStorage(),this._bufferedChildren=[];var n=Array.prototype.slice.call(arguments);n[0]=this.options,e.View.prototype.constructor.apply(this,n),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},_startBuffering:function(){this._isBuffering=!0},_endBuffering:function(){var e=this._isAttached&&this.monitorViewEvents!==!1,i=e?this._getImmediateChildren():[];this._isBuffering=!1,t.each(i,function(e){r(e,"before:attach",e)}),this.attachBuffer(this,this._createBuffer()),t.each(i,function(e){e._isAttached=!0,r(e,"attach",e)}),this._bufferedChildren=[]},_getImmediateChildren:function(){return t.values(this.children._views)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"update",this._onCollectionUpdate),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(e,i,n){var s=void 0!==n.at&&(n.index||i.indexOf(e));(this.filter||s===!1)&&(s=t.indexOf(this._filteredSortedModels(s),e)),this._shouldAddChild(e,s)&&(this._destroyEmptyView(),this._addChild(e,s))},_onCollectionUpdate:function(e,t){var i=t.changes;this._removeChildModels(i.removed)},_removeChildModels:function(e){var t=this._getRemovedViews(e);t.length&&(this.children._updateLength(),this._updateIndices(t,!1),this.isEmpty()&&this._showEmptyView())},_getRemovedViews:function(e){var i=this;return t.reduce(e,function(e,t){var n=t&&i.children.findByModel(t);return!n||n._isDestroyed?e:(i._removeChildView(n),e.push(n),e)},[])},_removeChildView:function(e){this.triggerMethod("before:remove:child",this,e),this.children._remove(e),e._shouldDisableEvents=this.monitorViewEvents===!1,S(e),this.stopListening(e),this.triggerMethod("remove:child",this,e)},setElement:function(){return e.View.prototype.setElement.apply(this,arguments),this._isAttached=q(this.el),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._renderChildren(),this._isRendered=!0,this.triggerMethod("render",this),this)},setFilter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.preventRender,n=this._isRendered&&!this._isDestroyed,s=this.filter!==e,r=n&&s&&!i;if(r){var o=this._filteredSortedModels();this.filter=e;var h=this._filteredSortedModels();this._applyModelDeltas(h,o)}else this.filter=e;return this},removeFilter:function(e){return this.setFilter(null,e)},_applyModelDeltas:function(e,i){var n=this,s={};t.each(e,function(e,t){var i=!n.children.findByModel(e);i&&n._onCollectionAdd(e,n.collection,{at:t}),s[e.cid]=!0});var r=t.filter(i,function(e){return!s[e.cid]&&n.children.findByModel(e)});this._removeChildModels(r)},reorder:function(){var e=this,i=this.children,n=this._filteredSortedModels();if(!n.length&&this._showingEmptyView)return this;var s=t.some(n,function(e){return!i.findByModel(e)});if(s)this.render();else{var r=[],o=t.reduce(this.children._views,function(e,i){var s=t.indexOf(n,i.model);return s===-1?(r.push(i.model),e):(i._index=s,e[s]=i.el,e)},new Array(n.length));this.triggerMethod("before:reorder",this);var h=this.Dom.createBuffer();t.each(o,function(t){e.Dom.appendContents(h,t)}),this._appendReorderedChildren(h),this._removeChildModels(r),this.triggerMethod("reorder",this)}return this},resortView:function(){return this.reorderOnSort?this.reorder():this._renderChildren(),this},_sortViews:function(){var e=this,i=this._filteredSortedModels(),n=t.find(i,function(t,i){var n=e.children.findByModel(t);return!n||n._index!==i});n&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(e){this.Dom.appendContents(this.el,e,{_$el:this.$el})},_renderChildren:function(){this._isRendered&&(this._destroyEmptyView(),this._destroyChildren());var e=this._filteredSortedModels();this.isEmpty({processedModels:e})?this._showEmptyView():(this.triggerMethod("before:render:children",this),this._startBuffering(),this._showCollection(e),this._endBuffering(),this.triggerMethod("render:children",this))},_createView:function(e,t){var i=this._getChildView(e),n=this._getChildViewOptions(e,t),s=this.buildChildView(e,i,n);return s},_setupChildView:function(e,t){w(e),this._proxyChildViewEvents(e),this.sort&&(e._index=t)},_showCollection:function(e){t.each(e,t.bind(this._addChild,this)),this.children._updateLength()},_filteredSortedModels:function(e){if(!this.collection||!this.collection.length)return[];var t=this.getViewComparator(),i=this.collection.models;if(e=Math.min(Math.max(e,0),i.length-1),t){var n=void 0;e&&(n=i[e],i=i.slice(0,e).concat(i.slice(e+1))),i=this._sortModelsBy(i,t),n&&i.splice(e,0,n)}return i=this._filterModels(i)},getViewComparator:function(){return this.viewComparator},_filterModels:function(e){var i=this;return this.filter&&(e=t.filter(e,function(e,t){return i._shouldAddChild(e,t)})),e},_sortModelsBy:function(e,i){return"string"==typeof i?t.sortBy(e,function(e){return e.get(i)}):1===i.length?t.sortBy(e,t.bind(i,this)):t.clone(e).sort(t.bind(i,this))},_showEmptyView:function(){var i=this._getEmptyView();if(i&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new e.Model,s=this.emptyViewOptions||this.childViewOptions;t.isFunction(s)&&(s=s.call(this,n,this._emptyViewIndex));var r=this.buildChildView(n,i,s);this.triggerMethod("before:render:empty",this,r),this.addChildView(r,0),this.triggerMethod("render:empty",this,r)}},_destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty",this),this._destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty",this))},_getEmptyView:function(){var e=this.emptyView;if(e)return this._getView(e)},_getChildView:function(e){var t=this.childView;if(!t)throw new Q({name:"NoChildViewError",message:'A "childView" must be specified'});if(t=this._getView(t,e),!t)throw new Q({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return t},_getView:function(i,n){return i.prototype instanceof e.View||i===e.View?i:t.isFunction(i)?i.call(this,n):void 0},_addChild:function(e,t){var i=this._createView(e,t);return this.addChildView(i,t),i},_getChildViewOptions:function(e,i){return t.isFunction(this.childViewOptions)?this.childViewOptions(e,i):this.childViewOptions;
},addChildView:function(e,t){return this.triggerMethod("before:add:child",this,e),this._setupChildView(e,t),this._isBuffering?this.children._add(e):(this._updateIndices(e,!0),this.children.add(e)),U(e),this._attachView(e,t),this.triggerMethod("add:child",this,e),e},_updateIndices:function(e,i){if(this.sort){if(!i)return void t.each(t.sortBy(this.children._views,"_index"),function(e,t){e._index=t});var n=t.isArray(e)?t.max(e,"_index"):e;t.isObject(n)&&t.each(this.children._views,function(e){e._index>=n._index&&(e._index+=1)})}},_attachView:function(e,t){var i=!e._isAttached&&!this._isBuffering&&this._isAttached&&this.monitorViewEvents!==!1;i&&r(e,"before:attach",e),this.attachHtml(this,e,t),i&&(e._isAttached=!0,r(e,"attach",e))},buildChildView:function(e,i,n){var s=t.extend({model:e},n);return new i(s)},removeChildView:function(e){return!e||e._isDestroyed?e:(this._removeChildView(e),this.children._updateLength(),this._updateIndices(e,!1),e)},isEmpty:function(e){var i=void 0;return t.result(e,"processedModels")?i=e.processedModels:(i=this.collection?this.collection.models:[],i=this._filterModels(i)),0===i.length},attachBuffer:function(e,t){this.Dom.appendContents(e.el,t,{_$el:e.$el})},_createBuffer:function(){var e=this,i=this.Dom.createBuffer();return t.each(this._bufferedChildren,function(t){e.Dom.appendContents(i,t.el,{_$contents:t.$el})}),i},attachHtml:function(e,t,i){e._isBuffering?e._bufferedChildren.splice(i,0,t):e._insertBefore(t,i)||e._insertAfter(t)},_insertBefore:function(e,i){var n=void 0,s=this.sort&&i<this.children.length-1;return s&&(n=t.find(this.children._views,function(e){return e._index===i+1})),!!n&&(this.beforeEl(n.el,e.el),!0)},beforeEl:function(e,t){this.$(e).before(t)},_insertAfter:function(e){this.Dom.appendContents(this.el,e.el,{_$el:this.$el,_$contents:e.$el})},_initChildViewStorage:function(){this.children=new Be},_removeChildren:function(){this._destroyChildren()},_destroyChildren:function(e){this.children.length&&(this.triggerMethod("before:destroy:children",this),t.each(this.children._views,t.bind(this._removeChildView,this)),this.children._updateLength(),this.triggerMethod("destroy:children",this))},_shouldAddChild:function(e,i){var n=this.filter;return!t.isFunction(n)||n.call(this,e,i,this.collection)}},{setDomApi:T});t.extend(De.prototype,ve);var Ae=function(){this._init()};Re(Ae.prototype,"_views"),t.extend(Ae.prototype,{_init:function(){this._views=[],this._viewsByCid={},this._indexByModel={},this._updateLength()},_add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._views.length,i=e.cid;this._viewsByCid[i]=e,e.model&&(this._indexByModel[e.model.cid]=i),this._views.splice(t,0,e),this._updateLength()},_sort:function(e){return"string"==typeof e?(e=t.partial(P,e),this._sortBy(e)):1===e.length?this._sortBy(e):this._views.sort(e)},_sortBy:function(e){var i=t.sortBy(this._views,e);return this._set(i),i},_set:function(e){this._views.length=0,this._views.push.apply(this._views,e.slice(0)),this._updateLength()},_swap:function(e,t){var i=this.findIndexByView(e),n=this.findIndexByView(t);if(i!==-1&&n!==-1){var s=this._views[i];this._views[i]=this._views[n],this._views[n]=s}},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByIndex:function(e){return this._views[e]},findIndexByView:function(e){return this._views.indexOf(e)},findByCid:function(e){return this._viewsByCid[e]},hasView:function(e){return!!this.findByCid(e.cid)},_remove:function(e){if(this._viewsByCid[e.cid]){e.model&&delete this._indexByModel[e.model.cid],delete this._viewsByCid[e.cid];var t=this.findIndexByView(e);this._views.splice(t,1),this._updateLength()}},_updateLength:function(){this.length=this._views.length}});var Oe=["behaviors","childView","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","emptyView","emptyViewOptions","events","modelEvents","sortWithCollection","triggers","ui","viewComparator","viewFilter"],Ie=e.View.extend({sortWithCollection:!0,constructor:function(t){this._setOptions(t),this.mergeOptions(t,Oe),w(this),this.once("render",this._initialEvents),this._initChildViewStorage(),this._initBehaviors();var i=Array.prototype.slice.call(arguments);i[0]=this.options,e.View.prototype.constructor.apply(this,i),this.getEmptyRegion(),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},_initChildViewStorage:function(){this.children=new Ae},getEmptyRegion:function(){return this._emptyRegion&&!this._emptyRegion.isDestroyed()?this._emptyRegion:(this._emptyRegion=new we({el:this.el,replaceElement:!1}),this._emptyRegion._parentView=this,this._emptyRegion)},_initialEvents:function(){this.listenTo(this.collection,{sort:this._onCollectionSort,reset:this._onCollectionReset,update:this._onCollectionUpdate})},_onCollectionSort:function(e,t){var i=t.add,n=t.merge,s=t.remove;this.sortWithCollection&&this.viewComparator!==!1&&(i||s||n||this.sort())},_onCollectionReset:function(){this.render()},_onCollectionUpdate:function(e,t){var i=t.changes,n=i.removed.length&&this._removeChildModels(i.removed);this._addedViews=i.added.length&&this._addChildModels(i.added),this._detachChildren(n),this._showChildren(),this._removeChildViews(n)},_removeChildModels:function(e){var i=this;return t.reduce(e,function(e,t){var n=i._removeChildModel(t);return n&&e.push(n),e},[])},_removeChildModel:function(e){var t=this.children.findByModel(e);return t&&this._removeChild(t),t},_removeChild:function(e){this.triggerMethod("before:remove:child",this,e),this.children._remove(e),this.triggerMethod("remove:child",this,e)},_addChildModels:function(e){return t.map(e,t.bind(this._addChildModel,this))},_addChildModel:function(e){var t=this._createChildView(e);return this._addChild(t),t},_createChildView:function(e){var t=this._getChildView(e),i=this._getChildViewOptions(e),n=this.buildChildView(e,t,i);return n},_addChild:function(e,t){this.triggerMethod("before:add:child",this,e),this._setupChildView(e),this.children._add(e,t),this.triggerMethod("add:child",this,e)},_getChildView:function(e){var t=this.childView;if(!t)throw new Q({name:"NoChildViewError",message:'A "childView" must be specified'});if(t=this._getView(t,e),!t)throw new Q({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return t},_getView:function(i,n){return i.prototype instanceof e.View||i===e.View?i:t.isFunction(i)?i.call(this,n):void 0},_getChildViewOptions:function(e){return t.isFunction(this.childViewOptions)?this.childViewOptions(e):this.childViewOptions},buildChildView:function(e,i,n){var s=t.extend({model:e},n);return new i(s)},_setupChildView:function(e){w(e),e.on("destroy",this.removeChildView,this),this._proxyChildViewEvents(e)},_getImmediateChildren:function(){return this.children._views},setElement:function(){return e.View.prototype.setElement.apply(this,arguments),this._isAttached=q(this.el),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._destroyChildren(),this.children._init(),this.collection&&this._addChildModels(this.collection.models),this._showChildren(),this._isRendered=!0,this.triggerMethod("render",this),this)},sort:function(){return this._isDestroyed?this:this.children.length?(this._showChildren(),this):this},_showChildren:function(){return this.isEmpty()?void this._showEmptyView():(this._sortChildren(),void this.filter())},isEmpty:function(e){return e||!this.children.length},_showEmptyView:function(){var e=this._getEmptyView();if(e){var t=this._getEmptyViewOptions(),i=this.getEmptyRegion();i.show(new e(t))}},_getEmptyView:function(){var e=this.emptyView;if(e)return this._getView(e)},_destroyEmptyView:function(){var e=this.getEmptyRegion();e.hasView()&&e.empty()},_getEmptyViewOptions:function(){var e=this.emptyViewOptions||this.childViewOptions;return t.isFunction(e)?e.call(this):e},_sortChildren:function(){var e=this.getComparator();e&&(this.triggerMethod("before:sort",this),t.isFunction(e)&&(e=e.bind(this)),this.children._sort(e),this.triggerMethod("sort",this))},setComparator:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.preventRender,n=this.viewComparator!==e,s=n&&!i;return this.viewComparator=e,s&&this.sort(),this},removeComparator:function(e){return this.setComparator(null,e)},getComparator:function(){return this.viewComparator?this.viewComparator:!(!this.sortWithCollection||this.viewComparator===!1||!this.collection)&&this._viewComparator},_viewComparator:function(e){return this.collection.indexOf(e.model)},filter:function(){if(this._isDestroyed)return this;if(!this.children.length)return this;var e=this._filterChildren();return this._renderChildren(e),this},_isAddedAtEnd:function(e,t,i){var n=this.children._views.length-i.length+t;return e===this.children._views[n]},_filterChildren:function(){var e=this._getFilter(),i=this._addedViews;if(delete this._addedViews,!e)return!this.sortWithCollection&&i&&t.every(i,t.bind(this._isAddedAtEnd,this))?i:this.children._views;this.triggerMethod("before:filter",this);var n=t.partition(this.children._views,t.bind(e,this));return this._detachChildren(n[1]),this.triggerMethod("filter",this),n[0]},_getFilter:function(){var e=this.getFilter();if(!e)return!1;if(t.isFunction(e))return e;if(t.isObject(e)){var i=t.matches(e);return function(e){return i(e.model&&e.model.attributes)}}if(t.isString(e))return function(t){return t.model&&t.model.get(e)};throw new Q({name:"InvalidViewFilterError",message:'"viewFilter" must be a function, predicate object literal, a string indicating a model attribute, or falsy'})},getFilter:function(){return this.viewFilter},setFilter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.preventRender,n=this.viewFilter!==e,s=n&&!i;return this.viewFilter=e,s&&this.filter(),this},removeFilter:function(e){return this.setFilter(null,e)},_detachChildren:function(e){t.each(e,t.bind(this._detachChildView,this))},_detachChildView:function(e){var t=e._isAttached&&this.monitorViewEvents!==!1;t&&r(e,"before:detach",e),this.detachHtml(e),t&&(e._isAttached=!1,r(e,"detach",e))},detachHtml:function(e){this.Dom.detachEl(e.el,e.$el)},_renderChildren:function(e){if(this.isEmpty(!e.length))return void this._showEmptyView();this._destroyEmptyView(),this.triggerMethod("before:render:children",this,e);var t=this._getBuffer(e);this._attachChildren(t,e),this.triggerMethod("render:children",this,e)},_attachChildren:function(e,i){var n=this._isAttached&&this.monitorViewEvents!==!1;i=n?i:[],t.each(i,function(e){e._isAttached||r(e,"before:attach",e)}),this.attachHtml(e),t.each(i,function(e){e._isAttached||(e._isAttached=!0,r(e,"attach",e))})},_getBuffer:function(e){var i=this,n=this.Dom.createBuffer();return t.each(e,function(e){U(e),i.Dom.appendContents(n,e.el,{_$contents:e.$el})}),n},attachHtml:function(e){this.Dom.appendContents(this.el,e,{_$el:this.$el})},swapChildViews:function(e,t){if(!this.children.hasView(e)||!this.children.hasView(t))throw new Q({name:"ChildSwapError",message:"Both views must be children of the collection view"});return this.children._swap(e,t),this.Dom.swapEl(e.el,t.el),this.Dom.hasEl(this.el,e.el)!==this.Dom.hasEl(this.el,t.el)&&this.filter(),this},addChildView:function(e,t){return!e||e._isDestroyed?e:(this._addChild(e,t),this._addedViews=[e],this._showChildren(),e)},detachChildView:function(e){return this.removeChildView(e,{shouldDetach:!0}),e},removeChildView:function(e,t){return e?(this._removeChildView(e,t),this._removeChild(e),this.isEmpty()&&this._showEmptyView(),e):e},_removeChildViews:function(e){t.each(e,t.bind(this._removeChildView,this))},_removeChildView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.shouldDetach;e.off("destroy",this.removeChildView,this),i?this._detachChildView(e):this._destroyChildView(e),this.stopListening(e)},_destroyChildView:function(e){e._isDestroyed||(e._shouldDisableEvents=this.monitorViewEvents===!1,S(e))},_removeChildren:function(){this._destroyChildren();var e=this.getEmptyRegion();e.destroy(),delete this._addedViews},_destroyChildren:function(){this.children&&this.children.length&&(this.triggerMethod("before:destroy:children",this),this.monitorViewEvents===!1&&this.Dom.detachContents(this.el,this.$el),t.each(this.children._views,t.bind(this._removeChildView,this)),this.triggerMethod("destroy:children",this))}},{setDomApi:T});t.extend(Ie.prototype,ve);var $e=["childViewContainer","template","templateContext"],Te=De.extend({constructor:function(e){H("CompositeView is deprecated. Convert to View at your earliest convenience"),this.mergeOptions(e,$e),De.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"update",this._onCollectionUpdate),this.listenTo(this.collection,"reset",this.renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_getChildView:function(e){var t=this.childView;if(!t)return this.constructor;if(t=this._getView(t,e),!t)throw new Q({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return t},serializeData:function(){return this.serializeModel()},render:function(){return this._isDestroyed?this:(this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.renderChildren(),this._isRendering=!1,this._isRendered=!0,this.triggerMethod("render",this),this)},renderChildren:function(){(this._isRendered||this._isRendering)&&De.prototype._renderChildren.call(this)},attachBuffer:function(e,t){var i=this.getChildViewContainer(e);this.Dom.appendContents(i[0],t,{_$el:i})},_insertAfter:function(e){var t=this.getChildViewContainer(this,e);this.Dom.appendContents(t[0],e.el,{_$el:t,_$contents:e.$el})},_appendReorderedChildren:function(e){var t=this.getChildViewContainer(this);this.Dom.appendContents(t[0],e,{_$el:t})},getChildViewContainer:function(e,i){if(e.$childViewContainer)return e.$childViewContainer;var n=void 0,s=e.childViewContainer;if(s){var r=t.result(e,"childViewContainer");if(n="@"===r.charAt(0)&&e.ui?e.ui[r.substr(4)]:this.$(r),n.length<=0)throw new Q({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+e.childViewContainer})}else n=e.$el;return e.$childViewContainer=n,n},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),Ue=t.pick(be.prototype,"serializeModel","getTemplate","_renderTemplate","_renderHtml","mixinTemplateContext","attachElContent");t.extend(Te.prototype,Ue);var Se=["collectionEvents","events","modelEvents","triggers","ui"],Fe=ne.extend({cidPrefix:"mnb",constructor:function(e,i){this.view=i,this.defaults&&H("Behavior defaults are deprecated. For similar functionality set options on the Behavior class."),this.defaults=t.clone(t.result(this,"defaults",{})),this._setOptions(t.extend({},this.defaults,e)),this.mergeOptions(this.options,Se),this.ui=t.extend({},t.result(this,"ui"),t.result(i,"ui")),ne.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this.view._removeBehavior(this),this},proxyViewProperties:function(){return this.$el=this.view.$el,this.el=this.view.el,this},bindUIElements:function(){return this._bindUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this},getUI:function(e){return this._getUI(e)},delegateEntityEvents:function(){return this._delegateEntityEvents(this.view.model,this.view.collection),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.view.model,this.view.collection),this},getEvents:function(){var e=this,i=this.normalizeUIKeys(t.result(this,"events"));return t.reduce(i,function(i,n,s){if(t.isFunction(n)||(n=e[n]),n)return s=le(s),i[s]=t.bind(n,e),i},{})},getTriggers:function(){if(this.triggers){var e=this.normalizeUIKeys(t.result(this,"triggers"));return this._getViewTriggers(this.view,e)}}});t.extend(Fe.prototype,he,ce,pe);var Le=["region","regionClass"],Pe=ne.extend({cidPrefix:"mna",constructor:function(e){this._setOptions(e),this.mergeOptions(e,Le),this._initRegion(),ne.prototype.constructor.apply(this,arguments)},regionClass:we,_initRegion:function(){var e=this.region;if(e){var t={regionClass:this.regionClass};this._region=ye(e,t)}},getRegion:function(){return this._region},showView:function(e){for(var t=this.getRegion(),i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return t.show.apply(t,[e].concat(n))},getView:function(){return this.getRegion().currentView},start:function(e){return this.triggerMethod("before:start",this,e),this.triggerMethod("start",this,e),this}}),ze=["appRoutes","controller"],ke=e.Router.extend({constructor:function(t){this._setOptions(t),this.mergeOptions(t,ze),e.Router.apply(this,arguments);var i=this.appRoutes,n=this._getController();this.processAppRoutes(n,i),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var i=this._getController();return this._addAppRoute(i,e,t),this},_processOnRoute:function(e,i){if(t.isFunction(this.onRoute)){var n=t.invert(this.appRoutes)[e];this.onRoute(e,n,i)}},processAppRoutes:function(e,i){var n=this;if(!i)return this;var s=t.keys(i).reverse();return t.each(s,function(t){n._addAppRoute(e,t,i[t])}),this},_getController:function(){return this.controller},_addAppRoute:function(e,i,n){var s=e[n];if(!s)throw new Q('Method "'+n+'" was not found on the controller');this.route(i,n,t.bind(s,e))},triggerMethod:s});t.extend(ke.prototype,ee);var je=e.Marionette,Ne=e.Marionette={};return Ne.noConflict=function(){return e.Marionette=je,this},Ne.bindEvents=j(V),Ne.unbindEvents=j(E),Ne.bindRequests=j(M),Ne.unbindRequests=j(R),Ne.mergeOptions=j(K),Ne.getOption=j(W),Ne.normalizeMethods=j(Y),Ne.extend=N,Ne.isNodeAttached=q,Ne.deprecate=H,Ne.triggerMethod=j(s),Ne.triggerMethodOn=r,Ne.isEnabled=A,Ne.setEnabled=O,Ne.monitorViewEvents=w,Ne.Behaviors={},Ne.Behaviors.behaviorsLookup=z,Ne.Application=Pe,Ne.AppRouter=ke,Ne.Renderer=Ve,Ne.TemplateCache=se,Ne.View=be,Ne.CollectionView=De,Ne.NextCollectionView=Ie,Ne.CompositeView=Te,Ne.Behavior=Fe,Ne.Region=we,Ne.Error=Q,Ne.Object=ne,Ne.DEV_MODE=!1,Ne.FEATURES=ae,Ne.VERSION=k,Ne.DomApi=ge,Ne.setDomApi=function(e){De.setDomApi(e),Te.setDomApi(e),Ie.setDomApi(e),we.setDomApi(e),be.setDomApi(e)},Ne}),this&&this.Marionette&&(this.Mn=this.Marionette);
},{"backbone":"backbone","backbone.radio":1,"underscore":"underscore"}],"backbone":[function(require,module,exports){
(function (global){
!function(t){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,n,s){e.Backbone=t(e,s,i,n)});else if("undefined"!=typeof exports){var i,n=require("underscore");try{i=require("jquery")}catch(s){}t(e,exports,n,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,i,n){var s=t.Backbone,r=Array.prototype.slice;e.VERSION="1.3.3",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,s){return i[e](this[n],h(t,this),s)};case 4:return function(t,s,r){return i[e](this[n],h(t,this),s,r)};default:return function(){var t=r.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},o=function(t,e,n){i.each(e,function(e,s){i[s]&&(t.prototype[s]=a(e,s,n))})},h=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?u(t):i.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},l=/\s+/,d=function(t,e,n,s,r){var a,o=0;if(n&&"object"==typeof n){void 0!==s&&"context"in r&&void 0===r.context&&(r.context=s);for(a=i.keys(n);o<a.length;o++)e=d(t,e,a[o],n[a[o]],r)}else if(n&&l.test(n))for(a=n.split(l);o<a.length;o++)e=t(e,a[o],s,r);else e=t(e,n,s,r);return e};c.on=function(t,e,i){return f(this,t,e,i)};var f=function(t,e,i,n,s){if(t._events=d(g,t._events||{},e,i,{context:n,ctx:t,listening:s}),s){var r=t._listeners||(t._listeners={});r[s.id]=s}return t};c.listenTo=function(t,e,n){if(!t)return this;var s=t._listenId||(t._listenId=i.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),a=r[s];if(!a){var o=this._listenId||(this._listenId=i.uniqueId("l"));a=r[s]={obj:t,objId:s,id:o,listeningTo:r,count:0}}return f(t,e,n,this,a),this};var g=function(t,e,i,n){if(i){var s=t[e]||(t[e]=[]),r=n.context,a=n.ctx,o=n.listening;o&&o.count++,s.push({callback:i,context:r,ctx:r||a,listening:o})}return t};c.off=function(t,e,i){return this._events?(this._events=d(v,this._events,t,e,{context:i,listeners:this._listeners}),this):this},c.stopListening=function(t,e,n){var s=this._listeningTo;if(!s)return this;for(var r=t?[t._listenId]:i.keys(s),a=0;a<r.length;a++){var o=s[r[a]];if(!o)break;o.obj.off(e,n,this)}return this};var v=function(t,e,n,s){if(t){var r,a=0,o=s.context,h=s.listeners;if(e||n||o){for(var u=e?[e]:i.keys(t);a<u.length;a++){e=u[a];var c=t[e];if(!c)break;for(var l=[],d=0;d<c.length;d++){var f=c[d];n&&n!==f.callback&&n!==f.callback._callback||o&&o!==f.context?l.push(f):(r=f.listening,r&&0===--r.count&&(delete h[r.id],delete r.listeningTo[r.objId]))}l.length?t[e]=l:delete t[e]}return t}for(var g=i.keys(h);a<g.length;a++)r=h[g[a]],delete h[r.id],delete r.listeningTo[r.objId]}};c.once=function(t,e,n){var s=d(p,{},t,e,i.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(s,e,n)},c.listenToOnce=function(t,e,n){var s=d(p,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,s)};var p=function(t,e,n,s){if(n){var r=t[e]=i.once(function(){s(e,r),n.apply(this,arguments)});r._callback=n}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return d(m,this._events,t,void 0,i),this};var m=function(t,e,i,n){if(t){var s=t[e],r=t.all;s&&r&&(r=r.slice()),s&&_(s,n),r&&_(r,[e].concat(n))}return t},_=function(t,e){var i,n=-1,s=t.length,r=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a,o);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}};c.bind=c.on,c.unbind=c.off,i.extend(e,c);var y=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var s=i.result(this,"defaults");n=i.defaults(i.extend({},s,n),s),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var s;if("object"==typeof t?(s=t,n=e):(s={})[t]=e,n||(n={}),!this._validate(s,n))return!1;var r=n.unset,a=n.silent,o=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,l=this._previousAttributes;for(var d in s)e=s[d],i.isEqual(u[d],e)||o.push(d),i.isEqual(l[d],e)?delete c[d]:c[d]=e,r?delete u[d]:u[d]=e;if(this.idAttribute in s&&(this.id=this.get(this.idAttribute)),!a){o.length&&(this._pending=n);for(var f=0;f<o.length;f++)this.trigger("change:"+o[f],this,u[o[f]],n)}if(h)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var s in t){var r=t[s];i.isEqual(e[s],r)||(n[s]=r)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var s=t.parse?e.parse(i,t):i;return!!e.set(s,t)&&(n&&n.call(t.context,e,i,t),void e.trigger("sync",e,i,t))},B(this,t),this.sync("read",this,t)},save:function(t,e,n){var s;null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e,n=i.extend({validate:!0,parse:!0},n);var r=n.wait;if(s&&!r){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;var a=this,o=n.success,h=this.attributes;n.success=function(t){a.attributes=h;var e=n.parse?a.parse(t,n):t;return r&&(e=i.extend({},s,e)),!(e&&!a.set(e,n))&&(o&&o.call(n.context,a,t,n),void a.trigger("sync",a,t,n))},B(this,n),s&&r&&(this.attributes=i.extend({},h,s));var u=this.isNew()?"create":n.patch?"patch":"update";"patch"!==u||n.attrs||(n.attrs=s);var c=this.sync(u,this,n);return this.attributes=h,c},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,s=t.wait,r=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){s&&r(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var a=!1;return this.isNew()?i.defer(t.success):(B(this,t),a=this.sync("delete",this,t)),s||r(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(y,b,"attributes");var x=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},E={add:!0,remove:!1},I=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,s=Array(t.length-i),r=e.length;for(n=0;n<s.length;n++)s[n]=t[n+i];for(n=0;n<r;n++)t[n+i]=e[n];for(n=0;n<s.length;n++)t[n+r+i]=s[n]};i.extend(x.prototype,c,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,E))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var s=this._removeModels(t,e);return!e.silent&&s.length&&(e.changes={added:[],merged:[],removed:s},this.trigger("update",this,e)),n?s[0]:s},set:function(t,e){if(null!=t){e=i.extend({},w,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var s=e.at;null!=s&&(s=+s),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);var r,a,o=[],h=[],u=[],c=[],l={},d=e.add,f=e.merge,g=e.remove,v=!1,p=this.comparator&&null==s&&e.sort!==!1,m=i.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){r=t[a];var _=this.get(r);if(_){if(f&&r!==_){var y=this._isModel(r)?r.attributes:r;e.parse&&(y=_.parse(y,e)),_.set(y,e),u.push(_),p&&!v&&(v=_.hasChanged(m))}l[_.cid]||(l[_.cid]=!0,o.push(_)),t[a]=_}else d&&(r=t[a]=this._prepareModel(r,e),r&&(h.push(r),this._addReference(r,e),l[r.cid]=!0,o.push(r)))}if(g){for(a=0;a<this.length;a++)r=this.models[a],l[r.cid]||c.push(r);c.length&&this._removeModels(c,e)}var b=!1,x=!p&&d&&g;if(o.length&&x?(b=this.length!==o.length||i.some(this.models,function(t,e){return t!==o[e]}),this.models.length=0,I(this.models,o,0),this.length=this.models.length):h.length&&(p&&(v=!0),I(this.models,h,null==s?this.length:s),this.length=this.models.length),v&&this.sort({silent:!0}),!e.silent){for(a=0;a<h.length;a++)null!=s&&(e.index=s+a),r=h[a],r.trigger("add",r,this,e);(v||b)&&this.trigger("sort",this,e),(h.length||c.length||u.length)&&(e.changes={added:h,removed:c,merged:u},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return r.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=i.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},B(this,t),this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;if(t=this._prepareModel(t,e),!t)return!1;n||this.add(t,e);var s=this,r=e.success;return e.success=function(t,e,i){n&&s.add(t,i),r&&r.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var s=this.get(t[n]);if(s){var r=this.indexOf(s);this.models.splice(r,1),this.length--,delete this._byId[s.cid];var a=this.modelId(s.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=r,s.trigger("remove",s,this,e)),i.push(s),this._removeReference(s,e)}}return i},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var s=this.modelId(e.previousAttributes()),r=this.modelId(e.attributes);s!==r&&(null!=s&&delete this._byId[s],null!=r&&(this._byId[r]=e))}}this.trigger.apply(this,arguments)}});var S={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};o(x,S,"models");var k=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,P)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];i.extend(k.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var s=e.match(T);this.delegate(s[1],s[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,s){var r=H[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:r,dataType:"json"};if(s.url||(a.url=i.result(n,"url")||F()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",s.emulateJSON&&(a.data._method=r);var o=s.beforeSend;s.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",r),o)return o.apply(this,arguments)}}"GET"===a.type||s.emulateJSON||(a.processData=!1);var h=s.error;s.error=function(t,e,i){s.textStatus=e,s.errorThrown=i,h&&h.call(s.context,t,e,i)};var u=s.xhr=e.ajax(i.extend(a,s));return n.trigger("request",n,u,s),u};var H={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var $=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,R=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend($.prototype,c,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var r=this;return e.history.route(t,function(i){var a=r._extractParameters(t,i);r.execute(s,a,n)!==!1&&(r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),e.history.trigger("route",r,n,a))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(j,"\\$&").replace(A,"(?:$1)?").replace(C,function(t,e){return e?t:"([^/?]+)"}).replace(R,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var N=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,U=/#.*$/;N.started=!1,i.extend(N.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(M,"")},start:function(t){if(N.started)throw new Error("Backbone.history has already been started");if(N.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(O,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,s=n.insertBefore(this.iframe,n.firstChild).contentWindow;s.document.open(),s.document.close(),s.location.hash="#"+this.fragment}var r=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),N.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!N.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(U,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;e.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new N;var q=function(t,e){var n,s=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e),n.prototype=i.create(s.prototype,t),n.prototype.constructor=n,n.__super__=s.prototype,n};y.extend=x.extend=$.extend=k.extend=N.extend=q;var F=function(){throw new Error('A "url" property or function must be specified')},B=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"jquery":"jquery","underscore":"underscore"}],"bootstrap-datetimepicker-npm":[function(require,module,exports){
module.exports=function(e){"use strict";var t=require("moment"),a=function(a,n){var r,i,o,d,s,l,p,c={},u=!0,f=!1,h=!1,m=0,y=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],b=["days","months","years","decades"],g=["top","bottom","auto"],w=["left","right","auto"],v=["default","top","bottom"],k={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},C={},x=function(e){var a,r,i,o,d,s=!1;return void 0!==t.tz&&void 0!==n.timeZone&&null!==n.timeZone&&""!==n.timeZone&&(s=!0),void 0===e||null===e?a=s?t().tz(n.timeZone).startOf("d"):t().startOf("d"):s?(r=t().tz(n.timeZone).utcOffset(),i=t(e,l,n.useStrict).utcOffset(),i!==r?(o=t().tz(n.timeZone).format("Z"),d=t(e,l,n.useStrict).format("YYYY-MM-DD[T]HH:mm:ss")+o,a=t(d,l,n.useStrict).tz(n.timeZone)):a=t(e,l,n.useStrict).tz(n.timeZone)):a=t(e,l,n.useStrict),a},D=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return s.indexOf("Y")!==-1;case"M":return s.indexOf("M")!==-1;case"d":return s.toLowerCase().indexOf("d")!==-1;case"h":case"H":return s.toLowerCase().indexOf("h")!==-1;case"m":return s.indexOf("m")!==-1;case"s":return s.indexOf("s")!==-1;default:return!1}},T=function(){return D("h")||D("m")||D("s")},M=function(){return D("y")||D("M")||D("d")},S=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(n.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",n.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(n.icons.next)))),a=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",n.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone()))]},O=function(){var t=e("<tr>"),a=e("<tr>"),r=e("<tr>");return D("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:n.tooltips.pickHour}).attr("data-action","showHours"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(n.icons.down))))),D("m")&&(D("h")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:n.tooltips.pickMinute}).attr("data-action","showMinutes"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(n.icons.down))))),D("s")&&(D("m")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:n.tooltips.pickSecond}).attr("data-action","showSeconds"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(n.icons.down))))),d||(t.append(e("<td>").addClass("separator")),a.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:n.tooltips.togglePeriod}))),r.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,a,r]))},P=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),a=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),r=[O()];return D("h")&&r.push(t),D("m")&&r.push(a),D("s")&&r.push(n),r},H=function(){var t=[];return n.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:n.tooltips.today}).append(e("<span>").addClass(n.icons.today)))),!n.sideBySide&&M()&&T()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:n.tooltips.selectTime}).append(e("<span>").addClass(n.icons.time)))),n.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:n.tooltips.clear}).append(e("<span>").addClass(n.icons.clear)))),n.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:n.tooltips.close}).append(e("<span>").addClass(n.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},E=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),a=e("<div>").addClass("datepicker").append(S()),r=e("<div>").addClass("timepicker").append(P()),i=e("<ul>").addClass("list-unstyled"),o=e("<li>").addClass("picker-switch"+(n.collapse?" accordion-toggle":"")).append(H());return n.inline&&t.removeClass("dropdown-menu"),d&&t.addClass("usetwentyfour"),D("s")&&!d&&t.addClass("wider"),n.sideBySide&&M()&&T()?(t.addClass("timepicker-sbs"),"top"===n.toolbarPlacement&&t.append(o),t.append(e("<div>").addClass("row").append(a.addClass("col-md-6")).append(r.addClass("col-md-6"))),"bottom"===n.toolbarPlacement&&t.append(o),t):("top"===n.toolbarPlacement&&i.append(o),M()&&i.append(e("<li>").addClass(n.collapse&&T()?"collapse in":"").append(a)),"default"===n.toolbarPlacement&&i.append(o),T()&&i.append(e("<li>").addClass(n.collapse&&M()?"collapse":"").append(r)),"bottom"===n.toolbarPlacement&&i.append(o),t.append(i))},I=function(){var t,r={};return t=a.is("input")||n.inline?a.data():a.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(r=e.extend(!0,r,t.dateOptions)),e.each(n,function(e){var a="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[a]&&(r[e]=t[a])}),r},Y=function(){var t,r=(f||a).position(),i=(f||a).offset(),o=n.widgetPositioning.vertical,d=n.widgetPositioning.horizontal;if(n.widgetParent)t=n.widgetParent.append(h);else if(a.is("input"))t=a.after(h).parent();else{if(n.inline)return void(t=a.append(h));t=a,a.children().first().after(h)}if("auto"===o&&(o=i.top+1.5*h.height()>=e(window).height()+e(window).scrollTop()&&h.height()+a.outerHeight()<i.top?"top":"bottom"),"auto"===d&&(d=t.width()<i.left+h.outerWidth()/2&&i.left+h.outerWidth()>e(window).width()?"right":"left"),"top"===o?h.addClass("top").removeClass("bottom"):h.addClass("bottom").removeClass("top"),"right"===d?h.addClass("pull-right"):h.removeClass("pull-right"),"relative"!==t.css("position")&&(t=t.parents().filter(function(){return"relative"===e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a relative positioned container");h.css({top:"top"===o?"auto":r.top+a.outerHeight(),bottom:"top"===o?r.top+a.outerHeight():"auto",left:"left"===d?t===a?0:r.left:"auto",right:"left"===d?"auto":t.outerWidth()-a.outerWidth()-(t===a?0:r.left)})},B=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||a.trigger(e)},q=function(e){"y"===e&&(e="YYYY"),B({type:"dp.update",change:e,viewDate:i.clone()})},z=function(e){h&&(e&&(p=Math.max(m,Math.min(3,p+e))),h.find(".datepicker > div").hide().filter(".datepicker-"+y[p].clsName).show())},F=function(){var t=e("<tr>"),a=i.clone().startOf("w").startOf("d");for(n.calendarWeeks===!0&&t.append(e("<th>").addClass("cw").text("#"));a.isBefore(i.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(a.format("dd"))),a.add(1,"d");h.find(".datepicker-days thead").append(t)},L=function(e){return n.disabledDates[e.format("YYYY-MM-DD")]===!0},W=function(e){return n.enabledDates[e.format("YYYY-MM-DD")]===!0},j=function(e){return n.disabledHours[e.format("H")]===!0},A=function(e){return n.enabledHours[e.format("H")]===!0},N=function(t,a){if(!t.isValid())return!1;if(n.disabledDates&&"d"===a&&L(t))return!1;if(n.enabledDates&&"d"===a&&!W(t))return!1;if(n.minDate&&t.isBefore(n.minDate,a))return!1;if(n.maxDate&&t.isAfter(n.maxDate,a))return!1;if(n.daysOfWeekDisabled&&"d"===a&&n.daysOfWeekDisabled.indexOf(t.day())!==-1)return!1;if(n.disabledHours&&("h"===a||"m"===a||"s"===a)&&j(t))return!1;if(n.enabledHours&&("h"===a||"m"===a||"s"===a)&&!A(t))return!1;if(n.disabledTimeIntervals&&("h"===a||"m"===a||"s"===a)){var r=!1;if(e.each(n.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return r=!0,!1}),r)return!1}return!0},Z=function(){for(var t=[],a=i.clone().startOf("y").startOf("d");a.isSame(i,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(a.format("MMM"))),a.add(1,"M");h.find(".datepicker-months td").empty().append(t)},V=function(){var t=h.find(".datepicker-months"),a=t.find("th"),o=t.find("tbody").find("span");a.eq(0).find("span").attr("title",n.tooltips.prevYear),a.eq(1).attr("title",n.tooltips.selectYear),a.eq(2).find("span").attr("title",n.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),N(i.clone().subtract(1,"y"),"y")||a.eq(0).addClass("disabled"),a.eq(1).text(i.year()),N(i.clone().add(1,"y"),"y")||a.eq(2).addClass("disabled"),o.removeClass("active"),r.isSame(i,"y")&&!u&&o.eq(r.month()).addClass("active"),o.each(function(t){N(i.clone().month(t),"M")||e(this).addClass("disabled")})},R=function(){var e=h.find(".datepicker-years"),t=e.find("th"),a=i.clone().subtract(5,"y"),o=i.clone().add(6,"y"),d="";for(t.eq(0).find("span").attr("title",n.tooltips.prevDecade),t.eq(1).attr("title",n.tooltips.selectDecade),t.eq(2).find("span").attr("title",n.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),n.minDate&&n.minDate.isAfter(a,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(a.year()+"-"+o.year()),n.maxDate&&n.maxDate.isBefore(o,"y")&&t.eq(2).addClass("disabled");!a.isAfter(o,"y");)d+='<span data-action="selectYear" class="year'+(a.isSame(r,"y")&&!u?" active":"")+(N(a,"y")?"":" disabled")+'">'+a.year()+"</span>",a.add(1,"y");e.find("td").html(d)},U=function(){var e=h.find(".datepicker-decades"),a=e.find("th"),o=t({y:i.year()-i.year()%100-1}),d=o.clone().add(100,"y"),s=o.clone(),l="";for(a.eq(0).find("span").attr("title",n.tooltips.prevCentury),a.eq(2).find("span").attr("title",n.tooltips.nextCentury),e.find(".disabled").removeClass("disabled"),(o.isSame(t({y:1900}))||n.minDate&&n.minDate.isAfter(o,"y"))&&a.eq(0).addClass("disabled"),a.eq(1).text(o.year()+"-"+d.year()),(o.isSame(t({y:2e3}))||n.maxDate&&n.maxDate.isBefore(d,"y"))&&a.eq(2).addClass("disabled");!o.isAfter(d,"y");)l+='<span data-action="selectDecade" class="decade'+(o.isSame(r,"y")?" active":"")+(N(o,"y")?"":" disabled")+'" data-selection="'+(o.year()+6)+'">'+(o.year()+1)+" - "+(o.year()+12)+"</span>",o.add(12,"y");l+="<span></span><span></span><span></span>",e.find("td").html(l),a.eq(1).text(s.year()+1+"-"+o.year())},G=function(){var t,a,o,d,s=h.find(".datepicker-days"),l=s.find("th"),p=[];if(M()){for(l.eq(0).find("span").attr("title",n.tooltips.prevMonth),l.eq(1).attr("title",n.tooltips.selectMonth),l.eq(2).find("span").attr("title",n.tooltips.nextMonth),s.find(".disabled").removeClass("disabled"),l.eq(1).text(i.format(n.dayViewHeaderFormat)),N(i.clone().subtract(1,"M"),"M")||l.eq(0).addClass("disabled"),N(i.clone().add(1,"M"),"M")||l.eq(2).addClass("disabled"),t=i.clone().startOf("M").startOf("w").startOf("d"),d=0;d<42;d++)0===t.weekday()&&(a=e("<tr>"),n.calendarWeeks&&a.append('<td class="cw">'+t.week()+"</td>"),p.push(a)),o="",t.isBefore(i,"M")&&(o+=" old"),t.isAfter(i,"M")&&(o+=" new"),t.isSame(r,"d")&&!u&&(o+=" active"),N(t,"d")||(o+=" disabled"),t.isSame(x(),"d")&&(o+=" today"),0!==t.day()&&6!==t.day()||(o+=" weekend"),a.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="day'+o+'">'+t.date()+"</td>"),t.add(1,"d");s.find("tbody").empty().append(p),V(),R(),U()}},Q=function(){var t=h.find(".timepicker-hours table"),a=i.clone().startOf("d"),n=[],r=e("<tr>");for(i.hour()>11&&!d&&a.hour(12);a.isSame(i,"d")&&(d||i.hour()<12&&a.hour()<12||i.hour()>11);)a.hour()%4===0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectHour" class="hour'+(N(a,"h")?"":" disabled")+'">'+a.format(d?"HH":"hh")+"</td>"),a.add(1,"h");t.empty().append(n)},J=function(){for(var t=h.find(".timepicker-minutes table"),a=i.clone().startOf("h"),r=[],o=e("<tr>"),d=1===n.stepping?5:n.stepping;i.isSame(a,"h");)a.minute()%(4*d)===0&&(o=e("<tr>"),r.push(o)),o.append('<td data-action="selectMinute" class="minute'+(N(a,"m")?"":" disabled")+'">'+a.format("mm")+"</td>"),a.add(d,"m");t.empty().append(r)},K=function(){for(var t=h.find(".timepicker-seconds table"),a=i.clone().startOf("m"),n=[],r=e("<tr>");i.isSame(a,"m");)a.second()%20===0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectSecond" class="second'+(N(a,"s")?"":" disabled")+'">'+a.format("ss")+"</td>"),a.add(5,"s");t.empty().append(n)},X=function(){var e,t,a=h.find(".timepicker span[data-time-component]");d||(e=h.find(".timepicker [data-action=togglePeriod]"),t=r.clone().add(r.hours()>=12?-12:12,"h"),e.text(r.format("A")),N(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),a.filter("[data-time-component=hours]").text(r.format(d?"HH":"hh")),a.filter("[data-time-component=minutes]").text(r.format("mm")),a.filter("[data-time-component=seconds]").text(r.format("ss")),Q(),J(),K()},$=function(){h&&(G(),X())},_=function(e){var t=u?null:r;return e?(e=e.clone().locale(n.locale),1!==n.stepping&&e.minutes(Math.round(e.minutes()/n.stepping)*n.stepping%60).seconds(0),void(N(e)?(r=e,i=r.clone(),o.val(r.format(s)),a.data("date",r.format(s)),u=!1,$(),B({type:"dp.change",date:r.clone(),oldDate:t})):(n.keepInvalid||o.val(u?"":r.format(s)),B({type:"dp.error",date:e})))):(u=!0,o.val(""),a.data("date",""),B({type:"dp.change",date:!1,oldDate:t}),void $())},ee=function(){var t=!1;return h?(h.find(".collapse").each(function(){var a=e(this).data("collapse");return!a||!a.transitioning||(t=!0,!1)}),t?c:(f&&f.hasClass("btn")&&f.toggleClass("active"),h.hide(),e(window).off("resize",Y),h.off("click","[data-action]"),h.off("mousedown",!1),h.remove(),h=!1,B({type:"dp.hide",date:r.clone()}),o.blur(),c)):c},te=function(){_(null)},ae={next:function(){var e=y[p].navFnc;i.add(y[p].navStep,e),G(),q(e)},previous:function(){var e=y[p].navFnc;i.subtract(y[p].navStep,e),G(),q(e)},pickerSwitch:function(){z(1)},selectMonth:function(t){var a=e(t.target).closest("tbody").find("span").index(e(t.target));i.month(a),p===m?(_(r.clone().year(i.year()).month(i.month())),n.inline||ee()):(z(-1),G()),q("M")},selectYear:function(t){var a=parseInt(e(t.target).text(),10)||0;i.year(a),p===m?(_(r.clone().year(i.year())),n.inline||ee()):(z(-1),G()),q("YYYY")},selectDecade:function(t){var a=parseInt(e(t.target).data("selection"),10)||0;i.year(a),p===m?(_(r.clone().year(i.year())),n.inline||ee()):(z(-1),G()),q("YYYY")},selectDay:function(t){var a=i.clone();e(t.target).is(".old")&&a.subtract(1,"M"),e(t.target).is(".new")&&a.add(1,"M"),_(a.date(parseInt(e(t.target).text(),10))),T()||n.keepOpen||n.inline||ee()},incrementHours:function(){var e=r.clone().add(1,"h");N(e,"h")&&_(e)},incrementMinutes:function(){var e=r.clone().add(n.stepping,"m");N(e,"m")&&_(e)},incrementSeconds:function(){var e=r.clone().add(1,"s");N(e,"s")&&_(e)},decrementHours:function(){var e=r.clone().subtract(1,"h");N(e,"h")&&_(e)},decrementMinutes:function(){var e=r.clone().subtract(n.stepping,"m");N(e,"m")&&_(e)},decrementSeconds:function(){var e=r.clone().subtract(1,"s");N(e,"s")&&_(e)},togglePeriod:function(){_(r.clone().add(r.hours()>=12?-12:12,"h"))},togglePicker:function(t){var a,r=e(t.target),i=r.closest("ul"),o=i.find(".in"),d=i.find(".collapse:not(.in)");if(o&&o.length){if(a=o.data("collapse"),a&&a.transitioning)return;o.collapse?(o.collapse("hide"),d.collapse("show")):(o.removeClass("in"),d.addClass("in")),r.is("span")?r.toggleClass(n.icons.time+" "+n.icons.date):r.find("span").toggleClass(n.icons.time+" "+n.icons.date)}},showPicker:function(){h.find(".timepicker > div:not(.timepicker-picker)").hide(),h.find(".timepicker .timepicker-picker").show()},showHours:function(){h.find(".timepicker .timepicker-picker").hide(),h.find(".timepicker .timepicker-hours").show()},showMinutes:function(){h.find(".timepicker .timepicker-picker").hide(),h.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){h.find(".timepicker .timepicker-picker").hide(),h.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var a=parseInt(e(t.target).text(),10);d||(r.hours()>=12?12!==a&&(a+=12):12===a&&(a=0)),_(r.clone().hours(a)),ae.showPicker.call(c)},selectMinute:function(t){_(r.clone().minutes(parseInt(e(t.target).text(),10))),ae.showPicker.call(c)},selectSecond:function(t){_(r.clone().seconds(parseInt(e(t.target).text(),10))),ae.showPicker.call(c)},clear:te,today:function(){var e=x();N(e,"d")&&_(e)},close:ee},ne=function(t){return!e(t.currentTarget).is(".disabled")&&(ae[e(t.currentTarget).data("action")].apply(c,arguments),!1)},re=function(){var t,a={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return o.prop("disabled")||!n.ignoreReadonly&&o.prop("readonly")||h?c:(void 0!==o.val()&&0!==o.val().trim().length?_(oe(o.val().trim())):n.useCurrent&&u&&(o.is("input")&&0===o.val().trim().length||n.inline)&&(t=x(),"string"==typeof n.useCurrent&&(t=a[n.useCurrent](t)),_(t)),h=E(),F(),Z(),h.find(".timepicker-hours").hide(),h.find(".timepicker-minutes").hide(),h.find(".timepicker-seconds").hide(),$(),z(),e(window).on("resize",Y),h.on("click","[data-action]",ne),h.on("mousedown",!1),f&&f.hasClass("btn")&&f.toggleClass("active"),h.show(),Y(),n.focusOnShow&&!o.is(":focus")&&o.focus(),B({type:"dp.show"}),c)},ie=function(){return h?ee():re()},oe=function(e){return e=void 0===n.parseInputDate?t.isMoment(e)||e instanceof Date?t(e):x(e):n.parseInputDate(e),e.locale(n.locale),e},de=function(e){var t,a,r,i,o=null,d=[],s={},l=e.which,p="p";C[l]=p;for(t in C)C.hasOwnProperty(t)&&C[t]===p&&(d.push(t),parseInt(t,10)!==l&&(s[t]=!0));for(t in n.keyBinds)if(n.keyBinds.hasOwnProperty(t)&&"function"==typeof n.keyBinds[t]&&(r=t.split(" "),r.length===d.length&&k[l]===r[r.length-1])){for(i=!0,a=r.length-2;a>=0;a--)if(!(k[r[a]]in s)){i=!1;break}if(i){o=n.keyBinds[t];break}}o&&(o.call(c,h),e.stopPropagation(),e.preventDefault())},se=function(e){C[e.which]="r",e.stopPropagation(),e.preventDefault()},le=function(t){var a=e(t.target).val().trim(),n=a?oe(a):null;return _(n),t.stopImmediatePropagation(),!1},pe=function(){o.on({change:le,blur:n.debug?"":ee,keydown:de,keyup:se,focus:n.allowInputToggle?re:""}),a.is("input")?o.on({focus:re}):f&&(f.on("click",ie),f.on("mousedown",!1))},ce=function(){o.off({change:le,blur:blur,keydown:de,keyup:se,focus:n.allowInputToggle?ee:""}),a.is("input")?o.off({focus:re}):f&&(f.off("click",ie),f.off("mousedown",!1))},ue=function(t){var a={};return e.each(t,function(){var e=oe(this);e.isValid()&&(a[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(a).length&&a},fe=function(t){var a={};return e.each(t,function(){a[this]=!0}),!!Object.keys(a).length&&a},he=function(){var e=n.format||"L LT";s=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=r.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return r.localeData().longDateFormat(e)||e})}),l=n.extraFormats?n.extraFormats.slice():[],l.indexOf(e)<0&&l.indexOf(s)<0&&l.push(s),d=s.toLowerCase().indexOf("a")<1&&s.replace(/\[.*?\]/g,"").indexOf("h")<1,D("y")&&(m=2),D("M")&&(m=1),D("d")&&(m=0),p=Math.max(m,p),u||_(r)};if(c.destroy=function(){ee(),ce(),a.removeData("DateTimePicker"),a.removeData("date")},c.toggle=ie,c.show=re,c.hide=ee,c.disable=function(){return ee(),f&&f.hasClass("btn")&&f.addClass("disabled"),o.prop("disabled",!0),c},c.enable=function(){return f&&f.hasClass("btn")&&f.removeClass("disabled"),o.prop("disabled",!1),c},c.ignoreReadonly=function(e){if(0===arguments.length)return n.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return n.ignoreReadonly=e,c},c.options=function(t){if(0===arguments.length)return e.extend(!0,{},n);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,n,t),e.each(n,function(e,t){if(void 0===c[e])throw new TypeError("option "+e+" is not recognized!");c[e](t)}),c},c.date=function(e){if(0===arguments.length)return u?null:r.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return _(null===e?null:oe(e)),c},c.format=function(e){if(0===arguments.length)return n.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a sting or boolean:false parameter "+e);return n.format=e,s&&he(),c},c.timeZone=function(e){return 0===arguments.length?n.timeZone:(n.timeZone=e,c)},c.dayViewHeaderFormat=function(e){if(0===arguments.length)return n.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return n.dayViewHeaderFormat=e,c},c.extraFormats=function(e){if(0===arguments.length)return n.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return n.extraFormats=e,l&&he(),c},c.disabledDates=function(t){if(0===arguments.length)return n.disabledDates?e.extend({},n.disabledDates):n.disabledDates;if(!t)return n.disabledDates=!1,$(),c;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return n.disabledDates=ue(t),n.enabledDates=!1,$(),c},c.enabledDates=function(t){if(0===arguments.length)return n.enabledDates?e.extend({},n.enabledDates):n.enabledDates;if(!t)return n.enabledDates=!1,$(),c;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return n.enabledDates=ue(t),n.disabledDates=!1,$(),c},c.daysOfWeekDisabled=function(e){if(0===arguments.length)return n.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return n.daysOfWeekDisabled=!1,$(),c;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(n.daysOfWeekDisabled=e.reduce(function(e,t){return t=parseInt(t,10),t>6||t<0||isNaN(t)?e:(e.indexOf(t)===-1&&e.push(t),e)},[]).sort(),n.useCurrent&&!n.keepInvalid){for(var t=0;!N(r,"d");){if(r.add(1,"d"),7===t)throw"Tried 7 times to find a valid date";t++}_(r)}return $(),c},c.maxDate=function(e){if(0===arguments.length)return n.maxDate?n.maxDate.clone():n.maxDate;if("boolean"==typeof e&&e===!1)return n.maxDate=!1,$(),c;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=oe(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(n.minDate&&t.isBefore(n.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(s));return n.maxDate=t,n.useCurrent&&!n.keepInvalid&&r.isAfter(e)&&_(n.maxDate),i.isAfter(t)&&(i=t.clone().subtract(n.stepping,"m")),$(),c},c.minDate=function(e){if(0===arguments.length)return n.minDate?n.minDate.clone():n.minDate;if("boolean"==typeof e&&e===!1)return n.minDate=!1,$(),c;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=oe(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(n.maxDate&&t.isAfter(n.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(s));return n.minDate=t,n.useCurrent&&!n.keepInvalid&&r.isBefore(e)&&_(n.minDate),i.isBefore(t)&&(i=t.clone().add(n.stepping,"m")),$(),c},c.defaultDate=function(e){if(0===arguments.length)return n.defaultDate?n.defaultDate.clone():n.defaultDate;if(!e)return n.defaultDate=!1,c;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=oe(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!N(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return n.defaultDate=t,(n.defaultDate&&n.inline||""===o.val().trim())&&_(n.defaultDate),c},c.locale=function(e){if(0===arguments.length)return n.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return n.locale=e,r.locale(n.locale),i.locale(n.locale),s&&he(),h&&(ee(),re()),c},c.stepping=function(e){return 0===arguments.length?n.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),n.stepping=e,c)},c.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return n.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&t.indexOf(e.toLowerCase())===-1)throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return n.useCurrent=e,c},c.collapse=function(e){if(0===arguments.length)return n.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return n.collapse===e?c:(n.collapse=e,h&&(ee(),re()),c)},c.icons=function(t){if(0===arguments.length)return e.extend({},n.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(n.icons,t),h&&(ee(),re()),c},c.tooltips=function(t){if(0===arguments.length)return e.extend({},n.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(n.tooltips,t),h&&(ee(),re()),c},c.useStrict=function(e){if(0===arguments.length)return n.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return n.useStrict=e,c},c.sideBySide=function(e){if(0===arguments.length)return n.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return n.sideBySide=e,h&&(ee(),re()),c},c.viewMode=function(e){if(0===arguments.length)return n.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(b.indexOf(e)===-1)throw new TypeError("viewMode() parameter must be one of ("+b.join(", ")+") value");return n.viewMode=e,p=Math.max(b.indexOf(e),m),z(),c},c.toolbarPlacement=function(e){if(0===arguments.length)return n.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(v.indexOf(e)===-1)throw new TypeError("toolbarPlacement() parameter must be one of ("+v.join(", ")+") value");return n.toolbarPlacement=e,h&&(ee(),re()),c},c.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},n.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),w.indexOf(t.horizontal)===-1)throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+w.join(", ")+")");n.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),g.indexOf(t.vertical)===-1)throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+g.join(", ")+")");n.widgetPositioning.vertical=t.vertical}return $(),c},c.calendarWeeks=function(e){if(0===arguments.length)return n.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return n.calendarWeeks=e,$(),c},c.showTodayButton=function(e){if(0===arguments.length)return n.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return n.showTodayButton=e,h&&(ee(),re()),c},c.showClear=function(e){if(0===arguments.length)return n.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return n.showClear=e,h&&(ee(),re()),c},c.widgetParent=function(t){if(0===arguments.length)return n.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return n.widgetParent=t,h&&(ee(),re()),c},c.keepOpen=function(e){if(0===arguments.length)return n.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return n.keepOpen=e,c},c.focusOnShow=function(e){if(0===arguments.length)return n.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return n.focusOnShow=e,c},c.inline=function(e){if(0===arguments.length)return n.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return n.inline=e,c},c.clear=function(){return te(),c},c.keyBinds=function(e){return n.keyBinds=e,c},c.getMoment=function(e){return x(e)},c.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return n.debug=e,c},c.allowInputToggle=function(e){if(0===arguments.length)return n.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return n.allowInputToggle=e,c},c.showClose=function(e){if(0===arguments.length)return n.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return n.showClose=e,c},c.keepInvalid=function(e){if(0===arguments.length)return n.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");return n.keepInvalid=e,c},c.datepickerInput=function(e){if(0===arguments.length)return n.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return n.datepickerInput=e,c},c.parseInputDate=function(e){if(0===arguments.length)return n.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return n.parseInputDate=e,c},c.disabledTimeIntervals=function(t){if(0===arguments.length)return n.disabledTimeIntervals?e.extend({},n.disabledTimeIntervals):n.disabledTimeIntervals;if(!t)return n.disabledTimeIntervals=!1,$(),c;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return n.disabledTimeIntervals=t,
$(),c},c.disabledHours=function(t){if(0===arguments.length)return n.disabledHours?e.extend({},n.disabledHours):n.disabledHours;if(!t)return n.disabledHours=!1,$(),c;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(n.disabledHours=fe(t),n.enabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var a=0;!N(r,"h");){if(r.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}_(r)}return $(),c},c.enabledHours=function(t){if(0===arguments.length)return n.enabledHours?e.extend({},n.enabledHours):n.enabledHours;if(!t)return n.enabledHours=!1,$(),c;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(n.enabledHours=fe(t),n.disabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var a=0;!N(r,"h");){if(r.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}_(r)}return $(),c},c.viewDate=function(e){if(0===arguments.length)return i.clone();if(!e)return i=r.clone(),c;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return i=oe(e),q(),c},a.is("input"))o=a;else if(o=a.find(n.datepickerInput),0===o.size())o=a.find("input");else if(!o.is("input"))throw new Error('CSS class "'+n.datepickerInput+'" cannot be applied to non input element');if(a.hasClass("input-group")&&(f=0===a.find(".datepickerbutton").size()?a.find(".input-group-addon"):a.find(".datepickerbutton")),!n.inline&&!o.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return r=x(),i=r.clone(),e.extend(!0,n,I()),c.options(n),he(),pe(),o.prop("disabled")&&c.disable(),o.is("input")&&0!==o.val().trim().length?_(oe(o.val().trim())):n.defaultDate&&void 0===o.attr("placeholder")&&_(n.defaultDate),n.inline&&re(),c};e.fn.datetimepicker=function(t){return this.each(function(){var n=e(this);n.data("DateTimePicker")||(t=e.extend(!0,{},e.fn.datetimepicker.defaults,t),n.data("DateTimePicker",a(n,t)))})},e.fn.datetimepicker.defaults={timeZone:"Etc/UTC",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"glyphicon glyphicon-time",date:"glyphicon glyphicon-calendar",up:"glyphicon glyphicon-chevron-up",down:"glyphicon glyphicon-chevron-down",previous:"glyphicon glyphicon-chevron-left",next:"glyphicon glyphicon-chevron-right",today:"glyphicon glyphicon-screenshot",clear:"glyphicon glyphicon-trash",close:"glyphicon glyphicon-remove"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(!e)return void this.show();var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1}};
},{"moment":"moment"}],"bootstrap":[function(require,module,exports){
require("../../js/transition.js"),require("../../js/alert.js"),require("../../js/button.js"),require("../../js/carousel.js"),require("../../js/collapse.js"),require("../../js/dropdown.js"),require("../../js/modal.js"),require("../../js/tooltip.js"),require("../../js/popover.js"),require("../../js/scrollspy.js"),require("../../js/tab.js"),require("../../js/affix.js");
},{"../../js/affix.js":2,"../../js/alert.js":3,"../../js/button.js":4,"../../js/carousel.js":5,"../../js/collapse.js":6,"../../js/dropdown.js":7,"../../js/modal.js":8,"../../js/popover.js":9,"../../js/scrollspy.js":10,"../../js/tab.js":11,"../../js/tooltip.js":12,"../../js/transition.js":13}],"chart.js":[function(require,module,exports){
var Chart=require("./core/core")();Chart.helpers=require("./helpers/index"),require("./core/core.helpers")(Chart),Chart.defaults=require("./core/core.defaults"),Chart.Element=require("./core/core.element"),Chart.elements=require("./elements/index"),Chart.Interaction=require("./core/core.interaction"),Chart.platform=require("./platforms/platform"),require("./core/core.plugin")(Chart),require("./core/core.animation")(Chart),require("./core/core.controller")(Chart),require("./core/core.datasetController")(Chart),require("./core/core.layoutService")(Chart),require("./core/core.scaleService")(Chart),require("./core/core.scale")(Chart),require("./core/core.tooltip")(Chart),require("./scales/scale.linearbase")(Chart),require("./scales/scale.category")(Chart),require("./scales/scale.linear")(Chart),require("./scales/scale.logarithmic")(Chart),require("./scales/scale.radialLinear")(Chart),require("./scales/scale.time")(Chart),require("./controllers/controller.bar")(Chart),require("./controllers/controller.bubble")(Chart),require("./controllers/controller.doughnut")(Chart),require("./controllers/controller.line")(Chart),require("./controllers/controller.polarArea")(Chart),require("./controllers/controller.radar")(Chart),require("./controllers/controller.scatter")(Chart),require("./charts/Chart.Bar")(Chart),require("./charts/Chart.Bubble")(Chart),require("./charts/Chart.Doughnut")(Chart),require("./charts/Chart.Line")(Chart),require("./charts/Chart.PolarArea")(Chart),require("./charts/Chart.Radar")(Chart),require("./charts/Chart.Scatter")(Chart);var plugins=[];plugins.push(require("./plugins/plugin.filler")(Chart),require("./plugins/plugin.legend")(Chart),require("./plugins/plugin.title")(Chart)),Chart.plugins.register(plugins),Chart.platform.initialize(),module.exports=Chart,"undefined"!=typeof window&&(window.Chart=Chart),Chart.canvasHelpers=Chart.helpers.canvas;
},{"./charts/Chart.Bar":14,"./charts/Chart.Bubble":15,"./charts/Chart.Doughnut":16,"./charts/Chart.Line":17,"./charts/Chart.PolarArea":18,"./charts/Chart.Radar":19,"./charts/Chart.Scatter":20,"./controllers/controller.bar":21,"./controllers/controller.bubble":22,"./controllers/controller.doughnut":23,"./controllers/controller.line":24,"./controllers/controller.polarArea":25,"./controllers/controller.radar":26,"./controllers/controller.scatter":27,"./core/core":35,"./core/core.animation":28,"./core/core.controller":29,"./core/core.datasetController":30,"./core/core.defaults":31,"./core/core.element":32,"./core/core.helpers":33,"./core/core.interaction":34,"./core/core.layoutService":36,"./core/core.plugin":37,"./core/core.scale":38,"./core/core.scaleService":39,"./core/core.tooltip":41,"./elements/index":46,"./helpers/index":51,"./platforms/platform":54,"./plugins/plugin.filler":55,"./plugins/plugin.legend":56,"./plugins/plugin.title":57,"./scales/scale.category":58,"./scales/scale.linear":59,"./scales/scale.linearbase":60,"./scales/scale.logarithmic":61,"./scales/scale.radialLinear":62,"./scales/scale.time":63}],"form-serialize":[function(require,module,exports){
function serialize(e,s){"object"!=typeof s?s={hash:!!s}:void 0===s.hash&&(s.hash=!0);for(var a=s.hash?{}:"",r=s.serializer||(s.hash?hash_serializer:str_serialize),t=e&&e.elements?e.elements:[],i=Object.create(null),n=0;n<t.length;++n){var h=t[n];if((s.disabled||!h.disabled)&&h.name&&k_r_success_contrls.test(h.nodeName)&&!k_r_submitter.test(h.type)){var l=h.name,c=h.value;if("checkbox"!==h.type&&"radio"!==h.type||h.checked||(c=void 0),s.empty){if("checkbox"!==h.type||h.checked||(c=""),"radio"===h.type&&(i[h.name]||h.checked?h.checked&&(i[h.name]=!0):i[h.name]=!1),void 0==c&&"radio"==h.type)continue}else if(!c)continue;if("select-multiple"!==h.type)a=r(a,l,c);else{c=[];for(var u=h.options,o=!1,p=0;p<u.length;++p){var _=u[p],v=s.empty&&!_.value,f=_.value||v;_.selected&&f&&(o=!0,a=s.hash&&"[]"!==l.slice(l.length-2)?r(a,l+"[]",_.value):r(a,l,_.value))}!o&&s.empty&&(a=r(a,l,""))}}}if(s.empty)for(var l in i)i[l]||(a=r(a,l,""));return a}function parse_keys(e){var s=[],a=/^([^\[\]]*)/,r=new RegExp(brackets),t=a.exec(e);for(t[1]&&s.push(t[1]);null!==(t=r.exec(e));)s.push(t[1]);return s}function hash_assign(e,s,a){if(0===s.length)return e=a;var r=s.shift(),t=r.match(/^\[(.+?)\]$/);if("[]"===r)return e=e||[],Array.isArray(e)?e.push(hash_assign(null,s,a)):(e._values=e._values||[],e._values.push(hash_assign(null,s,a))),e;if(t){var i=t[1],n=+i;isNaN(n)?(e=e||{},e[i]=hash_assign(e[i],s,a)):(e=e||[],e[n]=hash_assign(e[n],s,a))}else e[r]=hash_assign(e[r],s,a);return e}function hash_serializer(e,s,a){var r=s.match(brackets);if(r){var t=parse_keys(s);hash_assign(e,t,a)}else{var i=e[s];i?(Array.isArray(i)||(e[s]=[i]),e[s].push(a)):e[s]=a}return e}function str_serialize(e,s,a){return a=a.replace(/(\r)?\n/g,"\r\n"),a=encodeURIComponent(a),a=a.replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(s)+"="+a}var k_r_submitter=/^(?:submit|button|image|reset|file)$/i,k_r_success_contrls=/^(?:input|select|textarea|keygen)/i,brackets=/(\[[^\[\]]*\])/g;module.exports=serialize;
},{}],"jquery-ui/ui/data":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(n){return function(t){return!!e.data(t,n)}}):function(n,t,r){return!!e.data(n,r[3])}})});
},{}],"jquery-ui/ui/ie":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())});
},{}],"jquery-ui/ui/plugin":[function(require,module,exports){
!function(n){"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)}(function(n){return n.ui.plugin={add:function(e,i,o){var t,u=n.ui[e].prototype;for(t in o)u.plugins[t]=u.plugins[t]||[],u.plugins[t].push([i,o[t]])},call:function(n,e,i,o){var t,u=n.plugins[e];if(u&&(o||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(t=0;t<u.length;t++)n.options[u[t][0]]&&u[t][1].apply(n.element,i)}}});
},{}],"jquery-ui/ui/safe-active-element":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeActiveElement=function(e){var n;try{n=e.activeElement}catch(t){n=e.body}return n||(n=e.body),n.nodeName||(n=e.body),n}});
},{}],"jquery-ui/ui/safe-blur":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeBlur=function(n){n&&"body"!==n.nodeName.toLowerCase()&&e(n).trigger("blur")}});
},{}],"jquery-ui/ui/scroll-parent":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.scrollParent=function(t){var n=this.css("position"),o="absolute"===n,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter(function(){var t=e(this);return(!o||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:e(this[0].ownerDocument||document)}});
},{}],"jquery-ui/ui/version":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"});
},{}],"jquery-ui/ui/widgets/draggable":[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var s=this.options;return!(this.helper||s.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(s.iframeFix===!0?"iframe":s.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var s=t.ui.safeActiveElement(this.document[0]),i=t(e.target);i.closest(s).length||t.ui.safeBlur(s)},_mouseStart:function(e){var s=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var s=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",e)!==!1&&s._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var s=this.options,i=t.isFunction(s.helper),o=i?t(s.helper.apply(this.element[0],[e])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),s=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==s&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,i,o=this.options,n=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),s=t(o.containment),i=s[0],void(i&&(e=/(scroll|auto)/.test(s.css("overflow")),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var s="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i,o,n,r=this.options,l=this._isRootNode(this.scrollParent[0]),a=t.pageX,h=t.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(a=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(a=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(a=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,s,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[s,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,s,i){var o=t.extend({},s,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var s=t(this).sortable("instance");s&&!s.options.disabled&&(i.sortables.push(s),s.refreshPositions(),s._trigger("activate",e,o))})},stop:function(e,s,i){var o=t.extend({},s,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))})},drag:function(e,s,i){t.each(i.sortables,function(){var o=!1,n=this;n.positionAbs=i.positionAbs,n.helperProportions=i.helperProportions,n.offset.click=i.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o})),o?(n.isOver||(n.isOver=1,i._parent=s.helper.parent(),n.currentItem=s.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return s.helper[0]},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=i.offset.click.top,n.offset.click.left=i.offset.click.left,n.offset.parent.left-=i.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=i.offset.parent.top-n.offset.parent.top,i._trigger("toSortable",e),i.dropped=n.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,n.fromOutside=i),n.currentItem&&(n._mouseDrag(e),s.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),s.helper.appendTo(i._parent),i._refreshOffsets(e),s.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,s,i){var o=t("body"),n=i.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,s,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,s,i){var o=i.options;o._opacity&&t(s.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,s,i){var o=i.options,n=!1,r=i.scrollParentNotHidden[0],l=i.document[0];r!==l&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(l).scrollTop()<o.scrollSensitivity?n=t(l).scrollTop(t(l).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(l).scrollTop())<o.scrollSensitivity&&(n=t(l).scrollTop(t(l).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(l).scrollLeft()<o.scrollSensitivity?n=t(l).scrollLeft(t(l).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(l).scrollLeft())<o.scrollSensitivity&&(n=t(l).scrollLeft(t(l).scrollLeft()+o.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,s,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),s=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:s.top,left:s.left})})},drag:function(e,s,i){var o,n,r,l,a,h,p,c,f,d,g=i.options,u=g.snapTolerance,m=s.offset.left,v=m+i.helperProportions.width,_=s.offset.top,P=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)a=i.snapElements[f].left-i.margins.left,h=a+i.snapElements[f].width,p=i.snapElements[f].top-i.margins.top,c=p+i.snapElements[f].height,v<a-u||m>h+u||P<p-u||_>c+u||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==g.snapMode&&(o=Math.abs(p-P)<=u,n=Math.abs(c-_)<=u,r=Math.abs(a-v)<=u,l=Math.abs(h-m)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h}).left)),d=o||n||r||l,"outer"!==g.snapMode&&(o=Math.abs(p-_)<=u,n=Math.abs(c-P)<=u,r=Math.abs(a-m)<=u,l=Math.abs(h-v)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(o||n||r||l||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=o||n||r||l||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,s,i){var o,n=i.options,r=t.makeArray(t(n.stack)).sort(function(e,s){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(s).css("zIndex"),10)||0)});r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,s,i){var o=i.options;o._zIndex&&t(s.helper).css("zIndex",o._zIndex)}}),t.ui.draggable});
},{}],"jquery-ui/ui/widgets/mouse":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,o=1===i.which,n=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(o&&!n&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})});
},{}],"jquery-ui/ui/widgets/sortable":[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,r.widgetName+"-item")===r)return s=t(this),!1}),t.data(e.target,r.widgetName+"-item")===r&&(s=t(e.target)),!!s&&(!(this.options.handle&&!i&&(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(o=!0)}),!o))&&(this.currentItem=s,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,s){var o,r,n=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),n.containment&&this._setContainment(),n.cursor&&"auto"!==n.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",n.cursor),this.storedStylesheet=t("<style>*{ cursor: "+n.cursor+" !important; }</style>").appendTo(r)),n.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",n.opacity)),n.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",n.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,o,r,n=this.options,h=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(e.pageY-this.document.scrollTop()<n.scrollSensitivity?h=this.document.scrollTop(this.document.scrollTop()-n.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<n.scrollSensitivity&&(h=this.document.scrollTop(this.document.scrollTop()+n.scrollSpeed)),e.pageX-this.document.scrollLeft()<n.scrollSensitivity?h=this.document.scrollLeft(this.document.scrollLeft()-n.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<n.scrollSensitivity&&(h=this.document.scrollLeft(this.document.scrollLeft()+n.scrollSpeed))),h!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],o=s.item[0],r=this._intersectsWithPointer(s),r&&s.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===o||t.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,o=this.placeholder.offset(),r=this.options.axis,n={};r&&"x"!==r||(n.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(n.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(n,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,o=s+this.helperProportions.height,r=t.left,n=r+t.width,h=t.top,a=h+t.height,l=this.offset.click.top,c=this.offset.click.left,p="x"===this.options.axis||s+l>h&&s+l<a,f="y"===this.options.axis||e+c>r&&e+c<n,u=p&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?u:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<n&&h<s+this.helperProportions.height/2&&o-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=s&&o;return!!r&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){h.push(this)}var s,o,r,n,h=[],a=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(r=t(l[s],this.document[0]),o=r.length-1;o>=0;o--)n=t.data(r[o],this.widgetFullName),n&&n!==this&&!n.options.disabled&&a.push([t.isFunction(n.options.items)?n.options.items.call(n.element):t(n.options.items,n.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),n]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=a.length-1;s>=0;s--)a[s][0].each(i);return t(h)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,o,r,n,h,a,l,c=this.items,p=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(i=f.length-1;i>=0;i--)for(o=t(f[i],this.document[0]),s=o.length-1;s>=0;s--)r=t.data(o[s],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(p.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(i=p.length-1;i>=0;i--)for(n=p[i][1],h=p[i][0],s=0,l=h.length;s<l;s++)a=t(h[s]),a.data(this.widgetName+"-item",n),c.push({item:a,instance:n,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,o,r;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=o.outerWidth(),s.height=o.outerHeight()),r=o.offset(),s.left=r.left,s.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+s+">",e.document[0]);return e._addClass(o,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(o)):"tr"===s?e._createTrPlaceholder(e.currentItem,o):"img"===s&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(t,o){i&&!s.forcePlaceholderSize||(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,o,r,n,h,a,l,c,p,f=null,u=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(f&&t.contains(this.containers[i].element[0],f.element[0]))continue;f=this.containers[i],u=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[u].containerCache.over||(this.containers[u]._trigger("over",e,this._uiHash(this)),this.containers[u].containerCache.over=1);else{for(o=1e4,r=null,c=f.floating||this._isFloating(this.currentItem),n=c?"left":"top",h=c?"width":"height",p=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[u].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(a=this.items[s].item.offset()[n],l=!1,e[p]-a>this.items[s][h]/2&&(l=!0),Math.abs(e[p]-a)<o&&(o=Math.abs(e[p]-a),r=this.items[s],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[u])return void(this.currentContainer.containerCache.over||(this.containers[u]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[u].element,!0),this._trigger("change",e,this._uiHash()),this.containers[u]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[u],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[u]._trigger("over",e,this._uiHash(this)),this.containers[u].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),s[0].style.width&&!i.forceHelperSize||s.width(this.currentItem.width()),s[0].style.height&&!i.forceHelperSize||s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],i=t(o.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*s}},_generatePosition:function(e){var i,s,o=this.options,r=e.pageX,n=e.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(n=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(n=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((n-this.originalPageY)/o.grid[1])*o.grid[1],n=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,s=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-o.grid[0]:s+o.grid[0]:s)),{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:h.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:h.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)"auto"!==this._storedCSS[s]&&"static"!==this._storedCSS[s]||(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||o.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(o.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;s<o.length;s++)o[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})});
},{}],"jquery-ui/ui/widget":[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){var e=0,i=Array.prototype.slice;return t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0];e=e.split(".")[1];var u=l+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?void(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(r[e]=s)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var s,n,o=i.call(arguments,1),a=0,r=o.length;a<r;a++)for(s in o[a])n=o[a][s],o[a].hasOwnProperty(s)&&void 0!==n&&(t.isPlainObject(n)?e[s]=t.isPlainObject(e[s])?t.widget.extend({},e[s],n):t.widget.extend({},n):e[s]=n);return e},t.widget.bridge=function(e,s){var n=s.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=i.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var i,s=t.data(this,n);return"instance"===o?(l=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r),i!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each(function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new s(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;r<i.length;r++)a=n.classesElementLookup[i[r]]||t(),a=t(e.add?t.unique(a.get().concat(e.element.get())):a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){t.inArray(e.target,n)!==-1&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?n.on(u,h,r):i.on(u,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget});
},{}],"jquery.cookie":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function o(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(c," ")),u.json?JSON.parse(e):e}catch(n){}}function t(n,o){var i=u.raw?n:r(n);return e.isFunction(o)?o(i):i}var c=/\+/g,u=e.cookie=function(r,c,f){if(void 0!==c&&!e.isFunction(c)){if(f=e.extend({},u.defaults,f),"number"==typeof f.expires){var a=f.expires,d=f.expires=new Date;d.setTime(+d+864e5*a)}return document.cookie=[n(r),"=",i(c),f.expires?"; expires="+f.expires.toUTCString():"",f.path?"; path="+f.path:"",f.domain?"; domain="+f.domain:"",f.secure?"; secure":""].join("")}for(var p=r?void 0:{},s=document.cookie?document.cookie.split("; "):[],m=0,x=s.length;m<x;m++){var v=s[m].split("="),k=o(v.shift()),l=v.join("=");if(r&&r===k){p=t(l,c);break}r||void 0===(l=t(l))||(p[k]=l)}return p};u.defaults={},e.removeCookie=function(n,o){return void 0!==e.cookie(n)&&(e.cookie(n,"",e.extend({},o,{expires:-1})),!e.cookie(n))}});
},{"jquery":"jquery"}],"jquery":[function(require,module,exports){
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){t=t||ae;var r,i=t.createElement("script");if(i.text=e,n)for(r in be)n[r]&&(i[r]=n[r]);t.head.appendChild(i).parentNode.removeChild(i)}function r(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?pe[de.call(e)]||"object":typeof e}function i(e){var t=!!e&&"length"in e&&e.length,n=r(e);return!me(e)&&!xe(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function a(e,t,n){return me(t)?Te.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?Te.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Te.grep(e,function(e){return fe.call(t,e)>-1!==n}):Te.filter(t,e,n)}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return Te.each(e.match(Oe)||[],function(e,n){t[n]=!0}),t}function l(e){return e}function c(e){throw e}function f(e,t,n,r){var i;try{e&&me(i=e.promise)?i.call(e).done(t).fail(n):e&&me(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function p(){ae.removeEventListener("DOMContentLoaded",p),e.removeEventListener("load",p),Te.ready()}function d(e,t){return t.toUpperCase()}function h(e){return e.replace(Ie,"ms-").replace(We,d)}function g(){this.expando=Te.expando+g.uid++}function y(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:_e.test(e)?JSON.parse(e):e)}function v(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(ze,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=y(n)}catch(i){}Fe.set(e,t,n)}else n=void 0;return n}function m(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return Te.css(e,t,"")},u=s(),l=n&&n[3]||(Te.cssNumber[t]?"":"px"),c=(Te.cssNumber[t]||"px"!==l&&+u)&&Ue.exec(Te.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)Te.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c=2*c,Te.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function x(e){var t,n=e.ownerDocument,r=e.nodeName,i=Qe[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=Te.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Qe[r]=i,i)}function b(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=Be.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Ge(r)&&(i[o]=x(r))):"none"!==n&&(i[o]="none",Be.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function w(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&o(e,t)?Te.merge([e],n):n}function T(e,t){for(var n=0,r=e.length;n<r;n++)Be.set(e[n],"globalEval",!t||Be.get(t[n],"globalEval"))}function C(e,t,n,i,o){for(var a,s,u,l,c,f,p=t.createDocumentFragment(),d=[],h=0,g=e.length;h<g;h++)if(a=e[h],a||0===a)if("object"===r(a))Te.merge(d,a.nodeType?[a]:a);else if(tt.test(a)){for(s=s||p.appendChild(t.createElement("div")),u=(Ke.exec(a)||["",""])[1].toLowerCase(),l=et[u]||et._default,s.innerHTML=l[1]+Te.htmlPrefilter(a)+l[2],f=l[0];f--;)s=s.lastChild;Te.merge(d,s.childNodes),s=p.firstChild,s.textContent=""}else d.push(t.createTextNode(a));for(p.textContent="",h=0;a=d[h++];)if(i&&Te.inArray(a,i)>-1)o&&o.push(a);else if(c=Te.contains(a.ownerDocument,a),s=w(p.appendChild(a),"script"),c&&T(s),n)for(f=0;a=s[f++];)Ze.test(a.type||"")&&n.push(a);return p}function E(){return!0}function k(){return!1}function S(){try{return ae.activeElement}catch(e){}}function D(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)D(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=k;else if(!i)return e;return 1===o&&(a=i,i=function(e){return Te().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=Te.guid++)),e.each(function(){Te.event.add(this,t,i,r,n)})}function N(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")?Te(e).children("tbody")[0]||e:e}function A(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function j(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function q(e,t){var n,r,i,o,a,s,u,l;if(1===t.nodeType){if(Be.hasData(e)&&(o=Be.access(e),a=Be.set(t,o),l=o.events)){delete a.handle,a.events={};for(i in l)for(n=0,r=l[i].length;n<r;n++)Te.event.add(t,i,l[i][n])}Fe.hasData(e)&&(s=Fe.access(e),u=Te.extend({},s),Fe.set(t,u))}}function L(e,t){var n=t.nodeName.toLowerCase();"input"===n&&Je.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function H(e,t,r,i){t=le.apply([],t);var o,a,s,u,l,c,f=0,p=e.length,d=p-1,h=t[0],g=me(h);if(g||p>1&&"string"==typeof h&&!ve.checkClone&&ut.test(h))return e.each(function(n){var o=e.eq(n);g&&(t[0]=h.call(this,n,o.html())),H(o,t,r,i)});if(p&&(o=C(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=Te.map(w(o,"script"),A),u=s.length;f<p;f++)l=o,f!==d&&(l=Te.clone(l,!0,!0),u&&Te.merge(s,w(l,"script"))),r.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,Te.map(s,j),f=0;f<u;f++)l=s[f],Ze.test(l.type||"")&&!Be.access(l,"globalEval")&&Te.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?Te._evalUrl&&Te._evalUrl(l.src):n(l.textContent.replace(lt,""),c,l))}return e}function O(e,t,n){for(var r,i=t?Te.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||Te.cleanData(w(r)),r.parentNode&&(n&&Te.contains(r.ownerDocument,r)&&T(w(r,"script")),r.parentNode.removeChild(r));return e}function P(e,t,n){var r,i,o,a,s=e.style;return n=n||ft(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||Te.contains(e.ownerDocument,e)||(a=Te.style(e,t)),!ve.pixelBoxStyles()&&ct.test(a)&&pt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function M(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function R(e){if(e in mt)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=vt.length;n--;)if(e=vt[n]+t,e in mt)return e}function I(e){var t=Te.cssProps[e];return t||(t=Te.cssProps[e]=R(e)||e),t}function W(e,t,n){var r=Ue.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function $(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=Te.css(e,n+Ve[a],!0,i)),r?("content"===n&&(u-=Te.css(e,"padding"+Ve[a],!0,i)),"margin"!==n&&(u-=Te.css(e,"border"+Ve[a]+"Width",!0,i))):(u+=Te.css(e,"padding"+Ve[a],!0,i),"padding"!==n?u+=Te.css(e,"border"+Ve[a]+"Width",!0,i):s+=Te.css(e,"border"+Ve[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))),u}function B(e,t,n){var r=ft(e),i=P(e,t,r),o="border-box"===Te.css(e,"boxSizing",!1,r),a=o;if(ct.test(i)){if(!n)return i;i="auto"}return a=a&&(ve.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===Te.css(e,"display",!1,r))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],a=!0),i=parseFloat(i)||0,i+$(e,t,n||(o?"border":"content"),a,r,i)+"px"}function F(e,t,n,r,i){return new F.prototype.init(e,t,n,r,i)}function _(){bt&&(ae.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(_):e.setTimeout(_,Te.fx.interval),Te.fx.tick())}function z(){return e.setTimeout(function(){xt=void 0}),xt=Date.now()}function X(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Ve[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function U(e,t,n){for(var r,i=(Y.tweeners[t]||[]).concat(Y.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function V(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&Ge(e),y=Be.get(e,"fxshow");n.queue||(a=Te._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,Te.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],wt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!y||void 0===y[r])continue;g=!0}d[r]=y&&y[r]||Te.style(e,r)}if(u=!Te.isEmptyObject(t),u||!Te.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=y&&y.display,null==l&&(l=Be.get(e,"display")),c=Te.css(e,"display"),"none"===c&&(l?c=l:(b([e],!0),l=e.style.display||l,c=Te.css(e,"display"),b([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===Te.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(y?"hidden"in y&&(g=y.hidden):y=Be.access(e,"fxshow",{display:l}),o&&(y.hidden=!g),g&&b([e],!0),p.done(function(){g||b([e]),Be.remove(e,"fxshow");for(r in d)Te.style(e,r,d[r])})),u=U(g?y[r]:0,r,p),r in y||(y[r]=u.start,g&&(u.end=u.start,u.start=0))}}function G(e,t){var n,r,i,o,a;for(n in e)if(r=h(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=Te.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function Y(e,t,n){var r,i,o=0,a=Y.prefilters.length,s=Te.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=xt||z(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(u||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Te.extend({},t),opts:Te.extend(!0,{specialEasing:{},easing:Te.easing._default},n),originalProperties:t,originalOptions:n,startTime:xt||z(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Te.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(G(c,l.opts.specialEasing);o<a;o++)if(r=Y.prefilters[o].call(l,e,c,l.opts))return me(r.stop)&&(Te._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return Te.map(c,U,l),me(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),Te.fx.timer(Te.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}function Q(e){var t=e.match(Oe)||[];return t.join(" ")}function J(e){return e.getAttribute&&e.getAttribute("class")||""}function K(e){return Array.isArray(e)?e:"string"==typeof e?e.match(Oe)||[]:[]}function Z(e,t,n,i){var o;if(Array.isArray(t))Te.each(t,function(t,r){n||Ht.test(e)?i(e,r):Z(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==r(t))i(e,t);else for(o in t)Z(e+"["+o+"]",t[o],n,i)}function ee(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Oe)||[];if(me(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function te(e,t,n,r){function i(s){var u;return o[s]=!0,Te.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Xt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function ne(e,t){var n,r,i=Te.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Te.extend(!0,e,r),e}function re(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function ie(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}var oe=[],ae=e.document,se=Object.getPrototypeOf,ue=oe.slice,le=oe.concat,ce=oe.push,fe=oe.indexOf,pe={},de=pe.toString,he=pe.hasOwnProperty,ge=he.toString,ye=ge.call(Object),ve={},me=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},xe=function(e){return null!=e&&e===e.window},be={type:!0,src:!0,noModule:!0},we="3.3.1",Te=function(e,t){return new Te.fn.init(e,t)},Ce=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Te.fn=Te.prototype={jquery:we,constructor:Te,length:0,toArray:function(){return ue.call(this)},get:function(e){return null==e?ue.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Te.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Te.each(this,e)},map:function(e){return this.pushStack(Te.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(ue.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:ce,sort:oe.sort,splice:oe.splice},Te.extend=Te.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||me(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],r=e[t],a!==r&&(l&&r&&(Te.isPlainObject(r)||(i=Array.isArray(r)))?(i?(i=!1,o=n&&Array.isArray(n)?n:[]):o=n&&Te.isPlainObject(n)?n:{},a[t]=Te.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},Te.extend({expando:"jQuery"+(we+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==de.call(e))&&(!(t=se(e))||(n=he.call(t,"constructor")&&t.constructor,"function"==typeof n&&ge.call(n)===ye))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){n(e)},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},trim:function(e){return null==e?"":(e+"").replace(Ce,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?Te.merge(n,"string"==typeof e?[e]:e):ce.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:fe.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,o,a=0,s=[];if(i(e))for(r=e.length;a<r;a++)o=t(e[a],a,n),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,n),null!=o&&s.push(o);return le.apply([],s)},guid:1,support:ve}),"function"==typeof Symbol&&(Te.fn[Symbol.iterator]=oe[Symbol.iterator]),Te.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){pe["[object "+t+"]"]=t.toLowerCase()});var Ee=function(e){function t(e,t,n,r){var i,o,a,s,u,l,c,p=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&((t?t.ownerDocument||t:B)!==H&&L(t),t=t||H,P)){if(11!==h&&(u=ve.exec(e)))if(i=u[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(p&&(a=p.getElementById(i))&&W(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return K.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&T.getElementsByClassName&&t.getElementsByClassName)return K.apply(n,t.getElementsByClassName(i)),n}if(T.qsa&&!U[e+" "]&&(!M||!M.test(e))){if(1!==h)p=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((s=t.getAttribute("id"))?s=s.replace(we,Te):t.setAttribute("id",s=$),l=S(e),o=l.length;o--;)l[o]="#"+s+" "+d(l[o]);c=l.join(","),p=me.test(e)&&f(t.parentNode)||t}if(c)try{return K.apply(n,p.querySelectorAll(c)),n}catch(g){}finally{s===$&&t.removeAttribute("id")}}}return N(e.replace(se,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[$]=!0,e}function i(e){var t=H.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)C.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&Ee(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function f(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=_++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[F,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[$]||(t[$]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===F&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function g(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function y(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function v(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function m(e,t,n,i,o,a){return i&&!i[$]&&(i=m(i)),o&&!o[$]&&(o=m(o,a)),r(function(r,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=r||y(t||"*",s.nodeType?[s]:s,[]),m=!e||!r&&t?g:v(g,p,e,s,u),x=n?o||(r?e:h||i)?[]:a:m;if(n&&n(m,x,s,u),i)for(l=v(x,d),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(m[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(m[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?ee(r,f):p[c])>-1&&(r[l]=!(a[l]=f))}}else x=v(x===a?x.splice(h,x.length):x),o?o(null,a,x,u):K.apply(a,x)})}function x(e){for(var t,n,r,i=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,u=h(function(e){return e===t},a,!0),l=h(function(e){return ee(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==A)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=C.relative[e[s].type])c=[h(g(c),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[$]){for(r=++s;r<i&&!C.relative[e[r].type];r++);return m(s>1&&g(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(se,"$1"),n,s<r&&x(e.slice(s,r)),r<i&&x(e=e.slice(r)),r<i&&d(e))}c.push(n)}return g(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,f,p,d=0,h="0",g=r&&[],y=[],m=A,x=r||o&&C.find.TAG("*",l),b=F+=null==m?1:Math.random()||.1,w=x.length;for(l&&(A=a===H||a||l);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0,a||c.ownerDocument===H||(L(c),s=!P);p=e[f++];)if(p(c,a||H,s)){u.push(c);break}l&&(F=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,y,a,s);if(r){if(d>0)for(;h--;)g[h]||y[h]||(y[h]=Q.call(u));y=v(y)}K.apply(u,y),l&&!r&&y.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&(F=b,A=m),g};return i?r(a):a}var w,T,C,E,k,S,D,N,A,j,q,L,H,O,P,M,R,I,W,$="sizzle"+1*new Date,B=e.document,F=0,_=0,z=n(),X=n(),U=n(),V=function(e,t){return e===t&&(q=!0),0},G={}.hasOwnProperty,Y=[],Q=Y.pop,J=Y.push,K=Y.push,Z=Y.slice,ee=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},te="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ne="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",ie="\\["+ne+"*("+re+")(?:"+ne+"*([*^$|!~]?=)"+ne+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+re+"))|)"+ne+"*\\]",oe=":("+re+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ie+")*)|.*)\\)|)",ae=new RegExp(ne+"+","g"),se=new RegExp("^"+ne+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ne+"+$","g"),ue=new RegExp("^"+ne+"*,"+ne+"*"),le=new RegExp("^"+ne+"*([>+~]|"+ne+")"+ne+"*"),ce=new RegExp("="+ne+"*([^\\]'\"]*?)"+ne+"*\\]","g"),fe=new RegExp(oe),pe=new RegExp("^"+re+"$"),de={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re+"|[*])"),ATTR:new RegExp("^"+ie),PSEUDO:new RegExp("^"+oe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ne+"*(even|odd|(([+-]|)(\\d*)n|)"+ne+"*(?:([+-]|)"+ne+"*(\\d+)|))"+ne+"*\\)|)","i"),bool:new RegExp("^(?:"+te+")$","i"),needsContext:new RegExp("^"+ne+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ne+"*((?:-\\d)?\\d*)"+ne+"*\\)|)(?=[^-]|$)","i")},he=/^(?:input|select|textarea|button)$/i,ge=/^h\d$/i,ye=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,me=/[+~]/,xe=new RegExp("\\\\([\\da-f]{1,6}"+ne+"?|("+ne+")|.)","ig"),be=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},we=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Te=function(e,t){return t?"\0"===e?"":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Ce=function(){L()},Ee=h(function(e){return e.disabled===!0&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{K.apply(Y=Z.call(B.childNodes),B.childNodes),Y[B.childNodes.length].nodeType}catch(ke){K={apply:Y.length?function(e,t){J.apply(e,Z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}T=t.support={},k=t.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!==H&&9===r.nodeType&&r.documentElement?(H=r,O=H.documentElement,P=!k(H),B!==H&&(n=H.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Ce,!1):n.attachEvent&&n.attachEvent("onunload",Ce)),T.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=i(function(e){return e.appendChild(H.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=ye.test(H.getElementsByClassName),T.getById=i(function(e){return O.appendChild(e).id=$,!H.getElementsByName||!H.getElementsByName($).length}),T.getById?(C.filter.ID=function(e){var t=e.replace(xe,be);return function(e){return e.getAttribute("id")===t}},C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}}):(C.filter.ID=function(e){var t=e.replace(xe,be);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),C.find.TAG=T.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):T.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=T.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&P)return t.getElementsByClassName(e)},R=[],M=[],(T.qsa=ye.test(H.querySelectorAll))&&(i(function(e){O.appendChild(e).innerHTML="<a id='"+$+"'></a><select id='"+$+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&M.push("[*^$]="+ne+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||M.push("\\["+ne+"*(?:value|"+te+")"),e.querySelectorAll("[id~="+$+"-]").length||M.push("~="),e.querySelectorAll(":checked").length||M.push(":checked"),e.querySelectorAll("a#"+$+"+*").length||M.push(".#.+[+~]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=H.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&M.push("name"+ne+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&M.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&M.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),M.push(",.*:")})),(T.matchesSelector=ye.test(I=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(e){T.disconnectedMatch=I.call(e,"*"),I.call(e,"[s!='']:x"),R.push("!=",oe)}),M=M.length&&new RegExp(M.join("|")),R=R.length&&new RegExp(R.join("|")),t=ye.test(O.compareDocumentPosition),W=t||ye.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},V=t?function(e,t){if(e===t)return q=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!T.sortDetached&&t.compareDocumentPosition(e)===n?e===H||e.ownerDocument===B&&W(B,e)?-1:t===H||t.ownerDocument===B&&W(B,t)?1:j?ee(j,e)-ee(j,t):0:4&n?-1:1)}:function(e,t){if(e===t)return q=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===H?-1:t===H?1:i?-1:o?1:j?ee(j,e)-ee(j,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]===B?-1:u[r]===B?1:0},H):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if((e.ownerDocument||e)!==H&&L(e),n=n.replace(ce,"='$1']"),T.matchesSelector&&P&&!U[n+" "]&&(!R||!R.test(n))&&(!M||!M.test(n)))try{var r=I.call(e,n);if(r||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),W(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!==H&&L(e);var n=C.attrHandle[t.toLowerCase()],r=n&&G.call(C.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==r?r:T.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(we,Te)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(q=!T.detectDuplicates,j=!T.sortStable&&e.slice(0),e.sort(V),q){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return j=null,e},E=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},C=t.selectors={cacheLength:50,createPseudo:r,match:de,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,be),e[3]=(e[3]||e[4]||e[5]||"").replace(xe,be),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return de.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&fe.test(n)&&(t=S(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,be).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+ne+")"+e+"("+ne+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(ae," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",y=t.parentNode,v=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(y){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===v:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?y.firstChild:y.lastChild],a&&m){for(p=y,f=p[$]||(p[$]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===F&&l[1],x=d&&l[2],p=d&&y.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[F,d,x];break}}else if(m&&(p=t,f=p[$]||(p[$]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===F&&l[1],x=d),x===!1)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==v:1!==p.nodeType)||!++x||(m&&(f=p[$]||(p[$]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),c[e]=[F,x]),p!==t)););return x-=i,x===r||x%r===0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[$]?o(n):o.length>1?(i=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=ee(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=D(e.replace(se,"$1"));return i[$]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(xe,be),function(t){return(t.textContent||t.innerText||E(t)).indexOf(e)>-1}}),lang:r(function(e){return pe.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(xe,be).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){
return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return ge.test(e.nodeName)},input:function(e){return he.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=u(w);return p.prototype=C.filters=C.pseudos,C.setFilters=new p,S=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=X[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=C.preFilter;s;){r&&!(i=ue.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=le.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(se," ")}),s=s.slice(r.length));for(a in C.filter)!(i=de[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):X(e,u).slice(0)},D=t.compile=function(e,t){var n,r=[],i=[],o=U[e+" "];if(!o){for(t||(t=S(e)),n=t.length;n--;)o=x(t[n]),o[$]?r.push(o):i.push(o);o=U(e,b(i,r)),o.selector=e}return o},N=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&S(e=l.selector||e);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&P&&C.relative[o[1].type]){if(t=(C.find.ID(a.matches[0].replace(xe,be),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=de.needsContext.test(e)?0:o.length;i--&&(a=o[i],!C.relative[s=a.type]);)if((u=C.find[s])&&(r=u(a.matches[0].replace(xe,be),me.test(o[0].type)&&f(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return K.apply(n,r),n;break}}return(l||D(e,c))(r,t,!P,n,!t||me.test(e)&&f(t.parentNode)||t),n},T.sortStable=$.split("").sort(V).join("")===$,T.detectDuplicates=!!q,L(),T.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(te,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Te.find=Ee,Te.expr=Ee.selectors,Te.expr[":"]=Te.expr.pseudos,Te.uniqueSort=Te.unique=Ee.uniqueSort,Te.text=Ee.getText,Te.isXMLDoc=Ee.isXML,Te.contains=Ee.contains,Te.escapeSelector=Ee.escape;var ke=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Te(e).is(n))break;r.push(e)}return r},Se=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},De=Te.expr.match.needsContext,Ne=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Te.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Te.find.matchesSelector(r,e)?[r]:[]:Te.find.matches(e,Te.grep(t,function(e){return 1===e.nodeType}))},Te.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(Te(e).filter(function(){for(t=0;t<r;t++)if(Te.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Te.find(e,i[t],n);return r>1?Te.uniqueSort(n):n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&De.test(e)?Te(e):e||[],!1).length}});var Ae,je=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,qe=Te.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||Ae,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:je.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Te?t[0]:t,Te.merge(this,Te.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:ae,!0)),Ne.test(r[1])&&Te.isPlainObject(t))for(r in t)me(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=ae.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):me(e)?void 0!==n.ready?n.ready(e):e(Te):Te.makeArray(e,this)};qe.prototype=Te.fn,Ae=Te(ae);var Le=/^(?:parents|prev(?:Until|All))/,He={children:!0,contents:!0,next:!0,prev:!0};Te.fn.extend({has:function(e){var t=Te(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Te.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&Te(e);if(!De.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Te.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Te.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?fe.call(Te(e),this[0]):fe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Te.uniqueSort(Te.merge(this.get(),Te(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Te.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ke(e,"parentNode")},parentsUntil:function(e,t,n){return ke(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return ke(e,"nextSibling")},prevAll:function(e){return ke(e,"previousSibling")},nextUntil:function(e,t,n){return ke(e,"nextSibling",n)},prevUntil:function(e,t,n){return ke(e,"previousSibling",n)},siblings:function(e){return Se((e.parentNode||{}).firstChild,e)},children:function(e){return Se(e.firstChild)},contents:function(e){return o(e,"iframe")?e.contentDocument:(o(e,"template")&&(e=e.content||e),Te.merge([],e.childNodes))}},function(e,t){Te.fn[e]=function(n,r){var i=Te.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Te.filter(r,i)),this.length>1&&(He[e]||Te.uniqueSort(i),Le.test(e)&&i.reverse()),this.pushStack(i)}});var Oe=/[^\x20\t\r\n\f]+/g;Te.Callbacks=function(e){e="string"==typeof e?u(e):Te.extend({},e);var t,n,i,o,a=[],s=[],l=-1,c=function(){for(o=o||e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},f={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function i(t){Te.each(t,function(t,n){me(n)?e.unique&&f.has(n)||a.push(n):n&&n.length&&"string"!==r(n)&&i(n)})}(arguments),n&&!t&&c()),this},remove:function(){return Te.each(arguments,function(e,t){for(var n;(n=Te.inArray(t,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(e){return e?Te.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||t||(a=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},Te.extend({Deferred:function(t){var n=[["notify","progress",Te.Callbacks("memory"),Te.Callbacks("memory"),2],["resolve","done",Te.Callbacks("once memory"),Te.Callbacks("once memory"),0,"resolved"],["reject","fail",Te.Callbacks("once memory"),Te.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return Te.Deferred(function(t){Te.each(n,function(n,r){var i=me(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&me(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var s=this,u=arguments,f=function(){var e,f;if(!(t<a)){if(e=r.apply(s,u),e===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==typeof e||"function"==typeof e)&&e.then,me(f)?i?f.call(e,o(a,n,l,i),o(a,n,c,i)):(a++,f.call(e,o(a,n,l,i),o(a,n,c,i),o(a,n,l,n.notifyWith))):(r!==l&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},p=i?f:function(){try{f()}catch(e){Te.Deferred.exceptionHook&&Te.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(r!==c&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?p():(Te.Deferred.getStackHook&&(p.stackTrace=Te.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return Te.Deferred(function(e){n[0][3].add(o(0,e,me(i)?i:l,e.notifyWith)),n[1][3].add(o(0,e,me(t)?t:l)),n[2][3].add(o(0,e,me(r)?r:c))}).promise()},promise:function(e){return null!=e?Te.extend(e,i):i}},o={};return Te.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=ue.call(arguments),o=Te.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?ue.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(f(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||me(i[n]&&i[n].then)))return o.then();for(;n--;)f(i[n],a(n),o.reject);return o.promise()}});var Pe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Te.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Pe.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},Te.readyException=function(t){e.setTimeout(function(){throw t})};var Me=Te.Deferred();Te.fn.ready=function(e){return Me.then(e)["catch"](function(e){Te.readyException(e)}),this},Te.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--Te.readyWait:Te.isReady)||(Te.isReady=!0,e!==!0&&--Te.readyWait>0||Me.resolveWith(ae,[Te]))}}),Te.ready.then=Me.then,"complete"===ae.readyState||"loading"!==ae.readyState&&!ae.documentElement.doScroll?e.setTimeout(Te.ready):(ae.addEventListener("DOMContentLoaded",p),e.addEventListener("load",p));var Re=function(e,t,n,i,o,a,s){var u=0,l=e.length,c=null==n;if("object"===r(n)){o=!0;for(u in n)Re(e,t,u,n[u],!0,a,s)}else if(void 0!==i&&(o=!0,me(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(Te(e),n)})),t))for(;u<l;u++)t(e[u],n,s?i:i.call(e[u],u,t(e[u],n)));return o?e:c?t.call(e):l?t(e[0],n):a},Ie=/^-ms-/,We=/-([a-z])/g,$e=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={cache:function(e){var t=e[this.expando];return t||(t={},$e(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[h(t)]=n;else for(r in t)i[h(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(h):(t=h(t),t=t in r?[t]:t.match(Oe)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||Te.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Te.isEmptyObject(t)}};var Be=new g,Fe=new g,_e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ze=/[A-Z]/g;Te.extend({hasData:function(e){return Fe.hasData(e)||Be.hasData(e)},data:function(e,t,n){return Fe.access(e,t,n)},removeData:function(e,t){Fe.remove(e,t)},_data:function(e,t,n){return Be.access(e,t,n)},_removeData:function(e,t){Be.remove(e,t)}}),Te.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=Fe.get(o),1===o.nodeType&&!Be.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=h(r.slice(5)),v(o,r,i[r])));Be.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){Fe.set(this,e)}):Re(this,function(t){var n;if(o&&void 0===t){if(n=Fe.get(o,e),void 0!==n)return n;if(n=v(o,e),void 0!==n)return n}else this.each(function(){Fe.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Fe.remove(this,e)})}}),Te.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=Be.get(e,t),n&&(!r||Array.isArray(n)?r=Be.access(e,t,Te.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Te.queue(e,t),r=n.length,i=n.shift(),o=Te._queueHooks(e,t),a=function(){Te.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Be.get(e,n)||Be.access(e,n,{empty:Te.Callbacks("once memory").add(function(){Be.remove(e,[t+"queue",n])})})}}),Te.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Te.queue(this[0],e):void 0===t?this:this.each(function(){var n=Te.queue(this,e,t);Te._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Te.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Te.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Te.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=Be.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ue=new RegExp("^(?:([+-])=|)("+Xe+")([a-z%]*)$","i"),Ve=["Top","Right","Bottom","Left"],Ge=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Te.contains(e.ownerDocument,e)&&"none"===Te.css(e,"display")},Ye=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];i=n.apply(e,r||[]);for(o in t)e.style[o]=a[o];return i},Qe={};Te.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ge(this)?Te(this).show():Te(this).hide()})}});var Je=/^(?:checkbox|radio)$/i,Ke=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,Ze=/^$|^module$|\/(?:java|ecma)script/i,et={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};et.optgroup=et.option,et.tbody=et.tfoot=et.colgroup=et.caption=et.thead,et.th=et.td;var tt=/<|&#?\w+;/;!function(){var e=ae.createDocumentFragment(),t=e.appendChild(ae.createElement("div")),n=ae.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),ve.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",ve.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue}();var nt=ae.documentElement,rt=/^key/,it=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ot=/^([^.]*)(?:\.(.+)|)/;Te.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Be.get(e);if(y)for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&Te.find.matchesSelector(nt,i),n.guid||(n.guid=Te.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return"undefined"!=typeof Te&&Te.event.triggered!==t.type?Te.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Oe)||[""],l=t.length;l--;)s=ot.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d&&(f=Te.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Te.event.special[d]||{},c=Te.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Te.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Te.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,y=Be.hasData(e)&&Be.get(e);if(y&&(u=y.events)){for(t=(t||"").match(Oe)||[""],l=t.length;l--;)if(s=ot.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(f=Te.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&f.teardown.call(e,h,y.handle)!==!1||Te.removeEvent(e,d,y.handle),delete u[d])}else for(d in u)Te.event.remove(e,d+t[l],n,r,!0);Te.isEmptyObject(u)&&Be.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=Te.event.fix(e),u=new Array(arguments.length),l=(Be.get(this,"events")||{})[s.type]||[],c=Te.event.special[s.type]||{};for(u[0]=s,t=1;t<arguments.length;t++)u[t]=arguments[t];if(s.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,s)!==!1){for(a=Te.event.handlers.call(this,s,l),t=0;(i=a[t++])&&!s.isPropagationStopped();)for(s.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!s.isImmediatePropagationStopped();)s.rnamespace&&!s.rnamespace.test(o.namespace)||(s.handleObj=o,s.data=o.data,r=((Te.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,u),void 0!==r&&(s.result=r)===!1&&(s.preventDefault(),s.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,s),s.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||l.disabled!==!0)){for(o=[],a={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?Te(i,this).index(l)>-1:Te.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(Te.Event.prototype,e,{enumerable:!0,configurable:!0,get:me(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Te.expando]?e:new Te.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==S()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===S()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&o(this,"input"))return this.click(),!1},_default:function(e){return o(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Te.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Te.Event=function(e,t){return this instanceof Te.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?E:k,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Te.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),void(this[Te.expando]=!0)):new Te.Event(e,t)},Te.Event.prototype={constructor:Te.Event,isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=E,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=E,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=E,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Te.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&rt.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&it.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},Te.event.addProp),Te.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Te.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||Te.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Te.fn.extend({on:function(e,t,n,r){return D(this,e,t,n,r)},one:function(e,t,n,r){return D(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Te(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=k),this.each(function(){Te.event.remove(this,e,n,t)})}});var at=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,st=/<script|<style|<link/i,ut=/checked\s*(?:[^=]|=\s*.checked.)/i,lt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Te.extend({htmlPrefilter:function(e){return e.replace(at,"<$1></$2>")},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=Te.contains(e.ownerDocument,e);if(!(ve.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Te.isXMLDoc(e)))for(a=w(s),o=w(e),r=0,i=o.length;r<i;r++)L(o[r],a[r]);if(t)if(n)for(o=o||w(e),a=a||w(s),r=0,i=o.length;r<i;r++)q(o[r],a[r]);else q(e,s);return a=w(s,"script"),a.length>0&&T(a,!u&&w(e,"script")),s},cleanData:function(e){for(var t,n,r,i=Te.event.special,o=0;void 0!==(n=e[o]);o++)if($e(n)){if(t=n[Be.expando]){if(t.events)for(r in t.events)i[r]?Te.event.remove(n,r):Te.removeEvent(n,r,t.handle);n[Be.expando]=void 0}n[Fe.expando]&&(n[Fe.expando]=void 0)}}}),Te.fn.extend({detach:function(e){return O(this,e,!0)},remove:function(e){return O(this,e)},text:function(e){return Re(this,function(e){return void 0===e?Te.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return H(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=N(this,e);t.appendChild(e)}})},prepend:function(){return H(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=N(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return H(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return H(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Te.cleanData(w(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Te.clone(this,e,t)})},html:function(e){return Re(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!st.test(e)&&!et[(Ke.exec(e)||["",""])[1].toLowerCase()]){e=Te.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Te.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return H(this,arguments,function(t){var n=this.parentNode;Te.inArray(this,e)<0&&(Te.cleanData(w(this)),n&&n.replaceChild(t,this))},e)}}),Te.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Te.fn[e]=function(e){for(var n,r=[],i=Te(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),Te(i[a])[t](n),ce.apply(r,n.get());return this.pushStack(r)}});var ct=new RegExp("^("+Xe+")(?!px)[a-z%]+$","i"),ft=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},pt=new RegExp(Ve.join("|"),"i");!function(){function t(){if(l){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",l.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",nt.appendChild(u).appendChild(l);var t=e.getComputedStyle(l);r="1%"!==t.top,s=12===n(t.marginLeft),l.style.right="60%",a=36===n(t.right),i=36===n(t.width),l.style.position="absolute",o=36===l.offsetWidth||"absolute",nt.removeChild(u),l=null}}function n(e){return Math.round(parseFloat(e))}var r,i,o,a,s,u=ae.createElement("div"),l=ae.createElement("div");l.style&&(l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",ve.clearCloneStyle="content-box"===l.style.backgroundClip,Te.extend(ve,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),s},scrollboxSize:function(){return t(),o}}))}();var dt=/^(none|table(?!-c[ea]).+)/,ht=/^--/,gt={position:"absolute",visibility:"hidden",display:"block"},yt={letterSpacing:"0",fontWeight:"400"},vt=["Webkit","Moz","ms"],mt=ae.createElement("div").style;Te.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=P(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=h(t),u=ht.test(t),l=e.style;return u||(t=I(s)),a=Te.cssHooks[t]||Te.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:(o=typeof n,"string"===o&&(i=Ue.exec(n))&&i[1]&&(n=m(e,t,i),o="number"),null!=n&&n===n&&("number"===o&&(n+=i&&i[3]||(Te.cssNumber[s]?"":"px")),ve.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=h(t),u=ht.test(t);return u||(t=I(s)),a=Te.cssHooks[t]||Te.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=P(e,t,r)),"normal"===i&&t in yt&&(i=yt[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),Te.each(["height","width"],function(e,t){Te.cssHooks[t]={get:function(e,n,r){if(n)return!dt.test(Te.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?B(e,t,r):Ye(e,gt,function(){return B(e,t,r)})},set:function(e,n,r){var i,o=ft(e),a="border-box"===Te.css(e,"boxSizing",!1,o),s=r&&$(e,t,r,a,o);return a&&ve.scrollboxSize()===o.position&&(s-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-$(e,t,"border",!1,o)-.5)),s&&(i=Ue.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=Te.css(e,t)),W(e,n,s)}}}),Te.cssHooks.marginLeft=M(ve.reliableMarginLeft,function(e,t){if(t)return(parseFloat(P(e,"marginLeft"))||e.getBoundingClientRect().left-Ye(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Te.each({margin:"",padding:"",border:"Width"},function(e,t){Te.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ve[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(Te.cssHooks[e+t].set=W)}),Te.fn.extend({css:function(e,t){return Re(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=ft(e),i=t.length;a<i;a++)o[t[a]]=Te.css(e,t[a],!1,r);return o}return void 0!==n?Te.style(e,t,n):Te.css(e,t)},e,t,arguments.length>1)}}),Te.Tween=F,F.prototype={constructor:F,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||Te.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Te.cssNumber[n]?"":"px")},cur:function(){var e=F.propHooks[this.prop];return e&&e.get?e.get(this):F.propHooks._default.get(this)},run:function(e){var t,n=F.propHooks[this.prop];return this.options.duration?this.pos=t=Te.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):F.propHooks._default.set(this),this}},F.prototype.init.prototype=F.prototype,F.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Te.css(e.elem,e.prop,""),t&&"auto"!==t?t:0)},set:function(e){Te.fx.step[e.prop]?Te.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[Te.cssProps[e.prop]]&&!Te.cssHooks[e.prop]?e.elem[e.prop]=e.now:Te.style(e.elem,e.prop,e.now+e.unit)}}},F.propHooks.scrollTop=F.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Te.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Te.fx=F.prototype.init,Te.fx.step={};var xt,bt,wt=/^(?:toggle|show|hide)$/,Tt=/queueHooks$/;Te.Animation=Te.extend(Y,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return m(n.elem,e,Ue.exec(t),n),n}]},tweener:function(e,t){me(e)?(t=e,e=["*"]):e=e.match(Oe);for(var n,r=0,i=e.length;r<i;r++)n=e[r],Y.tweeners[n]=Y.tweeners[n]||[],Y.tweeners[n].unshift(t)},prefilters:[V],prefilter:function(e,t){t?Y.prefilters.unshift(e):Y.prefilters.push(e)}}),Te.speed=function(e,t,n){var r=e&&"object"==typeof e?Te.extend({},e):{complete:n||!n&&t||me(e)&&e,duration:e,easing:n&&t||t&&!me(t)&&t};return Te.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in Te.fx.speeds?r.duration=Te.fx.speeds[r.duration]:r.duration=Te.fx.speeds._default),null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){me(r.old)&&r.old.call(this),r.queue&&Te.dequeue(this,r.queue)},r},Te.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ge).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Te.isEmptyObject(e),o=Te.speed(t,n,r),a=function(){var t=Y(this,Te.extend({},e),o);(i||Be.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Te.timers,a=Be.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Tt.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),
t=!1,o.splice(i,1));!t&&n||Te.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=Be.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Te.timers,a=r?r.length:0;for(n.finish=!0,Te.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Te.each(["toggle","show","hide"],function(e,t){var n=Te.fn[t];Te.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(X(t,!0),e,r,i)}}),Te.each({slideDown:X("show"),slideUp:X("hide"),slideToggle:X("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Te.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Te.timers=[],Te.fx.tick=function(){var e,t=0,n=Te.timers;for(xt=Date.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Te.fx.stop(),xt=void 0},Te.fx.timer=function(e){Te.timers.push(e),Te.fx.start()},Te.fx.interval=13,Te.fx.start=function(){bt||(bt=!0,_())},Te.fx.stop=function(){bt=null},Te.fx.speeds={slow:600,fast:200,_default:400},Te.fn.delay=function(t,n){return t=Te.fx?Te.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=ae.createElement("input"),t=ae.createElement("select"),n=t.appendChild(ae.createElement("option"));e.type="checkbox",ve.checkOn=""!==e.value,ve.optSelected=n.selected,e=ae.createElement("input"),e.value="t",e.type="radio",ve.radioValue="t"===e.value}();var Ct,Et=Te.expr.attrHandle;Te.fn.extend({attr:function(e,t){return Re(this,Te.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Te.removeAttr(this,e)})}}),Te.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?Te.prop(e,t,n):(1===o&&Te.isXMLDoc(e)||(i=Te.attrHooks[t.toLowerCase()]||(Te.expr.match.bool.test(t)?Ct:void 0)),void 0!==n?null===n?void Te.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Te.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!ve.radioValue&&"radio"===t&&o(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Oe);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Ct={set:function(e,t,n){return t===!1?Te.removeAttr(e,n):e.setAttribute(n,n),n}},Te.each(Te.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Et[t]||Te.find.attr;Et[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=Et[a],Et[a]=i,i=null!=n(e,t,r)?a:null,Et[a]=o),i}});var kt=/^(?:input|select|textarea|button)$/i,St=/^(?:a|area)$/i;Te.fn.extend({prop:function(e,t){return Re(this,Te.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Te.propFix[e]||e]})}}),Te.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&Te.isXMLDoc(e)||(t=Te.propFix[t]||t,i=Te.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Te.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||St.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),ve.optSelected||(Te.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Te.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Te.propFix[this.toLowerCase()]=this}),Te.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(me(e))return this.each(function(t){Te(this).addClass(e.call(this,t,J(this)))});if(t=K(e),t.length)for(;n=this[u++];)if(i=J(n),r=1===n.nodeType&&" "+Q(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=Q(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(me(e))return this.each(function(t){Te(this).removeClass(e.call(this,t,J(this)))});if(!arguments.length)return this.attr("class","");if(t=K(e),t.length)for(;n=this[u++];)if(i=J(n),r=1===n.nodeType&&" "+Q(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=Q(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):me(e)?this.each(function(n){Te(this).toggleClass(e.call(this,n,J(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=Te(this),a=K(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=J(this),t&&Be.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":Be.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+Q(J(n))+" ").indexOf(t)>-1)return!0;return!1}});var Dt=/\r/g;Te.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=me(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Te(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=Te.map(i,function(e){return null==e?"":e+""})),t=Te.valHooks[this.type]||Te.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Te.valHooks[i.type]||Te.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Dt,""):null==n?"":n)}}}),Te.extend({valHooks:{option:{get:function(e){var t=Te.find.attr(e,"value");return null!=t?t:Q(Te.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,s="select-one"===e.type,u=s?null:[],l=s?a+1:i.length;for(r=a<0?l:s?a:0;r<l;r++)if(n=i[r],(n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(t=Te(n).val(),s)return t;u.push(t)}return u},set:function(e,t){for(var n,r,i=e.options,o=Te.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=Te.inArray(Te.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Te.each(["radio","checkbox"],function(){Te.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Te.inArray(Te(e).val(),t)>-1}},ve.checkOn||(Te.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),ve.focusin="onfocusin"in e;var Nt=/^(?:focusinfocus|focusoutblur)$/,At=function(e){e.stopPropagation()};Te.extend(Te.event,{trigger:function(t,n,r,i){var o,a,s,u,l,c,f,p,d=[r||ae],h=he.call(t,"type")?t.type:t,g=he.call(t,"namespace")?t.namespace.split("."):[];if(a=p=s=r=r||ae,3!==r.nodeType&&8!==r.nodeType&&!Nt.test(h+Te.event.triggered)&&(h.indexOf(".")>-1&&(g=h.split("."),h=g.shift(),g.sort()),l=h.indexOf(":")<0&&"on"+h,t=t[Te.expando]?t:new Te.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Te.makeArray(n,[t]),f=Te.event.special[h]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!xe(r)){for(u=f.delegateType||h,Nt.test(u+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||ae)&&d.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?u:f.bindType||h,c=(Be.get(a,"events")||{})[t.type]&&Be.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&$e(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||f._default&&f._default.apply(d.pop(),n)!==!1||!$e(r)||l&&me(r[h])&&!xe(r)&&(s=r[l],s&&(r[l]=null),Te.event.triggered=h,t.isPropagationStopped()&&p.addEventListener(h,At),r[h](),t.isPropagationStopped()&&p.removeEventListener(h,At),Te.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=Te.extend(new Te.Event,n,{type:e,isSimulated:!0});Te.event.trigger(r,null,t)}}),Te.fn.extend({trigger:function(e,t){return this.each(function(){Te.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Te.event.trigger(e,t,n,!0)}}),ve.focusin||Te.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Te.event.simulate(t,e.target,Te.event.fix(e))};Te.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=Be.access(r,t);i||r.addEventListener(e,n,!0),Be.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=Be.access(r,t)-1;i?Be.access(r,t,i):(r.removeEventListener(e,n,!0),Be.remove(r,t))}}});var jt=e.location,qt=Date.now(),Lt=/\?/;Te.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(r){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||Te.error("Invalid XML: "+t),n};var Ht=/\[\]$/,Ot=/\r?\n/g,Pt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;Te.param=function(e,t){var n,r=[],i=function(e,t){var n=me(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!Te.isPlainObject(e))Te.each(e,function(){i(this.name,this.value)});else for(n in e)Z(n,e[n],t,i);return r.join("&")},Te.fn.extend({serialize:function(){return Te.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Te.prop(this,"elements");return e?Te.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Te(this).is(":disabled")&&Mt.test(this.nodeName)&&!Pt.test(e)&&(this.checked||!Je.test(e))}).map(function(e,t){var n=Te(this).val();return null==n?null:Array.isArray(n)?Te.map(n,function(e){return{name:t.name,value:e.replace(Ot,"\r\n")}}):{name:t.name,value:n.replace(Ot,"\r\n")}}).get()}});var Rt=/%20/g,It=/#.*$/,Wt=/([?&])_=[^&]*/,$t=/^(.*?):[ \t]*([^\r\n]*)$/gm,Bt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ft=/^(?:GET|HEAD)$/,_t=/^\/\//,zt={},Xt={},Ut="*/".concat("*"),Vt=ae.createElement("a");Vt.href=jt.href,Te.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jt.href,type:"GET",isLocal:Bt.test(jt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Ut,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Te.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ne(ne(e,Te.ajaxSettings),t):ne(Te.ajaxSettings,e)},ajaxPrefilter:ee(zt),ajaxTransport:ee(Xt),ajax:function(t,n){function r(t,n,r,s){var l,p,d,b,w,T=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",C.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=re(h,C,r)),b=ie(h,b,C,l),l?(h.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(Te.lastModified[o]=w),w=C.getResponseHeader("etag"),w&&(Te.etag[o]=w)),204===t||"HEAD"===h.type?T="nocontent":304===t?T="notmodified":(T=b.state,p=b.data,d=b.error,l=!d)):(d=T,!t&&T||(T="error",t<0&&(t=0))),C.status=t,C.statusText=(n||T)+"",l?v.resolveWith(g,[p,T,C]):v.rejectWith(g,[C,T,d]),C.statusCode(x),x=void 0,f&&y.trigger(l?"ajaxSuccess":"ajaxError",[C,h,l?p:d]),m.fireWith(g,[C,T]),f&&(y.trigger("ajaxComplete",[C,h]),--Te.active||Te.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=Te.ajaxSetup({},n),g=h.context||h,y=h.context&&(g.nodeType||g.jquery)?Te(g):Te.event,v=Te.Deferred(),m=Te.Callbacks("once memory"),x=h.statusCode||{},b={},w={},T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=$t.exec(a);)s[t[1].toLowerCase()]=t[2];t=s[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||T;return i&&i.abort(t),r(0,t),this}};if(v.promise(C),h.url=((t||h.url||jt.href)+"").replace(_t,jt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Oe)||[""],null==h.crossDomain){l=ae.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Vt.protocol+"//"+Vt.host!=l.protocol+"//"+l.host}catch(E){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Te.param(h.data,h.traditional)),te(zt,h,n,C),c)return C;f=Te.event&&h.global,f&&0===Te.active++&&Te.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ft.test(h.type),o=h.url.replace(It,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(Rt,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(Lt.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(o=o.replace(Wt,"$1"),d=(Lt.test(o)?"&":"?")+"_="+qt++ +d),h.url=o+d),h.ifModified&&(Te.lastModified[o]&&C.setRequestHeader("If-Modified-Since",Te.lastModified[o]),Te.etag[o]&&C.setRequestHeader("If-None-Match",Te.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Ut+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)C.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(h.beforeSend.call(g,C,h)===!1||c))return C.abort();if(T="abort",m.add(h.complete),C.done(h.success),C.fail(h.error),i=te(Xt,h,n,C)){if(C.readyState=1,f&&y.trigger("ajaxSend",[C,h]),c)return C;h.async&&h.timeout>0&&(u=e.setTimeout(function(){C.abort("timeout")},h.timeout));try{c=!1,i.send(b,r)}catch(E){if(c)throw E;r(-1,E)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return Te.get(e,t,n,"json")},getScript:function(e,t){return Te.get(e,void 0,t,"script")}}),Te.each(["get","post"],function(e,t){Te[t]=function(e,n,r,i){return me(n)&&(i=i||r,r=n,n=void 0),Te.ajax(Te.extend({url:e,type:t,dataType:i,data:n,success:r},Te.isPlainObject(e)&&e))}}),Te._evalUrl=function(e){return Te.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})},Te.fn.extend({wrapAll:function(e){var t;return this[0]&&(me(e)&&(e=e.call(this[0])),t=Te(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return me(e)?this.each(function(t){Te(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Te(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=me(e);return this.each(function(n){Te(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Te(this).replaceWith(this.childNodes)}),this}}),Te.expr.pseudos.hidden=function(e){return!Te.expr.pseudos.visible(e)},Te.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Te.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Gt={0:200,1223:204},Yt=Te.ajaxSettings.xhr();ve.cors=!!Yt&&"withCredentials"in Yt,ve.ajax=Yt=!!Yt,Te.ajaxTransport(function(t){var n,r;if(ve.cors||Yt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Gt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}}),Te.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Te.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Te.globalEval(e),e}}}),Te.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Te.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=Te("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),ae.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Qt=[],Jt=/(=)\?(?=&|$)|\?\?/;Te.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Qt.pop()||Te.expando+"_"+qt++;return this[e]=!0,e}}),Te.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Jt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=me(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Jt,"$1"+i):t.jsonp!==!1&&(t.url+=(Lt.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Te.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?Te(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Qt.push(i)),a&&me(o)&&o(a[0]),a=o=void 0}),"script"}),ve.createHTMLDocument=function(){var e=ae.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Te.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(ve.createHTMLDocument?(t=ae.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=ae.location.href,t.head.appendChild(r)):t=ae),i=Ne.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=C([e],t,o),o&&o.length&&Te(o).remove(),Te.merge([],i.childNodes))},Te.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=Q(e.slice(s)),e=e.slice(0,s)),me(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Te.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Te("<div>").append(Te.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},Te.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Te.fn[t]=function(e){return this.on(t,e)}}),Te.expr.pseudos.animated=function(e){return Te.grep(Te.timers,function(t){return e===t.elem}).length},Te.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=Te.css(e,"position"),f=Te(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=Te.css(e,"top"),u=Te.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),me(t)&&(t=t.call(e,n,Te.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},Te.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Te.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===Te.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Te.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(i=Te(e).offset(),i.top+=Te.css(e,"borderTopWidth",!0),i.left+=Te.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-Te.css(r,"marginTop",!0),left:t.left-i.left-Te.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Te.css(e,"position");)e=e.offsetParent;return e||nt})}}),Te.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Te.fn[e]=function(r){return Re(this,function(e,r,i){var o;return xe(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),Te.each(["top","left"],function(e,t){Te.cssHooks[t]=M(ve.pixelPosition,function(e,n){if(n)return n=P(e,t),ct.test(n)?Te(e).position()[t]+"px":n})}),Te.each({Height:"height",Width:"width"},function(e,t){Te.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Te.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return Re(this,function(t,n,i){var o;return xe(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?Te.css(t,n,s):Te.style(t,n,i,s)},t,a?i:void 0,a)}})}),Te.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Te.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),Te.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Te.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),Te.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),me(e))return r=ue.call(arguments,2),i=function(){return e.apply(t||this,r.concat(ue.call(arguments)))},i.guid=e.guid=e.guid||Te.guid++,i},Te.holdReady=function(e){e?Te.readyWait++:Te.ready(!0)},Te.isArray=Array.isArray,Te.parseJSON=JSON.parse,Te.nodeName=o,Te.isFunction=me,Te.isWindow=xe,Te.camelCase=h,Te.type=r,Te.now=Date.now,Te.isNumeric=function(e){var t=Te.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return Te});var Kt=e.jQuery,Zt=e.$;return Te.noConflict=function(t){return e.$===Te&&(e.$=Zt),t&&e.jQuery===Te&&(e.jQuery=Kt),Te},t||(e.jQuery=e.$=Te),Te});
},{}],"keypress.js/keypress-2.1.4.min.js":[function(require,module,exports){
(function(){var e,t,n,o,r,i,s,_,c,u,l,h,a,f,p,y,d,m,k,v={}.hasOwnProperty,g=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i={is_unordered:!1,is_counting:!1,is_exclusive:!1,is_solitary:!1,prevent_default:!1,prevent_repeat:!1,normalize_caps_lock:!1},m="meta alt option ctrl shift cmd".split(" "),y="ctrl",e={debug:!1};var b=function(e){var t,n;for(t in e)v.call(e,t)&&(n=e[t],!1!==n&&(this[t]=n));this.keys=this.keys||[],this.count=this.count||0};b.prototype.allows_key_repeat=function(){return!this.prevent_repeat&&"function"==typeof this.on_keydown},b.prototype.reset=function(){return this.count=0,this.keyup_fired=null};var w=function(e,t){var n,o;"undefined"!=typeof jQuery&&null!==jQuery&&e instanceof jQuery&&(1!==e.length&&p("Warning: your jQuery selector should have exactly one object."),e=e[0]),this.should_force_event_defaults=this.should_suppress_event_defaults=!1,this.sequence_delay=800,this._registered_combos=[],this._keys_down=[],this._active_combos=[],this._sequence=[],this._sequence_timer=null,this._prevent_capture=!1,this._defaults=t||{};for(n in i)v.call(i,n)&&(o=i[n],this._defaults[n]=this._defaults[n]||o);this.element=e||document.body,n=function(e,t,n){return e.addEventListener?e.addEventListener(t,n):e.attachEvent&&e.attachEvent("on"+t,n),n};var r=this;this.keydown_event=n(this.element,"keydown",function(e){return e=e||window.event,r._receive_input(e,!0),r._bug_catcher(e)});var s=this;this.keyup_event=n(this.element,"keyup",function(e){return e=e||window.event,s._receive_input(e,!1)});var _=this;this.blur_event=n(window,"blur",function(){var e,t,n,o;for(o=_._keys_down,t=0,n=o.length;t<n;t++)e=o[t],_._key_up(e,{});return _._keys_down=[]})};w.prototype.destroy=function(){var e;return e=function(e,t,n){return null!=e.removeEventListener?e.removeEventListener(t,n):null!=e.removeEvent?e.removeEvent("on"+t,n):void 0},e(this.element,"keydown",this.keydown_event),e(this.element,"keyup",this.keyup_event),e(window,"blur",this.blur_event)},w.prototype._bug_catcher=function(e){var t,n;if("cmd"===y&&0<=g.call(this._keys_down,"cmd")&&"cmd"!==(t=o(null!=(n=e.keyCode)?n:e.key))&&"shift"!==t&&"alt"!==t&&"caps"!==t&&"tab"!==t)return this._receive_input(e,!1)},w.prototype._cmd_bug_check=function(e){return!("cmd"===y&&0<=g.call(this._keys_down,"cmd")&&0>g.call(e,"cmd"))},w.prototype._prevent_default=function(e,t){if((t||this.should_suppress_event_defaults)&&!this.should_force_event_defaults&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation))return e.stopPropagation()},w.prototype._get_active_combos=function(e){var t,n;return t=[],n=s(this._keys_down,function(t){return t!==e}),n.push(e),this._match_combo_arrays(n,function(e){return function(n){if(e._cmd_bug_check(n.keys))return t.push(n)}}(this)),this._fuzzy_match_combo_arrays(n,function(e){return function(n){if(!(0<=g.call(t,n))&&!n.is_solitary&&e._cmd_bug_check(n.keys))return t.push(n)}}(this)),t},w.prototype._get_potential_combos=function(e){var t,n,o,r,i;for(n=[],i=this._registered_combos,o=0,r=i.length;o<r;o++)t=i[o],t.is_sequence||0<=g.call(t.keys,e)&&this._cmd_bug_check(t.keys)&&n.push(t);return n},w.prototype._add_to_active_combos=function(e){var t,n,o,r,i,s,_,c,u,l,h;if(s=!1,i=!0,o=!1,0<=g.call(this._active_combos,e))return!0;if(this._active_combos.length)for(r=_=0,l=this._active_combos.length;0<=l?_<l:_>l;r=0<=l?++_:--_)if((t=this._active_combos[r])&&t.is_exclusive&&e.is_exclusive){if(t=t.keys,!s)for(c=0,u=t.length;c<u;c++)if(n=t[c],s=!0,0>g.call(e.keys,n)){s=!1;break}if(i&&!s)for(h=e.keys,c=0,u=h.length;c<u;c++)if(n=h[c],i=!1,0>g.call(t,n)){i=!0;break}s&&(o?(t=this._active_combos.splice(r,1)[0],null!=t&&t.reset()):(t=this._active_combos.splice(r,1,e)[0],null!=t&&t.reset(),o=!0),i=!1)}return i&&this._active_combos.unshift(e),s||i},w.prototype._remove_from_active_combos=function(e){var t,n,o,r;for(n=o=0,r=this._active_combos.length;0<=r?o<r:o>r;n=0<=r?++o:--o)if(t=this._active_combos[n],t===e){e=this._active_combos.splice(n,1)[0],e.reset();break}},w.prototype._get_possible_sequences=function(){var e,t,n,o,r,i,_,c,u,l,h,a;for(o=[],l=this._registered_combos,i=0,u=l.length;i<u;i++)for(e=l[i],t=_=1,h=this._sequence.length;1<=h?_<=h:_>=h;t=1<=h?++_:--_)if(r=this._sequence.slice(-t),e.is_sequence){if(0>g.call(e.keys,"shift")&&(r=s(r,function(e){return"shift"!==e}),!r.length))continue;for(t=c=0,a=r.length;0<=a?c<a:c>a;t=0<=a?++c:--c){if(e.keys[t]!==r[t]){n=!1;break}n=!0}n&&o.push(e)}return o},w.prototype._add_key_to_sequence=function(e,t){var n,o,r,i;if(this._sequence.push(e),o=this._get_possible_sequences(),o.length){for(r=0,i=o.length;r<i;r++)n=o[r],this._prevent_default(t,n.prevent_default);if(this._sequence_timer&&clearTimeout(this._sequence_timer),-1<this.sequence_delay){var s=this;this._sequence_timer=setTimeout(function(){return s._sequence=[]},this.sequence_delay)}}else this._sequence=[]},w.prototype._get_sequence=function(e){var t,n,o,r,i,_,c,u,l,h,a,f;for(h=this._registered_combos,_=0,l=h.length;_<l;_++)if(t=h[_],t.is_sequence){for(n=c=1,a=this._sequence.length;1<=a?c<=a:c>=a;n=1<=a?++c:--c)if(i=s(this._sequence,function(e){return 0<=g.call(t.keys,"shift")||"shift"!==e}).slice(-n),t.keys.length===i.length)for(n=u=0,f=i.length;0<=f?u<f:u>f;n=0<=f?++u:--u)if(r=i[n],!(0>g.call(t.keys,"shift")&&"shift"===r||"shift"===e&&0>g.call(t.keys,"shift"))){if(t.keys[n]!==r){o=!1;break}o=!0}if(o)return t.is_exclusive&&(this._sequence=[]),t}return!1},w.prototype._receive_input=function(e,t){var n,r;if(this._prevent_capture)this._keys_down.length&&(this._keys_down=[]);else if(n=o(null!=(r=e.keyCode)?r:e.key),(t||this._keys_down.length||!("alt"===n||n===y))&&n)return t?this._key_down(n,e):this._key_up(n,e)},w.prototype._fire=function(e,t,n,o){if("function"==typeof t["on_"+e]&&this._prevent_default(n,!0!==t["on_"+e].call(t["this"],n,t.count,o)),"release"===e&&(t.count=0),"keyup"===e)return t.keyup_fired=!0},w.prototype._match_combo_arrays=function(e,o){var r,i,s,_,c;for(c=this._registered_combos,s=0,_=c.length;s<_;s++)i=c[s],r=e.slice(0),i.normalize_caps_lock&&0<=g.call(r,"caps")&&r.splice(r.indexOf("caps"),1),(!i.is_unordered&&n(r,i.keys)||i.is_unordered&&t(r,i.keys))&&o(i)},w.prototype._fuzzy_match_combo_arrays=function(e,t){var n,o,r,i;for(i=this._registered_combos,o=0,r=i.length;o<r;o++)n=i[o],(!n.is_unordered&&u(n.keys,e)||n.is_unordered&&c(n.keys,e))&&t(n)},w.prototype._keys_remain=function(e){var t,n,o,r;for(r=e.keys,n=0,o=r.length;n<o;n++)if(e=r[n],0<=g.call(this._keys_down,e)){t=!0;break}return t},w.prototype._key_down=function(e,t){var n,o,i,s,_;(n=r(e,t))&&(e=n),this._add_key_to_sequence(e,t),(n=this._get_sequence(e))&&this._fire("keydown",n,t);for(i in d)n=d[i],t[n]&&(i===e||0<=g.call(this._keys_down,i)||this._keys_down.push(i));for(i in d)if(n=d[i],i!==e&&0<=g.call(this._keys_down,i)&&!t[n]&&!("cmd"===i&&"cmd"!==y))for(n=o=0,s=this._keys_down.length;0<=s?o<s:o>s;n=0<=s?++o:--o)this._keys_down[n]===i&&this._keys_down.splice(n,1);for(o=this._get_active_combos(e),i=this._get_potential_combos(e),s=0,_=o.length;s<_;s++)n=o[s],this._handle_combo_down(n,i,e,t);if(i.length)for(o=0,s=i.length;o<s;o++)n=i[o],this._prevent_default(t,n.prevent_default);0>g.call(this._keys_down,e)&&this._keys_down.push(e)},w.prototype._handle_combo_down=function(e,t,n,o){var r,i,s,_,c;if(0>g.call(e.keys,n))return!1;if(this._prevent_default(o,e&&e.prevent_default),r=!1,0<=g.call(this._keys_down,n)&&(r=!0,!e.allows_key_repeat()))return!1;if(s=this._add_to_active_combos(e,n),n=e.keyup_fired=!1,e.is_exclusive)for(_=0,c=t.length;_<c;_++)if(i=t[_],i.is_exclusive&&i.keys.length>e.keys.length){n=!0;break}return!n&&(e.is_counting&&"function"==typeof e.on_keydown&&(e.count+=1),s)?this._fire("keydown",e,o,r):void 0},w.prototype._key_up=function(e,t){var n,o,i,s,_,c;if(n=e,(i=r(e,t))&&(e=i),i=f[n],t.shiftKey?i&&0<=g.call(this._keys_down,i)||(e=n):n&&0<=g.call(this._keys_down,n)||(e=i),(s=this._get_sequence(e))&&this._fire("keyup",s,t),0>g.call(this._keys_down,e))return!1;for(s=_=0,c=this._keys_down.length;0<=c?_<c:_>c;s=0<=c?++_:--_)if((o=this._keys_down[s])===e||o===i||o===n){this._keys_down.splice(s,1);break}for(o=this._active_combos.length,i=[],c=this._active_combos,s=0,_=c.length;s<_;s++)n=c[s],0<=g.call(n.keys,e)&&i.push(n);for(s=0,_=i.length;s<_;s++)n=i[s],this._handle_combo_up(n,t,e);if(1<o)for(_=this._active_combos,o=0,s=_.length;o<s;o++)n=_[o],void 0===n||0<=g.call(i,n)||this._keys_remain(n)||this._remove_from_active_combos(n)},w.prototype._handle_combo_up=function(e,n,o){var r,i;this._prevent_default(n,e&&e.prevent_default),i=this._keys_remain(e),e.keyup_fired||(r=this._keys_down.slice(),r.push(o),e.is_solitary&&!t(r,e.keys))||(this._fire("keyup",e,n),e.is_counting&&"function"==typeof e.on_keyup&&"function"!=typeof e.on_keydown&&(e.count+=1)),i||(this._fire("release",e,n),this._remove_from_active_combos(e))},w.prototype.simple_combo=function(e,t){return this.register_combo({keys:e,on_keydown:t})},w.prototype.counting_combo=function(e,t){return this.register_combo({keys:e,is_counting:!0,is_unordered:!1,on_keydown:t})},w.prototype.sequence_combo=function(e,t){return this.register_combo({keys:e,on_keydown:t,is_sequence:!0,is_exclusive:!0})},w.prototype.register_combo=function(e){var t,n,o;"string"==typeof e.keys&&(e.keys=e.keys.split(" ")),o=this._defaults;for(t in o)v.call(o,t)&&(n=o[t],void 0===e[t]&&(e[t]=n));if(e=new b(e),k(e))return this._registered_combos.push(e),e},w.prototype.register_many=function(e){var t,n,o,r;for(r=[],n=0,o=e.length;n<o;n++)t=e[n],r.push(this.register_combo(t));return r},w.prototype.unregister_combo=function(e){var o,r,i,s,_,c;if(!e)return!1;var u=this;if(r=function(e){var t,n,o,r;for(r=[],t=n=0,o=u._registered_combos.length;0<=o?n<o:n>o;t=0<=o?++n:--n){if(e===u._registered_combos[t]){u._registered_combos.splice(t,1);break}r.push(void 0)}return r},e instanceof b)return r(e);for("string"==typeof e&&(e=e.split(" ")),_=this._registered_combos,c=[],i=0,s=_.length;i<s;i++)o=_[i],null!=o&&(o.is_unordered&&t(e,o.keys)||!o.is_unordered&&n(e,o.keys)?c.push(r(o)):c.push(void 0));return c},w.prototype.unregister_many=function(e){var t,n,o,r;for(r=[],n=0,o=e.length;n<o;n++)t=e[n],r.push(this.unregister_combo(t));return r},w.prototype.get_registered_combos=function(){return this._registered_combos},w.prototype.reset=function(){return this._registered_combos=[]},w.prototype.listen=function(){return this._prevent_capture=!1},w.prototype.stop_listening=function(){return this._prevent_capture=!0},w.prototype.get_meta_key=function(){return y},e.Listener=w,o=function(e){return a[e]},s=function(e,t){var n;if(e.filter)return e.filter(t);var o,r,i;for(i=[],o=0,r=e.length;o<r;o++)n=e[o],t(n)&&i.push(n);return i},t=function(e,t){var n,o,r;if(e.length!==t.length)return!1;for(o=0,r=e.length;o<r;o++)if(n=e[o],!(0<=g.call(t,n)))return!1;return!0},n=function(e,t){var n,o,r;if(e.length!==t.length)return!1;for(n=o=0,r=e.length;0<=r?o<r:o>r;n=0<=r?++o:--o)if(e[n]!==t[n])return!1;return!0},c=function(e,t){var n,o,r;for(o=0,r=e.length;o<r;o++)if(n=e[o],0>g.call(t,n))return!1;return!0},_=Array.prototype.indexOf||function(e,t){var n,o,r;for(n=o=0,r=e.length;0<=r?o<=r:o>=r;n=0<=r?++o:--o)if(e[n]===t)return n;return-1},u=function(e,t){var n,o,r,i;for(r=o=0,i=e.length;r<i;r++){if(n=e[r],n=_.call(t,n),!(n>=o))return!1;o=n}return!0},p=function(){if(e.debug)return console.log.apply(console,arguments)},l=function(e){var t,n,o;t=!1;for(o in a)if(n=a[o],e===n){t=!0;break}if(!t)for(o in f)if(n=f[o],e===n){t=!0;break}return t},k=function(e){var t,n,o,r,s,c,u;for(s=!0,e.keys.length||p("You're trying to bind a combo with no keys:",e),n=c=0,u=e.keys.length;0<=u?c<u:c>u;n=0<=u?++c:--c)o=e.keys[n],(t=h[o])&&(o=e.keys[n]=t),"meta"===o&&e.keys.splice(n,1,y),"cmd"===o&&p('Warning: use the "meta" key rather than "cmd" for Windows compatibility');for(u=e.keys,t=0,c=u.length;t<c;t++)o=u[t],l(o)||(p('Do not recognize the key "'+o+'"'),s=!1);if(0<=g.call(e.keys,"meta")||0<=g.call(e.keys,"cmd")){for(t=e.keys.slice(),c=0,u=m.length;c<u;c++)o=m[c],-1<(n=_.call(t,o))&&t.splice(n,1);1<t.length&&(p("META and CMD key combos cannot have more than 1 non-modifier keys",e,t),s=!1)}for(r in e)"undefined"===i[r]&&p("The property "+r+" is not a valid combo property. Your combo has still been registered.");return s},r=function(e,t){var n;return!!t.shiftKey&&(n=f[e],null!=n&&n)},d={cmd:"metaKey",ctrl:"ctrlKey",shift:"shiftKey",alt:"altKey"},h={escape:"esc",control:"ctrl",command:"cmd","break":"pause",windows:"cmd",option:"alt",caps_lock:"caps",apostrophe:"'",semicolon:";",tilde:"~",accent:"`",scroll_lock:"scroll",num_lock:"num"},f={"/":"?",".":">",",":"<","'":'"',";":":","[":"{","]":"}","\\":"|","`":"~","=":"+","-":"_",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")"},a={0:"\\",8:"backspace",9:"tab",12:"num",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",44:"print",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"cmd",92:"cmd",93:"cmd",96:"num_0",97:"num_1",98:"num_2",99:"num_3",100:"num_4",101:"num_5",102:"num_6",103:"num_7",104:"num_8",105:"num_9",106:"num_multiply",107:"num_add",108:"num_enter",109:"num_subtract",110:"num_decimal",111:"num_divide",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",124:"print",144:"num",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"`",224:"cmd",225:"alt",57392:"ctrl",63289:"num",59:";",61:"=",173:"-"},e._keycode_dictionary=a,e._is_array_in_array_sorted=u,-1!==navigator.userAgent.indexOf("Mac OS X")&&(y="cmd"),-1!==navigator.userAgent.indexOf("Opera")&&(a[17]="cmd"),"function"==typeof define&&define.amd?define([],function(){return e}):"undefined"!=typeof exports&&null!==exports?exports.keypress=e:window.keypress=e}).call(this);
},{}],"moment":[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Ts.apply(null,arguments)}function t(e){Ts=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function d(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function h(e,t,n,s){return kt(e,t,n,s,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=c()),e._pf}function m(e){if(null==e._isValid){var t=f(e),n=xs.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function _(e){var t=h(NaN);return null!=e?d(f(t),e):f(t).userInvalidated=!0,t}function y(e,t){var n,s,i;if(r(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),r(t._i)||(e._i=t._i),r(t._f)||(e._f=t._f),r(t._l)||(e._l=t._l),r(t._strict)||(e._strict=t._strict),r(t._tzm)||(e._tzm=t._tzm),r(t._isUTC)||(e._isUTC=t._isUTC),r(t._offset)||(e._offset=t._offset),r(t._pf)||(e._pf=f(t)),r(t._locale)||(e._locale=t._locale),bs.length>0)for(n=0;n<bs.length;n++)s=bs[n],i=t[s],r(i)||(e[s]=i);return e}function g(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Ps===!1&&(Ps=!0,e.updateOffset(this),Ps=!1)}function p(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function M(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&v(e[s])!==v(t[s]))&&a++;return a+r}function S(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function D(t,n){var s=!0;return d(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),s){for(var i,r=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var o in arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[a];r.push(i)}S(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),s=!1}return n.apply(this,arguments)},n)}function k(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Ws[t]||(S(n),Ws[t]=!0)}function Y(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)t=e[n],Y(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(e,t){var n,i=d({},e);for(n in t)l(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},d(i[n],e[n]),d(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)l(e,n)&&!l(t,n)&&s(e[n])&&(i[n]=d({},i[n]));return i}function x(e){null!=e&&this.set(e)}function b(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return Y(s)?s.call(t,n):s}function P(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function W(){return this._invalidDate}function H(e){return this._ordinal.replace("%d",e)}function R(e,t,n,s){var i=this._relativeTime[n];return Y(i)?i(e,t,n,s):i.replace(/%d/i,e)}function C(e,t){var n=this._relativeTime[e>0?"future":"past"];return Y(n)?n(t):n.replace(/%s/i,t)}function F(e,t){var n=e.toLowerCase();Gs[n]=Gs[n+"s"]=Gs[t]=e}function U(e){return"string"==typeof e?Gs[e]||Gs[e.toLowerCase()]:void 0}function L(e){var t,n,s={};for(n in e)l(e,n)&&(t=U(n),t&&(s[t]=e[n]));return s}function N(e,t){Vs[e]=t}function G(e){var t=[];for(var n in e)t.push({unit:n,priority:Vs[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function V(e,t,n){var s=""+Math.abs(e),i=t-s.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}function E(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(js[e]=i),t&&(js[t[0]]=function(){return V(i.apply(this,arguments),t[1],t[2])}),n&&(js[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function A(e){var t,n,s=e.match(Es);for(t=0,n=s.length;t<n;t++)js[s[t]]?s[t]=js[s[t]]:s[t]=I(s[t]);return function(t){var i,r="";for(i=0;i<n;i++)r+=Y(s[i])?s[i].call(t,e):s[i];return r}}function j(e,t){return e.isValid()?(t=Z(t,e.localeData()),As[t]=As[t]||A(t),As[t](e)):e.localeData().invalidDate()}function Z(e,t){function n(e){return t.longDateFormat(e)||e}var s=5;for(Is.lastIndex=0;s>=0&&Is.test(e);)e=e.replace(Is,n),Is.lastIndex=0,s-=1;return e}function z(e,t,n){ui[e]=Y(t)?t:function(e,s){return e&&n?n:t}}function $(e,t){return l(ui,e)?ui[e](t._strict,t._locale):new RegExp(q(e))}function q(e){return J(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}function J(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(e,t){var n,s=t;for("string"==typeof e&&(e=[e]),a(t)&&(s=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)li[e[n]]=s}function Q(e,t){B(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function X(e,t,n){null!=t&&l(li,e)&&li[e](t,n._a,n,e)}function K(e){return ee(e)?366:365}function ee(e){return e%4===0&&e%100!==0||e%400===0}function te(){return ee(this.year())}function ne(t,n){return function(s){return null!=s?(ie(this,t,s),e.updateOffset(this,n),this):se(this,t)}}function se(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ie(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ee(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ue(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function re(e){return e=U(e),Y(this[e])?this[e]():this}function ae(e,t){if("object"==typeof e){e=L(e);for(var n=G(e),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit])}else if(e=U(e),Y(this[e]))return this[e](t);return this}function oe(e,t){return(e%t+t)%t}function ue(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=oe(t,12);return e+=(t-n)/12,1===n?ee(e)?29:28:31-n%7%2}function le(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Mi).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function de(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Mi.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function he(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=h([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?(i=wi.call(this._shortMonthsParse,a),i!==-1?i:null):(i=wi.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===t?(i=wi.call(this._shortMonthsParse,a),i!==-1?i:(i=wi.call(this._longMonthsParse,a),i!==-1?i:null)):(i=wi.call(this._longMonthsParse,a),i!==-1?i:(i=wi.call(this._shortMonthsParse,a),i!==-1?i:null))}function ce(e,t,n){var s,i,r;if(this._monthsParseExact)return he.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=h([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}}function fe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return n=Math.min(e.date(),ue(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function me(t){return null!=t?(fe(this,t),e.updateOffset(this,!0),this):se(this,"Month")}function _e(){return ue(this.year(),this.month())}function ye(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=ki),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ge(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=Yi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pe(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=h([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=J(s[t]),i[t]=J(i[t]);for(t=0;t<24;t++)r[t]=J(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function we(e,t,n,s,i,r,a){var o=new Date(e,t,n,s,i,r,a);return e<100&&e>=0&&isFinite(o.getFullYear())&&o.setFullYear(e),o}function ve(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function Me(e,t,n){var s=7+t-n,i=(7+ve(e,0,s).getUTCDay()-t)%7;return-i+s-1}function Se(e,t,n,s,i){var r,a,o=(7+n-s)%7,u=Me(e,s,i),l=1+7*(t-1)+o+u;return l<=0?(r=e-1,a=K(r)+l):l>K(e)?(r=e+1,a=l-K(e)):(r=e,a=l),{year:r,dayOfYear:a}}function De(e,t,n){var s,i,r=Me(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?(i=e.year()-1,s=a+ke(i,t,n)):a>ke(e.year(),t,n)?(s=a-ke(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function ke(e,t,n){var s=Me(e,t,n),i=Me(e+1,t,n);return(K(e)-s+i)/7}function Ye(e){return De(e,this._week.dow,this._week.doy).week}function Oe(){return this._week.dow}function Te(){return this._week.doy}function xe(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function be(e){var t=De(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Pe(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function We(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function He(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Re(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ce(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Fe(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=h([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?(i=wi.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===t?(i=wi.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=wi.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===t?(i=wi.call(this._weekdaysParse,a),i!==-1?i:(i=wi.call(this._shortWeekdaysParse,a),i!==-1?i:(i=wi.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===t?(i=wi.call(this._shortWeekdaysParse,a),i!==-1?i:(i=wi.call(this._weekdaysParse,a),i!==-1?i:(i=wi.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=wi.call(this._minWeekdaysParse,a),i!==-1?i:(i=wi.call(this._weekdaysParse,a),i!==-1?i:(i=wi.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function Ue(e,t,n){var s,i,r;if(this._weekdaysParseExact)return Fe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=h([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Pe(e,this.localeData()),this.add(e-t,"d")):t}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ge(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=We(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ve(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ae.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Pi),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ee(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ae.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Wi),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ie(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||Ae.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Hi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Ae(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=h([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)o[t]=J(o[t]),u[t]=J(u[t]),l[t]=J(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function je(){return this.hours()%12||12}function Ze(){return this.hours()||24}function ze(e,t){E(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function $e(e,t){return t._meridiemParse}function qe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Je(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Be(e){return e?e.toLowerCase().replace("_","-"):e}function Qe(e){for(var t,n,s,i,r=0;r<e.length;){for(i=Be(e[r]).split("-"),t=i.length,n=Be(e[r+1]),n=n?n.split("-"):null;t>0;){if(s=Xe(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&M(i,n,!0)>=t-1)break;t--}r++}return null}function Xe(e){var t=null;if(!Li[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Ri._abbr;var n=require;n("./locale/"+e),Ke(t)}catch(s){}return Li[e]}function Ke(e,t){var n;return e&&(n=r(t)?nt(e):et(e,t),n&&(Ri=n)),Ri._abbr}function et(e,t){if(null!==t){var n=Ui;if(t.abbr=e,null!=Li[e])k("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=Li[e]._config;else if(null!=t.parentLocale){if(null==Li[t.parentLocale])return Ni[t.parentLocale]||(Ni[t.parentLocale]=[]),Ni[t.parentLocale].push({name:e,config:t}),null;n=Li[t.parentLocale]._config}return Li[e]=new x(T(n,t)),Ni[e]&&Ni[e].forEach(function(e){et(e.name,e.config)}),Ke(e),Li[e]}return delete Li[e],null}function tt(e,t){if(null!=t){var n,s,i=Ui;s=Xe(e),null!=s&&(i=s._config),t=T(i,t),n=new x(t),n.parentLocale=Li[e],Li[e]=n,Ke(e)}else null!=Li[e]&&(null!=Li[e].parentLocale?Li[e]=Li[e].parentLocale:null!=Li[e]&&delete Li[e]);return Li[e]}function nt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Ri;if(!n(e)){if(t=Xe(e))return t;e=[e]}return Qe(e)}function st(){return Hs(Li)}function it(e){var t,n=e._a;return n&&f(e).overflow===-2&&(t=n[hi]<0||n[hi]>11?hi:n[ci]<1||n[ci]>ue(n[di],n[hi])?ci:n[fi]<0||n[fi]>24||24===n[fi]&&(0!==n[mi]||0!==n[_i]||0!==n[yi])?fi:n[mi]<0||n[mi]>59?mi:n[_i]<0||n[_i]>59?_i:n[yi]<0||n[yi]>999?yi:-1,f(e)._overflowDayOfYear&&(t<di||t>ci)&&(t=ci),f(e)._overflowWeeks&&t===-1&&(t=gi),f(e)._overflowWeekday&&t===-1&&(t=pi),f(e).overflow=t),e}function rt(e,t,n){return null!=e?e:null!=t?t:n}function at(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ot(e){var t,n,s,i,r,a=[];if(!e._d){for(s=at(e),e._w&&null==e._a[ci]&&null==e._a[hi]&&ut(e),null!=e._dayOfYear&&(r=rt(e._a[di],s[di]),(e._dayOfYear>K(r)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=ve(r,0,e._dayOfYear),e._a[hi]=n.getUTCMonth(),e._a[ci]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=s[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[fi]&&0===e._a[mi]&&0===e._a[_i]&&0===e._a[yi]&&(e._nextDay=!0,e._a[fi]=0),e._d=(e._useUTC?ve:we).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[fi]=24),e._w&&"undefined"!=typeof e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}function ut(e){var t,n,s,i,r,a,o,u;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)r=1,a=4,n=rt(t.GG,e._a[di],De(Yt(),1,4).year),s=rt(t.W,1),i=rt(t.E,1),(i<1||i>7)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=De(Yt(),r,a);n=rt(t.gg,e._a[di],l.year),s=rt(t.w,l.week),null!=t.d?(i=t.d,(i<0||i>6)&&(u=!0)):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r}s<1||s>ke(n,r,a)?f(e)._overflowWeeks=!0:null!=u?f(e)._overflowWeekday=!0:(o=Se(n,s,i,r,a),e._a[di]=o.year,e._dayOfYear=o.dayOfYear)}function lt(e){var t,n,s,i,r,a,o=e._i,u=Gi.exec(o)||Vi.exec(o);if(u){for(f(e).iso=!0,t=0,n=Ii.length;t<n;t++)if(Ii[t][1].exec(u[1])){i=Ii[t][0],s=Ii[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=Ai.length;t<n;t++)if(Ai[t][1].exec(u[3])){r=(u[2]||" ")+Ai[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!Ei.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),gt(e)}else e._isValid=!1}function dt(e,t,n,s,i,r){var a=[ht(e),Di.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}function ht(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ct(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}function ft(e,t,n){if(e){var s=xi.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(s!==i)return f(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function mt(e,t,n){if(e)return zi[e];if(t)return 0;var s=parseInt(n,10),i=s%100,r=(s-i)/100;return 60*r+i}function _t(e){var t=Zi.exec(ct(e._i));if(t){var n=dt(t[4],t[3],t[2],t[5],t[6],t[7]);if(!ft(t[1],n,e))return;e._a=n,e._tzm=mt(t[8],t[9],t[10]),e._d=ve.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function yt(t){var n=ji.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(lt(t),void(t._isValid===!1&&(delete t._isValid,_t(t),t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t)))))}function gt(t){if(t._f===e.ISO_8601)return void lt(t);if(t._f===e.RFC_2822)return void _t(t);t._a=[],f(t).empty=!0;var n,s,i,r,a,o=""+t._i,u=o.length,l=0;for(i=Z(t._f,t._locale).match(Es)||[],n=0;n<i.length;n++)r=i[n],s=(o.match($(r,t))||[])[0],s&&(a=o.substr(0,o.indexOf(s)),a.length>0&&f(t).unusedInput.push(a),o=o.slice(o.indexOf(s)+s.length),l+=s.length),js[r]?(s?f(t).empty=!1:f(t).unusedTokens.push(r),X(r,s,t)):t._strict&&!s&&f(t).unusedTokens.push(r);f(t).charsLeftOver=u-l,o.length>0&&f(t).unusedInput.push(o),t._a[fi]<=12&&f(t).bigHour===!0&&t._a[fi]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[fi]=pt(t._locale,t._a[fi],t._meridiem),ot(t),it(t)}function pt(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(s=e.isPM(n),s&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function wt(e){var t,n,s,i,r;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],gt(t),m(t)&&(r+=f(t).charsLeftOver,r+=10*f(t).unusedTokens.length,f(t).score=r,(null==s||r<s)&&(s=r,n=t));d(e,n||t)}function vt(e){if(!e._d){var t=L(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ot(e)}}function Mt(e){var t=new g(it(St(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function St(e){var t=e._i,s=e._f;return e._locale=e._locale||nt(e._l),null===t||void 0===s&&""===t?_({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),p(t)?new g(it(t)):(o(t)?e._d=t:n(s)?wt(e):s?gt(e):Dt(e),m(e)||(e._d=null),e))}function Dt(t){var i=t._i;r(i)?t._d=new Date(e.now()):o(i)?t._d=new Date(i.valueOf()):"string"==typeof i?yt(t):n(i)?(t._a=u(i.slice(0),function(e){return parseInt(e,10)}),ot(t)):s(i)?vt(t):a(i)?t._d=new Date(i):e.createFromInputFallback(t)}function kt(e,t,r,a,o){var u={};return r!==!0&&r!==!1||(a=r,r=void 0),(s(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=r,u._i=e,u._f=t,u._strict=a,Mt(u)}function Yt(e,t,n,s){return kt(e,t,n,s,!1)}function Ot(e,t){var s,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Yt();for(s=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](s)||(s=t[i]);return s}function Tt(){var e=[].slice.call(arguments,0);return Ot("isBefore",e)}function xt(){var e=[].slice.call(arguments,0);return Ot("isAfter",e)}function bt(e){for(var t in e)if(wi.call(Bi,t)===-1||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<Bi.length;++s)if(e[Bi[s]]){if(n)return!1;parseFloat(e[Bi[s]])!==v(e[Bi[s]])&&(n=!0)}return!0}function Pt(){return this._isValid}function Wt(){return Bt(NaN)}function Ht(e){var t=L(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,d=t.millisecond||0;this._isValid=bt(t),this._milliseconds=+d+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=nt(),this._bubble()}function Rt(e){return e instanceof Ht}function Ct(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Ft(e,t){E(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+V(~~(e/60),2)+t+V(~~e%60,2)})}function Ut(e,t){var n=(t||"").match(e);if(null===n)return null;var s=n[n.length-1]||[],i=(s+"").match(Qi)||["-",0,0],r=+(60*i[1])+v(i[2]);return 0===r?0:"+"===i[0]?r:-r}function Lt(t,n){var s,i;return n._isUTC?(s=n.clone(),i=(p(t)||o(t)?t.valueOf():Yt(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),e.updateOffset(s,!1),s):Yt(t).local()}function Nt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Gt(t,n,s){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Ut(ri,t),null===t)return this}else Math.abs(t)<16&&!s&&(t=60*t);return!this._isUTC&&n&&(i=Nt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?tn(this,Bt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Nt(this)}function Vt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Et(e){return this.utcOffset(0,e)}function It(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Nt(this),"m")),this}function At(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Ut(ii,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function jt(e){return!!this.isValid()&&(e=e?Yt(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function Zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function zt(){if(!r(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),e=St(e),e._a){var t=e._isUTC?h(e._a):Yt(e._a);this._isDSTShifted=this.isValid()&&M(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function $t(){return!!this.isValid()&&!this._isUTC}function qt(){return!!this.isValid()&&this._isUTC}function Jt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Bt(e,t){var n,s,i,r=e,o=null;return Rt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(r={},t?r[t]=e:r.milliseconds=e):(o=Xi.exec(e))?(n="-"===o[1]?-1:1,r={y:0,d:v(o[ci])*n,h:v(o[fi])*n,m:v(o[mi])*n,s:v(o[_i])*n,ms:v(Ct(1e3*o[yi]))*n}):(o=Ki.exec(e))?(n="-"===o[1]?-1:("+"===o[1],1),r={y:Qt(o[2],n),M:Qt(o[3],n),w:Qt(o[4],n),d:Qt(o[5],n),h:Qt(o[6],n),m:Qt(o[7],n),s:Qt(o[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(i=Kt(Yt(r.from),Yt(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),s=new Ht(r),Rt(e)&&l(e,"_locale")&&(s._locale=e._locale),s}function Qt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Xt(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Kt(e,t){var n;return e.isValid()&&t.isValid()?(t=Lt(t,e),e.isBefore(t)?n=Xt(e,t):(n=Xt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function en(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(k(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),n="string"==typeof n?+n:n,i=Bt(n,s),tn(this,i,e),this}}function tn(t,n,s,i){var r=n._milliseconds,a=Ct(n._days),o=Ct(n._months);t.isValid()&&(i=null==i||i,o&&fe(t,se(t,"Month")+o*s),a&&ie(t,"Date",se(t,"Date")+a*s),r&&t._d.setTime(t._d.valueOf()+r*s),i&&e.updateOffset(t,a||o))}function nn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function sn(t,n){var s=t||Yt(),i=Lt(s,this).startOf("day"),r=e.calendarFormat(this,i)||"sameElse",a=n&&(Y(n[r])?n[r].call(this,s):n[r]);return this.format(a||this.localeData().calendar(r,this,Yt(s)))}function rn(){return new g(this)}function an(e,t){var n=p(e)?e:Yt(e);return!(!this.isValid()||!n.isValid())&&(t=U(r(t)?"millisecond":t),"millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function on(e,t){var n=p(e)?e:Yt(e);return!(!this.isValid()||!n.isValid())&&(t=U(r(t)?"millisecond":t),"millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function un(e,t,n,s){return s=s||"()",("("===s[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===s[1]?this.isBefore(t,n):!this.isAfter(t,n))}function ln(e,t){var n,s=p(e)?e:Yt(e);return!(!this.isValid()||!s.isValid())&&(t=U(t||"millisecond"),"millisecond"===t?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function dn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function hn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function cn(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(s=Lt(e,this),!s.isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=U(t)){case"year":r=fn(this,s)/12;break;case"month":r=fn(this,s);break;case"quarter":r=fn(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:w(r)}function fn(e,t){var n,s,i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,"months");return t-r<0?(n=e.clone().add(i-1,"months"),s=(t-r)/(r-n)):(n=e.clone().add(i+1,"months"),s=(t-r)/(n-r)),-(i+s)||0}function mn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function _n(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?j(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Y(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this._d.valueOf()).toISOString().replace("Z",j(n,"Z")):j(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function yn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",r=t+'[")]';return this.format(n+s+i+r)}function gn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=j(this,t);return this.localeData().postformat(n)}function pn(e,t){return this.isValid()&&(p(e)&&e.isValid()||Yt(e).isValid())?Bt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function wn(e){return this.from(Yt(),e)}function vn(e,t){return this.isValid()&&(p(e)&&e.isValid()||Yt(e).isValid())?Bt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function Mn(e){return this.to(Yt(),e)}function Sn(e){var t;return void 0===e?this._locale._abbr:(t=nt(e),null!=t&&(this._locale=t),this)}function Dn(){return this._locale}function kn(e){switch(e=U(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function Yn(e){return e=U(e),void 0===e||"millisecond"===e?this:("date"===e&&(e="day"),
this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function On(){return this._d.valueOf()-6e4*(this._offset||0)}function Tn(){return Math.floor(this.valueOf()/1e3)}function xn(){return new Date(this.valueOf())}function bn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Pn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Wn(){return this.isValid()?this.toISOString():null}function Hn(){return m(this)}function Rn(){return d({},f(this))}function Cn(){return f(this).overflow}function Fn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Un(e,t){E(0,[e,e.length],0,t)}function Ln(e){return En.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Nn(e){return En.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Gn(){return ke(this.year(),1,4)}function Vn(){var e=this.localeData()._week;return ke(this.year(),e.dow,e.doy)}function En(e,t,n,s,i){var r;return null==e?De(this,s,i).year:(r=ke(e,s,i),t>r&&(t=r),In.call(this,e,t,n,s,i))}function In(e,t,n,s,i){var r=Se(e,t,n,s,i),a=ve(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function An(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function jn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Zn(e,t){t[yi]=v(1e3*("0."+e))}function zn(){return this._isUTC?"UTC":""}function $n(){return this._isUTC?"Coordinated Universal Time":""}function qn(e){return Yt(1e3*e)}function Jn(){return Yt.apply(null,arguments).parseZone()}function Bn(e){return e}function Qn(e,t,n,s){var i=nt(),r=h().set(s,t);return i[n](r,e)}function Xn(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return Qn(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=Qn(e,s,n,"month");return i}function Kn(e,t,n,s){"boolean"==typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var i=nt(),r=e?i._week.dow:0;if(null!=n)return Qn(t,(n+r)%7,s,"day");var o,u=[];for(o=0;o<7;o++)u[o]=Qn(t,(o+r)%7,s,"day");return u}function es(e,t){return Xn(e,t,"months")}function ts(e,t){return Xn(e,t,"monthsShort")}function ns(e,t,n){return Kn(e,t,n,"weekdays")}function ss(e,t,n){return Kn(e,t,n,"weekdaysShort")}function is(e,t,n){return Kn(e,t,n,"weekdaysMin")}function rs(){var e=this._data;return this._milliseconds=dr(this._milliseconds),this._days=dr(this._days),this._months=dr(this._months),e.milliseconds=dr(e.milliseconds),e.seconds=dr(e.seconds),e.minutes=dr(e.minutes),e.hours=dr(e.hours),e.months=dr(e.months),e.years=dr(e.years),this}function as(e,t,n,s){var i=Bt(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function os(e,t){return as(this,e,t,1)}function us(e,t){return as(this,e,t,-1)}function ls(e){return e<0?Math.floor(e):Math.ceil(e)}function ds(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*ls(cs(o)+a),a=0,o=0),u.milliseconds=r%1e3,e=w(r/1e3),u.seconds=e%60,t=w(e/60),u.minutes=t%60,n=w(t/60),u.hours=n%24,a+=w(n/24),i=w(hs(a)),o+=i,a-=ls(cs(i)),s=w(o/12),o%=12,u.days=a,u.months=o,u.years=s,this}function hs(e){return 4800*e/146097}function cs(e){return 146097*e/4800}function fs(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if(e=U(e),"month"===e||"year"===e)return t=this._days+s/864e5,n=this._months+hs(t),"month"===e?n:n/12;switch(t=this._days+Math.round(cs(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}}function ms(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12):NaN}function _s(e){return function(){return this.as(e)}}function ys(){return Bt(this)}function gs(e){return e=U(e),this.isValid()?this[e+"s"]():NaN}function ps(e){return function(){return this.isValid()?this._data[e]:NaN}}function ws(){return w(this.days()/7)}function vs(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function Ms(e,t,n){var s=Bt(e).abs(),i=Or(s.as("s")),r=Or(s.as("m")),a=Or(s.as("h")),o=Or(s.as("d")),u=Or(s.as("M")),l=Or(s.as("y")),d=i<=Tr.ss&&["s",i]||i<Tr.s&&["ss",i]||r<=1&&["m"]||r<Tr.m&&["mm",r]||a<=1&&["h"]||a<Tr.h&&["hh",a]||o<=1&&["d"]||o<Tr.d&&["dd",o]||u<=1&&["M"]||u<Tr.M&&["MM",u]||l<=1&&["y"]||["yy",l];return d[2]=t,d[3]=+e>0,d[4]=n,vs.apply(null,d)}function Ss(e){return void 0===e?Or:"function"==typeof e&&(Or=e,!0)}function Ds(e,t){return void 0!==Tr[e]&&(void 0===t?Tr[e]:(Tr[e]=t,"s"===e&&(Tr.ss=t-1),!0))}function ks(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Ms(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function Ys(e){return(e>0)-(e<0)||+e}function Os(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s=xr(this._milliseconds)/1e3,i=xr(this._days),r=xr(this._months);e=w(s/60),t=w(e/60),s%=60,e%=60,n=w(r/12),r%=12;var a=n,o=r,u=i,l=t,d=e,h=s?s.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var f=c<0?"-":"",m=Ys(this._months)!==Ys(c)?"-":"",_=Ys(this._days)!==Ys(c)?"-":"",y=Ys(this._milliseconds)!==Ys(c)?"-":"";return f+"P"+(a?m+a+"Y":"")+(o?m+o+"M":"")+(u?_+u+"D":"")+(l||d||h?"T":"")+(l?y+l+"H":"")+(d?y+d+"M":"")+(h?y+h+"S":"")}var Ts,xs;xs=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var bs=e.momentProperties=[],Ps=!1,Ws={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Hs;Hs=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var Rs={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Cs={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Fs="Invalid date",Us="%d",Ls=/\d{1,2}/,Ns={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Gs={},Vs={},Es=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Is=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,As={},js={},Zs=/\d/,zs=/\d\d/,$s=/\d{3}/,qs=/\d{4}/,Js=/[+-]?\d{6}/,Bs=/\d\d?/,Qs=/\d\d\d\d?/,Xs=/\d\d\d\d\d\d?/,Ks=/\d{1,3}/,ei=/\d{1,4}/,ti=/[+-]?\d{1,6}/,ni=/\d+/,si=/[+-]?\d+/,ii=/Z|[+-]\d\d:?\d\d/gi,ri=/Z|[+-]\d\d(?::?\d\d)?/gi,ai=/[+-]?\d+(\.\d{1,3})?/,oi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ui={},li={},di=0,hi=1,ci=2,fi=3,mi=4,_i=5,yi=6,gi=7,pi=8;E("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),F("year","y"),N("year",1),z("Y",si),z("YY",Bs,zs),z("YYYY",ei,qs),z("YYYYY",ti,Js),z("YYYYYY",ti,Js),B(["YYYYY","YYYYYY"],di),B("YYYY",function(t,n){n[di]=2===t.length?e.parseTwoDigitYear(t):v(t)}),B("YY",function(t,n){n[di]=e.parseTwoDigitYear(t)}),B("Y",function(e,t){t[di]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var wi,vi=ne("FullYear",!0);wi=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),E("MMMM",0,0,function(e){return this.localeData().months(this,e)}),F("month","M"),N("month",8),z("M",Bs),z("MM",Bs,zs),z("MMM",function(e,t){return t.monthsShortRegex(e)}),z("MMMM",function(e,t){return t.monthsRegex(e)}),B(["M","MM"],function(e,t){t[hi]=v(e)-1}),B(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[hi]=i:f(n).invalidMonth=e});var Mi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Si="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Di="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),ki=oi,Yi=oi;E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),F("week","w"),F("isoWeek","W"),N("week",5),N("isoWeek",5),z("w",Bs),z("ww",Bs,zs),z("W",Bs),z("WW",Bs,zs),Q(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=v(e)});var Oi={dow:0,doy:6};E("d",0,"do","day"),E("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),E("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),E("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),F("day","d"),F("weekday","e"),F("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),z("d",Bs),z("e",Bs),z("E",Bs),z("dd",function(e,t){return t.weekdaysMinRegex(e)}),z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),z("dddd",function(e,t){return t.weekdaysRegex(e)}),Q(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),Q(["d","e","E"],function(e,t,n,s){t[s]=v(e)});var Ti="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),xi="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),bi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Pi=oi,Wi=oi,Hi=oi;E("H",["HH",2],0,"hour"),E("h",["hh",2],0,je),E("k",["kk",2],0,Ze),E("hmm",0,0,function(){return""+je.apply(this)+V(this.minutes(),2)}),E("hmmss",0,0,function(){return""+je.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),E("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),E("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),ze("a",!0),ze("A",!1),F("hour","h"),N("hour",13),z("a",$e),z("A",$e),z("H",Bs),z("h",Bs),z("k",Bs),z("HH",Bs,zs),z("hh",Bs,zs),z("kk",Bs,zs),z("hmm",Qs),z("hmmss",Xs),z("Hmm",Qs),z("Hmmss",Xs),B(["H","HH"],fi),B(["k","kk"],function(e,t,n){var s=v(e);t[fi]=24===s?0:s}),B(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),B(["h","hh"],function(e,t,n){t[fi]=v(e),f(n).bigHour=!0}),B("hmm",function(e,t,n){var s=e.length-2;t[fi]=v(e.substr(0,s)),t[mi]=v(e.substr(s)),f(n).bigHour=!0}),B("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[fi]=v(e.substr(0,s)),t[mi]=v(e.substr(s,2)),t[_i]=v(e.substr(i)),f(n).bigHour=!0}),B("Hmm",function(e,t,n){var s=e.length-2;t[fi]=v(e.substr(0,s)),t[mi]=v(e.substr(s))}),B("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[fi]=v(e.substr(0,s)),t[mi]=v(e.substr(s,2)),t[_i]=v(e.substr(i))});var Ri,Ci=/[ap]\.?m?\.?/i,Fi=ne("Hours",!0),Ui={calendar:Rs,longDateFormat:Cs,invalidDate:Fs,ordinal:Us,dayOfMonthOrdinalParse:Ls,relativeTime:Ns,months:Si,monthsShort:Di,week:Oi,weekdays:Ti,weekdaysMin:bi,weekdaysShort:xi,meridiemParse:Ci},Li={},Ni={},Gi=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Vi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ei=/Z|[+-]\d\d(?::?\d\d)?/,Ii=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Ai=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ji=/^\/?Date\((\-?\d+)/i,Zi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,zi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=D("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var $i=D("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Yt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()}),qi=D("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Yt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()}),Ji=function(){return Date.now?Date.now():+new Date},Bi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ft("Z",":"),Ft("ZZ",""),z("Z",ri),z("ZZ",ri),B(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Ut(ri,e)});var Qi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Xi=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ki=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Bt.fn=Ht.prototype,Bt.invalid=Wt;var er=en(1,"add"),tr=en(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nr=D("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Un("gggg","weekYear"),Un("ggggg","weekYear"),Un("GGGG","isoWeekYear"),Un("GGGGG","isoWeekYear"),F("weekYear","gg"),F("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),z("G",si),z("g",si),z("GG",Bs,zs),z("gg",Bs,zs),z("GGGG",ei,qs),z("gggg",ei,qs),z("GGGGG",ti,Js),z("ggggg",ti,Js),Q(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=v(e)}),Q(["gg","GG"],function(t,n,s,i){n[i]=e.parseTwoDigitYear(t)}),E("Q",0,"Qo","quarter"),F("quarter","Q"),N("quarter",7),z("Q",Zs),B("Q",function(e,t){t[hi]=3*(v(e)-1)}),E("D",["DD",2],"Do","date"),F("date","D"),N("date",9),z("D",Bs),z("DD",Bs,zs),z("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),B(["D","DD"],ci),B("Do",function(e,t){t[ci]=v(e.match(Bs)[0])});var sr=ne("Date",!0);E("DDD",["DDDD",3],"DDDo","dayOfYear"),F("dayOfYear","DDD"),N("dayOfYear",4),z("DDD",Ks),z("DDDD",$s),B(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),E("m",["mm",2],0,"minute"),F("minute","m"),N("minute",14),z("m",Bs),z("mm",Bs,zs),B(["m","mm"],mi);var ir=ne("Minutes",!1);E("s",["ss",2],0,"second"),F("second","s"),N("second",15),z("s",Bs),z("ss",Bs,zs),B(["s","ss"],_i);var rr=ne("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return 10*this.millisecond()}),E(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),E(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),E(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),E(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),E(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),F("millisecond","ms"),N("millisecond",16),z("S",Ks,Zs),z("SS",Ks,zs),z("SSS",Ks,$s);var ar;for(ar="SSSS";ar.length<=9;ar+="S")z(ar,ni);for(ar="S";ar.length<=9;ar+="S")B(ar,Zn);var or=ne("Milliseconds",!1);E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var ur=g.prototype;ur.add=er,ur.calendar=sn,ur.clone=rn,ur.diff=cn,ur.endOf=Yn,ur.format=gn,ur.from=pn,ur.fromNow=wn,ur.to=vn,ur.toNow=Mn,ur.get=re,ur.invalidAt=Cn,ur.isAfter=an,ur.isBefore=on,ur.isBetween=un,ur.isSame=ln,ur.isSameOrAfter=dn,ur.isSameOrBefore=hn,ur.isValid=Hn,ur.lang=nr,ur.locale=Sn,ur.localeData=Dn,ur.max=qi,ur.min=$i,ur.parsingFlags=Rn,ur.set=ae,ur.startOf=kn,ur.subtract=tr,ur.toArray=bn,ur.toObject=Pn,ur.toDate=xn,ur.toISOString=_n,ur.inspect=yn,ur.toJSON=Wn,ur.toString=mn,ur.unix=Tn,ur.valueOf=On,ur.creationData=Fn,ur.year=vi,ur.isLeapYear=te,ur.weekYear=Ln,ur.isoWeekYear=Nn,ur.quarter=ur.quarters=An,ur.month=me,ur.daysInMonth=_e,ur.week=ur.weeks=xe,ur.isoWeek=ur.isoWeeks=be,ur.weeksInYear=Vn,ur.isoWeeksInYear=Gn,ur.date=sr,ur.day=ur.days=Le,ur.weekday=Ne,ur.isoWeekday=Ge,ur.dayOfYear=jn,ur.hour=ur.hours=Fi,ur.minute=ur.minutes=ir,ur.second=ur.seconds=rr,ur.millisecond=ur.milliseconds=or,ur.utcOffset=Gt,ur.utc=Et,ur.local=It,ur.parseZone=At,ur.hasAlignedHourOffset=jt,ur.isDST=Zt,ur.isLocal=$t,ur.isUtcOffset=qt,ur.isUtc=Jt,ur.isUTC=Jt,ur.zoneAbbr=zn,ur.zoneName=$n,ur.dates=D("dates accessor is deprecated. Use date instead.",sr),ur.months=D("months accessor is deprecated. Use month instead",me),ur.years=D("years accessor is deprecated. Use year instead",vi),ur.zone=D("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Vt),ur.isDSTShifted=D("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",zt);var lr=x.prototype;lr.calendar=b,lr.longDateFormat=P,lr.invalidDate=W,lr.ordinal=H,lr.preparse=Bn,lr.postformat=Bn,lr.relativeTime=R,lr.pastFuture=C,lr.set=O,lr.months=le,lr.monthsShort=de,lr.monthsParse=ce,lr.monthsRegex=ge,lr.monthsShortRegex=ye,lr.week=Ye,lr.firstDayOfYear=Te,lr.firstDayOfWeek=Oe,lr.weekdays=He,lr.weekdaysMin=Ce,lr.weekdaysShort=Re,lr.weekdaysParse=Ue,lr.weekdaysRegex=Ve,lr.weekdaysShortRegex=Ee,lr.weekdaysMinRegex=Ie,lr.isPM=qe,lr.meridiem=Je,Ke("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=D("moment.lang is deprecated. Use moment.locale instead.",Ke),e.langData=D("moment.langData is deprecated. Use moment.localeData instead.",nt);var dr=Math.abs,hr=_s("ms"),cr=_s("s"),fr=_s("m"),mr=_s("h"),_r=_s("d"),yr=_s("w"),gr=_s("M"),pr=_s("y"),wr=ps("milliseconds"),vr=ps("seconds"),Mr=ps("minutes"),Sr=ps("hours"),Dr=ps("days"),kr=ps("months"),Yr=ps("years"),Or=Math.round,Tr={ss:44,s:45,m:45,h:22,d:26,M:11},xr=Math.abs,br=Ht.prototype;return br.isValid=Pt,br.abs=rs,br.add=os,br.subtract=us,br.as=fs,br.asMilliseconds=hr,br.asSeconds=cr,br.asMinutes=fr,br.asHours=mr,br.asDays=_r,br.asWeeks=yr,br.asMonths=gr,br.asYears=pr,br.valueOf=ms,br._bubble=ds,br.clone=ys,br.get=gs,br.milliseconds=wr,br.seconds=vr,br.minutes=Mr,br.hours=Sr,br.days=Dr,br.weeks=ws,br.months=kr,br.years=Yr,br.humanize=ks,br.toISOString=Os,br.toString=Os,br.toJSON=Os,br.locale=Sn,br.localeData=Dn,br.toIsoString=D("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Os),br.lang=nr,E("X",0,0,"unix"),E("x",0,0,"valueOf"),z("x",si),z("X",ai),B("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),B("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.20.1",t(Yt),e.fn=ur,e.min=Tt,e.max=xt,e.now=Ji,e.utc=h,e.unix=qn,e.months=es,e.isDate=o,e.locale=Ke,e.invalid=_,e.duration=Bt,e.isMoment=p,e.weekdays=ns,e.parseZone=Jn,e.localeData=nt,e.isDuration=Rt,e.monthsShort=ts,e.weekdaysMin=is,e.defineLocale=et,e.updateLocale=tt,e.locales=st,e.weekdaysShort=ss,e.normalizeUnits=U,e.relativeTimeRounding=Ss,e.relativeTimeThreshold=Ds,e.calendarFormat=nn,e.prototype=ur,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},e});
},{}],"tinymce/plugins/anchor/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function t(){}var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(t){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(t)},r=function(t){var e=t.selection.getNode(),n="A"===e.tagName&&""===t.dom.getAttrib(e,"href");return n?e.id||e.name:""},o=function(t,e){var n=t.selection.getNode(),r="A"===n.tagName&&""===t.dom.getAttrib(n,"href");r?(n.removeAttribute("name"),n.id=e):(t.focus(),t.selection.collapse(!0),t.execCommand("mceInsertContent",!1,t.dom.createHTML("a",{id:e})))},i={isValidId:n,getId:r,insert:o},a=function(t,e){return i.isValidId(e)?(i.insert(t,e),!1):(t.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!0)},c=function(t){var e=i.getId(t);t.windowManager.open({title:"Anchor",body:{type:"textbox",name:"id",size:40,label:"Id",value:e},onsubmit:function(e){var n=e.data.id;a(t,n)&&e.preventDefault()}})},d={open:c},u=function(t){t.addCommand("mceAnchor",function(){d.open(t)})},s={register:u},l=function(t){return!t.attr("href")&&(t.attr("id")||t.attr("name"))&&!t.firstChild},f=function(t){return function(e){for(var n=0;n<e.length;n++)l(e[n])&&e[n].attr("contenteditable",t)}},m=function(t){t.on("PreInit",function(){t.parser.addNodeFilter("a",f("false")),t.serializer.addNodeFilter("a",f(null))})},h={setup:m},g=function(t){t.addButton("anchor",{icon:"anchor",tooltip:"Anchor",cmd:"mceAnchor",stateSelector:"a:not([href])"}),t.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",cmd:"mceAnchor"})},A={register:g};return e.add("anchor",function(t){h.setup(t),s.register(t),A.register(t)}),t})()}();
},{}],"tinymce/plugins/charmap/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(e,t){return e.fire("insertCustomChar",{chr:t})},a={fireInsertCustomChar:r},i=function(e,t){var r=a.fireInsertCustomChar(e,t).chr;e.execCommand("mceInsertContent",!1,r)},n={insertChar:i},o=tinymce.util.Tools.resolve("tinymce.util.Tools"),s=function(e){return e.settings.charmap},c=function(e){return e.settings.charmap_append},l={getCharMap:s,getCharMapAppend:c},u=o.isArray,m=function(){return[["160","no-break space"],["173","soft hyphen"],["34","quotation mark"],["162","cent sign"],["8364","euro sign"],["163","pound sign"],["165","yen sign"],["169","copyright sign"],["174","registered sign"],["8482","trade mark sign"],["8240","per mille sign"],["181","micro sign"],["183","middle dot"],["8226","bullet"],["8230","three dot leader"],["8242","minutes / feet"],["8243","seconds / inches"],["167","section sign"],["182","paragraph sign"],["223","sharp s / ess-zed"],["8249","single left-pointing angle quotation mark"],["8250","single right-pointing angle quotation mark"],["171","left pointing guillemet"],["187","right pointing guillemet"],["8216","left single quotation mark"],["8217","right single quotation mark"],["8220","left double quotation mark"],["8221","right double quotation mark"],["8218","single low-9 quotation mark"],["8222","double low-9 quotation mark"],["60","less-than sign"],["62","greater-than sign"],["8804","less-than or equal to"],["8805","greater-than or equal to"],["8211","en dash"],["8212","em dash"],["175","macron"],["8254","overline"],["164","currency sign"],["166","broken bar"],["168","diaeresis"],["161","inverted exclamation mark"],["191","turned question mark"],["710","circumflex accent"],["732","small tilde"],["176","degree sign"],["8722","minus sign"],["177","plus-minus sign"],["247","division sign"],["8260","fraction slash"],["215","multiplication sign"],["185","superscript one"],["178","superscript two"],["179","superscript three"],["188","fraction one quarter"],["189","fraction one half"],["190","fraction three quarters"],["402","function / florin"],["8747","integral"],["8721","n-ary sumation"],["8734","infinity"],["8730","square root"],["8764","similar to"],["8773","approximately equal to"],["8776","almost equal to"],["8800","not equal to"],["8801","identical to"],["8712","element of"],["8713","not an element of"],["8715","contains as member"],["8719","n-ary product"],["8743","logical and"],["8744","logical or"],["172","not sign"],["8745","intersection"],["8746","union"],["8706","partial differential"],["8704","for all"],["8707","there exists"],["8709","diameter"],["8711","backward difference"],["8727","asterisk operator"],["8733","proportional to"],["8736","angle"],["180","acute accent"],["184","cedilla"],["170","feminine ordinal indicator"],["186","masculine ordinal indicator"],["8224","dagger"],["8225","double dagger"],["192","A - grave"],["193","A - acute"],["194","A - circumflex"],["195","A - tilde"],["196","A - diaeresis"],["197","A - ring above"],["256","A - macron"],["198","ligature AE"],["199","C - cedilla"],["200","E - grave"],["201","E - acute"],["202","E - circumflex"],["203","E - diaeresis"],["274","E - macron"],["204","I - grave"],["205","I - acute"],["206","I - circumflex"],["207","I - diaeresis"],["298","I - macron"],["208","ETH"],["209","N - tilde"],["210","O - grave"],["211","O - acute"],["212","O - circumflex"],["213","O - tilde"],["214","O - diaeresis"],["216","O - slash"],["332","O - macron"],["338","ligature OE"],["352","S - caron"],["217","U - grave"],["218","U - acute"],["219","U - circumflex"],["220","U - diaeresis"],["362","U - macron"],["221","Y - acute"],["376","Y - diaeresis"],["562","Y - macron"],["222","THORN"],["224","a - grave"],["225","a - acute"],["226","a - circumflex"],["227","a - tilde"],["228","a - diaeresis"],["229","a - ring above"],["257","a - macron"],["230","ligature ae"],["231","c - cedilla"],["232","e - grave"],["233","e - acute"],["234","e - circumflex"],["235","e - diaeresis"],["275","e - macron"],["236","i - grave"],["237","i - acute"],["238","i - circumflex"],["239","i - diaeresis"],["299","i - macron"],["240","eth"],["241","n - tilde"],["242","o - grave"],["243","o - acute"],["244","o - circumflex"],["245","o - tilde"],["246","o - diaeresis"],["248","o slash"],["333","o macron"],["339","ligature oe"],["353","s - caron"],["249","u - grave"],["250","u - acute"],["251","u - circumflex"],["252","u - diaeresis"],["363","u - macron"],["253","y - acute"],["254","thorn"],["255","y - diaeresis"],["563","y - macron"],["913","Alpha"],["914","Beta"],["915","Gamma"],["916","Delta"],["917","Epsilon"],["918","Zeta"],["919","Eta"],["920","Theta"],["921","Iota"],["922","Kappa"],["923","Lambda"],["924","Mu"],["925","Nu"],["926","Xi"],["927","Omicron"],["928","Pi"],["929","Rho"],["931","Sigma"],["932","Tau"],["933","Upsilon"],["934","Phi"],["935","Chi"],["936","Psi"],["937","Omega"],["945","alpha"],["946","beta"],["947","gamma"],["948","delta"],["949","epsilon"],["950","zeta"],["951","eta"],["952","theta"],["953","iota"],["954","kappa"],["955","lambda"],["956","mu"],["957","nu"],["958","xi"],["959","omicron"],["960","pi"],["961","rho"],["962","final sigma"],["963","sigma"],["964","tau"],["965","upsilon"],["966","phi"],["967","chi"],["968","psi"],["969","omega"],["8501","alef symbol"],["982","pi symbol"],["8476","real part symbol"],["978","upsilon - hook symbol"],["8472","Weierstrass p"],["8465","imaginary part"],["8592","leftwards arrow"],["8593","upwards arrow"],["8594","rightwards arrow"],["8595","downwards arrow"],["8596","left right arrow"],["8629","carriage return"],["8656","leftwards double arrow"],["8657","upwards double arrow"],["8658","rightwards double arrow"],["8659","downwards double arrow"],["8660","left right double arrow"],["8756","therefore"],["8834","subset of"],["8835","superset of"],["8836","not a subset of"],["8838","subset of or equal to"],["8839","superset of or equal to"],["8853","circled plus"],["8855","circled times"],["8869","perpendicular"],["8901","dot operator"],["8968","left ceiling"],["8969","right ceiling"],["8970","left floor"],["8971","right floor"],["9001","left-pointing angle bracket"],["9002","right-pointing angle bracket"],["9674","lozenge"],["9824","black spade suit"],["9827","black club suit"],["9829","black heart suit"],["9830","black diamond suit"],["8194","en space"],["8195","em space"],["8201","thin space"],["8204","zero width non-joiner"],["8205","zero width joiner"],["8206","left-to-right mark"],["8207","right-to-left mark"]]},d=function(e){return o.grep(e,function(e){return u(e)&&2===e.length})},g=function(e){return u(e)?[].concat(d(e)):"function"==typeof e?e():[]},p=function(e,t){var r=l.getCharMap(e);r&&(t=g(r));var a=l.getCharMapAppend(e);return a?[].concat(t).concat(g(a)):t},h=function(e){return p(e,m())},f={getCharMap:h},b=function(e){var t=function(){return f.getCharMap(e)},r=function(t){n.insertChar(e,t)};return{getCharMap:t,insertChar:r}},v={get:b},w=function(e){var t,r,a,i=Math.min(e.length,25),n=Math.ceil(e.length/i);for(t='<table role="presentation" cellspacing="0" class="mce-charmap"><tbody>',a=0;a<n;a++){for(t+="<tr>",r=0;r<i;r++){var o=a*i+r;if(o<e.length){var s=e[o],c=parseInt(s[0],10),l=s?String.fromCharCode(c):"&nbsp;";t+='<td title="'+s[1]+'"><div tabindex="-1" title="'+s[1]+'" role="button" data-chr="'+c+'">'+l+"</div></td>"}else t+="<td />"}t+="</tr>"}return t+="</tbody></table>"},C={getHtml:w},y=function(e){for(;e;){if("TD"===e.nodeName)return e;e=e.parentNode}},x=function(e){var t,r={type:"container",html:C.getHtml(f.getCharMap(e)),onclick:function(r){var a=r.target;if(/^(TD|DIV)$/.test(a.nodeName)){var i=y(a).firstChild;if(i&&i.hasAttribute("data-chr")){var o=i.getAttribute("data-chr"),s=parseInt(o,10);isNaN(s)||n.insertChar(e,String.fromCharCode(s)),r.ctrlKey||t.close()}}},onmouseover:function(e){var r=y(e.target);r&&r.firstChild?(t.find("#preview").text(r.firstChild.firstChild.data),t.find("#previewTitle").text(r.title)):(t.find("#preview").text(" "),t.find("#previewTitle").text(" "))}};t=e.windowManager.open({title:"Special character",spacing:10,padding:10,items:[r,{type:"container",layout:"flex",direction:"column",align:"center",spacing:5,minWidth:160,minHeight:160,items:[{type:"label",name:"preview",text:" ",style:"font-size: 40px; text-align: center",border:1,minWidth:140,minHeight:80},{type:"spacer",minHeight:20},{type:"label",name:"previewTitle",text:" ",style:"white-space: pre-wrap;",border:1,minWidth:140}]}],buttons:[{text:"Close",onclick:function(){t.close()}}]})},k={open:x},q=function(e){e.addCommand("mceShowCharmap",function(){k.open(e)})},A={register:q},M=function(e){e.addButton("charmap",{icon:"charmap",tooltip:"Special character",cmd:"mceShowCharmap"}),e.addMenuItem("charmap",{icon:"charmap",text:"Special character",cmd:"mceShowCharmap",context:"insert"})},I={register:M};return t.add("charmap",function(e){return A.register(e),I.register(e),v.get(e)}),e})()}();
},{}],"tinymce/plugins/code/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function t(){}var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),o=function(t){return t.getParam("code_dialog_width",600)},i=function(t){return t.getParam("code_dialog_height",Math.min(n.DOM.getViewPort().h-200,500))},c={getMinWidth:o,getMinHeight:i},d=function(t,e){t.focus(),t.undoManager.transact(function(){t.setContent(e)}),t.selection.setCursorLocation(),t.nodeChanged()},r=function(t){return t.getContent({source_view:!0})},u={setContent:d,getContent:r},a=function(t){var e=c.getMinWidth(t),n=c.getMinHeight(t),o=t.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:e,minHeight:n,spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){u.setContent(t,e.data.code)}});o.find("#code").value(u.getContent(t))},g={open:a},l=function(t){t.addCommand("mceCodeEditor",function(){g.open(t)})},s={register:l},f=function(t){t.addButton("code",{icon:"code",tooltip:"Source code",onclick:function(){g.open(t)}}),t.addMenuItem("code",{icon:"code",text:"Source code",onclick:function(){g.open(t)}})},m={register:f};return e.add("code",function(t){return s.register(t),m.register(t),{}}),t})()}();
},{}],"tinymce/plugins/colorpicker/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.util.Color"),t=function(e,n){e.find("#preview")[0].getEl().style.background=n},o=function(e,n){var o=i(n),l=o.toRgb();e.fromJSON({r:l.r,g:l.g,b:l.b,hex:o.toHex().substr(1)}),t(e,o.toHex())},l=function(e,n,i){var l=e.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:i,onchange:function(){var e=this.rgb();l&&(l.find("#r").value(e.r),l.find("#g").value(e.g),l.find("#b").value(e.b),l.find("#hex").value(this.value().substr(1)),t(l,this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var e,n,i=l.find("colorpicker")[0];return e=this.name(),n=this.value(),"hex"===e?(n="#"+n,o(l,n),void i.value(n)):(n={r:l.find("#r").value(),g:l.find("#g").value(),b:l.find("#b").value()},i.value(n),void o(l,n))}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){n("#"+l.toJSON().hex)}});o(l,i)},a={open:l};return n.add("colorpicker",function(e){e.settings.color_picker_callback||(e.settings.color_picker_callback=function(n,i){a.open(e,n,i)})}),e})()}();
},{}],"tinymce/plugins/contextmenu/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function t(){}var e=function(t){var n=t,o=function(){return n},u=function(t){n=t},r=function(){return e(o())};return{get:o,set:u,clone:r}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(t){var e=function(){return t.get()};return{isContextMenuVisible:e}},u={get:o},r=function(t){return t.settings.contextmenu_never_use_native},i=function(t){return t.getParam("contextmenu","link openlink image inserttable | cell row column deletetable")},c={shouldNeverUseNative:r,getContextMenu:i},s=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),l=function(t){return s.DOM.select(t.settings.ui_container)[0]},a=function(t,e){return{x:t,y:e}},f=function(t,e,n){return a(t.x+e,t.y+n)},g=function(t){return a(t.pageX,t.pageY)},m=function(t){return a(t.clientX,t.clientY)},v=function(t,e){if(t&&"static"!==s.DOM.getStyle(t,"position",!0)){var n=s.DOM.getPos(t),o=n.x-t.scrollLeft,u=n.y-t.scrollTop;return f(e,-o,-u)}return f(e,0,0)},x=function(t,e){var n=s.DOM.getPos(t);return f(e,n.x,n.y)},y=function(t,e){if(t.inline)return v(l(t),g(e));var n=x(t.getContentAreaContainer(),m(e));return v(l(t),n)},h={getPos:y},p=tinymce.util.Tools.resolve("tinymce.ui.Factory"),M=tinymce.util.Tools.resolve("tinymce.util.Tools"),d=function(t,e){var n,o,u=[];o=c.getContextMenu(t),M.each(o.split(/[ ,]/),function(e){var n=t.menuItems[e];"|"===e&&(n={text:e}),n&&(n.shortcut="",u.push(n))});for(var r=0;r<u.length;r++)"|"===u[r].text&&(0!==r&&r!==u.length-1||u.splice(r,1));return n=p.create("menu",{items:u,context:"contextmenu",classes:"contextmenu"}),n.uiContainer=l(t),n.renderTo(l(t)),n.on("hide",function(t){t.control===this&&e.set(!1)}),t.on("remove",function(){n.remove(),n=null}),n},T=function(t,e,n,o){null===o.get()?o.set(d(t,n)):o.get().show(),o.get().moveTo(e.x,e.y),n.set(!0)},C={show:T},D=function(t,e){return e.ctrlKey&&!c.shouldNeverUseNative(t)},P=function(t,e,n){t.on("contextmenu",function(o){D(t,o)||(o.preventDefault(),C.show(t,h.getPos(t,o),e,n))})},O={setup:P};return n.add("contextmenu",function(t){var n=e(null),o=e(!1);return O.setup(t,o,n),u.get(o)}),t})()}();
},{}],"tinymce/plugins/fullscreen/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){}var t=function(e){var n=e,i=function(){return n},r=function(e){n=e},l=function(){return t(i())};return{get:i,set:r,clone:l}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=function(e){return{isFullscreen:function(){return null!==e.get()}}},r={get:i},l=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),c=function(e,t){e.fire("FullscreenStateChanged",{state:t})},o={fireFullscreenStateChanged:c},u=l.DOM,s=function(){var e,t,n=window,i=document,r=i.body;return r.offsetWidth&&(e=r.offsetWidth,t=r.offsetHeight),n.innerWidth&&n.innerHeight&&(e=n.innerWidth,t=n.innerHeight),{w:e,h:t}},d=function(){var e=u.getViewPort();return{x:e.x,y:e.y}},a=function(e){window.scrollTo(e.x,e.y)},f=function(e,t){var n,i,r,l,c=document.body,f=document.documentElement,h=t.get(),g=function(){u.setStyle(r,"height",s().h-(i.clientHeight-r.clientHeight))},m=function(){u.unbind(window,"resize",g)};if(i=e.getContainer(),n=i.style,r=e.getContentAreaContainer().firstChild,l=r.style,h)l.width=h.iframeWidth,l.height=h.iframeHeight,h.containerWidth&&(n.width=h.containerWidth),h.containerHeight&&(n.height=h.containerHeight),u.removeClass(c,"mce-fullscreen"),u.removeClass(f,"mce-fullscreen"),u.removeClass(i,"mce-fullscreen"),a(h.scrollPos),u.unbind(window,"resize",h.resizeHandler),e.off("remove",h.removeHandler),t.set(null),o.fireFullscreenStateChanged(e,!1);else{var v={scrollPos:d(),containerWidth:n.width,containerHeight:n.height,iframeWidth:l.width,iframeHeight:l.height,resizeHandler:g,removeHandler:m};l.width=l.height="100%",n.width=n.height="",u.addClass(c,"mce-fullscreen"),u.addClass(f,"mce-fullscreen"),u.addClass(i,"mce-fullscreen"),u.bind(window,"resize",g),e.on("remove",m),g(),t.set(v),o.fireFullscreenStateChanged(e,!0)}},h={toggleFullscreen:f},g=function(e,t){e.addCommand("mceFullScreen",function(){h.toggleFullscreen(e,t)})},m={register:g},v=function(e){return function(t){var n=t.control;e.on("FullscreenStateChanged",function(e){n.active(e.state)})}},w=function(e){e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:v(e),context:"view"}),e.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:v(e)})},C={register:w};return n.add("fullscreen",function(e){var n=t(null);return e.settings.inline?r.get(n):(m.register(e,n),C.register(e),e.addShortcut("Ctrl+Shift+F","","mceFullScreen"),r.get(n))}),e})()}();
},{}],"tinymce/plugins/image/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){var e=A.getOrDie("FileReader");return new e}function t(){var e=A.getOrDie("XMLHttpRequest");return new e}function n(e){var n=function(n,a,i,r){var o,l;o=new t,o.open("POST",e.url),o.withCredentials=e.credentials,o.upload.onprogress=function(e){r(e.loaded/e.total*100)},o.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+o.status)},o.onload=function(){var t;return o.status<200||o.status>=300?void i("HTTP Error: "+o.status):(t=JSON.parse(o.responseText),t&&"string"==typeof t.location?void a(de(e.basePath,t.location)):void i("Invalid JSON: "+o.responseText))},l=new FormData,l.append("file",n.blob(),n.filename()),o.send(l)},a=function(e,t){return new R(function(n,a){try{t(e,n,a,ce)}catch(i){a(i.message)}})},i=function(e){return e===n},r=function(t){return!e.url&&i(e.handler)?R.reject("Upload url missing from the settings."):a(t,e.handler)};return e=o.extend({credentials:!1,handler:n},e),{upload:r}}function a(e){function t(t){function n(){var t,n;Z.updateSize(i),a(e,i),u=o.extend(u,i.toJSON()),u.alt||(u.alt=""),u.title||(u.title=""),""===u.width&&(u.width=null),""===u.height&&(u.height=null),u.style||(u.style=null),u={src:u.src,alt:u.alt,title:u.title,width:u.width,height:u.height,style:u.style,caption:u.caption,"class":u["class"]},e.undoManager.transact(function(){if(u.src){if(""===u.title&&(u.title=null),r?c.setAttribs(r,u):(u.id="__mcenew",e.focus(),e.selection.setContent(c.createHTML("img",u)),r=c.get("__mcenew"),c.setAttrib(r,"id",null)),e.editorUpload.uploadImagesAuto(),u.caption===!1&&c.is(r.parentNode,"figure.image")&&(t=r.parentNode,c.insertAfter(r,t),c.remove(t)),u.caption!==!0)W.waitLoadImage(e,u,r);else if(!c.is(r.parentNode,"figure.image")){n=r,r=r.cloneNode(!0),t=c.create("figure",{"class":"image"}),t.appendChild(r),t.appendChild(c.create("figcaption",{contentEditable:!0},"Caption")),t.contentEditable=!1;var a=c.getParent(n,function(t){return e.schema.getTextBlockElements()[t.nodeName]});a?c.split(a,n,t):c.replace(t,n),e.selection.select(t)}}else if(r){var i=c.is(r.parentNode,"figure.image")?r.parentNode:r;c.remove(i),e.focus(),e.nodeChanged(),c.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}})}var i,r,l,s,u={},c=e.dom;if(r=e.selection.getNode(),l=c.getParent(r,"figure.image"),l&&(r=c.select("img",l)[0]),r&&("IMG"!==r.nodeName||r.getAttribute("data-mce-object")||r.getAttribute("data-mce-placeholder"))&&(r=null),r&&(u={src:c.getAttrib(r,"src"),alt:c.getAttrib(r,"alt"),title:c.getAttrib(r,"title"),"class":c.getAttrib(r,"class"),width:c.getAttrib(r,"width"),height:c.getAttrib(r,"height"),caption:!!l}),t&&(s={type:"listbox",label:"Image list",name:"image-list",values:W.buildListItems(t,function(t){t.value=e.convertURL(t.value||t.url,"src")},[{text:"None",value:""}]),value:u.src&&e.convertURL(u.src,"src"),onselect:function(e){var t=i.find("#alt");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),i.find("#src").value(e.control.value()).fire("change")},onPostRender:function(){s=this}}),w.hasAdvTab(e)||w.hasUploadUrl(e)||w.hasUploadHandler(e)){var d=[ie.makeTab(e,s)];w.hasAdvTab(e)&&(r&&(r.style.marginLeft&&r.style.marginRight&&r.style.marginLeft===r.style.marginRight&&(u.hspace=W.removePixelSuffix(r.style.marginLeft)),r.style.marginTop&&r.style.marginBottom&&r.style.marginTop===r.style.marginBottom&&(u.vspace=W.removePixelSuffix(r.style.marginTop)),r.style.borderWidth&&(u.border=W.removePixelSuffix(r.style.borderWidth)),u.borderStyle=r.style.borderStyle,u.style=e.dom.serializeStyle(e.dom.parseStyle(e.dom.getAttrib(r,"style")))),d.push(G.makeTab(e,a))),(w.hasUploadUrl(e)||w.hasUploadHandler(e))&&d.push(pe.makeTab(e)),i=e.windowManager.open({title:"Insert/edit image",data:u,bodyType:"tabpanel",body:d,onSubmit:n})}else i=e.windowManager.open({title:"Insert/edit image",data:u,body:ie.getGeneralItems(e,s),onSubmit:n});Z.syncSize(i)}function n(){W.createImageList(e,t)}var a=function(e,t){if(w.hasAdvTab(e)){var n=e.dom,a=t.toJSON(),i=n.parseStyle(a.style);i=W.mergeMargins(i),a.vspace&&(i["margin-top"]=i["margin-bottom"]=W.addPixelSuffix(a.vspace)),a.hspace&&(i["margin-left"]=i["margin-right"]=W.addPixelSuffix(a.hspace)),a.border&&(i["border-width"]=W.addPixelSuffix(a.border)),a.borderStyle&&(i["border-style"]=a.borderStyle),t.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(i))))}};return{open:n}}function i(){}var r=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=tinymce.util.Tools.resolve("tinymce.util.Tools"),l=function(e){return e.settings.image_dimensions!==!1},s=function(e){return e.settings.image_advtab===!0},u=function(e){return e.getParam("image_prepend_url","")},c=function(e){return e.getParam("image_class_list")},d=function(e){return e.settings.image_description!==!1},g=function(e){return e.settings.image_title===!0},m=function(e){return e.settings.image_caption===!0},f=function(e){return e.getParam("image_list",!1)},p=function(e){return e.getParam("images_upload_url",!1)},h=function(e){return e.getParam("images_upload_handler",!1)},v=function(e){return e.getParam("images_upload_url")},b=function(e){return e.getParam("images_upload_handler")},y=function(e){return e.getParam("images_upload_base_path")},x=function(e){return e.getParam("images_upload_credentials")},w={hasDimensions:l,hasAdvTab:s,getPrependUrl:u,getClassList:c,hasDescription:d,hasImageTitle:g,hasImageCaption:m,getImageList:f,hasUploadUrl:p,hasUploadHandler:h,getUploadUrl:v,getUploadHandler:b,getUploadBasePath:y,getUploadCredentials:x},S="undefined"!=typeof window?window:Function("return this;")(),U=function(e,t){for(var n=void 0!==t&&null!==t?t:S,a=0;a<e.length&&void 0!==n&&null!==n;++a)n=n[e[a]];return n},T=function(e,t){var n=e.split(".");return U(n,t)},C=function(e,t){return void 0!==e[t]&&null!==e[t]||(e[t]={}),e[t]},I=function(e,t){for(var n=void 0!==t?t:S,a=0;a<e.length;++a)n=C(n,e[a]);return n},L=function(e,t){var n=e.split(".");return I(n,t)},P={path:U,resolve:T,forge:I,namespace:L},_=function(e,t){return P.resolve(e,t)},N=function(e,t){var n=_(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},A={getOrDie:N},R=tinymce.util.Tools.resolve("tinymce.util.Promise"),k=tinymce.util.Tools.resolve("tinymce.util.XHR"),O=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},D=function(e,t){function n(e,n){a.parentNode&&a.parentNode.removeChild(a),t({width:e,height:n})}var a=document.createElement("img");a.onload=function(){var e=O(a.width,a.clientWidth),t=O(a.height,a.clientHeight);n(e,t)},a.onerror=function(){n(0,0)};var i=a.style;i.visibility="hidden",i.position="fixed",i.bottom=i.left="0px",i.width=i.height="auto",document.body.appendChild(a),a.src=e},z=function(e,t,n){function a(e,n){return n=n||[],o.each(e,function(e){var i={text:e.text||e.title};e.menu?i.menu=a(e.menu):(i.value=e.value,t(i)),n.push(i)}),n}return a(e,n||[])},H=function(e){return e&&(e=e.replace(/px$/,"")),e},M=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},j=function(e){if(e.margin){var t=e.margin.split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},B=function(e,t){var n=w.getImageList(e);"string"==typeof n?k.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"==typeof n?n(t):t(n)},E=function(e,t,n){function a(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())}n.onload=function(){t.width||t.height||!w.hasDimensions(e)||e.dom.setAttribs(n,{width:n.clientWidth,height:n.clientHeight}),a()},n.onerror=a},J=function(t){return new R(function(n,a){var i=new e;i.onload=function(){n(i.result)},i.onerror=function(){a(e.error.message)},i.readAsDataURL(t)})},W={getImageSize:D,buildListItems:z,removePixelSuffix:H,addPixelSuffix:M,mergeMargins:j,createImageList:B,waitLoadImage:E,blobToDataUri:J},F=function(e){return function(t){var n=e.dom,a=t.control.rootControl;if(w.hasAdvTab(e)){var i=a.toJSON(),r=n.parseStyle(i.style);a.find("#vspace").value(""),a.find("#hspace").value(""),r=W.mergeMargins(r),(r["margin-top"]&&r["margin-bottom"]||r["margin-right"]&&r["margin-left"])&&(r["margin-top"]===r["margin-bottom"]?a.find("#vspace").value(W.removePixelSuffix(r["margin-top"])):a.find("#vspace").value(""),r["margin-right"]===r["margin-left"]?a.find("#hspace").value(W.removePixelSuffix(r["margin-right"])):a.find("#hspace").value("")),r["border-width"]&&a.find("#border").value(W.removePixelSuffix(r["border-width"])),a.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(r))))}}},V=function(e,t){return{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:F(e)},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,defaults:{type:"textbox",maxWidth:50,onchange:function(n){t(e,n.control.rootControl)}},items:[{label:"Vertical space",name:"vspace"},{label:"Border width",name:"border"},{label:"Horizontal space",name:"hspace"},{label:"Border style",type:"listbox",name:"borderStyle",width:90,maxWidth:90,onselect:function(n){t(e,n.control.rootControl)},values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},G={makeTab:V},$=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},X=function(e,t){var n=e.find("#width")[0],a=e.find("#height")[0],i=e.find("#constrain")[0];n&&a&&i&&t(n,a,i.checked())},q=function(e,t,n){var a=e.state.get("oldVal"),i=t.state.get("oldVal"),r=e.value(),o=t.value();n&&a&&i&&r&&o&&(r!==a?(o=Math.round(r/a*o),isNaN(o)||t.value(o)):(r=Math.round(o/i*r),isNaN(r)||e.value(r))),$(e,t)},K=function(e){X(e,$)},Q=function(e){X(e,q)},Y=function(){var e=function(e){Q(e.control.rootControl)};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},Z={createUi:Y,syncSize:K,updateSize:Q},ee=function(e,t){var n,a,i,r=e.meta||{},l=e.control,s=l.rootControl,u=s.find("#image-list")[0];u&&u.value(t.convertURL(l.value(),"src")),o.each(r,function(e,t){s.find("#"+t).value(e)}),r.width||r.height||(n=t.convertURL(l.value(),"src"),a=w.getPrependUrl(t),i=new RegExp("^(?:[a-z]+:)?//","i"),a&&!i.test(n)&&n.substring(0,a.length)!==a&&(n=a+n),l.value(n),W.getImageSize(t.documentBaseURI.toAbsolute(l.value()),function(e){e.width&&e.height&&w.hasDimensions(t)&&(s.find("#width").value(e.width),s.find("#height").value(e.height),Z.updateSize(s))}))},te=function(e){e.meta=e.control.rootControl.toJSON()},ne=function(e,t){var n=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:function(t){ee(t,e)},onbeforecall:te},t];return w.hasDescription(e)&&n.push({name:"alt",type:"textbox",label:"Image description"}),w.hasImageTitle(e)&&n.push({name:"title",type:"textbox",label:"Image Title"}),w.hasDimensions(e)&&n.push(Z.createUi()),w.getClassList(e)&&n.push({name:"class",type:"listbox",label:"Class",values:W.buildListItems(w.getClassList(e),function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"img",classes:[t.value]})})})}),w.hasImageCaption(e)&&n.push({name:"caption",type:"checkbox",label:"Caption"}),n},ae=function(e,t){return{title:"General",type:"form",items:ne(e,t)}},ie={makeTab:ae,getGeneralItems:ne},re=function(){return A.getOrDie("URL")},oe=function(e){return re().createObjectURL(e)},le=function(e){re().revokeObjectURL(e)},se={createObjectURL:oe,revokeObjectURL:le},ue=tinymce.util.Tools.resolve("tinymce.ui.Factory"),ce=function(){},de=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},ge=function(e){return function(t){var a=ue.get("Throbber"),i=t.control.rootControl,r=new a(i.getEl()),o=t.control.value(),l=se.createObjectURL(o),s=n({url:w.getUploadUrl(e),basePath:w.getUploadBasePath(e),credentials:w.getUploadCredentials(e),handler:w.getUploadHandler(e)}),u=function(){r.hide(),se.revokeObjectURL(l)};return r.show(),W.blobToDataUri(o).then(function(t){var n=e.editorUpload.blobCache.create({blob:o,blobUri:l,name:o.name?o.name.replace(/\.[^\.]+$/,""):null,base64:t.split(",")[1]});return s.upload(n).then(function(e){var t=i.find("#src");return t.value(e),i.find("tabpanel")[0].activateTab(0),t.fire("change"),u(),e})})["catch"](function(t){e.windowManager.alert(t),u()})}},me=".jpg,.jpeg,.png,.gif",fe=function(e){return{title:"Upload",type:"form",layout:"flex",direction:"column",align:"stretch",padding:"20 20 20 20",items:[{type:"container",layout:"flex",direction:"column",align:"center",spacing:10,items:[{text:"Browse for an image",type:"browsebutton",accept:me,onchange:ge(e)},{text:"OR",type:"label"}]},{text:"Drop an image here",type:"dropzone",accept:me,height:100,onchange:ge(e)}]}},pe={makeTab:fe},he=function(e){e.addCommand("mceImage",a(e).open)},ve={register:he},be=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},ye=function(e){return function(t){for(var n,a=t.length,i=function(t){t.attr("contenteditable",e?"true":null)};a--;)n=t[a],be(n)&&(n.attr("contenteditable",e?"false":null),o.each(n.getAll("figcaption"),i))}},xe=function(e){e.on("preInit",function(){e.parser.addNodeFilter("figure",ye(!0)),e.serializer.addNodeFilter("figure",ye(!1))})},we={setup:xe},Se=function(e){e.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:a(e).open,stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),e.addMenuItem("image",{icon:"image",text:"Image",onclick:a(e).open,context:"insert",prependToContext:!0})},Ue={register:Se};return r.add("image",function(e){we.setup(e),Ue.register(e),ve.register(e)}),i})()}();
},{}],"tinymce/plugins/lists/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),o=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),i=tinymce.util.Tools.resolve("tinymce.util.VK"),r=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),s=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),d=function(e){return e&&3===e.nodeType},l=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},c=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},u=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},f=function(e){return e&&"BR"===e.nodeName},m=function(e){return e.parentNode.firstChild===e},g=function(e){return e.parentNode.lastChild===e},p=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},v=function(e,t){return e&&e.nodeName in t},h=function(e,t){return!!f(t)&&!(!e.isBlock(t.nextSibling)||f(t.previousSibling))},N=function(e,t,n){var o=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&o},C=function(e,t){return e.isChildOf(t,e.getRoot())},L={isTextNode:d,isListNode:l,isListItemNode:c,isTableCellNode:u,isBr:f,isFirstChild:m,isLastChild:g,isTextBlock:p,isBlock:v,isBogusBr:h,isEmpty:N,isChildOfBody:C},y=function(e,t){var o=n.getNode(e,t);if(L.isListItemNode(e)&&L.isTextNode(o)){var i=t>=e.childNodes.length?o.data.length:0;return{container:o,offset:i}}return{container:e,offset:t}},k=function(e){var t=e.cloneRange(),n=y(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var o=y(e.endContainer,e.endOffset);return t.setEnd(o.container,o.offset),t},B={getNormalizedEndPoint:y,normalizeRange:k},S=a.DOM,b=function(e){var t={},n=function(n){var o,i,r;i=e[n?"startContainer":"endContainer"],r=e[n?"startOffset":"endOffset"],1===i.nodeType&&(o=S.create("span",{"data-mce-type":"bookmark"}),i.hasChildNodes()?(r=Math.min(r,i.childNodes.length-1),n?i.insertBefore(o,i.childNodes[r]):S.insertAfter(o,i.childNodes[r])):i.appendChild(o),i=o,r=0),t[n?"startContainer":"endContainer"]=i,t[n?"startOffset":"endOffset"]=r};return n(!0),e.collapsed||n(),t},T=function(e){function t(t){var n,o,i,r=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1};n=i=e[t?"startContainer":"endContainer"],o=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(o=r(n),n=n.parentNode,S.remove(i),!n.hasChildNodes()&&S.isBlock(n)&&n.appendChild(S.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=o)}t(!0),t();var n=S.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),B.normalizeRange(n)},D={createBookmark:b,resolveBookmark:T},E=a.DOM,I=function(e,t){var n,o=t.parentNode;"LI"===o.nodeName&&o.firstChild===t&&(n=o.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(t),L.isEmpty(e,o)&&E.remove(o)):E.setStyle(o,"listStyleType","none")),L.isListNode(o)&&(n=o.previousSibling,n&&"LI"===n.nodeName&&n.appendChild(t))},O=function(e,t){s.each(s.grep(e.select("ol,ul",t)),function(t){I(e,t)})},R={normalizeList:I,normalizeLists:O},x=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),A=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",z(e,t))},P=function(e,t){return e&&1===t.length&&t[0]===e},_=function(e){return s.grep(e.querySelectorAll("ol,ul,dl"),function(e){return L.isListNode(e)})},M=function(e){var t=A(e),n=e.selection.getSelectedBlocks();return P(t,n)?_(t):s.grep(n,function(e){return L.isListNode(e)&&t!==e})},w=function(e,t){var n=s.map(t,function(t){var n=e.dom.getParent(t,"li,dd,dt",z(e,t));return n?n:t});return x.unique(n)},U=function(e){var t=e.selection.getSelectedBlocks();return s.grep(w(e,t),function(e){return L.isListItemNode(e)})},z=function(e,t){var n=e.dom.getParents(t,"TD,TH"),o=n.length>0?n[0]:e.getBody();return o},H={getParentList:A,getSelectedSubLists:M,getSelectedListItems:U,getClosestListRootElm:z},$=tinymce.util.Tools.resolve("tinymce.Env"),F=a.DOM,K=function(e,t,n){var o,i,r,s=F.createFragment(),a=e.schema.getBlockElements();if(e.settings.forced_root_block&&(n=n||e.settings.forced_root_block),n&&(i=F.create(n),i.tagName===e.settings.forced_root_block&&F.setAttribs(i,e.settings.forced_root_block_attrs),L.isBlock(t.firstChild,a)||s.appendChild(i)),t)for(;o=t.firstChild;){var d=o.nodeName;r||"SPAN"===d&&"bookmark"===o.getAttribute("data-mce-type")||(r=!0),L.isBlock(o,a)?(s.appendChild(o),i=null):n?(i||(i=F.create(n),s.appendChild(i)),i.appendChild(o)):s.appendChild(o)}return e.settings.forced_root_block?r||$.ie&&!($.ie>10)||i.appendChild(F.create("br",{"data-mce-bogus":"1"})):s.appendChild(F.create("br")),s},Q={createNewTextBlock:K},W=a.DOM,j=function(e,t,n,o){var i,r,a,d,l=function(e){s.each(a,function(t){e.parentNode.insertBefore(t,n.parentNode)}),W.remove(e)};for(a=W.select('span[data-mce-type="bookmark"]',t),o=o||Q.createNewTextBlock(e,n),i=W.createRng(),i.setStartAfter(n),i.setEndAfter(t),r=i.extractContents(),d=r.firstChild;d;d=d.firstChild)if("LI"===d.nodeName&&e.dom.isEmpty(d)){W.remove(d);break}e.dom.isEmpty(r)||W.insertAfter(r,t),W.insertAfter(o,t),L.isEmpty(e.dom,n.parentNode)&&l(n.parentNode),W.remove(n),L.isEmpty(e.dom,t)&&W.remove(t)},q={splitList:j},V=a.DOM,G=function(e,t){L.isEmpty(e,t)&&V.remove(t)},J=function(e,t){var n,o=t.parentNode,i=o.parentNode;return o===e.getBody()||("DD"===t.nodeName?(V.rename(t,"DT"),!0):L.isFirstChild(t)&&L.isLastChild(t)?("LI"===i.nodeName?(V.insertAfter(t,i),G(e.dom,i),V.remove(o)):L.isListNode(i)?V.remove(o,!0):(i.insertBefore(Q.createNewTextBlock(e,t),o),V.remove(o)),!0):L.isFirstChild(t)?("LI"===i.nodeName?(V.insertAfter(t,i),t.appendChild(o),G(e.dom,i)):L.isListNode(i)?i.insertBefore(t,o):(i.insertBefore(Q.createNewTextBlock(e,t),o),V.remove(t)),!0):L.isLastChild(t)?("LI"===i.nodeName?V.insertAfter(t,i):L.isListNode(i)?V.insertAfter(t,o):(V.insertAfter(Q.createNewTextBlock(e,t),o),V.remove(t)),!0):("LI"===i.nodeName?(o=i,n=Q.createNewTextBlock(e,t,"LI")):n=L.isListNode(i)?Q.createNewTextBlock(e,t,"LI"):Q.createNewTextBlock(e,t),q.splitList(e,o,t,n),R.normalizeLists(e.dom,o.parentNode),!0))},X=function(e){var t=H.getSelectedListItems(e);if(t.length){var n=D.createBookmark(e.selection.getRng(!0)),o=void 0,i=void 0,r=H.getClosestListRootElm(e,e.selection.getStart(!0));for(o=t.length;o--;)for(var s=t[o].parentNode;s&&s!==r;){for(i=t.length;i--;)if(t[i]===s){t.splice(o,1);break}s=s.parentNode}for(o=0;o<t.length&&(J(e,t[o])||0!==o);o++);return e.selection.setRng(D.resolveBookmark(n)),e.nodeChanged(),!0}},Y={outdent:J,outdentSelection:X},Z=function(e,t,n){var o=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",o)},ee=function(e,t){s.each(t,function(t,n){e.setAttribute(n,t)})},te=function(e,t,n){ee(t,n["list-attributes"]),s.each(e.select("li",t),function(e){ee(e,n["list-item-attributes"])})},ne=function(e,t,n){Z(e,t,n),te(e,t,n)},oe=function(e,t,n){s.each(n,function(n){return e.setStyle(t,(o={},o[n]="",o));var o})},ie=function(e,t,n,o){var i,r;for(i=t[n?"startContainer":"endContainer"],r=t[n?"startOffset":"endOffset"],1===i.nodeType&&(i=i.childNodes[Math.min(r,i.childNodes.length-1)]||i),!n&&L.isBr(i.nextSibling)&&(i=i.nextSibling);i.parentNode!==o;){if(L.isTextBlock(e,i))return i;if(/^(TD|TH)$/.test(i.parentNode.nodeName))return i;i=i.parentNode}return i},re=function(e,t,n){for(var o,i=[],a=e.dom,d=ie(e,t,!0,n),l=ie(e,t,!1,n),c=[],u=d;u&&(c.push(u),u!==l);u=u.nextSibling);return s.each(c,function(t){if(L.isTextBlock(e,t))return i.push(t),void(o=null);if(a.isBlock(t)||L.isBr(t))return L.isBr(t)&&a.remove(t),void(o=null);var s=t.nextSibling;return r.isBookmarkNode(t)&&(L.isTextBlock(e,s)||!s&&t.parentNode===n)?void(o=null):(o||(o=a.create("p"),t.parentNode.insertBefore(o,t),i.push(o)),void o.appendChild(t))}),i},se=function(e,t,n){var o=e.getStyle(t,"list-style-type"),i=n?n["list-style-type"]:"";return i=null===i?"":i,o===i},ae=function(e,t,n){void 0===n&&(n={});var o,i=e.selection.getRng(!0),r="LI",a=H.getClosestListRootElm(e,e.selection.getStart(!0)),d=e.dom;"false"!==d.getContentEditable(e.selection.getNode())&&(t=t.toUpperCase(),"DL"===t&&(r="DT"),o=D.createBookmark(i),s.each(re(e,i,a),function(o){var i,s;s=o.previousSibling,s&&L.isListNode(s)&&s.nodeName===t&&se(d,s,n)?(i=s,o=d.rename(o,r),s.appendChild(o)):(i=d.create(t),o.parentNode.insertBefore(i,o),i.appendChild(o),o=d.rename(o,r)),oe(d,o,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),ne(d,i,n),me(e.dom,i)}),e.selection.setRng(D.resolveBookmark(o)))},de=function(e){var t=D.createBookmark(e.selection.getRng(!0)),n=H.getClosestListRootElm(e,e.selection.getStart(!0)),o=H.getSelectedListItems(e),i=s.grep(o,function(t){return e.dom.isEmpty(t)});o=s.grep(o,function(t){return!e.dom.isEmpty(t)}),s.each(i,function(t){if(L.isEmpty(e.dom,t))return void Y.outdent(e,t)}),s.each(o,function(t){var o,i;if(t.parentNode!==e.getBody()){for(o=t;o&&o!==n;o=o.parentNode)L.isListNode(o)&&(i=o);q.splitList(e,i,t),R.normalizeLists(e.dom,i.parentNode)}}),e.selection.setRng(D.resolveBookmark(t))},le=function(e,t){return e&&t&&L.isListNode(e)&&e.nodeName===t.nodeName},ce=function(e,t,n){var o=e.getStyle(t,"list-style-type",!0),i=e.getStyle(n,"list-style-type",!0);return o===i},ue=function(e,t){return e.className===t.className},fe=function(e,t,n){return le(t,n)&&ce(e,t,n)&&ue(t,n)},me=function(e,t){var n,o;if(n=t.nextSibling,fe(e,t,n)){for(;o=n.firstChild;)t.appendChild(o);e.remove(n)}if(n=t.previousSibling,fe(e,t,n)){for(;o=n.lastChild;)t.insertBefore(o,t.firstChild);e.remove(n)}},ge=function(e,t,n,o){if(t.nodeName!==n){var i=e.rename(t,n);ne(e,i,o)}else ne(e,t,o)},pe=function(e,t,n,o,i){if(t.nodeName!==o||ve(i)){var r=D.createBookmark(e.selection.getRng(!0));s.each([t].concat(n),function(t){ge(e.dom,t,o,i)}),e.selection.setRng(D.resolveBookmark(r))}else de(e)},ve=function(e){return"list-style-type"in e},he=function(e,t,n,o){if(t!==e.getBody())if(t)if(t.nodeName!==n||ve(o)){var i=D.createBookmark(e.selection.getRng(!0));ne(e.dom,t,o),me(e.dom,e.dom.rename(t,n)),e.selection.setRng(D.resolveBookmark(i))}else de(e);else ae(e,n,o)},Ne=function(e,t,n){var o=H.getParentList(e),i=H.getSelectedSubLists(e);n=n?n:{},o&&i.length>0?pe(e,o,i,t,n):he(e,o,t,n)},Ce={toggleList:Ne,removeList:de,mergeWithAdjacentLists:me},Le=function(e,t,i,r){var s,a,d=t.startContainer,l=t.startOffset;if(3===d.nodeType&&(i?l<d.data.length:l>0))return d;for(s=e.schema.getNonEmptyElements(),1===d.nodeType&&(d=n.getNode(d,l)),a=new o(d,r),i&&L.isBogusBr(e.dom,d)&&a.next();d=a[i?"next":"prev2"]();){if("LI"===d.nodeName&&!d.hasChildNodes())return d;if(s[d.nodeName])return d;if(3===d.nodeType&&d.data.length>0)return d}},ye=function(e,t){var n=t.childNodes;return 1===n.length&&!L.isListNode(n[0])&&e.isBlock(n[0])},ke=function(e,t){ye(e,t)&&e.remove(t.firstChild,!0)},Be=function(e,t,n){var o,i;if(i=ye(e,n)?n.firstChild:n,ke(e,t),!L.isEmpty(e,t,!0))for(;o=t.firstChild;)i.appendChild(o)},Se=function(e,t,n){var o,i,r=t.parentNode;L.isChildOfBody(e,t)&&L.isChildOfBody(e,n)&&(L.isListNode(n.lastChild)&&(i=n.lastChild),r===n.lastChild&&L.isBr(r.previousSibling)&&e.remove(r.previousSibling),o=n.lastChild,o&&L.isBr(o)&&t.hasChildNodes()&&e.remove(o),L.isEmpty(e,n,!0)&&e.$(n).empty(),Be(e,t,n),i&&n.appendChild(i),e.remove(t),L.isEmpty(e,r)&&r!==e.getRoot()&&e.remove(r))},be=function(e,t,n){e.dom.$(n).empty(),Se(e.dom,t,n),e.selection.setCursorLocation(n)},Te=function(e,t,n,o){var i=e.dom;if(i.isEmpty(o))be(e,n,o);else{var r=D.createBookmark(t);Se(i,n,o),e.selection.setRng(D.resolveBookmark(r))}},De=function(e,t,n,o){var i=D.createBookmark(t);Se(e.dom,n,o);var r=D.resolveBookmark(i);e.selection.setRng(r)},Ee=function(e,t){var n,o,i,r=e.dom,s=e.selection,a=s.getStart(),d=H.getClosestListRootElm(e,a),l=r.getParent(s.getStart(),"LI",d);if(l){if(n=l.parentNode,n===e.getBody()&&L.isEmpty(r,n))return!0;if(o=B.normalizeRange(s.getRng(!0)),i=r.getParent(Le(e,o,t,d),"LI",d),i&&i!==l)return t?Te(e,o,i,l):De(e,o,l,i),!0;if(!i&&!t&&Ce.removeList(e))return!0}return!1},Ie=function(e,t,n){var o=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),o&&e.isEmpty(o)&&e.remove(o)},Oe=function(e,t){var n=e.dom,o=e.selection.getStart(),i=H.getClosestListRootElm(e,o),r=n.getParent(o,n.isBlock,i);if(r&&n.isEmpty(r)){var s=B.normalizeRange(e.selection.getRng(!0)),a=n.getParent(Le(e,s,t,i),"LI",i);if(a)return e.undoManager.transact(function(){Ie(n,r,i),Ce.mergeWithAdjacentLists(n,a.parentNode),e.selection.select(a,!0),e.selection.collapse(t)}),!0}return!1},Re=function(e,t){return Ee(e,t)||Oe(e,t)},xe=function(e){var t=e.selection.getStart(),n=H.getClosestListRootElm(e,t),o=e.dom.getParent(t,"LI,DT,DD",n);return!!(o||H.getSelectedListItems(e).length>0)&&(e.undoManager.transact(function(){e.execCommand("Delete"),R.normalizeLists(e.dom,e.getBody())}),!0)},Ae=function(e,t){return e.selection.isCollapsed()?Re(e,t):xe(e)},Pe=function(e){e.on("keydown",function(t){t.keyCode===i.BACKSPACE?Ae(e,!1)&&t.preventDefault():t.keyCode===i.DELETE&&Ae(e,!0)&&t.preventDefault()})},_e={setup:Pe,backspaceDelete:Ae},Me=function(e){return{backspaceDelete:function(t){_e.backspaceDelete(e,t)}}},we={get:Me},Ue=a.DOM,ze=function(e,t){var n;if(L.isListNode(e)){for(;n=e.firstChild;)t.appendChild(n);Ue.remove(e)}},He=function(e){var t,n,o;return"DT"===e.nodeName?(Ue.rename(e,"DD"),!0):(t=e.previousSibling,t&&L.isListNode(t)?(t.appendChild(e),!0):t&&"LI"===t.nodeName&&L.isListNode(t.lastChild)?(t.lastChild.appendChild(e),ze(e.lastChild,t.lastChild),!0):(t=e.nextSibling,t&&L.isListNode(t)?(t.insertBefore(e,t.firstChild),!0):(t=e.previousSibling,!(!t||"LI"!==t.nodeName)&&(n=Ue.create(e.parentNode.nodeName),o=Ue.getStyle(e.parentNode,"listStyleType"),o&&Ue.setStyle(n,"listStyleType",o),t.appendChild(n),n.appendChild(e),ze(e.lastChild,n),!0))))},$e=function(e){var t=H.getSelectedListItems(e);if(t.length){for(var n=D.createBookmark(e.selection.getRng(!0)),o=0;o<t.length&&(He(t[o])||0!==o);o++);return e.selection.setRng(D.resolveBookmark(n)),e.nodeChanged(),!0}},Fe={indentSelection:$e},Ke=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},Qe=function(e){e.on("BeforeExecCommand",function(t){var n,o=t.command.toLowerCase();if("indent"===o?Fe.indentSelection(e)&&(n=!0):"outdent"===o&&Y.outdentSelection(e)&&(n=!0),n)return e.fire("ExecCommand",{command:t.command}),t.preventDefault(),!0}),e.addCommand("InsertUnorderedList",function(t,n){Ce.toggleList(e,"UL",n)}),e.addCommand("InsertOrderedList",function(t,n){Ce.toggleList(e,"OL",n)}),e.addCommand("InsertDefinitionList",function(t,n){Ce.toggleList(e,"DL",n)}),e.addQueryStateHandler("InsertUnorderedList",Ke(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Ke(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Ke(e,"DL"))},We={register:Qe},je=function(e){return e.getParam("lists_indent_on_tab",!0)},qe={shouldIndentOnTab:je},Ve=function(e){e.on("keydown",function(t){t.keyCode!==i.TAB||i.metaKeyPressed(t)||e.dom.getParent(e.selection.getStart(),"LI,DT,DD")&&(t.preventDefault(),t.shiftKey?Y.outdentSelection(e):Fe.indentSelection(e))})},Ge=function(e){qe.shouldIndentOnTab(e)&&Ve(e),_e.setup(e)},Je={setup:Ge},Xe=function(e,t){for(var n=0;n<e.length;n++){var o=e[n];if(t(o))return n}return-1},Ye=function(e,t){return function(n){var o=n.control;e.on("NodeChange",function(e){var n=Xe(e.parents,L.isTableCellNode),i=n!==-1?e.parents.slice(0,n):e.parents,r=s.grep(i,L.isListNode);o.active(r.length>0&&r[0].nodeName===t)})}},Ze=function(e){return function(t){var n=t.control;e.on("nodechange",function(){var t=H.getSelectedListItems(e),o=t.length>0&&L.isFirstChild(t[0]);n.disabled(o)})}},et=function(e){var t=function(e,t){var n=e.settings.plugins?e.settings.plugins:"";return s.inArray(n.split(/[ ,]/),t)!==-1};t(e,"advlist")||(e.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:Ye(e,"OL")}),e.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:Ye(e,"UL")})),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent",onPostRender:Ze(e)})},tt={register:et};return t.add("lists",function(e){return Je.setup(e),tt.register(e),We.register(e),we.get(e)}),e})()}();
},{}],"tinymce/plugins/paste/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(e,t){return Y.each(t,function(t){e=t.constructor===RegExp?e.replace(t,""):e.replace(t[0],t[1])}),e}function t(t){function n(e){var t=e.name,r=e;if("br"===t)return void(o+="\n");if(a[t]&&(o+=" "),s[t])return void(o+=" ");if(3===e.type&&(o+=e.value),!e.shortEnded&&(e=e.firstChild))do n(e);while(e=e.next);u[t]&&r.next&&(o+="\n","p"===t&&(o+="\n"))}var r=me(),i=fe({},r),o="",a=r.getShortEndedElements(),s=Y.makeMap("script noscript style textarea video audio iframe object"," "),u=r.getBlockElements();return t=e(t,[/<!\[[^\]]+\]>/g]),n(i.parse(t)),o}function n(t){function n(e,t,n){return t||n?"":" "}return t=e(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,n],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function r(e){var t=0;return function(){return e+t++}}function i(e){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(e)||/class="OutlineElement/.test(e)||/id="?docs\-internal\-guid\-/.test(e)}function o(e){var t,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],e=e.replace(/^[\u00a0 ]+/,""),Y.each(n,function(n){if(n.test(e))return t=!0,!1}),t}function a(e){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(e)}function s(e){function t(e){var n="";if(3===e.type)return e.value;if(e=e.firstChild)do n+=t(e);while(e=e.next);return n}function n(e,t){if(3===e.type&&t.test(e.value))return e.value=e.value.replace(t,""),!1;if(e=e.firstChild)do if(!n(e,t))return!1;while(e=e.next);return!0}function r(e){if(e._listIgnore)return void e.remove();if(e=e.firstChild)do r(e);while(e=e.next)}function i(e,t,i){var o=e._listLevel||l;o!==l&&(o<l?s&&(s=s.parent.parent):(u=s,s=null)),s&&s.name===t?s.append(e):(u=u||s,s=new de(t,1),i>1&&s.attr("start",""+i),e.wrap(s)),e.name="li",o>l&&u&&u.lastChild.append(s),l=o,r(e),n(e,/^\u00a0+/),n(e,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),n(e,/^\u00a0+/)}for(var s,u,l=1,c=[],f=e.firstChild;"undefined"!=typeof f&&null!==f;)if(c.push(f),f=f.walk(),null!==f)for(;"undefined"!=typeof f&&f.parent!==e;)f=f.walk();for(var d=0;d<c.length;d++)if(e=c[d],"p"===e.name&&e.firstChild){var m=t(e);if(a(m)){i(e,"ul");continue}if(o(m)){var p=/([0-9]+)\./.exec(m),g=1;p&&(g=parseInt(p[1],10)),i(e,"ol",g);continue}if(e._listLevel){i(e,"ul",1);continue}s=null}else u=s,s=null}function u(e,t,n,r){var i,o={},a=e.dom.parseStyle(r);return Y.each(a,function(a,s){switch(s){case"mso-list":i=/\w+ \w+([0-9]+)/i.exec(r),i&&(n._listLevel=parseInt(i[1],10)),/Ignore/i.test(a)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":s="text-align";break;case"vert-align":s="vertical-align";break;case"font-color":case"mso-foreground":s="color";break;case"mso-background":case"mso-highlight":s="background";break;case"font-weight":case"font-style":return void("normal"!==a&&(o[s]=a));case"mso-element":if(/^(comment|comment-list)$/i.test(a))return void n.remove()}return 0===s.indexOf("mso-comment")?void n.remove():void(0!==s.indexOf("mso-")&&("all"===W.getRetainStyleProps(e)||t&&t[s])&&(o[s]=a))}),/(bold)/i.test(o["font-weight"])&&(delete o["font-weight"],n.wrap(new de("b",1))),/(italic)/i.test(o["font-style"])&&(delete o["font-style"],n.wrap(new de("i",1))),o=e.dom.serializeStyle(o,n.name),o?o:null}function l(e,t){e.on("PastePreProcess",function(n){n.content=t(e,n.content,n.internal,n.wordContent)})}function c(e,t){e.on("PastePostProcess",function(n){t(e,n.node)})}function f(e,t){if(!ye.isWordContent(t))return t;var n=[];Y.each(e.schema.getBlockElements(),function(e,t){n.push(t)});var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return t=ve.filter(t,[[r,"$1"]]),t=ve.filter(t,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function d(e,t,n,r){if(r||n)return t;var i,o=W.getWebkitStyles(e);if(W.shouldRemoveWebKitStyles(e)===!1||"all"===o)return t;if(o&&(i=o.split(/[, ]/)),i){var a=e.dom,s=e.selection.getNode();t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(e,t,n,r){var o=a.parseStyle(a.decode(n),"span"),u={};if("none"===i)return t+r;for(var l=0;l<i.length;l++){var c=o[i[l]],f=a.getStyle(s,i[l],!0);/color/.test(i[l])&&(c=a.toHex(c),f=a.toHex(f)),f!==c&&(u[i[l]]=c)}return u=a.serializeStyle(u,"span"),u?t+' style="'+u+'"'+r:t+r})}else t=t.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return t=t.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(e,t,n,r){return t+' style="'+n+'"'+r})}function m(e,t){e.$("a",t).find("font,u").each(function(t,n){e.dom.remove(n,!0)})}function p(){}var g=function(e){var t=e,n=function(){return t},r=function(e){t=e},i=function(){return g(n())};return{get:n,set:r,clone:i}},v=tinymce.util.Tools.resolve("tinymce.PluginManager"),h=function(e){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(e.settings.plugins)||!v.get("powerpaste"))&&("undefined"!=typeof window.console&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},P={hasProPlugin:h},y=function(e,t){return{clipboard:e,quirks:t}},b={get:y},x=function(e,t,n,r){return e.fire("PastePreProcess",{content:t,internal:n,wordContent:r})},w=function(e,t,n,r){return e.fire("PastePostProcess",{node:t,internal:n,wordContent:r})},T=function(e,t){return e.fire("PastePlainTextToggle",{state:t})},C=function(e,t){return e.fire("paste",{ieFake:t})},_={firePastePreProcess:x,firePastePostProcess:w,firePastePlainTextToggle:T,firePaste:C},D=function(e){return e.getParam("paste_plaintext_inform",!0)},k=function(e){return e.getParam("paste_block_drop",!1)},R=function(e){return e.getParam("paste_data_images",!1)},E=function(e){return e.getParam("paste_filter_drop",!0)},M=function(e){return e.getParam("paste_preprocess")},S=function(e){return e.getParam("paste_postprocess")},F=function(e){return e.getParam("paste_webkit_styles")},I=function(e){return e.getParam("paste_remove_styles_if_webkit",!0)},A=function(e){return e.getParam("paste_merge_formats",!0)},O=function(e){return e.getParam("smart_paste",!0)},B=function(e){return e.getParam("paste_as_text",!1)},H=function(e){return e.getParam("paste_retain_style_properties")},N=function(e){var t="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return e.getParam("paste_word_valid_elements",t)},L=function(e){return e.getParam("paste_convert_word_fake_lists",!0)},$=function(e){return e.getParam("paste_enable_default_filters",!0)},W={shouldPlainTextInform:D,shouldBlockDrop:k,shouldPasteDataImages:R,shouldFilterDrop:E,getPreProcess:M,getPostProcess:S,getWebkitStyles:F,shouldRemoveWebKitStyles:I,shouldMergeFormats:A,isSmartPasteEnabled:O,isPasteAsTextEnabled:B,getRetainStyleProps:H,getWordValidElements:N,shouldConvertWordFakeLists:L,shouldUseDefaultFilters:$},j=function(e,t){return t.get()===!1&&W.shouldPlainTextInform(e)},U=function(e,t){e.notificationManager.open({text:e.translate(t),type:"info"})},V=function(e,t,n){"text"===t.pasteFormat?(t.pasteFormat="html",_.firePastePlainTextToggle(e,!1)):(t.pasteFormat="text",_.firePastePlainTextToggle(e,!0),j(e,n)&&(U(e,"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."),n.set(!0))),e.focus()},z={togglePlainTextPaste:V},K=function(e,t,n){e.addCommand("mceTogglePlainTextPaste",function(){z.togglePlainTextPaste(e,t,n)}),e.addCommand("mceInsertClipboardContent",function(e,n){n.content&&t.pasteHtml(n.content,n.internal),n.text&&t.pasteText(n.text)})},q={register:K},G=tinymce.util.Tools.resolve("tinymce.Env"),X=tinymce.util.Tools.resolve("tinymce.util.Delay"),Y=tinymce.util.Tools.resolve("tinymce.util.Tools"),Z=tinymce.util.Tools.resolve("tinymce.util.VK"),J="x-tinymce/html",Q="<!-- "+J+" -->",ee=function(e){return Q+e},te=function(e){return e.replace(Q,"")},ne=function(e){return e.indexOf(Q)!==-1},re={mark:ee,unmark:te,isMarked:ne,internalHtmlMime:function(){return J}},ie=tinymce.util.Tools.resolve("tinymce.html.Entities"),oe=function(e){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(e)},ae=function(e){return e.replace(/\r?\n/g,"<br>")},se=function(e,t){var n,r=[],i="<"+e;if("object"==typeof t){for(n in t)t.hasOwnProperty(n)&&r.push(n+'="'+ie.encodeAllRaw(t[n])+'"');r.length&&(i+=" "+r.join(" "))}return i+">"},ue=function(e,t,n){var r=e.split(/\n\n/),i=se(t,n),o="</"+t+">",a=Y.map(r,function(e){return e.split(/\n/).join("<br />")}),s=function(e){return i+e+o};return 1===a.length?a[0]:Y.map(a,s).join("")},le=function(e,t,n){return t?ue(e,t,n):ae(e)},ce={isPlainText:oe,convert:le,toBRs:ae,toBlockElements:ue},fe=tinymce.util.Tools.resolve("tinymce.html.DomParser"),de=tinymce.util.Tools.resolve("tinymce.html.Node"),me=tinymce.util.Tools.resolve("tinymce.html.Schema"),pe=tinymce.util.Tools.resolve("tinymce.html.Serializer"),ge=function(){return navigator.userAgent.indexOf(" Edge/")!==-1},ve={filter:e,innerText:t,trimHtml:n,createIdGenerator:r,isMsEdge:ge},he=function(e,t){var n,r;n=W.getRetainStyleProps(e),n&&(r=Y.makeMap(n.split(/[, ]/))),t=ve.filter(t,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,""],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(e,t){return t.length>0?t.replace(/./," ").slice(Math.floor(t.length/2)).split("").join(""):""}]]);var i=W.getWordValidElements(e),o=me({valid_elements:i,valid_children:"-li[p]"});Y.each(o.elements,function(e){e.attributes["class"]||(e.attributes["class"]={},e.attributesOrder.push("class")),e.attributes.style||(e.attributes.style={},e.attributesOrder.push("style"))});var a=fe({},o);a.addAttributeFilter("style",function(t){for(var n,i=t.length;i--;)n=t[i],n.attr("style",u(e,r,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()}),a.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&t.remove(),t.attr("class",null)}),a.addNodeFilter("del",function(e){for(var t=e.length;t--;)e[t].remove()}),a.addNodeFilter("a",function(e){for(var t,n,r,i=e.length;i--;)if(t=e[i],n=t.attr("href"),r=t.attr("name"),n&&n.indexOf("#_msocom_")!==-1)t.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1],n&&(n="#"+n)),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){t.unwrap();continue}t.attr({href:n,name:r})}else t.unwrap()});var l=a.parse(t);return W.shouldConvertWordFakeLists(e)&&s(l),t=pe({validate:e.settings.validate},o).serialize(l)},Pe=function(e,t){return W.shouldUseDefaultFilters(e)?he(e,t):t},ye={preProcess:Pe,isWordContent:i},be=function(e,t){return{content:e,cancelled:t}},xe=function(e,t,n,r){var i=e.dom.create("div",{style:"display:none"},t),o=_.firePastePostProcess(e,i,n,r);return be(o.node.innerHTML,o.isDefaultPrevented())},we=function(e,t,n,r){var i=_.firePastePreProcess(e,t,n,r);return e.hasEventListeners("PastePostProcess")&&!i.isDefaultPrevented()?xe(e,i.content,n,r):be(i.content,i.isDefaultPrevented())},Te=function(e,t,n){var r=ye.isWordContent(t),i=r?ye.preProcess(e,t):t;return we(e,i,n,r)},Ce={process:Te},_e=function(e,t){return e.insertContent(t,{merge:W.shouldMergeFormats(e),paste:!0}),!0},De=function(e){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(e)},ke=function(e){return De(e)&&/.(gif|jpe?g|png)$/.test(e)},Re=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.insertContent('<img src="'+t+'">')}),!0},Ee=function(e,t,n){return e.undoManager.extra(function(){n(e,t)},function(){e.execCommand("mceInsertLink",!1,t)}),!0},Me=function(e,t,n){return!(e.selection.isCollapsed()!==!1||!De(t))&&Ee(e,t,n)},Se=function(e,t,n){return!!ke(t)&&Re(e,t,n)},Fe=function(e,t){Y.each([Me,Se,_e],function(n){return n(e,t,_e)!==!0})},Ie=function(e,t){W.isSmartPasteEnabled(e)===!1?_e(e,t):Fe(e,t)},Ae={isImageUrl:ke,isAbsoluteUrl:De,insertContent:Ie},Oe=function(e,t,n){var r=n?n:re.isMarked(t),i=Ce.process(e,re.unmark(t),r);i.cancelled===!1&&Ae.insertContent(e,i.content)},Be=function(e,t){t=e.dom.encode(t).replace(/\r\n/g,"\n"),t=ce.convert(t,e.settings.forced_root_block,e.settings.forced_root_block_attrs),Oe(e,t,!1)},He=function(e){var t={},n="data:text/mce-internal,";if(e){if(e.getData){var r=e.getData("Text");r&&r.length>0&&r.indexOf(n)===-1&&(t["text/plain"]=r)}if(e.types)for(var i=0;i<e.types.length;i++){var o=e.types[i];try{t[o]=e.getData(o)}catch(a){t[o]=""}}}return t},Ne=function(e,t){var n=He(t.clipboardData||e.getDoc().dataTransfer);return ve.isMsEdge()?Y.extend(n,{"text/html":""}):n},Le=function(e,t){return t in e&&e[t].length>0},$e=function(e){return Le(e,"text/html")||Le(e,"text/plain")},We=function(e){var t;return t=e.indexOf(","),t!==-1?e.substr(t+1):null},je=function(e,t){return!e.images_dataimg_filter||e.images_dataimg_filter(t)},Ue=function(e,t){var n=t.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return n?e.dom.encode(n[1]):null},Ve=function(e,t,n,r){var i=ve.createIdGenerator("mceclip");t&&(e.selection.setRng(t),t=null);var o=n.result,a=We(o),s=i(),u=e.settings.images_reuse_filename&&r.name?Ue(e,r.name):s,l=new Image;if(l.src=o,je(e.settings,l)){var c=e.editorUpload.blobCache,f=void 0,d=void 0;d=c.findFirst(function(e){return e.base64()===a}),d?f=d:(f=c.create(s,r,a,u),c.add(f)),Oe(e,'<img src="'+f.blobUri()+'">',!1)}else Oe(e,'<img src="'+o+'">',!1)},ze=function(e){return"paste"===e.type},Ke=function(e,t,n){function r(r){var i,o,a,s=!1;if(r)for(i=0;i<r.length;i++)if(o=r[i],/^image\/(jpeg|png|gif|bmp)$/.test(o.type)){var u=o.getAsFile?o.getAsFile():o;a=new window.FileReader,a.onload=Ve.bind(null,e,n,a,u),a.readAsDataURL(u),t.preventDefault(),s=!0}return s}var i=ze(t)?t.clipboardData:t.dataTransfer;if(e.settings.paste_data_images&&i)return r(i.items)||r(i.files)},qe=function(e){var t=e.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&t&&t.items&&0===t.items.length},Ge=function(e){return Z.metaKeyPressed(e)&&86===e.keyCode||e.shiftKey&&45===e.keyCode},Xe=function(e,t,n){function r(n,r,i,o){var a,s;return Le(n,"text/html")?a=n["text/html"]:(a=t.getHtml(),o=o?o:re.isMarked(a),t.isDefaultContent(a)&&(i=!0)),a=ve.trimHtml(a),t.remove(),s=o===!1&&ce.isPlainText(a),a.length&&!s||(i=!0),i&&(a=Le(n,"text/plain")&&s?n["text/plain"]:ve.innerText(a)),t.isDefaultContent(a)?void(r||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(i?Be(e,a):Oe(e,a,o))}var i,o=0;e.on("keydown",function(n){function r(e){Ge(e)&&!e.isDefaultPrevented()&&t.remove()}if(Ge(n)&&!n.isDefaultPrevented()){if(i=n.shiftKey&&86===n.keyCode,i&&G.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(n.stopImmediatePropagation(),o=(new Date).getTime(),G.ie&&i)return n.preventDefault(),void _.firePaste(e,!0);t.remove(),t.create(),e.once("keyup",r),e.once("paste",function(){e.off("keyup",r)})}});var a=function(){return t.getLastRng()||e.selection.getRng()};e.on("paste",function(s){var u=(new Date).getTime(),l=Ne(e,s),c=(new Date).getTime()-u,f=(new Date).getTime()-o-c<1e3,d="text"===n||i,m=Le(l,re.internalHtmlMime());return i=!1,s.isDefaultPrevented()||qe(s)?void t.remove():!$e(l)&&Ke(e,s,a())?void t.remove():(f||s.preventDefault(),!G.ie||f&&!s.ieFake||Le(l,"text/html")||(t.create(),e.dom.bind(t.getEl(),"paste",function(e){e.stopPropagation()}),e.getDoc().execCommand("Paste",!1,null),l["text/html"]=t.getHtml()),void(Le(l,"text/html")?(s.preventDefault(),m||(m=re.isMarked(l["text/html"])),r(l,f,d,m)):X.setEditorTimeout(e,function(){r(l,f,d,m)},0)))})},Ye=function(e,t,n){Xe(e,t,n);var r;e.parser.addNodeFilter("img",function(t,n,i){var o=function(e){return e.data&&e.data.paste===!0},a=function(e){e.attr("data-mce-object")||r===G.transparentSrc||e.remove()},s=function(e){return 0===e.indexOf("webkit-fake-url")},u=function(e){return 0===e.indexOf("data:")};if(!e.settings.paste_data_images&&o(i))for(var l=t.length;l--;)r=t[l].attributes.map.src,r&&(s(r)?a(t[l]):!e.settings.allow_html_data_urls&&u(r)&&a(t[l]))})},Ze=function(e,t,n){function r(e){var t,n,r,i=e.startContainer;if(t=e.getClientRects(),t.length)return t[0];if(e.collapsed&&1===i.nodeType){for(r=i.childNodes[f.startOffset];r&&3===r.nodeType&&!r.data.length;)r=r.nextSibling;if(r)return"BR"===r.tagName&&(n=a.doc.createTextNode("\ufeff"),r.parentNode.insertBefore(n,r),e=a.createRng(),e.setStartBefore(n),e.setEndAfter(n),t=e.getClientRects(),a.remove(n)),t.length?t[0]:void 0}}var i,o,a=e.dom,s=e.getBody(),u=e.dom.getViewPort(e.getWin()),l=u.y,c=20;t.set(e.selection.getRng());var f=t.get();if(e.inline&&(o=e.selection.getScrollContainer(),o&&o.scrollTop>0&&(l=o.scrollTop)),f.getClientRects){var d=r(f);if(d)c=l+(d.top-a.getPos(s).y);else{c=l;var m=f.startContainer;m&&(3===m.nodeType&&m.parentNode!==s&&(m=m.parentNode),1===m.nodeType&&(c=a.getPos(m,o||s).y))}}i=e.dom.add(e.getBody(),"div",{id:"mcepastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: absolute; top: "+c+"px; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n),(G.ie||G.gecko)&&a.setStyle(i,"left","rtl"===a.getStyle(s,"direction",!0)?65535:-65535),a.bind(i,"beforedeactivate focusin focusout",function(e){e.stopPropagation()}),i.focus(),e.selection.select(i,!0)},Je=function(e,t){if(Qe(e)){for(var n=void 0,r=t.get();n=e.dom.get("mcepastebin");)e.dom.remove(n),e.dom.unbind(n);r&&e.selection.setRng(r)}t.set(null)},Qe=function(e){return e.dom.get("mcepastebin")},et=function(e){var t,n,r,i,o,a=function(t,n){t.appendChild(n),e.dom.remove(n,!0)};for(n=Y.grep(e.getBody().childNodes,function(e){return"mcepastebin"===e.id}),t=n.shift(),Y.each(n,function(e){a(t,e)}),i=e.dom.select("div[id=mcepastebin]",t),r=i.length-1;r>=0;r--)o=e.dom.create("div"),t.insertBefore(o,i[r]),a(o,i[r]);return t?t.innerHTML:""},tt=function(e){return e.get()},nt=function(e,t){return t===e},rt=function(e){return e&&"mcepastebin"===e.id},it=function(e,t){var n=Qe(e);return rt(n)&&nt(t,n.innerHTML)},ot=function(e){var t=g(null),n="%MCEPASTEBIN%";return{create:function(){return Ze(e,t,n)},remove:function(){return Je(e,t)},getEl:function(){return Qe(e)},getHtml:function(){return et(e)},getLastRng:function(){return tt(t)},isDefault:function(){return it(e,n)},isDefaultContent:function(e){return nt(n,e)}}},at=function(e){var t=ot(e),n=W.isPasteAsTextEnabled(e)?"text":"html";return e.on("preInit",function(){return Ye(e,t,n)}),{pasteFormat:n,pasteHtml:function(t,n){return Oe(e,t,n)},pasteText:function(t){return Be(e,t)},pasteImageData:function(t,n){return Ke(e,t,n)},getDataTransferItems:He,hasHtmlOrText:$e,hasContentType:Le}},st=function(){},ut=function(e){return G.iOS===!1&&void 0!==e&&"function"==typeof e.setData&&ve.isMsEdge()!==!0},lt=function(e,t,n){if(!ut(e))return!1;try{return e.clearData(),e.setData("text/html",t),e.setData("text/plain",n),e.setData(re.internalHtmlMime(),t),!0}catch(r){return!1}},ct=function(e,t,n,r){lt(e.clipboardData,t.html,t.text)?(e.preventDefault(),r()):n(t.html,r)},ft=function(e){return function(t,n){var r=re.mark(t),i=e.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),o=e.dom.create("div",{contenteditable:"true"},r);e.dom.setStyles(i,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),i.appendChild(o),e.dom.add(e.getBody(),i);var a=e.selection.getRng();o.focus();var s=e.dom.createRng();s.selectNodeContents(o),e.selection.setRng(s),setTimeout(function(){e.selection.setRng(a),i.parentNode.removeChild(i),n()},0)}},dt=function(e){return{html:e.selection.getContent({contextual:!0}),text:e.selection.getContent({format:"text"})}},mt=function(e){return function(t){e.selection.isCollapsed()===!1&&ct(t,dt(e),ft(e),function(){setTimeout(function(){e.execCommand("Delete")},0)})}},pt=function(e){return function(t){e.selection.isCollapsed()===!1&&ct(t,dt(e),ft(e),st)}},gt=function(e){e.on("cut",mt(e)),e.on("copy",pt(e))},vt={register:gt},ht=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Pt=function(e,t){return ht.getCaretRangeFromPoint(t.clientX,t.clientY,e.getDoc())},yt=function(e){var t=e["text/plain"];return!!t&&0===t.indexOf("file://")},bt=function(e,t){e.focus(),e.selection.setRng(t)},xt=function(e,t,n){W.shouldBlockDrop(e)&&e.on("dragend dragover draggesture dragdrop drop drag",function(e){e.preventDefault(),e.stopPropagation()}),W.shouldPasteDataImages(e)||e.on("drop",function(e){var t=e.dataTransfer;t&&t.files&&t.files.length>0&&e.preventDefault()}),e.on("drop",function(r){var i,o;if(o=Pt(e,r),!r.isDefaultPrevented()&&!n.get()){i=t.getDataTransferItems(r.dataTransfer);var a=t.hasContentType(i,re.internalHtmlMime());if((t.hasHtmlOrText(i)&&!yt(i)||!t.pasteImageData(r,o))&&o&&W.shouldFilterDrop(e)){var s=i["mce-internal"]||i["text/html"]||i["text/plain"];s&&(r.preventDefault(),X.setEditorTimeout(e,function(){e.undoManager.transact(function(){i["mce-internal"]&&e.execCommand("Delete"),bt(e,o),s=ve.trimHtml(s),i["text/html"]?t.pasteHtml(s,a):t.pasteText(s)})}))}}}),e.on("dragstart",function(e){n.set(!0)}),e.on("dragover dragend",function(t){W.shouldPasteDataImages(e)&&n.get()===!1&&(t.preventDefault(),bt(e,Pt(e,t))),"dragend"===t.type&&n.set(!1)})},wt={setup:xt},Tt=function(e){var t=e.plugins.paste,n=W.getPreProcess(e);n&&e.on("PastePreProcess",function(e){n.call(t,t,e)});var r=W.getPostProcess(e);r&&e.on("PastePostProcess",function(e){r.call(t,t,e)})},Ct={setup:Tt},_t=function(e){G.webkit&&l(e,d),G.ie&&(l(e,f),c(e,m))},Dt={setup:_t},kt=function(){},Rt=function(e){return function(){return e()}},Et=function(e,t){return function(){return e(t.apply(null,arguments))}},Mt=function(e){return function(){return e}},St=function(e){return e},Ft=function(e,t){return e===t},It=function(e){for(var t=new Array(arguments.length-1),n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];var i=t.concat(n);return e.apply(null,i)}},At=function(e){return function(){return!e.apply(null,arguments)}},Ot=function(e){return function(){throw new Error(e)}},Bt=function(e){return e()},Ht=function(e){e()},Nt=Mt(!1),Lt=Mt(!0),$t={noop:kt,noarg:Rt,compose:Et,constant:Mt,identity:St,tripleEquals:Ft,curry:It,not:At,die:Ot,apply:Bt,call:Ht,never:Nt,always:Lt},Wt=function(e,t,n){var r=n.control;r.active("text"===t.pasteFormat),e.on("PastePlainTextToggle",function(e){r.active(e.state)})},jt=function(e,t){var n=$t.curry(Wt,e,t);e.addButton("pastetext",{active:!1,icon:"pastetext",tooltip:"Paste as text",cmd:"mceTogglePlainTextPaste",onPostRender:n}),e.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:t.pasteFormat,cmd:"mceTogglePlainTextPaste",onPostRender:n})},Ut={register:jt},Vt=g(!1);return v.add("paste",function(e){if(P.hasProPlugin(e)===!1){var t=at(e),n=Dt.setup(e),r=g(!1);return Ut.register(e,t),q.register(e,t,Vt),Ct.setup(e),vt.register(e),wt.setup(e,t,r),b.get(t,n)}}),p})()}();
},{}],"tinymce/plugins/table/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function t(){var t=arguments;return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var r={};return At.each(t,function(t,n){r[t]=_.constant(e[n])}),r}}function e(t,e){var n=t.concat(e);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return Gt.validateStrArr("required",t),Gt.validateStrArr("optional",e),Gt.checkDupes(n),function(r){var o=Mt.keys(r),i=At.forall(t,function(t){return At.contains(o,t)});i||Gt.reqMessage(t,o);var u=At.filter(o,function(t){return!At.contains(n,t)});u.length>0&&Gt.unsuppMessage(u);var a={};return At.each(t,function(t){a[t]=_.constant(r[t])}),At.each(e,function(t){a[t]=_.constant(Object.prototype.hasOwnProperty.call(r,t)?K.some(r[t]):K.none())}),a}}function n(t,e,n){var r=t.isiOS()&&/ipad/i.test(n)===!0,o=t.isiOS()&&!r,i=t.isAndroid()&&3===t.version.major,u=t.isAndroid()&&4===t.version.major,a=r||i||u&&/mobile/i.test(n)===!0,c=t.isiOS()||t.isAndroid(),l=c&&!a,s=e.isSafari()&&t.isiOS()&&/safari/i.test(n)===!1;return{isiPad:_.constant(r),isiPhone:_.constant(o),isTablet:_.constant(a),isPhone:_.constant(l),isTouch:_.constant(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:_.constant(s)}}function r(t,e,n,r,o){return t(n,r)?K.some(n):qt.isFunction(o)&&o(n)?K.none():e(n,r,o)}function o(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return u(n).getOr("")},r=function(t){try{return o(t)}catch(e){return K.none()}},o=function(e){return t(e)?K.from(e.dom().nodeValue):K.none()},i=Jn.detect().browser,u=i.isIE()&&10===i.version.major?r:o,a=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=r};return{get:n,getOption:u,set:a}}function i(){var t=function(t){return me.fromDom(t.dom().cloneNode(!1))},e=function(t){return!!Fr.isElement(t)&&("body"===Fr.name(t)||At.contains(Cu,Fr.name(t)))},n=function(t){return!!Fr.isElement(t)&&At.contains(["br","img","hr","input"],Fr.name(t))},r=function(t,e){return t.dom().compareDocumentPosition(e.dom())},o=function(t,e){var n=Kr.clone(t);Kr.setAll(e,n)};return{up:_.constant({selector:Ao.ancestor,closest:Ao.closest,predicate:wo.ancestor,all:Ar.parents}),down:_.constant({selector:fo.descendants,predicate:io.descendants}),styles:_.constant({get:pi.get,getRaw:pi.getRaw,set:pi.set,remove:pi.remove}),attrs:_.constant({get:Kr.get,set:Kr.set,remove:Kr.remove,copyTo:o}),insert:_.constant({before:Ci.before,after:Ci.after,afterAll:Di.after,append:Ci.append,appendAll:Di.append,prepend:Ci.prepend,wrap:Ci.wrap}),remove:_.constant({unwrap:Ni.unwrap,remove:Ni.remove}),create:_.constant({nu:me.fromTag,clone:t,text:me.fromText}),query:_.constant({comparePosition:r,prevSibling:Ar.prevSibling,nextSibling:Ar.nextSibling}),property:_.constant({children:Ar.children,name:Fr.name,parent:Ar.parent,isText:Fr.isText,isComment:Fr.isComment,isElement:Fr.isElement,getText:$i.get,setText:$i.set,isBoundary:e,isEmptyTag:n}),eq:ir.eq,is:ir.is}}function u(t,e){var n=function(e,n){if(!qt.isNumber(n)&&!n.match(/^[0-9]+$/))throw t+".set accepts only positive integer values. Value was "+n;var r=e.dom();Qo.isSupported(r)&&(r.style[t]=n+"px")},r=function(n){var r=e(n);if(r<=0||null===r){var o=pi.get(n,t);return parseFloat(o)||0}return r},o=r,i=function(t,e){return At.foldl(e,function(e,n){var r=pi.get(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o},0)},u=function(t,e,n){var r=i(t,n),o=e>r?e-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:u}}function a(t){var e=function(e){return t(e).isRtl()?wl.rtl:wl.ltr},n=function(t,n){return e(n).delta(t,n)},r=function(t,n){return e(n).positions(t,n)},o=function(t){return e(t).edge(t)};return{delta:n,edge:o,positions:r}}function c(t,e,n){var r=n||!1,o=function(){e(),r=!0},i=function(){t(),r=!1},u=function(){var t=r?i:o;t()},a=function(){return r};return{on:o,off:i,toggle:u,isOn:a}}function l(t,e){var n=function(t){return"table"===Fr.name(Um.getBody(t))},r=function(e){var r=xl.getGridSize(e);return n(t)===!1||r.rows()>1},o=function(e){var r=xl.getGridSize(e);return n(t)===!1||r.columns()>1},i=bg(t),u=function(e,n,r,o){return function(u,c){var l=fo.descendants(u,"td[data-mce-style],th[data-mce-style]");At.each(l,function(t){Kr.remove(t,"data-mce-style")});var s=o(),f=me.fromDom(t.getDoc()),d=a(Jm.directionAt),m=hu.cellOperations(r,f,i);return n(u)?e(s,u,c,m,d).bind(function(e){return At.each(e.newRows(),function(e){xg(t,e.dom())}),At.each(e.newCells(),function(e){Cg(t,e.dom())}),e.cursor().map(function(e){var n=t.dom.createRng();return n.setStart(e.dom(),0),n.setEnd(e.dom(),0),n})}):K.none()}},c=u(qm.eraseRows,r,_.noop,e),l=u(qm.eraseColumns,o,_.noop,e),s=u(qm.insertRowsBefore,_.always,_.noop,e),f=u(qm.insertRowsAfter,_.always,_.noop,e),d=u(qm.insertColumnsBefore,_.always,Yc.halve,e),m=u(qm.insertColumnsAfter,_.always,Yc.halve,e),g=u(qm.mergeCells,_.always,_.noop,e),p=u(qm.unmergeCells,_.always,_.noop,e),h=u(qm.pasteRowsBefore,_.always,_.noop,e),v=u(qm.pasteRowsAfter,_.always,_.noop,e),b=u(qm.pasteCells,_.always,_.noop,e);return{deleteRow:c,deleteColumn:l,insertRowsBefore:s,insertRowsAfter:f,insertColumnsBefore:d,insertColumnsAfter:m,mergeCells:g,unmergeCells:p,pasteRowsBefore:h,pasteRowsAfter:v,pasteCells:b}}function s(t,e,n){function r(t,e,n){n&&u.setAttrib(t,e,n)}function o(t,e,n){n&&u.setStyle(t,e,n)}var i,u=t.dom;Mg.updateStyleField(t,n),i=n.control.rootControl.toJSON(),t.undoManager.transact(function(){Tg.each(e,function(n){r(n,"scope",i.scope),r(n,"style",i.style),r(n,"class",i["class"]),o(n,"height",Um.addSizeSuffix(i.height)),i.type!==n.parentNode.nodeName.toLowerCase()&&jg(t.dom,n,i.type),1===e.length&&Ng.unApplyAlign(t,n),i.align&&Ng.applyAlign(t,n,i.align)}),t.focus()})}function f(t,e,n,r){if("TD"===e.tagName||"TH"===e.tagName)t.setStyle(e,n,r);else if(e.children)for(var o=0;o<e.children.length;o++)f(t,e.children[o],n,r)}function d(t){var e=Yt.immutable.apply(null,t),n=[],r=function(t){if(void 0===t)throw"Event bind error: undefined handler";n.push(t)},o=function(t){n=At.filter(n,function(e){return e!==t})},i=function(){var t=e.apply(null,arguments);At.each(n,function(e){e(t)})};return{bind:r,unbind:o,trigger:i}}function m(t){var e=as.merge({layerClass:kp.resolve("blocker")},t),n=me.fromTag("div");Kr.set(n,"role","presentation"),pi.setAll(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),ff.add(n,kp.resolve("blocker")),ff.add(n,e.layerClass);var r=function(){return n},o=function(){Ni.remove(n)};return{element:r,destroy:o}}function g(){var t=K.none(),e=function(){t=K.none()},n=function(e,n){var r=t.map(function(t){return e.compare(t,n)});return t=K.some(n),r},r=function(t,e){var r=e.extract(t);r.each(function(t){var r=n(e,t);r.each(function(t){o.trigger.move(t)})})},o=Sp.create({move:d(["info"])});return{onEvent:r,reset:e,events:o.registry}}function p(t){var e=function(t,e){};return{onEvent:e,reset:_.noop}}function h(){var t=p(),e=g(),n=t,r=function(){n.reset(),n=e},o=function(){n.reset(),n=t},i=function(t,e){n.onEvent(t,e)},u=function(){return n===e};return{on:r,off:o,isOn:u,onEvent:i,events:e.events}}function v(){var t=Sp.create({drag:d(["xDelta","yDelta"])}),e=function(e,n){t.trigger.drag(e,n)};return{mutate:e,events:t.registry}}function b(){var t=Sp.create({drag:d(["xDelta","yDelta","target"])}),e=K.none(),n=v();n.events.drag.bind(function(n){e.each(function(e){t.trigger.drag(n.xDelta(),n.yDelta(),e)})});var r=function(t){e=K.some(t)},o=function(){return e};return{assign:r,get:o,mutate:n.mutate,events:t.registry}}function w(t,e,n){var r=b(),o=Zp.transform(r,{}),i=K.none(),u=function(t,e){return K.from(Kr.get(t,e))};r.events.drag.bind(function(t){u(t.target(),"data-row").each(function(e){var n=Pd.getInt(t.target(),"top");pi.set(t.target(),"top",n+t.yDelta()+"px")}),u(t.target(),"data-column").each(function(e){var n=Pd.getInt(t.target(),"left");pi.set(t.target(),"left",n+t.xDelta()+"px")})});var a=function(t,e){var n=Pd.getInt(t,e),r=parseInt(Kr.get(t,"data-initial-"+e),10);return n-r};o.events.stop.bind(function(){r.get().each(function(r){i.each(function(o){u(r,"data-row").each(function(t){var e=a(r,"top");Kr.remove(r,"data-initial-top"),p.trigger.adjustHeight(o,e,parseInt(t,10))}),u(r,"data-column").each(function(t){var e=a(r,"left");Kr.remove(r,"data-initial-left"),p.trigger.adjustWidth(o,e,parseInt(t,10))}),Df.refresh(t,o,n,e)})})});var c=function(e,n){p.trigger.startAdjust(),r.assign(e),Kr.set(e,"data-initial-"+n,parseInt(pi.get(e,n),10)),ff.add(e,ah),pi.set(e,"opacity","0.2"),o.go(t.parent())},l=zp.bind(t.parent(),"mousedown",function(t){Df.isRowBar(t.target())&&c(t.target(),"top"),Df.isColBar(t.target())&&c(t.target(),"left")}),s=function(e){return ir.eq(e,t.view())},f=zp.bind(t.view(),"mouseover",function(r){"table"===Fr.name(r.target())||uh.ancestor(r.target(),"table",s)?(i="table"===Fr.name(r.target())?K.some(r.target()):Ao.ancestor(r.target(),"table",s),i.each(function(r){Df.refresh(t,r,n,e)})):Zr.inBody(r.target())&&Df.destroy(t)}),m=function(){l.unbind(),f.unbind(),o.destroy(),Df.destroy(t)},g=function(r){Df.refresh(t,r,n,e)},p=Sp.create({adjustHeight:d(["table","delta","row"]),adjustWidth:d(["table","delta","column"]),startAdjust:d([])});return{destroy:m,refresh:g,on:o.on,off:o.off,hideBars:_.curry(Df.hide,t),showBars:_.curry(Df.show,t),events:p.registry}}function y(t,e){var n=bl.height,r=w(t,e,n),o=Sp.create({beforeResize:d(["table"]),afterResize:d(["table"]),startDrag:d([])});return r.events.adjustHeight.bind(function(t){o.trigger.beforeResize(t.table());var e=n.delta(t.delta(),t.table());cm.adjustHeight(t.table(),e,t.row(),n),o.trigger.afterResize(t.table())}),r.events.startAdjust.bind(function(t){o.trigger.startDrag()}),r.events.adjustWidth.bind(function(t){o.trigger.beforeResize(t.table());var n=e.delta(t.delta(),t.table());cm.adjustWidth(t.table(),n,t.column(),e),o.trigger.afterResize(t.table())}),{on:r.on,off:r.off,hideBars:r.hideBars,showBars:r.showBars,destroy:r.destroy,events:o.registry}}function x(t){var e,n,r=K.none(),o=K.none(),i=K.none(),u=/(\d+(\.\d+)?)%/,c=function(t){return"TABLE"===t.nodeName},l=function(e){return t.dom.getStyle(e,"width")||t.dom.getAttrib(e,"width")},s=function(){return o},f=function(){return i.getOr(xp.only(me.fromDom(t.getBody())))},d=function(){o.each(function(t){t.destroy()}),i.each(function(e){fh.remove(t,e)})};return t.on("init",function(){var e=a(Jm.directionAt),n=fh.get(t);if(i=K.some(n),wg(t)&&rg(t)){var u=y(n,e);u.on(),u.events.startDrag.bind(function(e){r=K.some(t.selection.getRng())}),u.events.afterResize.bind(function(e){var n=e.table(),o=fo.descendants(n,"td[data-mce-style],th[data-mce-style]");At.each(o,function(t){Kr.remove(t,"data-mce-style")}),r.each(function(e){t.selection.setRng(e),t.focus()}),t.undoManager.add()}),o=K.some(u)}}),t.on("ObjectResizeStart",function(t){c(t.target)&&(e=t.width,n=l(t.target))}),t.on("ObjectResized",function(r){if(c(r.target)){var o=r.target;if(u.test(n)){var i=parseFloat(u.exec(n)[1]),a=r.width*i/e;t.dom.setStyle(o,"width",a+"%")}else{var l=[];Tg.each(o.rows,function(e){Tg.each(e.cells,function(e){var n=t.dom.getStyle(e,"width",!0);l.push({cell:e,width:n})})}),Tg.each(l,function(e){t.dom.setStyle(e.cell,"width",e.width),t.dom.setAttrib(e.cell,"width",null)})}}}),{lazyResize:s,lazyWire:f,destroy:d}}function C(t){var e=function(e,n){return K.from(t.document.elementFromPoint(e,n)).map(me.fromDom)},n=function(t){return t.dom().getBoundingClientRect()},r=function(e,n,r,o){var i=Nh.exact(e,n,r,o);return cb.getFirstRect(t,i).map(function(t){return Mt.map(t,_.apply)})},o=function(){return cb.get(t).map(function(e){return Db.convertToRange(t,e)})},i=function(e){var n=Nh.relative(e.start(),e.finish());return Db.convertToRange(t,n)},u=function(e,n){return cb.getAtPoint(t,e,n).map(function(t){return{start:_.constant(Th.on(t.start(),t.soffset())),finish:_.constant(Th.on(t.finish(),t.foffset()))}})},a=function(){cb.clear(t)},c=function(e){cb.setToElement(t,e)},l=function(e){cb.setExact(t,e.start(),e.soffset(),e.finish(),e.foffset())},s=function(e,n){cb.setRelative(t,e,n)},f=function(){return t.innerHeight},d=function(){var e=Fb.get(me.fromDom(t.document));return e.top()},m=function(e,n){Fb.by(e,n,me.fromDom(t.document))};return{elementFromPoint:e,getRect:n,getRangedRect:r,getSelection:o,fromSitus:i,situsFromPoint:u,clearSelection:a,setSelection:l,setRelativeSelection:s,selectContents:c,getInnerHeight:f,getScrollY:d,scrollBy:m}}function S(t,e,n,r){var o=K.none(),i=function(){o=K.none()},u=function(t){r.clear(e),o=Jy(t.target(),n)},a=function(i){o.each(function(o){r.clear(e),Jy(i.target(),n).each(function(i){Aa.identify(o,i,n).each(function(n){var u=n.boxes().getOr([]);(u.length>1||1===u.length&&!ir.eq(o,i))&&(r.selectRange(e,u,n.start(),n.finish()),t.selectContents(i))})})})},c=function(){o.each(i)};return{mousedown:u,mouseover:a,mouseup:c}}function R(t,e){var n=Yt.immutableBag(["mousedown","mouseover","mouseup","keyup","keydown"],[]),r=K.none(),o=bx.byAttr(La);t.on("init",function(i){var u=t.getWin(),a=Um.getBody(t),c=Um.getIsRoot(t),l=function(){var e=t.selection,n=me.fromDom(e.getStart()),r=me.fromDom(e.getEnd()),i=zo.table(n),u=zo.table(r),c=i.bind(function(t){return u.bind(function(e){return ir.eq(t,e)?K.some(!0):K.none()})});c.fold(function(){o.clear(a)},_.noop)},s=nx.mouse(u,a,c,o),f=nx.keyboard(u,a,c,o),d=function(t){return t.raw().shiftKey===!0},m=function(e,n){d(e)&&(n.kill()&&e.kill(),n.selection().each(function(e){var n=Nh.relative(e.start(),e.finish()),r=uv.asLtrRange(u,n);t.selection.setRng(r)}))},g=function(e){var n=b(e);if(n.raw().shiftKey&&Rb.isNavigation(n.raw().which)){var r=t.selection.getRng(),o=me.fromDom(r.startContainer),i=me.fromDom(r.endContainer);f.keyup(n,o,r.startOffset,i,r.endOffset).each(function(t){m(n,t)})}},p=function(t){return!(Kr.has(t,"data-mce-bogus")||"br"===Fr.name(t)||Fr.isText(t)&&0===$i.get(t).length)},h=function(){var e=me.fromDom(t.getBody()),n=Ar.lastChild(e),r=function(t){return Ar.prevSibling(t).bind(function(t){return p(t)?K.some(t):r(t)})};return n.bind(function(t){return p(t)?K.some(t):r(t)})},v=function(n){var r=b(n);e().each(function(t){t.hideBars()}),40===n.which&&h().each(function(e){"table"===Fr.name(e)&&(ig(t)?t.dom.add(t.getBody(),ig(t),dg(t),"<br/>"):t.dom.add(t.getBody(),"br"))});var o=t.selection.getRng(),i=me.fromDom(t.selection.getStart()),u=me.fromDom(o.startContainer),a=me.fromDom(o.endContainer),c=Jm.directionAt(i).isRtl()?Rb.rtl:Rb.ltr;f.keydown(r,u,o.startOffset,a,o.endOffset,c).each(function(t){m(r,t)}),e().each(function(t){t.showBars()})},b=function(t){var e=me.fromDom(t.target),n=function(){t.stopPropagation()},r=function(){t.preventDefault()},o=_.compose(r,n);return{target:_.constant(e),x:_.constant(t.x),y:_.constant(t.y),stop:n,prevent:r,kill:o,raw:_.constant(t)}},w=function(t){return 0===t.button},y=function(t){return void 0===t.buttons||0!==(1&t.buttons)},x=function(t){w(t)&&s.mousedown(b(t))},C=function(t){y(t)&&s.mouseover(b(t))},S=function(t){w&&s.mouseup(b(t))};t.on("mousedown",x),t.on("mouseover",C),t.on("mouseup",S),t.on("keyup",g),t.on("keydown",v),t.on("nodechange",l),r=K.some(n({mousedown:x,mouseover:C,mouseup:S,keyup:g,keydown:v}))});var i=function(){r.each(function(t){})};return{clear:o.clear,destroy:i}}function T(t){var e=function(){var e=Um.getBody(t);return ka.retrieve(e,La.selectedSelector()).fold(function(){return void 0===t.selection.getStart()?_a.none():_a.single(t.selection)},function(t){return _a.multiple(t)})};return{get:e}}function A(t){var e=x(t),n=R(t,e.lazyResize),r=l(t,e.lazyWire),o=T(t),i=Cl(K.none());return vp.registerCommands(t,r,n,o,i),nc.registerEvents(t,o,r,n),Rx.addMenuItems(t,o),Cx.addButtons(t),Cx.addToolbars(t),t.on("PreInit",function(){t.serializer.addTempAttr(La.firstSelected()),t.serializer.addTempAttr(La.lastSelected())}),og(t)&&t.on("keydown",function(n){vb.handle(n,t,r,e.lazyWire)}),t.on("remove",function(){e.destroy(),n.destroy()}),Dx(t,i)}function D(){}var E=tinymce.util.Tools.resolve("tinymce.PluginManager"),k=function(){},O=function(t){return function(){return t()}},N=function(t,e){return function(){return t(e.apply(null,arguments))}},B=function(t){return function(){return t}},P=function(t){return t},I=function(t,e){return t===e},W=function(t){for(var e=new Array(arguments.length-1),n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}},M=function(t){return function(){return!t.apply(null,arguments)}},L=function(t){return function(){throw new Error(t)}},F=function(t){return t()},q=function(t){t()},z=B(!1),H=B(!0),_={noop:k,noarg:O,compose:N,constant:B,identity:P,tripleEquals:I,curry:W,not:M,die:L,apply:F,call:q,never:z,always:H},j=_.never,U=_.always,V=function(){return G},G=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r=function(){},o={fold:function(t,e){return t()},is:j,isSome:j,isNone:U,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},or:n,orThunk:e,map:V,ap:V,each:r,bind:V,flatten:V,exists:j,forall:U,filter:V,equals:t,equals_:t,toArray:function(){return[]},toString:_.constant("none()")};return Object.freeze&&Object.freeze(o),o}(),Y=function(t){var e=function(){return t},n=function(){return i},r=function(e){return Y(e(t))},o=function(e){return e(t)},i={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:U,isNone:j,getOr:e,getOrThunk:e,getOrDie:e,or:n,orThunk:n,map:r,ap:function(e){return e.fold(V,function(e){return Y(e(t))})},each:function(e){e(t)},bind:o,flatten:e,exists:o,forall:o,filter:function(e){return e(t)?i:G},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(j,function(e){return n(t,e)})},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return i},X=function(t){return null===t||void 0===t?G:Y(t)},K={some:Y,none:V,from:X},$=function(){var t=Array.prototype.indexOf,e=function(e,n){return t.call(e,n)},n=function(t,e){return dt(t,e)};return void 0===t?n:e}(),J=function(t,e){var n=$(t,e);return n===-1?K.none():K.some(n)},Q=function(t,e){return $(t,e)>-1},Z=function(t,e){return ft(t,e).isSome()},tt=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n},et=function(t,e){for(var n=[],r=0;r<t.length;r+=e){var o=t.slice(r,r+e);n.push(o)}return n},nt=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o,t)}return r},rt=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n,t)}},ot=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n,t)}},it=function(t,e){for(var n=[],r=[],o=0,i=t.length;o<i;o++){var u=t[o],a=e(u,o,t)?n:r;a.push(u)}return{pass:n,fail:r}},ut=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r,t)&&n.push(i)}return n},at=function(t,e){if(0===t.length)return[];for(var n=e(t[0]),r=[],o=[],i=0,u=t.length;i<u;i++){var a=t[i],c=e(a);c!==n&&(r.push(o),o=[]),n=c,o.push(a)}return 0!==o.length&&r.push(o),r},ct=function(t,e,n){return ot(t,function(t){n=e(n,t)}),n},lt=function(t,e,n){return rt(t,function(t){n=e(n,t)}),n},st=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n,t))return K.some(o)}return K.none()},ft=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n,t))return K.some(n)}return K.none()},dt=function(t,e){for(var n=0,r=t.length;n<r;++n)if(t[n]===e)return n;return-1},mt=Array.prototype.push,gt=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!Array.prototype.isPrototypeOf(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);mt.apply(e,t[n])}return e},pt=function(t,e){var n=nt(t,e);return gt(n)},ht=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(e(o,n,t)!==!0)return!1}return!0},vt=function(t,e){return t.length===e.length&&ht(t,function(t,n){return t===e[n]})},bt=Array.prototype.slice,wt=function(t){var e=bt.call(t,0);return e.reverse(),e},yt=function(t,e){return ut(t,function(t){return!Q(e,t)})},xt=function(t,e){for(var n={},r=0,o=t.length;r<o;r++){var i=t[r];n[String(i)]=e(i,r)}return n},Ct=function(t){return[t]},St=function(t,e){var n=bt.call(t,0);return n.sort(e),n},Rt=function(t){return 0===t.length?K.none():K.some(t[0])},Tt=function(t){return 0===t.length?K.none():K.some(t[t.length-1])},At={map:nt,each:rt,eachr:ot,partition:it,filter:ut,groupBy:at,indexOf:J,foldr:ct,foldl:lt,find:st,findIndex:ft,flatten:gt,bind:pt,forall:ht,exists:Z,contains:Q,equal:vt,reverse:wt,chunk:et,difference:yt,mapToObject:xt,pure:Ct,sort:St,range:tt,head:Rt,last:Tt},Dt=function(){var t=Object.keys,e=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};return void 0===t?e:t}(),Et=function(t,e){for(var n=Dt(t),r=0,o=n.length;r<o;r++){var i=n[r],u=t[i];e(u,i,t)}},kt=function(t,e){return Ot(t,function(t,n,r){return{k:n,v:e(t,n,r)}})},Ot=function(t,e){var n={};return Et(t,function(r,o){var i=e(r,o,t);n[i.k]=i.v}),n},Nt=function(t,e){var n={},r={};return Et(t,function(t,o){var i=e(t,o)?n:r;i[o]=t}),{t:n,f:r}},Bt=function(t,e){var n=[];return Et(t,function(t,r){n.push(e(t,r))}),n},Pt=function(t,e){for(var n=Dt(t),r=0,o=n.length;r<o;r++){var i=n[r],u=t[i];if(e(u,i,t))return K.some(u)}return K.none()},It=function(t){return Bt(t,function(t){return t})},Wt=function(t){return It(t).length},Mt={bifilter:Nt,each:Et,map:kt,mapToArray:Bt,tupleMap:Ot,find:Pt,keys:Dt,values:It,size:Wt},Lt=function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&Array.prototype.isPrototypeOf(t)?"array":"object"===e&&String.prototype.isPrototypeOf(t)?"string":e},Ft=function(t){return function(e){return Lt(e)===t}},qt={isString:Ft("string"),isObject:Ft("object"),isArray:Ft("array"),isNull:Ft("null"),isBoolean:Ft("boolean"),isUndefined:Ft("undefined"),isFunction:Ft("function"),isNumber:Ft("number")},zt=function(t){return t.slice(0).sort()},Ht=function(t,e){throw new Error("All required keys ("+zt(t).join(", ")+") were not specified. Specified keys were: "+zt(e).join(", ")+".")},_t=function(t){throw new Error("Unsupported keys for object: "+zt(t).join(", "))},jt=function(t,e){if(!qt.isArray(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");At.each(e,function(e){if(!qt.isString(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")})},Ut=function(t,e){throw new Error("All values need to be of type: "+e+". Keys ("+zt(t).join(", ")+") were not.")},Vt=function(t){var e=zt(t),n=At.find(e,function(t,n){return n<e.length-1&&t===e[n+1]});n.each(function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")})},Gt={sort:zt,reqMessage:Ht,unsuppMessage:_t,validateStrArr:jt,invalidTypeMessage:Ut,checkDupes:Vt},Yt={immutable:t,immutableBag:e},Xt=Yt.immutable("width","height"),Kt=Yt.immutable("rows","columns"),$t=Yt.immutable("row","column"),Jt=Yt.immutable("x","y"),Qt=Yt.immutable("element","rowspan","colspan"),Zt=Yt.immutable("element","rowspan","colspan","isNew"),te=Yt.immutable("element","rowspan","colspan","row","column"),ee=Yt.immutable("element","cells","section"),ne=Yt.immutable("element","isNew"),re=Yt.immutable("element","cells","section","isNew"),oe=Yt.immutable("cells","section"),ie=Yt.immutable("details","section"),ue=Yt.immutable("startRow","startCol","finishRow","finishCol"),ae={dimensions:Xt,grid:Kt,address:$t,coords:Jt,extended:te,detail:Qt,detailnew:Zt,rowdata:ee,elementnew:ne,rowdatanew:re,rowcells:oe,rowdetails:ie,bounds:ue},ce=function(t,e){var n=e||document,r=n.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",t),"HTML must have a single root node";return fe(r.childNodes[0])},le=function(t,e){var n=e||document,r=n.createElement(t);return fe(r)},se=function(t,e){var n=e||document,r=n.createTextNode(t);return fe(r)},fe=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:_.constant(t)}},de=function(t,e,n){return K.from(t.dom().elementFromPoint(e,n)).map(fe)},me={fromHtml:ce,fromTag:le,fromText:se,fromDom:fe,fromPoint:de},ge={ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12},pe=ge.ELEMENT,he=ge.DOCUMENT,ve=function(t,e){var n=t.dom();if(n.nodeType!==pe)return!1;if(void 0!==n.matches)return n.matches(e);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(e);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(e);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},be=function(t){return t.nodeType!==pe&&t.nodeType!==he||0===t.childElementCount},we=function(t,e){var n=void 0===e?document:e.dom();return be(n)?[]:At.map(n.querySelectorAll(t),me.fromDom)},ye=function(t,e){var n=void 0===e?document:e.dom();return be(n)?K.none():K.from(n.querySelector(t)).map(me.fromDom)},xe={all:we,is:ve,one:ye},Ce=function(t,e){var n=[],r=function(t){return n.push(t),e(t)},o=e(t);do o=o.bind(r);while(o.isSome());return n},Se={toArray:Ce},Re="undefined"!=typeof window?window:Function("return this;")(),Te=function(t,e){for(var n=void 0!==e&&null!==e?e:Re,r=0;r<t.length&&void 0!==n&&null!==n;++r)n=n[t[r]];return n},Ae=function(t,e){var n=t.split(".");return Te(n,e)},De=function(t,e){return void 0!==t[e]&&null!==t[e]||(t[e]={}),t[e]},Ee=function(t,e){for(var n=void 0!==e?e:Re,r=0;r<t.length;++r)n=De(n,t[r]);return n},ke=function(t,e){var n=t.split(".");return Ee(n,e)},Oe={path:Te,resolve:Ae,forge:Ee,namespace:ke},Ne=function(t,e){return Oe.resolve(t,e)},Be=function(t,e){var n=Ne(t,e);if(void 0===n||null===n)throw t+" not available on this browser";return n},Pe={getOrDie:Be},Ie=function(){var t=Pe.getOrDie("Node");return t},We=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)},Me=function(t,e){return We(t,e,Ie().DOCUMENT_POSITION_PRECEDING)},Le=function(t,e){return We(t,e,Ie().DOCUMENT_POSITION_CONTAINED_BY)},Fe={documentPositionPreceding:Me,documentPositionContainedBy:Le},qe=function(t){var e,n=!1;return function(){return n||(n=!0,e=t.apply(null,arguments)),e}},ze={cached:qe},He=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}},_e=function(t,e){var n=He(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return Ve(r(1),r(2))},je=function(t,e){var n=String(e).toLowerCase();return 0===t.length?Ue():_e(t,n)},Ue=function(){return Ve(0,0)},Ve=function(t,e){return{major:t,minor:e}},Ge={nu:Ve,detect:je,unknown:Ue},Ye="Edge",Xe="Chrome",Ke="IE",$e="Opera",Je="Firefox",Qe="Safari",Ze=function(t,e){return function(){return e===t}},tn=function(){return en({current:void 0,version:Ge.unknown()})},en=function(t){var e=t.current,n=t.version;return{current:e,version:n,isEdge:Ze(Ye,e),isChrome:Ze(Xe,e),isIE:Ze(Ke,e),isOpera:Ze($e,e),isFirefox:Ze(Je,e),isSafari:Ze(Qe,e)}},nn={unknown:tn,nu:en,edge:_.constant(Ye),chrome:_.constant(Xe),ie:_.constant(Ke),opera:_.constant($e),firefox:_.constant(Je),safari:_.constant(Qe)},rn="Windows",on="iOS",un="Android",an="Linux",cn="OSX",ln="Solaris",sn="FreeBSD",fn=function(t,e){return function(){return e===t}},dn=function(){return mn({current:void 0,version:Ge.unknown()})},mn=function(t){var e=t.current,n=t.version;return{current:e,version:n,isWindows:fn(rn,e),isiOS:fn(on,e),isAndroid:fn(un,e),isOSX:fn(cn,e),isLinux:fn(an,e),isSolaris:fn(ln,e),isFreeBSD:fn(sn,e)}},gn={unknown:dn,nu:mn,windows:_.constant(rn),ios:_.constant(on),android:_.constant(un),linux:_.constant(an),osx:_.constant(cn),solaris:_.constant(ln),freebsd:_.constant(sn)},pn=function(t,e){var n=String(e).toLowerCase();return At.find(t,function(t){return t.search(n)})},hn=function(t,e){return pn(t,e).map(function(t){var n=Ge.detect(t.versionRegexes,e);return{current:t.name,version:n}})},vn=function(t,e){return pn(t,e).map(function(t){var n=Ge.detect(t.versionRegexes,e);return{current:t.name,version:n}})},bn={detectBrowser:hn,detectOs:vn},wn=function(t,e){return e+t},yn=function(t,e){return t+e},xn=function(t,e){return t.substring(e)},Cn=function(t,e){return t.substring(0,t.length-e)},Sn={addToStart:wn,addToEnd:yn,removeFromStart:xn,removeFromEnd:Cn},Rn=function(t,e){return t.substr(0,e)},Tn=function(t,e){return t.substr(t.length-e,t.length)},An=function(t){return""===t?K.none():K.some(t.substr(0,1))},Dn=function(t){return""===t?K.none():K.some(t.substring(1))},En={first:Rn,last:Tn,head:An,tail:Dn},kn=function(t,e,n){if(""===e)return!0;if(t.length<e.length)return!1;var r=t.substr(n,n+e.length);return r===e},On=function(t,e){var n=function(t){var e=typeof t;return"string"===e||"number"===e};return t.replace(/\${([^{}]*)}/g,function(t,r){var o=e[r];return n(o)?o:t})},Nn=function(t,e){return Ln(t,e)?Sn.removeFromStart(t,e.length):t},Bn=function(t,e){return Fn(t,e)?Sn.removeFromEnd(t,e.length):t},Pn=function(t,e){return Ln(t,e)?t:Sn.addToStart(t,e)},In=function(t,e){return Fn(t,e)?t:Sn.addToEnd(t,e)},Wn=function(t,e){return t.indexOf(e)!==-1},Mn=function(t){return En.head(t).bind(function(e){return En.tail(t).map(function(t){return e.toUpperCase()+t})}).getOr(t)},Ln=function(t,e){return kn(t,e,0)},Fn=function(t,e){return kn(t,e,t.length-e.length)},qn=function(t){return t.replace(/^\s+|\s+$/g,"")},zn=function(t){return t.replace(/^\s+/g,"")},Hn=function(t){return t.replace(/\s+$/g,"")},_n={supplant:On,startsWith:Ln,removeLeading:Nn,removeTrailing:Bn,ensureLeading:Pn,ensureTrailing:In,endsWith:Fn,contains:Wn,trim:qn,lTrim:zn,rTrim:Hn,capitalize:Mn},jn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Un=function(t){return function(e){return _n.contains(e,t)}},Vn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){var e=_n.contains(t,"edge/")&&_n.contains(t,"chrome")&&_n.contains(t,"safari")&&_n.contains(t,"applewebkit");return e}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,jn],search:function(t){return _n.contains(t,"chrome")&&!_n.contains(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return _n.contains(t,"msie")||_n.contains(t,"trident")}},{name:"Opera",versionRegexes:[jn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Un("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Un("firefox")},{name:"Safari",versionRegexes:[jn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(_n.contains(t,"safari")||_n.contains(t,"mobile/"))&&_n.contains(t,"applewebkit")}}],Gn=[{name:"Windows",search:Un("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return _n.contains(t,"iphone")||_n.contains(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Un("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Un("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Un("linux"),versionRegexes:[]},{name:"Solaris",search:Un("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Un("freebsd"),versionRegexes:[]}],Yn={browsers:_.constant(Vn),oses:_.constant(Gn)},Xn=function(t){var e=Yn.browsers(),r=Yn.oses(),o=bn.detectBrowser(e,t).fold(nn.unknown,nn.nu),i=bn.detectOs(r,t).fold(gn.unknown,gn.nu),u=n(i,o,t);return{browser:o,os:i,deviceType:u}},Kn={detect:Xn},$n=ze.cached(function(){var t=navigator.userAgent;return Kn.detect(t)}),Jn={detect:$n},Qn=function(t,e){return t.dom()===e.dom()},Zn=function(t,e){return t.dom().isEqualNode(e.dom())},tr=function(t,e){return At.exists(e,_.curry(Qn,t))},er=function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)},nr=function(t,e){return Fe.documentPositionContainedBy(t.dom(),e.dom())},rr=Jn.detect().browser,or=rr.isIE()?nr:er,ir={
eq:Qn,isEqualNode:Zn,member:tr,contains:or,is:xe.is},ur=function(t){return me.fromDom(t.dom().ownerDocument)},ar=function(t){var e=ur(t);return me.fromDom(e.dom().documentElement)},cr=function(t){var e=t.dom(),n=e.ownerDocument.defaultView;return me.fromDom(n)},lr=function(t){var e=t.dom();return K.from(e.parentNode).map(me.fromDom)},sr=function(t){return lr(t).bind(function(e){var n=br(e);return At.findIndex(n,function(e){return ir.eq(t,e)})})},fr=function(t,e){for(var n=qt.isFunction(e)?e:_.constant(!1),r=t.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,u=me.fromDom(i);if(o.push(u),n(u)===!0)break;r=i}return o},dr=function(t){var e=function(e){return At.filter(e,function(e){return!ir.eq(t,e)})};return lr(t).map(br).map(e).getOr([])},mr=function(t){var e=t.dom();return K.from(e.offsetParent).map(me.fromDom)},gr=function(t){var e=t.dom();return K.from(e.previousSibling).map(me.fromDom)},pr=function(t){var e=t.dom();return K.from(e.nextSibling).map(me.fromDom)},hr=function(t){return At.reverse(Se.toArray(t,gr))},vr=function(t){return Se.toArray(t,pr)},br=function(t){var e=t.dom();return At.map(e.childNodes,me.fromDom)},wr=function(t,e){var n=t.dom().childNodes;return K.from(n[e]).map(me.fromDom)},yr=function(t){return wr(t,0)},xr=function(t){return wr(t,t.dom().childNodes.length-1)},Cr=function(t){return t.dom().childNodes.length},Sr=function(t){return t.dom().hasChildNodes()},Rr=Yt.immutable("element","offset"),Tr=function(t,e){var n=br(t);return n.length>0&&e<n.length?Rr(n[e],0):Rr(t,e)},Ar={owner:ur,defaultView:cr,documentElement:ar,parent:lr,findIndex:sr,parents:fr,siblings:dr,prevSibling:gr,offsetParent:mr,prevSiblings:hr,nextSibling:pr,nextSiblings:vr,children:br,child:wr,firstChild:yr,lastChild:xr,childNodesCount:Cr,hasChildNodes:Sr,leaf:Tr},Dr=function(t,e){return Er(t,e,_.constant(!0))},Er=function(t,e,n){return At.bind(Ar.children(t),function(t){return xe.is(t,e)?n(t)?[t]:[]:Er(t,e,n)})},kr={firstLayer:Dr,filterFirstLayer:Er},Or=function(t){var e=t.dom().nodeName;return e.toLowerCase()},Nr=function(t){return t.dom().nodeType},Br=function(t){return t.dom().nodeValue},Pr=function(t){return function(e){return Nr(e)===t}},Ir=function(t){return Nr(t)===ge.COMMENT||"#comment"===Or(t)},Wr=Pr(ge.ELEMENT),Mr=Pr(ge.TEXT),Lr=Pr(ge.DOCUMENT),Fr={name:Or,type:Nr,value:Br,isElement:Wr,isText:Mr,isDocument:Lr,isComment:Ir},qr=function(t,e,n){if(!(qt.isString(n)||qt.isBoolean(n)||qt.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",e,":: Value ",n,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(e,n+"")},zr=function(t,e,n){qr(t.dom(),e,n)},Hr=function(t,e){var n=t.dom();Mt.each(e,function(t,e){qr(n,e,t)})},_r=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},jr=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},Ur=function(t,e){t.dom().removeAttribute(e)},Vr=function(t){var e=t.dom().attributes;return void 0===e||null===e||0===e.length},Gr=function(t){return At.foldl(t.dom().attributes,function(t,e){return t[e.name]=e.value,t},{})},Yr=function(t,e,n){jr(t,n)&&!jr(e,n)&&zr(e,n,_r(t,n))},Xr=function(t,e,n){Fr.isElement(t)&&Fr.isElement(e)&&At.each(n,function(n){Yr(t,e,n)})},Kr={clone:Gr,set:zr,setAll:Hr,get:_r,has:jr,remove:Ur,hasNone:Vr,transfer:Xr},$r=function(t){var e=Fr.isText(t)?t.dom().parentNode:t.dom();return void 0!==e&&null!==e&&e.ownerDocument.body.contains(e)},Jr=ze.cached(function(){return Qr(me.fromDom(document))}),Qr=function(t){var e=t.dom().body;if(null===e||void 0===e)throw"Body is not available yet";return me.fromDom(e)},Zr={body:Jr,getBody:Qr,inBody:$r},to=function(t){return oo(Zr.body(),t)},eo=function(t,e,n){return At.filter(Ar.parents(t,n),e)},no=function(t,e){return At.filter(Ar.siblings(t),e)},ro=function(t,e){return At.filter(Ar.children(t),e)},oo=function(t,e){var n=[];return At.each(Ar.children(t),function(t){e(t)&&(n=n.concat([t])),n=n.concat(oo(t,e))}),n},io={all:to,ancestors:eo,siblings:no,children:ro,descendants:oo},uo=function(t){return xe.all(t)},ao=function(t,e,n){return io.ancestors(t,function(t){return xe.is(t,e)},n)},co=function(t,e){return io.siblings(t,function(t){return xe.is(t,e)})},lo=function(t,e){return io.children(t,function(t){return xe.is(t,e)})},so=function(t,e){return xe.all(e,t)},fo={all:uo,ancestors:ao,siblings:co,children:lo,descendants:so},mo=function(t){return bo(Zr.body(),t)},go=function(t,e,n){for(var r=t.dom(),o=qt.isFunction(n)?n:_.constant(!1);r.parentNode;){r=r.parentNode;var i=me.fromDom(r);if(e(i))return K.some(i);if(o(i))break}return K.none()},po=function(t,e,n){var o=function(t){return e(t)};return r(o,go,t,e,n)},ho=function(t,e){var n=t.dom();return n.parentNode?vo(me.fromDom(n.parentNode),function(n){return!ir.eq(t,n)&&e(n)}):K.none()},vo=function(t,e){var n=At.find(t.dom().childNodes,_.compose(e,me.fromDom));return n.map(me.fromDom)},bo=function(t,e){var n=function(t){for(var r=0;r<t.childNodes.length;r++){if(e(me.fromDom(t.childNodes[r])))return K.some(me.fromDom(t.childNodes[r]));var o=n(t.childNodes[r]);if(o.isSome())return o}return K.none()};return n(t.dom())},wo={first:mo,ancestor:go,closest:po,sibling:ho,child:vo,descendant:bo},yo=function(t){return xe.one(t)},xo=function(t,e,n){return wo.ancestor(t,function(t){return xe.is(t,e)},n)},Co=function(t,e){return wo.sibling(t,function(t){return xe.is(t,e)})},So=function(t,e){return wo.child(t,function(t){return xe.is(t,e)})},Ro=function(t,e){return xe.one(e,t)},To=function(t,e,n){return r(xe.is,xo,t,e,n)},Ao={first:yo,ancestor:xo,sibling:Co,child:So,descendant:Ro,closest:To},Do=function(t,e,n){var r=void 0!==n?n:_.constant(!1);if(r(e))return K.none();if(At.contains(t,Fr.name(e)))return K.some(e);var o=function(t){return xe.is(t,"table")||r(t)};return Ao.ancestor(e,t.join(","),o)},Eo=function(t,e){return Do(["td","th"],t,e)},ko=function(t){return kr.firstLayer(t,"th,td")},Oo=function(t,e){return Do(["caption","tr","tbody","tfoot","thead"],t,e)},No=function(t,e){return Ar.parent(e).map(function(e){return fo.children(e,t)})},Bo=_.curry(No,"th,td"),Po=_.curry(No,"tr"),Io=function(t){return Ao.descendant(t,"th,td")},Wo=function(t,e){return Ao.closest(t,"table",e)},Mo=function(t,e){return Do(["tr"],t,e)},Lo=function(t){return kr.firstLayer(t,"tr")},Fo=function(t,e){return parseInt(Kr.get(t,e),10)},qo=function(t,e,n){var r=Fo(t,e),o=Fo(t,n);return ae.grid(r,o)},zo={cell:Eo,firstCell:Io,cells:ko,neighbourCells:Bo,table:Wo,row:Mo,rows:Lo,notCell:Oo,neighbourRows:Po,attr:Fo,grid:qo},Ho=function(t){var e=zo.rows(t);return At.map(e,function(t){var e=t,n=Ar.parent(e),r=n.bind(function(t){var e=Fr.name(t);return"tfoot"===e||"thead"===e||"tbody"===e?e:"tbody"}),o=At.map(zo.cells(t),function(t){var e=Kr.has(t,"rowspan")?parseInt(Kr.get(t,"rowspan"),10):1,n=Kr.has(t,"colspan")?parseInt(Kr.get(t,"colspan"),10):1;return ae.detail(t,e,n)});return ae.rowdata(e,o,r)})},_o=function(t,e){return At.map(t,function(t){var n=At.map(zo.cells(t),function(t){var e=Kr.has(t,"rowspan")?parseInt(Kr.get(t,"rowspan"),10):1,n=Kr.has(t,"colspan")?parseInt(Kr.get(t,"colspan"),10):1;return ae.detail(t,e,n)});return ae.rowdata(t,n,e.section())})},jo={fromTable:Ho,fromPastedRows:_o},Uo=function(t,e){return t+","+e},Vo=function(t,e,n){var r=t.access()[Uo(e,n)];return void 0!==r?K.some(r):K.none()},Go=function(t,e,n){var r=Yo(t,function(t){return n(e,t.element())});return r.length>0?K.some(r[0]):K.none()},Yo=function(t,e){var n=At.bind(t.all(),function(t){return t.cells()});return At.filter(n,e)},Xo=function(t){var e={},n=[],r=t.length,o=0;At.each(t,function(t,r){var i=[];At.each(t.cells(),function(t,n){for(var u=0;void 0!==e[Uo(r,u)];)u++;for(var a=ae.extended(t.element(),t.rowspan(),t.colspan(),r,u),c=0;c<t.colspan();c++)for(var l=0;l<t.rowspan();l++){var s=r+l,f=u+c,d=Uo(s,f);e[d]=a,o=Math.max(o,f+1)}i.push(a)}),n.push(ae.rowdata(t.element(),i,t.section()))});var i=ae.grid(r,o);return{grid:_.constant(i),access:_.constant(e),all:_.constant(n)}},Ko=function(t){var e=At.map(t.all(),function(t){return t.cells()});return At.flatten(e)},$o={generate:Xo,getAt:Vo,findItem:Go,filterItems:Yo,justCells:Ko},Jo=function(t){return void 0!==t.style},Qo={isSupported:Jo},Zo=function(t,e,n){if(!qt.isString(n))throw console.error("Invalid call to CSS.set. Property ",e,":: Value ",n,":: Element ",t),new Error("CSS value must be a string: "+n);Qo.isSupported(t)&&t.style.setProperty(e,n)},ti=function(t,e){Qo.isSupported(t)&&t.style.removeProperty(e)},ei=function(t,e,n){var r=t.dom();Zo(r,e,n)},ni=function(t,e){var n=t.dom();Mt.each(e,function(t,e){Zo(n,e,t)})},ri=function(t,e){var n=t.dom();Mt.each(e,function(t,e){t.fold(function(){ti(n,e)},function(t){Zo(n,e,t)})})},oi=function(t,e){var n=t.dom(),r=window.getComputedStyle(n),o=r.getPropertyValue(e),i=""!==o||Zr.inBody(t)?o:ii(n,e);return null===i?void 0:i},ii=function(t,e){return Qo.isSupported(t)?t.style.getPropertyValue(e):""},ui=function(t,e){var n=t.dom(),r=ii(n,e);return K.from(r).filter(function(t){return t.length>0})},ai=function(t){var e={},n=t.dom();if(Qo.isSupported(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);e[o]=n.style[o]}return e},ci=function(t,e,n){var r=me.fromTag(t);ei(r,e,n);var o=ui(r,e);return o.isSome()},li=function(t,e){var n=t.dom();ti(n,e),Kr.has(t,"style")&&""===_n.trim(Kr.get(t,"style"))&&Kr.remove(t,"style")},si=function(t,e){var n=Kr.get(t,"style"),r=e(t),o=void 0===n?Kr.remove:Kr.set;return o(t,"style",n),r},fi=function(t,e){var n=t.dom(),r=e.dom();Qo.isSupported(n)&&Qo.isSupported(r)&&(r.style.cssText=n.style.cssText)},di=function(t){return t.dom().offsetWidth},mi=function(t,e,n){ui(t,n).each(function(t){ui(e,n).isNone()&&ei(e,n,t)})},gi=function(t,e,n){Fr.isElement(t)&&Fr.isElement(e)&&At.each(n,function(n){mi(t,e,n)})},pi={copy:fi,set:ei,preserve:si,setAll:ni,setOptions:ri,remove:li,get:oi,getRaw:ui,getAllRaw:ai,isValidValue:ci,reflow:di,transfer:gi},hi=function(t,e){var n=Ar.parent(t);n.each(function(n){n.dom().insertBefore(e.dom(),t.dom())})},vi=function(t,e){var n=Ar.nextSibling(t);n.fold(function(){var n=Ar.parent(t);n.each(function(t){wi(t,e)})},function(t){hi(t,e)})},bi=function(t,e){var n=Ar.firstChild(t);n.fold(function(){wi(t,e)},function(n){t.dom().insertBefore(e.dom(),n.dom())})},wi=function(t,e){t.dom().appendChild(e.dom())},yi=function(t,e,n){Ar.child(t,n).fold(function(){wi(t,e)},function(t){hi(t,e)})},xi=function(t,e){hi(t,e),wi(e,t)},Ci={before:hi,after:vi,prepend:bi,append:wi,appendAt:yi,wrap:xi},Si=function(t,e){At.each(e,function(e){Ci.before(t,e)})},Ri=function(t,e){At.each(e,function(n,r){var o=0===r?t:e[r-1];Ci.after(o,n)})},Ti=function(t,e){At.each(e.slice().reverse(),function(e){Ci.prepend(t,e)})},Ai=function(t,e){At.each(e,function(e){Ci.append(t,e)})},Di={before:Si,after:Ri,prepend:Ti,append:Ai},Ei=function(t){t.dom().textContent="",At.each(Ar.children(t),function(t){ki(t)})},ki=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},Oi=function(t){var e=Ar.children(t);e.length>0&&Di.before(t,e),ki(t)},Ni={empty:Ei,remove:ki,unwrap:Oi},Bi=Yt.immutable("minRow","minCol","maxRow","maxCol"),Pi=function(t,e){var n=t.grid().columns(),r=t.grid().rows(),o=r,i=n,u=0,a=0;return Mt.each(t.access(),function(t){if(e(t)){var n=t.row(),r=n+t.rowspan()-1,c=t.column(),l=c+t.colspan()-1;n<o?o=n:r>u&&(u=r),c<i?i=c:l>a&&(a=l)}}),Bi(o,i,u,a)},Ii=function(t,e,n){var r=t[n].element(),o=me.fromTag("td");Ci.append(o,me.fromTag("br"));var i=e?Ci.append:Ci.prepend;i(r,o)},Wi=function(t,e,n,r){for(var o=e.grid().columns(),i=e.grid().rows(),u=0;u<i;u++)for(var a=!1,c=0;c<o;c++)if(!(u<n.minRow()||u>n.maxRow()||c<n.minCol()||c>n.maxCol())){var l=$o.getAt(e,u,c).filter(r).isNone();l?Ii(t,a,u):a=!0}},Mi=function(t,e){var n=At.filter(kr.firstLayer(t,"tr"),function(t){return 0===t.dom().childElementCount});At.each(n,Ni.remove),e.minCol()!==e.maxCol()&&e.minRow()!==e.maxRow()||At.each(kr.firstLayer(t,"th,td"),function(t){Kr.remove(t,"rowspan"),Kr.remove(t,"colspan")}),Kr.remove(t,"width"),Kr.remove(t,"height"),pi.remove(t,"width"),pi.remove(t,"height")},Li=function(t,e){var n=function(t){return xe.is(t.element(),e)},r=jo.fromTable(t),o=$o.generate(r),i=Pi(o,n),u="th:not("+e+"),td:not("+e+")",a=kr.filterFirstLayer(t,"th,td",function(t){return xe.is(t,u)});return At.each(a,Ni.remove),Wi(r,o,i,n),Mi(t,i),t},Fi={extract:Li},qi=function(t,e){return me.fromDom(t.dom().cloneNode(e))},zi=function(t){return qi(t,!1)},Hi=function(t){return qi(t,!0)},_i=function(t,e){var n=me.fromTag(e),r=Kr.clone(t);return Kr.setAll(n,r),n},ji=function(t,e){var n=_i(t,e),r=Ar.children(Hi(t));return Di.append(n,r),n},Ui=function(t,e){var n=_i(t,e);Ci.before(t,n);var r=Ar.children(t);return Di.append(n,r),Ni.remove(t),n},Vi={shallow:zi,shallowAs:_i,deep:Hi,copy:ji,mutate:Ui},Gi=o(Fr.isText,"text"),Yi=function(t){return Gi.get(t)},Xi=function(t){return Gi.getOption(t)},Ki=function(t,e){Gi.set(t,e)},$i={get:Yi,getOption:Xi,set:Ki},Ji=function(t){return"img"===Fr.name(t)?1:$i.getOption(t).fold(function(){return Ar.children(t).length},function(t){return t.length})},Qi=function(t,e){return Ji(t)===e},Zi=function(t,e){return 0===e},tu="",eu=function(t){return $i.getOption(t).filter(function(t){return 0!==t.trim().length||t.indexOf(tu)>-1}).isSome()},nu=["img","br"],ru=function(t){var e=eu(t);return e||At.contains(nu,Fr.name(t))},ou={getEnd:Ji,isEnd:Qi,isStart:Zi,isCursorPosition:ru},iu=function(t){return wo.descendant(t,ou.isCursorPosition)},uu=function(t){return au(t,ou.isCursorPosition)},au=function(t,e){var n=function(t){for(var r=Ar.children(t),o=r.length-1;o>=0;o--){var i=r[o];if(e(i))return K.some(i);var u=n(i);if(u.isSome())return u}return K.none()};return n(t)},cu={first:iu,last:uu},lu=function(){var t=me.fromTag("td");return Ci.append(t,me.fromTag("br")),t},su=function(t,e,n){var r=Vi.copy(t,e);return Mt.each(n,function(t,e){null===t?Kr.remove(r,e):Kr.set(r,e,t)}),r},fu=function(t){return t},du=function(t){return function(){return me.fromTag("tr",t.dom())}},mu=function(t,e,n){var r=cu.first(t);return r.map(function(r){var o=n.join(","),i=fo.ancestors(r,o,function(e){return ir.eq(e,t)});return At.foldr(i,function(t,e){var n=Vi.shallow(e);return Ci.append(t,n),n},e)}).getOr(e)},gu=function(t,e,n){var r=function(e){var r=Ar.owner(e.element()),o=me.fromTag(Fr.name(e.element()),r.dom()),i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),u=i.length>0?mu(e.element(),o,i):o;return Ci.append(u,me.fromTag("br")),pi.copy(e.element(),o),pi.remove(o,"height"),1!==e.colspan()&&pi.remove(e.element(),"width"),t(e.element(),o),o};return{row:du(e),cell:r,replace:su,gap:lu}},pu=function(t){return{row:du(t),cell:lu,replace:fu,gap:lu}},hu={cellOperations:gu,paste:pu},vu=function(t,e){var n=e||document,r=n.createElement("div");return r.innerHTML=t,Ar.children(me.fromDom(r))},bu=function(t,e){return At.map(t,function(t){return me.fromTag(t,e)})},wu=function(t,e){return At.map(t,function(t){return me.fromText(t,e)})},yu=function(t){return At.map(t,me.fromDom)},xu={fromHtml:vu,fromTags:bu,fromText:wu,fromDom:yu},Cu=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Su=Yt.immutable("left","right"),Ru=function(t,e,n){var r=t.property().children(e),o=At.findIndex(r,_.curry(t.eq,n));return o.map(function(t){return{before:_.constant(r.slice(0,t)),after:_.constant(r.slice(t+1))}})},Tu=function(t,e,n){return Ru(t,e,n).map(function(n){var r=t.create().clone(e);return t.insert().appendAll(r,n.after()),t.insert().after(e,r),Su(e,r)})},Au=function(t,e,n){return Ru(t,e,n).map(function(r){var o=t.create().clone(e);return t.insert().appendAll(o,r.before().concat([n])),t.insert().appendAll(e,r.after()),t.insert().before(e,o),Su(o,e)})},Du=function(t,e,n,r){var o=Yt.immutable("first","second","splits"),i=function(e,u,a){var c=o(e,K.none(),a);return n(e)?o(e,u,a):t.property().parent(e).bind(function(o){return r(t,o,e).map(function(t){var e=[{first:t.left,second:t.right}],r=n(o)?o:t.left();return i(r,K.some(t.right()),a.concat(e))}).getOr(c)})};return i(e,K.none(),[])},Eu={breakToLeft:Au,breakToRight:Tu,breakPath:Du},ku=function(t,e,n,r){var o=n[0],i=n.slice(1);return r(t,e,o,i)},Ou=function(t,e,n){return n.length>0?ku(t,e,n,Nu):K.none()},Nu=function(t,e,n,r){var o=e(t,n);return At.foldr(r,function(n,r){var o=e(t,r);return Bu(t,n,o)},o)},Bu=function(t,e,n){return e.bind(function(e){return n.filter(_.curry(t.eq,e))})},Pu={oneAll:Ou},Iu=function(t,e){return _.curry(t.eq,e)},Wu=function(t,e,n,r){var o=t.property().children(e);if(t.eq(e,n[0]))return K.some([n[0]]);if(t.eq(e,r[0]))return K.some([r[0]]);var i=function(n){var r=At.reverse(n),i=At.findIndex(r,Iu(t,e)).getOr(-1),u=i<r.length-1?r[i+1]:r[i];return At.findIndex(o,Iu(t,u))},u=i(n),a=i(r);return u.bind(function(t){return a.map(function(e){var n=Math.min(t,e),r=Math.max(t,e);return o.slice(n,r+1)})})},Mu=function(t,e,n,r){var o=void 0!==r?r:_.constant(!1),i=[e].concat(t.up().all(e)),u=[n].concat(t.up().all(n)),a=function(t){var e=At.findIndex(t,o);return e.fold(function(){return t},function(e){return t.slice(0,e+1)})},c=a(i),l=a(u),s=At.find(c,function(e){return At.exists(l,Iu(t,e))});return{firstpath:_.constant(c),secondpath:_.constant(l),shared:_.constant(s)}},Lu=function(t,e,n){var r=Mu(t,e,n);return r.shared().bind(function(e){return Wu(t,e,r.firstpath(),r.secondpath())})},Fu={subset:Lu,ancestors:Mu},qu=function(t,e,n){return Pu.oneAll(t,e,n)},zu=function(t,e,n){return Fu.subset(t,e,n)},Hu=function(t,e,n,r){return Fu.ancestors(t,e,n,r)},_u=function(t,e,n){return Eu.breakToLeft(t,e,n)},ju=function(t,e,n){return Eu.breakToRight(t,e,n)},Uu=function(t,e,n,r){return Eu.breakPath(t,e,n,r)},Vu={sharedOne:qu,subset:zu,ancestors:Hu,breakToLeft:_u,breakToRight:ju,breakPath:Uu},Gu=i(),Yu=function(t,e){return Vu.sharedOne(Gu,function(e,n){return t(n)},e)},Xu=function(t,e){return Vu.subset(Gu,t,e)},Ku=function(t,e,n){return Vu.ancestors(Gu,t,e,n)},$u=function(t,e){return Vu.breakToLeft(Gu,t,e)},Ju=function(t,e){return Vu.breakToRight(Gu,t,e)},Qu=function(t,e,n){return Vu.breakPath(Gu,t,e,function(t,e,r){return n(e,r)})},Zu={sharedOne:Yu,subset:Xu,ancestors:Ku,breakToLeft:$u,breakToRight:Ju,breakPath:Qu},ta=function(t,e){var n=e.column(),r=e.column()+e.colspan()-1,o=e.row(),i=e.row()+e.rowspan()-1;return n<=t.finishCol()&&r>=t.startCol()&&o<=t.finishRow()&&i>=t.startRow()},ea=function(t,e){return e.column()>=t.startCol()&&e.column()+e.colspan()-1<=t.finishCol()&&e.row()>=t.startRow()&&e.row()+e.rowspan()-1<=t.finishRow()},na=function(t,e){for(var n=!0,r=_.curry(ea,e),o=e.startRow();o<=e.finishRow();o++)for(var i=e.startCol();i<=e.finishCol();i++)n=n&&$o.getAt(t,o,i).exists(r);return n?K.some(e):K.none()},ra={inSelection:ta,isWithin:ea,isRectangular:na},oa=function(t,e){return ae.bounds(Math.min(t.row(),e.row()),Math.min(t.column(),e.column()),Math.max(t.row()+t.rowspan()-1,e.row()+e.rowspan()-1),Math.max(t.column()+t.colspan()-1,e.column()+e.colspan()-1))},ia=function(t,e,n){var r=$o.findItem(t,e,ir.eq),o=$o.findItem(t,n,ir.eq);return r.bind(function(t){return o.map(function(e){return oa(t,e)})})},ua=function(t,e,n){return ia(t,e,n).bind(function(e){return ra.isRectangular(t,e)})},aa={getAnyBox:ia,getBox:ua},ca=function(t,e,n,r){return $o.findItem(t,e,ir.eq).bind(function(e){var o=n>0?e.row()+e.rowspan()-1:e.row(),i=r>0?e.column()+e.colspan()-1:e.column(),u=$o.getAt(t,o+n,i+r);return u.map(function(t){return t.element()})})},la=function(t,e,n){return aa.getAnyBox(t,e,n).map(function(e){var n=$o.filterItems(t,_.curry(ra.inSelection,e));return At.map(n,function(t){return t.element()})})},sa=function(t,e){var n=function(t,e){return ir.contains(e,t)};return $o.findItem(t,e,n).bind(function(t){return t.element()})},fa={moveBy:ca,intercepts:la,parentCell:sa},da=function(t,e,n){return zo.table(t).bind(function(r){var o=ha(r);return fa.moveBy(o,t,e,n)})},ma=function(t,e,n){var r=ha(t);return fa.intercepts(r,e,n)},ga=function(t,e,n,r,o){var i=ha(t),u=ir.eq(t,n)?e:fa.parentCell(i,e),a=ir.eq(t,o)?r:fa.parentCell(i,r);return fa.intercepts(i,u,a)},pa=function(t,e,n){var r=ha(t);return aa.getBox(r,e,n)},ha=function(t){var e=jo.fromTable(t);return $o.generate(e)},va={moveBy:da,intercepts:ma,nestedIntercepts:ga,getBox:pa},ba=function(t,e){return Ao.ancestor(t,"table")},wa=Yt.immutableBag(["boxes","start","finish"],[]),ya=function(t,e,n){var r=function(t){return function(e){return n(e)||ir.eq(e,t)}};return ir.eq(t,e)?K.some(wa({boxes:K.some([t]),start:t,finish:e})):ba(t,n).bind(function(o){return ba(e,n).bind(function(i){if(ir.eq(o,i))return K.some(wa({boxes:va.intercepts(o,t,e),start:t,finish:e}));if(ir.contains(o,i)){var u=fo.ancestors(e,"td,th",r(o)),a=u.length>0?u[u.length-1]:e;return K.some(wa({boxes:va.nestedIntercepts(o,t,o,e,i),start:t,finish:a}))}if(ir.contains(i,o)){var u=fo.ancestors(t,"td,th",r(i)),c=u.length>0?u[u.length-1]:t;return K.some(wa({boxes:va.nestedIntercepts(i,t,o,e,i),start:t,finish:c}))}return Zu.ancestors(t,e).shared().bind(function(u){return Ao.closest(u,"table",n).bind(function(n){var u=fo.ancestors(e,"td,th",r(n)),a=u.length>0?u[u.length-1]:e,c=fo.ancestors(t,"td,th",r(n)),l=c.length>0?c[c.length-1]:t;return K.some(wa({boxes:va.nestedIntercepts(n,t,o,e,i),start:l,finish:a}))})})})})},xa=function(t,e){var n=fo.descendants(t,e);return n.length>0?K.some(n):K.none()},Ca=function(t,e){return At.find(t,function(t){return xe.is(t,e)})},Sa=function(t,e,n){return Ao.descendant(t,e).bind(function(e){return Ao.descendant(t,n).bind(function(t){return Zu.sharedOne(ba,[e,t]).map(function(n){return{first:_.constant(e),last:_.constant(t),table:_.constant(n)}})})})},Ra=function(t,e){return Ao.ancestor(t,"table").bind(function(n){return Ao.descendant(n,e).bind(function(e){return ya(e,t).bind(function(t){return t.boxes().map(function(e){return{boxes:_.constant(e),start:_.constant(t.start()),finish:_.constant(t.finish())}})})})})},Ta=function(t,e,n,r,o){return Ca(t,o).bind(function(t){return va.moveBy(t,e,n).bind(function(t){return Ra(t,r)})})},Aa={identify:ya,retrieve:xa,shiftSelection:Ta,getEdges:Sa},Da=function(t,e){return Aa.retrieve(t,e)},Ea=function(t,e,n){return Aa.getEdges(t,e,n).bind(function(e){var n=function(e){return ir.eq(t,e)},r=Ao.ancestor(e.first(),"thead,tfoot,tbody,table",n),o=Ao.ancestor(e.last(),"thead,tfoot,tbody,table",n);return r.bind(function(t){return o.bind(function(n){return ir.eq(t,n)?va.getBox(e.table(),e.first(),e.last()):K.none()})})})},ka={retrieve:Da,retrieveBox:Ea},Oa="data-mce-selected",Na="td["+Oa+"],th["+Oa+"]",Ba="["+Oa+"]",Pa="data-mce-first-selected",Ia="td["+Pa+"],th["+Pa+"]",Wa="data-mce-last-selected",Ma="td["+Wa+"],th["+Wa+"]",La={selected:_.constant(Oa),selectedSelector:_.constant(Na),attributeSelector:_.constant(Ba),firstSelected:_.constant(Pa),firstSelectedSelector:_.constant(Ia),lastSelected:_.constant(Wa),lastSelectedSelector:_.constant(Ma)},Fa=function(t){if(!qt.isArray(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var e=[],n={};return At.each(t,function(r,o){var i=Mt.keys(r);if(1!==i.length)throw new Error("one and only one name per case");var u=i[0],a=r[u];if(void 0!==n[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!qt.isArray(a))throw new Error("case arguments must be an array");e.push(u),n[u]=function(){var n=arguments.length;if(n!==a.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+a.length+" ("+a+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];var c=function(t){var n=Mt.keys(t);if(e.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+e.join(",")+"\nActual: "+n.join(","));var o=At.forall(e,function(t){return At.contains(n,t)});if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+e.join(", "));return t[u].apply(null,r)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[o];return e.apply(null,r)},match:c,log:function(t){console.log(t,{constructors:e,constructor:u,params:r})}}}}),n},qa={generate:Fa},za=qa.generate([{none:[]},{multiple:["elements"]},{single:["selection"]}]),Ha=function(t,e,n,r){return t.fold(e,n,r)},_a={cata:Ha,none:za.none,multiple:za.multiple,single:za.single},ja=function(t,e){return _a.cata(e.get(),_.constant([]),_.identity,_.constant([t]))},Ua=function(t,e){var n=function(t){return Kr.has(t,"rowspan")&&parseInt(Kr.get(t,"rowspan"),10)>1||Kr.has(t,"colspan")&&parseInt(Kr.get(t,"colspan"),10)>1},r=ja(t,e);return r.length>0&&At.forall(r,n)?K.some(r):K.none()},Va=function(t,e){return _a.cata(e.get(),K.none,function(e,n){return 0===e.length?K.none():ka.retrieveBox(t,La.firstSelectedSelector(),La.lastSelectedSelector()).bind(function(t){return e.length>1?K.some({bounds:_.constant(t),cells:_.constant(e)}):K.none()})},K.none)},Ga={mergable:Va,unmergable:Ua,selection:ja},Ya=function(t){return{element:_.constant(t),mergable:K.none,unmergable:K.none,selection:_.constant([t])}},Xa=function(t,e,n){return{element:_.constant(n),mergable:_.constant(Ga.mergable(e,t)),unmergable:_.constant(Ga.unmergable(n,t)),selection:_.constant(Ga.selection(n,t))}},Ka=function(t){return Ya(t)},$a=Yt.immutable("element","clipboard","generators"),Ja=function(t,e,n,r,o){return{element:_.constant(n),mergable:K.none,unmergable:K.none,selection:_.constant(Ga.selection(n,t)),clipboard:_.constant(r),generators:_.constant(o)}},Qa={noMenu:Ya,forMenu:Xa,notCell:Ka,paste:$a,pasteRows:Ja},Za=function(t){return zo.table(t[0]).map(Vi.deep).map(function(t){return[Fi.extract(t,La.attributeSelector())]})},tc=function(t,e){return t.selection.serializer.serialize(e.dom(),{})},ec=function(t,e,n,r){t.on("BeforeGetContent",function(n){var r=function(e){n.preventDefault(),Za(e).each(function(e){n.content=At.map(e,function(e){return tc(t,e)}).join("")})};n.selection===!0&&_a.cata(e.get(),_.noop,r,_.noop)}),t.on("BeforeSetContent",function(e){if(e.selection===!0&&e.paste===!0){var o=K.from(t.dom.getParent(t.selection.getStart(),"th,td"));o.each(function(o){var i=me.fromDom(o),u=zo.table(i);u.bind(function(o){var u=At.filter(xu.fromHtml(e.content),function(t){return"meta"!==Fr.name(t)});if(1===u.length&&"table"===Fr.name(u[0])){e.preventDefault();var a=me.fromDom(t.getDoc()),c=hu.paste(a),l=Qa.paste(i,u[0],c);n.pasteCells(o,l).each(function(e){t.selection.setRng(e),t.focus(),r.clear(o)})}})})}})},nc={registerEvents:ec},rc=u("height",function(t){return Zr.inBody(t)?t.dom().getBoundingClientRect().height:t.dom().offsetHeight}),oc=function(t,e){rc.set(t,e)},ic=function(t){return rc.get(t)},uc=function(t){return rc.getOuter(t)},ac=function(t,e){var n=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],r=rc.max(t,e,n);pi.set(t,"max-height",r+"px")},cc={set:oc,get:ic,getOuter:uc,setMax:ac},lc=u("width",function(t){return t.dom().offsetWidth}),sc=function(t,e){lc.set(t,e)},fc=function(t){return lc.get(t)},dc=function(t){return lc.getOuter(t)},mc=function(t,e){var n=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],r=lc.max(t,e,n);pi.set(t,"max-width",r+"px")},gc={set:sc,get:fc,getOuter:dc,setMax:mc},pc=Jn.detect(),hc=function(){return pc.browser.isIE()||pc.browser.isEdge()},vc=function(t,e){var n=parseFloat(t);return isNaN(n)?e:n},bc=function(t,e,n){return vc(pi.get(t,e),n)},wc=function(t){var e=bc(t,"padding-top",0),n=bc(t,"padding-bottom",0),r=bc(t,"border-top-width",0),o=bc(t,"border-bottom-width",0),i=t.dom().getBoundingClientRect().height,u=pi.get(t,"box-sizing"),a=r+o;return"border-box"===u?i:i-e-n-a},yc=function(t){return bc(t,"width",gc.get(t))},xc=function(t){return hc()?wc(t):bc(t,"height",cc.get(t))},Cc={getWidth:yc,getHeight:xc},Sc=/(\d+(\.\d+)?)(\w|%)*/,Rc=/(\d+(\.\d+)?)%/,Tc=/(\d+(\.\d+)?)px|em/,Ac=function(t,e){pi.set(t,"width",e+"px")},Dc=function(t,e){pi.set(t,"width",e+"%")},Ec=function(t,e){pi.set(t,"height",e+"px")},kc=function(t){return pi.getRaw(t,"height").getOrThunk(function(){return Cc.getHeight(t)+"px"})},Oc=function(t,e,n,r){var o=zo.table(t).map(function(t){var r=n(t);return Math.floor(e/100*r)}).getOr(e);return r(t,o),o},Nc=function(t,e,n,r){var o=parseInt(t,10);return _n.endsWith(t,"%")&&"table"!==Fr.name(e)?Oc(e,o,n,r):o},Bc=function(t){var e=kc(t);return e?Nc(e,t,cc.get,Ec):cc.get(t)},Pc=function(t,e,n){var r=n(t),o=Ic(t,e);return r/o},Ic=function(t,e){return Kr.has(t,e)?parseInt(Kr.get(t,e),10):1},Wc=function(t){var e=pi.getRaw(t,"width");return e.fold(function(){return K.from(Kr.get(t,"width"))},function(t){return K.some(t)})},Mc=function(t,e){return t/e.pixelWidth()*100},Lc=function(t,e,n){if(Rc.test(e)){var r=Rc.exec(e);return parseFloat(r[1])}var o=gc.get(t),i=parseInt(o,10);return Mc(i,n)},Fc=function(t,e){var n=Wc(t);return n.fold(function(){var n=gc.get(t),r=parseInt(n,10);return Mc(r,e)},function(n){return Lc(t,n,e)})},qc=function(t,e){return t/100*e.pixelWidth()},zc=function(t,e,n){if(Tc.test(e)){var r=Tc.exec(e);return parseInt(r[1],10)}if(Rc.test(e)){var o=Rc.exec(e),i=parseFloat(o[1]);return qc(i,n)}var u=gc.get(t);return parseInt(u,10)},Hc=function(t,e){var n=Wc(t);return n.fold(function(){var e=gc.get(t),n=parseInt(e,10);return n},function(n){return zc(t,n,e)})},_c=function(t){return Pc(t,"rowspan",Bc)},jc=function(t){var e=Wc(t);return e.bind(function(t){if(Sc.test(t)){var e=Sc.exec(t);return K.some({width:_.constant(e[1]),unit:_.constant(e[3])})}return K.none()})},Uc=function(t,e,n){pi.set(t,"width",e+n)},Vc={percentageBasedSizeRegex:_.constant(Rc),pixelBasedSizeRegex:_.constant(Tc),setPixelWidth:Ac,setPercentageWidth:Dc,setHeight:Ec,getPixelWidth:Hc,getPercentageWidth:Fc,getGenericWidth:jc,setGenericWidth:Uc,getHeight:_c,getRawWidth:Wc},Gc=function(t,e){var n=Vc.getGenericWidth(t);n.each(function(n){var r=n.width()/2;Vc.setGenericWidth(t,r,n.unit()),Vc.setGenericWidth(e,r,n.unit())})},Yc={halve:Gc},Xc=function(t,e){var n=e||me.fromDom(document.documentElement);return wo.ancestor(t,_.curry(ir.eq,n)).isSome()},Kc=function(t){var e=t.dom();return e===e.window?t:Fr.isDocument(t)?e.defaultView||e.parentWindow:null},$c={attached:Xc,windowOf:Kc},Jc=function(t,e){var n=function(n,r){return Jc(t+n,e+r)};return{left:_.constant(t),top:_.constant(e),translate:n}},Qc=function(t){var e=t.getBoundingClientRect();return Jc(e.left,e.top)},Zc=function(t,e){return void 0!==t?t:void 0!==e?e:0},tl=function(t){var e=t.dom().ownerDocument,n=e.body,r=$c.windowOf(me.fromDom(e)),o=e.documentElement,i=Zc(r.pageYOffset,o.scrollTop),u=Zc(r.pageXOffset,o.scrollLeft),a=Zc(o.clientTop,n.clientTop),c=Zc(o.clientLeft,n.clientLeft);return nl(t).translate(u-c,i-a)},el=function(t){var e=t.dom();return Jc(e.offsetLeft,e.offsetTop)},nl=function(t){var e=t.dom(),n=e.ownerDocument,r=n.body,o=me.fromDom(n.documentElement);return r===e?Jc(r.offsetLeft,r.offsetTop):$c.attached(t,o)?Qc(e):Jc(0,0)},rl={absolute:tl,relative:el,viewport:nl},ol=Yt.immutable("row","y"),il=Yt.immutable("col","x"),ul=function(t){var e=rl.absolute(t);return e.left()+gc.getOuter(t)},al=function(t){return rl.absolute(t).left()},cl=function(t,e){return il(t,al(e))},ll=function(t,e){return il(t,ul(e))},sl=function(t){return rl.absolute(t).top()},fl=function(t,e){return ol(t,sl(e))},dl=function(t,e){return ol(t,sl(e)+cc.getOuter(e))},ml=function(t,e,n){if(0===n.length)return[];var r=At.map(n.slice(1),function(e,n){return e.map(function(e){return t(n,e)})}),o=n[n.length-1].map(function(t){return e(n.length-1,t)});return r.concat([o])},gl=function(t,e){return-t},pl={delta:_.identity,positions:_.curry(ml,fl,dl),edge:sl},hl={delta:_.identity,edge:al,positions:_.curry(ml,cl,ll)},vl={delta:gl,edge:ul,positions:_.curry(ml,ll,cl)},bl={height:pl,rtl:vl,ltr:hl},wl={
ltr:bl.ltr,rtl:bl.rtl},yl=function(t){var e=jo.fromTable(t),n=$o.generate(e);return n.grid()},xl={getGridSize:yl},Cl=function(t){var e=t,n=function(){return e},r=function(t){e=t},o=function(){return Cl(n())};return{get:n,set:r,clone:o}},Sl=function(t,e){return Rl(t,e,{validate:qt.isFunction,label:"function"})},Rl=function(t,e,n){if(0===e.length)throw new Error("You must specify at least one required field.");return Gt.validateStrArr("required",e),Gt.checkDupes(e),function(r){var o=Mt.keys(r),i=At.forall(e,function(t){return At.contains(o,t)});i||Gt.reqMessage(e,o),t(e,o);var u=At.filter(e,function(t){return!n.validate(r[t],t)});return u.length>0&&Gt.invalidTypeMessage(u,n.label),r}},Tl=function(t,e){var n=At.filter(e,function(e){return!At.contains(t,e)});n.length>0&&Gt.unsuppMessage(n)},Al=_.noop,Dl={exactly:_.curry(Sl,Tl),ensure:_.curry(Sl,Al),ensureWith:_.curry(Rl,Al)},El=function(t){var e=Kr.has(t,"colspan")?parseInt(Kr.get(t,"colspan"),10):1,n=Kr.has(t,"rowspan")?parseInt(Kr.get(t,"rowspan"),10):1;return{element:_.constant(t),colspan:_.constant(e),rowspan:_.constant(n)}},kl=function(t,e){Bl(t);var n=Cl(K.none()),r=void 0!==e?e:El,o=function(e){return t.cell(e)},i=function(t){var e=r(t);return o(e)},u=function(t){var e=i(t);return n.get().isNone()&&n.set(K.some(e)),a=K.some({item:t,replacement:e}),e},a=K.none(),c=function(t,e){return a.fold(function(){return u(t)},function(n){return e(t,n.item)?n.replacement:u(t)})};return{getOrInit:c,cursor:n.get}},Ol=function(t,e){return function(n){var r=Cl(K.none());Bl(n);var o=[],i=function(t,e){return At.find(o,function(n){return e(n.item,t)})},u=function(i){var u=n.replace(i,e,{scope:t});return o.push({item:i,sub:u}),r.get().isNone()&&r.set(K.some(u)),u},a=function(t,e){return i(t,e).fold(function(){return u(t)},function(n){return e(t,n.item)?n.sub:u(t)})};return{replaceOrInit:a,cursor:r.get}}},Nl=function(t){Bl(t);var e=Cl(K.none()),n=function(n){return e.get().isNone()&&e.set(K.some(n)),function(){var e=t.cell({element:_.constant(n),colspan:_.constant(1),rowspan:_.constant(1)});return pi.remove(e,"width"),pi.remove(n,"width"),e}};return{combine:n,cursor:e.get}},Bl=Dl.exactly(["cell","row","replace","gap"]),Pl={modification:kl,transform:Ol,merging:Nl},Il=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Wl=function(t,e){var n=t.property().name(e);return At.contains(["ol","ul"],n)},Ml=function(t,e){var n=t.property().name(e);return At.contains(Il,n)},Ll=function(t,e){var n=t.property().name(e);return At.contains(["address","pre","p","h1","h2","h3","h4","h5","h6"],n)},Fl=function(t,e){var n=t.property().name(e);return At.contains(["h1","h2","h3","h4","h5","h6"],n)},ql=function(t,e){return At.contains(["div","li","td","th","blockquote","body","caption"],t.property().name(e))},zl=function(t,e){return At.contains(["br","img","hr","input"],t.property().name(e))},Hl=function(t,e){return"iframe"===t.property().name(e)},_l=function(t,e){return!(Ml(t,e)||zl(t,e))&&"li"!==t.property().name(e)},jl={isBlock:Ml,isList:Wl,isFormatting:Ll,isHeading:Fl,isContainer:ql,isEmptyTag:zl,isFrame:Hl,isInline:_l},Ul=i(),Vl=function(t){return jl.isBlock(Ul,t)},Gl=function(t){return jl.isList(Ul,t)},Yl=function(t){return jl.isFormatting(Ul,t)},Xl=function(t){return jl.isHeading(Ul,t)},Kl=function(t){return jl.isContainer(Ul,t)},$l=function(t){return jl.isEmptyTag(Ul,t)},Jl=function(t){return jl.isFrame(Ul,t)},Ql=function(t){return jl.isInline(Ul,t)},Zl={isBlock:Vl,isList:Gl,isFormatting:Yl,isHeading:Xl,isContainer:Kl,isEmptyTag:$l,isFrame:Jl,isInline:Ql},ts=function(t){var e=function(t){return"br"===Fr.name(t)},n=function(t){return At.forall(t,function(t){return e(t)||Fr.isText(t)&&0===$i.get(t).trim().length})},r=function(t){return"li"===Fr.name(t)||wo.ancestor(t,Zl.isList).isSome()},o=function(t){return Ar.nextSibling(t).map(function(t){return!!Zl.isBlock(t)||(Zl.isEmptyTag(t)?"img"!==Fr.name(t):void 0)}).getOr(!1)},i=function(t){return cu.last(t).bind(function(n){var i=o(n);return Ar.parent(n).map(function(o){return i===!0||r(o)||e(n)||Zl.isBlock(o)&&!ir.eq(t,o)?[]:[me.fromTag("br")]})}).getOr([])},u=function(){var e=At.bind(t,function(t){var e=Ar.children(t);return n(e)?[]:e.concat(i(t))});return 0===e.length?[me.fromTag("br")]:e},a=u();Ni.empty(t[0]),Di.append(t[0],a)},es={merge:ts},ns=function(t,e){return e},rs=function(t,e){var n=qt.isObject(t)&&qt.isObject(e);return n?is(t,e):e},os=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<e.length;o++){var i=e[o];for(var u in i)i.hasOwnProperty(u)&&(r[u]=t(r[u],i[u]))}return r}},is=os(rs),us=os(ns),as={deepMerge:is,merge:us},cs=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},ls=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return K.none()},ss=function(t,e){for(var n=[],r=0;r<t.length;r++){var o=t[r];if(!o.isSome())return K.none();n.push(o.getOrDie())}return K.some(e.apply(null,n))},fs={cat:cs,findMap:ls,liftN:ss},ds=function(t,e,n){var r=t.cells(),o=r.slice(0,e),i=r.slice(e),u=o.concat([n]).concat(i);return gs(t,u)},ms=function(t,e,n){var r=t.cells();r[e]=n},gs=function(t,e){return ae.rowcells(e,t.section())},ps=function(t,e){var n=t.cells(),r=At.map(n,e);return ae.rowcells(r,t.section())},hs=function(t,e){return t.cells()[e]},vs=function(t,e){return hs(t,e).element()},bs=function(t){return t.cells().length},ws={addCell:ds,setCells:gs,mutateCell:ms,getCell:hs,getCellElement:vs,mapCells:ps,cellLength:bs},ys=function(t,e){return At.map(t,function(t){return ws.getCell(t,e)})},xs=function(t,e){return t[e]},Cs=function(t,e){if(0===t.length)return 0;var n=t[0],r=At.findIndex(t,function(t){return!e(n.element(),t.element())});return r.fold(function(){return t.length},function(t){return t})},Ss=function(t,e,n,r){var o=xs(t,e).cells().slice(n),i=Cs(o,r),u=ys(t,n).slice(e),a=Cs(u,r);return{colspan:_.constant(i),rowspan:_.constant(a)}},Rs={subgrid:Ss},Ts=function(t,e){var n=At.map(t,function(t,e){return At.map(t.cells(),function(t,e){return!1})}),r=function(t,e,r,o){for(var i=t;i<t+r;i++)for(var u=e;u<e+o;u++)n[i][u]=!0};return At.map(t,function(o,i){var u=At.bind(o.cells(),function(o,u){if(n[i][u]===!1){var a=Rs.subgrid(t,i,u,e);return r(i,u,a.rowspan(),a.colspan()),[ae.detailnew(o.element(),a.rowspan(),a.colspan(),o.isNew())]}return[]});return ae.rowdetails(u,o.section())})},As=function(t,e,n){for(var r=[],o=0;o<t.grid().rows();o++){for(var i=[],u=0;u<t.grid().columns();u++){var a=$o.getAt(t,o,u).map(function(t){return ae.elementnew(t.element(),n)}).getOrThunk(function(){return ae.elementnew(e.gap(),!0)});i.push(a)}var c=ae.rowcells(i,t.all()[o].section());r.push(c)}return r},Ds={toDetails:Ts,toGrid:As},Es=function(t,e,n,r){n===r?Kr.remove(t,e):Kr.set(t,e,n)},ks=function(t,e){var n=[],r=[],o=function(e,o){var i=Ao.child(t,o).getOrThunk(function(){var e=me.fromTag(o,Ar.owner(t).dom());return Ci.append(t,e),e});Ni.empty(i);var u=At.map(e,function(t){t.isNew()&&n.push(t.element());var e=t.element();return Ni.empty(e),At.each(t.cells(),function(t){t.isNew()&&r.push(t.element()),Es(t.element(),"colspan",t.colspan(),1),Es(t.element(),"rowspan",t.rowspan(),1),Ci.append(e,t.element())}),e});Di.append(i,u)},i=function(e){Ao.child(t,e).bind(Ni.remove)},u=function(t,e){t.length>0?o(t,e):i(e)},a=[],c=[],l=[];return At.each(e,function(t){switch(t.section()){case"thead":a.push(t);break;case"tbody":c.push(t);break;case"tfoot":l.push(t)}}),u(a,"thead"),u(c,"tbody"),u(l,"tfoot"),{newRows:_.constant(n),newCells:_.constant(r)}},Os=function(t){var e=At.map(t,function(t){var e=Vi.shallow(t.element());return At.each(t.cells(),function(t){var n=Vi.deep(t.element());Es(n,"colspan",t.colspan(),1),Es(n,"rowspan",t.rowspan(),1),Ci.append(e,n)}),e});return e},Ns={render:ks,copy:Os},Bs=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n},Ps=function(t,e){for(var n=[],r=t;r<e;r++)n.push(r);return n},Is=function(t,e){var n=[];return At.each(t,function(r,o){o<t.length-1&&!e(r,t[o+1])?n.push(r):o===t.length-1&&n.push(r)}),n},Ws=function(t,e){if(e<0||e>=t.length-1)return K.none();var n=t[e].fold(function(){var n=At.reverse(t.slice(0,e));return fs.findMap(n,function(t,e){return t.map(function(t){return{value:t,delta:e+1}})})},function(t){return K.some({value:t,delta:0})}),r=t[e+1].fold(function(){var n=t.slice(e+1);return fs.findMap(n,function(t,e){return t.map(function(t){return{value:t,delta:e+1}})})},function(t){return K.some({value:t,delta:1})});return n.bind(function(t){return r.map(function(e){var n=e.delta+t.delta;return Math.abs(e.value-t.value)/n})})},Ms={repeat:Bs,range:Ps,unique:Is,deduce:Ws},Ls=function(t){var e=t.grid(),n=Ms.range(0,e.columns()),r=Ms.range(0,e.rows());return At.map(n,function(e){var n=function(){return At.bind(r,function(n){return $o.getAt(t,n,e).filter(function(t){return t.column()===e}).fold(_.constant([]),function(t){return[t]})})},o=function(t){return 1===t.colspan()},i=function(){return $o.getAt(t,0,e)};return Fs(n,o,i)})},Fs=function(t,e,n){var r=t(),o=At.find(r,e),i=o.orThunk(function(){return K.from(r[0]).orThunk(n)});return i.map(function(t){return t.element()})},qs=function(t){var e=t.grid(),n=Ms.range(0,e.rows()),r=Ms.range(0,e.columns());return At.map(n,function(e){var n=function(){return At.bind(r,function(n){return $o.getAt(t,e,n).filter(function(t){return t.row()===e}).fold(_.constant([]),function(t){return[t]})})},o=function(t){return 1===t.rowspan()},i=function(){return $o.getAt(t,e,0)};return Fs(n,o,i)})},zs={columns:Ls,rows:qs},Hs=function(t,e,n,r,o){var i=me.fromTag("div");return pi.setAll(i,{position:"absolute",left:e-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),Kr.setAll(i,{"data-column":t,role:"presentation"}),i},_s=function(t,e,n,r,o){var i=me.fromTag("div");return pi.setAll(i,{position:"absolute",left:e+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),Kr.setAll(i,{"data-row":t,role:"presentation"}),i},js={col:Hs,row:_s},Us=function(t){var e=t.replace(/\./g,"-"),n=function(t){return e+"-"+t};return{resolve:n}},Vs={css:Us},Gs=Vs.css("ephox-snooker"),Ys={resolve:Gs.resolve},Xs=function(t,e){var n=Kr.get(t,e);return void 0===n||""===n?[]:n.split(" ")},Ks=function(t,e,n){var r=Xs(t,e),o=r.concat([n]);Kr.set(t,e,o.join(" "))},$s=function(t,e,n){var r=At.filter(Xs(t,e),function(t){return t!==n});r.length>0?Kr.set(t,e,r.join(" ")):Kr.remove(t,e)},Js={read:Xs,add:Ks,remove:$s},Qs=function(t){return void 0!==t.dom().classList},Zs=function(t){return Js.read(t,"class")},tf=function(t,e){return Js.add(t,"class",e)},ef=function(t,e){return Js.remove(t,"class",e)},nf=function(t,e){At.contains(Zs(t),e)?ef(t,e):tf(t,e)},rf={get:Zs,add:tf,remove:ef,toggle:nf,supports:Qs},of=function(t,e){rf.supports(t)?t.dom().classList.add(e):rf.add(t,e)},uf=function(t){var e=rf.supports(t)?t.dom().classList:rf.get(t);0===e.length&&Kr.remove(t,"class")},af=function(t,e){if(rf.supports(t)){var n=t.dom().classList;n.remove(e)}else rf.remove(t,e);uf(t)},cf=function(t,e){return rf.supports(t)?t.dom().classList.toggle(e):rf.toggle(t,e)},lf=function(t,e){var n=rf.supports(t),r=t.dom().classList,o=function(){n?r.remove(e):rf.remove(t,e)},i=function(){n?r.add(e):rf.add(t,e)};return c(o,i,sf(t,e))},sf=function(t,e){return rf.supports(t)&&t.dom().classList.contains(e)},ff={add:of,remove:af,toggle:cf,toggler:lf,has:sf},df=Ys.resolve("resizer-bar"),mf=Ys.resolve("resizer-rows"),gf=Ys.resolve("resizer-cols"),pf=7,hf=function(t){var e=fo.descendants(t.parent(),"."+df);At.each(e,Ni.remove)},vf=function(t,e,n){var r=t.origin();At.each(e,function(e,o){e.each(function(e){var o=n(r,e);ff.add(o,df),Ci.append(t.parent(),o)})})},bf=function(t,e,n,r){vf(t,e,function(t,e){var o=js.col(e.col(),e.x()-t.left(),n.top()-t.top(),pf,r);return ff.add(o,gf),o})},wf=function(t,e,n,r){vf(t,e,function(t,e){var o=js.row(e.row(),n.left()-t.left(),e.y()-t.top(),r,pf);return ff.add(o,mf),o})},yf=function(t,e,n,r,o,i){var u=rl.absolute(e),a=n.length>0?o.positions(n,e):[];wf(t,a,u,gc.getOuter(e));var c=r.length>0?i.positions(r,e):[];bf(t,c,u,cc.getOuter(e))},xf=function(t,e,n,r){hf(t);var o=jo.fromTable(e),i=$o.generate(o),u=zs.rows(i),a=zs.columns(i);yf(t,e,u,a,n,r)},Cf=function(t,e){var n=fo.descendants(t.parent(),"."+df);At.each(n,e)},Sf=function(t){Cf(t,function(t){pi.set(t,"display","none")})},Rf=function(t){Cf(t,function(t){pi.set(t,"display","block")})},Tf=function(t){return ff.has(t,mf)},Af=function(t){return ff.has(t,gf)},Df={refresh:xf,hide:Sf,show:Rf,destroy:hf,isRowBar:Tf,isColBar:Af},Ef=function(t,e){return Ds.toGrid(t,e,!1)},kf=function(t,e){var n=function(t){var n=fs.findMap(t,function(t){return Ar.parent(t.element()).map(function(t){var e=Ar.parent(t).isNone();return ae.elementnew(t,e)})});return n.getOrThunk(function(){return ae.elementnew(e.row(),!0)})};return At.map(t,function(t){var e=n(t.details());return ae.rowdatanew(e.element(),t.details(),t.section(),e.isNew())})},Of=function(t,e){var n=Ds.toDetails(t,ir.eq);return kf(n,e)},Nf=function(t,e){var n=At.flatten(At.map(t.all(),function(t){return t.cells()}));return At.find(n,function(t){return ir.eq(e,t.element())})},Bf=function(t,e,n,r,o){return function(i,u,a,c,l){var s=jo.fromTable(u),f=$o.generate(s),d=e(f,a).map(function(e){var n=Ef(f,c),r=t(n,e,ir.eq,o(c)),i=Of(r.grid(),c);return{grid:_.constant(i),cursor:r.cursor}});return d.fold(function(){return K.none()},function(t){var e=Ns.render(u,t.grid());return n(u,t.grid(),l),r(u),Df.refresh(i,u,bl.height,l),K.some({cursor:t.cursor,newRows:e.newRows,newCells:e.newCells})})}},Pf=function(t,e){return zo.cell(e.element()).bind(function(e){return Nf(t,e)})},If=function(t,e){return zo.cell(e.element()).bind(function(n){return Nf(t,n).map(function(t){return as.merge(t,{generators:e.generators,clipboard:e.clipboard})})})},Wf=function(t,e){var n=At.map(e.selection(),function(e){return zo.cell(e).bind(function(e){return Nf(t,e)})}),r=fs.cat(n);return r.length>0?K.some(as.merge({cells:r},{generators:e.generators,clipboard:e.clipboard})):K.none()},Mf=function(t,e){return e.mergable()},Lf=function(t,e){return e.unmergable()},Ff=function(t,e){var n=At.map(e.selection(),function(e){return zo.cell(e).bind(function(e){return Nf(t,e)})}),r=fs.cat(n);return r.length>0?K.some(r):K.none()},qf={run:Bf,toDetailList:Of,onCell:Pf,onCells:Ff,onPaste:If,onPasteRows:Wf,onMergable:Mf,onUnmergable:Lf},zf=function(t){var e=function(e){return t===e},n=function(e){return zf(t)},r=function(e){return zf(t)},o=function(e){return zf(e(t))},i=function(e){e(t)},u=function(e){return e(t)},a=function(e,n){return n(t)},c=function(e){return e(t)},l=function(e){return e(t)},s=function(){return K.some(t)};return{is:e,isValue:_.always,isError:_.never,getOr:_.constant(t),getOrThunk:_.constant(t),getOrDie:_.constant(t),or:n,orThunk:r,fold:a,map:o,each:i,bind:u,exists:c,forall:l,toOption:s}},Hf=function(t){var e=function(t){return t()},n=function(){return _.die(t)()},r=function(t){return t},o=function(t){return t()},i=function(e){return Hf(t)},u=function(e){return Hf(t)},a=function(e,n){return e(t)};return{is:_.never,isValue:_.never,isError:_.always,getOr:_.identity,getOrThunk:e,getOrDie:n,or:r,orThunk:o,fold:a,map:i,each:_.noop,bind:u,exists:_.never,forall:_.always,toOption:K.none}},_f={value:zf,error:Hf},jf=function(t,e,n){if(t.row()>=e.length||t.column()>ws.cellLength(e[0]))return _f.error("invalid start address out of table bounds, row: "+t.row()+", column: "+t.column());var r=e.slice(t.row()),o=r[0].cells().slice(t.column()),i=ws.cellLength(n[0]),u=n.length;return _f.value({rowDelta:_.constant(r.length-u),colDelta:_.constant(o.length-i)})},Uf=function(t,e){var n=ws.cellLength(t[0]),r=ws.cellLength(e[0]);return{rowDelta:_.constant(0),colDelta:_.constant(n-r)}},Vf=function(t,e){return At.map(t,function(){return ae.elementnew(e.cell(),!0)})},Gf=function(t,e,n){return t.concat(Ms.repeat(e,function(e){return ws.setCells(t[t.length-1],Vf(t[t.length-1].cells(),n))}))},Yf=function(t,e,n){return At.map(t,function(t){return ws.setCells(t,t.cells().concat(Vf(Ms.range(0,e),n)))})},Xf=function(t,e,n){var r=e.colDelta()<0?Yf:_.identity,o=e.rowDelta()<0?Gf:_.identity,i=r(t,Math.abs(e.colDelta()),n),u=o(i,Math.abs(e.rowDelta()),n);return u},Kf={measure:jf,measureWidth:Uf,tailor:Xf},$f=function(t,e,n,r){if(0===t.length)return t;for(var o=e.startRow();o<=e.finishRow();o++)for(var i=e.startCol();i<=e.finishCol();i++)ws.mutateCell(t[o],i,ae.elementnew(r(),!1));return t},Jf=function(t,e,n,r){for(var o=!0,i=0;i<t.length;i++)for(var u=0;u<ws.cellLength(t[0]);u++){var a=ws.getCellElement(t[i],u),c=n(a,e);c===!0&&o===!1?ws.mutateCell(t[i],u,ae.elementnew(r(),!0)):c===!0&&(o=!1)}return t},Qf=function(t,e){return At.foldl(t,function(t,n){return At.exists(t,function(t){return e(t.element(),n.element())})?t:t.concat([n])},[])},Zf=function(t,e,n,r){if(e>0&&e<t.length){var o=t[e-1].cells(),i=Qf(o,n);At.each(i,function(o){for(var i=K.none(),u=e;u<t.length;u++)for(var a=0;a<ws.cellLength(t[0]);a++){var c=t[u].cells()[a],l=n(c.element(),o.element());l&&(i.isNone()&&(i=K.some(r())),i.each(function(e){ws.mutateCell(t[u],a,ae.elementnew(e,!0))}))}})}return t},td={merge:$f,unmerge:Jf,splitRows:Zf},ed=function(t,e,n,r){var o=ws.getCell(t[e],n),i=_.curry(r,o.element()),u=t[e];return t.length>1&&ws.cellLength(u)>1&&(n>0&&i(ws.getCellElement(u,n-1))||n<u.length-1&&i(ws.getCellElement(u,n+1))||e>0&&i(ws.getCellElement(t[e-1],n))||e<t.length-1&&i(ws.getCellElement(t[e+1],n)))},nd=function(t,e,n,r,o){for(var i=t.row(),u=t.column(),a=n.length,c=ws.cellLength(n[0]),l=i+a,s=u+c,f=i;f<l;f++)for(var d=u;d<s;d++){ed(e,f,d,o)&&td.unmerge(e,ws.getCellElement(e[f],d),o,r.cell);var m=ws.getCellElement(n[f-i],d-u),g=r.replace(m);ws.mutateCell(e[f],d,ae.elementnew(g,!0))}return e},rd=function(t,e,n,r,o){var i=Kf.measure(t,e,n);return i.map(function(i){var u=Kf.tailor(e,i,r);return nd(t,u,n,r,o)})},od=function(t,e,n,r,o){td.splitRows(e,t,o,r.cell);var i=Kf.measureWidth(n,e),u=Kf.tailor(n,i,r),a=Kf.measureWidth(e,u),c=Kf.tailor(e,a,r);return c.slice(0,t).concat(u).concat(c.slice(t,c.length))},id={merge:rd,insert:od},ud=function(t,e,n,r,o){var i=t.slice(0,e),u=t.slice(e),a=ws.mapCells(t[n],function(n,i){var u=e>0&&e<t.length&&r(ws.getCellElement(t[e-1],i),ws.getCellElement(t[e],i)),a=u?ws.getCell(t[e],i):ae.elementnew(o(n.element(),r),!0);return a});return i.concat([a]).concat(u)},ad=function(t,e,n,r,o){return At.map(t,function(t){var i=e>0&&e<ws.cellLength(t)&&r(ws.getCellElement(t,e-1),ws.getCellElement(t,e)),u=i?ws.getCell(t,e):ae.elementnew(o(ws.getCellElement(t,n),r),!0);return ws.addCell(t,e,u)})},cd=function(t,e,n,r,o){var i=n+1;return At.map(t,function(t,u){var a=u===e,c=a?ae.elementnew(o(ws.getCellElement(t,n),r),!0):ws.getCell(t,n);return ws.addCell(t,i,c)})},ld=function(t,e,n,r,o){var i=e+1,u=t.slice(0,i),a=t.slice(i),c=ws.mapCells(t[e],function(t,e){var i=e===n;return i?ae.elementnew(o(t.element(),r),!0):t});return u.concat([c]).concat(a)},sd=function(t,e,n){var r=At.map(t,function(t){var r=t.cells().slice(0,e).concat(t.cells().slice(n+1));return ae.rowcells(r,t.section())});return At.filter(r,function(t){return t.cells().length>0})},fd=function(t,e,n){return t.slice(0,e).concat(t.slice(n+1))},dd={insertRowAt:ud,insertColumnAt:ad,splitCellIntoColumns:cd,splitCellIntoRows:ld,deleteRowsAt:fd,deleteColumnsAt:sd},md=function(t,e,n,r){var o=function(t){return At.exists(e,function(e){return n(t.element(),e.element())})};return At.map(t,function(t){return ws.mapCells(t,function(t){return o(t)?ae.elementnew(r(t.element(),n),!0):t})})},gd=function(t,e,n,r){return void 0!==ws.getCellElement(t[e],n)&&e>0&&r(ws.getCellElement(t[e-1],n),ws.getCellElement(t[e],n))},pd=function(t,e,n){return e>0&&n(ws.getCellElement(t,e-1),ws.getCellElement(t,e))},hd=function(t,e,n,r){var o=At.bind(t,function(r,o){var i=gd(t,o,e,n)||pd(r,e,n);return i?[]:[ws.getCell(r,e)]});return md(t,o,n,r)},vd=function(t,e,n,r){var o=t[e],i=At.bind(o.cells(),function(r,i){var u=gd(t,e,i,n)||pd(o,i,n);return u?[]:[r]});return md(t,i,n,r)},bd={replaceColumn:hd,replaceRow:vd},wd=function(){return Rd(function(t,e,n,r,o){return t()})},yd=function(t){return Rd(function(e,n,r,o,i){return n(t)})},xd=function(t,e){return Rd(function(n,r,o,i,u){return o(t,e)})},Cd=function(t,e,n){return Rd(function(r,o,i,u,a){return u(t,e,n)})},Sd=function(t,e){return Rd(function(n,r,o,i,u){return u(t,e)})},Rd=function(t){return{fold:t}},Td={none:wd,only:yd,left:xd,middle:Cd,right:Sd},Ad=function(t,e){return 0===t.length?Td.none():1===t.length?Td.only(0):0===e?Td.left(0,1):e===t.length-1?Td.right(e-1,e):e>0&&e<t.length-1?Td.middle(e-1,e,e+1):Td.none()},Dd=function(t,e,n,r){var o=t.slice(0),i=Ad(t,e),u=function(t){return At.map(t,_.constant(0))},a=_.constant(u(o)),c=function(t){return r.singleColumnWidth(o[t],n)},l=function(t,e){if(n>=0){var i=Math.max(r.minCellWidth(),o[e]-n);return u(o.slice(0,t)).concat([n,i-o[e]]).concat(u(o.slice(e+1)))}var a=Math.max(r.minCellWidth(),o[t]+n),c=o[t]-a;return u(o.slice(0,t)).concat([a-o[t],c]).concat(u(o.slice(e+1)))},s=l,f=function(t,e,n){return l(e,n)},d=function(t,e){if(n>=0)return u(o.slice(0,e)).concat([n]);var i=Math.max(r.minCellWidth(),o[e]+n);return u(o.slice(0,e)).concat([i-o[e]])};return i.fold(a,c,s,f,d)},Ed={determine:Dd},kd=function(t,e){return Kr.has(t,e)&&parseInt(Kr.get(t,e),10)>1},Od=function(t){return kd(t,"colspan")},Nd=function(t){return kd(t,"rowspan")},Bd=function(t,e){return parseInt(pi.get(t,e),10)},Pd={hasColspan:Od,hasRowspan:Nd,minWidth:_.constant(10),minHeight:_.constant(10),getInt:Bd},Id=function(t,e,n){return pi.getRaw(t,e).fold(function(){return n(t)+"px"},function(t){return t})},Wd=function(t){return Id(t,"width",Vc.getPixelWidth)},Md=function(t){return Id(t,"height",Vc.getHeight)},Ld=function(t,e,n,r,o){var i=zs.columns(t),u=At.map(i,function(t){return t.map(e.edge)});return At.map(i,function(t,e){var i=t.filter(_.not(Pd.hasColspan));return i.fold(function(){var t=Ms.deduce(u,e);return r(t)},function(t){return n(t,o)})})},Fd=function(t){return t.map(function(t){return t+"px"}).getOr("")},qd=function(t,e){return Ld(t,e,Wd,Fd)},zd=function(t,e,n){return Ld(t,e,Vc.getPercentageWidth,function(t){return t.fold(function(){return n.minCellWidth()},function(t){return t/n.pixelWidth()*100})},n)},Hd=function(t,e,n){return Ld(t,e,Vc.getPixelWidth,function(t){return t.getOrThunk(n.minCellWidth)},n)},_d=function(t,e,n,r){var o=zs.rows(t),i=At.map(o,function(t){return t.map(e.edge)});return At.map(o,function(t,e){var o=t.filter(_.not(Pd.hasRowspan));return o.fold(function(){var t=Ms.deduce(i,e);return r(t)},function(t){return n(t)})})},jd=function(t,e){return _d(t,e,Vc.getHeight,function(t){return t.getOrThunk(Pd.minHeight)})},Ud=function(t,e){return _d(t,e,Md,Fd)},Vd={getRawWidths:qd,getPixelWidths:Hd,getPercentageWidths:zd,getPixelHeights:jd,getRawHeights:Ud},Gd=function(t,e,n){for(var r=0,o=t;o<e;o++)r+=void 0!==n[o]?n[o]:0;return r},Yd=function(t,e){var n=$o.justCells(t);return At.map(n,function(t){var n=Gd(t.column(),t.column()+t.colspan(),e);return{element:t.element,width:_.constant(n),colspan:t.colspan}})},Xd=function(t,e){var n=$o.justCells(t);return At.map(n,function(t){var n=Gd(t.row(),t.row()+t.rowspan(),e);return{element:t.element,height:_.constant(n),rowspan:t.rowspan}})},Kd=function(t,e){return At.map(t.all(),function(t,n){return{element:t.element,height:_.constant(e[n])}})},$d={recalculateWidth:Yd,recalculateHeight:Xd,matchRowHeight:Kd},Jd=function(t,e){var n=parseFloat(t),r=gc.get(e),o=function(t){return t/r*100},i=function(t,e){return[100-t]},u=function(){return Pd.minWidth()/r*100},a=function(t,e,r){var o=n+r;Vc.setPercentageWidth(t,o)};return{width:_.constant(n),pixelWidth:_.constant(r),getWidths:Vd.getPercentageWidths,getCellDelta:o,singleColumnWidth:i,minCellWidth:u,setElementWidth:Vc.setPercentageWidth,setTableWidth:a}},Qd=function(t){var e=parseInt(t,10),n=_.identity,r=function(t,e){var n=Math.max(Pd.minWidth(),t+e);return[n-t]},o=function(t,e,n){var r=At.foldr(e,function(t,e){return t+e},0);Vc.setPixelWidth(t,r)};return{width:_.constant(e),pixelWidth:_.constant(e),getWidths:Vd.getPixelWidths,getCellDelta:n,singleColumnWidth:r,minCellWidth:Pd.minWidth,setElementWidth:Vc.setPixelWidth,setTableWidth:o}},Zd=function(t,e){if(Vc.percentageBasedSizeRegex().test(e)){var n=Vc.percentageBasedSizeRegex().exec(e);return Jd(n[1],t)}if(Vc.pixelBasedSizeRegex().test(e)){var r=Vc.pixelBasedSizeRegex().exec(e);return Qd(r[1])}var o=gc.get(t);return Qd(o)},tm=function(t){var e=Vc.getRawWidth(t);return e.fold(function(){var e=gc.get(t);return Qd(e)},function(e){return Zd(t,e)})},em={getTableSize:tm},nm=function(t){return $o.generate(t)},rm=function(t){return At.foldr(t,function(t,e){return t+e},0)},om=function(t){var e=jo.fromTable(t);return nm(e)},im=function(t,e,n,r){var o=em.getTableSize(t),i=o.getCellDelta(e),u=om(t),a=o.getWidths(u,r,o),c=Ed.determine(a,n,i,o),l=At.map(c,function(t,e){return t+a[e]}),s=$d.recalculateWidth(u,l);At.each(s,function(t){o.setElementWidth(t.element(),t.width())}),n===u.grid().columns()-1&&o.setTableWidth(t,l,i)},um=function(t,e,n,r){var o=om(t),i=Vd.getPixelHeights(o,r),u=At.map(i,function(t,r){return n===r?Math.max(e+t,Pd.minHeight()):t}),a=$d.recalculateHeight(o,u),c=$d.matchRowHeight(o,u);At.each(c,function(t){Vc.setHeight(t.element(),t.height())}),At.each(a,function(t){Vc.setHeight(t.element(),t.height())});var l=rm(u);Vc.setHeight(t,l)},am=function(t,e,n){var r=em.getTableSize(t),o=nm(e),i=r.getWidths(o,n,r),u=$d.recalculateWidth(o,i);At.each(u,function(t){r.setElementWidth(t.element(),t.width())});var a=At.foldr(i,function(t,e){return e+t},0);u.length>0&&r.setElementWidth(t,a)},cm={adjustWidth:im,adjustHeight:um,adjustWidthTo:am},lm=function(t){var e=zo.cells(t);0===e.length&&Ni.remove(t)},sm=Yt.immutable("grid","cursor"),fm=function(t,e,n){return dm(t,e,n).orThunk(function(){return dm(t,0,0)})},dm=function(t,e,n){return K.from(t[e]).bind(function(t){return K.from(t.cells()[n]).bind(function(t){return K.from(t.element())})})},mm=function(t,e,n){return sm(t,dm(t,e,n))},gm=function(t){return At.foldl(t,function(t,e){return At.exists(t,function(t){return t.row()===e.row()})?t:t.concat([e])},[]).sort(function(t,e){return t.row()-e.row()})},pm=function(t){return At.foldl(t,function(t,e){return At.exists(t,function(t){return t.column()===e.column()})?t:t.concat([e])},[]).sort(function(t,e){return t.column()-e.column()})},hm=function(t,e,n,r){var o=e.row(),i=e.row(),u=dd.insertRowAt(t,i,o,n,r.getOrInit);return mm(u,i,e.column())},vm=function(t,e,n,r){var o=e[0].row(),i=e[0].row(),u=gm(e),a=At.foldl(u,function(t,e){return dd.insertRowAt(t,i,o,n,r.getOrInit)},t);return mm(a,i,e[0].column())},bm=function(t,e,n,r){var o=e.row(),i=e.row()+e.rowspan(),u=dd.insertRowAt(t,i,o,n,r.getOrInit);return mm(u,i,e.column())},wm=function(t,e,n,r){var o=gm(e),i=o[o.length-1].row(),u=o[o.length-1].row()+o[o.length-1].rowspan(),a=At.foldl(o,function(t,e){return dd.insertRowAt(t,u,i,n,r.getOrInit)},t);return mm(a,u,e[0].column())},ym=function(t,e,n,r){var o=e.column(),i=e.column(),u=dd.insertColumnAt(t,i,o,n,r.getOrInit);return mm(u,e.row(),i)},xm=function(t,e,n,r){var o=pm(e),i=o[0].column(),u=o[0].column(),a=At.foldl(o,function(t,e){return dd.insertColumnAt(t,u,i,n,r.getOrInit)},t);return mm(a,e[0].row(),u)},Cm=function(t,e,n,r){var o=e.column(),i=e.column()+e.colspan(),u=dd.insertColumnAt(t,i,o,n,r.getOrInit);return mm(u,e.row(),i)},Sm=function(t,e,n,r){var o=e[e.length-1].column(),i=e[e.length-1].column()+e[e.length-1].colspan(),u=pm(e),a=At.foldl(u,function(t,e){return dd.insertColumnAt(t,i,o,n,r.getOrInit)},t);return mm(a,e[0].row(),i)},Rm=function(t,e,n,r){var o=bd.replaceRow(t,e.row(),n,r.replaceOrInit);return mm(o,e.row(),e.column())},Tm=function(t,e,n,r){var o=bd.replaceColumn(t,e.column(),n,r.replaceOrInit);return mm(o,e.row(),e.column())},Am=function(t,e,n,r){var o=bd.replaceRow(t,e.row(),n,r.replaceOrInit);return mm(o,e.row(),e.column())},Dm=function(t,e,n,r){var o=bd.replaceColumn(t,e.column(),n,r.replaceOrInit);return mm(o,e.row(),e.column())},Em=function(t,e,n,r){var o=dd.splitCellIntoColumns(t,e.row(),e.column(),n,r.getOrInit);return mm(o,e.row(),e.column())},km=function(t,e,n,r){var o=dd.splitCellIntoRows(t,e.row(),e.column(),n,r.getOrInit);return mm(o,e.row(),e.column())},Om=function(t,e,n,r){var o=pm(e),i=dd.deleteColumnsAt(t,o[0].column(),o[o.length-1].column()),u=fm(i,e[0].row(),e[0].column());return sm(i,u)},Nm=function(t,e,n,r){var o=gm(e),i=dd.deleteRowsAt(t,o[0].row(),o[o.length-1].row()),u=fm(i,e[0].row(),e[0].column());return sm(i,u)},Bm=function(t,e,n,r){var o=e.cells();es.merge(o);var i=td.merge(t,e.bounds(),n,_.constant(o[0]));return sm(i,K.from(o[0]))},Pm=function(t,e,n,r){var o=At.foldr(e,function(t,e){return td.unmerge(t,e,n,r.combine(e))},t);return sm(o,K.from(e[0]))},Im=function(t,e,n,r){var o=function(t,e){var n=jo.fromTable(t),r=$o.generate(n);return Ds.toGrid(r,e,!0)},i=o(e.clipboard(),e.generators()),u=ae.address(e.row(),e.column()),a=id.merge(u,t,i,e.generators(),n);return a.fold(function(){return sm(t,K.some(e.element()))},function(t){var n=fm(t,e.row(),e.column());return sm(t,n)})},Wm=function(t,e,n){var r=jo.fromPastedRows(t,n),o=$o.generate(r);return Ds.toGrid(o,e,!0)},Mm=function(t,e,n,r){var o=t[e.cells[0].row()],i=e.cells[0].row(),u=Wm(e.clipboard(),e.generators(),o),a=id.insert(i,t,u,e.generators(),n),c=fm(a,e.cells[0].row(),e.cells[0].column());return sm(a,c)},Lm=function(t,e,n,r){var o=t[e.cells[0].row()],i=e.cells[e.cells.length-1].row()+e.cells[e.cells.length-1].rowspan(),u=Wm(e.clipboard(),e.generators(),o),a=id.insert(i,t,u,e.generators(),n),c=fm(a,e.cells[0].row(),e.cells[0].column());return sm(a,c)},Fm=cm.adjustWidthTo,qm={insertRowBefore:qf.run(hm,qf.onCell,_.noop,_.noop,Pl.modification),insertRowsBefore:qf.run(vm,qf.onCells,_.noop,_.noop,Pl.modification),insertRowAfter:qf.run(bm,qf.onCell,_.noop,_.noop,Pl.modification),insertRowsAfter:qf.run(wm,qf.onCells,_.noop,_.noop,Pl.modification),insertColumnBefore:qf.run(ym,qf.onCell,Fm,_.noop,Pl.modification),insertColumnsBefore:qf.run(xm,qf.onCells,Fm,_.noop,Pl.modification),insertColumnAfter:qf.run(Cm,qf.onCell,Fm,_.noop,Pl.modification),insertColumnsAfter:qf.run(Sm,qf.onCells,Fm,_.noop,Pl.modification),splitCellIntoColumns:qf.run(Em,qf.onCell,Fm,_.noop,Pl.modification),splitCellIntoRows:qf.run(km,qf.onCell,_.noop,_.noop,Pl.modification),eraseColumns:qf.run(Om,qf.onCells,Fm,lm,Pl.modification),eraseRows:qf.run(Nm,qf.onCells,_.noop,lm,Pl.modification),makeColumnHeader:qf.run(Tm,qf.onCell,_.noop,_.noop,Pl.transform("row","th")),unmakeColumnHeader:qf.run(Dm,qf.onCell,_.noop,_.noop,Pl.transform(null,"td")),makeRowHeader:qf.run(Rm,qf.onCell,_.noop,_.noop,Pl.transform("col","th")),unmakeRowHeader:qf.run(Am,qf.onCell,_.noop,_.noop,Pl.transform(null,"td")),mergeCells:qf.run(Bm,qf.onMergable,_.noop,_.noop,Pl.merging),unmergeCells:qf.run(Pm,qf.onUnmergable,Fm,_.noop,Pl.merging),pasteCells:qf.run(Im,qf.onPaste,Fm,_.noop,Pl.modification),pasteRowsBefore:qf.run(Mm,qf.onPasteRows,_.noop,_.noop,Pl.modification),pasteRowsAfter:qf.run(Lm,qf.onPasteRows,_.noop,_.noop,Pl.modification)},zm=function(t){return me.fromDom(t.getBody())},Hm=function(t){return function(e){return ir.eq(e,zm(t))}},_m=function(t){return t?t.replace(/px$/,""):""},jm=function(t){return/^[0-9]+$/.test(t)&&(t+="px"),t},Um={getBody:zm,getIsRoot:Hm,addSizeSuffix:jm,removePxSuffix:_m},Vm=function(t,e){return function(n){return"rtl"===Gm(n)?e:t}},Gm=function(t){return"rtl"===pi.get(t,"direction")?"rtl":"ltr"},Ym={onDirection:Vm,getDirection:Gm},Xm={isRtl:_.constant(!1)},Km={isRtl:_.constant(!0)},$m=function(t){var e=Ym.getDirection(t);return"rtl"===e?Km:Xm},Jm={directionAt:$m},Qm=["tableprops","tabledelete","|","tableinsertrowbefore","tableinsertrowafter","tabledeleterow","|","tableinsertcolbefore","tableinsertcolafter","tabledeletecol"],Zm={
"border-collapse":"collapse",width:"100%"},tg={border:"1"},eg=function(t){return t.getParam("table_default_attributes",tg,"object")},ng=function(t){return t.getParam("table_default_styles",Zm,"object")},rg=function(t){return t.getParam("table_resize_bars",!0,"boolean")},og=function(t){return t.getParam("table_tab_navigation",!0,"boolean")},ig=function(t){return t.getParam("forced_root_block","p","string")},ug=function(t){return t.getParam("table_cell_advtab",!0,"boolean")},ag=function(t){return t.getParam("table_row_advtab",!0,"boolean")},cg=function(t){return t.getParam("table_advtab",!0,"boolean")},lg=function(t){return t.getParam("table_appearance_options",!0,"boolean")},sg=function(t){return t.getParam("table_grid",!0,"boolean")},fg=function(t){return t.getParam("table_style_by_css",!1,"boolean")},dg=function(t){return t.getParam("forced_block_attrs",{},"object")},mg=function(t){return t.getParam("table_cell_class_list",[],"array")},gg=function(t){return t.getParam("table_row_class_list",[],"array")},pg=function(t){return t.getParam("table_class_list",[],"array")},hg=function(t){return t.getParam("color_picker_callback")},vg=function(t){return t.getParam("table_responsive_width")===!1},bg=function(t){var e=t.getParam("table_clone_elements");return qt.isString(e)?K.some(e.split(/[ ,]/)):Array.isArray(e)?K.some(e):K.none()},wg=function(t){var e=t.getParam("object_resizing",!0);return"table"===e||e},yg=function(t){var e=t.getParam("table_toolbar",Qm);return""===e||e===!1?[]:qt.isString(e)?e.split(/[ ,]/):qt.isArray(e)?e:[]},xg=function(t,e){return t.fire("newrow",{node:e})},Cg=function(t,e){return t.fire("newcell",{node:e})},Sg=function(t,e,n){var r=jo.fromTable(t),o=$o.generate(r),i=qf.onCells(o,e);return i.map(function(t){var e=Ds.toGrid(o,n,!1),r=e.slice(t[0].row(),t[t.length-1].row()+t[t.length-1].rowspan()),i=qf.toDetailList(r,n);return Ns.copy(i)})},Rg={copyRows:Sg},Tg=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ag=function(t,e,n){var r,o=t.select("td,th",e),i=function(e,r){for(var o=0;o<r.length;o++){var i=t.getStyle(r[o],n);if("undefined"==typeof e&&(e=i),e!==i)return""}return e};return r=i(r,o)},Dg=function(t,e,n){n&&t.formatter.apply("align"+n,{},e)},Eg=function(t,e,n){n&&t.formatter.apply("valign"+n,{},e)},kg=function(t,e){Tg.each("left center right".split(" "),function(n){t.formatter.remove("align"+n,{},e)})},Og=function(t,e){Tg.each("top middle bottom".split(" "),function(n){t.formatter.remove("valign"+n,{},e)})},Ng={applyAlign:Dg,applyVAlign:Eg,unApplyAlign:kg,unApplyVAlign:Og,getTDTHOverallStyle:Ag},Bg=function(t,e,n){var r=function(t,n){return n=n||[],Tg.each(t,function(t){var o={text:t.text||t.title};t.menu?o.menu=r(t.menu):(o.value=t.value,e&&e(o)),n.push(o)}),n};return r(t,n||[])},Pg=function(t,e){var n=t.dom,r=e.control.rootControl,o=r.toJSON(),i=n.parseStyle(o.style);"style"===e.control.name()?(r.find("#borderStyle").value(i["border-style"]||"")[0].fire("select"),r.find("#borderColor").value(i["border-color"]||"")[0].fire("change"),r.find("#backgroundColor").value(i["background-color"]||"")[0].fire("change"),r.find("#width").value(i.width||"").fire("change"),r.find("#height").value(i.height||"").fire("change")):(i["border-style"]=o.borderStyle,i["border-color"]=o.borderColor,i["background-color"]=o.backgroundColor,i.width=o.width?Um.addSizeSuffix(o.width):"",i.height=o.height?Um.addSizeSuffix(o.height):""),r.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(i))))},Ig=function(t,e){var n=t.parseStyle(t.getAttrib(e,"style")),r={};return n["border-style"]&&(r.borderStyle=n["border-style"]),n["border-color"]&&(r.borderColor=n["border-color"]),n["background-color"]&&(r.backgroundColor=n["background-color"]),r.style=t.serializeStyle(n),r},Wg=function(t){var e=function(){var e=hg(t);if(e)return function(n){return e.call(t,function(t){n.control.value(t).fire("change")},n.control.value())}};return{title:"Advanced",type:"form",defaults:{onchange:_.curry(Pg,t)},items:[{label:"Style",name:"style",type:"textbox"},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border style",type:"listbox",name:"borderStyle",width:90,onselect:_.curry(Pg,t),values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{label:"Border color",type:"colorbox",name:"borderColor",onaction:e()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:e()}]}]}},Mg={createStyleForm:Wg,buildListItems:Bg,updateStyleField:Pg,extractAdvancedStyles:Ig},Lg=function(t,e){t.style.cssText+=";"+e},Fg=function(t,e){var n=t.dom,r={width:n.getStyle(e,"width")||n.getAttrib(e,"width"),height:n.getStyle(e,"height")||n.getAttrib(e,"height"),scope:n.getAttrib(e,"scope"),"class":n.getAttrib(e,"class")};return r.type=e.nodeName.toLowerCase(),Tg.each("left center right".split(" "),function(n){t.formatter.matchNode(e,"align"+n)&&(r.align=n)}),Tg.each("top middle bottom".split(" "),function(n){t.formatter.matchNode(e,"valign"+n)&&(r.valign=n)}),ug(t)&&Tg.extend(r,Mg.extractAdvancedStyles(n,e)),r},qg=function(t,e,n){function r(t,e,n){n&&u.setAttrib(t,e,n)}function o(t,e,n){n&&u.setStyle(t,e,n)}var i,u=t.dom;Mg.updateStyleField(t,n),i=n.control.rootControl.toJSON(),t.undoManager.transact(function(){Tg.each(e,function(n){r(n,"scope",i.scope),1===e.length?r(n,"style",i.style):Lg(n,i.style),r(n,"class",i["class"]),o(n,"width",Um.addSizeSuffix(i.width)),o(n,"height",Um.addSizeSuffix(i.height)),i.type&&n.nodeName.toLowerCase()!==i.type&&(n=u.rename(n,i.type)),1===e.length&&(Ng.unApplyAlign(t,n),Ng.unApplyVAlign(t,n)),i.align&&Ng.applyAlign(t,n,i.align),i.valign&&Ng.applyVAlign(t,n,i.valign)}),t.focus()})},zg=function(t){var e,n,r,o=[];if(o=t.dom.select("td[data-mce-selected],th[data-mce-selected]"),e=t.dom.getParent(t.selection.getStart(),"td,th"),!o.length&&e&&o.push(e),e=e||o[0]){n=o.length>1?{width:"",height:"",scope:"","class":"",align:"",style:"",type:e.nodeName.toLowerCase()}:Fg(t,e),mg(t).length>0&&(r={name:"class",type:"listbox",label:"Class",values:Mg.buildListItems(mg(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"td",classes:[e.value]})})})});var i={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width",onchange:_.curry(Mg.updateStyleField,t)},{label:"Height",name:"height",onchange:_.curry(Mg.updateStyleField,t)},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},r]};ug(t)?t.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:n,body:[{title:"General",type:"form",items:i},Mg.createStyleForm(t)],onsubmit:_.curry(qg,t,o)}):t.windowManager.open({title:"Cell properties",data:n,body:i,onsubmit:_.curry(qg,t,o)})}},Hg={open:zg},_g=function(t,e){var n=t.dom,r={height:n.getStyle(e,"height")||n.getAttrib(e,"height"),scope:n.getAttrib(e,"scope"),"class":n.getAttrib(e,"class")};return r.type=e.parentNode.nodeName.toLowerCase(),Tg.each("left center right".split(" "),function(n){t.formatter.matchNode(e,"align"+n)&&(r.align=n)}),ag(t)&&Tg.extend(r,Mg.extractAdvancedStyles(n,e)),r},jg=function(t,e,n){var r=t.getParent(e,"table"),o=e.parentNode,i=t.select(n,r)[0];i||(i=t.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?t.insertAfter(i,r.firstChild):r.insertBefore(i,r.firstChild):r.appendChild(i)),i.appendChild(e),o.hasChildNodes()||t.remove(o)},Ug=function(t){var e,n,r,o,i,u,a=t.dom,c=[];e=a.getParent(t.selection.getStart(),"table"),n=a.getParent(t.selection.getStart(),"td,th"),Tg.each(e.rows,function(t){Tg.each(t.cells,function(e){if(a.getAttrib(e,"data-mce-selected")||e===n)return c.push(t),!1})}),r=c[0],r&&(i=c.length>1?{height:"",scope:"","class":"",align:"",type:r.parentNode.nodeName.toLowerCase()}:_g(t,r),gg(t).length>0&&(o={name:"class",type:"listbox",label:"Class",values:Mg.buildListItems(gg(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"tr",classes:[e.value]})})})}),u={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},o]},ag(t)?t.windowManager.open({title:"Row properties",data:i,bodyType:"tabpanel",body:[{title:"General",type:"form",items:u},Mg.createStyleForm(t)],onsubmit:_.curry(s,t,c)}):t.windowManager.open({title:"Row properties",data:i,body:u,onsubmit:_.curry(s,t,c)}))},Vg={open:Ug},Gg=tinymce.util.Tools.resolve("tinymce.Env"),Yg={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},Xg=function(){return me.fromTag("table")},Kg=function(){return me.fromTag("tbody")},$g=function(){return me.fromTag("tr")},Jg=function(){return me.fromTag("th")},Qg=function(){return me.fromTag("td")},Zg=function(t,e,n,r,o){void 0===o&&(o=Yg);var i=Xg();pi.setAll(i,o.styles),Kr.setAll(i,o.attributes);var u=Kg();Ci.append(i,u);for(var a=[],c=0;c<t;c++){for(var l=$g(),s=0;s<e;s++){var f=c<n||s<r?Jg():Qg();s<r&&Kr.set(f,"scope","row"),c<n&&Kr.set(f,"scope","col"),Ci.append(f,me.fromTag("br")),o.percentages&&pi.set(f,"width",100/e+"%"),Ci.append(l,f)}a.push(l)}return Di.append(u,a),i},tp=function(t){return t.dom().innerHTML},ep=function(t,e){var n=Ar.owner(t),r=n.dom(),o=me.fromDom(r.createDocumentFragment()),i=xu.fromHtml(e,r);Di.append(o,i),Ni.empty(t),Ci.append(t,o)},np=function(t){var e=me.fromTag("div"),n=me.fromDom(t.dom().cloneNode(!0));return Ci.append(e,n),tp(e)},rp={get:tp,set:ep,getOuter:np},op=function(t,e){t.selection.select(e.dom(),!0),t.selection.collapse(!0)},ip=function(t,e){Ao.descendant(e,"td,th").each(_.curry(op,t))},up=function(t,e){At.each(fo.descendants(e,"tr"),function(e){xg(t,e.dom()),At.each(fo.descendants(e,"th,td"),function(e){Cg(t,e.dom())})})},ap=function(t){return qt.isString(t)&&t.indexOf("%")!==-1},cp=function(t,e,n){var r=ng(t),o={styles:r,attributes:eg(t),percentages:ap(r.width)&&!vg(t)},i=Zg(n,e,0,0,o);Kr.set(i,"data-mce-id","__mce");var u=rp.getOuter(i);return t.insertContent(u),Ao.descendant(Um.getBody(t),'table[data-mce-id="__mce"]').map(function(e){return vg(t)&&pi.set(e,"width",pi.get(e,"width")),Kr.remove(e,"data-mce-id"),up(t,e),ip(t,e),e.dom()}).getOr(null)},lp={insert:cp},sp=function(t,e){var n=t.dom,r={width:n.getStyle(e,"width")||n.getAttrib(e,"width"),height:n.getStyle(e,"height")||n.getAttrib(e,"height"),cellspacing:n.getStyle(e,"border-spacing")||n.getAttrib(e,"cellspacing"),cellpadding:n.getAttrib(e,"data-mce-cell-padding")||n.getAttrib(e,"cellpadding")||Ng.getTDTHOverallStyle(t.dom,e,"padding"),border:n.getAttrib(e,"data-mce-border")||n.getAttrib(e,"border")||Ng.getTDTHOverallStyle(t.dom,e,"border"),borderColor:n.getAttrib(e,"data-mce-border-color"),caption:!!n.select("caption",e)[0],"class":n.getAttrib(e,"class")};return Tg.each("left center right".split(" "),function(n){t.formatter.matchNode(e,"align"+n)&&(r.align=n)}),cg(t)&&Tg.extend(r,Mg.extractAdvancedStyles(n,e)),r},fp=function(t,e,n){var r=t.dom,o={},i={};if(o["class"]=n["class"],i.height=Um.addSizeSuffix(n.height),r.getAttrib(e,"width")&&!fg(t)?o.width=Um.removePxSuffix(n.width):i.width=Um.addSizeSuffix(n.width),fg(t)?(i["border-width"]=Um.addSizeSuffix(n.border),i["border-spacing"]=Um.addSizeSuffix(n.cellspacing),Tg.extend(o,{"data-mce-border-color":n.borderColor,"data-mce-cell-padding":n.cellpadding,"data-mce-border":n.border})):Tg.extend(o,{border:n.border,cellpadding:n.cellpadding,cellspacing:n.cellspacing}),fg(t)&&e.children)for(var u=0;u<e.children.length;u++)f(r,e.children[u],{"border-width":Um.addSizeSuffix(n.border),"border-color":n.borderColor,padding:Um.addSizeSuffix(n.cellpadding)});n.style?Tg.extend(i,r.parseStyle(n.style)):i=Tg.extend({},r.parseStyle(r.getAttrib(e,"style")),i),o.style=r.serializeStyle(i),r.setAttribs(e,o)},dp=function(t,e,n){var r,o,i=t.dom;Mg.updateStyleField(t,n),o=n.control.rootControl.toJSON(),o["class"]===!1&&delete o["class"],t.undoManager.transact(function(){e||(e=lp.insert(t,o.cols||1,o.rows||1)),fp(t,e,o),r=i.select("caption",e)[0],r&&!o.caption&&i.remove(r),!r&&o.caption&&(r=i.create("caption"),r.innerHTML=Gg.ie?"":'<br data-mce-bogus="1"/>',e.insertBefore(r,e.firstChild)),Ng.unApplyAlign(t,e),o.align&&Ng.applyAlign(t,e,o.align),t.focus(),t.addVisual()})},mp=function(t,e){var n,r,o,i,u,a=t.dom,c={};e===!0?(n=a.getParent(t.selection.getStart(),"table"),n&&(c=sp(t,n))):(r={label:"Cols",name:"cols"},o={label:"Rows",name:"rows"}),pg(t).length>0&&(c["class"]&&(c["class"]=c["class"].replace(/\s*mce\-item\-table\s*/g,"")),i={name:"class",type:"listbox",label:"Class",values:Mg.buildListItems(pg(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"table",classes:[e.value]})})})}),u={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:lg(t)?[r,o,{label:"Width",name:"width",onchange:_.curry(Mg.updateStyleField,t)},{label:"Height",name:"height",onchange:_.curry(Mg.updateStyleField,t)},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[r,o,{label:"Width",name:"width",onchange:_.curry(Mg.updateStyleField,t)},{label:"Height",name:"height",onchange:_.curry(Mg.updateStyleField,t)}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},i]},cg(t)?t.windowManager.open({title:"Table properties",data:c,bodyType:"tabpanel",body:[{title:"General",type:"form",items:u},Mg.createStyleForm(t)],onsubmit:_.curry(dp,t,n)}):t.windowManager.open({title:"Table properties",data:c,body:u,onsubmit:_.curry(dp,t,n)})},gp={open:mp},pp=Tg.each,hp=function(t,e,n,r,o){var i=Um.getIsRoot(t),u=function(){var e=me.fromDom(t.dom.getParent(t.selection.getStart(),"th,td")),n=zo.table(e,i);n.filter(_.not(i)).each(function(e){var n=me.fromText("");Ci.after(e,n),Ni.remove(e);var r=t.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),t.selection.setRng(r)})},a=function(){return me.fromDom(t.dom.getParent(t.selection.getStart(),"th,td"))},c=function(t){return zo.table(t,i)},l=function(e){var o=a(),i=c(o);i.each(function(i){var u=Qa.forMenu(r,i,o);e(i,u).each(function(e){t.selection.setRng(e),t.focus(),n.clear(i)})})},s=function(e){var n=a(),o=c(n);return o.bind(function(e){var o=me.fromDom(t.getDoc()),i=Qa.forMenu(r,e,n),u=hu.cellOperations(_.noop,o,K.none());return Rg.copyRows(e,i,u)})},f=function(e){o.get().each(function(o){var i=At.map(o,function(t){return Vi.deep(t)}),u=a(),l=c(u);l.bind(function(o){var a=me.fromDom(t.getDoc()),c=hu.paste(a),l=Qa.pasteRows(r,o,u,i,c);e(o,l).each(function(e){t.selection.setRng(e),t.focus(),n.clear(o)})})})};pp({mceTableSplitCells:function(){l(e.unmergeCells)},mceTableMergeCells:function(){l(e.mergeCells)},mceTableInsertRowBefore:function(){l(e.insertRowsBefore)},mceTableInsertRowAfter:function(){l(e.insertRowsAfter)},mceTableInsertColBefore:function(){l(e.insertColumnsBefore)},mceTableInsertColAfter:function(){l(e.insertColumnsAfter)},mceTableDeleteCol:function(){l(e.deleteColumn)},mceTableDeleteRow:function(){l(e.deleteRow)},mceTableCutRow:function(t){o.set(s()),l(e.deleteRow)},mceTableCopyRow:function(t){o.set(s())},mceTablePasteRowBefore:function(t){f(e.pasteRowsBefore)},mceTablePasteRowAfter:function(t){f(e.pasteRowsAfter)},mceTableDelete:u},function(e,n){t.addCommand(n,e)}),pp({mceInsertTable:_.curry(gp.open,t),mceTableProps:_.curry(gp.open,t,!0),mceTableRowProps:_.curry(Vg.open,t),mceTableCellProps:_.curry(Hg.open,t)},function(e,n){t.addCommand(n,function(t,n){e(n)})})},vp={registerCommands:hp},bp=function(t){var e=K.from(t.dom().documentElement).map(me.fromDom).getOr(t);return{parent:_.constant(e),view:_.constant(t),origin:_.constant(Jc(0,0))}},wp=function(t,e){var n=_.curry(rl.absolute,e);return{parent:_.constant(e),view:_.constant(t),origin:n}},yp=function(t,e){return{parent:_.constant(e),view:_.constant(t),origin:_.constant(Jc(0,0))}},xp={only:bp,detached:wp,body:yp},Cp=function(t){var e=Mt.map(t,function(t){return{bind:t.bind,unbind:t.unbind}}),n=Mt.map(t,function(t){return t.trigger});return{registry:e,trigger:n}},Sp={create:Cp},Rp=Dl.exactly(["compare","extract","mutate","sink"]),Tp=Dl.exactly(["element","start","stop","destroy"]),Ap=Dl.exactly(["forceDrop","drop","move","delayDrop"]),Dp={mode:Rp,sink:Tp,api:Ap},Ep=Vs.css("ephox-dragster"),kp={resolve:Ep.resolve},Op=function(t,e,n,r,o,i,u){return{target:_.constant(t),x:_.constant(e),y:_.constant(n),stop:r,prevent:o,kill:i,raw:_.constant(u)}},Np=function(t,e){return function(n){if(t(n)){var r=me.fromDom(n.target),o=function(){n.stopPropagation()},i=function(){n.preventDefault()},u=_.compose(i,o),a=Op(r,n.clientX,n.clientY,o,i,u,n);e(a)}}},Bp=function(t,e,n,r,o){var i=Np(n,r);return t.dom().addEventListener(e,i,o),{unbind:_.curry(Wp,t,e,i,o)}},Pp=function(t,e,n,r){return Bp(t,e,n,r,!1)},Ip=function(t,e,n,r){return Bp(t,e,n,r,!0)},Wp=function(t,e,n,r){t.dom().removeEventListener(e,n,r)},Mp={bind:Pp,capture:Ip},Lp=_.constant(!0),Fp=function(t,e,n){return Mp.bind(t,e,Lp,n)},qp=function(t,e,n){return Mp.capture(t,e,Lp,n)},zp={bind:Fp,capture:qp},Hp=function(t,e){return Jc(e.left()-t.left(),e.top()-t.top())},_p=function(t){return K.some(Jc(t.x(),t.y()))},jp=function(t,e){t.mutate(e.left(),e.top())},Up=function(t,e){var n=m(e),r=zp.bind(n.element(),"mousedown",t.forceDrop),o=zp.bind(n.element(),"mouseup",t.drop),i=zp.bind(n.element(),"mousemove",t.move),u=zp.bind(n.element(),"mouseout",t.delayDrop),a=function(){n.destroy(),o.unbind(),i.unbind(),u.unbind(),r.unbind()},c=function(t){Ci.append(t,n.element())},l=function(){Ni.remove(n.element())};return Dp.sink({element:n.element,start:c,stop:l,destroy:a})},Vp=Dp.mode({compare:Hp,extract:_p,sink:Up,mutate:jp}),Gp=function(t,e){var n=null,r=null,o=function(){null!==n&&(clearTimeout(n),n=null,r=null)},i=function(){r=arguments,null===n&&(n=setTimeout(function(){t.apply(null,r),n=null,r=null},e))};return{cancel:o,throttle:i}},Yp=function(t,e){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){var r=arguments;null===n&&(n=setTimeout(function(){t.apply(null,r),n=null,r=null},e))};return{cancel:r,throttle:o}},Xp=function(t,e){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){var r=arguments;null!==n&&clearTimeout(n),n=setTimeout(function(){t.apply(null,r),n=null,r=null},e)};return{cancel:r,throttle:o}},Kp={adaptable:Gp,first:Yp,last:Xp},$p=function(t,e,n){var r=!1,o=Sp.create({start:d([]),stop:d([])}),i=h(),u=function(){g.stop(),i.isOn()&&(i.off(),o.trigger.stop())},a=Kp.last(u,200),c=function(t){g.start(t),i.on(),o.trigger.start()},l=function(t,n){a.cancel(),i.onEvent(t,e)};i.events.move.bind(function(n){e.mutate(t,n.info())});var s=function(){r=!0},f=function(){r=!1},m=function(t){return function(){var e=Array.prototype.slice.call(arguments,0);if(r)return t.apply(null,e)}},g=e.sink(Dp.api({forceDrop:u,drop:m(u),move:m(l),delayDrop:m(a.throttle)}),n),p=function(){g.destroy()};return{element:g.element,go:c,on:s,off:f,destroy:p,events:o.registry}},Jp={setup:$p},Qp=function(t,e){var n=void 0!==e?e:{},r=void 0!==n.mode?n.mode:Vp;return Jp.setup(t,r,e)},Zp={transform:Qp},th=function(t){return Ao.first(t).isSome()},eh=function(t,e,n){return Ao.ancestor(t,e,n).isSome()},nh=function(t,e){return Ao.sibling(t,e).isSome()},rh=function(t,e){return Ao.child(t,e).isSome()},oh=function(t,e){return Ao.descendant(t,e).isSome()},ih=function(t,e,n){return Ao.closest(t,e,n).isSome()},uh={any:th,ancestor:eh,sibling:nh,child:rh,descendant:oh,closest:ih},ah=Ys.resolve("resizer-bar-dragging"),ch=function(){var t=me.fromTag("div");return pi.setAll(t,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Ci.append(Zr.body(),t),t},lh=function(t,e){return t.inline?xp.body(Um.getBody(t),ch()):xp.only(me.fromDom(t.getDoc()))},sh=function(t,e){t.inline&&Ni.remove(e.parent())},fh={get:lh,remove:sh},dh=function(t){return hh(function(e,n,r,o){return e(t)})},mh=function(t){return hh(function(e,n,r,o){return n(t)})},gh=function(t,e){return hh(function(n,r,o,i){return o(t,e)})},ph=function(t){return hh(function(e,n,r,o){return o(t)})},hh=function(t){return{fold:t}},vh={none:dh,first:mh,middle:gh,last:ph},bh=function(t,e){return zo.table(t,e).bind(function(e){var n=zo.cells(e),r=At.findIndex(n,function(e){return ir.eq(t,e)});return r.map(function(t){return{index:_.constant(t),all:_.constant(n)}})})},wh=function(t,e){var n=bh(t,e);return n.fold(function(){return vh.none(t)},function(e){return e.index()+1<e.all().length?vh.middle(t,e.all()[e.index()+1]):vh.last(t)})},yh=function(t,e){var n=bh(t,e);return n.fold(function(){return vh.none()},function(e){return e.index()-1>=0?vh.middle(t,e.all()[e.index()-1]):vh.first(t)})},xh={next:wh,prev:yh},Ch=qa.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Sh=function(t,e,n,r){return t.fold(e,n,r)},Rh=function(t){return t.fold(_.identity,_.identity,_.identity)},Th={before:Ch.before,on:Ch.on,after:Ch.after,cata:Sh,getStart:Rh},Ah=qa.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Dh=Yt.immutable("start","soffset","finish","foffset"),Eh=function(t){return Ah.exact(t.start(),t.soffset(),t.finish(),t.foffset())},kh=function(t){return t.match({domRange:function(t){return me.fromDom(t.startContainer)},relative:function(t,e){return Th.getStart(t)},exact:function(t,e,n,r){return t}})},Oh=function(t){var e=kh(t);return Ar.defaultView(e)},Nh={domRange:Ah.domRange,relative:Ah.relative,exact:Ah.exact,exactFromRange:Eh,range:Dh,getWin:Oh},Bh=function(t,e,n,r){var o=Ar.owner(t),i=o.dom().createRange();return i.setStart(t.dom(),e),i.setEnd(n.dom(),r),i},Ph=function(t,e,n,r){var o=Bh(t,e,n,r);return me.fromDom(o.commonAncestorContainer)},Ih=function(t,e,n,r){var o=Bh(t,e,n,r),i=ir.eq(t,n)&&e===r;return o.collapsed&&!i},Wh={after:Ih,commonAncestorContainer:Ph},Mh=function(t,e){var n=e||document,r=n.createDocumentFragment();return At.each(t,function(t){r.appendChild(t.dom())}),me.fromDom(r)},Lh={fromElements:Mh},Fh=function(t,e){var n=t.document.createRange();return qh(n,e),n},qh=function(t,e){t.selectNodeContents(e.dom())},zh=function(t,e){return e.compareBoundaryPoints(t.END_TO_START,t)<1&&e.compareBoundaryPoints(t.START_TO_END,t)>-1},Hh=function(t){return t.document.createRange()},_h=function(t,e){e.fold(function(e){t.setStartBefore(e.dom())},function(e,n){t.setStart(e.dom(),n)},function(e){t.setStartAfter(e.dom())})},jh=function(t,e){e.fold(function(e){t.setEndBefore(e.dom())},function(e,n){t.setEnd(e.dom(),n)},function(e){t.setEndAfter(e.dom())})},Uh=function(t,e){Yh(t),t.insertNode(e.dom())},Vh=function(t,e,n){var r=t.document.createRange();return _h(r,e),jh(r,n),r},Gh=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},Yh=function(t){t.deleteContents()},Xh=function(t){var e=t.cloneContents();return me.fromDom(e)},Kh=function(t){return{left:_.constant(t.left),top:_.constant(t.top),right:_.constant(t.right),bottom:_.constant(t.bottom),width:_.constant(t.width),height:_.constant(t.height)}},$h=function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?K.some(n).map(Kh):K.none()},Jh=function(t){var e=t.getBoundingClientRect();return e.width>0||e.height>0?K.some(e).map(Kh):K.none()},Qh=function(t){return t.toString()},Zh={create:Hh,replaceWith:Uh,selectNodeContents:Fh,selectNodeContentsUsing:qh,relativeToNative:Vh,exactToNative:Gh,deleteContents:Yh,cloneFragment:Xh,getFirstRect:$h,getBounds:Jh,isWithin:zh,toString:Qh},tv=qa.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),ev=function(t,e,n){return e(me.fromDom(n.startContainer),n.startOffset,me.fromDom(n.endContainer),n.endOffset)},nv=function(t,e){return e.match({domRange:function(t){return{ltr:_.constant(t),rtl:K.none}},relative:function(e,n){return{ltr:ze.cached(function(){return Zh.relativeToNative(t,e,n)}),rtl:ze.cached(function(){return K.some(Zh.relativeToNative(t,n,e))})}},exact:function(e,n,r,o){return{ltr:ze.cached(function(){return Zh.exactToNative(t,e,n,r,o)}),rtl:ze.cached(function(){return K.some(Zh.exactToNative(t,r,o,e,n))})}}})},rv=function(t,e){var n=e.ltr();if(n.collapsed){var r=e.rtl().filter(function(t){return t.collapsed===!1});return r.map(function(t){return tv.rtl(me.fromDom(t.endContainer),t.endOffset,me.fromDom(t.startContainer),t.startOffset)}).getOrThunk(function(){return ev(t,tv.ltr,n)})}return ev(t,tv.ltr,n)},ov=function(t,e){var n=nv(t,e);return rv(t,n)},iv=function(t,e){var n=ov(t,e);return n.match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom(),o),i.setEnd(e.dom(),n),i}})},uv={ltr:tv.ltr,rtl:tv.rtl,diagnose:ov,asLtrRange:iv},av=function(t,e,n,r,o){if(0===o)return 0;if(e===r)return o-1;for(var i=r,u=1;u<o;u++){var a=t(u),c=Math.abs(e-a.left);if(n>a.bottom);else{if(n<a.top||c>i)return u-1;i=c}}return 0},cv=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},lv={inRect:cv,searchForPoint:av},sv=function(t,e,n,r,o){var i=function(n){var r=t.dom().createRange();return r.setStart(e.dom(),n),r.collapse(!0),r},u=function(t){var e=i(t);return e.getBoundingClientRect()},a=$i.get(e).length,c=lv.searchForPoint(u,n,r,o.right,a);return i(c)},fv=function(t,e,n,r){var o=t.dom().createRange();o.selectNode(e.dom());var i=o.getClientRects(),u=fs.findMap(i,function(t){return lv.inRect(t,n,r)?K.some(t):K.none()});return u.map(function(o){return sv(t,e,n,r,o)})},dv={locate:fv},mv=function(t,e,n,r){var o=t.dom().createRange(),i=Ar.children(e);return fs.findMap(i,function(e){return o.selectNode(e.dom()),lv.inRect(o.getBoundingClientRect(),n,r)?gv(t,e,n,r):K.none()})},gv=function(t,e,n,r){var o=Fr.isText(e)?dv.locate:mv;return o(t,e,n,r)},pv=function(t,e,n,r){var o=t.dom().createRange();o.selectNode(e.dom());var i=o.getBoundingClientRect(),u=Math.max(i.left,Math.min(i.right,n)),a=Math.max(i.top,Math.min(i.bottom,r));return gv(t,e,u,a)},hv={locate:pv},vv=!0,bv=!1,wv=function(t,e){return e-t.left<t.right-e?vv:bv},yv=function(t,e,n){var r=t.dom().createRange();return r.selectNode(e.dom()),r.collapse(n),r},xv=function(t,e,n){var r=t.dom().createRange();r.selectNode(e.dom());var o=r.getBoundingClientRect(),i=wv(o,n),u=i===vv?cu.first:cu.last;return u(e).map(function(e){return yv(t,e,i)})},Cv=function(t,e,n){var r=e.dom().getBoundingClientRect(),o=wv(r,n);return K.some(yv(t,e,o))},Sv=function(t,e,n){var r=0===Ar.children(e).length?Cv:xv;return r(t,e,n)},Rv={search:Sv},Tv=function(t,e,n){return K.from(t.dom().caretPositionFromPoint(e,n)).bind(function(e){if(null===e.offsetNode)return K.none();var n=t.dom().createRange();return n.setStart(e.offsetNode,e.offset),n.collapse(),K.some(n)})},Av=function(t,e,n){return K.from(t.dom().caretRangeFromPoint(e,n))},Dv=function(t,e,n,r){var o=t.dom().createRange();o.selectNode(e.dom());var i=o.getBoundingClientRect(),u=Math.max(i.left,Math.min(i.right,n)),a=Math.max(i.top,Math.min(i.bottom,r));return hv.locate(t,e,u,a)},Ev=function(t,e,n){return me.fromPoint(t,e,n).bind(function(r){var o=function(){return Rv.search(t,r,e)};return 0===Ar.children(r).length?o():Dv(t,r,e,n).orThunk(o)})},kv=document.caretPositionFromPoint?Tv:document.caretRangeFromPoint?Av:Ev,Ov=function(t,e,n){var r=me.fromDom(t.document);return kv(r,e,n).map(function(t){return Nh.range(me.fromDom(t.startContainer),t.startOffset,me.fromDom(t.endContainer),t.endOffset)})},Nv={fromPoint:Ov},Bv=function(t,e,n,r){var o=Zh.create(t),i=xe.is(e,r)?[e]:[],u=i.concat(fo.descendants(e,r));return At.filter(u,function(t){return Zh.selectNodeContentsUsing(o,t),Zh.isWithin(n,o)})},Pv=function(t,e,n){var r=uv.asLtrRange(t,e),o=me.fromDom(r.commonAncestorContainer);return Fr.isElement(o)?Bv(t,o,r,n):[]},Iv={find:Pv},Wv=function(t,e){var n=Fr.name(t);return"input"===n?Th.after(t):At.contains(["br","img"],n)?0===e?Th.before(t):Th.after(t):Th.on(t,e)},Mv=function(t,e){var n=t.fold(Th.before,Wv,Th.after),r=e.fold(Th.before,Wv,Th.after);return Nh.relative(n,r)},Lv=function(t,e,n,r){var o=Wv(t,e),i=Wv(n,r);return Nh.relative(o,i)},Fv=function(t){return t.match({domRange:function(t){var e=me.fromDom(t.startContainer),n=me.fromDom(t.endContainer);return Lv(e,t.startOffset,n,t.endOffset)},relative:Mv,exact:Lv})},qv={beforeSpecial:Wv,preprocess:Fv,preprocessRelative:Mv,preprocessExact:Lv},zv=function(t,e){K.from(t.getSelection()).each(function(t){t.removeAllRanges(),t.addRange(e)})},Hv=function(t,e,n,r,o){var i=Zh.exactToNative(t,e,n,r,o);zv(t,i)},_v=function(t,e,n){return Iv.find(t,e,n)},jv=function(t,e){return uv.diagnose(t,e).match({ltr:function(e,n,r,o){Hv(t,e,n,r,o)},rtl:function(e,n,r,o){var i=t.getSelection();i.extend?(i.collapse(e.dom(),n),i.extend(r.dom(),o)):Hv(t,r,o,e,n)}})},Uv=function(t,e,n,r,o){var i=qv.preprocessExact(e,n,r,o);jv(t,i)},Vv=function(t,e,n){var r=qv.preprocessRelative(e,n);jv(t,r)},Gv=function(t){var e=Nh.getWin(t).dom(),n=function(t,n,r,o){return Zh.exactToNative(e,t,n,r,o)},r=qv.preprocess(t);return uv.diagnose(e,r).match({ltr:n,rtl:n})},Yv=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return K.some(Nh.range(me.fromDom(e.startContainer),e.startOffset,me.fromDom(n.endContainer),n.endOffset))}return K.none()},Xv=function(t){var e=me.fromDom(t.anchorNode),n=me.fromDom(t.focusNode);return Wh.after(e,t.anchorOffset,n,t.focusOffset)?K.some(Nh.range(me.fromDom(t.anchorNode),t.anchorOffset,me.fromDom(t.focusNode),t.focusOffset)):Yv(t)},Kv=function(t,e){var n=Zh.selectNodeContents(t,e);zv(t,n)},$v=function(t,e){var n=Zh.selectNodeContents(t,e);return Nh.range(me.fromDom(n.startContainer),n.startOffset,me.fromDom(n.endContainer),n.endOffset)},Jv=function(t){var e=t.getSelection();return e.rangeCount>0?Xv(e):K.none()},Qv=function(t){return Jv(t).map(function(t){return Nh.exact(t.start(),t.soffset(),t.finish(),t.foffset())})},Zv=function(t,e){var n=uv.asLtrRange(t,e);return Zh.getFirstRect(n)},tb=function(t,e){var n=uv.asLtrRange(t,e);return Zh.getBounds(n)},eb=function(t,e,n){return Nv.fromPoint(t,e,n)},nb=function(t,e){var n=uv.asLtrRange(t,e);return Zh.toString(n)},rb=function(t){var e=t.getSelection();e.removeAllRanges()},ob=function(t,e){var n=uv.asLtrRange(t,e);return Zh.cloneFragment(n)},ib=function(t,e,n){var r=uv.asLtrRange(t,e),o=Lh.fromElements(n,t.document);
Zh.replaceWith(r,o)},ub=function(t,e){var n=uv.asLtrRange(t,e);Zh.deleteContents(n)},ab=function(t,e,n,r){return ir.eq(t,n)&&e===r},cb={setExact:Uv,getExact:Jv,get:Qv,setRelative:Vv,toNative:Gv,setToElement:Kv,clear:rb,clone:ob,replace:ib,deleteAt:ub,forElement:$v,getFirstRect:Zv,getBounds:tb,getAtPoint:eb,findWithin:_v,getAsString:nb,isCollapsed:ab},lb=tinymce.util.Tools.resolve("tinymce.util.VK"),sb=function(t,e,n,r){return gb(t,e,xh.next(n),r)},fb=function(t,e,n,r){return gb(t,e,xh.prev(n),r)},db=function(t,e){var n=Nh.exact(e,0,e,0);return cb.toNative(n)},mb=function(t,e){var n=fo.descendants(e,"tr");return At.last(n).bind(function(e){return Ao.descendant(e,"td,th").map(function(e){return db(t,e)})})},gb=function(t,e,n,r,o){return n.fold(K.none,K.none,function(e,n){return cu.first(n).map(function(e){return db(t,e)})},function(n){return zo.table(n,e).bind(function(e){var o=Qa.noMenu(n);return t.undoManager.transact(function(){r.insertRowsAfter(e,o)}),mb(t,e)})})},pb=["table","li","dl"],hb=function(t,e,n,r){if(t.keyCode===lb.TAB){var o=Um.getBody(e),i=function(t){var e=Fr.name(t);return ir.eq(t,o)||At.contains(pb,e)},u=e.selection.getRng();if(u.collapsed){var a=me.fromDom(u.startContainer);zo.cell(a,i).each(function(o){t.preventDefault();var u=t.shiftKey?fb:sb,a=u(e,i,o,n,r);a.each(function(t){e.selection.setRng(t)})})}}},vb={handle:hb},bb=Yt.immutable("selection","kill"),wb={response:bb},yb=function(t){return function(e){return e===t}},xb=yb(38),Cb=yb(40),Sb=function(t){return t>=37&&t<=40},Rb={ltr:{isBackward:yb(37),isForward:yb(39)},rtl:{isBackward:yb(39),isForward:yb(37)},isUp:xb,isDown:Cb,isNavigation:Sb},Tb=function(t,e){var n=uv.asLtrRange(t,e);return{start:_.constant(me.fromDom(n.startContainer)),soffset:_.constant(n.startOffset),finish:_.constant(me.fromDom(n.endContainer)),foffset:_.constant(n.endOffset)}},Ab=function(t,e,n,r){return{start:_.constant(Th.on(t,e)),finish:_.constant(Th.on(n,r))}},Db={convertToRange:Tb,makeSitus:Ab},Eb=Jn.detect().browser.isSafari(),kb=function(t){var e=void 0!==t?t.dom():document,n=e.body.scrollLeft||e.documentElement.scrollLeft,r=e.body.scrollTop||e.documentElement.scrollTop;return Jc(n,r)},Ob=function(t,e,n){var r=void 0!==n?n.dom():document,o=r.defaultView;o.scrollTo(t,e)},Nb=function(t,e,n){var r=void 0!==n?n.dom():document,o=r.defaultView;o.scrollBy(t,e)},Bb=function(t,e){var n=rl.absolute(e),r=me.fromDom(t.document);Ob(n.left(),n.top(),r)},Pb=function(t,e){var n=kb(t);e();var r=kb(t);n.top()===r.top()&&n.left()===r.left()||Ob(n.left(),n.top(),t)},Ib=function(t){var e=K.none(),n=function(){e=K.some(kb(t))},r=function(){e.each(function(e){Ob(e.left(),e.top(),t)})};return n(),{save:n,restore:r}},Wb=function(t,e){Eb&&qt.isFunction(t.dom().scrollIntoViewIfNeeded)?t.dom().scrollIntoViewIfNeeded(!1):t.dom().scrollIntoView(e)},Mb=function(t,e){var n=e.dom().getBoundingClientRect(),r=t.dom().getBoundingClientRect();r.top<n.top?Wb(t,!0):r.bottom>n.bottom&&Wb(t,!1)},Lb=function(){var t=me.fromHtml('<div style="width: 100px; height: 100px; overflow: scroll; position: absolute; top: -9999px;"></div>');Ci.after(Zr.body(),t);var e=t.dom().offsetWidth-t.dom().clientWidth;return Ni.remove(t),e},Fb={get:kb,to:Ob,by:Nb,preserve:Pb,capture:Ib,intoView:Wb,intoViewIfNeeded:Mb,setToElement:Bb,scrollBarWidth:Lb},qb=function(t,e,n,r,o,i,u){return ir.eq(n,o)&&r===i?K.none():Ao.closest(n,"td,th",e).bind(function(n){return Ao.closest(o,"td,th",e).bind(function(r){return zb(t,e,n,r,u)})})},zb=function(t,e,n,r,o){if(!ir.eq(n,r))return Aa.identify(n,r,e).bind(function(e){var r=e.boxes().getOr([]);return r.length>0?(o(t,r,e.start(),e.finish()),K.some(wb.response(K.some(Db.makeSitus(n,0,n,ou.getEnd(n))),!0))):K.none()})},Hb=function(t,e,n,r,o){var i=function(t){return o.clear(n),o.selectRange(n,t.boxes(),t.start(),t.finish()),t.boxes()};return Aa.shiftSelection(r,t,e,o.firstSelectedSelector(),o.lastSelectedSelector()).map(i)},_b={sync:qb,detect:zb,update:Hb},jb=Yt.immutableBag(["left","top","right","bottom"],[]),Ub=function(t,e){return jb({left:t.left(),top:t.top()+e,right:t.right(),bottom:t.bottom()+e})},Vb=function(t,e){return jb({left:t.left(),top:t.top()-e,right:t.right(),bottom:t.bottom()-e})},Gb=function(t,e){var n=t.bottom()-t.top();return jb({left:t.left(),top:e-n,right:t.right(),bottom:e})},Yb=function(t,e){var n=t.bottom()-t.top();return jb({left:t.left(),top:e,right:t.right(),bottom:e+n})},Xb=function(t,e,n){return jb({left:t.left()+e,top:t.top()+n,right:t.right()+e,bottom:t.bottom()+n})},Kb=function(t){return t.top()},$b=function(t){return t.bottom()},Jb=function(t){return"("+t.left()+", "+t.top()+") -> ("+t.right()+", "+t.bottom()+")"},Qb={nu:jb,moveUp:Vb,moveDown:Ub,moveBottomTo:Gb,moveTopTo:Yb,getTop:Kb,getBottom:$b,translate:Xb,toString:Jb},Zb=function(t,e,n){return n>=0&&n<ou.getEnd(e)?t.getRangedRect(e,n,e,n+1):n>0?t.getRangedRect(e,n-1,e,n):K.none()},tw=function(t){return Qb.nu({left:t.left,top:t.top,right:t.right,bottom:t.bottom})},ew=function(t,e){return K.some(t.getRect(e))},nw=function(t,e,n){return Fr.isElement(e)?ew(t,e).map(tw):Fr.isText(e)?Zb(t,e,n).map(tw):K.none()},rw=function(t,e){return Fr.isElement(e)?ew(t,e).map(tw):Fr.isText(e)?t.getRangedRect(e,0,e,ou.getEnd(e)).map(tw):K.none()},ow={getBoxAt:nw,getEntireBox:rw},iw=Yt.immutable("item","mode"),uw=function(t,e,n,r){var o=void 0!==r?r:aw;return t.property().parent(e).map(function(t){return iw(t,o)})},aw=function(t,e,n,r){var o=void 0!==r?r:cw;return n.sibling(t,e).map(function(t){return iw(t,o)})},cw=function(t,e,n,r){var o=void 0!==r?r:cw,i=t.property().children(e),u=n.first(i);return u.map(function(t){return iw(t,o)})},lw=[{current:uw,next:aw,fallback:K.none()},{current:aw,next:cw,fallback:K.some(uw)},{current:cw,next:cw,fallback:K.some(aw)}],sw=function(t,e,n,r,o){var o=void 0!==o?o:lw,i=At.find(o,function(t){return t.current===n});return i.bind(function(n){return n.current(t,e,r,n.next).orThunk(function(){return n.fallback.bind(function(n){return sw(t,e,n,r)})})})},fw={backtrack:uw,sidestep:aw,advance:cw,go:sw},dw=function(){var t=function(t,e){return t.query().prevSibling(e)},e=function(t){return t.length>0?K.some(t[t.length-1]):K.none()};return{sibling:t,first:e}},mw=function(){var t=function(t,e){return t.query().nextSibling(e)},e=function(t){return t.length>0?K.some(t[0]):K.none()};return{sibling:t,first:e}},gw={left:dw,right:mw},pw=function(t,e,n,r,o,i){var u=fw.go(t,e,r,o);return u.bind(function(e){return i(e.item())?K.none():n(e.item())?K.some(e.item()):pw(t,e.item(),n,e.mode(),o,i)})},hw=function(t,e,n,r){return pw(t,e,n,fw.sidestep,gw.left(),r)},vw=function(t,e,n,r){return pw(t,e,n,fw.sidestep,gw.right(),r)},bw={left:hw,right:vw},ww=function(t,e){return 0===t.property().children(e).length},yw=function(t,e,n){return Cw(t,e,_.curry(ww,t),n)},xw=function(t,e,n){return Sw(t,e,_.curry(ww,t),n)},Cw=function(t,e,n,r){return bw.left(t,e,n,r)},Sw=function(t,e,n,r){return bw.right(t,e,n,r)},Rw=function(){return{left:gw.left,right:gw.right}},Tw=function(t,e,n,r,o){return fw.go(t,e,n,r,o)},Aw={before:yw,after:xw,seekLeft:Cw,seekRight:Sw,walkers:Rw,walk:Tw,backtrack:fw.backtrack,sidestep:fw.sidestep,advance:fw.advance},Dw=i(),Ew=function(t,e,n){return Aw.gather(Dw,t,e,n)},kw=function(t,e){return Aw.before(Dw,t,e)},Ow=function(t,e){return Aw.after(Dw,t,e)},Nw=function(t,e,n){return Aw.seekLeft(Dw,t,e,n)},Bw=function(t,e,n){return Aw.seekRight(Dw,t,e,n)},Pw=function(){return Aw.walkers()},Iw=function(t,e,n,r){return Aw.walk(Dw,t,e,n,r)},Ww={gather:Ew,before:kw,after:Ow,seekLeft:Nw,seekRight:Bw,walkers:Pw,walk:Iw},Mw=5,Lw=100,Fw=qa.generate([{none:[]},{retry:["caret"]}]),qw=function(t,e){return t.left()<e.left()||Math.abs(e.right()-t.left())<1||t.left()>e.right()},zw=function(t,e,n){return wo.closest(e,Zl.isBlock).fold(_.constant(!1),function(e){return ow.getEntireBox(t,e).exists(function(t){return qw(n,t)})})},Hw=function(t,e,n,r,o){var i=Qb.moveDown(o,Mw);return Math.abs(n.bottom()-r.bottom())<1?Fw.retry(i):n.top()>o.bottom()?Fw.retry(i):n.top()===o.bottom()?Fw.retry(Qb.moveDown(o,1)):zw(t,e,o)?Fw.retry(Qb.translate(i,Mw,0)):Fw.none()},_w=function(t,e,n,r,o){var i=Qb.moveUp(o,Mw);return Math.abs(n.top()-r.top())<1?Fw.retry(i):n.bottom()<o.top()?Fw.retry(i):n.bottom()===o.top()?Fw.retry(Qb.moveUp(o,1)):zw(t,e,o)?Fw.retry(Qb.translate(i,Mw,0)):Fw.none()},jw={point:Qb.getTop,adjuster:_w,move:Qb.moveUp,gather:Ww.before},Uw={point:Qb.getBottom,adjuster:Hw,move:Qb.moveDown,gather:Ww.after},Vw=function(t,e,n){return t.elementFromPoint(e,n).filter(function(t){return"table"===Fr.name(t)}).isSome()},Gw=function(t,e,n,r,o){return Yw(t,e,n,e.move(r,Mw),o)},Yw=function(t,e,n,r,o){return 0===o?K.some(r):Vw(t,r.left(),e.point(r))?Gw(t,e,n,r,o-1):t.situsFromPoint(r.left(),e.point(r)).bind(function(i){return i.start().fold(K.none,function(i,u){return ow.getEntireBox(t,i,u).bind(function(u){return e.adjuster(t,i,u,n,r).fold(K.none,function(r){return Yw(t,e,n,r,o-1)})}).orThunk(function(){return K.some(r)})},K.none)})},Xw=function(t,e){return t.situsFromPoint(e.left(),e.bottom()+Mw)},Kw=function(t,e){return t.situsFromPoint(e.left(),e.top()-Mw)},$w=function(t,e,n){return t.point(e)>n.getInnerHeight()?K.some(t.point(e)-n.getInnerHeight()):t.point(e)<0?K.some(-t.point(e)):K.none()},Jw=function(t,e,n){var r=t.move(n,Mw),o=Yw(e,t,n,r,Lw).getOr(r);return $w(t,o,e).fold(function(){return e.situsFromPoint(o.left(),t.point(o))},function(n){return e.scrollBy(0,n),e.situsFromPoint(o.left(),t.point(o)-n)})},Qw={tryUp:_.curry(Jw,jw),tryDown:_.curry(Jw,Uw),ieTryUp:Kw,ieTryDown:Xw,getJumpSize:_.constant(Mw)},Zw=qa.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}]),ty=function(t,e,n){var r=t.getRect(e),o=t.getRect(n);return o.right>r.left&&o.left<r.right},ey=function(t,e,n,r,o,i,u){return Ao.closest(r,"td,th",u).bind(function(n){return Ao.closest(e,"td,th",u).map(function(e){return ir.eq(n,e)?ir.eq(r,n)&&ou.getEnd(n)===o?i(e):Zw.none("in same cell"):Zu.sharedOne(ny,[n,e]).fold(function(){return ty(t,e,n)?Zw.success():i(e)},function(t){return i(e)})})}).getOr(Zw.none("default"))},ny=function(t){return Ao.closest(t,"tr")},ry=function(t,e,n,r,o){return t.fold(e,n,r,o)},oy={verify:ey,cata:ry,adt:Zw},iy=Yt.immutable("element","offset"),uy=Yt.immutable("element","deltaOffset"),ay=Yt.immutable("element","start","finish"),cy=Yt.immutable("begin","end"),ly=Yt.immutable("element","text"),sy={point:iy,delta:uy,range:ay,points:cy,text:ly},fy=Yt.immutable("ancestor","descendants","element","index"),dy=Yt.immutable("parent","children","element","index"),my=function(t,e){return wo.closest(t,function(t){return Ar.parent(t).exists(function(t){return ir.eq(t,e)})})},gy=function(t){return Ar.parent(t).bind(function(e){var n=Ar.children(e);return py(n,t).map(function(r){return dy(e,n,t,r)})})},py=function(t,e){return At.findIndex(t,_.curry(ir.eq,e))},hy=function(t,e){return Ar.parent(t).bind(function(n){var r=fo.children(n,e);return py(r,t).map(function(e){return dy(n,r,t,e)})})},vy=function(t,e,n){return Ao.closest(t,e).bind(function(e){var r=fo.descendants(e,n);return py(r,t).map(function(n){return fy(e,r,t,n)})})},by={childOf:my,indexOf:py,indexInParent:gy,selectorsInParent:hy,descendantsInAncestor:vy},wy=function(t){return"br"===Fr.name(t)},yy=function(t,e,n){return e(t,n).bind(function(t){return Fr.isText(t)&&0===$i.get(t).trim().length?yy(t,e,n):K.some(t)})},xy=function(t,e,n){return n.traverse(e).orThunk(function(){return yy(e,n.gather,t)}).map(n.relative)},Cy=function(t,e){return Ar.child(t,e).filter(wy).orThunk(function(){return Ar.child(t,e-1).filter(wy)})},Sy=function(t,e,n,r){return Cy(e,n).bind(function(e){return r.traverse(e).fold(function(){return yy(e,r.gather,t).map(r.relative)},function(t){return by.indexInParent(t).map(function(t){return Th.on(t.parent(),t.index())})})})},Ry=function(t,e,n,r){var o=wy(e)?xy(t,e,r):Sy(t,e,n,r);return o.map(function(t){return{start:_.constant(t),finish:_.constant(t)}})},Ty=function(t){return oy.cata(t,function(t){return K.none()},function(){return K.none()},function(t){return K.some(sy.point(t,0))},function(t){return K.some(sy.point(t,ou.getEnd(t)))})},Ay={tryBr:Ry,process:Ty},Dy=20,Ey=Jn.detect(),ky=function(t,e,n){return t.getSelection().bind(function(r){return Ay.tryBr(e,r.finish(),r.foffset(),n).fold(function(){return K.some(sy.point(r.finish(),r.foffset()))},function(o){var i=t.fromSitus(o),u=oy.verify(t,r.finish(),r.foffset(),i.finish(),i.foffset(),n.failure,e);return Ay.process(u)})})},Oy=function(t,e,n,r,o,i){return 0===i?K.none():Py(t,e,n,r,o).bind(function(u){var a=t.fromSitus(u),c=oy.verify(t,n,r,a.finish(),a.foffset(),o.failure,e);return oy.cata(c,function(){return K.none()},function(){return K.some(u)},function(u){return ir.eq(n,u)&&0===r?Ny(t,n,r,Qb.moveUp,o):Oy(t,e,u,0,o,i-1)},function(u){return ir.eq(n,u)&&r===ou.getEnd(u)?Ny(t,n,r,Qb.moveDown,o):Oy(t,e,u,ou.getEnd(u),o,i-1)})})},Ny=function(t,e,n,r,o){return ow.getBoxAt(t,e,n).bind(function(e){return By(t,o,r(e,Qw.getJumpSize()))})},By=function(t,e,n){return Ey.browser.isChrome()||Ey.browser.isSafari()||Ey.browser.isFirefox()||Ey.browser.isEdge()?e.otherRetry(t,n):Ey.browser.isIE()?e.ieRetry(t,n):K.none()},Py=function(t,e,n,r,o){return ow.getBoxAt(t,n,r).bind(function(e){return By(t,o,e)})},Iy=function(t,e,n){return ky(t,e,n).bind(function(r){return Oy(t,e,r.element(),r.offset(),n,Dy).map(t.fromSitus)})},Wy={handle:Iy},My=function(t){return wo.first(t).isSome()},Ly=function(t,e,n){return wo.ancestor(t,e,n).isSome()},Fy=function(t,e,n){return wo.closest(t,e,n).isSome()},qy=function(t,e){return wo.sibling(t,e).isSome()},zy=function(t,e){return wo.child(t,e).isSome()},Hy=function(t,e){return wo.descendant(t,e).isSome()},_y={any:My,ancestor:Ly,closest:Fy,sibling:qy,child:zy,descendant:Hy},jy=Jn.detect(),Uy=function(t,e){return _y.ancestor(t,function(t){return Ar.parent(t).exists(function(t){return ir.eq(t,e)})})},Vy=function(t,e,n,r,o){return Ao.closest(r,"td,th",e).bind(function(r){return Ao.closest(r,"table",e).bind(function(i){return Uy(o,i)?Wy.handle(t,e,n).bind(function(t){return Ao.closest(t.finish(),"td,th",e).map(function(e){return{start:_.constant(r),finish:_.constant(e),range:_.constant(t)}})}):K.none()})})},Gy=function(t,e,n,r,o,i){return jy.browser.isIE()?K.none():i(r,e).orThunk(function(){return Vy(t,e,n,r,o).map(function(t){var e=t.range();return wb.response(K.some(Db.makeSitus(e.start(),e.soffset(),e.finish(),e.foffset())),!0)})})},Yy=function(t,e){return Ao.closest(t,"tr",e).bind(function(t){return Ao.closest(t,"table",e).bind(function(n){var r=fo.descendants(n,"tr");return ir.eq(t,r[0])?Ww.seekLeft(n,function(t){return cu.last(t).isSome()},e).map(function(t){var e=ou.getEnd(t);return wb.response(K.some(Db.makeSitus(t,e,t,e)),!0)}):K.none()})})},Xy=function(t,e){return Ao.closest(t,"tr",e).bind(function(t){return Ao.closest(t,"table",e).bind(function(n){var r=fo.descendants(n,"tr");return ir.eq(t,r[r.length-1])?Ww.seekRight(n,function(t){return cu.first(t).isSome()},e).map(function(t){return wb.response(K.some(Db.makeSitus(t,0,t,0)),!0)}):K.none()})})},Ky=function(t,e,n,r,o,i,u){return Vy(t,n,r,o,i).bind(function(t){return _b.detect(e,n,t.start(),t.finish(),u)})},$y={navigate:Gy,select:Ky,firstUpCheck:Yy,lastDownCheck:Xy},Jy=function(t,e){return Ao.closest(t,"td,th",e)},Qy={down:{traverse:Ar.nextSibling,gather:Ww.after,relative:Th.before,otherRetry:Qw.tryDown,ieRetry:Qw.ieTryDown,failure:oy.adt.failedDown},up:{traverse:Ar.prevSibling,gather:Ww.before,relative:Th.before,otherRetry:Qw.tryUp,ieRetry:Qw.ieTryUp,failure:oy.adt.failedUp}},Zy=Yt.immutable("rows","cols"),tx=function(t,e,n,r){var o=C(t),i=S(o,e,n,r);return{mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},ex=function(t,e,n,r){var o=C(t),i=function(){return r.clear(e),K.none()},u=function(t,u,a,c,l,s){var f=t.raw().which,d=t.raw().shiftKey===!0,m=Aa.retrieve(e,r.selectedSelector()).fold(function(){return Rb.isDown(f)&&d?_.curry($y.select,o,e,n,Qy.down,c,u,r.selectRange):Rb.isUp(f)&&d?_.curry($y.select,o,e,n,Qy.up,c,u,r.selectRange):Rb.isDown(f)?_.curry($y.navigate,o,n,Qy.down,c,u,$y.lastDownCheck):Rb.isUp(f)?_.curry($y.navigate,o,n,Qy.up,c,u,$y.firstUpCheck):K.none},function(t){var n=function(n){return function(){var i=fs.findMap(n,function(n){return _b.update(n.rows(),n.cols(),e,t,r)});return i.fold(function(){return Aa.getEdges(e,r.firstSelectedSelector(),r.lastSelectedSelector()).map(function(t){var n=Rb.isDown(f)||s.isForward(f)?Th.after:Th.before;return o.setRelativeSelection(Th.on(t.first(),0),n(t.table())),r.clear(e),wb.response(K.none(),!0)})},function(t){return K.some(wb.response(K.none(),!0))})}};return Rb.isDown(f)&&d?n([Zy(1,0)]):Rb.isUp(f)&&d?n([Zy(-1,0)]):s.isBackward(f)&&d?n([Zy(0,-1),Zy(-1,0)]):s.isForward(f)&&d?n([Zy(0,1),Zy(1,0)]):Rb.isNavigation(f)&&d===!1?i:K.none});return m()},a=function(t,o,i,u,a){return Aa.retrieve(e,r.selectedSelector()).fold(function(){var c=t.raw().which,l=t.raw().shiftKey===!0;return l===!1?K.none():Rb.isNavigation(c)?_b.sync(e,n,o,i,u,a,r.selectRange):K.none()},K.none)};return{keydown:u,keyup:a}},nx={mouse:tx,keyboard:ex},rx=function(t,e){At.each(e,function(e){ff.add(t,e)})},ox=function(t,e){At.each(e,function(e){ff.remove(t,e)})},ix=function(t,e){At.each(e,function(e){ff.toggle(t,e)})},ux=function(t,e){return At.forall(e,function(e){return ff.has(t,e)})},ax=function(t,e){return At.exists(e,function(e){return ff.has(t,e)})},cx=function(t){for(var e=t.dom().classList,n=new Array(e.length),r=0;r<e.length;r++)n[r]=e.item(r);return n},lx=function(t){return rf.supports(t)?cx(t):rf.get(t)},sx={add:rx,remove:ox,toggle:ix,hasAll:ux,hasAny:ax,get:lx},fx=function(t){return function(e){ff.add(e,t)}},dx=function(t){return function(e){ff.remove(e,t)}},mx=function(t){return function(e){sx.remove(e,t)}},gx=function(t){return function(e){return ff.has(e,t)}},px={addClass:fx,removeClass:dx,removeClasses:mx,hasClass:gx},hx=function(t){var e=px.addClass(t.selected()),n=px.removeClasses([t.selected(),t.lastSelected(),t.firstSelected()]),r=function(e){var r=fo.descendants(e,t.selectedSelector());At.each(r,n)},o=function(n,o,i,u){r(n),At.each(o,e),ff.add(i,t.firstSelected()),ff.add(u,t.lastSelected())};return{clear:r,selectRange:o,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},vx=function(t){var e=function(e){Kr.remove(e,t.selected()),Kr.remove(e,t.firstSelected()),Kr.remove(e,t.lastSelected())},n=function(e){Kr.set(e,t.selected(),"1")},r=function(n){var r=fo.descendants(n,t.selectedSelector());At.each(r,e)},o=function(e,o,i,u){r(e),At.each(o,n),Kr.set(i,t.firstSelected(),"1"),Kr.set(u,t.lastSelected(),"1")};return{clear:r,selectRange:o,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},bx={byClass:hx,byAttr:vx},wx=Tg.each,yx=function(t){function e(e){return function(){t.execCommand(e)}}var n=[];wx("inserttable tableprops deletetable | cell row column".split(" "),function(e){"|"===e?n.push({text:"-"}):n.push(t.menuItems[e])}),t.addButton("table",{type:"menubutton",title:"Table",menu:n}),t.addButton("tableprops",{title:"Table properties",onclick:_.curry(gp.open,t,!0),icon:"table"}),t.addButton("tabledelete",{title:"Delete table",onclick:e("mceTableDelete")}),t.addButton("tablecellprops",{title:"Cell properties",onclick:e("mceTableCellProps")}),t.addButton("tablemergecells",{title:"Merge cells",onclick:e("mceTableMergeCells")}),t.addButton("tablesplitcells",{title:"Split cell",onclick:e("mceTableSplitCells")}),t.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:e("mceTableInsertRowBefore")}),t.addButton("tableinsertrowafter",{title:"Insert row after",onclick:e("mceTableInsertRowAfter")}),t.addButton("tabledeleterow",{title:"Delete row",onclick:e("mceTableDeleteRow")}),t.addButton("tablerowprops",{title:"Row properties",onclick:e("mceTableRowProps")}),t.addButton("tablecutrow",{title:"Cut row",onclick:e("mceTableCutRow")}),t.addButton("tablecopyrow",{title:"Copy row",onclick:e("mceTableCopyRow")}),t.addButton("tablepasterowbefore",{title:"Paste row before",onclick:e("mceTablePasteRowBefore")}),t.addButton("tablepasterowafter",{title:"Paste row after",onclick:e("mceTablePasteRowAfter")}),t.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:e("mceTableInsertColBefore")}),t.addButton("tableinsertcolafter",{title:"Insert column after",onclick:e("mceTableInsertColAfter")}),t.addButton("tabledeletecol",{title:"Delete column",onclick:e("mceTableDeleteCol")})},xx=function(t){var e=function(e){var n=t.dom.is(e,"table")&&t.getBody().contains(e);return n},n=yg(t);n.length>0&&t.addContextToolbar(e,n.join(" "))},Cx={addButtons:yx,addToolbars:xx},Sx=function(t,e){function n(e){return function(){t.execCommand(e)}}var r=K.none(),o=[],i=[],u=[],a=[],c=function(t){t.disabled(!0)},l=function(t){t.disabled(!1)},s=function(){var t=this;o.push(t),r.fold(function(){c(t)},function(e){l(t)})},f=function(){var t=this;i.push(t),r.fold(function(){c(t)},function(e){l(t)})},d=function(){var t=this;u.push(t),r.fold(function(){c(t)},function(e){t.disabled(e.mergable().isNone())})},m=function(){var t=this;a.push(t),r.fold(function(){c(t)},function(e){t.disabled(e.unmergable().isNone())})},g=function(){r.fold(function(){At.each(o,c),At.each(i,c),At.each(u,c),At.each(a,c)},function(t){At.each(o,l),At.each(i,l),At.each(u,function(e){e.disabled(t.mergable().isNone())}),At.each(a,function(e){e.disabled(t.unmergable().isNone())})})};t.on("init",function(){t.on("nodechange",function(n){var o=K.from(t.dom.getParent(t.selection.getStart(),"th,td"));r=o.bind(function(t){var n=me.fromDom(t),r=zo.table(n);return r.map(function(t){return Qa.forMenu(e,t,n)})}),g()})});var p=function(){var t="";t='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var e=0;e<10;e++){t+="<tr>";for(var n=0;n<10;n++)t+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*e+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+e+'"></a></td>';t+="</tr>"}return t+="</table>",t+='<div class="mce-text-center" role="presentation">1 x 1</div>'},h=function(t,e,n,r){var o,i,u,a,c,l=r.getEl().getElementsByTagName("table")[0],s=r.isRtl()||"tl-tr"===r.parent().rel;for(l.nextSibling.innerHTML=e+1+" x "+(n+1),s&&(e=9-e),i=0;i<10;i++)for(o=0;o<10;o++)a=l.rows[i].childNodes[o].firstChild,c=(s?o>=e:o<=e)&&i<=n,t.dom.toggleClass(a,"mce-active",c),c&&(u=a);return u.parentNode},v=sg(t)===!1?{text:"Table",icon:"table",context:"table",onclick:_.curry(gp.open,t)}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),gp.open(t))},onshow:function(){h(t,0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");t.dom.removeClass(e,"mce-active"),t.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:p(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var n,r,o=e.target;"A"===o.tagName.toUpperCase()&&(n=parseInt(o.getAttribute("data-mce-x"),10),r=parseInt(o.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"===this.parent().rel)&&(n=9-n),n===this.lastX&&r===this.lastY||(h(t,n,r,e.control),this.lastX=n,this.lastY=r))},onclick:function(e){var n=this;"A"===e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),n.parent().cancel(),t.undoManager.transact(function(){lp.insert(t,n.lastX+1,n.lastY+1)}),t.addVisual())}}]},b={text:"Table properties",context:"table",onPostRender:s,onclick:_.curry(gp.open,t,!0)},w={text:"Delete table",context:"table",onPostRender:s,cmd:"mceTableDelete"},y={text:"Row",context:"table",menu:[{text:"Insert row before",onclick:n("mceTableInsertRowBefore"),onPostRender:f},{text:"Insert row after",onclick:n("mceTableInsertRowAfter"),onPostRender:f},{text:"Delete row",onclick:n("mceTableDeleteRow"),onPostRender:f},{text:"Row properties",onclick:n("mceTableRowProps"),onPostRender:f},{text:"-"},{text:"Cut row",onclick:n("mceTableCutRow"),onPostRender:f},{text:"Copy row",onclick:n("mceTableCopyRow"),onPostRender:f},{text:"Paste row before",onclick:n("mceTablePasteRowBefore"),onPostRender:f},{text:"Paste row after",onclick:n("mceTablePasteRowAfter"),onPostRender:f}]},x={text:"Column",context:"table",menu:[{text:"Insert column before",onclick:n("mceTableInsertColBefore"),onPostRender:f},{text:"Insert column after",onclick:n("mceTableInsertColAfter"),onPostRender:f},{text:"Delete column",onclick:n("mceTableDeleteCol"),onPostRender:f}]},C={separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:n("mceTableCellProps"),onPostRender:f},{text:"Merge cells",onclick:n("mceTableMergeCells"),onPostRender:d},{text:"Split cell",onclick:n("mceTableSplitCells"),onPostRender:m}]};t.addMenuItem("inserttable",v),t.addMenuItem("tableprops",b),t.addMenuItem("deletetable",w),t.addMenuItem("row",y),t.addMenuItem("column",x),t.addMenuItem("cell",C)},Rx={addMenuItems:Sx},Tx=function(t){return t.get().fold(function(){},function(t){return At.map(t,function(t){return t.dom()})})},Ax=function(t,e){var n=At.map(t,me.fromDom);e.set(K.from(n))},Dx=function(t,e){return{insertTable:function(e,n){return lp.insert(t,e,n)},setClipboardRows:function(t){return Ax(t,e)},getClipboardRows:function(){return Tx(e)}}};return E.add("table",A),D})()}();
},{}],"tinymce/plugins/textcolor/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function t(){}var o=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t,o){var e;return t.dom.getParents(t.selection.getStart(),function(t){var r;(r=t.style["forecolor"===o?"color":"background-color"])&&(e=r)}),e},r=function(t){var o,e=[];for(o=0;o<t.length;o+=2)e.push({text:t[o+1],color:"#"+t[o]});return e},n=function(t,o,e){t.undoManager.transact(function(){t.focus(),t.formatter.apply(o,{value:e}),t.nodeChanged()})},l=function(t,o){t.undoManager.transact(function(){t.focus(),t.formatter.remove(o,{value:null},null,!0),t.nodeChanged()})},a={getCurrentColor:e,mapColors:r,applyFormat:n,removeFormat:l},c=function(t){t.addCommand("mceApplyTextcolor",function(o,e){a.applyFormat(t,o,e)}),t.addCommand("mceRemoveTextcolor",function(o){a.removeFormat(t,o)})},i={register:c},u=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),s=tinymce.util.Tools.resolve("tinymce.util.Tools"),m=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],g=function(t){return t.getParam("textcolor_map",m)},d=function(t){return t.getParam("forecolor_map",g(t))},f=function(t){return t.getParam("backcolor_map",g(t))},C=function(t){return t.getParam("textcolor_rows",5)},F=function(t){return t.getParam("textcolor_cols",8)},b=function(t){return t.getParam("forecolor_rows",C(t))},p=function(t){return t.getParam("backcolor_rows",C(t))},y=function(t){return t.getParam("forecolor_cols",F(t))},k=function(t){return t.getParam("backcolor_cols",F(t))},v=function(t){return t.getParam("color_picker_callback",null)},h=function(t){return"function"==typeof v(t)},P={getForeColorMap:d,getBackColorMap:f,getForeColorRows:b,getBackColorRows:p,getForeColorCols:y,getBackColorCols:k,getColorPickerCallback:v,hasColorPicker:h},x=tinymce.util.Tools.resolve("tinymce.util.I18n"),B=function(t,o,e,r){var n,l,c,i,s,m,g,d=0,f=u.DOM.uniqueId("mcearia"),C=function(t,o){var e="transparent"===t;return'<td class="mce-grid-cell'+(e?" mce-colorbtn-trans":"")+'"><div id="'+f+"-"+d++ +'" data-mce-color="'+(t?t:"")+'" role="option" tabIndex="-1" style="'+(t?"background-color: "+t:"")+'" title="'+x.translate(o)+'">'+(e?"&#215;":"")+"</div></td>"};for(n=a.mapColors(e),n.push({text:x.translate("No color"),color:"transparent"}),c='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',i=n.length-1,m=0;m<o;m++){for(c+="<tr>",s=0;s<t;s++)g=m*t+s,g>i?c+="<td></td>":(l=n[g],c+=C(l.color,l.text));c+="</tr>"}if(r){for(c+='<tr><td colspan="'+t+'" class="mce-custom-color-btn"><div id="'+f+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+f+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+x.translate("Custom...")+"</button></div></td></tr>",c+="<tr>",s=0;s<t;s++)c+=C("","Custom color");c+="</tr>"}return c+="</tbody></table>"},T={getHtml:B},w=function(t,o){t.style.background=o,t.setAttribute("data-mce-color",o)},M=function(t){return function(o){var e=o.control;e._color?t.execCommand("mceApplyTextcolor",e.settings.format,e._color):t.execCommand("mceRemoveTextcolor",e.settings.format)}},_=function(t,o){return function(e){var r,n=this.parent(),l=a.getCurrentColor(t,n.settings.format),c=function(o){n.hidePanel(),n.color(o),t.execCommand("mceApplyTextcolor",n.settings.format,o)},i=function(){n.hidePanel(),n.resetColor(),t.execCommand("mceRemoveTextcolor",n.settings.format)};if(u.DOM.getParent(e.target,".mce-custom-color-btn")){n.hidePanel();var m=P.getColorPickerCallback(t);m.call(t,function(t){var e,r,l,a=n.panel.getEl().getElementsByTagName("table")[0];for(e=s.map(a.rows[a.rows.length-1].childNodes,function(t){return t.firstChild}),l=0;l<e.length&&(r=e[l],r.getAttribute("data-mce-color"));l++);if(l===o)for(l=0;l<o-1;l++)w(e[l],e[l+1].getAttribute("data-mce-color"));w(r,t),c(t)},l)}r=e.target.getAttribute("data-mce-color"),r?(this.lastId&&u.DOM.get(this.lastId).setAttribute("aria-selected",!1),e.target.setAttribute("aria-selected",!0),this.lastId=e.target.id,"transparent"===r?i():c(r)):null!==r&&n.hidePanel()}},R=function(t,o){return function(){var e=o?P.getForeColorCols(t):P.getBackColorCols(t),r=o?P.getForeColorRows(t):P.getBackColorRows(t),n=o?P.getForeColorMap(t):P.getBackColorMap(t),l=P.hasColorPicker(t);return T.getHtml(e,r,n,l)}},A=function(t){t.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:R(t,!0),onclick:_(t,P.getForeColorCols(t))},onclick:M(t)}),t.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:R(t,!1),onclick:_(t,P.getBackColorCols(t))},onclick:M(t)})},D={register:A};return o.add("textcolor",function(t){i.register(t),D.register(t)}),t})()}();
},{}],"tinymce":[function(require,module,exports){
!function(){!function(){"use strict";function e(){function e(n,r){return t.push(n+" ")>en.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function t(e){return e[yn]=!0,e}function n(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Tn)-(~e.sourceIndex||Tn);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function r(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function o(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function i(e){return t(function(n){return n=+n,t(function(t,r){for(var o,i=e([],t.length,n),a=i.length;a--;)t[o=i[a]]&&(t[o]=!(r[o]=t[o]))})})}function a(e){return e&&typeof e.getElementsByTagName!==kn&&e}function u(){}function c(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function s(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=xn++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var u,c,s=[Cn,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(c=t[yn]||(t[yn]={}),(u=c[r])&&u[0]===Cn&&u[1]===i)return s[2]=u[2];if(c[r]=s,s[2]=e(t,n,a))return!0}}}function l(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function f(e,t,n){for(var r=0,o=t.length;r<o;r++)nr(e,t[r],n);return n}function d(e,t,n,r,o){for(var i,a=[],u=0,c=e.length,s=null!=t;u<c;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),s&&t.push(u)));return a}function m(e,n,r,o,i,a){return o&&!o[yn]&&(o=m(o)),i&&!i[yn]&&(i=m(i,a)),t(function(t,a,u,c){var s,l,m,p=[],g=[],h=a.length,v=t||f(n||"*",u.nodeType?[u]:u,[]),y=!e||!t&&n?v:d(v,p,e,u,c),b=r?i||(t?e:h||o)?[]:a:y;if(r&&r(y,b,u,c),o)for(s=d(b,g),o(s,[],u,c),l=s.length;l--;)(m=s[l])&&(b[g[l]]=!(y[g[l]]=m));if(t){if(i||e){if(i){for(s=[],l=b.length;l--;)(m=b[l])&&s.push(y[l]=m);i(null,b=[],s,c)}for(l=b.length;l--;)(m=b[l])&&(s=i?Pn.call(t,m):p[l])>-1&&(t[s]=!(a[s]=m))}}else b=d(b===a?b.splice(h,b.length):b),i?i(null,a,b,c):_n.apply(a,b)})}function p(e){for(var t,n,r,o=e.length,i=en.relative[e[0].type],a=i||en.relative[" "],u=i?1:0,f=s(function(e){return e===t},a,!0),d=s(function(e){return Pn.call(t,e)>-1},a,!0),g=[function(e,n,r){return!i&&(r||n!==un)||((t=n).nodeType?f(e,n,r):d(e,n,r))}];u<o;u++)if(n=en.relative[e[u].type])g=[s(l(g),n)];else{if(n=en.filter[e[u].type].apply(null,e[u].matches),n[yn]){for(r=++u;r<o&&!en.relative[e[r].type];r++);return m(u>1&&l(g),u>1&&c(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(zn,"$1"),n,u<r&&p(e.slice(u,r)),r<o&&p(e=e.slice(r)),r<o&&c(e))}g.push(n)}return l(g)}function g(e,n){var r=n.length>0,o=e.length>0,i=function(t,i,a,u,c){var s,l,f,m=0,p="0",g=t&&[],h=[],v=un,y=t||o&&en.find.TAG("*",c),b=Cn+=null==v?1:Math.random()||.1,C=y.length;for(c&&(un=i!==fn&&i);p!==C&&null!=(s=y[p]);p++){if(o&&s){for(l=0;f=e[l++];)if(f(s,i,a)){u.push(s);break}c&&(Cn=b)}r&&((s=!f&&s)&&m--,t&&g.push(s))}if(m+=p,r&&p!==m){for(l=0;f=n[l++];)f(g,h,i,a);if(t){if(m>0)for(;p--;)g[p]||h[p]||(h[p]=Rn.call(u));h=d(h)}_n.apply(u,h),c&&!t&&h.length>0&&m+n.length>1&&nr.uniqueSort(u)}return c&&(Cn=b,un=v),g};return r?t(i):i}function h(e,t,n){var r=e.isiOS()&&/ipad/i.test(n)===!0,o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,u=r||i||a&&/mobile/i.test(n)===!0,c=e.isiOS()||e.isAndroid(),s=c&&!u,l=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1;return{isiPad:ke.constant(r),isiPhone:ke.constant(o),isTablet:ke.constant(u),isPhone:ke.constant(s),isTouch:ke.constant(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ke.constant(l)}}function v(){var e=arguments;return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return lt.each(e,function(e,n){r[e]=ke.constant(t[n])}),r}}function y(e,t){var n=e.concat(t);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return Pa.validateStrArr("required",e),Pa.validateStrArr("optional",t),Pa.checkDupes(n),function(r){var o=Ki.keys(r),i=lt.forall(e,function(e){return lt.contains(o,e)});i||Pa.reqMessage(e,o);var a=lt.filter(o,function(e){return!lt.contains(n,e)});a.length>0&&Pa.unsuppMessage(a);var u={};return lt.each(e,function(e){u[e]=ke.constant(r[e])}),lt.each(t,function(e){u[e]=ke.constant(Object.prototype.hasOwnProperty.call(r,e)?Oe.some(r[e]):Oe.none())}),u}}function b(e,t){var n,r=0,o={};t=t||{},n=t.maxLoadTime||5e3;var i=function(t){e.getElementsByTagName("head")[0].appendChild(t)},a=function(t,a,u){var c,s,l,f,d=function(){for(var e=f.passed,t=e.length;t--;)e[t]();f.status=2,f.passed=[],f.failed=[]},m=function(){for(var e=f.failed,t=e.length;t--;)e[t]();f.status=3,f.passed=[],f.failed=[]},p=function(){var e=navigator.userAgent.match(/WebKit\/(\d*)/);return!!(e&&parseInt(e[1],10)<536)},g=function(e,t){e()||((new Date).getTime()-l<n?Ut.setTimeout(t):m())},h=function(){g(function(){for(var t,n,r=e.styleSheets,o=r.length;o--;)if(t=r[o],n=t.ownerNode?t.ownerNode:t.owningElement,n&&n.id===c.id)return d(),!0},h)},v=function(){g(function(){try{var e=s.sheet.cssRules;return d(),!!e}catch(t){}},v)};if(t=kr._addCacheSuffix(t),o[t]?f=o[t]:(f={passed:[],failed:[]},o[t]=f),a&&f.passed.push(a),u&&f.failed.push(u),1!==f.status){if(2===f.status)return void d();if(3===f.status)return void m();if(f.status=1,c=e.createElement("link"),c.rel="stylesheet",c.type="text/css",c.id="u"+r++,c.async=!1,c.defer=!1,l=(new Date).getTime(),"onload"in c&&!p())c.onload=h,c.onerror=m;else{if(navigator.userAgent.indexOf("Firefox")>0)return s=e.createElement("style"),s.textContent='@import "'+t+'"',v(),void i(s);h()}i(c),c.href=t}},u=function(e){return Mu.nu(function(t){a(e,ke.compose(t,ke.constant(Wu.value(e))),ke.compose(t,ke.constant(Wu.error(e))))})},c=function(e){return e.fold(ke.identity,ke.identity)},s=function(e,t,n){Hu.par(lt.map(e,u)).get(function(e){var r=lt.partition(e,function(e){return e.isValue()});r.fail.length>0?n(r.fail.map(c)):t(r.pass.map(c))})};return{load:a,loadAll:s}}function C(e,t){var n=e,r=function(e,n,r,o){var i,a;if(e){if(!o&&e[n])return e[n];if(e!==t){if(i=e[r])return i;for(a=e.parentNode;a&&a!==t;a=a.parentNode)if(i=a[r])return i}}},o=function(e,n,r,o){var i,a,u;if(e){if(i=e[r],t&&i===t)return;if(i){if(!o)for(u=i[n];u;u=u[n])if(!u[n])return u;return i}if(a=e.parentNode,a&&a!==t)return a}};this.current=function(){return n},this.next=function(e){return n=r(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=r(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=o(n,"lastChild","previousSibling",e)}}function x(e){var t,n,r,o,i,a,u,c,s,l,f,d,m,p={},g={},h=[],v={},y={},b=function(t,n,r){var o=e[t];return o?o=Zc(o,/[, ]/,Zc(o.toUpperCase(),/[, ]/)):(o=Yc[t],o||(o=Zc(n," ",Zc(n.toUpperCase()," ")),o=Qc(o,r),Yc[t]=o)),o};e=e||{},r=rs(e.schema),e.verify_html===!1&&(e.valid_elements="*[*]"),t=os(e.valid_styles),n=os(e.invalid_styles,"map"),c=os(e.valid_classes,"map"),o=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),i=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=b("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),u=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),l=b("non_empty_elements","td th iframe video audio object script pre code",a),f=b("move_caret_before_on_enter_elements","table",l),d=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside nav figure"),s=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption",d),m=b("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),Jc((e.special||"script noscript noframes noembed title style textarea xmp").split(" "),function(e){y[e]=new RegExp("</"+e+"[^>]*>","gi")});var C=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var t,n,r,o,i,a,u,c,s,l,f,d,m,g,v,y,b,x,w,E=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,N=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(e)for(e=ns(e,","),p["@"]&&(y=p["@"].attributes,b=p["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(i=E.exec(e[t])){if(g=i[1],s=i[2],v=i[3],c=i[5],d={},m=[],a={attributes:d,attributesOrder:m},"#"===g&&(a.paddEmpty=!0),"-"===g&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),y){for(x in y)d[x]=y[x];m.push.apply(m,b)}if(c)for(c=ns(c,"|"),r=0,o=c.length;r<o;r++)if(i=N.exec(c[r])){if(u={},f=i[1],l=i[2].replace(/[\\:]:/g,":"),g=i[3],w=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),u.required=!0),"-"===f){delete d[l],m.splice(ts(m,l),1);continue}g&&("="===g&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:w}),u.defaultValue=w),":"===g&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:w}),u.forcedValue=w),"<"===g&&(u.validValues=Zc(w,"?"))),S.test(l)?(a.attributePatterns=a.attributePatterns||[],u.pattern=C(l),a.attributePatterns.push(u)):(d[l]||m.push(l),d[l]=u)}y||"@"!==s||(y=d,b=m),v&&(a.outputName=s,p[v]=a),S.test(s)?(a.pattern=C(s),h.push(a)):p[s]=a}},w=function(e){p={},h=[],x(e),Jc(r,function(e,t){g[t]=e.children})},E=function(e){var t=/^(~)?(.+)$/;e&&(Yc.text_block_elements=Yc.block_elements=null,Jc(ns(e,","),function(e){var n=t.exec(e),r="~"===n[1],o=r?"span":"div",i=n[2];if(g[i]=g[o],v[i]=o,r||(s[i.toUpperCase()]={},s[i]={}),!p[i]){var a=p[o];a=Qc({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,p[i]=a}Jc(g,function(e,t){e[o]&&(g[t]=e=Qc({},g[t]),e[i]=e[o])})}))},N=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;Yc[e.schema]=null,t&&Jc(ns(t,","),function(e){var t,r,o=n.exec(e);o&&(r=o[1],t=r?g[o[2]]:g[o[2]]={"#comment":{}},t=g[o[2]],Jc(ns(o[3],"|"),function(e){"-"===r?delete t[e]:t[e]={}}))})},S=function(e){var t,n=p[e];if(n)return n;for(t=h.length;t--;)if(n=h[t],n.pattern.test(e))return n};e.valid_elements?w(e.valid_elements):(Jc(r,function(e,t){p[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},g[t]=e.children}),"html5"!==e.schema&&Jc(ns("strong/b em/i"),function(e){e=ns(e,"/"),p[e[1]].outputName=e[0]}),Jc(ns("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){p[e]&&(p[e].removeEmpty=!0)}),Jc(ns("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){p[e].paddEmpty=!0}),Jc(ns("span"),function(e){p[e].removeEmptyAttrs=!0})),E(e.custom_elements),N(e.valid_children),x(e.extended_valid_elements),N("+ol[ul|ol],+ul[ul|ol]"),Jc({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){p[t]&&(p[t].parentsRequired=ns(e))}),e.invalid_elements&&Jc(es(e.invalid_elements),function(e){p[e]&&delete p[e]}),S("span")||x("span[!data-mce-type|*]");var k=function(){return t},T=function(){return n},A=function(){return c},B=function(){return u},R=function(){return s},D=function(){return d},_=function(){return m},O=function(){return a},P=function(){return i},L=function(){return l},I=function(){return f},M=function(){return o},F=function(){return y},U=function(e,t){var n=g[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},z=function(e,t){var n,r,o=S(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},q=function(){return v};return{children:g,elements:p,getValidStyles:k,getValidClasses:A,getBlockElements:R,getInvalidStyles:T,getShortEndedElements:O,getTextBlockElements:D,getTextInlineElements:_,getBoolAttrs:B,getElementRule:S,getSelfClosingElements:P,getNonEmptyElements:L,getMoveCaretBeforeOnEnterElements:I,getWhiteSpaceElements:M,getSpecialElements:F,isValidChild:U,isValid:z,getCustomElements:q,addValidElements:x,setValidElements:w,addCustomElements:E,addValidChildren:N}}function w(e,t){var n,r,o,i,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,l={},f="\ufeff";for(e=e||{},t&&(o=t.getValidStyles(),i=t.getInvalidStyles()),r=("\\\" \\' \\; \\: ; : "+f).split(" "),n=0;n<r.length;n++)l[r[n]]=f+n,l[f+n]=r[n];return{toHex:function(e){return e.replace(a,is)},parse:function(t){var r,o,i,d,m={},p=e.url_converter,g=e.url_converter_scope||this,h=function(e,t,r){var o,i,a,u;if(o=m[e+"-top"+t],o&&(i=m[e+"-right"+t],i&&(a=m[e+"-bottom"+t],a&&(u=m[e+"-left"+t])))){var c=[o,i,a,u];for(n=c.length-1;n--&&c[n]===c[n+1];);n>-1&&r||(m[e+t]=n===-1?c[0]:c.join(" "),delete m[e+"-top"+t],delete m[e+"-right"+t],delete m[e+"-bottom"+t],delete m[e+"-left"+t])}},v=function(e){var t,n=m[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return m[e]=n[0],!0}},y=function(e,t,n,r){v(t)&&v(n)&&v(r)&&(m[e]=m[t]+" "+m[n]+" "+m[r],delete m[t],delete m[n],delete m[r])},b=function(e){return d=!0,l[e]},C=function(e,t){return d&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return l[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},x=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},w=function(e){return e.replace(/\\[0-9a-f]+/gi,x)},E=function(t,n,r,o,i,a){if(i=i||a)return i=C(i),"'"+i.replace(/\'/g,"\\'")+"'";if(n=C(n||r||o),!e.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return p&&(n=p.call(g,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,b).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,b)});r=c.exec(t);)if(c.lastIndex=r.index+r[0].length,o=r[1].replace(s,"").toLowerCase(),i=r[2].replace(s,""),o&&i){if(o=w(o),i=w(i),o.indexOf(f)!==-1||o.indexOf('"')!==-1)continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(i)))continue;"font-weight"===o&&"700"===i?i="bold":"color"!==o&&"background-color"!==o||(i=i.toLowerCase()),i=i.replace(a,is),i=i.replace(u,E),m[o]=d?C(i,!0):i}h("border","",!0),h("border","-width"),h("border","-color"),h("border","-style"),h("padding",""),h("margin",""),y("border","border-width","border-style","border-color"),"medium none"===m.border&&delete m.border,"none"===m["border-image"]&&delete m["border-image"]}return m},serialize:function(e,t){var n,r,a="",u=function(t){var n,r,i,u;if(n=o[t])for(r=0,i=n.length;r<i;r++)t=n[r],u=e[t],u&&(a+=(a.length>0?" ":"")+t+": "+u+";")},c=function(e,t){var n;return n=i["*"],(!n||!n[e])&&(n=i[t],!n||!n[e])};if(t&&o)u("*"),u(t);else for(n in e)r=e[n],!r||i&&!c(n,t)||(a+=(a.length>0?" ":"")+n+": "+r+";");return a}}}function E(e,t,n){var r=function(){return Bl(e)?0===t:0===t},o=function(){return Bl(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var n;return n=Ol(e.ownerDocument),n.setStart(e,t),n.setEnd(e,t),n},a=function(){return n||(n=Vl(E(e,t))),n},u=function(){return a().length>0},c=function(n){return n&&e===n.container()&&t===n.offset()},s=function(n){return _l(e,n?t-1:t)};return{container:wl.constant(e),offset:wl.constant(t),toRange:i,getClientRects:a,isVisible:u,isAtStart:r,isAtEnd:o,isEqual:c,getNode:s}}function N(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return a(n).getOr("")},r=function(e){try{return o(e)}catch(t){return Oe.none()}},o=function(t){return e(t)?Oe.from(t.dom().nodeValue):Oe.none()},i=yi.detect().browser,a=i.isIE()&&10===i.version.major?r:o,u=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r};return{get:n,getOption:a,set:u}}function S(e){var t,n,r,o,i,a=[];return e=e||{},t=e.indent,n=cg(e.indent_before||""),r=cg(e.indent_after||""),o=Xc.getEncodeFunc(e.entity_encoding||"raw",e.entities),i="html"===e.element_format,{start:function(e,u,c){var s,l,f,d;if(t&&n[e]&&a.length>0&&(d=a[a.length-1],d.length>0&&"\n"!==d&&a.push("\n")),a.push("<",e),u)for(s=0,l=u.length;s<l;s++)f=u[s],a.push(" ",f.name,'="',o(f.value,!0),'"');!c||i?a[a.length]=">":a[a.length]=" />",c&&t&&r[e]&&a.length>0&&(d=a[a.length-1],d.length>0&&"\n"!==d&&a.push("\n"))},end:function(e){var n;a.push("</",e,">"),t&&r[e]&&a.length>0&&(n=a[a.length-1],n.length>0&&"\n"!==n&&a.push("\n"))},text:function(e,t){e.length>0&&(a[a.length]=t?e:o(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("<!--",e,"-->")},pi:function(e,n){n?a.push("<?",e," ",o(n),"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}}function k(e,t){void 0===t&&(t=x());var n=S(e);e=e||{},e.validate=!("validate"in e)||e.validate;var r=function(r){var o,i;i=e.validate,o={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do a(e);while(e=e.next)}},n.reset();var a=function(e){var r,u,c,s,l,f,d,m,p,g=o[e.type];if(g)g(e);else{if(r=e.name,u=e.shortEnded,c=e.attributes,i&&c&&c.length>1&&(f=[],f.map={},p=t.getElementRule(e.name))){for(d=0,m=p.attributesOrder.length;d<m;d++)s=p.attributesOrder[d],s in c.map&&(l=c.map[s],f.map[s]=l,f.push({name:s,value:l}));for(d=0,m=c.length;d<m;d++)s=c[d].name,s in f.map||(l=c.map[s],f.map[s]=l,f.push({name:s,value:l}));c=f}if(n.start(e.name,c,u),!u){if(e=e.firstChild)do a(e);while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?o[11](r):a(r),n.getContent()};return{serialize:r}}function T(e,t,n,r,o){return e(n,r)?Oe.some(n):Mi.isFunction(o)&&o(n)?Oe.none():t(n,r,o)}function A(e){var t,n,r,o,i={state:{},exec:{},value:{}},a=e.settings;e.on("PreInit",function(){t=e.dom,n=e.selection,a=e.settings,r=e.formatter});var u=function(t,n,r,o){var a,u,c=!1;if(!e.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||o&&o.skip_focus?hw.restore(e):e.focus(),o=e.fire("BeforeExecCommand",{command:t,ui:n,value:r}),o.isDefaultPrevented())return!1;if(u=t.toLowerCase(),a=i.exec[u])return a(u,n,r),e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(bw(e.plugins,function(o){if(o.execCommand&&o.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),c=!0,!1}),c)return c;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{c=e.getDoc().execCommand(t,n,r)}catch(s){}return!!c&&(e.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}},c=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=i.state[t])return n(t);try{return e.getDoc().queryCommandState(t)}catch(r){}return!1}},s=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=i.value[t])return n(t);try{return e.getDoc().queryCommandValue(t)}catch(r){}}},l=function(e,t){t=t||"exec",bw(e,function(e,n){bw(n.toLowerCase().split(","),function(n){i[t][n]=e})})},f=function(t,n,r){t=t.toLowerCase(),i.exec[t]=function(t,o,i,a){return n.call(r||e,o,i,a)}},d=function(t){if(t=t.toLowerCase(),i.exec[t])return!0;try{return e.getDoc().queryCommandSupported(t)}catch(n){}return!1},m=function(t,n,r){t=t.toLowerCase(),i.state[t]=function(){return n.call(r||e)}},p=function(t,n,r){t=t.toLowerCase(),i.value[t]=function(){return n.call(r||e)}},g=function(e){return e=e.toLowerCase(),!!i.exec[e]};Cw(this,{execCommand:u,queryCommandState:c,queryCommandValue:s,queryCommandSupported:d,addCommands:l,addCommand:f,addQueryStateHandler:m,addQueryValueHandler:p,hasCustomCommand:g});var h=function(t,n,r){return void 0===n&&(n=Sw),void 0===r&&(r=null),e.getDoc().execCommand(t,n,r)},v=function(e){return r.match(e)},y=function(t,n){r.toggle(t,n?{value:n}:void 0),e.nodeChanged()},b=function(e){o=n.getBookmark(e)},C=function(){n.moveToBookmark(o)};l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(t){var n,r=e.getDoc();try{h(t)}catch(o){n=Nw}if("paste"!==t||r.queryCommandEnabled(t)||(n=!0),n||!r.queryCommandSupported(t)){var i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");Rt.mac&&(i=i.replace(/Ctrl\+/g,"+")),e.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(n.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}r.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),bw("left,center,right,justify".split(","),function(e){t!==e&&r.remove("align"+e)}),"none"!==t&&y("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){var r,o;h(e),r=t.getParent(n.getNode(),"ol,ul"),r&&(o=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName)&&(b(),t.split(o,r),C()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){y(e)},"ForeColor,HiliteColor,FontName":function(e,t,n){y(e,n)},FontSize:function(e,t,n){var r,o;n>=1&&n<=7&&(o=Ew(a.font_size_style_values),r=Ew(a.font_size_classes),n=r?r[n-1]||n:o[n-1]||n),y(e,n)},RemoveFormat:function(e){r.remove(e)},mceBlockQuote:function(){y("blockquote")},FormatBlock:function(e,t,n){return y(n||"p")},mceCleanup:function(){var t=n.getBookmark();e.setContent(e.getContent({cleanup:Nw}),{cleanup:Nw}),n.moveToBookmark(t)},mceRemoveNode:function(t,r,o){var i=o||n.getNode();i!==e.getBody()&&(b(),e.dom.remove(i,Nw),C())},mceSelectNodeDepth:function(r,o,i){var a=0;t.getParent(n.getNode(),function(e){if(1===e.nodeType&&a++===i)return n.select(e),Sw},e.getBody())},mceSelectNode:function(e,t,r){n.select(r)},mceInsertContent:function(t,n,r){Cg.insertAtCaret(e,r)},mceInsertRawHTML:function(t,r,o){n.setContent("tiny_mce_marker"),e.setContent(e.getContent().replace(/tiny_mce_marker/g,function(){return o}))},mceToggleFormat:function(e,t,n){y(n)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){yw(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,r,o){e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(e,o,i){var a;"string"==typeof i&&(i={href:i}),a=t.getParent(n.getNode(),"a"),i.href=i.href.replace(" ","%20"),a&&i.href||r.remove("link"),i.href&&r.apply("link",i,a)},selectAll:function(){var e=t.getParent(n.getStart(),Bc.isContentEditableTrue);if(e){var r=t.createRng();r.selectNodeContents(e),n.setRng(r)}},"delete":function(){px.deleteCommand(e)},forwardDelete:function(){px.forwardDeleteCommand(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return jx.insert(e,r),!0}}),l({"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull":function(e){var o="align"+e.substring(7),i=n.isCollapsed()?[t.getParent(n.getNode(),t.isBlock)]:n.getSelectedBlocks(),a=xw(i,function(e){return!!r.matchNode(e,o)});return ww(a,Nw)!==-1},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return v(e)},mceBlockQuote:function(){return v("blockquote")},Outdent:function(){var e;if(a.inline_styles){if((e=t.getParent(n.getStart(),t.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return Nw;if((e=t.getParent(n.getEnd(),t.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return Nw}return c("InsertUnorderedList")||c("InsertOrderedList")||!a.inline_styles&&!!t.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var r=t.getParent(n.getNode(),"ul,ol");return r&&("insertunorderedlist"===e&&"UL"===r.tagName||"insertorderedlist"===e&&"OL"===r.tagName)}},"state"),l({"FontSize,FontName":function(e){var r,o=0;return(r=t.getParent(n.getNode(),"span"))&&(o="fontsize"===e?r.style.fontSize:r.style.fontFamily.replace(/, /g,",").replace(/[\'\"]/g,"").toLowerCase()),o}},"value"),l({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}})}function B(e){var t=this,n={},r=[],o=function(e){var t,n,r={};Vw(Hw(e,"+"),function(e){e in $w?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=jw[e]||e.toUpperCase().charCodeAt(0))}),t=[r.keyCode];for(n in $w)r[n]?t.push(n):r[n]=!1;return r.id=t.join(","),r.access&&(r.alt=!0,Rt.mac?r.ctrl=!0:r.shift=!0),r.meta&&(Rt.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},i=function(t,n,r,i){var a;return a=kr.map(Hw(t,">"),o),a[a.length-1]=kr.extend(a[a.length-1],{func:r,scope:i||e}),kr.extend(a[0],{desc:e.translate(n),subpatterns:a.slice(1)})},a=function(e){return e.altKey||e.ctrlKey||e.metaKey},u=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},c=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},s=function(e){return e.func?e.func.call(e.scope):null};e.on("keyup keypress keydown",function(e){!a(e)&&!u(e)||e.isDefaultPrevented()||(Vw(n,function(t){if(c(e,t))return r=t.subpatterns.slice(0),"keydown"===e.type&&s(t),!0}),c(e,r[0])&&(1===r.length&&"keydown"===e.type&&s(r[0]),r.shift()))}),t.add=function(t,r,o,a){var u;return u=o,"string"==typeof o?o=function(){e.execCommand(u,!1,null)}:kr.isArray(u)&&(o=function(){e.execCommand(u[0],u[1],u[2])}),Vw(Hw(kr.trim(t.toLowerCase())),function(e){var t=i(e,r,o,a);n[t.id]=t}),!0},t.remove=function(e){var t=i(e);return!!n[t.id]&&(delete n[t.id],!0)}}function R(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}function D(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():R()},r=function(){return Oe.from(t[0])},o=function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)},i=function(){t.length>0&&n().reposition(t)},a=function(e){t.push(e)},u=function(e){lt.findIndex(t,function(t){return t===e}).each(function(e){t.splice(e,1)})},c=function(r){if(!e.removed&&DE.isEditorAttachedToDom(e))return lt.find(t,function(e){return o(n().getArgs(e),r)}).getOrThunk(function(){e.editorManager.setActive(e);var t=n().open(r,function(){u(t),i()});return a(t),i(),t})},s=function(){r().each(function(e){n().close(e),u(e),i()})},l=function(){return t},f=function(e){e.on("SkinLoaded",function(){var t=e.settings.service_message;t&&c({text:t,type:"warning",timeout:0,icon:""})}),e.on("ResizeEditor ResizeWindow",function(){Ut.requestAnimationFrame(i)}),e.on("remove",function(){lt.each(t,function(e){n().close(e)})})};return f(e),{open:c,close:s,getNotifications:l}}function _(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}function O(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():_()},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},o=function(t){e.fire("OpenWindow",{win:t})},i=function(t){e.fire("CloseWindow",{win:t})},a=function(e){t.push(e),o(e)},u=function(n){lt.findIndex(t,function(e){return e===n}).each(function(r){t.splice(r,1),i(n),0===t.length&&e.focus()})},c=function(){return Oe.from(t[t.length-1])},s=function(t,r){e.editorManager.setActive(e),hw.store(e);var o=n().open(t,r,u);return a(o),o},l=function(e,t,o){var i=n().alert(e,r(o?o:this,t),u);a(i)},f=function(e,t,o){var i=n().confirm(e,r(o?o:this,t),u);a(i)},d=function(){c().each(function(e){n().close(e),u(e)})},m=function(){return c().map(n().getParams).getOr(null)},p=function(e){c().each(function(t){n().setParams(t,e)})},g=function(){return t};return e.on("remove",function(){lt.each(t.slice(0),function(e){n().close(e)})}),{windows:t,open:s,alert:l,confirm:f,close:d,getParams:m,setParams:p,getWindows:g}}function P(){var e=Ct.getOrDie("XMLHttpRequest");return new e}function L(e,t){var n={},r=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},o=function(e,n,o,i){var a,u;a=new P,a.open("POST",t.url),a.withCredentials=t.credentials,a.upload.onprogress=function(e){i(e.loaded/e.total*100)},a.onerror=function(){o("Image upload failed due to a XHR Transport error. Code: "+a.status)},a.onload=function(){var e;return a.status<200||a.status>=300?void o("HTTP Error: "+a.status):(e=JSON.parse(a.responseText),e&&"string"==typeof e.location?void n(r(t.basePath,e.location)):void o("Invalid JSON: "+a.responseText))},u=new FormData,u.append("file",e.blob(),e.filename()),a.send(u)},i=function(){return new _t(function(e){e([])})},a=function(e,t){return{url:t,blobInfo:e,status:!0}},u=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},c=function(e,t){kr.each(n[e],function(e){e(t)}),delete n[e]},s=function(t,n,r){return e.markPending(t.blobUri()),new _t(function(o){var i,s,l=function(){};try{var f=function(){i&&(i.close(),s=l)},d=function(n){f(),e.markUploaded(t.blobUri(),n),c(t.blobUri(),a(t,n)),o(a(t,n))},m=function(n){f(),e.removeFailed(t.blobUri()),c(t.blobUri(),u(t,n)),o(u(t,n))};s=function(e){e<0||e>100||(i||(i=r()),i.progressBar.value(e))},n(t,d,m,s)}catch(p){o(u(t,p.message))}})},l=function(e){return e===o},f=function(e){var t=e.blobUri();return new _t(function(e){n[t]=n[t]||[],n[t].push(e)})},d=function(n,r){return n=kr.grep(n,function(t){return!e.isUploaded(t.blobUri())}),_t.all(kr.map(n,function(n){return e.isPending(n.blobUri())?f(n):s(n,t.handler,r)}))},m=function(e,n){return!t.url&&l(t.handler)?i():d(e,n)};return t=kr.extend({credentials:!1,handler:o},t),{upload:m}}function I(e,t){var n=Ct.getOrDie("Blob");return new n(e,t)}function M(){var e=Ct.getOrDie("FileReader");return new e}function F(e){var t=Ct.getOrDie("Uint8Array");return new t(e)}function U(e,t){var n={},r=function(r,o){var i,a;return o||(o=wl.constant(!0)),i=mr.filter(tN(r),function(t){var n=t.src;return!!Rt.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===Rt.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n):0===n.indexOf("data:")&&o(t)))))}),a=mr.map(i,function(e){var r;return n[e.src]?new _t(function(t){n[e.src].then(function(n){return"string"==typeof n?n:void t({image:e,blobInfo:n.blobInfo})})}):(r=new _t(function(n,r){eN(t,e,n,r)}).then(function(e){return delete n[e.image.src],e})["catch"](function(t){return delete n[e.src],t}),n[e.src]=r,r)}),_t.all(a)};return{findAll:r}}function z(){var e=[],t=wl.constant,n=function(e){var t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"};return t[e.toLowerCase()]||"dat"},r=function(e,t,n,r){return o("object"==typeof e?e:{id:e,name:r,blob:t,base64:n})},o=function(e){var r,o;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return r=e.id||iN.uuid("blobid"),o=e.name||r,{id:t(r),name:t(o),filename:t(o+"."+n(e.blob.type)),blob:t(e.blob),base64:t(e.base64),blobUri:t(e.blobUri||Nt.createObjectURL(e.blob)),uri:t(e.uri)}},i=function(t){a(t.id())||e.push(t)},a=function(e){return u(function(t){return t.id()===e})},u=function(t){return mr.filter(e,t)[0]},c=function(e){return u(function(t){return t.blobUri()===e})},s=function(t){e=mr.filter(e,function(e){return e.blobUri()!==t||(Nt.revokeObjectURL(e.blobUri()),!1)})},l=function(){mr.each(e,function(e){Nt.revokeObjectURL(e.blobUri());
}),e=[]};return{create:r,add:i,get:a,getByUri:c,findFirst:u,removeByUri:s,destroy:l}}function q(){var e=1,t=2,n={},r=function(e,t){return{status:e,resultUri:t}},o=function(e){return e in n},i=function(e){var t=n[e];return t?t.resultUri:null},a=function(t){return!!o(t)&&n[t].status===e},u=function(e){return!!o(e)&&n[e].status===t},c=function(t){n[t]=r(e,null)},s=function(e,o){n[e]=r(t,o)},l=function(e){delete n[e]},f=function(){n={}};return{hasBlobUri:o,getResultUri:i,isPending:a,isUploaded:u,markPending:c,markUploaded:s,removeFailed:l,destroy:f}}function V(e){var t,n,r=z(),o=e.settings,i=q(),a=function(t){return function(n){return e.selection?t(n):[]}},u=function(){return"?"+(new Date).getTime()},c=function(e,t,n){var r=0;do r=e.indexOf(t,r),r!==-1&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1);while(r!==-1);return e},s=function(e,t,n){return e=c(e,'src="'+t+'"','src="'+n+'"'),e=c(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},l=function(t,n){mr.each(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=mr.map(e.fragments,function(e){return s(e,t,n)}):e.content=s(e.content,t,n)})},f=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},d=function(t,n){r.removeByUri(t.src),l(t.src,n),e.$(t).attr({src:o.images_reuse_filename?n+u():n,"data-mce-src":e.convertURL(n,"src")})},m=function(n){return t||(t=L(i,{url:o.images_upload_url,basePath:o.images_upload_base_path,credentials:o.images_upload_credentials,handler:o.images_upload_handler})),h().then(a(function(r){var o;return o=mr.map(r,function(e){return e.blobInfo}),t.upload(o,f).then(a(function(t){var o=mr.map(t,function(t,n){var o=r[n].image;return t.status&&e.settings.images_replace_blob_uris!==!1?d(o,t.url):t.error&&zE.uploadError(e,t.error),{element:o,status:t.status}});return n&&n(o),o}))}))},p=function(e){if(o.automatic_uploads!==!1)return m(e)},g=function(e){return!o.images_dataimg_filter||o.images_dataimg_filter(e)},h=function(){return n||(n=U(i,r)),n.findAll(e.getBody(),g).then(a(function(t){return t=mr.filter(t,function(t){return"string"!=typeof t||(zE.displayError(e,t),!1)}),mr.each(t,function(e){l(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},v=function(){r.destroy(),i.destroy(),n=t=null},y=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var o=i.getResultUri(n);if(o)return'src="'+o+'"';var a=r.getByUri(n);return a||(a=mr.reduce(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),a?'src="data:'+a.blob().type+";base64,"+a.base64()+'"':t})};return e.on("setContent",function(){e.settings.automatic_uploads!==!1?p():h()}),e.on("RawSaveContent",function(e){e.content=y(e.content)}),e.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=y(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){mr.each(e,function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=i.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:r,uploadImages:m,uploadImagesAuto:p,scanForImages:h,destroy:v}}function H(e){var t,n=[],r=function(t){var r,o;if(o=e.$(t).parentsUntil(e.getBody()).add(t),o.length===n.length){for(r=o.length;r>=0&&o[r]===n[r];r--);if(r===-1)return n=o,!0}return n=o,!1};"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",function(n){var r,o;r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset},"nodechange"!==n.type&&hx.isEq(o,t)||e.fire("SelectionChange"),t=o}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!Rt.range&&e.selection.isCollapsed()||!r(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("MouseUp",function(t){t.isDefaultPrevented()||("IMG"===e.selection.getNode().nodeName?Ut.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())}),this.nodeChanged=function(t){var n,r,o,i=e.selection;e.initialized&&i&&!e.settings.disable_nodechange&&!e.readonly&&(o=e.getBody(),n=i.getStart(!0)||o,n.ownerDocument===e.getDoc()&&e.dom.isChildOf(n,o)||(n=o),r=[],e.dom.getParent(n,function(e){return e===o||void r.push(e)}),t=t||{},t.element=n,t.parents=r,e.fire("NodeChange",t))}}function j(e,t){void 0===t&&(t=x());var n=function(){};e=e||{},e.fix_self_closing!==!1&&(e.fix_self_closing=!0),SS("comment cdata text start end pi doctype".split(" "),function(t){t&&(self[t]=e[t]||n)});var r=e.comment?e.comment:n,o=e.cdata?e.cdata:n,i=e.text?e.text:n,a=e.start?e.start:n,u=e.end?e.end:n,c=e.pi?e.pi:n,s=e.doctype?e.doctype:n,l=function(n){var l,f,d,m,p,g,h,v,y,b,C,x,w,E,N,S,k,T,A,B,R,D,_,O,P,L,I,M,F,U,z=0,q=[],V=0,H=Xc.decode,j=kr.makeMap("src,href,data,background,formaction,poster"),$=/((java|vb)script|mhtml):/i,W=/^data:/i,K=function(e){var t,n;for(t=q.length;t--&&q[t].name!==e;);if(t>=0){for(n=q.length-1;n>=t;n--)e=q[n],e.valid&&u(e.name);q.length=t}},X=function(t,n,r,o,i){var a,u,c=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),r=n in C?n:H(r||o||i||""),w&&!v&&kS(n)===!1){if(a=T[n],!a&&A){for(u=A.length;u--&&(a=A[u],!a.pattern.test(n)););u===-1&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(j[n]&&!e.allow_script_urls){var s=r.replace(c,"");try{s=decodeURIComponent(s)}catch(l){s=unescape(s)}if($.test(s))return;if(!e.allow_html_data_urls&&W.test(s)&&!/^data:image\//i.test(s))return}v&&(n in j||0===n.indexOf("on"))||(m.map[n]=r,m.push({name:n,value:r}))};for(L=new RegExp("<(?:(?:!--([\\w\\W]*?)-->)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),I=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,b=t.getShortEndedElements(),P=e.self_closing_elements||t.getSelfClosingElements(),C=t.getBoolAttrs(),w=e.validate,y=e.remove_internals,U=e.fix_self_closing,M=t.getSpecialElements(),_=n+">";l=L.exec(_);){if(z<l.index&&i(H(n.substr(z,l.index-z))),f=l[6])f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),K(f);else if(f=l[7]){if(l.index+l[0].length>n.length){i(H(n.substr(l.index))),z=l.index+l[0].length;continue}if(f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),x=f in b,U&&P[f]&&q.length>0&&q[q.length-1].name===f&&K(f),!w||(E=t.getElementRule(f))){if(N=!0,w&&(T=E.attributes,A=E.attributePatterns),(k=l[8])?(v=k.indexOf("data-mce-type")!==-1,v&&y&&(N=!1),m=[],m.map={},k.replace(I,X)):(m=[],m.map={}),w&&!v){if(B=E.attributesRequired,R=E.attributesDefault,D=E.attributesForced,O=E.removeEmptyAttrs,O&&!m.length&&(N=!1),D)for(p=D.length;p--;)S=D[p],h=S.name,F=S.value,"{$uid}"===F&&(F="mce_"+V++),m.map[h]=F,m.push({name:h,value:F});if(R)for(p=R.length;p--;)S=R[p],h=S.name,h in m.map||(F=S.value,"{$uid}"===F&&(F="mce_"+V++),m.map[h]=F,m.push({name:h,value:F}));if(B){for(p=B.length;p--&&!(B[p]in m.map););p===-1&&(N=!1)}if(S=m.map["data-mce-bogus"]){if("all"===S){z=AS(t,n,L.lastIndex),L.lastIndex=z;continue}N=!1}}N&&a(f,m,x)}else N=!1;if(d=M[f]){d.lastIndex=z=l.index+l[0].length,(l=d.exec(n))?(N&&(g=n.substr(z,l.index-z)),z=l.index+l[0].length):(g=n.substr(z),z=n.length),N&&(g.length>0&&i(g,!0),u(f)),L.lastIndex=z;continue}x||(k&&k.indexOf("/")===k.length-1?N&&u(f):q.push({name:f,valid:N}))}else(f=l[1])?(">"===f.charAt(0)&&(f=" "+f),e.allow_conditional_comments||"[if"!==f.substr(0,3).toLowerCase()||(f=" "+f),r(f)):(f=l[2])?o(TS(f)):(f=l[3])?s(f):(f=l[4])&&c(f,l[5]);z=l.index+l[0].length}for(z<n.length&&i(H(n.substr(z))),p=q.length-1;p>=0;p--)f=q[p],f.valid&&u(f.name)};return{parse:l}}function $(e){var t,n,r=this,o=0,i=[],a=0,u=function(){return 0===a},c=function(e){u()&&(r.typing=e)},s=function(t){e.setDirty(t)},l=function(e){c(!1),r.add({},e)},f=function(){r.typing&&(c(!1),r.add())};return e.on("init",function(){r.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(f(),r.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&l(e)}),e.on("ObjectResizeStart Cut",function(){r.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("DragEnd",l),e.on("KeyUp",function(t){var o=t.keyCode;t.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||t.ctrlKey)&&(l(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),n&&r.typing&&ek.isEq(ek.createFromEditor(e),i[0])===!1&&(e.isDirty()===!1&&(s(!0),e.fire("change",{level:i[0],lastLevel:null})),e.fire("TypingUndo"),n=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&t<=36||t>=37&&t<=40||45===t)return void(r.typing&&l(e));var o=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224===t||91===t||r.typing||o||(r.beforeChange(),c(!0),r.add({},e),n=!0)}}),e.on("MouseDown",function(e){r.typing&&l(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),r={data:i,typing:!1,beforeChange:function(){u()&&(t=vp.getUndoBookmark(e.selection))},add:function(n,r){var a,c,l,f=e.settings;if(l=ek.createFromEditor(e),n=n||{},n=kr.extend(n,l),u()===!1||e.removed)return null;if(c=i[o],e.fire("BeforeAddUndo",{level:n,lastLevel:c,originalEvent:r}).isDefaultPrevented())return null;if(c&&ek.isEq(c,n))return null;if(i[o]&&(i[o].beforeBookmark=t),f.custom_undo_redo_levels&&i.length>f.custom_undo_redo_levels){for(a=0;a<i.length-1;a++)i[a]=i[a+1];i.length--,o=i.length}n.bookmark=vp.getUndoBookmark(e.selection),o<i.length-1&&(i.length=o+1),i.push(n),o=i.length-1;var d={level:n,lastLevel:c,originalEvent:r};return e.fire("AddUndo",d),o>0&&(s(!0),e.fire("change",d)),n},undo:function(){var t;return r.typing&&(r.add(),r.typing=!1,c(!1)),o>0&&(t=i[--o],ek.applyToEditor(e,t,!0),s(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return o<i.length-1&&(t=i[++o],ek.applyToEditor(e,t,!1),s(!0),e.fire("redo",{level:t})),t},clear:function(){i=[],o=0,r.typing=!1,r.data=i,e.fire("ClearUndos")},hasUndo:function(){return o>0||r.typing&&i[0]&&!ek.isEq(ek.createFromEditor(e),i[0])},hasRedo:function(){return o<i.length-1&&!r.typing},transact:function(e){return f(),r.beforeChange(),r.ignore(e),r.add()},ignore:function(e){try{a++,e()}finally{a--}},extra:function(t,n){var a,u;r.transact(t)&&(u=i[o].bookmark,a=i[o-1],ek.applyToEditor(e,a,!0),r.transact(n)&&(i[o-1].beforeBookmark=u))}}}function W(e){var t={},n=function(e){return e?t[e]:t},r=function(e,n){e&&("string"!=typeof e?kr.each(e,function(e,t){r(t,e)}):(n=n.length?n:[n],kr.each(n,function(e){"undefined"==typeof e.deep&&(e.deep=!e.selector),"undefined"==typeof e.split&&(e.split=!e.selector||e.inline),"undefined"==typeof e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),t[e]=n))},o=function(e){return e&&t[e]&&delete t[e],t};return r(Qk.get(e.dom)),r(e.settings.formats),{get:n,register:r,unregister:o}}function K(e){var t=W(e),n=Yb(null);return fT.setup(e),Sb.setup(e),{get:t.get,register:t.register,unregister:t.unregister,apply:ke.curry(Wk.applyFormat,e),remove:ke.curry(Sk.remove,e),toggle:ke.curry(sT.toggle,e,t),match:ke.curry(eb.match,e),matchAll:ke.curry(eb.matchAll,e),matchNode:ke.curry(eb.matchNode,e),canApply:ke.curry(eb.canApply,e),formatChanged:ke.curry(Zk.formatChanged,e,n),getCssText:ke.curry(uT.getCssText,e)}}function X(e,t){void 0===t&&(t=x());var n={},r=[],o={},i={};e=e||{},e.validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var n,r,o,i,a,c,s,l,f,d,m,p,g,h,v,y;for(p=WT("tr,td,th,tbody,thead,tfoot,table"),d=t.getNonEmptyElements(),m=t.getWhiteSpaceElements(),g=t.getTextBlockElements(),h=t.getSpecialElements(),n=0;n<e.length;n++)if(r=e[n],r.parent&&!r.fixed)if(g[r.name]&&"li"===r.parent.name){for(v=r.next;v&&g[v.name];)v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!t.isValidChild(o.name,r.name)&&!p[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),a=c=u(i[0].clone()),f=0;f<i.length-1;f++){for(t.isValidChild(c.name,i[f].name)?(s=u(i[f].clone()),c.append(s)):s=c,l=i[f].firstChild;l&&l!==i[f+1];)y=l.next,s.append(l),l=y;c=s}HT(t,d,m,a)?o.insert(r,i[0],!0):(o.insert(a,i[0],!0),o.insert(r,a)),o=i[0],(HT(t,d,m,o)||qT(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if(v=r.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if(v=r.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(u(new FT("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(u(new FT("div",1))):h[r.name]?r.empty().remove():r.unwrap()}}},u=function(e){var t,a,u;a in n&&(u=o[a],u?u.push(e):o[a]=[e]),t=r.length;for(;t--;)a=r[t].name,a in e.attributes.map&&(u=i[a],u?u.push(e):i[a]=[e]);return e},c=function(e,t){KT(XT(e),function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)})},s=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},l=function(e,t){KT(XT(e),function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})})},f=function(){return[].concat(r)},d=function(u,c){var s,l,f,d,m,p,g,h,v,y,b,C=[];c=c||{},o={},i={},v=YT(WT("script,style,head,html,body,title,meta,param"),t.getBlockElements());var x=t.getNonEmptyElements(),w=t.children,E=e.validate,N="forced_root_block"in c?c.forced_root_block:e.forced_root_block,S=t.getWhiteSpaceElements(),k=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,A=/[ \t\r\n]+/g,B=/^[ \t\r\n]+$/,R=function(){var n,r,o=P.firstChild,i=function(e){e&&(o=e.firstChild,o&&3===o.type&&(o.value=o.value.replace(k,"")),o=e.lastChild,o&&3===o.type&&(o.value=o.value.replace(T,"")))};if(t.isValidChild(P.name,N.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!v[o.name]&&!o.attr("data-mce-type")?r?r.append(o):(r=D(N,1),r.attr(e.forced_root_block_attrs),P.insert(r,o),r.append(o)):(i(r),r=null),o=n;i(r)}},D=function(e,t){var r,i=new FT(e,t);return e in n&&(r=o[e],r?r.push(i):o[e]=[i]),i},_=function(e){var n,r,o,i,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(o=n.value.replace(T,""),o.length>0)return void(n.value=o);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}},O=function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n};s=BS({validate:E,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:O(t.getSelfClosingElements()),cdata:function(e){b.append(D("#cdata",4)).value=e},text:function(e,t){var n;y||(e=e.replace(A," "),jT(b.lastChild,v)&&(e=e.replace(k,""))),0!==e.length&&(n=D("#text",3),n.raw=!!t,b.append(n).value=e)},comment:function(e){b.append(D("#comment",8)).value=e},pi:function(e,t){b.append(D(e,7)).value=t,_(b)},doctype:function(e){var t;t=b.append(D("#doctype",10)),t.value=e,_(b)},start:function(e,n,o){var a,u,c,s,l;if(c=E?t.getElementRule(e):{}){for(a=D(c.outputName||e,1),a.attributes=n,a.shortEnded=o,b.append(a),l=w[b.name],l&&w[a.name]&&!l[a.name]&&C.push(a),u=r.length;u--;)s=r[u].name,s in n.map&&(g=i[s],g?g.push(a):i[s]=[a]);v[e]&&_(a),o||(b=a),!y&&S[e]&&(y=!0)}},end:function(n){var r,o,i,a,u;if(o=E?t.getElementRule(n):{}){if(v[n]&&!y){if(r=b.firstChild,r&&3===r.type)if(i=r.value.replace(k,""),i.length>0)r.value=i,r=r.next;else for(a=r.next,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.next,(0===i.length||B.test(i))&&(r.remove(),r=a),r=a;if(r=b.lastChild,r&&3===r.type)if(i=r.value.replace(T,""),i.length>0)r.value=i,r=r.prev;else for(a=r.prev,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.prev,(0===i.length||B.test(i))&&(r.remove(),r=a),r=a}if(y&&S[n]&&(y=!1),o.removeEmpty&&HT(t,x,S,b)&&!b.attributes.map.name&&!b.attr("id"))return u=b.parent,v[b.name]?b.empty().remove():b.unwrap(),void(b=u);o.paddEmpty&&(zT(b)||HT(t,x,S,b))&&UT(e,c,v,b),b=b.parent}}},t);var P=b=new FT(c.context||e.root_name,11);if(s.parse(u),E&&C.length&&(c.context?c.invalid=!0:a(C)),N&&("body"===P.name||c.isRootContent)&&R(),!c.invalid){for(h in o){for(g=n[h],l=o[h],m=l.length;m--;)l[m].parent||l.splice(m,1);for(f=0,d=g.length;f<d;f++)g[f](l,h,c)}for(f=0,d=r.length;f<d;f++)if(g=r[f],g.name in i){for(l=i[g.name],m=l.length;m--;)l[m].parent||l.splice(m,1);for(m=0,p=g.callbacks.length;m<p;m++)g.callbacks[m](l,g.name,c)}}return P},m={schema:t,addAttributeFilter:l,getAttributeFilters:f,addNodeFilter:c,getNodeFilters:s,filterNode:u,parse:d};return $T(m,e),PT.register(m,e),m}function Y(e,t){var n,r,o,i=["data-mce-selected"];n=t&&t.dom?t.dom:gs.DOM,r=t&&t.schema?t.schema:x(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,o=X(e,r),NT.register(o,e,n);var a=function(i,a){var u=vT.merge({format:"html"},a?a:{}),c=AT.process(t,i,u),s=JT(n,c,u),l=QT(o,n,s,u);return"tree"===u.format?l:tA(t,e,r,l,u)};return{schema:r,addNodeFilter:o.addNodeFilter,addAttributeFilter:o.addAttributeFilter,serialize:a,addRules:function(e){r.addValidElements(e)},setRules:function(e){r.setValidElements(e)},addTempAttr:ke.curry(GT,o,i),getTempAttrs:function(){return i}}}function G(e,t){var n=Y(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}}function Z(e){return{getBookmark:ke.curry(Dp.getBookmark,e),moveToBookmark:ke.curry(Dp.moveToBookmark,e)}}function J(e){var t=kr.each,n=bS.BACKSPACE,r=bS.DELETE,o=e.dom,i=e.selection,a=e.settings,u=e.parser,c=Rt.gecko,s=Rt.ie,l=Rt.webkit,f="data:text/mce-internal,",d=s?"Text":"URL",m=function(t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},p=function(e){return e.isDefaultPrevented()},g=function(t){var n,r;t.dataTransfer&&(e.selection.isCollapsed()&&"IMG"===t.target.tagName&&i.select(t.target),n=e.selection.getContent(),n.length>0&&(r=f+escape(e.id)+","+escape(n),t.dataTransfer.setData(d,r)))},h=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(d),t&&t.indexOf(f)>=0)?(t=t.substr(f.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},v=function(t,n){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:t,internal:n}):e.execCommand("mceInsertContent",!1,t)},y=function(){var t=function(e){var t=o.create("body"),n=e.cloneContents();return t.appendChild(n),i.serializer.serialize(t,{format:"html"})},a=function(n){var r=t(n),i=o.createRng();i.selectNode(e.getBody());var a=t(i);return r===a};e.on("keydown",function(t){var i,u,c=t.keyCode;if(!p(t)&&(c===r||c===n)){if(i=e.selection.isCollapsed(),u=e.getBody(),i&&!o.isEmpty(u))return;if(!i&&!a(e.selection.getRng()))return;t.preventDefault(),e.setContent(""),u.firstChild&&o.isBlock(u.firstChild)?e.selection.setCursorLocation(u.firstChild,0):e.selection.setCursorLocation(u,0),e.nodeChanged()}})},b=function(){e.shortcuts.add("meta+a",null,"SelectAll")},C=function(){e.settings.content_editable||o.bind(e.getDoc(),"mousedown mouseup",function(t){var n;if(t.target===e.getDoc().documentElement)if(n=i.getRng(),e.getBody().focus(),"mousedown"===t.type){if(Ds(n.startContainer))return;i.placeCaretAt(t.clientX,t.clientY)}else i.setRng(n)})},x=function(){e.on("keydown",function(t){if(!p(t)&&t.keyCode===n){if(!e.getBody().getElementsByTagName("hr").length)return;if(i.isCollapsed()&&0===i.getRng().startOffset){var r=i.getNode(),a=r.previousSibling;if("HR"===r.nodeName)return o.remove(r),void t.preventDefault();a&&a.nodeName&&"hr"===a.nodeName.toLowerCase()&&(o.remove(a),t.preventDefault())}}})},w=function(){Range.prototype.getClientRects||e.on("mousedown",function(t){if(!p(t)&&"HTML"===t.target.nodeName){var n=e.getBody();n.blur(),Ut.setEditorTimeout(e,function(){n.focus()})}})},E=function(){e.on("click",function(t){var n=t.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==o.getContentEditableParent(n)&&(t.preventDefault(),e.selection.select(n),e.nodeChanged()),"A"===n.nodeName&&o.hasClass(n,"mce-item-anchor")&&(t.preventDefault(),i.select(n))})},N=function(){var n=function(){var n=o.getAttribs(i.getStart().cloneNode(!1));return function(){var r=i.getStart();r!==e.getBody()&&(o.setAttrib(r,"style",null),t(n,function(e){r.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!i.isCollapsed()&&o.getParent(i.getStart(),o.isBlock)!==o.getParent(i.getEnd(),o.isBlock)};e.on("keypress",function(t){var o;if(!p(t)&&(8===t.keyCode||46===t.keyCode)&&r())return o=n(),e.getDoc().execCommand("delete",!1,null),o(),t.preventDefault(),!1}),o.bind(e.getDoc(),"cut",function(t){var o;!p(t)&&r()&&(o=n(),Ut.setEditorTimeout(e,function(){o()}))})},S=function(){e.on("keydown",function(e){if(!p(e)&&e.keyCode===n&&i.isCollapsed()&&0===i.getRng().startOffset){var t=i.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},k=function(){e.on("keydown",function(t){var n,r,a,u,c;if(!p(t)&&t.keyCode===bS.BACKSPACE&&(n=i.getRng(),r=n.startContainer,a=n.startOffset,u=o.getRoot(),c=r,n.collapsed&&0===a)){for(;c&&c.parentNode&&c.parentNode.firstChild===c&&c.parentNode!==u;)c=c.parentNode;"BLOCKQUOTE"===c.tagName&&(e.formatter.toggle("blockquote",null,c),n=o.createRng(),n.setStart(r,0),n.setEnd(r,0),i.setRng(n))}})},T=function(){var t=function(){m("StyleWithCSS",!1),m("enableInlineTableEditing",!1),a.object_resizing||m("enableObjectResizing",!1)};a.readonly||e.on("BeforeExecCommand MouseDown",t)},A=function(){var n=function(){t(o.select("a"),function(e){var t=e.parentNode,n=o.getRoot();if(t.lastChild===e){for(;t&&!o.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}o.add(t,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(e){"setcontent"!==e.type&&"mceInsertLink"!==e.command||n()})},B=function(){a.forced_root_block&&e.on("init",function(){m("DefaultParagraphSeparator",a.forced_root_block)})},R=function(){e.on("keyup focusin mouseup",function(e){bS.modifierPressed(e)||i.normalize()},!0)},D=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},_=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},O=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(t){var n;if("HTML"===t.target.nodeName){if(Rt.ie>11)return void e.getBody().focus();n=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(n),e.selection.normalize(),e.nodeChanged()}}))},P=function(){Rt.mac&&e.on("keydown",function(t){!bS.metaKeyPressed(t)||t.shiftKey||37!==t.keyCode&&39!==t.keyCode||(t.preventDefault(),e.selection.getSel().modify("move",37===t.keyCode?"backward":"forward","lineboundary"))})},L=function(){m("AutoUrlDetect",!1)},I=function(){e.on("click",function(e){var t=e.target;do if("A"===t.tagName)return void e.preventDefault();while(t=t.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},M=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(e){e.preventDefault()})})},F=function(){u.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})},U=function(){e.on("dragstart",function(e){g(e)}),e.on("drop",function(t){if(!p(t)){var n=h(t);if(n&&n.id!==e.id){t.preventDefault();var r=wA.fromPoint(t.x,t.y,e.getDoc());i.setRng(r),v(n.html,!0)}}})},z=function(){},q=function(){var t;return!c||e.removed?0:(t=e.selection.getSel(),!t||!t.rangeCount||0===t.rangeCount)};return k(),y(),Rt.windowsPhone||R(),l&&(C(),E(),B(),M(),S(),F(),Rt.iOS?(_(),O(),I()):b()),Rt.ie>=11&&(O(),S()),Rt.ie&&(b(),L(),U()),c&&(x(),w(),N(),T(),A(),D(),P(),S()),{refreshContentEditable:z,isHidden:q}}function Q(e){var t=function(t,n){return lk.walk(e,t,n)},n=rb.split,r=function(t){return Rx.normalize(e,t).fold(ke.constant(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})};return{walk:t,split:n,normalize:r}}var ee,te,ne,re,oe,ie,ae,ue,ce,se,le,fe,de,me=function(){},pe=function(e){return function(){return e()}},ge=function(e,t){return function(){return e(t.apply(null,arguments))}},he=function(e){return function(){return e}},ve=function(e){return e},ye=function(e,t){return e===t},be=function(e){for(var t=new Array(arguments.length-1),n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}},Ce=function(e){return function(){return!e.apply(null,arguments)}},xe=function(e){return function(){throw new Error(e)}},we=function(e){return e()},Ee=function(e){e()},Ne=he(!1),Se=he(!0),ke={noop:me,noarg:pe,compose:ge,constant:he,identity:ve,tripleEquals:ye,curry:be,not:Ce,die:xe,apply:we,call:Ee,never:Ne,always:Se},Te=ke.never,Ae=ke.always,Be=function(){return Re},Re=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r=function(){},o={fold:function(e,t){return e()},is:Te,isSome:Te,isNone:Ae,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},or:n,orThunk:t,map:Be,ap:Be,each:r,bind:Be,flatten:Be,exists:Te,forall:Ae,filter:Be,equals:e,equals_:e,toArray:function(){return[]},toString:ke.constant("none()")};return Object.freeze&&Object.freeze(o),o}(),De=function(e){var t=function(){return e},n=function(){return i},r=function(t){return De(t(e))},o=function(t){return t(e)},i={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:Ae,isNone:Te,getOr:t,getOrThunk:t,getOrDie:t,or:n,orThunk:n,map:r,ap:function(t){return t.fold(Be,function(t){return De(t(e))})},each:function(t){t(e)},bind:o,flatten:t,exists:o,forall:o,filter:function(t){return t(e)?i:Re},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(Te,function(t){return n(e,t)})},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return i},_e=function(e){return null===e||void 0===e?Re:De(e)},Oe={some:De,none:Be,from:_e},Pe=function(){var e=Array.prototype.indexOf,t=function(t,n){return e.call(t,n)},n=function(e,t){return Ge(e,t)};return void 0===e?n:t}(),Le=function(e,t){var n=Pe(e,t);return n===-1?Oe.none():Oe.some(n)},Ie=function(e,t){return Pe(e,t)>-1},Me=function(e,t){return Ye(e,t).isSome()},Fe=function(e,t){for(var n=[],r=0;r<e;r++)n.push(t(r));return n},Ue=function(e,t){for(var n=[],r=0;r<e.length;r+=t){var o=e.slice(r,r+t);n.push(o)}return n},ze=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o,e)}return r},qe=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n,e)}},Ve=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n,e)}},He=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o],u=t(a,o,e)?n:r;u.push(a)}return{pass:n,fail:r}},je=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r,e)&&n.push(i)}return n},$e=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,a=e.length;i<a;i++){var u=e[i],c=t(u);c!==n&&(r.push(o),o=[]),n=c,o.push(u)}return 0!==o.length&&r.push(o),r},We=function(e,t,n){return Ve(e,function(e){n=t(n,e)}),n},Ke=function(e,t,n){return qe(e,function(e){n=t(n,e)}),n},Xe=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return Oe.some(o)}return Oe.none()},Ye=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n,e))return Oe.some(n)}return Oe.none()},Ge=function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1},Ze=Array.prototype.push,Je=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Array.prototype.isPrototypeOf(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Ze.apply(t,e[n])}return t},Qe=function(e,t){var n=ze(e,t);return Je(n)},et=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(t(o,n,e)!==!0)return!1}return!0},tt=function(e,t){return e.length===t.length&&et(e,function(e,n){return e===t[n]})},nt=Array.prototype.slice,rt=function(e){var t=nt.call(e,0);return t.reverse(),t},ot=function(e,t){return je(e,function(e){return!Ie(t,e)})},it=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},at=function(e){return[e]},ut=function(e,t){var n=nt.call(e,0);return n.sort(t),n},ct=function(e){return 0===e.length?Oe.none():Oe.some(e[0])},st=function(e){return 0===e.length?Oe.none():Oe.some(e[e.length-1])},lt={map:ze,each:qe,eachr:Ve,partition:He,filter:je,groupBy:$e,indexOf:Le,foldr:We,foldl:Ke,find:Xe,findIndex:Ye,flatten:Je,bind:Qe,forall:et,exists:Me,contains:Ie,equal:tt,reverse:rt,chunk:Ue,difference:ot,mapToObject:it,pure:at,sort:ut,range:Fe,head:ct,last:st},ft="undefined"!=typeof window?window:Function("return this;")(),dt=function(e,t){for(var n=void 0!==t&&null!==t?t:ft,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},mt=function(e,t){var n=e.split(".");return dt(n,t)},pt=function(e,t){return void 0!==e[t]&&null!==e[t]||(e[t]={}),e[t]},gt=function(e,t){for(var n=void 0!==t?t:ft,r=0;r<e.length;++r)n=pt(n,e[r]);return n},ht=function(e,t){var n=e.split(".");return gt(n,t)},vt={path:dt,resolve:mt,forge:gt,namespace:ht},yt=function(e,t){return vt.resolve(e,t)},bt=function(e,t){var n=yt(e,t);if(void 0===n||null===n)throw e+" not available on this browser";return n},Ct={getOrDie:bt},xt=function(){return Ct.getOrDie("URL")},wt=function(e){return xt().createObjectURL(e)},Et=function(e){xt().revokeObjectURL(e)},Nt={createObjectURL:wt,revokeObjectURL:Et},St=navigator,kt=St.userAgent,Tt=function(e){return"matchMedia"in window&&matchMedia(e).matches};ee=!1,ce=/Android/.test(kt),te=/WebKit/.test(kt),ne=!te&&!ee&&/MSIE/gi.test(kt)&&/Explorer/gi.test(St.appName),ne=ne&&/MSIE (\w+)\./.exec(kt)[1],re=kt.indexOf("Trident/")!==-1&&(kt.indexOf("rv:")!==-1||St.appName.indexOf("Netscape")!==-1)&&11,oe=kt.indexOf("Edge/")!==-1&&!ne&&!re&&12,ne=ne||re||oe,ie=!te&&!re&&/Gecko/.test(kt),ae=kt.indexOf("Mac")!==-1,ue=/(iPad|iPhone)/.test(kt),se="FormData"in window&&"FileReader"in window&&"URL"in window&&!!Nt.createObjectURL,le=Tt("only screen and (max-device-width: 480px)")&&(ce||ue),fe=Tt("only screen and (min-width: 800px)")&&(ce||ue),de=kt.indexOf("Windows Phone")!==-1,oe&&(te=!1);var At,Bt=!ue||se||parseInt(kt.match(/AppleWebKit\/(\d*)/)[1],10)>=534,Rt={opera:ee,webkit:te,ie:ne,gecko:ie,mac:ae,iOS:ue,android:ce,contentEditable:Bt,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==ne,range:window.getSelection&&"Range"in window,documentMode:ne&&!oe?document.documentMode||7:10,fileApi:se,ceFalse:ne===!1||ne>8,cacheSuffix:"",container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:ne===!1||ne>11,desktop:!le&&!fe,windowsPhone:de},Dt=function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(e){var t=this;return null===this._state?void this._deferreds.push(e):void s(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(o){return void e.reject(o)}e.resolve(r)})}function n(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if("function"==typeof i)return void a(e(i,t),e(n,this),e(r,this))}this._state=!0,this._value=t,o.call(this)}catch(u){r.call(this,u)}}function r(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,n=this._deferreds.length;e<n;e++)t.call(this,this._deferreds[e]);this._deferreds=null}function i(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,
this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function a(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(o){if(r)return;r=!0,n(o)}}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(t,e(n,this),e(r,this))},s=c.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)};return c.prototype["catch"]=function(e){return this.then(null,e)},c.prototype.then=function(e,n){var r=this;return new c(function(o,a){t.call(r,new i(e,n,o,a))})},c.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new c(function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},n)}e[i]=a,0===--o&&t(e)}catch(c){n(c)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c(function(t){t(e)})},c.reject=function(e){return new c(function(t,n){n(e)})},c.race=function(e){return new c(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},c},_t=window.Promise?window.Promise:Dt(),Ot=function(e,t){var n,r=window.requestAnimationFrame,o=["ms","moz","webkit"],i=function(e){window.setTimeout(e,0)};for(n=0;n<o.length&&!r;n++)r=window[o[n]+"RequestAnimationFrame"];r||(r=i),r(e,t)},Pt=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},Lt=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},It=function(e){return clearTimeout(e)},Mt=function(e){return clearInterval(e)},Ft=function(e,t){var n,r;return r=function(){var r=arguments;clearTimeout(n),n=Pt(function(){e.apply(this,r)},t)},r.stop=function(){clearTimeout(n)},r},Ut={requestAnimationFrame:function(e,t){return At?void At.then(e):void(At=new _t(function(e){t||(t=document.body),Ot(e,t)}).then(e))},setTimeout:Pt,setInterval:Lt,setEditorTimeout:function(e,t,n){return Pt(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r;return r=Lt(function(){e.removed?clearInterval(r):t()},n)},debounce:Ft,throttle:Ft,clearInterval:Mt,clearTimeout:It},zt="mce-data-",qt=/^(?:mouse|contextmenu)|click/,Vt={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},Ht=function(e){return e.isDefaultPrevented===$t||e.isDefaultPrevented===jt},jt=function(){return!1},$t=function(){return!0},Wt=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},Kt=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Xt=function(e,t){var n,r=t;return n=e.path,n&&n.length>0&&(r=n[0]),e.composedPath&&(n=e.composedPath(),n&&n.length>0&&(r=n[0])),r},Yt=function(e,t){var n,r=t||{};for(n in e)Vt[n]||(r[n]=e[n]);if(r.target||(r.target=r.srcElement||document),Rt.experimentalShadowDom&&(r.target=Xt(e,r.target)),e&&qt.test(e.type)&&void 0===e.pageX&&void 0!==e.clientX){var o=r.target.ownerDocument||document,i=o.documentElement,a=o.body;r.pageX=e.clientX+(i&&i.scrollLeft||a&&a.scrollLeft||0)-(i&&i.clientLeft||a&&a.clientLeft||0),r.pageY=e.clientY+(i&&i.scrollTop||a&&a.scrollTop||0)-(i&&i.clientTop||a&&a.clientTop||0)}return r.preventDefault=function(){r.isDefaultPrevented=$t,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},r.stopPropagation=function(){r.isPropagationStopped=$t,e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0)},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=$t,r.stopPropagation()},Ht(r)===!1&&(r.isDefaultPrevented=jt,r.isPropagationStopped=jt,r.isImmediatePropagationStopped=jt),"undefined"==typeof r.metaKey&&(r.metaKey=!1),r},Gt=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)return void t(o);var i=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){n.domLoaded||(n.domLoaded=!0,t(o))},u=function(){i()&&(Kt(r,"readystatechange",u),a())},c=function(){try{r.documentElement.doScroll("left")}catch(e){return void Ut.setTimeout(c)}a()};!r.addEventListener||Rt.ie&&Rt.ie<11?(Wt(r,"readystatechange",u),r.documentElement.doScroll&&e.self===e.top&&c()):i()?a():Wt(e,"DOMContentLoaded",a),Wt(e,"load",a)},Zt=function(){var e,t,n,r,o,i=this,a={};t=zt+(+new Date).toString(32),r="onmouseenter"in document.documentElement,n="onfocusin"in document.documentElement,o={mouseenter:"mouseover",mouseleave:"mouseout"},e=1,i.domLoaded=!1,i.events=a;var u=function(e,t){var n,r,o,i,u=a[t];if(n=u&&u[e.type])for(r=0,o=n.length;r<o;r++)if(i=n[r],i&&i.func.call(i.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return};i.bind=function(c,s,l,f){var d,m,p,g,h,v,y,b=window,C=function(e){u(Yt(e||b.event),d)};if(c&&3!==c.nodeType&&8!==c.nodeType){for(c[t]?d=c[t]:(d=e++,c[t]=d,a[d]={}),f=f||c,s=s.split(" "),p=s.length;p--;)g=s[p],v=C,h=y=!1,"DOMContentLoaded"===g&&(g="ready"),i.domLoaded&&"ready"===g&&"complete"===c.readyState?l.call(f,Yt({type:g})):(r||(h=o[g],h&&(v=function(e){var t,n;if(t=e.currentTarget,n=e.relatedTarget,n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||(e=Yt(e||b.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,u(e,d))})),n||"focusin"!==g&&"focusout"!==g||(y=!0,h="focusin"===g?"focus":"blur",v=function(e){e=Yt(e||b.event),e.type="focus"===e.type?"focusin":"focusout",u(e,d)}),m=a[d][g],m?"ready"===g&&i.domLoaded?l({type:g}):m.push({func:l,scope:f}):(a[d][g]=m=[{func:l,scope:f}],m.fakeName=h,m.capture=y,m.nativeHandler=v,"ready"===g?Gt(c,v,i):Wt(c,h||g,v,y)));return c=m=0,l}},i.unbind=function(e,n,r){var o,u,c,s,l,f;if(!e||3===e.nodeType||8===e.nodeType)return i;if(o=e[t]){if(f=a[o],n){for(n=n.split(" "),c=n.length;c--;)if(l=n[c],u=f[l]){if(r)for(s=u.length;s--;)if(u[s].func===r){var d=u.nativeHandler,m=u.fakeName,p=u.capture;u=u.slice(0,s).concat(u.slice(s+1)),u.nativeHandler=d,u.fakeName=m,u.capture=p,f[l]=u}r&&0!==u.length||(delete f[l],Kt(e,u.fakeName||l,u.nativeHandler,u.capture))}}else{for(l in f)u=f[l],Kt(e,u.fakeName||l,u.nativeHandler,u.capture);f={}}for(l in f)return i;delete a[o];try{delete e[t]}catch(g){e[t]=null}}return i},i.fire=function(e,n,r){var o;if(!e||3===e.nodeType||8===e.nodeType)return i;r=Yt(null,r),r.type=n,r.target=e;do o=e[t],o&&u(r,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!r.isPropagationStopped());return i},i.clean=function(e){var n,r,o=i.unbind;if(!e||3===e.nodeType||8===e.nodeType)return i;if(e[t]&&o(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(o(e),r=e.getElementsByTagName("*"),n=r.length;n--;)e=r[n],e[t]&&o(e);return i},i.destroy=function(){a={}},i.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};Zt.Event=new Zt,Zt.Event.bind(window,"ready",function(){});var Jt,Qt,en,tn,nn,rn,on,an,un,cn,sn,ln,fn,dn,mn,pn,gn,hn,vn,yn="sizzle"+-new Date,bn=window.document,Cn=0,xn=0,wn=e(),En=e(),Nn=e(),Sn=function(e,t){return e===t&&(sn=!0),0},kn="undefined",Tn=1<<31,An={}.hasOwnProperty,Bn=[],Rn=Bn.pop,Dn=Bn.push,_n=Bn.push,On=Bn.slice,Pn=Bn.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Ln="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",In="[\\x20\\t\\r\\n\\f]",Mn="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",Fn="\\["+In+"*("+Mn+")(?:"+In+"*([*^$|!~]?=)"+In+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+Mn+"))|)"+In+"*\\]",Un=":("+Mn+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Fn+")*)|.*)\\)|)",zn=new RegExp("^"+In+"+|((?:^|[^\\\\])(?:\\\\.)*)"+In+"+$","g"),qn=new RegExp("^"+In+"*,"+In+"*"),Vn=new RegExp("^"+In+"*([>+~]|"+In+")"+In+"*"),Hn=new RegExp("="+In+"*([^\\]'\"]*?)"+In+"*\\]","g"),jn=new RegExp(Un),$n=new RegExp("^"+Mn+"$"),Wn={ID:new RegExp("^#("+Mn+")"),CLASS:new RegExp("^\\.("+Mn+")"),TAG:new RegExp("^("+Mn+"|[*])"),ATTR:new RegExp("^"+Fn),PSEUDO:new RegExp("^"+Un),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+In+"*(even|odd|(([+-]|)(\\d*)n|)"+In+"*(?:([+-]|)"+In+"*(\\d+)|))"+In+"*\\)|)","i"),bool:new RegExp("^(?:"+Ln+")$","i"),needsContext:new RegExp("^"+In+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+In+"*((?:-\\d)?\\d*)"+In+"*\\)|)(?=[^-]|$)","i")},Kn=/^(?:input|select|textarea|button)$/i,Xn=/^h\d$/i,Yn=/^[^{]+\{\s*\[native \w/,Gn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Zn=/[+~]/,Jn=/'|\\/g,Qn=new RegExp("\\\\([\\da-f]{1,6}"+In+"?|("+In+")|.)","ig"),er=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{_n.apply(Bn=On.call(bn.childNodes),bn.childNodes),Bn[bn.childNodes.length].nodeType}catch(tr){_n={apply:Bn.length?function(e,t){Dn.apply(e,On.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var nr=function(e,t,n,r){var o,i,u,s,l,f,d,m,p,g;if((t?t.ownerDocument||t:bn)!==fn&&ln(t),t=t||fn,n=n||[],!e||"string"!=typeof e)return n;if(1!==(s=t.nodeType)&&9!==s)return[];if(mn&&!r){if(o=Gn.exec(e))if(u=o[1]){if(9===s){if(i=t.getElementById(u),!i||!i.parentNode)return n;if(i.id===u)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(u))&&vn(t,i)&&i.id===u)return n.push(i),n}else{if(o[2])return _n.apply(n,t.getElementsByTagName(e)),n;if((u=o[3])&&Qt.getElementsByClassName)return _n.apply(n,t.getElementsByClassName(u)),n}if(Qt.qsa&&(!pn||!pn.test(e))){if(m=d=yn,p=t,g=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(f=rn(e),(d=t.getAttribute("id"))?m=d.replace(Jn,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",l=f.length;l--;)f[l]=m+c(f[l]);p=Zn.test(e)&&a(t.parentNode)||t,g=f.join(",")}if(g)try{return _n.apply(n,p.querySelectorAll(g)),n}catch(h){}finally{d||t.removeAttribute("id")}}}return an(e.replace(zn,"$1"),t,n,r)};Qt=nr.support={},nn=nr.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},ln=nr.setDocument=function(e){function t(e){try{return e.top}catch(t){}return null}var r,o=e?e.ownerDocument||e:bn,i=o.defaultView;return o!==fn&&9===o.nodeType&&o.documentElement?(fn=o,dn=o.documentElement,mn=!nn(o),i&&i!==t(i)&&(i.addEventListener?i.addEventListener("unload",function(){ln()},!1):i.attachEvent&&i.attachEvent("onunload",function(){ln()})),Qt.attributes=!0,Qt.getElementsByTagName=!0,Qt.getElementsByClassName=Yn.test(o.getElementsByClassName),Qt.getById=!0,en.find.ID=function(e,t){if(typeof t.getElementById!==kn&&mn){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},en.filter.ID=function(e){var t=e.replace(Qn,er);return function(e){return e.getAttribute("id")===t}},en.find.TAG=Qt.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==kn)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},en.find.CLASS=Qt.getElementsByClassName&&function(e,t){if(mn)return t.getElementsByClassName(e)},gn=[],pn=[],Qt.disconnectedMatch=!0,pn=pn.length&&new RegExp(pn.join("|")),gn=gn.length&&new RegExp(gn.join("|")),r=Yn.test(dn.compareDocumentPosition),vn=r||Yn.test(dn.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Sn=r?function(e,t){if(e===t)return sn=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!Qt.sortDetached&&t.compareDocumentPosition(e)===n?e===o||e.ownerDocument===bn&&vn(bn,e)?-1:t===o||t.ownerDocument===bn&&vn(bn,t)?1:cn?Pn.call(cn,e)-Pn.call(cn,t):0:4&n?-1:1)}:function(e,t){if(e===t)return sn=!0,0;var r,i=0,a=e.parentNode,u=t.parentNode,c=[e],s=[t];if(!a||!u)return e===o?-1:t===o?1:a?-1:u?1:cn?Pn.call(cn,e)-Pn.call(cn,t):0;if(a===u)return n(e,t);for(r=e;r=r.parentNode;)c.unshift(r);for(r=t;r=r.parentNode;)s.unshift(r);for(;c[i]===s[i];)i++;return i?n(c[i],s[i]):c[i]===bn?-1:s[i]===bn?1:0},o):fn},nr.matches=function(e,t){return nr(e,null,null,t)},nr.matchesSelector=function(e,t){if((e.ownerDocument||e)!==fn&&ln(e),t=t.replace(Hn,"='$1']"),Qt.matchesSelector&&mn&&(!gn||!gn.test(t))&&(!pn||!pn.test(t)))try{var n=hn.call(e,t);if(n||Qt.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return nr(t,fn,null,[e]).length>0},nr.contains=function(e,t){return(e.ownerDocument||e)!==fn&&ln(e),vn(e,t)},nr.attr=function(e,t){(e.ownerDocument||e)!==fn&&ln(e);var n=en.attrHandle[t.toLowerCase()],r=n&&An.call(en.attrHandle,t.toLowerCase())?n(e,t,!mn):void 0;return void 0!==r?r:Qt.attributes||!mn?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},nr.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},nr.uniqueSort=function(e){var t,n=[],r=0,o=0;if(sn=!Qt.detectDuplicates,cn=!Qt.sortStable&&e.slice(0),e.sort(Sn),sn){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return cn=null,e},tn=nr.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=tn(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=tn(t);return n},en=nr.selectors={cacheLength:50,createPseudo:t,match:Wn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Qn,er),e[3]=(e[3]||e[4]||e[5]||"").replace(Qn,er),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||nr.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&nr.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Wn.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&jn.test(n)&&(t=rn(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Qn,er).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=wn[e+" "];return t||(t=new RegExp("(^|"+In+")"+e+"("+In+"|$)"))&&wn(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==kn&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=nr.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var s,l,f,d,m,p,g=i!==a?"nextSibling":"previousSibling",h=t.parentNode,v=u&&t.nodeName.toLowerCase(),y=!c&&!u;if(h){if(i){for(;g;){for(f=t;f=f[g];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;p=g="only"===e&&!p&&"nextSibling"}return!0}if(p=[a?h.firstChild:h.lastChild],a&&y){for(l=h[yn]||(h[yn]={}),s=l[e]||[],m=s[0]===Cn&&s[1],d=s[0]===Cn&&s[2],f=m&&h.childNodes[m];f=++m&&f&&f[g]||(d=m=0)||p.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[Cn,m,d];break}}else if(y&&(s=(t[yn]||(t[yn]={}))[e])&&s[0]===Cn)d=s[1];else for(;(f=++m&&f&&f[g]||(d=m=0)||p.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[yn]||(f[yn]={}))[e]=[Cn,d]),f!==t)););return d-=o,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(e,n){var r,o=en.pseudos[e]||en.setFilters[e.toLowerCase()]||nr.error("unsupported pseudo: "+e);return o[yn]?o(n):o.length>1?(r=[e,e,"",n],en.setFilters.hasOwnProperty(e.toLowerCase())?t(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=Pn.call(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,r)}):o}},pseudos:{not:t(function(e){var n=[],r=[],o=on(e.replace(zn,"$1"));return o[yn]?t(function(e,t,n,r){for(var i,a=o(e,null,r,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))}):function(e,t,i){return n[0]=e,o(n,null,i,r),!r.pop()}}),has:t(function(e){return function(t){return nr(e,t).length>0}}),contains:t(function(e){return e=e.replace(Qn,er),function(t){return(t.textContent||t.innerText||tn(t)).indexOf(e)>-1}}),lang:t(function(e){return $n.test(e||"")||nr.error("unsupported lang: "+e),e=e.replace(Qn,er).toLowerCase(),function(t){var n;do if(n=mn?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(e){var t=window.location&&window.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===dn},focus:function(e){return e===fn.activeElement&&(!fn.hasFocus||fn.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!en.pseudos.empty(e)},header:function(e){return Xn.test(e.nodeName)},input:function(e){return Kn.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:i(function(){return[0]}),last:i(function(e,t){return[t-1]}),eq:i(function(e,t,n){return[n<0?n+t:n]}),even:i(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:i(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:i(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:i(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},en.pseudos.nth=en.pseudos.eq;for(Jt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})en.pseudos[Jt]=r(Jt);for(Jt in{submit:!0,reset:!0})en.pseudos[Jt]=o(Jt);u.prototype=en.filters=en.pseudos,en.setFilters=new u,rn=nr.tokenize=function(e,t){var n,r,o,i,a,u,c,s=En[e+" "];if(s)return t?0:s.slice(0);for(a=e,u=[],c=en.preFilter;a;){n&&!(r=qn.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=Vn.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(zn," ")}),a=a.slice(n.length));for(i in en.filter)!(r=Wn[i].exec(a))||c[i]&&!(r=c[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?nr.error(e):En(e,u).slice(0)},on=nr.compile=function(e,t){var n,r=[],o=[],i=Nn[e+" "];if(!i){for(t||(t=rn(e)),n=t.length;n--;)i=p(t[n]),i[yn]?r.push(i):o.push(i);i=Nn(e,g(o,r)),i.selector=e}return i},an=nr.select=function(e,t,n,r){var o,i,u,s,l,f="function"==typeof e&&e,d=!r&&rn(e=f.selector||e);if(n=n||[],1===d.length){if(i=d[0]=d[0].slice(0),i.length>2&&"ID"===(u=i[0]).type&&Qt.getById&&9===t.nodeType&&mn&&en.relative[i[1].type]){if(t=(en.find.ID(u.matches[0].replace(Qn,er),t)||[])[0],!t)return n;f&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=Wn.needsContext.test(e)?0:i.length;o--&&(u=i[o],!en.relative[s=u.type]);)if((l=en.find[s])&&(r=l(u.matches[0].replace(Qn,er),Zn.test(i[0].type)&&a(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&c(i),!e)return _n.apply(n,r),n;break}}return(f||on(e,d))(r,t,!mn,n,Zn.test(e)&&a(t.parentNode)||t),n},Qt.sortStable=yn.split("").sort(Sn).join("")===yn,Qt.detectDuplicates=!!sn,ln(),Qt.sortDetached=!0;var rr=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},or=function(e){var t,n,r=e;if(!rr(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},ir=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e)===!1)return 0}else for(r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r,e)===!1)return 0;return 1},ar=function(e,t){var n=[];return ir(e,function(r,o){n.push(t(r,o,e))}),n},ur=function(e,t){var n=[];return ir(e,function(r,o){t&&!t(r,o,e)||n.push(r)}),n},cr=function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},sr=function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},lr=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},fr=function(e,t,n){var r=lr(e,t,n);if(r!==-1)return e[r]},dr=function(e){return e[e.length-1]},mr={isArray:rr,toArray:or,each:ir,map:ar,filter:ur,indexOf:cr,reduce:sr,findIndex:lr,find:fr,last:dr},pr=/^\s*|\s*$/g,gr=function(e){return null===e||void 0===e?"":(""+e).replace(pr,"")},hr=function(e,t){return t?!("array"!==t||!mr.isArray(e))||typeof e===t:void 0!==e},vr=function(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},yr=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},br=function(e,t,n){var r,o,i,a,u,c=this,s=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),i=e[3].match(/(^|\.)(\w+)$/i)[2],o=c.createNS(e[3].replace(/\.\w+$/,""),n),!o[i]){if("static"===e[2])return o[i]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[i]));t[i]||(t[i]=function(){},s=1),o[i]=t[i],c.extend(o[i].prototype,t),e[5]&&(r=c.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],u=o[i],s?o[i]=function(){return r[a].apply(this,arguments)}:o[i]=function(){return this.parent=r[a],u.apply(this,arguments)},o[i].prototype[i]=o[i],c.each(r,function(e,t){o[i].prototype[t]=r[t]}),c.each(t,function(e,t){r[t]?o[i].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==i&&(o[i].prototype[t]=e)})),c.each(t["static"],function(e,t){o[i][t]=e})}},Cr=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o,i,a,u,c=arguments;for(o=1,i=c.length;o<i;o++){t=c[o];for(a in t)t.hasOwnProperty(a)&&(u=t[a],void 0!==u&&(e[a]=u))}return e},xr=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),mr.each(e,function(e,o){return t.call(r,e,o,n)!==!1&&void xr(e,t,n,r)}))},wr=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0;n<e.length;n++)r=e[n],t[r]||(t[r]={}),t=t[r];return t},Er=function(e,t){var n,r;for(t=t||window,e=e.split("."),n=0,r=e.length;n<r&&(t=t[e[n]],t);n++);return t},Nr=function(e,t){return!e||hr(e,"array")?e:mr.map(e.split(t||","),gr)},Sr=function(e){var t=Rt.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e},kr={trim:gr,isArray:mr.isArray,is:hr,toArray:mr.toArray,makeMap:vr,each:mr.each,map:mr.map,grep:mr.filter,inArray:mr.indexOf,hasOwn:yr,extend:Cr,create:br,walk:xr,createNS:wr,resolve:Er,explode:Nr,_addCacheSuffix:Sr},Tr=document,Ar=Array.prototype.push,Br=Array.prototype.slice,Rr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Dr=Zt.Event,_r=kr.makeMap("children,contents,next,prev"),Or=function(e){return"undefined"!=typeof e},Pr=function(e){return"string"==typeof e},Lr=function(e){return e&&e===e.window},Ir=function(e,t){var n,r,o;for(t=t||Tr,o=t.createElement("div"),n=t.createDocumentFragment(),o.innerHTML=e;r=o.firstChild;)n.appendChild(r);return n},Mr=function(e,t,n,r){var o;if(Pr(t))t=Ir(t,Jr(e[0]));else if(t.length&&!t.nodeType){if(t=Wr.makeArray(t),r)for(o=t.length-1;o>=0;o--)Mr(e,t[o],n,r);else for(o=0;o<t.length;o++)Mr(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Fr=function(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1},Ur=function(e,t,n){var r,o;return t=Wr(t)[0],e.each(function(){var e=this;n&&r===e.parentNode?o.appendChild(e):(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e),o.appendChild(e))}),e},zr=kr.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),qr=kr.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Vr={"for":"htmlFor","class":"className",readonly:"readOnly"},Hr={"float":"cssFloat"},jr={},$r={},Wr=function(e,t){return new Wr.fn.init(e,t)},Kr=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},Xr=/^\s*|\s*$/g,Yr=function(e){return null===e||void 0===e?"":(""+e).replace(Xr,"")},Gr=function(e,t){var n,r,o,i;if(e)if(n=e.length,void 0===n){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],t.call(i,r,i)===!1))break}else for(o=0;o<n&&(i=e[o],t.call(i,o,i)!==!1);o++);return e},Zr=function(e,t){var n=[];return Gr(e,function(e,r){t(r,e)&&n.push(r)}),n},Jr=function(e){return e?9===e.nodeType?e:e.ownerDocument:Tr};Wr.fn=Wr.prototype={constructor:Wr,selector:"",context:null,length:0,init:function(e,t){var n,r,o=this;if(!e)return o;if(e.nodeType)return o.context=o[0]=e,o.length=1,o;if(t&&t.nodeType)o.context=t;else{if(t)return Wr(e).attr(t);o.context=t=document}if(Pr(e)){if(o.selector=e,n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:Rr.exec(e),!n)return Wr(t).find(e);if(n[1])for(r=Ir(e,Jr(t)).firstChild;r;)Ar.call(o,r),r=r.nextSibling;else{if(r=Jr(t).getElementById(n[2]),!r)return o;if(r.id!==n[2])return o.find(e);o.length=1,o[0]=r}}else this.add(e,!1);return o},toArray:function(){return kr.toArray(this)},add:function(e,t){var n,r,o=this;if(Pr(e))return o.add(Wr(e));if(t!==!1)for(n=Wr.unique(o.toArray().concat(Wr.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else Ar.apply(o,Wr.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"==typeof e)Gr(e,function(e,t){r.attr(e,t)});else{if(!Or(t)){if(r[0]&&1===r[0].nodeType){if(n=jr[e],n&&n.get)return n.get(r[0],e);if(qr[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),null===t&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if(n=jr[e],n&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=Vr[e]||e,"object"==typeof e)Gr(e,function(e,t){n.prop(e,t)});else{if(!Or(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)Gr(e,function(e,t){o.css(e,t)});else if(Or(t))e=i(e),"number"!=typeof t||zr[e]||(t=t.toString()+"px"),o.each(function(){var n=this.style;if(r=$r[e],r&&r.set)return void r.set(this,t);try{this.style[Hr[e]||e]=t}catch(o){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))});else{if(n=o[0],r=$r[e],r&&r.get)return r.get(n);if(n.ownerDocument.defaultView)try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(u){return}else if(n.currentStyle)return n.currentStyle[i(e)]}return o},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],Dr.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(Or(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){Wr(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(Or(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return Mr(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return Mr(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?Mr(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?Mr(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return Wr(e).append(this),this},prependTo:function(e){return Wr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Ur(this,e)},wrapAll:function(e){return Ur(this,e,!0)},wrapInner:function(e){return this.each(function(){Wr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Wr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Wr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(e.indexOf(" ")!==-1?Gr(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var o,i;i=Fr(r,e),i!==t&&(o=r.className,i?r.className=Yr((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e)}),n)},hasClass:function(e){return Fr(this[0],e)},each:function(e){return Gr(this,e)},on:function(e,t){return this.each(function(){Dr.bind(this,e,t)})},off:function(e,t){return this.each(function(){Dr.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?Dr.fire(this,e.type,e):Dr.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Wr(Br.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)Wr.find(e,this[t],r);return Wr(r)},filter:function(e){return Wr("function"==typeof e?Zr(this.toArray(),function(t,n){return e(n,t)}):Wr.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof Wr&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&Wr(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}}),Wr(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),i=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Ar,sort:[].sort,splice:[].splice},kr.extend(Wr,{extend:kr.extend,makeArray:function(e){return Lr(e)||e.nodeType?[e]:kr.toArray(e)},inArray:Kr,isArray:kr.isArray,each:Gr,trim:Yr,grep:Zr,find:nr,expr:nr.selectors,unique:nr.uniqueSort,text:nr.getText,contains:nr.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?Wr.find.matchesSelector(t[0],e)?[t[0]]:[]:Wr.find.matches(e,t)}});var Qr=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof Wr&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&Wr(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},eo=function(e,t,n,r){var o=[];for(r instanceof Wr&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&Wr(e).is(r))break}o.push(e)}return o},to=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};Gr({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Qr(e,"parentNode")},next:function(e){return to(e,"nextSibling",1)},prev:function(e){return to(e,"previousSibling",1)},children:function(e){return eo(e.firstChild,"nextSibling",1)},contents:function(e){return kr.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes);
}},function(e,t){Wr.fn[e]=function(n){var r=this,o=[];return r.each(function(){var e=t.call(o,this,n,o);e&&(Wr.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(_r[e]||(o=Wr.unique(o)),0===e.indexOf("parents")&&(o=o.reverse())),o=Wr(o),n?o.filter(n):o}}),Gr({parentsUntil:function(e,t){return Qr(e,"parentNode",t)},nextUntil:function(e,t){return eo(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return eo(e,"previousSibling",1,t).slice(1)}},function(e,t){Wr.fn[e]=function(n,r){var o=this,i=[];return o.each(function(){var e=t.call(i,this,n,i);e&&(Wr.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(i=Wr.unique(i),0!==e.indexOf("parents")&&"prevUntil"!==e||(i=i.reverse())),i=Wr(i),r?i.filter(r):i}}),Wr.fn.is=function(e){return!!e&&this.filter(e).length>0},Wr.fn.init.prototype=Wr.fn,Wr.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return Wr.extend(n,this),n};var no=function(e,t,n){Gr(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})};Rt.ie&&Rt.ie<8&&(no(jr,"get",{maxlength:function(e){var t=e.maxLength;if(2147483647!==t)return t},size:function(e){var t=e.size;if(20!==t)return t},"class":function(e){return e.className},style:function(e){var t=e.style.cssText;if(0!==t.length)return t}}),no(jr,"set",{"class":function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),Rt.ie&&Rt.ie<9&&(Hr["float"]="styleFloat",no($r,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),Wr.attrHooks=jr,Wr.cssHooks=$r;var ro,oo,io,ao=function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(null,arguments)),t}},uo={cached:ao},co=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},so=function(e,t){var n=co(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return mo(r(1),r(2))},lo=function(e,t){var n=String(t).toLowerCase();return 0===e.length?fo():so(e,n)},fo=function(){return mo(0,0)},mo=function(e,t){return{major:e,minor:t}},po={nu:mo,detect:lo,unknown:fo},go="Edge",ho="Chrome",vo="IE",yo="Opera",bo="Firefox",Co="Safari",xo=function(e,t){return function(){return t===e}},wo=function(){return Eo({current:void 0,version:po.unknown()})},Eo=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:xo(go,t),isChrome:xo(ho,t),isIE:xo(vo,t),isOpera:xo(yo,t),isFirefox:xo(bo,t),isSafari:xo(Co,t)}},No={unknown:wo,nu:Eo,edge:ke.constant(go),chrome:ke.constant(ho),ie:ke.constant(vo),opera:ke.constant(yo),firefox:ke.constant(bo),safari:ke.constant(Co)},So="Windows",ko="iOS",To="Android",Ao="Linux",Bo="OSX",Ro="Solaris",Do="FreeBSD",_o=function(e,t){return function(){return t===e}},Oo=function(){return Po({current:void 0,version:po.unknown()})},Po=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:_o(So,t),isiOS:_o(ko,t),isAndroid:_o(To,t),isOSX:_o(Bo,t),isLinux:_o(Ao,t),isSolaris:_o(Ro,t),isFreeBSD:_o(Do,t)}},Lo={unknown:Oo,nu:Po,windows:ke.constant(So),ios:ke.constant(ko),android:ke.constant(To),linux:ke.constant(Ao),osx:ke.constant(Bo),solaris:ke.constant(Ro),freebsd:ke.constant(Do)},Io=function(e,t){var n=String(t).toLowerCase();return lt.find(e,function(e){return e.search(n)})},Mo=function(e,t){return Io(e,t).map(function(e){var n=po.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Fo=function(e,t){return Io(e,t).map(function(e){var n=po.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Uo={detectBrowser:Mo,detectOs:Fo},zo=function(e,t){return t+e},qo=function(e,t){return e+t},Vo=function(e,t){return e.substring(t)},Ho=function(e,t){return e.substring(0,e.length-t)},jo={addToStart:zo,addToEnd:qo,removeFromStart:Vo,removeFromEnd:Ho},$o=function(e,t){return e.substr(0,t)},Wo=function(e,t){return e.substr(e.length-t,e.length)},Ko=function(e){return""===e?Oe.none():Oe.some(e.substr(0,1))},Xo=function(e){return""===e?Oe.none():Oe.some(e.substring(1))},Yo={first:$o,last:Wo,head:Ko,tail:Xo},Go=function(e,t,n){if(""===t)return!0;if(e.length<t.length)return!1;var r=e.substr(n,n+t.length);return r===t},Zo=function(e,t){var n=function(e){var t=typeof e;return"string"===t||"number"===t};return e.replace(/\${([^{}]*)}/g,function(e,r){var o=t[r];return n(o)?o:e})},Jo=function(e,t){return oi(e,t)?jo.removeFromStart(e,t.length):e},Qo=function(e,t){return ii(e,t)?jo.removeFromEnd(e,t.length):e},ei=function(e,t){return oi(e,t)?e:jo.addToStart(e,t)},ti=function(e,t){return ii(e,t)?e:jo.addToEnd(e,t)},ni=function(e,t){return e.indexOf(t)!==-1},ri=function(e){return Yo.head(e).bind(function(t){return Yo.tail(e).map(function(e){return t.toUpperCase()+e})}).getOr(e)},oi=function(e,t){return Go(e,t,0)},ii=function(e,t){return Go(e,t,e.length-t.length)},ai=function(e){return e.replace(/^\s+|\s+$/g,"")},ui=function(e){return e.replace(/^\s+/g,"")},ci=function(e){return e.replace(/\s+$/g,"")},si={supplant:Zo,startsWith:oi,removeLeading:Jo,removeTrailing:Qo,ensureLeading:ei,ensureTrailing:ti,endsWith:ii,contains:ni,trim:ai,lTrim:ui,rTrim:ci,capitalize:ri},li=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fi=function(e){return function(t){return si.contains(t,e)}},di=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){var t=si.contains(e,"edge/")&&si.contains(e,"chrome")&&si.contains(e,"safari")&&si.contains(e,"applewebkit");return t}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,li],search:function(e){return si.contains(e,"chrome")&&!si.contains(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return si.contains(e,"msie")||si.contains(e,"trident")}},{name:"Opera",versionRegexes:[li,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fi("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fi("firefox")},{name:"Safari",versionRegexes:[li,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(si.contains(e,"safari")||si.contains(e,"mobile/"))&&si.contains(e,"applewebkit")}}],mi=[{name:"Windows",search:fi("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return si.contains(e,"iphone")||si.contains(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fi("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:fi("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fi("linux"),versionRegexes:[]},{name:"Solaris",search:fi("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fi("freebsd"),versionRegexes:[]}],pi={browsers:ke.constant(di),oses:ke.constant(mi)},gi=function(e){var t=pi.browsers(),n=pi.oses(),r=Uo.detectBrowser(t,e).fold(No.unknown,No.nu),o=Uo.detectOs(n,e).fold(Lo.unknown,Lo.nu),i=h(o,r,e);return{browser:r,os:o,deviceType:i}},hi={detect:gi},vi=uo.cached(function(){var e=navigator.userAgent;return hi.detect(e)}),yi={detect:vi},bi=function(e,t){var n=t||document,r=n.createElement("div");if(r.innerHTML=e,!r.hasChildNodes()||r.childNodes.length>1)throw console.error("HTML does not have a single root node",e),"HTML must have a single root node";return wi(r.childNodes[0])},Ci=function(e,t){var n=t||document,r=n.createElement(e);return wi(r)},xi=function(e,t){var n=t||document,r=n.createTextNode(e);return wi(r)},wi=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:ke.constant(e)}},Ei=function(e,t,n){return Oe.from(e.dom().elementFromPoint(t,n)).map(wi)},Ni={fromHtml:bi,fromTag:Ci,fromText:xi,fromDom:wi,fromPoint:Ei},Si={ATTRIBUTE:2,CDATA_SECTION:4,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,ELEMENT:1,TEXT:3,PROCESSING_INSTRUCTION:7,ENTITY_REFERENCE:5,ENTITY:6,NOTATION:12},ki=function(e){var t=e.dom().nodeName;return t.toLowerCase()},Ti=function(e){return e.dom().nodeType},Ai=function(e){return e.dom().nodeValue},Bi=function(e){return function(t){return Ti(t)===e}},Ri=function(e){return Ti(e)===Si.COMMENT||"#comment"===ki(e)},Di=Bi(Si.ELEMENT),_i=Bi(Si.TEXT),Oi=Bi(Si.DOCUMENT),Pi={name:ki,type:Ti,value:Ai,isElement:Di,isText:_i,isDocument:Oi,isComment:Ri},Li=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&Array.prototype.isPrototypeOf(e)?"array":"object"===t&&String.prototype.isPrototypeOf(e)?"string":t},Ii=function(e){return function(t){return Li(t)===e}},Mi={isString:Ii("string"),isObject:Ii("object"),isArray:Ii("array"),isNull:Ii("null"),isBoolean:Ii("boolean"),isUndefined:Ii("undefined"),isFunction:Ii("function"),isNumber:Ii("number")},Fi=function(){var e=Object.keys,t=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};return void 0===e?t:e}(),Ui=function(e,t){for(var n=Fi(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i,e)}},zi=function(e,t){return qi(e,function(e,n,r){return{k:n,v:t(e,n,r)}})},qi=function(e,t){var n={};return Ui(e,function(r,o){var i=t(r,o,e);n[i.k]=i.v}),n},Vi=function(e,t){var n={},r={};return Ui(e,function(e,o){var i=t(e,o)?n:r;i[o]=e}),{t:n,f:r}},Hi=function(e,t){var n=[];return Ui(e,function(e,r){n.push(t(e,r))}),n},ji=function(e,t){for(var n=Fi(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];if(t(a,i,e))return Oe.some(a)}return Oe.none()},$i=function(e){return Hi(e,function(e){return e})},Wi=function(e){return $i(e).length},Ki={bifilter:Vi,each:Ui,map:zi,mapToArray:Hi,tupleMap:qi,find:ji,keys:Fi,values:$i,size:Wi},Xi=function(e,t,n){if(!(Mi.isString(n)||Mi.isBoolean(n)||Mi.isNumber(n)))throw console.error("Invalid call to Attr.set. Key ",t,":: Value ",n,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(t,n+"")},Yi=function(e,t,n){Xi(e.dom(),t,n)},Gi=function(e,t){var n=e.dom();Ki.each(t,function(e,t){Xi(n,t,e)})},Zi=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},Ji=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},Qi=function(e,t){e.dom().removeAttribute(t)},ea=function(e){var t=e.dom().attributes;return void 0===t||null===t||0===t.length},ta=function(e){return lt.foldl(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},na=function(e,t,n){Ji(e,n)&&!Ji(t,n)&&Yi(t,n,Zi(e,n))},ra=function(e,t,n){Pi.isElement(e)&&Pi.isElement(t)&&lt.each(n,function(n){na(e,t,n)})},oa={clone:ta,set:Yi,setAll:Gi,get:Zi,has:Ji,remove:Qi,hasNone:ea,transfer:ra},ia=function(e){var t=Pi.isText(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},aa=uo.cached(function(){return ua(Ni.fromDom(document))}),ua=function(e){var t=e.dom().body;if(null===t||void 0===t)throw"Body is not available yet";return Ni.fromDom(t)},ca={body:aa,getBody:ua,inBody:ia},sa=function(e){return void 0!==e.style},la={isSupported:sa},fa=function(e,t,n){if(!Mi.isString(n))throw console.error("Invalid call to CSS.set. Property ",t,":: Value ",n,":: Element ",e),new Error("CSS value must be a string: "+n);la.isSupported(e)&&e.style.setProperty(t,n)},da=function(e,t){la.isSupported(e)&&e.style.removeProperty(t)},ma=function(e,t,n){var r=e.dom();fa(r,t,n)},pa=function(e,t){var n=e.dom();Ki.each(t,function(e,t){fa(n,t,e)})},ga=function(e,t){var n=e.dom();Ki.each(t,function(e,t){e.fold(function(){da(n,t)},function(e){fa(n,t,e)})})},ha=function(e,t){var n=e.dom(),r=window.getComputedStyle(n),o=r.getPropertyValue(t),i=""!==o||ca.inBody(e)?o:va(n,t);return null===i?void 0:i},va=function(e,t){return la.isSupported(e)?e.style.getPropertyValue(t):""},ya=function(e,t){var n=e.dom(),r=va(n,t);return Oe.from(r).filter(function(e){return e.length>0})},ba=function(e){var t={},n=e.dom();if(la.isSupported(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},Ca=function(e,t,n){var r=Ni.fromTag(e);ma(r,t,n);var o=ya(r,t);return o.isSome()},xa=function(e,t){var n=e.dom();da(n,t),oa.has(e,"style")&&""===si.trim(oa.get(e,"style"))&&oa.remove(e,"style")},wa=function(e,t){var n=oa.get(e,"style"),r=t(e),o=void 0===n?oa.remove:oa.set;return o(e,"style",n),r},Ea=function(e,t){var n=e.dom(),r=t.dom();la.isSupported(n)&&la.isSupported(r)&&(r.style.cssText=n.style.cssText)},Na=function(e){return e.dom().offsetWidth},Sa=function(e,t,n){ya(e,n).each(function(e){ya(t,n).isNone()&&ma(t,n,e)})},ka=function(e,t,n){Pi.isElement(e)&&Pi.isElement(t)&&lt.each(n,function(n){Sa(e,t,n)})},Ta={copy:Ea,set:ma,preserve:wa,setAll:pa,setOptions:ga,remove:xa,get:ha,getRaw:ya,getAllRaw:ba,isValidValue:Ca,reflow:Na,transfer:ka},Aa=function(e){return e.slice(0).sort()},Ba=function(e,t){throw new Error("All required keys ("+Aa(e).join(", ")+") were not specified. Specified keys were: "+Aa(t).join(", ")+".")},Ra=function(e){throw new Error("Unsupported keys for object: "+Aa(e).join(", "))},Da=function(e,t){if(!Mi.isArray(t))throw new Error("The "+e+" fields must be an array. Was: "+t+".");lt.each(t,function(t){if(!Mi.isString(t))throw new Error("The value "+t+" in the "+e+" fields was not a string.")})},_a=function(e,t){throw new Error("All values need to be of type: "+t+". Keys ("+Aa(e).join(", ")+") were not.")},Oa=function(e){var t=Aa(e),n=lt.find(t,function(e,n){return n<t.length-1&&e===t[n+1]});n.each(function(e){throw new Error("The field: "+e+" occurs more than once in the combined fields: ["+t.join(", ")+"].")})},Pa={sort:Aa,reqMessage:Ba,unsuppMessage:Ra,validateStrArr:Da,invalidTypeMessage:_a,checkDupes:Oa},La={immutable:v,immutableBag:y},Ia=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do o=o.bind(r);while(o.isSome());return n},Ma={toArray:Ia},Fa=function(){var e=Ct.getOrDie("Node");return e},Ua=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},za=function(e,t){return Ua(e,t,Fa().DOCUMENT_POSITION_PRECEDING)},qa=function(e,t){return Ua(e,t,Fa().DOCUMENT_POSITION_CONTAINED_BY)},Va={documentPositionPreceding:za,documentPositionContainedBy:qa},Ha=Si.ELEMENT,ja=Si.DOCUMENT,$a=function(e,t){var n=e.dom();if(n.nodeType!==Ha)return!1;if(void 0!==n.matches)return n.matches(t);if(void 0!==n.msMatchesSelector)return n.msMatchesSelector(t);if(void 0!==n.webkitMatchesSelector)return n.webkitMatchesSelector(t);if(void 0!==n.mozMatchesSelector)return n.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Wa=function(e){return e.nodeType!==Ha&&e.nodeType!==ja||0===e.childElementCount},Ka=function(e,t){var n=void 0===t?document:t.dom();return Wa(n)?[]:lt.map(n.querySelectorAll(e),Ni.fromDom)},Xa=function(e,t){var n=void 0===t?document:t.dom();return Wa(n)?Oe.none():Oe.from(n.querySelector(e)).map(Ni.fromDom)},Ya={all:Ka,is:$a,one:Xa},Ga=function(e,t){return e.dom()===t.dom()},Za=function(e,t){return e.dom().isEqualNode(t.dom())},Ja=function(e,t){return lt.exists(t,ke.curry(Ga,e))},Qa=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},eu=function(e,t){return Va.documentPositionContainedBy(e.dom(),t.dom())},tu=yi.detect().browser,nu=tu.isIE()?eu:Qa,ru={eq:Ga,isEqualNode:Za,member:Ja,contains:nu,is:Ya.is},ou=function(e){return Ni.fromDom(e.dom().ownerDocument)},iu=function(e){var t=ou(e);return Ni.fromDom(t.dom().documentElement)},au=function(e){var t=e.dom(),n=t.ownerDocument.defaultView;return Ni.fromDom(n)},uu=function(e){var t=e.dom();return Oe.from(t.parentNode).map(Ni.fromDom)},cu=function(e){return uu(e).bind(function(t){var n=hu(t);return lt.findIndex(n,function(t){return ru.eq(e,t)})})},su=function(e,t){for(var n=Mi.isFunction(t)?t:ke.constant(!1),r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Ni.fromDom(i);if(o.push(a),n(a)===!0)break;r=i}return o},lu=function(e){var t=function(t){return lt.filter(t,function(t){return!ru.eq(e,t)})};return uu(e).map(hu).map(t).getOr([])},fu=function(e){var t=e.dom();return Oe.from(t.offsetParent).map(Ni.fromDom)},du=function(e){var t=e.dom();return Oe.from(t.previousSibling).map(Ni.fromDom)},mu=function(e){var t=e.dom();return Oe.from(t.nextSibling).map(Ni.fromDom)},pu=function(e){return lt.reverse(Ma.toArray(e,du))},gu=function(e){return Ma.toArray(e,mu)},hu=function(e){var t=e.dom();return lt.map(t.childNodes,Ni.fromDom)},vu=function(e,t){var n=e.dom().childNodes;return Oe.from(n[t]).map(Ni.fromDom)},yu=function(e){return vu(e,0)},bu=function(e){return vu(e,e.dom().childNodes.length-1)},Cu=function(e){return e.dom().childNodes.length},xu=function(e){return e.dom().hasChildNodes()},wu=La.immutable("element","offset"),Eu=function(e,t){var n=hu(e);return n.length>0&&t<n.length?wu(n[t],0):wu(e,t)},Nu={owner:ou,defaultView:au,documentElement:iu,parent:uu,findIndex:cu,parents:su,siblings:lu,prevSibling:du,offsetParent:fu,prevSiblings:pu,nextSibling:mu,nextSiblings:gu,children:hu,child:vu,firstChild:yu,lastChild:bu,childNodesCount:Cu,hasChildNodes:xu,leaf:Eu},Su=yi.detect().browser,ku=function(e){return lt.find(e,Pi.isElement)},Tu=function(e){return Su.isFirefox()&&"table"===Pi.name(e)?ku(Nu.children(e)).filter(function(e){return"caption"===Pi.name(e)}).bind(function(e){return ku(Nu.nextSiblings(e)).map(function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,o=e.dom().offsetHeight;return n<=r?-o:0})}).getOr(0):0},Au=function(e,t,n){var r,o,i=0,a=0,u=e.ownerDocument;if(n=n?n:e,t){if(n===e&&t.getBoundingClientRect&&"static"===Ta.get(Ni.fromDom(e),"position"))return o=t.getBoundingClientRect(),i=o.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,a=o.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:i,y:a};for(r=t;r&&r!==n&&r.nodeType;)i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType;)i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=Tu(Ni.fromDom(t))}return{x:i,y:a}},Bu={getPos:Au},Ru=function(e){var t=Oe.none(),n=[],r=function(e){return Ru(function(t){o(function(n){t(e(n))})})},o=function(e){a()?c(e):n.push(e)},i=function(e){t=Oe.some(e),u(n),n=[]},a=function(){return t.isSome()},u=function(e){lt.each(e,c)},c=function(e){t.each(function(t){setTimeout(function(){e(t)},0)})};return e(i),{get:o,map:r,isReady:a}},Du=function(e){return Ru(function(t){t(e)})},_u={nu:Ru,pure:Du},Ou=function(e){return function(){var t=Array.prototype.slice.call(arguments),n=this;setTimeout(function(){e.apply(n,t)},0)}},Pu={bounce:Ou},Lu=function(e){var t=function(t){e(Pu.bounce(t))},n=function(e){return Lu(function(n){t(function(t){var r=e(t);n(r)})})},r=function(e){return Lu(function(n){t(function(t){e(t).get(n)})})},o=function(e){return Lu(function(n){t(function(t){e.get(n)})})},i=function(){return _u.nu(t)};return{map:n,bind:r,anonBind:o,toLazy:i,get:t}},Iu=function(e){return Lu(function(t){t(e)})},Mu={nu:Lu,pure:Iu},Fu=function(e,t){return t(function(t){var n=[],r=0,o=function(o){return function(i){n[o]=i,r++,r>=e.length&&t(n)}};0===e.length?t([]):lt.each(e,function(e,t){e.get(o(t))})})},Uu={par:Fu},zu=function(e){return Uu.par(e,Mu.nu)},qu=function(e,t){var n=lt.map(e,t);return zu(n)},Vu=function(e,t){return function(n){return t(n).bind(e)}},Hu={par:zu,mapM:qu,compose:Vu},ju=function(e){var t=function(t){return e===t},n=function(t){return ju(e)},r=function(t){return ju(e)},o=function(t){return ju(t(e))},i=function(t){t(e)},a=function(t){return t(e)},u=function(t,n){return n(e)},c=function(t){return t(e)},s=function(t){return t(e)},l=function(){return Oe.some(e)};return{is:t,isValue:ke.always,isError:ke.never,getOr:ke.constant(e),getOrThunk:ke.constant(e),getOrDie:ke.constant(e),or:n,orThunk:r,fold:u,map:o,each:i,bind:a,exists:c,forall:s,toOption:l}},$u=function(e){var t=function(e){return e()},n=function(){return ke.die(e)()},r=function(e){return e},o=function(e){return e()},i=function(t){return $u(e)},a=function(t){return $u(e)},u=function(t,n){return t(e)};return{is:ke.never,isValue:ke.never,isError:ke.always,getOr:ke.identity,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:u,map:i,each:ke.noop,bind:a,exists:ke.never,forall:ke.always,toOption:Oe.none}},Wu={value:ju,error:$u},Ku=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Xu=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],Yu=["td","th"],Gu=["thead","tbody","tfoot"],Zu=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Ju=["h1","h2","h3","h4","h5","h6"],Qu=["li","dd","dt"],ec=["ul","ol","dl"],tc=function(e){var t;return function(n){return t=t?t:lt.mapToObject(e,ke.constant(!0)),t.hasOwnProperty(Pi.name(n))}},nc=tc(Ju),rc=tc(Ku),oc=function(e){return Pi.isElement(e)&&!rc(e)},ic=function(e){return Pi.isElement(e)&&"br"===Pi.name(e)},ac=tc(Zu),uc=tc(ec),cc=tc(Qu),sc=tc(Xu),lc=tc(Gu),fc=tc(Yu),dc=function(e){return function(t){return!!t&&t.nodeType===e}},mc=dc(1),pc=function(e){var t=e.toLowerCase().split(" ");return function(e){var n,r;if(e&&e.nodeType)for(r=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(r===t[n])return!0;return!1}},gc=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r,o;if(mc(t))for(r=0;r<n.length;r++)if(o=t.ownerDocument.defaultView.getComputedStyle(t,null).getPropertyValue(e),o===n[r])return!0;return!1}},hc=function(e,t){return function(n){return mc(n)&&n[e]===t}},vc=function(e,t){return function(t){return mc(t)&&t.hasAttribute(e)}},yc=function(e,t){return function(n){return mc(n)&&n.getAttribute(e)===t}},bc=function(e){return mc(e)&&e.hasAttribute("data-mce-bogus")},Cc=function(e){return mc(e)&&"all"===e.getAttribute("data-mce-bogus")},xc=function(e){return mc(e)&&"TABLE"===e.tagName},wc=function(e){return function(t){if(mc(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Ec=dc(3),Nc=dc(8),Sc=dc(9),kc=pc("br"),Tc=wc("true"),Ac=wc("false"),Bc={isText:Ec,isElement:mc,isComment:Nc,isDocument:Sc,isBr:kc,isContentEditableTrue:Tc,isContentEditableFalse:Ac,matchNodeNames:pc,hasPropValue:hc,hasAttribute:vc,hasAttributeValue:yc,matchStyleValues:gc,isBogus:bc,isBogusAll:Cc,isTable:xc},Rc=function(e){var t=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return t&&n},Dc=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},_c=function(e,t){var n,r=t.childNodes;if(!Bc.isElement(t)||!Dc(t)){for(n=r.length-1;n>=0;n--)_c(e,r[n]);if(Bc.isDocument(t)===!1){if(Bc.isText(t)&&t.nodeValue.length>0){var o=kr.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||o>0)return;if(0===o&&Rc(t))return}else if(Bc.isElement(t)&&(r=t.childNodes,1===r.length&&Dc(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||sc(Ni.fromDom(t))))return;e.remove(t)}return t}},Oc={trimNode:_c},Pc=kr.makeMap,Lc=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ic=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Mc=/[<>&\"\']/g,Fc=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Uc={128:"",130:"",131:"",132:"",133:"",134:"",135:"",136:"",137:"",138:"",139:"",140:"",142:"",145:"",146:"",147:"",148:"",149:"",150:"",151:"",152:"",153:"",154:"",155:"",156:"",158:"",159:""};oo={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},io={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var zc=function(e){var t;return t=Ni.fromTag("div").dom(),t.innerHTML=e,t.textContent||t.innerText||e},qc=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),oo[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}};ro=qc("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Vc=function(e,t){return e.replace(t?Lc:Ic,function(e){return oo[e]||e})},Hc=function(e){return(""+e).replace(Mc,function(e){return oo[e]||e})},jc=function(e,t){return e.replace(t?Lc:Ic,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":oo[e]||"&#"+e.charCodeAt(0)+";"})},$c=function(e,t,n){return n=n||ro,e.replace(t?Lc:Ic,function(e){return oo[e]||n[e]||e})},Wc=function(e,t){var n=qc(t)||ro,r=function(e,t){return e.replace(t?Lc:Ic,function(e){return void 0!==oo[e]?oo[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})},o=function(e,t){return $c(e,t,n)},i=Pc(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?o:$c:i.numeric?jc:Vc},Kc=function(e){return e.replace(Fc,function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):Uc[t]||String.fromCharCode(t)):io[e]||ro[e]||zc(e)})},Xc={encodeRaw:Vc,encodeAllRaw:Hc,encodeNumeric:jc,encodeNamed:$c,getEncodeFunc:Wc,decode:Kc},Yc={},Gc={},Zc=kr.makeMap,Jc=kr.each,Qc=kr.extend,es=kr.explode,ts=kr.inArray,ns=function(e,t){return e=kr.trim(e),e?e.split(t||" "):[]},rs=function(e){var t,n,r,o,i,a,u={},c=function(e,n,r){var o,i,a,c=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};for(r=r||[],n=n||"","string"==typeof r&&(r=ns(r)),e=ns(e),o=e.length;o--;)i=ns([t,n].join(" ")),a={attributes:c(i),attributesOrder:i,children:c(r,Gc)},u[e[o]]=a},s=function(e,t){var n,r,o,i;for(e=ns(e),n=e.length,t=ns(t);n--;)for(r=u[e[n]],o=0,i=t.length;o<i;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])};return Yc[e]?Yc[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),Jc(ns(a),function(e){c(e,"",r)}),i="center dir isindex noframes",n=[n,i].join(" "),o=[n,r].join(" "),Jc(ns(i),function(e){c(e,"",o)})),o=o||[n,r].join(" "),c("html","manifest","head body"),c("head","","base command link meta noscript script style title"),c("title hr noscript br"),c("base","href target"),c("link","href rel media hreflang type sizes hreflang"),c("meta","name http-equiv content charset"),c("style","media type scoped"),c("script","src async defer type charset"),c("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),c("address dt dd div caption","",o),c("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),c("blockquote","cite",o),c("ol","reversed start type","li"),c("ul","","li"),c("li","value",o),c("dl","","dt dd"),c("a","href target rel media hreflang type",r),c("q","cite",r),c("ins del","cite datetime",o),c("img","src sizes srcset alt usemap ismap width height"),c("iframe","src name width height",o),c("embed","src type width height"),c("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),c("param","name value"),c("map","name",[o,"area"].join(" ")),c("area","alt coords shape href target rel media hreflang type"),c("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),c("colgroup","span","col"),c("col","span"),c("tbody thead tfoot","","tr"),c("tr","","td th"),c("td","colspan rowspan headers",o),c("th","colspan rowspan headers scope abbr",o),c("form","accept-charset action autocomplete enctype method name novalidate target",o),c("fieldset","disabled form name",[o,"legend"].join(" ")),c("label","form for",r),c("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),c("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),c("select","disabled form multiple name required size","option optgroup"),c("optgroup","disabled label","option"),c("option","disabled label selected value"),c("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),c("menu","type label",[o,"li"].join(" ")),c("noscript","",o),"html4"!==e&&(c("wbr"),c("ruby","",[r,"rt rp"].join(" ")),c("figcaption","",o),c("mark rt rp summary bdi","",r),c("canvas","width height",o),c("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),c("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),c("picture","","img source"),c("source","src srcset type media sizes"),c("track","kind src srclang label default"),c("datalist","",[r,"option"].join(" ")),c("article section nav aside header footer","",o),c("hgroup","","h1 h2 h3 h4 h5 h6"),c("figure","",[o,"figcaption"].join(" ")),c("time","datetime",r),c("dialog","open",o),c("command","type label icon disabled checked radiogroup command"),c("output","for form name",r),c("progress","value max",r),c("meter","value min max low high optimum",r),c("details","open",[o,"summary"].join(" ")),
c("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(s("script","language xml:space"),s("style","xml:space"),s("object","declare classid code codebase codetype archive standby align border hspace vspace"),s("embed","align name hspace vspace"),s("param","valuetype type"),s("a","charset name rev shape coords"),s("br","clear"),s("applet","codebase archive code object alt name width height align hspace vspace"),s("img","name longdesc align border hspace vspace"),s("iframe","longdesc frameborder marginwidth marginheight scrolling align"),s("font basefont","size color face"),s("input","usemap align"),s("select","onchange"),s("textarea"),s("h1 h2 h3 h4 h5 h6 div p legend caption","align"),s("ul","type compact"),s("li","type"),s("ol dl menu dir","compact"),s("pre","width xml:space"),s("hr","align noshade size width"),s("isindex","prompt"),s("table","summary width frame rules cellspacing cellpadding align bgcolor"),s("col","width align char charoff valign"),s("colgroup","width align char charoff valign"),s("thead","align char charoff valign"),s("tr","align char charoff valign bgcolor"),s("th","axis align char charoff valign nowrap bgcolor width height"),s("form","accept"),s("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),s("tfoot","align char charoff valign"),s("tbody","align char charoff valign"),s("area","nohref"),s("body","background bgcolor text link vlink alink")),"html4"!==e&&(s("input button select textarea","autofocus"),s("input textarea","placeholder"),s("a","download"),s("link script img","crossorigin"),s("iframe","sandbox seamless allowfullscreen")),Jc(ns("a form meter progress dfn"),function(e){u[e]&&delete u[e].children[e]}),delete u.caption.children.table,delete u.script,Yc[e]=u,u)},os=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),Jc(e,function(e,r){n[r]=n[r.toUpperCase()]="map"===t?Zc(e,/[, ]/):es(e,/[, ]/)})),n},is=function(e,t,n,r){var o=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)},as=kr.each,us=kr.is,cs=kr.grep,ss=Rt.ie,ls=/^([a-z0-9],?)+$/i,fs=/^[ \t\r\n]*$/,ds=function(e,t){var n,r={},o=t.keep_values;return n={set:function(n,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||e,r,o,n[0])),n.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}},r={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(o&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serializeStyle(e.parseStyle(n),t[0].nodeName)}}},o&&(r.href=r.src=n),r},ms=function(e,t){var n=t.attr("style");n=e.serializeStyle(e.parseStyle(n),t[0].nodeName),n||(n=null),t.attr("data-mce-style",n)},ps=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o},gs=function(e,t){var n,r=this;r.doc=e,r.win=window,r.files={},r.counter=0,r.stdMode=!ss||e.documentMode>=8,r.boxModel=!ss||"CSS1Compat"===e.compatMode||r.stdMode,r.styleSheetLoader=b(e),r.boundEvents=[],r.settings=t=t||{},r.schema=t.schema?t.schema:x({}),r.styles=w({url_converter:t.url_converter,url_converter_scope:t.url_converter_scope},t.schema),r.fixDoc(e),r.events=t.ownEvents?new Zt(t.proxy):Zt.Event,r.attrHooks=ds(r,t),n=r.schema.getBlockElements(),r.$=Wr.overrideDefaults(function(){return{context:e,element:r.getRoot()}}),r.isBlock=function(e){if(!e)return!1;var t=e.nodeType;return t?!(1!==t||!n[e.nodeName]):!!n[e]}};gs.prototype={$$:function(e){return"string"==typeof e&&(e=this.get(e)),this.$(e)},root:null,fixDoc:function(e){},clone:function(e,t){var n,r,o=this;return!ss||1!==e.nodeType||t?e.cloneNode(t):(r=o.doc,t?n.firstChild:(n=r.createElement(e.nodeName),as(o.getAttribs(e),function(t){o.setAttrib(n,t.nodeName,o.getAttrib(e,t.nodeName))}),n))},getRoot:function(){var e=this;return e.settings.root_element||e.doc.body},getViewPort:function(e){var t,n;return e=e?e:this.win,t=e.document,n=this.boxModel?t.documentElement:t.body,{x:e.pageXOffset||n.scrollLeft,y:e.pageYOffset||n.scrollTop,w:e.innerWidth||n.clientWidth,h:e.innerHeight||n.clientHeight}},getRect:function(e){var t,n,r=this;return e=r.get(e),t=r.getPos(e),n=r.getSize(e),{x:t.x,y:t.y,w:n.w,h:n.h}},getSize:function(e){var t,n,r=this;return e=r.get(e),t=r.getStyle(e,"width"),n=r.getStyle(e,"height"),t.indexOf("px")===-1&&(t=0),n.indexOf("px")===-1&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},getParent:function(e,t,n){return this.getParents(e,t,n,!1)},getParents:function(e,t,n,r){var o,i=this,a=[];for(e=i.get(e),r=void 0===r,n=n||("BODY"!==i.getRoot().nodeName?i.getRoot().parentNode:null),us(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return i.is(e,o)});e&&e!==n&&e.nodeType&&9!==e.nodeType;){if(!t||t(e)){if(!r)return e;a.push(e)}e=e.parentNode}return r?a:null},get:function(e){var t;return e&&this.doc&&"string"==typeof e&&(t=e,e=this.doc.getElementById(e),e&&e.id!==t)?this.doc.getElementsByName(t)[1]:e},getNext:function(e,t){return this._findSib(e,t,"nextSibling")},getPrev:function(e,t){return this._findSib(e,t,"previousSibling")},select:function(e,t){var n=this;return nr(e,n.get(t)||n.settings.root_element||n.doc,[])},is:function(e,t){var n;if(!e)return!1;if(void 0===e.length){if("*"===t)return 1===e.nodeType;if(ls.test(t)){for(t=t.toLowerCase().split(/,/),e=e.nodeName.toLowerCase(),n=t.length-1;n>=0;n--)if(t[n]===e)return!0;return!1}}if(e.nodeType&&1!==e.nodeType)return!1;var r=e.nodeType?[e]:e;return nr(t,r[0].ownerDocument||r[0],null,r).length>0},add:function(e,t,n,r,o){var i=this;return this.run(e,function(e){var a;return a=us(t,"string")?i.doc.createElement(t):t,i.setAttribs(a,n),r&&(r.nodeType?a.appendChild(r):i.setHTML(a,r)),o?a:e.appendChild(a)})},create:function(e,t,n){return this.add(this.doc.createElement(e),e,t,n,1)},createHTML:function(e,t,n){var r,o="";o+="<"+e;for(r in t)t.hasOwnProperty(r)&&null!==t[r]&&"undefined"!=typeof t[r]&&(o+=" "+r+'="'+this.encode(t[r])+'"');return"undefined"!=typeof n?o+">"+n+"</"+e+">":o+" />"},createFragment:function(e){var t,n,r,o=this.doc;for(r=o.createElement("div"),t=o.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},remove:function(e,t){return e=this.$$(e),t?e.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():e.remove(),e.length>1?e.toArray():e[0]},setStyle:function(e,t,n){e=this.$$(e).css(t,n),this.settings.update_styles&&ms(this,e)},getStyle:function(e,t,n){return e=this.$$(e),n?e.css(t):(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"===t&&(t=Rt.ie&&Rt.ie<12?"styleFloat":"cssFloat"),e[0]&&e[0].style?e[0].style[t]:void 0)},setStyles:function(e,t){e=this.$$(e).css(t),this.settings.update_styles&&ms(this,e)},removeAllAttribs:function(e){return this.run(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},setAttrib:function(e,t,n){var r,o,i=this,a=i.settings;""===n&&(n=null),e=i.$$(e),r=e.attr(t),e.length&&(o=i.attrHooks[t],o&&o.set?o.set(e,n,t):e.attr(t,n),r!==n&&a.onSetAttrib&&a.onSetAttrib({attrElm:e,attrName:t,attrValue:n}))},setAttribs:function(e,t){var n=this;n.$$(e).each(function(e,r){as(t,function(e,t){n.setAttrib(r,t,e)})})},getAttrib:function(e,t,n){var r,o,i=this;return e=i.$$(e),e.length&&(r=i.attrHooks[t],o=r&&r.get?r.get(e,t):e.attr(t)),"undefined"==typeof o&&(o=n||""),o},getPos:function(e,t){return Bu.getPos(this.doc.body,this.get(e),t)},parseStyle:function(e){return this.styles.parse(e)},serializeStyle:function(e,t){return this.styles.serialize(e,t)},addStyle:function(e){var t,n,r=this,o=r.doc;if(r!==gs.DOM&&o===document){var i=gs.DOM.addedStyles;if(i=i||[],i[e])return;i[e]=!0,gs.DOM.addedStyles=i}n=o.getElementById("mceDefaultStyles"),n||(n=o.createElement("style"),n.id="mceDefaultStyles",n.type="text/css",t=o.getElementsByTagName("head")[0],t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n)),n.styleSheet?n.styleSheet.cssText+=e:n.appendChild(o.createTextNode(e))},loadCSS:function(e){var t,n=this,r=n.doc;return n!==gs.DOM&&r===document?void gs.DOM.loadCSS(e):(e||(e=""),t=r.getElementsByTagName("head")[0],void as(e.split(","),function(e){var o;e=kr._addCacheSuffix(e),n.files[e]||(n.files[e]=!0,o=n.create("link",{rel:"stylesheet",href:e}),ss&&r.documentMode&&r.recalc&&(o.onload=function(){r.recalc&&r.recalc(),o.onload=null}),t.appendChild(o))}))},addClass:function(e,t){this.$$(e).addClass(t)},removeClass:function(e,t){this.toggleClass(e,t,!1)},hasClass:function(e,t){return this.$$(e).hasClass(t)},toggleClass:function(e,t,n){this.$$(e).toggleClass(t,n).each(function(){""===this.className&&Wr(this).attr("class",null)})},show:function(e){this.$$(e).show()},hide:function(e){this.$$(e).hide()},isHidden:function(e){return"none"===this.$$(e).css("display")},uniqueId:function(e){return(e?e:"mce_")+this.counter++},setHTML:function(e,t){e=this.$$(e),ss?e.each(function(e,n){if(n.canHaveHTML!==!1){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(r){Wr("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):e.html(t)},getOuterHTML:function(e){return e=this.get(e),1===e.nodeType&&"outerHTML"in e?e.outerHTML:Wr("<div></div>").append(Wr(e).clone()).html()},setOuterHTML:function(e,t){var n=this;n.$$(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}n.remove(Wr(this).html(t),!0)})},decode:Xc.decode,encode:Xc.encodeAllRaw,insertAfter:function(e,t){return t=this.get(t),this.run(e,function(e){var n,r;return n=t.parentNode,r=t.nextSibling,r?n.insertBefore(e,r):n.appendChild(e),e})},replace:function(e,t,n){var r=this;return r.run(t,function(t){return us(t,"array")&&(e=e.cloneNode(!0)),n&&as(cs(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},rename:function(e,t){var n,r=this;return e.nodeName!==t.toUpperCase()&&(n=r.create(t),as(r.getAttribs(e),function(t){r.setAttrib(n,t.nodeName,r.getAttrib(e,t.nodeName))}),r.replace(n,e,1)),n||e},findCommonAncestor:function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},toHex:function(e){return this.styles.toHex(kr.trim(e))},run:function(e,t,n){var r,o=this;return"string"==typeof e&&(e=o.get(e)),!!e&&(n=n||this,e.nodeType||!e.length&&0!==e.length?t.call(n,e):(r=[],as(e,function(e,i){e&&("string"==typeof e&&(e=o.get(e)),r.push(t.call(n,e,i)))}),r))},getAttribs:function(e){var t;if(e=this.get(e),!e)return[];if(ss){if(t=[],"OBJECT"===e.nodeName)return e.attributes;"OPTION"===e.nodeName&&this.getAttrib(e,"selected")&&t.push({specified:1,nodeName:"selected"});var n=/<\/?[\w:\-]+ ?|=[\"][^\"]+\"|=\'[^\']+\'|=[\w\-]+|>/gi;return e.cloneNode(!1).outerHTML.replace(n,"").replace(/[\w:\-]+/gi,function(e){t.push({specified:1,nodeName:e})}),t}return e.attributes},isEmpty:function(e,t){var n,r,o,i,a,u,c=this,s=0;if(e=e.firstChild){a=new C(e,e.parentNode),t=t||(c.schema?c.schema.getNonEmptyElements():null),i=c.schema?c.schema.getWhiteSpaceElements():{};do{if(o=e.nodeType,1===o){var l=e.getAttribute("data-mce-bogus");if(l){e=a.next("all"===l);continue}if(u=e.nodeName.toLowerCase(),t&&t[u]){if("br"===u){s++,e=a.next();continue}return!1}for(r=c.getAttribs(e),n=r.length;n--;)if(u=r[n].nodeName,"name"===u||"data-mce-bookmark"===u)return!1}if(8===o)return!1;if(3===o&&!fs.test(e.nodeValue))return!1;if(3===o&&e.parentNode&&i[e.parentNode.nodeName]&&fs.test(e.nodeValue))return!1;e=a.next()}while(e)}return s<=1},createRng:function(){return this.doc.createRange()},nodeIndex:ps,split:function(e,t,n){var r,o,i,a=this,u=a.createRng();if(e&&t)return u.setStart(e.parentNode,a.nodeIndex(e)),u.setEnd(t.parentNode,a.nodeIndex(t)),r=u.extractContents(),u=a.createRng(),u.setStart(t.parentNode,a.nodeIndex(t)+1),u.setEnd(e.parentNode,a.nodeIndex(e)+1),o=u.extractContents(),i=e.parentNode,i.insertBefore(Oc.trimNode(a,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(Oc.trimNode(a,o),e),a.remove(e),n||t},bind:function(e,t,n,r){var o=this;if(kr.isArray(e)){for(var i=e.length;i--;)e[i]=o.bind(e[i],t,n,r);return e}return!o.settings.collect||e!==o.doc&&e!==o.win||o.boundEvents.push([e,t,n,r]),o.events.bind(e,t,n,r||o)},unbind:function(e,t,n){var r,o=this;if(kr.isArray(e)){for(r=e.length;r--;)e[r]=o.unbind(e[r],t,n);return e}if(o.boundEvents&&(e===o.doc||e===o.win))for(r=o.boundEvents.length;r--;){var i=o.boundEvents[r];e!==i[0]||t&&t!==i[1]||n&&n!==i[2]||this.events.unbind(i[0],i[1],i[2])}return this.events.unbind(e,t,n)},fire:function(e,t,n){return this.events.fire(e,t,n)},getContentEditable:function(e){var t;return e&&1===e.nodeType?(t=e.getAttribute("data-mce-contenteditable"),t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null):null},getContentEditableParent:function(e){for(var t=this.getRoot(),n=null;e&&e!==t&&(n=this.getContentEditable(e),null===n);e=e.parentNode);return n},destroy:function(){var e=this;if(e.boundEvents){for(var t=e.boundEvents.length;t--;){var n=e.boundEvents[t];this.events.unbind(n[0],n[1],n[2])}e.boundEvents=null}nr.setDocument&&nr.setDocument(),e.win=e.doc=e.root=e.events=e.frag=null},isChildOf:function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},dumpRng:function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_findSib:function(e,t,n){var r=this,o=t;if(e)for("string"==typeof o&&(o=function(e){return r.is(e,t)}),e=e[n];e;e=e[n])if(o(e))return e;return null}},gs.DOM=new gs(document),gs.nodeIndex=ps;var hs=gs.DOM,vs=kr.each,ys=kr.grep,bs=function(e){return"function"==typeof e},Cs=function(){var e=0,t=1,n=2,r=3,o={},i=[],a={},u=[],c=0,s=function(e,t,n){var r,o,i=hs,a=function(){i.remove(o),r&&(r.onreadystatechange=r.onload=r=null),t()},u=function(){bs(n)?n():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+e)};o=i.uniqueId(),r=document.createElement("script"),r.id=o,r.type="text/javascript",r.src=kr._addCacheSuffix(e),"onreadystatechange"in r?r.onreadystatechange=function(){/loaded|complete/.test(r.readyState)&&a()}:r.onload=a,r.onerror=u,(document.getElementsByTagName("head")[0]||document.body).appendChild(r)};this.isDone=function(e){return o[e]===n},this.markDone=function(e){o[e]=n},this.add=this.load=function(t,n,r,u){var c=o[t];void 0===c&&(i.push(t),o[t]=e),n&&(a[t]||(a[t]=[]),a[t].push({success:n,failure:u,scope:r||this}))},this.remove=function(e){delete o[e],delete a[e]},this.loadQueue=function(e,t,n){this.loadScripts(i,e,t,n)},this.loadScripts=function(e,i,l,f){var d,m=[],p=function(e,t){vs(a[t],function(t){bs(t[e])&&t[e].call(t.scope)}),a[t]=void 0};u.push({success:i,failure:f,scope:l||this}),(d=function(){var i=ys(e);if(e.length=0,vs(i,function(e){return o[e]===n?void p("success",e):o[e]===r?void p("failure",e):void(o[e]!==t&&(o[e]=t,c++,s(e,function(){o[e]=n,c--,p("success",e),d()},function(){o[e]=r,c--,m.push(e),p("failure",e),d()})))}),!c){var a=u.slice(0);u.length=0,vs(a,function(e){0===m.length?bs(e.success)&&e.success.call(e.scope):bs(e.failure)&&e.failure.call(e.scope,m)})}})()}};Cs.ScriptLoader=new Cs;var xs=kr.each,ws=function(){var e=this;e.items=[],e.urls={},e.lookup={},e._listeners=[]};ws.prototype={get:function(e){if(this.lookup[e])return this.lookup[e].instance},dependencies:function(e){var t;return this.lookup[e]&&(t=this.lookup[e].dependencies),t||[]},requireLangPack:function(e,t){var n=ws.language;if(n&&ws.languageLoad!==!1){if(t)if(t=","+t+",",t.indexOf(","+n.substr(0,2)+",")!==-1)n=n.substr(0,2);else if(t.indexOf(","+n+",")===-1)return;Cs.ScriptLoader.add(this.urls[e]+"/langs/"+n+".js")}},add:function(e,t,n){this.items.push(t),this.lookup[e]={instance:t,dependencies:n};var r=lt.partition(this._listeners,function(t){return t.name===e});return this._listeners=r.fail,xs(r.pass,function(e){e.callback()}),t},remove:function(e){delete this.urls[e],delete this.lookup[e]},createUrl:function(e,t){return"object"==typeof t?t:{prefix:e.prefix,resource:t,suffix:e.suffix}},addComponents:function(e,t){var n=this.urls[e];xs(t,function(e){Cs.ScriptLoader.add(n+"/"+e)})},load:function(e,t,n,r,o){var i=this,a=t,u=function(){var o=i.dependencies(e);xs(o,function(e){var n=i.createUrl(t,e);i.load(n.resource,n,void 0,void 0)}),n&&(r?n.call(r):n.call(Cs))};i.urls[e]||("object"==typeof t&&(a=t.prefix+t.resource+t.suffix),0!==a.indexOf("/")&&a.indexOf("://")===-1&&(a=ws.baseURL+"/"+a),i.urls[e]=a.substring(0,a.lastIndexOf("/")),i.lookup[e]?u():Cs.ScriptLoader.add(a,u,r,o))},waitFor:function(e,t){this.lookup.hasOwnProperty(e)?t():this._listeners.push({name:e,callback:t})}},ws.PluginManager=new ws,ws.ThemeManager=new ws;var Es="\ufeff",Ns=function(e){return e===Es},Ss=function(e){return e.replace(new RegExp(Es,"g"),"")},ks={isZwsp:Ns,ZWSP:Es,trim:Ss},Ts=Bc.isElement,As=Bc.isText,Bs=function(e){return As(e)&&(e=e.parentNode),Ts(e)&&e.hasAttribute("data-mce-caret")},Rs=function(e){return As(e)&&ks.isZwsp(e.data)},Ds=function(e){return Bs(e)||Rs(e)},_s=function(e){return e.firstChild!==e.lastChild||!Bc.isBr(e.firstChild)},Os=function(e,t){var n,r,o,i;if(n=e.ownerDocument,o=n.createTextNode(ks.ZWSP),i=e.parentNode,t){if(r=e.previousSibling,As(r)){if(Ds(r))return r;if(Us(r))return r.splitText(r.data.length-1)}i.insertBefore(o,e)}else{if(r=e.nextSibling,As(r)){if(Ds(r))return r;if(Fs(r))return r.splitText(1),r}e.nextSibling?i.insertBefore(o,e.nextSibling):i.appendChild(o)}return o},Ps=function(e){var t=e.container();return e&&Bc.isText(t)&&t.data.charAt(e.offset())===ks.ZWSP},Ls=function(e){var t=e.container();return e&&Bc.isText(t)&&t.data.charAt(e.offset()-1)===ks.ZWSP},Is=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},Ms=function(e,t,n){var r,o,i;return r=t.ownerDocument,o=r.createElement(e),o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(Is()),i=t.parentNode,n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o},Fs=function(e){return As(e)&&e.data[0]===ks.ZWSP},Us=function(e){return As(e)&&e.data[e.data.length-1]===ks.ZWSP},zs=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];Bc.isBogus(n)&&n.parentNode.removeChild(n)},qs=function(e){return e&&e.hasAttribute("data-mce-caret")?(zs(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Vs=function(e){return Bs(e.startContainer)},Hs=Bc.isContentEditableTrue,js=Bc.isContentEditableFalse,$s=Bc.isBr,Ws=Bc.isText,Ks=Bc.matchNodeNames("script style textarea"),Xs=Bc.matchNodeNames("img input textarea hr iframe video audio object"),Ys=Bc.matchNodeNames("table"),Gs=Ds,Zs=function(e){return!Gs(e)&&(Ws(e)?!Ks(e.parentNode):Xs(e)||$s(e)||Ys(e)||js(e))},Js=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(js(e))return!1;if(Hs(e))return!0}return!0},Qs=function(e){return!!js(e)&&mr.reduce(e.getElementsByTagName("*"),function(e,t){return e||Hs(t)},!1)!==!0},el=function(e){return Xs(e)||Qs(e)},tl=function(e,t){return Zs(e)&&Js(e,t)},nl=Math.round,rl=function(e){return e?{left:nl(e.left),top:nl(e.top),bottom:nl(e.bottom),right:nl(e.right),width:nl(e.width),height:nl(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},ol=function(e,t){return e=rl(e),t?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},il=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},al=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},ul=function(e,t){return e.bottom-e.height/2<t.top||!(e.top>t.bottom)&&al(t.top-e.bottom,e,t)},cl=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&al(t.bottom-e.top,e,t)},sl=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},ll=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},fl=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},dl=new RegExp("[-----------------------------------------------------------------------------------------------------------------------------------]"),ml=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&dl.test(e)},pl=[].slice,gl=function(e){return function(){return e}},hl=function(e){return function(t){return!e(t)}},vl=function(e,t){return function(n){return e(t(n))}},yl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=pl.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},bl=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=pl.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},Cl=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=pl.call(arguments);return r.length-1>=e.length?e.apply(this,r.slice(1)):function(){var e=r.concat([].slice.call(arguments));return Cl.apply(this,e)}},xl=function(){},wl={constant:gl,negate:hl,and:bl,or:yl,curry:Cl,compose:vl,noop:xl},El=Bc.isElement,Nl=Zs,Sl=Bc.matchStyleValues("display","block table"),kl=Bc.matchStyleValues("float","left right"),Tl=wl.and(El,Nl,wl.negate(kl)),Al=wl.negate(Bc.matchStyleValues("white-space","pre pre-line pre-wrap")),Bl=Bc.isText,Rl=Bc.isBr,Dl=gs.nodeIndex,_l=fl,Ol=function(e){return"createRange"in e?e.createRange():gs.DOM.createRng()},Pl=function(e){return e&&/[\r\n\t ]/.test(e)},Ll=function(e){return!!e.setStart&&!!e.setEnd},Il=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(Pl(e.toString())&&Al(n.parentNode)&&Bc.isText(n)&&(t=n.data,Pl(t[r-1])||Pl(t[r+1])))},Ml=function(e){var t,n=e.ownerDocument,r=Ol(n),o=n.createTextNode(""),i=e.parentNode;return i.insertBefore(o,e),r.setStart(o,0),r.setEnd(o,1),t=rl(r.getBoundingClientRect()),i.removeChild(o),t},Fl=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&Bc.isText(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),zl(i)}return null},Ul=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},zl=function(e){var t,n;return n=e.getClientRects(),t=rl(n.length>0?n[0]:e.getBoundingClientRect()),!Ll(e)&&Rl(e)&&Ul(t)?Ml(e):Ul(t)&&Ll(e)?Fl(e):t},ql=function(e,t){var n=ol(e,t);return n.width=1,n.right=n.left+1,n},Vl=function(e){var t,n,r=[],o=function(e){0!==e.height&&(r.length>0&&il(e,r[r.length-1])||r.push(e))},i=function(e,t){var n=Ol(e.ownerDocument);if(t<e.data.length){if(ml(e.data[t]))return r;if(ml(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Il(n)))return o(ql(zl(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),Il(n)||o(ql(zl(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Il(n)||o(ql(zl(n),!0)))};if(Bl(e.container()))return i(e.container(),e.offset()),r;if(El(e.container()))if(e.isAtEnd())n=_l(e.container(),e.offset()),Bl(n)&&i(n,n.data.length),Tl(n)&&!Rl(n)&&o(ql(zl(n),!1));else{if(n=_l(e.container(),e.offset()),Bl(n)&&i(n,0),Tl(n)&&e.isAtEnd())return o(ql(zl(n),!1)),r;t=_l(e.container(),e.offset()-1),Tl(t)&&!Rl(t)&&(Sl(t)||Sl(n)||!Tl(n))&&o(ql(zl(t),!1)),Tl(n)&&o(ql(zl(n),!0))}return r};!function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)},e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)},e.after=function(t){return e(t.parentNode,Dl(t)+1)},e.before=function(t){return e(t.parentNode,Dl(t))},e.isAtStart=function(e){return!!e&&e.isAtStart()},e.isAtEnd=function(e){return!!e&&e.isAtEnd()},e.isTextPosition=function(e){return!!e&&Bc.isText(e.container())}}(E||(E={}));var Hl,jl=E,$l=Bc.isElement,Wl=Bc.isText,Kl=function(e){var t=e.parentNode;t&&t.removeChild(e)},Xl=function(e){try{return e.nodeValue}catch(t){return""}},Yl=function(e,t){0===t.length?Kl(e):e.nodeValue=t},Gl=function(e){var t=ks.trim(e);return{count:e.length-t.length,text:t}},Zl=function(e,t){return rf(e),t},Jl=function(e,t){var n=Gl(e.data.substr(0,t.offset())),r=Gl(e.data.substr(t.offset())),o=n.text+r.text;return o.length>0?(Yl(e,o),jl(e,t.offset()-n.count)):t},Ql=function(e,t){var n=t.container(),r=lt.indexOf(n.childNodes,e).map(function(e){return e<t.offset()?jl(n,t.offset()-1):t}).getOr(t);return rf(e),r},ef=function(e,t){return Wl(e)&&t.container()===e?Jl(e,t):Zl(e,t)},tf=function(e,t){return t.container()===e.parentNode?Ql(e,t):Zl(e,t)},nf=function(e,t){return jl.isTextPosition(t)?ef(e,t):tf(e,t)},rf=function(e){if($l(e)&&Ds(e)&&(_s(e)?e.removeAttribute("data-mce-caret"):Kl(e)),Wl(e)){var t=ks.trim(Xl(e));Yl(e,t)}},of={removeAndReposition:nf,remove:rf},af=function(e,t,n){var r=e?jl.before(n):jl.after(n);return mf(e,t,r)},uf=function(e){return Bc.isBr(e)?jl.before(e):jl.after(e)},cf=function(e){return jl.isTextPosition(e)?0===e.offset():Zs(e.getNode())},sf=function(e){if(jl.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Zs(e.getNode(!0))},lf=function(e,t){return!jl.isTextPosition(e)&&!jl.isTextPosition(t)&&e.getNode()===t.getNode(!0)},ff=function(e){return!jl.isTextPosition(e)&&Bc.isBr(e.getNode())},df=function(e,t,n){return e?!lf(t,n)&&!ff(t)&&sf(t)&&cf(n):!lf(n,t)&&cf(t)&&sf(n)},mf=function(e,t,n){var r=bm(t);return Oe.from(e?r.next(n):r.prev(n))},pf=function(e,t,n){return mf(e,t,n).bind(function(r){return $d(n,r,t)&&df(e,n,r)?mf(e,t,r):Oe.some(r)})},gf=function(e,t){var n=e?t.firstChild:t.lastChild;return Bc.isText(n)?Oe.some(jl(n,e?0:n.data.length)):n?Zs(n)?Oe.some(e?jl.before(n):uf(n)):af(e,t,n):Oe.none()},hf={fromPosition:mf,nextPosition:ke.curry(mf,!0),prevPosition:ke.curry(mf,!1),navigate:pf,positionIn:gf,firstPositionIn:ke.curry(gf,!0),lastPositionIn:ke.curry(gf,!1)},vf=Bc.isContentEditableTrue,yf=Bc.isContentEditableFalse,bf=function(e,t,n,r){return t._selectionOverrides.showCaret(e,n,r)},Cf=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},xf=function(e,t){var n;return n=e.fire("BeforeObjectSelected",{target:t}),n.isDefaultPrevented()?null:Cf(t)},wf=function(e,t){var n,r;return t=Jd(1,e.getBody(),t),n=jl.fromRangeStart(t),yf(n.getNode())?bf(1,e,n.getNode(),!n.isAtEnd()):yf(n.getNode(!0))?bf(1,e,n.getNode(!0),!1):(r=e.dom.getParent(n.getNode(),function(e){return yf(e)||vf(e)}),yf(r)?bf(1,e,r,!1):null)},Ef=function(e,t){var n;return t&&t.collapsed?(n=wf(e,t),n?n:t):t},Nf=function(e){for(var t=[],n=function(e){t.push(e)},r=0;r<e.length;r++)e[r].each(n);return t},Sf=function(e,t){for(var n=0;n<e.length;n++){var r=t(e[n],n);if(r.isSome())return r}return Oe.none()},kf=function(e,t){for(var n=[],r=0;r<e.length;r++){var o=e[r];if(!o.isSome())return Oe.none();n.push(o.getOrDie())}return Oe.some(t.apply(null,n))},Tf={cat:Nf,findMap:Sf,liftN:kf};!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(Hl||(Hl={}));var Af,Bf=function(e,t){return Tf.liftN([lt.head(t.getClientRects()),lt.last(e.getClientRects())],ul).getOr(!1)},Rf=function(e,t){return Tf.liftN([lt.last(t.getClientRects()),lt.head(e.getClientRects())],function(e,t){return cl(e,t)}).getOr(!1)},Df=function(e,t){return e===Af.Backwards?t.reverse():t},_f=function(e,t,n){return e===Af.Forwards?t.next(n):t.prev(n)},Of=function(e,t,n,r){return Bc.isBr(r.getNode(t===Af.Forwards))?Hl.Br:$d(n,r)===!1?Hl.Block:Hl.Wrap},Pf=function(e,t,n,r){for(var o,i=bm(n),a=r,u=[];a&&(o=_f(t,i,a));){if(Bc.isBr(o.getNode(!1)))return t===Af.Forwards?{positions:Df(t,u).concat([o]),breakType:Hl.Br,breakAt:Oe.some(o)}:{positions:Df(t,u),breakType:Hl.Br,breakAt:Oe.some(o)};if(o.isVisible()){if(e(a,o)){var c=Of(n,t,a,o);return{positions:Df(t,u),breakType:c,breakAt:Oe.some(o)}}u.push(o),a=o}else a=o}return{positions:Df(t,u),breakType:Hl.Eol,breakAt:Oe.none()}},Lf=function(e,t,n,r){return t(n,r).breakAt.map(function(r){var o=t(n,r).positions;return e===Af.Backwards?o.concat(r):[r].concat(o)}).getOr([])},If=function(e,t){return lt.foldl(e,function(e,n){return e.fold(function(){return Oe.some(n)},function(r){return Tf.liftN([lt.head(r.getClientRects()),lt.head(n.getClientRects())],function(e,o){var i=Math.abs(t-e.left),a=Math.abs(t-o.left);return a<=i?n:r}).or(e)})},Oe.none())},Mf=function(e,t){return lt.head(t.getClientRects()).bind(function(t){return If(e,t.left)})},Ff=ke.curry(Pf,Bf,-1),Uf=ke.curry(Pf,Rf,1),zf=ke.curry(Lf,-1,Ff),qf=ke.curry(Lf,1,Uf),Vf=function(e){return hf.firstPositionIn(e).map(function(t){return[t].concat(Uf(e,t).positions)}).getOr([])},Hf=function(e){return hf.lastPositionIn(e).map(function(t){return Ff(e,t).positions.concat(t)}).getOr([])},jf=function(e){return Xf(ca.body(),e)},$f=function(e,t,n){return lt.filter(Nu.parents(e,n),t)},Wf=function(e,t){return lt.filter(Nu.siblings(e),t)},Kf=function(e,t){return lt.filter(Nu.children(e),t)},Xf=function(e,t){var n=[];return lt.each(Nu.children(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(Xf(e,t))}),n},Yf={all:jf,ancestors:$f,siblings:Wf,children:Kf,descendants:Xf},Gf=function(e){return Ya.all(e)},Zf=function(e,t,n){return Yf.ancestors(e,function(e){return Ya.is(e,t)},n)},Jf=function(e,t){return Yf.siblings(e,function(e){return Ya.is(e,t)})},Qf=function(e,t){return Yf.children(e,function(e){return Ya.is(e,t)})},ed=function(e,t){return Ya.all(t,e)},td={all:Gf,ancestors:Zf,siblings:Jf,children:Qf,descendants:ed},nd=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},rd=function(e,t){return lt.bind(t,function(t){var n=nd(t.getBoundingClientRect(),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})},od=function(e,t,n){return lt.foldl(e,function(e,r){return e.fold(function(){return Oe.some(r)},function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return Oe.some(i<o?r:e)})},Oe.none())},id=function(e,t,n,r,o){var i=td.descendants(Ni.fromDom(n),"td,th").map(function(e){return e.dom()}),a=lt.filter(rd(e,i),function(e){return t(e,o)});return od(a,r,o).map(function(e){return e.cell})},ad=function(e){return e.bottom},ud=function(e){return e.top},cd=function(e,t){return e.y<t},sd=function(e,t){return e.y>t},ld=ke.curry(id,ad,cd),fd=ke.curry(id,ud,sd),dd=function(e,t){return lt.head(t.getClientRects()).bind(function(t){return ld(e,t.left,t.top)}).bind(function(e){return Mf(Hf(e),t)})},md=function(e,t){return lt.last(t.getClientRects()).bind(function(t){return fd(e,t.left,t.top)}).bind(function(e){return Mf(Vf(e),t)})},pd=yi.detect().browser,gd=function(){return pd.isIE()||pd.isEdge()||pd.isFirefox()},hd=function(e,t,n){var r=e(t,n);return r.breakType===Hl.Wrap&&0===r.positions.length?r.breakAt.map(function(n){return e(t,n).breakAt.isNone()}).getOr(!0):r.breakAt.isNone()},vd=wl.curry(hd,Ff),yd=wl.curry(hd,Uf),bd=function(e,t,n){var r=jl.fromRangeStart(t);return hf.positionIn(!e,n).map(function(e){return e.isEqual(r)}).getOr(!1)},Cd=function(e,t,n,r){var o=e.selection.getRng(),i=t?1:-1;if(gd()&&bd(t,o,n)){var a=bf(i,e,n,!t);return e.selection.setRng(a),!0}return!1},xd=function(e,t,n){return dd(t,n).orThunk(function(){return lt.head(n.getClientRects()).bind(function(n){return If(zf(e,jl.before(t)),n.left)})}).getOr(jl.before(t))},wd=function(e,t,n){return md(t,n).orThunk(function(){return lt.head(n.getClientRects()).bind(function(n){return If(qf(e,jl.after(t)),n.left)})}).getOr(jl.after(t))},Ed=function(e,t,n,r){var o=e.selection.getRng(),i=jl.fromRangeStart(o),a=e.getBody();if(!t&&vd(r,i)){
var u=xd(a,n,i);return e.selection.setRng(u.toRange()),!0}if(t&&yd(r,i)){var u=wd(a,n,i);return e.selection.setRng(u.toRange()),!0}return!1},Nd=function(e,t){return function(){return Oe.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Oe.from(e.dom.getParent(n,"table")).map(function(r){return Cd(e,t,r,n)})}).getOr(!1)}},Sd=function(e,t){return function(){return Oe.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Oe.from(e.dom.getParent(n,"table")).map(function(r){return Ed(e,t,r,n)})}).getOr(!1)}},kd=Bc.isContentEditableFalse,Td=function(e){return Bc.isElement(e)&&/^(TD|TH)$/i.test(e.tagName)},Ad=function(e){return e.ownerDocument.activeElement===e},Bd=function(e,t,n){var r,o,i,a,u,c=ol(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,i=e.scrollTop||r.scrollTop):(u=e.getBoundingClientRect(),o=e.scrollLeft-u.left,i=e.scrollTop-u.top),c.left+=o,c.right+=o,c.top+=i,c.bottom+=i,c.width=1,a=t.offsetWidth-t.clientWidth,a>0&&(n&&(a*=-1),c.left+=a,c.right+=a),c},Rd=function(e){var t,n,r,o,i;for(t=Wr("*[contentEditable=false]",e),o=0;o<t.length;o++)n=t[o],r=n.previousSibling,Us(r)&&(i=r.data,1===i.length?r.parentNode.removeChild(r):r.deleteData(i.length-1,1)),r=n.nextSibling,Fs(r)&&(i=r.data,1===i.length?r.parentNode.removeChild(r):r.deleteData(0,1))},Dd=function(e,t){var n,r,o=null,i=function(n,i){var c,s;return a(),Td(i)?null:t(i)?(r=Ms("p",i,n),c=Bd(e,i,n),Wr(r).css("top",c.top),o=Wr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(c).appendTo(e),n&&o.addClass("mce-visual-caret-before"),u(),s=i.ownerDocument.createRange(),s.setStart(r,0),s.setEnd(r,0),s):(r=Os(i,n),s=i.ownerDocument.createRange(),kd(r.nextSibling)?(s.setStart(r,0),s.setEnd(r,0)):(s.setStart(r,1),s.setEnd(r,1)),s)},a=function(){Rd(e),r&&(of.remove(r),r=null),o&&(o.remove(),o=null),clearInterval(n)},u=function(){n=Ut.setInterval(function(){Ad(e)?Wr("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):Wr("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)},c=function(){return Ut.clearInterval(n)},s=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:i,hide:a,getCss:s,destroy:c}},_d=function(e){return kd(e)||Bc.isTable(e)&&gd()},Od=Bc.isContentEditableFalse,Pd=Bc.matchStyleValues("display","block table table-cell table-caption list-item"),Ld=Ds,Id=Bs,Md=wl.curry,Fd=Bc.isElement,Ud=Zs,zd=function(e){return e>0},qd=function(e){return e<0},Vd=function(e,t){for(var n;n=e(t);)if(!Id(n))return n;return null},Hd=function(e,t,n,r,o){var i=new C(e,r);if(qd(t)){if((Od(e)||Id(e))&&(e=Vd(i.prev,!0),n(e)))return e;for(;e=Vd(i.prev,o);)if(n(e))return e}if(zd(t)){if((Od(e)||Id(e))&&(e=Vd(i.next,!0),n(e)))return e;for(;e=Vd(i.next,o);)if(n(e))return e}return null},jd=function(e,t){for(;e&&e!==t;){if(Pd(e))return e;e=e.parentNode}return null},$d=function(e,t,n){return jd(e.container(),n)===jd(t.container(),n)},Wd=function(e,t){var n,r;return t?(n=t.container(),r=t.offset(),Fd(n)?n.childNodes[r+e]:null):null},Kd=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Xd=function(e,t,n){return jd(t,e)===jd(n,e)},Yd=function(e,t,n){var r,o;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],Ld(r)&&(r=r[o]),Od(r)){if(Xd(t,r,n))return r;break}if(Ud(r))break;n=n.parentNode}return null},Gd=Md(Kd,!0),Zd=Md(Kd,!1),Jd=function(e,t,n){var r,o,i,a,u=Md(Yd,!0,t),c=Md(Yd,!1,t);if(o=n.startContainer,i=n.startOffset,Bs(o)){if(Fd(o)||(o=o.parentNode),a=o.getAttribute("data-mce-caret"),"before"===a&&(r=o.nextSibling,_d(r)))return Gd(r);if("after"===a&&(r=o.previousSibling,_d(r)))return Zd(r)}if(!n.collapsed)return n;if(Bc.isText(o)){if(Ld(o)){if(1===e){if(r=c(o))return Gd(r);if(r=u(o))return Zd(r)}if(e===-1){if(r=u(o))return Zd(r);if(r=c(o))return Gd(r)}return n}if(Us(o)&&i>=o.data.length-1)return 1===e&&(r=c(o))?Gd(r):n;if(Fs(o)&&i<=1)return e===-1&&(r=u(o))?Zd(r):n;if(i===o.data.length)return r=c(o),r?Gd(r):n;if(0===i)return r=u(o),r?Zd(r):n}return n},Qd=function(e,t){var n=Wd(e,t);return Od(n)&&!Bc.isBogusAll(n)},em=function(e,t){return Bc.isTable(Wd(e,t))},tm=function(e,t){return Oe.from(Wd(e?0:-1,t)).filter(Od)},nm=function(e,t,n){var r=Jd(e,t,n);return e===-1?E.fromRangeStart(r):E.fromRangeEnd(r)},rm=Md(Qd,0),om=Md(Qd,-1),im=Md(em,0),am=Md(em,-1);!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Af||(Af={}));var um=Bc.isContentEditableFalse,cm=Bc.isText,sm=Bc.isElement,lm=Bc.isBr,fm=Zs,dm=el,mm=tl,pm=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},gm=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},hm=function(e,t){if(zd(e)){if(fm(t.previousSibling)&&!cm(t.previousSibling))return jl.before(t);if(cm(t))return jl(t,0)}if(qd(e)){if(fm(t.nextSibling)&&!cm(t.nextSibling))return jl.after(t);if(cm(t))return jl(t,t.data.length)}return qd(e)?lm(t)?jl.before(t):jl.after(t):jl.before(t)},vm=function(e,t){var n;return!!Bc.isBr(e)&&(n=ym(1,jl.after(e),t),!!n&&!$d(jl.before(e),jl.before(n),t))},ym=function(e,t,n){var r,o,i,a,u;if(!sm(n)||!t)return null;if(t.isEqual(jl.after(n))&&n.lastChild){if(u=jl.after(n.lastChild),qd(e)&&fm(n.lastChild)&&sm(n.lastChild))return lm(n.lastChild)?jl.before(n.lastChild):u}else u=t;var c=u.container(),s=u.offset();if(cm(c)){if(qd(e)&&s>0)return jl(c,--s);if(zd(e)&&s<c.length)return jl(c,++s);r=c}else{if(qd(e)&&s>0&&(o=gm(c,s-1),fm(o)))return!dm(o)&&(i=Hd(o,e,mm,o))?cm(i)?jl(i,i.data.length):jl.after(i):cm(o)?jl(o,o.data.length):jl.before(o);if(zd(e)&&s<c.childNodes.length&&(o=gm(c,s),fm(o)))return vm(o,n)?ym(e,jl.after(o),n):!dm(o)&&(i=Hd(o,e,mm,o))?cm(i)?jl(i,0):jl.before(i):cm(o)?jl(o,0):jl.after(o);r=o?o:u.getNode()}return(zd(e)&&u.isAtEnd()||qd(e)&&u.isAtStart())&&(r=Hd(r,e,wl.constant(!0),n,!0),mm(r,n))?hm(e,r):(o=Hd(r,e,mm,n),a=mr.last(mr.filter(pm(c,n),um)),!a||o&&a.contains(o)?o?hm(e,o):null:u=zd(e)?jl.after(a):jl.before(a))},bm=function(e){return{next:function(t){return ym(Af.Forwards,t,e)},prev:function(t){return ym(Af.Backwards,t,e)}}},Cm=function(e){return e.firstChild&&e.firstChild===e.lastChild},xm=function(e){return"br"===e.name||""===e.value},wm=function(e,t){var n=e.getBlockElements();return n[t.name]&&Cm(t)&&xm(t.firstChild)},Em=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||wm(e,t))},Nm=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),Em(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},Sm=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},km=function(e,t,n){var r=t.serialize(n),o=e.createFragment(r);return Sm(o)},Tm=function(e){return kr.grep(e.childNodes,function(e){return"LI"===e.nodeName})},Am=function(e){return""===e.data||Bc.isBr(e)},Bm=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Am(e.firstChild)},Rm=function(e){return!e.firstChild||Bm(e)},Dm=function(e){return e.length>0&&Rm(e[e.length-1])?e.slice(0,-1):e},_m=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},Om=function(e,t){return!!_m(e,t)},Pm=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},Lm=function(e,t){var n=jl.before(e),r=bm(t),o=r.next(n);return o?o.toRange():null},Im=function(e,t){var n=jl.after(e),r=bm(t),o=r.prev(n);return o?o.toRange():null},Mm=function(e,t,n,r){var o=Pm(e,r),i=e.parentNode;return i.insertBefore(o[0],e),kr.each(t,function(t){i.insertBefore(t,e)}),i.insertBefore(o[1],e),i.removeChild(e),Im(t[t.length-1],n)},Fm=function(e,t,n){var r=e.parentNode;return kr.each(t,function(t){r.insertBefore(t,e)}),Lm(e,n)},Um=function(e,t,n,r){return r.insertAfter(t.reverse(),e),Im(t[0],n)},zm=function(e,t,n,r){var o=km(t,e,r),i=_m(t,n.startContainer),a=Dm(Tm(o.firstChild)),u=1,c=2,s=t.getRoot(),l=function(e){var r=jl.fromRangeStart(n),o=bm(t.getRoot()),a=e===u?o.prev(r):o.next(r);return!a||_m(t,a.getNode())!==i};return l(u)?Fm(i,a,s):l(c)?Um(i,a,s,t):Mm(i,a,s,n)},qm={isListFragment:Nm,insertAtCaret:zm,isParentBlockLi:Om,trimListItems:Dm,listItems:Tm},Vm=Bc.isText,Hm=Bc.isBogus,jm=gs.nodeIndex,$m=function(e){var t=e.parentNode;return Hm(t)?$m(t):t},Wm=function(e){return e?mr.reduce(e.childNodes,function(e,t){return Hm(t)&&"BR"!==t.nodeName?e=e.concat(Wm(t)):e.push(t),e},[]):[]},Km=function(e,t){for(;(e=e.previousSibling)&&Vm(e);)t+=e.data.length;return t},Xm=function(e){return function(t){return e===t}},Ym=function(e){var t,n,r;return t=Wm($m(e)),n=mr.findIndex(t,Xm(e),e),t=t.slice(0,n+1),r=mr.reduce(t,function(e,n,r){return Vm(n)&&Vm(t[r-1])&&e++,e},0),t=mr.filter(t,Bc.matchNodeNames(e.nodeName)),n=mr.findIndex(t,Xm(e),e),n-r},Gm=function(e){var t;return t=Vm(e)?"text()":e.nodeName.toLowerCase(),t+"["+Ym(e)+"]"},Zm=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r},Jm=function(e,t){var n,r,o,i,a,u=[];return n=t.container(),r=t.offset(),Vm(n)?o=Km(n,r):(i=n.childNodes,r>=i.length?(o="after",r=i.length-1):o="before",n=i[r]),u.push(Gm(n)),a=Zm(e,n),a=mr.filter(a,wl.negate(Bc.isBogus)),u=u.concat(mr.map(a,function(e){return Gm(e)})),u.reverse().join("/")+","+o},Qm=function(e,t,n){var r=Wm(e);return r=mr.filter(r,function(e,t){return!Vm(e)||!Vm(r[t-1])}),r=mr.filter(r,Bc.matchNodeNames(t)),r[n]},ep=function(e,t){for(var n,r=e,o=0;Vm(r);){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!Vm(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return Vm(e)&&t>e.data.length&&(t=e.data.length),jl(e,t)},tp=function(e,t){var n,r,o;return t?(n=t.split(","),t=n[0].split("/"),o=n.length>1?n[1]:"before",r=mr.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),Qm(e,t[1],parseInt(t[2],10))):null},e),r?Vm(r)?ep(r,parseInt(o,10)):(o="after"===o?jm(r)+1:jm(r),jl(r.parentNode,o)):null):null},np=Bc.isContentEditableFalse,rp=function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&Bc.isText(r);r=r.previousSibling)o+=e(r.data).length;return o},op=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],c=[],s=0,l=e.getRoot();for(Bc.isText(a)?c.push(n?rp(t,a,u):u):(i=a.childNodes,u>=i.length&&i.length&&(s=1,u=Math.max(0,i.length-1)),c.push(e.nodeIndex(i[u],n)+s));a&&a!==l;a=a.parentNode)c.push(e.nodeIndex(a,n));return c},ip=function(e,t,n,r){var o=t.dom,i={};return i.start=op(o,e,n,r,!0),t.isCollapsed()||(i.end=op(o,e,n,r,!1)),i},ap=function(e){Bc.isText(e)&&0===e.data.length&&e.parentNode.removeChild(e)},up=function(e,t,n){var r=0;return kr.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},cp=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],Bc.isElement(n)&&"TR"===n.nodeName&&(o=n.childNodes,n=o[Math.min(t?r:r-1,o.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},sp=function(e){return cp(e,!0),cp(e,!1),e},lp=function(e,t){var n;if(Bc.isElement(e)&&(e=fl(e,t),np(e)))return e;if(Ds(e)){if(Bc.isText(e)&&Bs(e)&&(e=e.parentNode),n=e.previousSibling,np(n))return n;if(n=e.nextSibling,np(n))return n}},fp=function(e){return lp(e.startContainer,e.startOffset)||lp(e.endContainer,e.endOffset)},dp=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();return np(r)||"IMG"===o?{name:o,index:up(n.dom,o,r)}:(r=fp(i),r?(o=r.tagName,{name:o,index:up(n.dom,o,r)}):ip(e,n,t,i))},mp=function(e){var t=e.getRng();return{start:Jm(e.dom.getRoot(),jl.fromRangeStart(t)),end:Jm(e.dom.getRoot(),jl.fromRangeEnd(t))}},pp=function(e){return{rng:e.getRng()}},gp=function(e){var t=e.dom,n=e.getRng(),r=t.uniqueId(),o=e.isCollapsed(),i="overflow:hidden;line-height:0px",a=e.getNode(),u=a.nodeName,c="&#xFEFF;";if("IMG"===u)return{name:u,index:up(t,u,a)};var s=sp(n.cloneRange());if(!o){s.collapse(!1);var l=t.create("span",{"data-mce-type":"bookmark",id:r+"_end",style:i},c);s.insertNode(l),ap(l.nextSibling)}n=sp(n),n.collapse(!0);var f=t.create("span",{"data-mce-type":"bookmark",id:r+"_start",style:i},c);return n.insertNode(f),ap(f.previousSibling),e.moveToBookmark({id:r,keep:1}),{id:r}},hp=function(e,t,n){return 2===t?dp(ks.trim,n,e):3===t?mp(e):t?pp(e):gp(e)},vp={getBookmark:hp,getUndoBookmark:ke.curry(dp,ke.identity,!0)},yp=function(e,t){return!e.isBlock(t)||t.innerHTML||Rt.ie||(t.innerHTML='<br data-mce-bogus="1" />'),t},bp=function(e,t){var n,r;return n=e.createRng(),r=tp(e.getRoot(),t.start),n.setStart(r.container(),r.offset()),r=tp(e.getRoot(),t.end),n.setEnd(r.container(),r.offset()),n},Cp=function(e,t,n,r){var o,i,a,u,c=n[t?"start":"end"],s=e.getRoot();if(c){for(a=c[0],i=s,o=c.length-1;o>=1;o--){if(u=i.childNodes,c[o]>u.length-1)return;i=u[c[o]]}3===i.nodeType&&(a=Math.min(c[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(c[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},xp=function(e,t,n){var r,o,i,a,u,c,s=e.get(n.id+"_"+t),l=n.keep;if(s){if(r=s.parentNode,"start"===t?(l?(r=s.firstChild,o=1):o=e.nodeIndex(s),u=r,c=o):(l?(r=s.firstChild,o=1):o=e.nodeIndex(s),u=r,c=o),!l){for(a=s.previousSibling,i=s.nextSibling,kr.each(kr.grep(s.childNodes),function(e){Bc.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});s=e.get(n.id+"_"+t);)e.remove(s,1);a&&i&&a.nodeType===i.nodeType&&Bc.isText(a)&&!Rt.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),"start"===t?(u=a,c=o):(u=a,c=o))}return Oe.some(jl(u,c))}return Oe.none()},wp=function(e,t){return e.isSome()?e:t},Ep=function(e,t){var n=e.createRng();return Cp(e,!0,t,n)&&Cp(e,!1,t,n)?Oe.some(n):Oe.none()},Np=function(e,t){var n=xp(e,"start",t),r=xp(e,"end",t);return Tf.liftN([n,wp(r,n)],function(t,n){var r=e.createRng();return r.setStart(yp(e,t.container()),t.offset()),r.setEnd(yp(e,n.container()),n.offset()),r})},Sp=function(e,t){return Oe.from(e.select(t.name)[t.index]).map(function(t){var n=e.createRng();return n.selectNode(t),n})},kp=function(e,t){var n=e.dom;if(t){if(kr.isArray(t.start))return Ep(n,t);if("string"==typeof t.start)return Oe.some(bp(n,t));if(t.id)return Np(n,t);if(t.name)return Sp(n,t);if(t.rng)return Oe.some(t.rng)}return Oe.none()},Tp={resolve:kp},Ap=function(e,t,n){return vp.getBookmark(e,t,n)},Bp=function(e,t){Tp.resolve(e,t).each(function(t){e.setRng(t)})},Rp=function(e){return Bc.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},Dp={getBookmark:Ap,moveToBookmark:Bp,isBookmarkNode:Rp},_p=kr.each,Op=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return _p(e.getAttribs(t),function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))}),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(n=t[r],"undefined"==typeof n)return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!o(r(t),r(n))&&(!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!Dp.isBookmarkNode(t)&&!Dp.isBookmarkNode(n)))}},Pp=function(e,t){var n=Nu.parent(e);n.each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},Lp=function(e,t){var n=Nu.nextSibling(e);n.fold(function(){var n=Nu.parent(e);n.each(function(e){Mp(e,t)})},function(e){Pp(e,t)})},Ip=function(e,t){var n=Nu.firstChild(e);n.fold(function(){Mp(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},Mp=function(e,t){e.dom().appendChild(t.dom())},Fp=function(e,t,n){Nu.child(e,n).fold(function(){Mp(e,t)},function(e){Pp(e,t)})},Up=function(e,t){Pp(e,t),Mp(t,e)},zp={before:Pp,after:Lp,prepend:Ip,append:Mp,appendAt:Fp,wrap:Up},qp=function(e,t){lt.each(t,function(t){zp.before(e,t)})},Vp=function(e,t){lt.each(t,function(n,r){var o=0===r?e:t[r-1];zp.after(o,n)})},Hp=function(e,t){lt.each(t.slice().reverse(),function(t){zp.prepend(e,t)})},jp=function(e,t){lt.each(t,function(t){zp.append(e,t)})},$p={before:qp,after:Vp,prepend:Hp,append:jp},Wp=function(e){e.dom().textContent="",lt.each(Nu.children(e),function(e){Kp(e)})},Kp=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},Xp=function(e){var t=Nu.children(e);t.length>0&&$p.before(e,t),Kp(e)},Yp={empty:Wp,remove:Kp,unwrap:Xp},Gp=N(Pi.isText,"text"),Zp=function(e){return Gp.get(e)},Jp=function(e){return Gp.getOption(e)},Qp=function(e,t){Gp.set(e,t)},eg={get:Zp,getOption:Jp,set:Qp},tg=function(e){for(var t=[],n=e.dom();n;)t.push(Ni.fromDom(n)),n=n.lastChild;return t},ng=function(e){var t=td.descendants(e,"br"),n=lt.filter(tg(e).slice(-1),ic);t.length===n.length&&lt.each(n,Yp.remove)},rg=function(e){Yp.empty(e),zp.append(e,Ni.fromHtml('<br data-mce-bogus="1">'))},og=function(e){return Pi.isText(e)?""===eg.get(e):ic(e)},ig=function(e){return 1===lt.filter(Nu.children(e),og).length},ag=function(e){Nu.lastChild(e).each(function(t){Nu.prevSibling(t).each(function(n){rc(e)&&ic(t)&&rc(n)&&Yp.remove(t)})})},ug={removeTrailingBr:ng,fillWithPaddingBr:rg,isPaddedElement:ig,trimBlockTrailingBr:ag},cg=kr.makeMap,sg=function(e,t,n,r){var o=document.createRange();return o.setStart(e,t),o.setEnd(n,r),o},lg=function(e){var t=jl.fromRangeStart(e),n=jl.fromRangeEnd(e),r=e.commonAncestorContainer;return hf.fromPosition(!1,r,n).map(function(o){return!$d(t,n,r)&&$d(t,o,r)?sg(t.container(),t.offset(),o.container(),o.offset()):e}).getOr(e)},fg=function(e){return e.collapsed?e:lg(e)},dg=function(e){return fg(e)},mg={normalize:dg},pg=Bc.matchNodeNames("td th"),gg=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):e.selection.setContent(t)}},hg=function(e,t){Oe.from(e.getParent(t,"td,th")).map(Ni.fromDom).each(ug.trimBlockTrailingBr)},vg=function(e,t,n){var r,o,i,a,u,c,s,l,f,d,m,p,g=e.schema.getTextInlineElements(),h=e.selection,v=e.dom,y=function(e){var t,n,r;t=h.getRng(),n=t.startContainer,r=t.startOffset;var o=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(r>0?e=e.replace(/^&nbsp;/," "):o("previousSibling")||(e=e.replace(/^ /,"&nbsp;")),r<n.length?e=e.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(e=e.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),e},b=function(){var e,n,r;e=h.getRng(),n=e.startContainer,r=e.startOffset,3===n.nodeType&&e.collapsed&&(""===n.data[r]?(n.deleteData(r,1),/[\u00a0| ]$/.test(t)||(t+=" ")):""===n.data[r-1]&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t)))},C=function(){if(p){var t=e.getBody(),n=new Op(v);kr.each(v.select("*[data-mce-fragment]"),function(e){for(var r=e.parentNode;r&&r!==t;r=r.parentNode)g[e.nodeName.toLowerCase()]&&n.compare(r,e)&&v.remove(e,!0)})}},x=function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},w=function(e){kr.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},E=function(e){return!!e.getAttribute("data-mce-fragment")},N=function(t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},S=function(t){var n,r,o,i=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null};if(t){if(h.scrollIntoView(t),n=i(t))return v.remove(t),void h.select(n);l=v.createRng(),f=t.previousSibling,f&&3===f.nodeType?(l.setStart(f,f.nodeValue.length),Rt.ie||(d=t.nextSibling,d&&3===d.nodeType&&(f.appendData(d.data),d.parentNode.removeChild(d)))):(l.setStartBefore(t),l.setEndBefore(t));var a=function(t){var n=jl.fromRangeStart(t),r=bm(e.getBody());if(n=r.next(n))return n.toRange()};r=v.getParent(t,v.isBlock),v.remove(t),r&&v.isEmpty(r)&&(e.$(r).empty(),l.setStart(r,0),l.setEnd(r,0),pg(r)||E(r)||!(o=a(l))?v.add(r,v.create("br",{"data-mce-bogus":"1"})):(l=o,v.remove(r))),h.setRng(l)}};if(/^ | $/.test(t)&&(t=y(t)),r=e.parser,p=n.merge,o=k({validate:e.settings.validate},e.schema),m='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',c={content:t,format:"html",selection:!0,paste:n.paste},c=e.fire("BeforeSetContent",c),c.isDefaultPrevented())return void e.fire("SetContent",{content:c.content,format:"html",selection:!0,paste:n.paste});t=c.content,t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,m),l=h.getRng();var T=l.startContainer||(l.parentElement?l.parentElement():null),A=e.getBody();T===A&&h.isCollapsed()&&v.isBlock(A.firstChild)&&N(A.firstChild)&&v.isEmpty(A.firstChild)&&(l=v.createRng(),l.setStart(A.firstChild,0),l.setEnd(A.firstChild,0),h.setRng(l)),h.isCollapsed()||(e.selection.setRng(mg.normalize(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),b()),i=h.getNode();var B={context:i.nodeName.toLowerCase(),data:n.data,insert:!0};if(u=r.parse(t,B),n.paste===!0&&qm.isListFragment(e.schema,u)&&qm.isParentBlockLi(v,i))return l=qm.insertAtCaret(o,v,e.selection.getRng(!0),u),e.selection.setRng(l),void e.fire("SetContent",c);if(x(u),f=u.lastChild,"mce_marker"===f.attr("id"))for(s=f,f=f.prev;f;f=f.walk(!0))if(3===f.type||!v.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(s,f,"br"===f.name);break}if(e._selectionOverrides.showBlockCaretContainer(i),B.invalid){for(h.setContent(m),i=h.getNode(),a=e.getBody(),9===i.nodeType?i=f=a:f=i;f!==a;)i=f,f=f.parentNode;t=i===a?a.innerHTML:v.getOuterHTML(i),t=o.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return o.serialize(u)}))),i===a?v.setHTML(a,t):v.setOuterHTML(i,t)}else t=o.serialize(u),gg(e,t,i);C(),S(v.get("mce_marker")),w(e.getBody()),hg(e.dom,e.selection.getStart()),e.fire("SetContent",c),e.addVisual()},yg=function(e){var t;return"string"!=typeof e?(t=kr.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},bg=function(e,t){var n=yg(t);vg(e,n.content,n.details)},Cg={insertAtCaret:bg},xg=function(e){return kg(ca.body(),e)},wg=function(e,t,n){for(var r=e.dom(),o=Mi.isFunction(n)?n:ke.constant(!1);r.parentNode;){r=r.parentNode;var i=Ni.fromDom(r);if(t(i))return Oe.some(i);if(o(i))break}return Oe.none()},Eg=function(e,t,n){var r=function(e){return t(e)};return T(r,wg,e,t,n)},Ng=function(e,t){var n=e.dom();return n.parentNode?Sg(Ni.fromDom(n.parentNode),function(n){return!ru.eq(e,n)&&t(n)}):Oe.none()},Sg=function(e,t){var n=lt.find(e.dom().childNodes,ke.compose(t,Ni.fromDom));return n.map(Ni.fromDom)},kg=function(e,t){var n=function(e){for(var r=0;r<e.childNodes.length;r++){if(t(Ni.fromDom(e.childNodes[r])))return Oe.some(Ni.fromDom(e.childNodes[r]));var o=n(e.childNodes[r]);if(o.isSome())return o}return Oe.none()};return n(e.dom())},Tg={first:xg,ancestor:wg,closest:Eg,sibling:Ng,child:Sg,descendant:kg},Ag=La.immutable("sections","settings"),Bg=yi.detect(),Rg=Bg.deviceType.isTouch(),Dg=["lists","autolink","autosave"],_g={theme:"mobile"},Og=function(e){var t=Mi.isArray(e)?e.join(" "):e,n=lt.map(Mi.isString(t)?t.split(" "):[],si.trim);return lt.filter(n,function(e){return e.length>0})},Pg=function(e){return lt.filter(e,ke.curry(lt.contains,Dg))},Lg=function(e,t){var n=Ki.bifilter(t,function(t,n){return lt.contains(e,n)});return Ag(n.t,n.f)},Ig=function(e,t,n){var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return kr.extend({},n,o)},Mg=function(e,t){return e.sections().hasOwnProperty(t)},Fg=function(e,t,n){return{id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:t,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,padd_empty_editor:!0,render_ui:!0,indentation:"30px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}},Ug=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?kr.extend({},e.external_plugins,n):n},zg=function(e,t){return[].concat(Og(e)).concat(Og(t))},qg=function(e,t,n,r){var o=Og(n.forced_plugins),i=Og(r.plugins),a=e&&Mg(t,"mobile")?Pg(i):i,u=zg(o,a);return kr.extend(r,{plugins:u.join(" ")})},Vg=function(e,t){var n=t.settings().inline;return e&&Mg(t,"mobile")&&!n},Hg=function(e,t,n,r){var o=Lg(["mobile"],r),i=kr.extend(t,n,o.settings(),Vg(e,o)?Ig(o,"mobile",_g):{},{validate:!0,content_editable:o.settings().inline,external_plugins:Ug(n,o.settings())});return qg(e,o,n,i)},jg=function(e,t,n,r,o){var i=Fg(t,n,e);return Hg(Rg,i,r,o)},$g=function(e,t,n){return Oe.from(t.settings[n]).filter(e)},Wg=ke.curry($g,Mi.isString),Kg=function(e){var t={};return"string"==typeof e?lt.each(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){e=e.split("="),e.length>1?t[kr.trim(e[0])]=kr.trim(e[1]):t[kr.trim(e[0])]=kr.trim(e)}):t=e,t},Xg=function(e,t,n,r){var o=t in e.settings?e.settings[t]:n;return"hash"===r?Kg(o):"string"===r?$g(Mi.isString,e,t).getOr(n):"number"===r?$g(Mi.isNumber,e,t).getOr(n):"boolean"===r?$g(Mi.isBoolean,e,t).getOr(n):"object"===r?$g(Mi.isObject,e,t).getOr(n):"array"===r?$g(Mi.isArray,e,t).getOr(n):"function"===r?$g(Mi.isFunction,e,t).getOr(n):o},Yg=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Gg=function(e){return Yg.test(e)},Zg=function(e,t){var n=Wg(e,"inline_boundaries_selector").getOr("a[href],code");return Ya.is(Ni.fromDom(t),n)},Jg=function(e){return"rtl"===gs.DOM.getStyle(e,"direction",!0)||Gg(e.textContent)},Qg=function(e,t,n){return lt.filter(gs.DOM.getParents(n.container(),"*",t),e)},eh=function(e,t,n){var r=Qg(e,t,n);return Oe.from(r[r.length-1])},th=function(e,t,n){var r=jd(t,e),o=jd(n,e);return r&&r===o},nh=function(e){return Ps(e)||Ls(e)},rh=function(e,t){var n=t.container(),r=t.offset();return e?Rs(n)?Bc.isText(n.nextSibling)?jl(n.nextSibling,0):jl.after(n):Ps(t)?jl(n,r+1):t:Rs(n)?Bc.isText(n.previousSibling)?jl(n.previousSibling,n.previousSibling.data.length):jl.before(n):Ls(t)?jl(n,r-1):t},oh=ke.curry(rh,!0),ih=ke.curry(rh,!1),ah={isInlineTarget:Zg,findRootInline:eh,isRtl:Jg,isAtZwsp:nh,normalizePosition:rh,normalizeForwards:oh,normalizeBackwards:ih,hasSameParentBlock:th},uh=function(e){return function(t){return ru.eq(e,Ni.fromDom(t.dom().parentNode))}},ch=function(e,t){return ru.contains(e,t)?Tg.closest(t,function(e){return ac(e)||cc(e)},uh(e)):Oe.none()},sh=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},lh=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),sh(e))},fh=function(e,t,n){return Tf.liftN([hf.firstPositionIn(n),hf.lastPositionIn(n)],function(r,o){var i=ah.normalizePosition(!0,r),a=ah.normalizePosition(!1,o),u=ah.normalizePosition(!1,t);return e?hf.nextPosition(n,u).map(function(e){return e.isEqual(a)&&t.isEqual(i)}).getOr(!1):hf.prevPosition(n,u).map(function(e){return e.isEqual(i)&&t.isEqual(a)}).getOr(!1)}).getOr(!0)},dh={getParentBlock:ch,paddEmptyBody:lh,willDeleteLastPositionInElement:fh},mh=function(e){return Ya.one(e)},ph=function(e,t,n){return Tg.ancestor(e,function(e){return Ya.is(e,t)},n)},gh=function(e,t){return Tg.sibling(e,function(e){return Ya.is(e,t)})},hh=function(e,t){return Tg.child(e,function(e){return Ya.is(e,t)})},vh=function(e,t){return Ya.one(t,e)},yh=function(e,t,n){return T(Ya.is,ph,e,t,n)},bh={first:mh,ancestor:ph,sibling:gh,child:hh,descendant:vh,closest:yh},Ch=function(e){return bh.first(e).isSome()},xh=function(e,t,n){return bh.ancestor(e,t,n).isSome()},wh=function(e,t){return bh.sibling(e,t).isSome()},Eh=function(e,t){return bh.child(e,t).isSome()},Nh=function(e,t){return bh.descendant(e,t).isSome()},Sh=function(e,t,n){return bh.closest(e,t,n).isSome()},kh={any:Ch,ancestor:xh,sibling:wh,child:Eh,descendant:Nh,closest:Sh},Th=function(e,t){var n=Ni.fromDom(e),r=Ni.fromDom(t);return kh.ancestor(r,"pre,code",ke.curry(ru.eq,n))},Ah=function(e,t){return Bc.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&Th(e,t)===!1},Bh=function(e){return Bc.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name")},Rh=function(e,t){return Zs(t)&&Ah(e,t)===!1||Bh(t)||Dh(t)},Dh=Bc.hasAttribute("data-mce-bookmark"),_h=Bc.hasAttribute("data-mce-bogus"),Oh=Bc.hasAttributeValue("data-mce-bogus","all"),Ph=function(e){var t,n,r=0;if(Rh(e,e))return!1;if(n=e.firstChild,!n)return!0;t=new C(n,e);do if(Oh(n))n=t.next(!0);else if(_h(n))n=t.next();else if(Bc.isBr(n))r++,n=t.next();else{if(Rh(e,n))return!1;n=t.next()}while(n);return r<=1},Lh=function(e){return Ph(e.dom())},Ih={isEmpty:Lh},Mh=La.immutable("block","position"),Fh=La.immutable("from","to"),Uh=function(e,t){var n=Ni.fromDom(e),r=Ni.fromDom(t.container());return dh.getParentBlock(n,r).map(function(e){return Mh(e,t)})},zh=function(e){return ru.eq(e.from().block(),e.to().block())===!1},qh=function(e){return Nu.parent(e.from().block()).bind(function(t){return Nu.parent(e.to().block()).filter(function(e){return ru.eq(t,e)})}).isSome()},Vh=function(e){return Bc.isContentEditableFalse(e.from().block())===!1&&Bc.isContentEditableFalse(e.to().block())===!1},Hh=function(e,t,n){return Bc.isBr(n.position().getNode())&&Ih.isEmpty(n.block())===!1?hf.positionIn(!1,n.block().dom()).bind(function(r){return r.isEqual(n.position())?hf.fromPosition(t,e,r).bind(function(t){return Uh(e,t)}):Oe.some(n)}).getOr(n):n},jh=function(e,t,n){var r=Uh(e,jl.fromRangeStart(n)),o=r.bind(function(n){return hf.fromPosition(t,e,n.position()).bind(function(n){return Uh(e,n).map(function(n){return Hh(e,t,n)})})});return Tf.liftN([r,o],Fh).filter(function(e){return zh(e)&&qh(e)&&Vh(e)})},$h=function(e,t,n){return n.collapsed?jh(e,t,n):Oe.none()},Wh={read:$h},Kh=function(e){return e.slice(0,-1)},Xh=function(e,t,n){return ru.contains(t,e)?Kh(Nu.parents(e,function(e){return n(e)||ru.eq(e,t)})):[]},Yh=function(e,t){return Xh(e,t,ke.constant(!1))},Gh=function(e,t){return[e].concat(Yh(e,t))},Zh={parentsUntil:Xh,parents:Yh,parentsAndSelf:Gh},Jh=function(e){var t=Nu.children(e);return lt.findIndex(t,rc).fold(function(){return t},function(e){return t.slice(0,e)})},Qh=function(e){var t=Jh(e);return lt.each(t,function(e){Yp.remove(e)}),t},ev=function(e,t){hf.positionIn(e,t.dom()).each(function(e){var t=e.getNode();Bc.isBr(t)&&Yp.remove(Ni.fromDom(t))})},tv=function(e,t){var n=Zh.parentsAndSelf(t,e);return lt.find(n.reverse(),Ih.isEmpty).each(Yp.remove)},nv=function(e,t){var n=Nu.parents(t,function(t){return ru.eq(t,e)});return Oe.from(n[n.length-2])},rv=function(e,t){return ru.contains(t,e)?Nu.parent(e).bind(function(n){return ru.eq(n,t)?Oe.some(e):nv(t,e)}):Oe.none()},ov=function(e,t,n){if(Ih.isEmpty(n))return Yp.remove(n),Ih.isEmpty(t)&&ug.fillWithPaddingBr(t),hf.firstPositionIn(t.dom());ev(!0,t),ev(!1,n);var r=Qh(t);return rv(t,n).fold(function(){tv(e,t);var o=hf.lastPositionIn(n.dom());return lt.each(r,function(e){zp.append(n,e)}),o},function(o){var i=hf.prevPosition(n.dom(),jl.before(o.dom()));return lt.each(r,function(e){zp.before(o,e)}),tv(e,t),i})},iv=function(e,t,n,r){return t?ov(e,r,n):ov(e,n,r)},av={mergeBlocks:iv},uv=function(e,t){var n,r=Ni.fromDom(e.getBody());return n=Wh.read(r.dom(),t,e.selection.getRng()).bind(function(e){return av.mergeBlocks(r,t,e.from().block(),e.to().block());
}),n.each(function(t){e.selection.setRng(t.toRange())}),n.isSome()},cv={backspaceDelete:uv},sv=function(e,t){var n=t.getRng();return Tf.liftN([dh.getParentBlock(e,Ni.fromDom(n.startContainer)),dh.getParentBlock(e,Ni.fromDom(n.endContainer))],function(r,o){return ru.eq(r,o)===!1&&(n.deleteContents(),av.mergeBlocks(e,!0,r,o).each(function(e){t.setRng(e.toRange())}),!0)}).getOr(!1)},lv=function(e,t){var n=Ni.fromDom(t),r=ke.curry(ru.eq,e);return Tg.ancestor(n,fc,r).isSome()},fv=function(e,t){return lv(e,t.startContainer)||lv(e,t.endContainer)},dv=function(e,t){var n=hf.prevPosition(e.dom(),jl.fromRangeStart(t)).isNone(),r=hf.nextPosition(e.dom(),jl.fromRangeEnd(t)).isNone();return!fv(e,t)&&n&&r},mv=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},pv=function(e){var t=Ni.fromDom(e.getBody()),n=e.selection.getRng();return dv(t,n)?mv(e):sv(t,e.selection)},gv=function(e,t){return!e.selection.isCollapsed()&&pv(e)},hv={backspaceDelete:gv},vv=function(e){if(!Mi.isArray(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var t=[],n={};return lt.each(e,function(r,o){var i=Ki.keys(r);if(1!==i.length)throw new Error("one and only one name per case");var a=i[0],u=r[a];if(void 0!==n[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!Mi.isArray(u))throw new Error("case arguments must be an array");t.push(a),n[a]=function(){var n=arguments.length;if(n!==u.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+u.length+" ("+u+"), got "+n);for(var r=new Array(n),i=0;i<r.length;i++)r[i]=arguments[i];var c=function(e){var n=Ki.keys(e);if(t.length!==n.length)throw new Error("Wrong number of arguments to match. Expected: "+t.join(",")+"\nActual: "+n.join(","));var o=lt.forall(t,function(e){return lt.contains(n,e)});if(!o)throw new Error("Not all branches were specified when using match. Specified: "+n.join(", ")+"\nRequired: "+t.join(", "));return e[a].apply(null,r)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[o];return t.apply(null,r)},match:c,log:function(e){console.log(e,{constructors:t,constructor:a,params:r})}}}}),n},yv={generate:vv},bv=function(e){return fc(Ni.fromDom(e))||cc(Ni.fromDom(e))},Cv=yv.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),xv=function(e,t){var n=t.getNode(e===!1),r=e?"after":"before";return Bc.isElement(n)&&n.getAttribute("data-mce-caret")===r},wv=function(e,t,n,r){var o=function(t){return oc(Ni.fromDom(t))&&!$d(n,r,e)};return tm(!t,n).fold(function(){return tm(t,r).fold(ke.constant(!1),o)},o)},Ev=function(e,t,n,r){var o=r.getNode(t===!1);return dh.getParentBlock(Ni.fromDom(e),Ni.fromDom(n.getNode())).map(function(e){return Ih.isEmpty(e)?Cv.remove(e.dom()):Cv.moveToElement(o)}).orThunk(function(){return Oe.some(Cv.moveToElement(o))})},Nv=function(e,t,n){return hf.fromPosition(t,e,n).bind(function(r){return bv(r.getNode())?Oe.none():wv(e,t,n,r)?Oe.none():t&&Bc.isContentEditableFalse(r.getNode())?Ev(e,t,n,r):t===!1&&Bc.isContentEditableFalse(r.getNode(!0))?Ev(e,t,n,r):t&&om(n)?Oe.some(Cv.moveToPosition(r)):t===!1&&rm(n)?Oe.some(Cv.moveToPosition(r)):Oe.none()})},Sv=function(e,t){return e&&Bc.isContentEditableFalse(t.nextSibling)?Oe.some(Cv.moveToElement(t.nextSibling)):e===!1&&Bc.isContentEditableFalse(t.previousSibling)?Oe.some(Cv.moveToElement(t.previousSibling)):Oe.none()},kv=function(e,t,n){return n.fold(function(e){return Oe.some(Cv.remove(e))},function(e){return Oe.some(Cv.moveToElement(e))},function(n){return $d(t,n,e)?Oe.none():Oe.some(Cv.moveToPosition(n))})},Tv=function(e,t,n){return xv(t,n)?Sv(t,n.getNode(t===!1)).fold(function(){return Nv(e,t,n)},Oe.some):Nv(e,t,n).bind(function(t){return kv(e,n,t)})},Av=function(e,t,n){var r=Jd(t?1:-1,e,n),o=jl.fromRangeStart(r);return t===!1&&om(o)?Oe.some(Cv.remove(o.getNode(!0))):t&&rm(o)?Oe.some(Cv.remove(o.getNode())):Tv(e,t,o)},Bv=function(e,t){var n=e.container(),r=e.offset();return jl.isTextPosition(e)===!1&&n===t.parentNode&&r>jl.before(t).offset()},Rv=function(e,t){return Bv(t,e)?jl(t.container(),t.offset()-1):t},Dv=function(e){return Bc.isText(e)?jl(e,0):jl.before(e)},_v=function(e){return Bc.isText(e)?jl(e,e.data.length):jl.after(e)},Ov=function(e){return Zs(e.previousSibling)?Oe.some(_v(e.previousSibling)):e.previousSibling?hf.lastPositionIn(e.previousSibling):Oe.none()},Pv=function(e){return Zs(e.nextSibling)?Oe.some(Dv(e.nextSibling)):e.nextSibling?hf.firstPositionIn(e.nextSibling):Oe.none()},Lv=function(e,t){var n=jl.before(t.previousSibling?t.previousSibling:t.parentNode);return hf.prevPosition(e,n).fold(function(){return hf.nextPosition(e,jl.after(t))},Oe.some)},Iv=function(e,t){return hf.nextPosition(e,jl.after(t)).fold(function(){return hf.prevPosition(e,jl.before(t))},Oe.some)},Mv=function(e,t){return Ov(t).orThunk(function(){return Pv(t)}).orThunk(function(){return Lv(e,t)})},Fv=function(e,t){return Pv(t).orThunk(function(){return Ov(t)}).orThunk(function(){return Iv(e,t)})},Uv=function(e,t,n){return e?Fv(t,n):Mv(t,n)},zv=function(e,t,n){return Uv(e,t,n).map(ke.curry(Rv,n))},qv=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},Vv=function(e){return function(t){return t.dom()===e}},Hv=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(Pi.name(t))},jv=function(e){if(Ih.isEmpty(e)){var t=Ni.fromHtml('<br data-mce-bogus="1">');return Yp.empty(e),zp.append(e,t),Oe.some(jl.before(t.dom()))}return Oe.none()},$v=function(e,t){return Tf.liftN([Nu.prevSibling(e),Nu.nextSibling(e),t],function(t,n,r){var o,i=t.dom(),a=n.dom();return Bc.isText(i)&&Bc.isText(a)?(o=i.data.length,i.appendData(a.data),Yp.remove(n),Yp.remove(e),r.container()===a?jl(i,o):r):(Yp.remove(e),r)}).orThunk(function(){return Yp.remove(e),t})},Wv=function(e,t,n){var r=zv(t,e.getBody(),n.dom()),o=Tg.ancestor(n,ke.curry(Hv,e),Vv(e.getBody())),i=$v(n,r);e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):o.bind(jv).fold(function(){qv(e,t,i)},function(n){qv(e,t,Oe.some(n))})},Kv={deleteElement:Wv},Xv=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),Kv.deleteElement(e,t,Ni.fromDom(n)),!0}},Yv=function(e,t){return function(n){var r=t?jl.before(n):jl.after(n);return e.selection.setRng(r.toRange()),!0}},Gv=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},Zv=function(e,t){var n=Av(e.getBody(),t,e.selection.getRng()).map(function(n){return n.fold(Xv(e,t),Yv(e,t),Gv(e))});return n.getOr(!1)},Jv=function(e){lt.each(td.descendants(e,".mce-offscreen-selection"),Yp.remove)},Qv=function(e,t){var n=e.selection.getNode();return!!Bc.isContentEditableFalse(n)&&(Jv(Ni.fromDom(e.getBody())),Kv.deleteElement(e,t,Ni.fromDom(e.selection.getNode())),dh.paddEmptyBody(e),!0)},ey=function(e,t){for(;t&&t!==e;){if(Bc.isContentEditableTrue(t)||Bc.isContentEditableFalse(t))return t;t=t.parentNode}return null},ty=function(e){var t,n=ey(e.getBody(),e.selection.getNode());return Bc.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(jl.before(t).toRange())),!0},ny=function(e,t){return e.selection.isCollapsed()?Zv(e,t):Qv(e,t)},ry={backspaceDelete:ny,paddEmptyElement:ty},oy=Bc.isText,iy=function(e){return oy(e)&&e.data[0]===ks.ZWSP},ay=function(e){return oy(e)&&e.data[e.data.length-1]===ks.ZWSP},uy=function(e){return e.ownerDocument.createTextNode(ks.ZWSP)},cy=function(e){if(oy(e.previousSibling))return ay(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData(ks.ZWSP),e.previousSibling);if(oy(e))return iy(e)?e:(e.insertData(0,ks.ZWSP),e);var t=uy(e);return e.parentNode.insertBefore(t,e),t},sy=function(e){if(oy(e.nextSibling))return iy(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,ks.ZWSP),e.nextSibling);if(oy(e))return ay(e)?e:(e.appendData(ks.ZWSP),e);var t=uy(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},ly=function(e,t){return e?cy(t):sy(t)},fy=ke.curry(ly,!0),dy=ke.curry(ly,!1),my=function(e,t){return Bc.isText(e.container())?ly(t,e.container()):ly(t,e.getNode())},py=function(e,t){var n=t.get();return n&&e.container()===n&&Rs(n)},gy=function(e,t){return t.fold(function(t){of.remove(e.get());var n=fy(t);return e.set(n),Oe.some(jl(n,n.length-1))},function(t){return hf.firstPositionIn(t).map(function(t){if(py(t,e))return jl(e.get(),1);of.remove(e.get());var n=my(t,!0);return e.set(n),jl(n,1)})},function(t){return hf.lastPositionIn(t).map(function(t){if(py(t,e))return jl(e.get(),e.get().length-1);of.remove(e.get());var n=my(t,!1);return e.set(n),jl(n,n.length-1)})},function(t){of.remove(e.get());var n=dy(t);return e.set(n),Oe.some(jl(n,1))})},hy={renderCaret:gy},vy=function(e){return e&&/^(IMG)$/.test(e.nodeName)},yy=function(e,t,n){var r,o,i,a=n.startContainer,u=n.startOffset;if((n.startContainer!==n.endContainer||!vy(n.startContainer.childNodes[n.startOffset]))&&(3===a.nodeType&&u>=a.nodeValue.length&&(u=e.nodeIndex(a),a=a.parentNode),1===a.nodeType))for(i=a.childNodes,u<i.length?(a=i[u],r=new C(a,e.getParent(a,e.isBlock))):(a=i[i.length-1],r=new C(a,e.getParent(a,e.isBlock)),r.next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!wy(o))return n.setStart(o,0),void t.setRng(n)},by=function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!wy(e))return e},Cy=function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},xy=function(e,t,n){return e.schema.isValidChild(t,n)},wy=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},Ey=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},Ny=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},Sy=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},ky=function(e,t,n){return Sy(e,e.getStyle(t,n),n)},Ty=function(e,t){var n;return e.getParent(t,function(t){return n=e.getStyle(t,"text-decoration"),n&&"none"!==n}),n},Ay=function(e,t,n){return e.getParents(t,n,e.getRoot())},By={isInlineBlock:vy,moveStart:yy,getNonWhiteSpaceSibling:by,isTextBlock:Cy,isValid:xy,isWhiteSpaceNode:wy,replaceVars:Ey,isEq:Ny,normalizeStyleValue:Sy,getStyle:ky,getTextDecoration:Ty,getParents:Ay},Ry=Dp.isBookmarkNode,Dy=By.getParents,_y=By.isWhiteSpaceNode,Oy=By.isTextBlock,Py=function(e,t){for("undefined"==typeof t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},Ly=function(e,t){var n=Py(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=Py(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(e=n.node,e.splitText(n.offset-1))}return e},Iy=function(e){return"BR"===e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},My=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Fy=function(e,t,n,r){var o,i,a=n.nodeValue;return"undefined"==typeof r&&(r=e?a.length:0),e?(o=a.lastIndexOf(" ",r),i=a.lastIndexOf("",r),o=o>i?o:i,o===-1||t||o++):(o=a.indexOf(" ",r),i=a.indexOf("",r),o=o!==-1&&(i===-1||o<i)?o:i),o},Uy=function(e,t,n,r,o,i){var a,u,c,s;if(3===n.nodeType){if(c=Fy(o,i,n,r),c!==-1)return{container:n,offset:c};s=n}for(a=new C(n,e.getParent(n,e.isBlock)||t);u=a[o?"prev":"next"]();)if(3===u.nodeType){if(s=u,c=Fy(o,i,u),c!==-1)return{container:u,offset:c}}else if(e.isBlock(u))break;if(s)return r=o?0:s.length,{container:s,offset:r}},zy=function(e,t,n,r,o){var i,a,u,c;for(3===r.nodeType&&0===r.nodeValue.length&&r[o]&&(r=r[o]),i=Dy(e,r),a=0;a<i.length;a++)for(u=0;u<t.length;u++)if(c=t[u],!("collapsed"in c&&c.collapsed!==n.collapsed)&&e.is(i[a],c.selector))return i[a];return r},qy=function(e,t,n,r){var o,i=e.dom,a=i.getRoot();if(t[0].wrapper||(o=i.getParent(n,t[0].block,a)),!o){var u=i.getParent(n,"LI,TD,TH");o=i.getParent(3===n.nodeType?n.parentNode:n,function(t){return t!==a&&Oy(e,t)},u)}if(o&&t[0].wrapper&&(o=Dy(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!By.isEq(o,"br")););return o||n},Vy=function(e,t,n,r,o,i,a){var u,c,s,l,f;if(u=c=a?n:o,l=a?"previousSibling":"nextSibling",f=e.getRoot(),3===u.nodeType&&!_y(u)&&(a?r>0:i<u.nodeValue.length))return u;for(;;){if(!t[0].block_expand&&e.isBlock(c))return c;for(s=c[l];s;s=s[l])if(!Ry(s)&&!_y(s)&&!Iy(s))return c;if(c===f||c.parentNode===f){u=c;break}c=c.parentNode}return u},Hy=function(e,t,n,r){var o,i=t.startContainer,a=t.startOffset,u=t.endContainer,c=t.endOffset,s=e.dom;return 1===i.nodeType&&i.hasChildNodes()&&(i=fl(i,a),3===i.nodeType&&(a=0)),1===u.nodeType&&u.hasChildNodes()&&(u=fl(u,t.collapsed?c:c-1),3===u.nodeType&&(c=u.nodeValue.length)),i=My(s,i),u=My(s,u),(Ry(i.parentNode)||Ry(i))&&(i=Ry(i)?i:i.parentNode,i=i.nextSibling||i,3===i.nodeType&&(a=0)),(Ry(u.parentNode)||Ry(u))&&(u=Ry(u)?u:u.parentNode,u=u.previousSibling||u,3===u.nodeType&&(c=u.length)),n[0].inline&&(t.collapsed&&(o=Uy(s,e.getBody(),i,a,!0,r),o&&(i=o.container,a=o.offset),o=Uy(s,e.getBody(),u,c,!1,r),o&&(u=o.container,c=o.offset)),u=r?u:Ly(u,c)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===i.nodeType&&0!==a||(i=Vy(s,n,i,a,u,c,!0)),n[0].inline&&3===u.nodeType&&c!==u.nodeValue.length||(u=Vy(s,n,i,a,u,c,!1))),n[0].selector&&n[0].expand!==!1&&!n[0].inline&&(i=zy(s,n,t,i,"previousSibling"),u=zy(s,n,t,u,"nextSibling")),(n[0].block||n[0].selector)&&(i=qy(e,n,i,"previousSibling"),u=qy(e,n,u,"nextSibling"),n[0].block&&(s.isBlock(i)||(i=Vy(s,n,i,a,u,c,!0)),s.isBlock(u)||(u=Vy(s,n,i,a,u,c,!1)))),1===i.nodeType&&(a=s.nodeIndex(i),i=i.parentNode),1===u.nodeType&&(c=s.nodeIndex(u)+1,u=u.parentNode),{startContainer:i,startOffset:a,endContainer:u,endOffset:c}},jy={expandRng:Hy},$y=By.isEq,Wy=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(r[o].inherit===!1&&e.dom.is(t,r[o].selector))return!0;return!1},Ky=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,function(t){return!!Wy(e,t,n)||(t.parentNode===o||!!Gy(e,t,n,r,!0))}),Gy(e,t,n,r))},Xy=function(e,t,n){return!!$y(t,n.inline)||(!!$y(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},Yy=function(e,t,n,r,o,i){var a,u,c,s=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(s)if("undefined"==typeof s.length){for(a in s)if(s.hasOwnProperty(a)){if(u="attributes"===r?e.getAttrib(t,a):By.getStyle(e,t,a),o&&!u&&!n.exact)return;if((!o||n.exact)&&!$y(u,By.normalizeStyleValue(e,By.replaceVars(s[a],i),a)))return}}else for(c=0;c<s.length;c++)if("attributes"===r?e.getAttrib(t,s[c]):By.getStyle(e,t,s[c]))return n;return n},Gy=function(e,t,n,r,o){var i,a,u,c,s=e.formatter.get(n),l=e.dom;if(s&&t)for(a=0;a<s.length;a++)if(i=s[a],Xy(e.dom,t,i)&&Yy(l,t,i,"attributes",o,r)&&Yy(l,t,i,"styles",o,r)){if(c=i.classes)for(u=0;u<c.length;u++)if(!e.dom.hasClass(t,c[u]))return;return i}},Zy=function(e,t,n,r){var o;return r?Ky(e,r,t,n):(r=e.selection.getNode(),!!Ky(e,r,t,n)||(o=e.selection.getStart(),!(o===r||!Ky(e,o,t,n))))},Jy=function(e,t,n){var r,o=[],i={};return r=e.selection.getStart(),e.dom.getParent(r,function(r){var a,u;for(a=0;a<t.length;a++)u=t[a],!i[u]&&Gy(e,r,u,n)&&(i[u]=!0,o.push(u))},e.dom.getRoot()),o},Qy=function(e,t){var n,r,o,i,a,u=e.formatter.get(t),c=e.dom;if(u)for(n=e.selection.getStart(),r=By.getParents(c,n),i=u.length-1;i>=0;i--){if(a=u[i].selector,!a||u[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(c.is(r[o],a))return!0}return!1},eb={matchNode:Gy,matchName:Xy,match:Zy,matchAll:Jy,canApply:Qy,matchesUnInheritedFormatSelector:Wy},tb=function(e,t){return e.splitText(t)},nb=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&Bc.isText(t)?n>0&&n<t.nodeValue.length&&(r=tb(t,n),t=r.previousSibling,o>n?(o-=n,t=r=tb(r,o).previousSibling,o=r.nodeValue.length,n=0):o=0):(Bc.isText(t)&&n>0&&n<t.nodeValue.length&&(t=tb(t,n),n=0),Bc.isText(r)&&o>0&&o<r.nodeValue.length&&(r=tb(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},rb={split:nb},ob=ks.ZWSP,ib="_mce_caret",ab=function(e,t){return e.importNode(t,!0)},ub=function(e){return 1===e.nodeType&&e.id===ib},cb=function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==ob||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},sb=function(e){return cb(e).length>0},lb=function(e){var t;if(e)for(t=new C(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e;return null},fb=function(e){var t=Ni.fromTag("span");return oa.setAll(t,{id:ib,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&zp.append(t,Ni.fromText(ob)),t},db=function(e,t){for(;t&&t!==e;){if(t.id===ib)return t;t=t.parentNode}return null},mb=function(e){var t=lb(e);return t&&t.nodeValue.charAt(0)===ob&&t.deleteData(0,1),t},pb=function(e,t,n,r){var o,i,a;o=t.getRng(!0),i=e.getParent(n,e.isBlock),sb(n)?(r!==!1&&(o.setStartBefore(n),o.setEndBefore(n)),e.remove(n)):(a=mb(n),o.startContainer===a&&o.startOffset>0&&o.setStart(a,o.startOffset-1),o.endContainer===a&&o.endOffset>0&&o.setEnd(a,o.endOffset-1),e.remove(n,!0)),i&&e.isEmpty(i)&&ug.fillWithPaddingBr(Ni.fromDom(i)),t.setRng(o)},gb=function(e,t,n,r,o){if(r)pb(t,n,r,o);else if(r=db(e,n.getStart()),!r)for(;r=t.get(ib);)pb(t,n,r,!1)},hb=function(e,t,n){var r=e.dom,o=r.getParent(n,wl.curry(By.isTextBlock,e));o&&r.isEmpty(o)?n.parentNode.replaceChild(t,n):(ug.removeTrailingBr(Ni.fromDom(n)),r.isEmpty(n)?n.parentNode.replaceChild(t,n):r.insertAfter(t,n))},vb=function(e,t){return e.appendChild(t),t},yb=function(e,t){var n=lt.foldr(e,function(e,t){return vb(e,t.cloneNode(!1))},t);return vb(n,n.ownerDocument.createTextNode(ob))},bb=function(e,t,n){var r,o,i,a,u,c,s,l=e.selection;r=l.getRng(!0),a=r.startOffset,c=r.startContainer,s=c.nodeValue,o=db(e.getBody(),l.getStart()),o&&(i=lb(o));var f=/[^\s\u00a0\u00ad\u200b\ufeff]/;s&&a>0&&a<s.length&&f.test(s.charAt(a))&&f.test(s.charAt(a-1))?(u=l.getBookmark(),r.collapse(!0),r=jy.expandRng(e,r,e.formatter.get(t)),r=rb.split(r),e.formatter.apply(t,n,r),l.moveToBookmark(u)):(o&&i.nodeValue===ob?e.formatter.apply(t,n,o):(o=ab(e.getDoc(),fb(!0).dom()),i=o.firstChild,r.insertNode(o),a=1,e.formatter.apply(t,n,o)),l.setCursorLocation(i,a))},Cb=function(e,t,n,r){var o,i,a,u,c,s,l,f=e.dom,d=e.selection,m=[],p=d.getRng();for(o=p.startContainer,i=p.startOffset,c=o,3===o.nodeType&&(i!==o.nodeValue.length&&(u=!0),c=c.parentNode);c;){if(eb.matchNode(e,c,t,n,r)){s=c;break}c.nextSibling&&(u=!0),m.push(c),c=c.parentNode}if(s)if(u){a=d.getBookmark(),p.collapse(!0);var g=jy.expandRng(e,p,e.formatter.get(t),!0);g=rb.split(g),e.formatter.remove(t,n,g),d.moveToBookmark(a)}else{l=db(e.getBody(),s);var h=fb(!1).dom(),v=yb(m,h);l?hb(e,h,l):hb(e,h,s),pb(f,d,l,!1),d.setCursorLocation(v,1),f.isEmpty(s)&&f.remove(s)}},xb=function(e,t,n,r){gb(e,t,n,null,!1),8===r&&n.isCollapsed()&&n.getStart().innerHTML===ob&&gb(e,t,n,db(e,n.getStart())),37!==r&&39!==r||gb(e,t,n,db(e,n.getStart()))},wb=function(e){var t=e.dom,n=e.selection,r=e.getBody();e.on("mouseup keydown",function(e){xb(r,t,n,e.keyCode)})},Eb=function(e,t){var n=fb(!1),r=yb(t,n.dom());return zp.before(Ni.fromDom(e),n),Yp.remove(Ni.fromDom(e)),jl(r,0)},Nb=function(e,t){var n=e.schema.getTextInlineElements();return n.hasOwnProperty(Pi.name(t))&&!ub(t.dom())&&!Bc.isBogus(t.dom())},Sb={setup:wb,applyCaretFormat:bb,removeCaretFormat:Cb,isCaretNode:ub,getParentCaretContainer:db,replaceWithCaretFormat:Eb,isFormatElement:Nb},kb=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return Oe.none()},Tb={evaluateUntil:kb},Ab=yv.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),Bb=function(e,t){var n=jd(t,e);return n?n:e},Rb=function(e,t,n){var r=ah.normalizeForwards(n),o=Bb(t,r.container());return ah.findRootInline(e,o,r).fold(function(){return hf.nextPosition(o,r).bind(ke.curry(ah.findRootInline,e,o)).map(function(e){return Ab.before(e)})},Oe.none)},Db=function(e,t){return null===Sb.getParentCaretContainer(e,t)},_b=function(e,t,n){return ah.findRootInline(e,t,n).filter(ke.curry(Db,t))},Ob=function(e,t,n){var r=ah.normalizeBackwards(n);return _b(e,t,r).bind(function(e){var t=hf.prevPosition(e,r);return t.isNone()?Oe.some(Ab.start(e)):Oe.none()})},Pb=function(e,t,n){var r=ah.normalizeForwards(n);return _b(e,t,r).bind(function(e){var t=hf.nextPosition(e,r);return t.isNone()?Oe.some(Ab.end(e)):Oe.none()})},Lb=function(e,t,n){var r=ah.normalizeBackwards(n),o=Bb(t,r.container());return ah.findRootInline(e,o,r).fold(function(){return hf.prevPosition(o,r).bind(ke.curry(ah.findRootInline,e,o)).map(function(e){return Ab.after(e)})},Oe.none)},Ib=function(e){return ah.isRtl(Fb(e))===!1},Mb=function(e,t,n){var r=Tb.evaluateUntil([Rb,Ob,Pb,Lb],[e,t,n]);return r.filter(Ib)},Fb=function(e){return e.fold(ke.identity,ke.identity,ke.identity,ke.identity)},Ub=function(e){return e.fold(ke.constant("before"),ke.constant("start"),ke.constant("end"),ke.constant("after"))},zb=function(e){return e.fold(Ab.before,Ab.before,Ab.after,Ab.after)},qb=function(e){return e.fold(Ab.start,Ab.start,Ab.end,Ab.end)},Vb=function(e,t){return Ub(e)===Ub(t)&&Fb(e)===Fb(t)},Hb=function(e,t,n,r,o,i){return Tf.liftN([ah.findRootInline(t,n,r),ah.findRootInline(t,n,o)],function(t,r){return t!==r&&ah.hasSameParentBlock(n,t,r)?Ab.after(e?t:r):i}).getOr(i)},jb=function(e,t){return e.fold(ke.constant(!0),function(e){return!Vb(e,t)})},$b=function(e,t,n,r,o){var i=ah.normalizePosition(e,o),a=hf.fromPosition(e,n,i).map(ke.curry(ah.normalizePosition,e)),u=a.fold(function(){return r.map(zb)},function(o){return Mb(t,n,o).map(ke.curry(Hb,e,t,n,i,o)).filter(ke.curry(jb,r))});return u.filter(Ib)},Wb=function(e,t){return e?t.fold(ke.compose(Oe.some,Ab.start),Oe.none,ke.compose(Oe.some,Ab.after),Oe.none):t.fold(Oe.none,ke.compose(Oe.some,Ab.before),Oe.none,ke.compose(Oe.some,Ab.end))},Kb=function(e,t,n,r){var o=ah.normalizePosition(e,r),i=Mb(t,n,o);return Mb(t,n,o).bind(ke.curry(Wb,e)).orThunk(function(){return $b(e,t,n,i,r)})},Xb={readLocation:Mb,findLocation:Kb,prevLocation:ke.curry(Kb,!1),nextLocation:ke.curry(Kb,!0),getElement:Fb,outside:zb,inside:qb},Yb=function(e){var t=e,n=function(){return t},r=function(e){t=e},o=function(){return Yb(n())};return{get:n,set:r,clone:o}},Gb=function(e){return Mi.isFunction(e.selection.getSel().modify)},Zb=function(e,t,n){var r=e?1:-1;return t.setRng(jl(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},Jb=function(e,t){var n=t.selection.getRng(),r=e?jl.fromRangeEnd(n):jl.fromRangeStart(n);return!!Gb(t)&&(e&&Ps(r)?Zb(!0,t.selection,r):!(e||!Ls(r))&&Zb(!1,t.selection,r))},Qb={hasSelectionModifyApi:Gb,moveByWord:Jb},eC=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},tC=function(e){return e.settings.inline_boundaries!==!1},nC=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},rC=function(e,t,n){return hy.renderCaret(t,n).map(function(t){return eC(e,t),n})},oC=function(e,t,n){var r=e.getBody(),o=jl.fromRangeStart(e.selection.getRng()),i=ke.curry(ah.isInlineTarget,e),a=Xb.findLocation(n,i,r,o);return a.bind(function(n){return rC(e,t,n)})},iC=function(e,t,n){var r=lt.filter(t.select('*[data-mce-selected="inline-boundary"]'),e),o=lt.filter(n,e);lt.each(lt.difference(r,o),ke.curry(nC,!1)),lt.each(lt.difference(o,r),ke.curry(nC,!0))},aC=function(e,t){if(e.selection.isCollapsed()&&e.composing!==!0&&t.get()){var n=jl.fromRangeStart(e.selection.getRng());jl.isTextPosition(n)&&ah.isAtZwsp(n)===!1&&(eC(e,of.removeAndReposition(t.get(),n)),t.set(null))}},uC=function(e,t,n,r){if(t.selection.isCollapsed()){var o=lt.filter(r,e);lt.each(o,function(r){var o=jl.fromRangeStart(t.selection.getRng());Xb.readLocation(e,t.getBody(),o).bind(function(e){return rC(t,n,e)})})}},cC=function(e,t,n){return function(){return!!tC(e)&&oC(e,t,n).isSome()}},sC=function(e,t,n){return function(){return!!tC(t)&&Qb.moveByWord(e,t)}},lC=function(e){var t=new Yb(null),n=ke.curry(ah.isInlineTarget,e);return e.on("NodeChange",function(r){tC(e)&&(iC(n,e.dom,r.parents),aC(e,t),uC(n,e,t,r.parents))}),t},fC={move:cC,moveNextWord:ke.curry(sC,!0),movePrevWord:ke.curry(sC,!1),setupSelectedState:lC,setCaretPosition:eC},dC=function(e){return e.settings.inline_boundaries!==!1},mC=function(e,t){var n=document.createRange();return n.setStart(e.container(),e.offset()),n.setEnd(t.container(),t.offset()),n},pC=function(e){return Tf.liftN([hf.firstPositionIn(e),hf.lastPositionIn(e)],function(t,n){var r=ah.normalizePosition(!0,t),o=ah.normalizePosition(!1,n);return hf.nextPosition(e,r).map(function(e){return e.isEqual(o)}).getOr(!0)}).getOr(!0)},gC=function(e,t){return function(n){return hy.renderCaret(t,n).map(function(t){return fC.setCaretPosition(e,t),!0}).getOr(!1)}},hC=function(e,t,n,r){var o=e.getBody(),i=ke.curry(ah.isInlineTarget,e);e.undoManager.ignore(function(){e.selection.setRng(mC(n,r)),e.execCommand("Delete"),Xb.readLocation(i,o,jl.fromRangeStart(e.selection.getRng())).map(Xb.inside).map(gC(e,t))}),e.nodeChanged()},vC=function(e,t){var n=jd(t,e);return n?n:e},yC=function(e,t,n,r){var o=vC(e.getBody(),r.container()),i=ke.curry(ah.isInlineTarget,e),a=Xb.readLocation(i,o,r);return a.bind(function(e){return n?e.fold(ke.constant(Oe.some(Xb.inside(e))),Oe.none,ke.constant(Oe.some(Xb.outside(e))),Oe.none):e.fold(Oe.none,ke.constant(Oe.some(Xb.outside(e))),Oe.none,ke.constant(Oe.some(Xb.inside(e))))}).map(gC(e,t)).getOrThunk(function(){var u=hf.navigate(n,o,r),c=u.bind(function(e){return Xb.readLocation(i,o,e)});return a.isSome()&&c.isSome()?ah.findRootInline(i,o,r).map(function(t){return!!pC(t)&&(Kv.deleteElement(e,n,Ni.fromDom(t)),!0)}).getOr(!1):c.bind(function(o){return u.map(function(o){return n?hC(e,t,r,o):hC(e,t,o,r),!0})}).getOr(!1)})},bC=function(e,t,n){if(e.selection.isCollapsed()&&dC(e)){var r=jl.fromRangeStart(e.selection.getRng());return yC(e,t,n,r)}return!1},CC={backspaceDelete:bC},xC=La.immutable("start","end"),wC=La.immutable("rng","table","cells"),EC=yv.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),NC=function(e,t){return bh.closest(Ni.fromDom(e),"td,th",t)},SC=function(e,t){return bh.ancestor(e,"table",t)},kC=function(e){return ru.eq(e.start(),e.end())===!1},TC=function(e,t){return SC(e.start(),t).bind(function(n){return SC(e.end(),t).bind(function(e){return ru.eq(n,e)?Oe.some(n):Oe.none()})})},AC=function(e,t){return Tf.liftN([NC(e.startContainer,t),NC(e.endContainer,t)],xC).filter(kC)},BC=function(e,t){return TC(e,t).bind(function(t){var n=td.descendants(t,"td,th");return wC(e,t,n)})},RC=function(e,t){var n=ke.curry(ru.eq,e);return AC(t,n).map(function(e){return BC(e,n)})},DC=function(e,t){return lt.findIndex(e,function(e){return ru.eq(e,t)})},_C=function(e){return Tf.liftN([DC(e.cells(),e.rng().start()),DC(e.cells(),e.rng().end())],function(t,n){return e.cells().slice(t,n+1)})},OC=function(e){return _C(e).bind(function(t){var n=e.cells();return t.length===n.length?EC.removeTable(e.table()):EC.emptyCells(t)})},PC=function(e){return EC.emptyCells(e)},LC=function(e,t){return RC(e,t).map(OC)},IC={getActionFromRange:LC,getActionFromCells:PC},MC=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},FC=function(e){return lt.bind(e,function(e){var t=ll(e);return t?[Ni.fromDom(t)]:[]})},UC=function(e){return MC(e).length>1},zC={getRanges:MC,getSelectedNodes:FC,hasMultipleRanges:UC},qC=function(e){return lt.filter(zC.getSelectedNodes(e),fc)},VC=function(e){var t=td.descendants(e,"td[data-mce-selected],th[data-mce-selected]");return t},HC=function(e,t){var n=VC(t),r=qC(e);return n.length>0?n:r},jC=function(e){return HC(zC.getRanges(e.selection.getSel()),Ni.fromDom(e.getBody()))},$C={getCellsFromRanges:qC,getCellsFromElement:VC,getCellsFromElementOrRanges:HC,getCellsFromEditor:jC},WC=function(e,t){return lt.each(t,ug.fillWithPaddingBr),e.selection.setCursorLocation(t[0].dom(),0),!0},KC=function(e,t){return Kv.deleteElement(e,!1,t),!0},XC=function(e,t,n){return IC.getActionFromRange(t,n).map(function(t){return t.fold(ke.curry(KC,e),ke.curry(WC,e))})},YC=function(e,t){return tx(e,t)},GC=function(e,t,n,r){return QC(t,r).fold(function(){return XC(e,t,n)},function(t){return YC(e,t)}).getOr(!1)},ZC=function(e,t){var n=Ni.fromDom(e.getBody()),r=e.selection.getRng(),o=$C.getCellsFromEditor(e);return 0!==o.length?WC(e,o):GC(e,n,r,t)},JC=function(e,t){return lt.find(Zh.parentsAndSelf(t,e),fc)},QC=function(e,t){return lt.find(Zh.parentsAndSelf(t,e),function(e){return"caption"===Pi.name(e)})},ex=function(e,t,n,r,o){return hf.navigate(n,e.getBody(),o).bind(function(e){return JC(t,Ni.fromDom(e.getNode())).map(function(e){return ru.eq(e,r)===!1})})},tx=function(e,t){return ug.fillWithPaddingBr(t),e.selection.setCursorLocation(t.dom(),0),Oe.some(!0)},nx=function(e,t,n,r){return hf.firstPositionIn(e.dom()).bind(function(o){return hf.lastPositionIn(e.dom()).map(function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)})}).getOr(!0)},rx=function(e,t){return tx(e,t)},ox=function(e,t,n){return QC(e,Ni.fromDom(n.getNode())).map(function(e){return ru.eq(e,t)===!1})},ix=function(e,t,n,r,o){return hf.navigate(n,e.getBody(),o).bind(function(i){return nx(r,n,o,i)?rx(e,r):ox(t,r,i)}).or(Oe.some(!0))},ax=function(e,t,n,r){var o=jl.fromRangeStart(e.selection.getRng());return JC(n,r).bind(function(r){return Ih.isEmpty(r)?tx(e,r):ex(e,n,t,r,o)})},ux=function(e,t,n,r){var o=jl.fromRangeStart(e.selection.getRng());return Ih.isEmpty(r)?tx(e,r):ix(e,n,t,r,o)},cx=function(e,t,n){var r=Ni.fromDom(e.getBody());return QC(r,n).fold(function(){return ax(e,t,r,n)},function(n){return ux(e,t,r,n)}).getOr(!1)},sx=function(e,t){var n=Ni.fromDom(e.selection.getStart(!0));return e.selection.isCollapsed()?cx(e,t,n):ZC(e,n)},lx={backspaceDelete:sx},fx=function(e,t){e.getDoc().execCommand(t,!1,null)},dx=function(e){ry.backspaceDelete(e,!1)||CC.backspaceDelete(e,!1)||cv.backspaceDelete(e,!1)||lx.backspaceDelete(e)||hv.backspaceDelete(e,!1)||(fx(e,"Delete"),dh.paddEmptyBody(e))},mx=function(e){ry.backspaceDelete(e,!0)||CC.backspaceDelete(e,!0)||cv.backspaceDelete(e,!0)||lx.backspaceDelete(e)||hv.backspaceDelete(e,!0)||fx(e,"ForwardDelete")},px={deleteCommand:dx,forwardDeleteCommand:mx},gx=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},hx={isEq:gx},vx=La.immutable("container","offset"),yx=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},bx=function(e,t,n){return null!==yx(e,t,n)},Cx=function(e,t,n){return bx(e,t,function(e){return e.nodeName===n})},xx=function(e){return e&&"TABLE"===e.nodeName},wx=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Ex=function(e,t){return Ds(e)&&bx(e,t,Sb.isCaretNode)===!1},Nx=function(e,t,n){for(var r=new C(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(Bc.isBr(t))return!0},Sx=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},kx=function(e,t){for(;t&&t!==e;){if(Bc.isContentEditableFalse(t))return!0;t=t.parentNode}return!1},Tx=function(e,t,n,r,o){var i,a,u,c,s=e.getRoot(),l=e.schema.getNonEmptyElements();if(u=e.getParent(o.parentNode,e.isBlock)||s,r&&Bc.isBr(o)&&t&&e.isEmpty(u))return Oe.some(vx(o.parentNode,e.nodeIndex(o)));for(i=new C(o,u);c=i[r?"prev":"next"]();){if("false"===e.getContentEditableParent(c)||Ex(c,s))return Oe.none();
if(Bc.isText(c)&&c.nodeValue.length>0)return Cx(c,s,"A")===!1?Oe.some(vx(c,r?c.nodeValue.length:0)):Oe.none();if(e.isBlock(c)||l[c.nodeName.toLowerCase()])return Oe.none();a=c}return n&&a?Oe.some(vx(a,0)):Oe.none()},Ax=function(e,t,n,r){var o,i,a,u,c,s,l,f=e.getRoot(),d=!1;if(o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"],l=Bc.isElement(o)&&i===o.childNodes.length,c=e.schema.getNonEmptyElements(),s=n,Ds(o))return Oe.none();if(Bc.isElement(o)&&i>o.childNodes.length-1&&(s=!1),Bc.isDocument(o)&&(o=f,i=0),o===f){if(s&&(u=o.childNodes[i>0?i-1:0])){if(Ds(u))return Oe.none();if(c[u.nodeName]||xx(u))return Oe.none()}if(o.hasChildNodes()){if(i=Math.min(!s&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=Bc.isText(o)&&l?o.data.length:0,!t&&o===f.lastChild&&xx(o))return Oe.none();if(kx(f,o)||Ds(o))return Oe.none();if(o.hasChildNodes()&&xx(o)===!1){u=o,a=new C(o,f);do{if(Bc.isContentEditableFalse(u)||Ds(u)){d=!1;break}if(Bc.isText(u)&&u.nodeValue.length>0){i=s?0:u.nodeValue.length,o=u,d=!0;break}if(c[u.nodeName.toLowerCase()]&&!wx(u)){i=e.nodeIndex(u),o=u.parentNode,"IMG"!==u.nodeName&&"PRE"!==u.nodeName||s||i++,d=!0;break}}while(u=s?a.next():a.prev())}}}return t&&(Bc.isText(o)&&0===i&&Tx(e,l,t,!0,o).each(function(e){o=e.container(),i=e.offset(),d=!0}),Bc.isElement(o)&&(u=o.childNodes[i],u||(u=o.childNodes[i-1]),!u||!Bc.isBr(u)||Sx(u,"A")||Nx(e,u,!1)||Nx(e,u,!0)||Tx(e,l,t,!0,u).each(function(e){o=e.container(),i=e.offset(),d=!0}))),s&&!t&&Bc.isText(o)&&i===o.nodeValue.length&&Tx(e,l,t,!1,o).each(function(e){o=e.container(),i=e.offset(),d=!0}),d?Oe.some(vx(o,i)):Oe.none()},Bx=function(e,t){var n=t.collapsed,r=t.cloneRange();return Ax(e,n,!0,r).each(function(e){r.setStart(e.container(),e.offset())}),n||Ax(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),hx.isEq(t,r)?Oe.none():Oe.some(r)},Rx={normalize:Bx},Dx=function(e,t,n){for(var r,o=new C(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0},_x=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},Ox=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},Px=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();Rx.normalize(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var u=a.startOffset,c=a.startContainer;if(1===c.nodeType&&c.hasChildNodes()){var s=u>c.childNodes.length-1;c=c.childNodes[Math.min(u,c.childNodes.length-1)]||c,u=s&&3===c.nodeType?c.nodeValue.length:0}var l=i.getParent(c,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",m=t&&t.ctrlKey;"LI"!==d||m||(l=f),c&&3===c.nodeType&&u>=c.nodeValue.length&&(Dx(e.schema,c,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),a.insertNode(n),_x(i,o,n),Ox(i,o,n,r),e.undoManager.add()},Lx=function(e,t){var n=Ni.fromTag("br");zp.before(Ni.fromDom(t),n),e.undoManager.add()},Ix=function(e,t){Fx(e.getBody(),t)||zp.after(Ni.fromDom(t),Ni.fromTag("br"));var n=Ni.fromTag("br");zp.after(Ni.fromDom(t),n),_x(e.dom,e.selection,n.dom()),Ox(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},Mx=function(e){return Bc.isBr(e.getNode())},Fx=function(e,t){return!!Mx(jl.after(t))||hf.nextPosition(e,jl.after(t)).map(function(e){return Bc.isBr(e.getNode())}).getOr(!1)},Ux=function(e){return e&&"A"===e.nodeName&&"href"in e},zx=function(e){return e.fold(ke.constant(!1),Ux,Ux,ke.constant(!1))},qx=function(e){var t=ke.curry(ah.isInlineTarget,e),n=jl.fromRangeStart(e.selection.getRng());return Xb.readLocation(t,e.getBody(),n).filter(zx)},Vx=function(e,t){t.fold(ke.noop,ke.curry(Lx,e),ke.curry(Ix,e),ke.noop)},Hx=function(e,t){var n=qx(e);n.isSome()?n.each(ke.curry(Vx,e)):Px(e,t)},jx={insert:Hx},$x=yv.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Wx=function(e,t,n,r){return e.fold(t,n,r)},Kx=function(e){return e.fold(ke.identity,ke.identity,ke.identity)},Xx={before:$x.before,on:$x.on,after:$x.after,cata:Wx,getStart:Kx},Yx=yv.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Gx=La.immutable("start","soffset","finish","foffset"),Zx=function(e){return Yx.exact(e.start(),e.soffset(),e.finish(),e.foffset())},Jx=function(e){return e.match({domRange:function(e){return Ni.fromDom(e.startContainer)},relative:function(e,t){return Xx.getStart(e)},exact:function(e,t,n,r){return e}})},Qx=function(e){var t=Jx(e);return Nu.defaultView(t)},ew={domRange:Yx.domRange,relative:Yx.relative,exact:Yx.exact,exactFromRange:Zx,range:Gx,getWin:Qx},tw=yi.detect().browser,nw=function(e,t){var n=Pi.isText(t)?eg.get(t).length:Nu.children(t).length+1;return e>n?n:e<0?0:e},rw=function(e){return ew.range(e.start(),nw(e.soffset(),e.start()),e.finish(),nw(e.foffset(),e.finish()))},ow=function(e,t){return ru.contains(e,t)||ru.eq(e,t)},iw=function(e){return function(t){return ow(e,t.start())&&ow(e,t.finish())}},aw=function(e){return e.inline===!0||tw.isIE()},uw=function(e){return ew.range(Ni.fromDom(e.startContainer),e.startOffset,Ni.fromDom(e.endContainer),e.endOffset)},cw=function(e){var t=e.getSelection(),n=t&&0!==t.rangeCount?Oe.from(t.getRangeAt(0)):Oe.none();return n.map(uw)},sw=function(e){var t=Nu.defaultView(e);return cw(t.dom()).filter(iw(e))},lw=function(e,t){return Oe.from(t).filter(iw(e)).map(rw)},fw=function(e){var t=document.createRange();return t.setStart(e.start().dom(),e.soffset()),t.setEnd(e.finish().dom(),e.foffset()),Oe.some(t)},dw=function(e){var t=aw(e)?sw(Ni.fromDom(e.getBody())):Oe.none();e.bookmark=t.isSome()?t:e.bookmark},mw=function(e,t){var n=Ni.fromDom(e.getBody()),r=aw(e)?Oe.from(t):Oe.none(),o=r.map(uw).filter(iw(n));e.bookmark=o.isSome()?o:e.bookmark},pw=function(e){var t=e.bookmark?e.bookmark:Oe.none();return t.bind(ke.curry(lw,Ni.fromDom(e.getBody()))).bind(fw)},gw=function(e){pw(e).each(function(t){e.selection.setRng(t)})},hw={store:dw,storeNative:mw,readRange:cw,restore:gw,getRng:pw,getBookmark:sw,validate:lw},vw=function(e,t,n,r,o,i){if("false"!==e.getContentEditable(i)&&"LI"!==i.nodeName){var a=n?"margin":"padding";if(a="TABLE"===i.nodeName?"margin":a,a+="rtl"===e.getStyle(i,"direction",!0)?"Right":"Left","outdent"===t){var u=Math.max(0,parseInt(i.style[a]||0,10)-r);e.setStyle(i,a,u?u+o:"")}else{var u=parseInt(i.style[a]||0,10)+r+o;e.setStyle(i,a,u)}}},yw=function(e,t){var n=e.settings,r=e.dom,o=e.selection,i=e.formatter,a=/[a-z%]+$/i.exec(n.indentation)[0],u=parseInt(n.indentation,10),c=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||(n.forced_root_block||r.getParent(o.getNode(),r.isBlock)||i.apply("div"),lt.each(o.getSelectedBlocks(),function(e){return vw(r,t,c,u,a,e)}))},bw=kr.each,Cw=kr.extend,xw=kr.map,ww=kr.inArray,Ew=kr.explode,Nw=!0,Sw=!1,kw=kr.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),Tw=function(e){var t,n,r=this,o={},i=function(){return!1},a=function(){return!0};e=e||{},t=e.scope||r,n=e.toggleEvent||i;var u=function(n,r){var u,c,l,f;if(n=n.toLowerCase(),r=r||{},r.type=n,r.target||(r.target=t),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=a},r.stopPropagation=function(){r.isPropagationStopped=a},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=a},r.isDefaultPrevented=i,r.isPropagationStopped=i,r.isImmediatePropagationStopped=i),e.beforeFire&&e.beforeFire(r),u=o[n])for(c=0,l=u.length;c<l;c++){if(f=u[c],f.once&&s(n,f.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(f.func.call(t,r)===!1)return r.preventDefault(),r}return r},c=function(e,t,a,u){var c,s,l;if(t===!1&&(t=i),t)for(t={func:t},u&&kr.extend(t,u),s=e.toLowerCase().split(" "),l=s.length;l--;)e=s[l],c=o[e],c||(c=o[e]=[],n(e,!0)),a?c.unshift(t):c.push(t);return r},s=function(e,t){var i,a,u,c,s;if(e)for(c=e.toLowerCase().split(" "),i=c.length;i--;){if(e=c[i],a=o[e],!e){for(u in o)n(u,!1),delete o[u];return r}if(a){if(t)for(s=a.length;s--;)a[s].func===t&&(a=a.slice(0,s).concat(a.slice(s+1)),o[e]=a);else a.length=0;a.length||(n(e,!1),delete o[e])}}else{for(e in o)n(e,!1);o={}}return r},l=function(e,t,n){return c(e,t,n,{once:!0})},f=function(e){return e=e.toLowerCase(),!(!o[e]||0===o[e].length)};r.fire=u,r.on=c,r.off=s,r.once=l,r.has=f};Tw.isNative=function(e){return!!kw[e.toLowerCase()]};var Aw,Bw=function(e){return e._eventDispatcher||(e._eventDispatcher=new Tw({scope:e,toggleEvent:function(t,n){Tw.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},Rw={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e)return t;if(t=Bw(r).fire(e,t,n),n!==!1&&r.parent)for(var o=r.parent();o&&!t.isPropagationStopped();)o.fire(e,t,!1),o=o.parent();return t},on:function(e,t,n){return Bw(this).on(e,t,n)},off:function(e,t){return Bw(this).off(e,t)},once:function(e,t){return Bw(this).once(e,t)},hasEventListeners:function(e){return Bw(this).has(e)}},Dw=gs.DOM,_w=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=Dw.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},Ow=function(e,t){var n,r,o=function(e){return!e.hidden&&!e.readonly};if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=_w(e,t),e.settings.event_root){if(Aw||(Aw={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&Aw){for(t in Aw)e.dom.unbind(_w(e,t));Aw=null}})),Aw[t])return;r=function(n){for(var r=n.target,i=e.editorManager.get(),a=i.length;a--;){var u=i[a].getBody();(u===r||Dw.isChildOf(r,u))&&o(i[a])&&i[a].fire(t,n)}},Aw[t]=r,Dw.bind(n,t,r)}else r=function(n){o(e)&&e.fire(t,n)},Dw.bind(n,t,r),e.delegates[t]=r},Pw={bindPendingEventDelegates:function(){var e=this;kr.each(e._pendingNativeEvents,function(t){Ow(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?Ow(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(_w(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),r=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(_w(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&r&&(n.onload=null,r.unbind(t.getWin()),r.unbind(t.getDoc())),r&&(r.unbind(n),r.unbind(t.getContainer()))}};Pw=kr.extend({},Rw,Pw);var Lw,Iw=Pw,Mw=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},Fw=function(e){var t,n;return t=e.getBody(),n=function(t){e.dom.getParents(t.target,"a").length>0&&t.preventDefault()},e.dom.bind(t,"click",n),{unbind:function(){e.dom.unbind(t,"click",n)}}},Uw=function(e,t){e._clickBlocker&&(e._clickBlocker.unbind(),e._clickBlocker=null),t?(e._clickBlocker=Fw(e),e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable=!1):(e.readonly=!1,e.getBody().contentEditable=!0,Mw(e,"StyleWithCSS",!1),Mw(e,"enableInlineTableEditing",!1),Mw(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},zw=function(e,t){var n=e.readonly?"readonly":"design";t!==n&&(e.initialized?Uw(e,"readonly"===t):e.on("init",function(){Uw(e,"readonly"===t)}),e.fire("SwitchMode",{mode:t}))},qw={setMode:zw},Vw=kr.each,Hw=kr.explode,jw={f9:120,f10:121,f11:122},$w=kr.makeMap("alt,ctrl,shift,meta,access"),Ww=function(e){return Tg.first(e).isSome()},Kw=function(e,t,n){return Tg.ancestor(e,t,n).isSome()},Xw=function(e,t,n){return Tg.closest(e,t,n).isSome()},Yw=function(e,t){return Tg.sibling(e,t).isSome()},Gw=function(e,t){return Tg.child(e,t).isSome()},Zw=function(e,t){return Tg.descendant(e,t).isSome()},Jw={any:Ww,ancestor:Kw,closest:Xw,sibling:Yw,child:Gw,descendant:Zw},Qw=function(e){e.dom().focus()},eE=function(e){e.dom().blur()},tE=function(e){var t=Nu.owner(e).dom();return e.dom()===t.activeElement},nE=function(e){var t=void 0!==e?e.dom():document;return Oe.from(t.activeElement).map(Ni.fromDom)},rE=function(e){var t=Nu.owner(e),n=nE(t).filter(function(t){return Jw.closest(t,ke.curry(ru.eq,e))});n.fold(function(){Qw(e)},ke.noop)},oE=function(e){return nE(Nu.owner(e)).filter(function(t){return e.dom().contains(t.dom())})},iE={hasFocus:tE,focus:Qw,blur:eE,active:nE,search:oE,focusInside:rE},aE=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})},uE=function(e){return e.collapsed?Oe.from(fl(e.startContainer,e.startOffset)).map(Ni.fromDom):Oe.none()},cE=function(e,t){return uE(t).bind(function(t){return lc(t)?Oe.some(t):ru.contains(e,t)===!1?Oe.some(e):Oe.none()})},sE=function(e,t){cE(Ni.fromDom(e.getBody()),t).bind(function(e){return hf.firstPositionIn(e.dom())}).fold(function(){return e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},lE=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},fE=function(e){return iE.hasFocus(e)||iE.search(e).isSome()},dE=function(e){return e.iframeElement&&iE.hasFocus(Ni.fromDom(e.iframeElement))},mE=function(e){var t=e.getBody();return t&&fE(Ni.fromDom(t))},pE=function(e){return e.inline?mE(e):dE(e)},gE=function(e){var t,n=e.selection,r=e.settings.content_editable,o=e.getBody(),i=n.getRng();return e.quirks.refreshContentEditable(),t=aE(e,n.getNode()),e.$.contains(o,t)?(lE(t),sE(e,i),void hE(e)):(void 0!==e.bookmark&&pE(e)===!1&&hw.getRng(e).each(function(t){e.selection.setRng(t),i=t}),r||(Rt.opera||lE(o),e.getWin().focus()),(Rt.gecko||r)&&(lE(o),sE(e,i)),void hE(e))},hE=function(e){e.editorManager.setActive(e)},vE=function(e,t){e.removed||(t?hE(e):gE(e))},yE={focus:vE,hasFocus:pE},bE=function(e,t){var n=t.dom();return n[e]},CE=function(e,t){return parseInt(Ta.get(t,e),10)},xE=ke.curry(bE,"clientWidth"),wE=ke.curry(bE,"clientHeight"),EE=ke.curry(CE,"margin-top"),NE=ke.curry(CE,"margin-left"),SE=function(e){return e.dom().getBoundingClientRect()},kE=function(e,t,n){var r=xE(e),o=wE(e);return t>=0&&n>=0&&t<=r&&n<=o},TE=function(e,t,n,r){var o=SE(t),i=e?o.left+t.dom().clientLeft+NE(t):0,a=e?o.top+t.dom().clientTop+EE(t):0,u=n-i,c=r-a;return{x:u,y:c}},AE=function(e,t,n){var r=Ni.fromDom(e.getBody()),o=e.inline?r:Nu.documentElement(r),i=TE(e.inline,o,t,n);return kE(o,i.x,i.y)},BE=function(e){return Oe.from(e).map(Ni.fromDom)},RE=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return BE(t).map(function(e){return ru.contains(Nu.owner(e),e)}).getOr(!1)},DE={isXYInContentArea:AE,isEditorAttachedToDom:RE},_E=ws.PluginManager,OE=function(e,t){for(var n in _E.urls){var r=_E.urls[n]+"/plugin"+t+".js";if(r===e)return n}return null},PE=function(e,t){var n=OE(t,e.suffix);return n?"Failed to load plugin: "+n+" from url "+t:"Failed to load plugin url: "+t},LE=function(e,t){e.notificationManager.open({type:"error",text:t})},IE=function(e,t){e._skinLoaded?LE(e,t):e.on("SkinLoaded",function(){LE(e,t)})},ME=function(e,t){IE(e,"Failed to upload image: "+t)},FE=function(e,t){IE(e,PE(e,t))},UE=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=window.console;r&&(r.error?r.error.apply(r,arguments):r.log.apply(r,arguments))},zE={pluginLoadError:FE,uploadError:ME,displayError:IE,initError:UE},qE=ws.PluginManager,VE=ws.ThemeManager,HE=function(e){var t=Ct.getOrDie("requestAnimationFrame");t(e)},jE=function(e){var t=Ct.getOrDie("atob");return t(e)},$E={atob:jE,requestAnimationFrame:HE},WE=function(e){return new _t(function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var o=new P;o.open("GET",e,!0),o.responseType="blob",o.onload=function(){200===this.status?t(this.response):r()},o.onerror=r,o.send()}catch(i){r()}})},KE=function(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},XE=function(e){return new _t(function(t){var n,r,o;e=KE(e);try{n=$E.atob(e.data)}catch(i){return void t(new I([]))}for(r=new F(n.length),o=0;o<r.length;o++)r[o]=n.charCodeAt(o);t(new I([r],{type:e.type}))})},YE=function(e){return 0===e.indexOf("blob:")?WE(e):0===e.indexOf("data:")?XE(e):null},GE=function(e){return new _t(function(t){var n=new M;n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},ZE={uriToBlob:YE,blobToDataUri:GE,parseDataUri:KE},JE=0,QE=function(e){return(e||"blobid")+JE++},eN=function(e,t,n,r){var o,i;return 0===t.src.indexOf("blob:")?(i=e.getByUri(t.src),void(i?n({image:t,blobInfo:i}):ZE.uriToBlob(t.src).then(function(r){ZE.blobToDataUri(r).then(function(a){o=ZE.parseDataUri(a).data,i=e.create(QE(),r,o),e.add(i),n({image:t,blobInfo:i})})},function(e){r(e)}))):(o=ZE.parseDataUri(t.src).data,i=e.findFirst(function(e){return e.base64()===o}),void(i?n({image:t,blobInfo:i}):ZE.uriToBlob(t.src).then(function(r){i=e.create(QE(),r,o),e.add(i),n({image:t,blobInfo:i})},function(e){r(e)})))},tN=function(e){return e?e.getElementsByTagName("img"):[]},nN=0,rN=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)},t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()},oN=function(e){return e+nN++ +rN()},iN={uuid:oN},aN=function(e,t){return e.hasOwnProperty(t.nodeName)},uN=function(e,t){return!!Bc.isText(t)||!!Bc.isElement(t)&&(!aN(e,t)&&!Dp.isBookmarkNode(t))},cN=function(e,t,n){return lt.exists(Zh.parents(Ni.fromDom(n),Ni.fromDom(t)),function(t){return aN(e,t.dom())})},sN=function(e,t){if(Bc.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||aN(e,t.nextSibling)))return!0}return!1},lN=function(e){var t,n,r,o,i,a,u,c,s,l,f,d=e.settings,m=e.dom,p=e.selection,g=e.schema,h=g.getBlockElements(),v=p.getStart(),y=e.getBody();if(f=d.forced_root_block,v&&Bc.isElement(v)&&f&&(l=y.nodeName.toLowerCase(),g.isValidChild(l,f.toLowerCase())&&!cN(h,y,v))){for(t=p.getRng(),n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,s=yE.hasFocus(e),v=y.firstChild;v;)if(uN(h,v)){if(sN(h,v)){u=v,v=v.nextSibling,m.remove(u);continue}a||(a=m.create(f,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(a,v),c=!0),u=v,v=v.nextSibling,a.appendChild(u)}else a=null,v=v.nextSibling;c&&s&&(t.setStart(n,r),t.setEnd(o,i),p.setRng(t),e.nodeChanged())}},fN=function(e){e.settings.forced_root_block&&e.on("NodeChange",ke.curry(lN,e))},dN={setup:fN},mN=function(e){var t,n,r,o;return o=e.getBoundingClientRect(),t=e.ownerDocument,n=t.documentElement,r=t.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}},pN=function(e){return e.inline?mN(e.getBody()):{left:0,top:0}},gN=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},hN=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o},vN=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=mN(e.getContentAreaContainer()),r=hN(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},yN=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},bN=function(e,t){return yN(pN(e),gN(e),vN(e,t))},CN={calc:bN},xN=Bc.isContentEditableFalse,wN=Bc.isContentEditableTrue,EN=function(e,t){return xN(t)&&t!==e},NN=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!xN(t)},SN=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},kN=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i},TN=function(e,t){e.parentNode!==t&&t.appendChild(e)},AN=function(e,t,n,r,o,i){var a=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+r>i&&(u=t.pageY+r-i),e.style.width=n-a+"px",e.style.height=r-u+"px"},BN=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},RN=function(e){return 0===e.button},DN=function(e){return e.element},_N=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},ON=function(e,t){return function(n){if(RN(n)){var r=mr.find(t.dom.getParents(n.target),wl.or(xN,wN));if(EN(t.getBody(),r)){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?i.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?i.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-o.x,e.relY=n.pageY-o.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=kN(t,r,e.width,e.height)}}}},PN=function(e,t){var n=Ut.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(r){var o=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(DN(e)&&!e.dragging&&o>10){var i=t.fire("dragstart",{target:e.element});if(i.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var a=_N(e,CN.calc(t,r));TN(e.ghost,t.getBody()),AN(e.ghost,a,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},LN=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},IN=function(e,t){return function(n){if(e.dragging&&NN(t,LN(t.selection),e.element)){var r=SN(e.element),o=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,t.undoManager.transact(function(){BN(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}FN(e)}},MN=function(e,t){return function(){FN(e),e.dragging&&t.fire("dragend")}},FN=function(e){e.dragging=!1,e.element=null,BN(e.ghost)},UN=function(e){var t,n,r,o,i,a,u={};t=gs.DOM,a=document,n=ON(u,e),r=PN(u,e),o=IN(u,e),i=MN(u,e),e.on("mousedown",n),e.on("mousemove",r),e.on("mouseup",o),t.bind(a,"mousemove",r),t.bind(a,"mouseup",i),e.on("remove",function(){t.unbind(a,"mousemove",r),t.unbind(a,"mouseup",i)})},zN=function(e){e.on("drop",function(t){var n="undefined"!=typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(xN(n)||xN(e.dom.getContentEditableParent(n)))&&t.preventDefault()})},qN=function(e){UN(e),zN(e)},VN={init:qN},HN=function(e){var t=function(t){return mr.map(t,function(t){return t=rl(t),t.node=e,t})};if(Bc.isElement(e))return t(e.getClientRects());if(Bc.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},jN=function(e){return mr.reduce(e,function(e,t){return e.concat(HN(t))},[])};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(Lw||(Lw={}));var $N=function(e,t,n,r){for(;r=Hd(r,e,tl,t);)if(n(r))return},WN=function(e,t,n,r,o,i){var a,u,c=0,s=[],l=function(r){var i,a,l;for(l=jN([r]),e===-1&&(l=l.reverse()),i=0;i<l.length;i++)if(a=l[i],!n(a,u)){if(s.length>0&&t(a,mr.last(s))&&c++,a.line=c,o(a))return!0;s.push(a)}};return(u=mr.last(i.getClientRects()))?(a=i.getNode(),l(a),$N(e,r,l,a),s):s},KN=function(e,t){return t.line>e},XN=function(e,t){return t.line===e},YN=ke.curry(WN,Lw.Up,ul,cl),GN=ke.curry(WN,Lw.Down,cl,ul),ZN=function(e,t,n,r){var o,i,a,u,c,s,l=bm(t),f=[],d=0,m=function(t){return 1===e?mr.last(t.getClientRects()):mr.last(t.getClientRects())};1===e?(o=l.next,i=cl,a=ul,u=jl.after(r)):(o=l.prev,i=ul,a=cl,u=jl.before(r)),s=m(u);do if(u.isVisible()&&(c=m(u),!a(c,s))){if(f.length>0&&i(c,mr.last(f))&&d++,c=rl(c),c.position=u,c.line=d,n(c))return f;f.push(c)}while(u=o(u));return f},JN=function(e){return function(t){return KN(e,t)}},QN=function(e){return function(t){return XN(e,t)}},eS=Bc.isContentEditableFalse,tS=Hd,nS=function(e,t){return Math.abs(e.left-t)},rS=function(e,t){return Math.abs(e.right-t)},oS=function(e,t){return e>=t.left&&e<=t.right},iS=function(e,t){return mr.reduce(e,function(e,n){var r,o;return r=Math.min(nS(e,t),rS(e,t)),o=Math.min(nS(n,t),rS(n,t)),oS(t,n)?n:oS(t,e)?e:o===r&&eS(n.node)?n:o<r?n:e})},aS=function(e,t,n,r){for(;r=tS(r,e,tl,t);)if(n(r))return},uS=function(e,t){var n=[],r=function(e,r){var o;return o=mr.filter(jN([r]),function(n){return!e(n,t)}),n=n.concat(o),0===o.length};return n.push(t),aS(Lw.Up,e,ke.curry(r,ul),t.node),aS(Lw.Down,e,ke.curry(r,cl),t.node),n},cS=function(e){return mr.filter(mr.toArray(e.getElementsByTagName("*")),_d)},sS=function(e,t){return{node:e.node,before:nS(e,t)<rS(e,t)}},lS=function(e,t,n){var r,o=jN(cS(e)),i=mr.filter(o,function(e){return n>=e.top&&n<=e.bottom});return r=iS(i,t),r&&(r=iS(uS(e,r),t),r&&_d(r.node))?sS(r,t):null},fS=function(e,t,n){return!n.collapsed&&lt.foldl(n.getClientRects(),function(n,r){return n||sl(r,e,t)},!1)},dS={isXYWithinRange:fS},mS=function(e,t){var n=null,r=null,o=function(){null!==n&&(clearTimeout(n),n=null,r=null)},i=function(){r=arguments,null===n&&(n=setTimeout(function(){e.apply(null,r),n=null,r=null},t))};return{cancel:o,throttle:i}},pS=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){var r=arguments;null===n&&(n=setTimeout(function(){e.apply(null,r),n=null,r=null},t))};return{cancel:r,throttle:o}},gS=function(e,t){var n=null,r=function(){null!==n&&(clearTimeout(n),n=null)},o=function(){var r=arguments;null!==n&&clearTimeout(n),n=setTimeout(function(){e.apply(null,r),n=null,r=null},t)};return{cancel:r,throttle:o}},hS={adaptable:mS,first:pS,last:gS},vS=function(e){var t=hS.first(function(){if(!e.removed){var t=e.selection.getRng();if(t.collapsed){var n=Ef(e,e.selection.getRng());e.selection.setRng(n)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},yS={setup:vS},bS={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return Rt.mac?e.metaKey:e.ctrlKey&&!e.altKey}},CS=Bc.isContentEditableTrue,xS=Bc.isContentEditableFalse,wS=om,ES=rm,NS=function(e){var t,n=function(t){return e.dom.isBlock(t)},r=e.getBody(),o=Dd(e.getBody(),n),i="sel-"+e.dom.uniqueId(),a=function(t){return e.dom.hasClass(t,"mce-offscreen-selection")},u=function(){var t=e.dom.get(i);return t?t.getElementsByTagName("*")[0]:t},c=function(t){t&&e.selection.setRng(t)},s=function(){return e.selection.getRng()},l=function(t,n){e.selection.scrollIntoView(t,n)},f=function(t,n,r){var i;return i=e.fire("ShowCaret",{target:n,direction:t,before:r}),i.isDefaultPrevented()?null:(l(n,t===-1),o.show(r,n))},d=function(e,t){return t=Jd(e,r,t),e===-1?jl.fromRangeStart(t):jl.fromRangeEnd(t)},m=function(e){e.hasAttribute("data-mce-caret")&&(qs(e),c(s()),l(e[0]))},p=function(){var n=function(t){for(var n=e.getBody();t&&t!==n;){if(CS(t)||xS(t))return t;t=t.parentNode}return null};e.on("mouseup",function(t){var n=s();n.collapsed&&DE.isXYInContentArea(e,t.clientX,t.clientY)&&c(wf(e,n))}),e.on("click",function(t){var r;r=n(t.target),r&&(xS(r)&&(t.preventDefault(),e.focus()),CS(r)&&e.dom.isChildOf(r,e.selection.getNode())&&b())}),e.on("blur NewBlock",function(){b()});var o=function(e){var t=!1;e.on("touchstart",function(){t=!1}),e.on("touchmove",function(){t=!0}),e.on("touchend",function(r){var o=n(r.target);xS(o)&&(t||(r.preventDefault(),y(xf(e,o))))})},i=function(e){var t=bm(e);if(!e.firstChild)return!1;var n=jl.before(e.firstChild),r=t.next(n);return r&&!ES(r)&&!wS(r)},l=function(t,n){var r=e.dom.getParent(t,e.dom.isBlock),o=e.dom.getParent(n,e.dom.isBlock);return r===o},d=function(t,n){var r=e.dom.getParent(t,e.dom.isBlock),o=e.dom.getParent(n,e.dom.isBlock);return r&&!l(r,o)&&i(r)};o(e),e.on("mousedown",function(t){var o,i=t.target;if((i===r||"HTML"===i.nodeName||e.dom.isChildOf(i,r))&&DE.isXYInContentArea(e,t.clientX,t.clientY)!==!1)if(o=n(i))xS(o)?(t.preventDefault(),y(xf(e,o))):(b(),CS(o)&&t.shiftKey||dS.isXYWithinRange(t.clientX,t.clientY,e.selection.getRng())||e.selection.placeCaretAt(t.clientX,t.clientY));else if(_d(i)===!1){b(),x();var a=lS(r,t.clientX,t.clientY);a&&(d(t.target,a.node)||(t.preventDefault(),e.getBody().focus(),c(f(1,a.node,a.before))))}}),e.on("keypress",function(t){if(!bS.modifierPressed(t))switch(t.keyCode){default:xS(e.selection.getNode())&&t.preventDefault()}}),e.on("getSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);n=n.cloneRange(),n.selectNode(t),e.range=n}}),e.on("setSelectionRange",function(e){var t;t=y(e.range,e.forward),t&&(e.range=t)}),e.on("AfterSetSelectionRange",function(e){var t=e.range;v(t)||x(),a(t.startContainer.parentNode)||b()}),e.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!Rt.ie){var n=u();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText))}}),VN.init(e),yS.setup(e)},g=function(){var t=e.contentStyles,n=".mce-content-body";t.push(o.getCss()),t.push(n+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+n+" *[contentEditable=false] {cursor: default;}"+n+" *[contentEditable=true] {cursor: text;}")},h=function(e){return Ds(e)||Fs(e)||Us(e)},v=function(e){return h(e.startContainer)||h(e.endContainer)},y=function(n,r){var o,a,u,c,s,l,m,p,g,h,y=e.$,b=e.dom;if(!n)return null;if(n.collapsed){if(!v(n))if(r===!1){if(p=d(-1,n),_d(p.getNode(!0)))return f(-1,p.getNode(!0),!1);if(_d(p.getNode()))return f(-1,p.getNode(),!p.isAtEnd())}else{if(p=d(1,n),_d(p.getNode()))return f(1,p.getNode(),!p.isAtEnd());if(_d(p.getNode(!0)))return f(1,p.getNode(!0),!1)}return null}return c=n.startContainer,s=n.startOffset,l=n.endOffset,3===c.nodeType&&0===s&&xS(c.parentNode)&&(c=c.parentNode,s=b.nodeIndex(c),c=c.parentNode),1!==c.nodeType?null:(l===s+1&&(o=c.childNodes[s]),xS(o)?(g=h=o.cloneNode(!0),m=e.fire("ObjectSelected",{target:o,targetClone:g}),m.isDefaultPrevented()?null:(a=bh.descendant(Ni.fromDom(e.getBody()),"#"+i).fold(function(){return y([])},function(e){return y([e.dom()])}),g=m.targetClone,0===a.length&&(a=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",i),a.appendTo(e.getBody())),n=e.dom.createRng(),g===h&&Rt.ie?(a.empty().append('<p style="font-size: 0" data-mce-bogus="all"></p>').append(g),n.setStartAfter(a[0].firstChild.firstChild),n.setEndAfter(g)):(a.empty().append("").append(g).append(""),n.setStart(a[0].firstChild,1),n.setEnd(a[0].lastChild,0)),a.css({top:b.getPos(o,e.getBody()).y}),a[0].focus(),u=e.selection.getSel(),u.removeAllRanges(),u.addRange(n),lt.each(td.descendants(Ni.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){oa.remove(e,"data-mce-selected")}),o.setAttribute("data-mce-selected","1"),t=o,x(),n)):null)},b=function(){t&&(t.removeAttribute("data-mce-selected"),bh.descendant(Ni.fromDom(e.getBody()),"#"+i).each(Yp.remove),t=null)},C=function(){o.destroy(),t=null},x=function(){o.hide()};return Rt.ceFalse&&(p(),g()),{showCaret:f,showBlockCaretContainer:m,hideFakeCaret:x,destroy:C}},SS=kr.each,kS=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},TS=function(e){return e.replace(/<!--|-->/g,"")},AS=function(e,t,n){var r,o,i,a,u=1;for(a=e.getShortEndedElements(),i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,i.lastIndex=r=n;o=i.exec(t);){if(r=i.lastIndex,"/"===o[1])u--;else if(!o[1]){if(o[2]in a)continue;u++}if(0===u)break}return r};!function(e){e.findEndTag=AS}(j||(j={}));var BS=j,RS=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},DS=function(e,t){var n,r,o,i,a,u=t,c=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=e.schema;
for(u=RS(e.getTempAttrs(),u),a=s.getShortEndedElements();i=c.exec(u);)r=c.lastIndex,o=i[0].length,n=a[i[1]]?r:BS.findEndTag(s,u,r),u=u.substring(0,r-o)+u.substring(n),c.lastIndex=r-o;return u},_S=function(e,t){return ks.trim(DS(e,t))},OS={trimExternal:_S,trimInternal:DS},PS=0,LS=1,IS=2,MS=function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),i=function(e,t,n){return{start:e,end:t,diag:n}},a=function(n,r,o,i,u){var s=c(n,r,o,i);if(null===s||s.start===r&&s.diag===r-i||s.end===n&&s.diag===n-o)for(var l=n,f=o;l<r||f<i;)l<r&&f<i&&e[l]===t[f]?(u.push([PS,e[l]]),++l,++f):r-n>i-o?(u.push([IS,e[l]]),++l):(u.push([LS,t[f]]),++f);else{a(n,s.start,o,s.start-s.diag,u);for(var d=s.start;d<s.end;++d)u.push([PS,e[d]]);a(s.end,r,s.end-s.diag,i,u)}},u=function(n,r,o,a){for(var u=n;u-r<a&&u<o&&e[u]===t[u-r];)++u;return i(n,u,r)},c=function(n,i,a,c){var s=i-n,l=c-a;if(0===s||0===l)return null;var f=s-l,d=l+s,m=(d%2===0?d:d+1)/2;r[1+m]=n,o[1+m]=i+1;var p,g,h,v,y;for(p=0;p<=m;++p){for(g=-p;g<=p;g+=2){for(h=g+m,g===-p||g!==p&&r[h-1]<r[h+1]?r[h]=r[h+1]:r[h]=r[h-1]+1,v=r[h],y=v-n+a-g;v<i&&y<c&&e[v]===t[y];)r[h]=++v,++y;if(f%2!==0&&f-p<=g&&g<=f+p&&o[h-f]<=r[h])return u(o[h-f],g+n-a,i,c)}for(g=f-p;g<=f+p;g+=2){for(h=g+m-f,g===f-p||g!==f+p&&o[h+1]<=o[h-1]?o[h]=o[h+1]-1:o[h]=o[h-1],v=o[h]-1,y=v-n+a-g;v>=n&&y>=a&&e[v]===t[y];)o[h]=v--,y--;if(f%2===0&&-p<=g&&g<=p&&o[h]<=r[h+f])return u(o[h],g+n-a,i,c)}}},s=[];return a(0,e.length,0,t.length,s),s},FS={KEEP:PS,DELETE:IS,INSERT:LS,diff:MS},US=function(e){return 1===e.nodeType?e.outerHTML:3===e.nodeType?Xc.encodeRaw(e.data,!1):8===e.nodeType?"<!--"+e.data+"-->":""},zS=function(e){var t,n,r;for(r=document.createElement("div"),t=document.createDocumentFragment(),e&&(r.innerHTML=e);n=r.firstChild;)t.appendChild(n);return t},qS=function(e,t,n){var r=zS(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},VS=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},HS=function(e,t){var n=0;mr.each(e,function(e){e[0]===FS.KEEP?n++:e[0]===FS.INSERT?(qS(t,e[1],n),n++):e[0]===FS.DELETE&&VS(t,n)})},jS=function(e){return mr.filter(mr.map(e.childNodes,US),function(e){return e.length>0})},$S=function(e,t){var n=mr.map(t.childNodes,US);return HS(FS.diff(n,e),t),t},WS={read:jS,write:$S},KS=function(e){return e.indexOf("</iframe>")!==-1},XS=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},YS=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},GS=function(e){var t,n,r;return t=WS.read(e.getBody()),r=lt.bind(t,function(t){var n=OS.trimInternal(e.serializer,t);return n.length>0?[n]:[]}),n=r.join(""),KS(n)?XS(r):YS(n)},ZS=function(e,t,n){"fragmented"===t.type?WS.write(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},JS=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},QS=function(e,t){return!!e&&!!t&&JS(e)===JS(t)},ek={createFragmentedLevel:XS,createCompleteLevel:YS,createFromEditor:GS,applyToEditor:ZS,isEq:QS},tk={},nk=mr.filter,rk=mr.each,ok=function(e,t){var n=tk[e];n||(tk[e]=n=[]),tk[e].push(t)},ik=function(e,t){rk(tk[e],function(e){e(t)})};ok("pre",function(e){var t,n,r=e.selection.getRng(),o=function(e){return t(e.previousSibling)&&mr.indexOf(n,e.previousSibling)!==-1},i=function(e,t){Wr(t).remove(),Wr(e).append("<br><br>").append(t.childNodes)};t=Bc.matchNodeNames("pre"),r.collapsed||(n=e.selection.getSelectedBlocks(),rk(nk(nk(n,t),o),function(e){i(e.previousSibling,e)}))});var ak={postProcess:ik},uk=kr.each,ck=function(e,t){var n=e.childNodes;return t--,t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e},sk=function(e,t,n){var r,o,i,a,u,c,s,l=t.startContainer,f=t.startOffset,d=t.endContainer,m=t.endOffset;if(s=e.select("td[data-mce-selected],th[data-mce-selected]"),s.length>0)return void uk(s,function(e){n([e])});var p=function(e){var t;return t=e[0],3===t.nodeType&&t===l&&f>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===m&&e.length>0&&t===d&&3===t.nodeType&&e.splice(e.length-1,1),e},g=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},h=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},v=function(e,t,r){var o=r?"nextSibling":"previousSibling";for(a=e,u=a.parentNode;a&&a!==t;a=u)u=a.parentNode,c=g(a===e?a:a[o],o),c.length&&(r||c.reverse(),n(p(c)))};if(1===l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[f]),1===d.nodeType&&d.hasChildNodes()&&(d=ck(d,m)),l===d)return n(p([l]));for(r=e.findCommonAncestor(l,d),a=l;a;a=a.parentNode){if(a===d)return v(l,r,!0);if(a===r)break}for(a=d;a;a=a.parentNode){if(a===l)return v(d,r);if(a===r)break}o=h(l,r)||l,i=h(d,r)||d,v(l,o,!0),c=g(o===l?o:o.nextSibling,"nextSibling",i===d?i.nextSibling:i),c.length&&n(p(c)),v(d,i)},lk={walk:sk},fk=/^(src|href|style)$/,dk=kr.each,mk=By.isEq,pk=function(e){return/^(TH|TD)$/.test(e.nodeName)},gk=function(e,t,n){var r,o,i;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],Bc.isElement(r)&&(i=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[o>i?i:o]),Bc.isText(r)&&n&&o>=r.nodeValue.length&&(r=new C(r,e.getBody()).next()||r),Bc.isText(r)&&!n&&0===o&&(r=new C(r,e.getBody()).prev()||r),r},hk=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},vk=function(e,t,n){return!!mk(t,n.inline)||(!!mk(t,n.block)||(n.selector?Bc.isElement(t)&&e.is(t,n.selector):void 0))},yk=function(e,t){return t.links&&"A"===e.tagName},bk=function(e,t,n,r){return t=By.getNonWhiteSpaceSibling(t,n,r),!t||"BR"===t.nodeName||e.isBlock(t)},Ck=function(e,t,n){var r,o=t.parentNode,i=e.dom,a=e.settings.forced_root_block;n.block&&(a?o===i.getRoot()&&(n.list_block&&mk(t,n.list_block)||dk(kr.grep(t.childNodes),function(t){By.isValid(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=hk(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=0})):i.isBlock(t)&&!i.isBlock(o)&&(bk(i,t,!1)||bk(i,t.firstChild,!0,1)||t.insertBefore(i.create("br"),t.firstChild),bk(i,t,!0)||bk(i,t.lastChild,!1,1)||t.appendChild(i.create("br")))),n.selector&&n.inline&&!mk(n.inline,t)||i.remove(t,1)},xk=function(e,t,n,r,o){var i,a,u,c=e.dom;if(!vk(c,r,t)&&!yk(r,t))return!1;if("all"!==t.remove)for(dk(t.styles,function(e,i){e=By.normalizeStyleValue(c,By.replaceVars(e,n),i),"number"==typeof i&&(i=e,o=0),(t.remove_similar||!o||mk(By.getStyle(c,o,i),e))&&c.setStyle(r,i,""),u=1}),u&&""===c.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),dk(t.attributes,function(e,t){var i;if(e=By.replaceVars(e,n),"number"==typeof t&&(t=e,o=0),!o||mk(c.getAttrib(o,t),e)){if("class"===t&&(e=c.getAttrib(r,t),e&&(i="",dk(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)}),i)))return void c.setAttrib(r,t,i);"class"===t&&r.removeAttribute("className"),fk.test(t)&&r.removeAttribute("data-mce-"+t),r.removeAttribute(t)}}),dk(t.classes,function(e){e=By.replaceVars(e,n),o&&!c.hasClass(o,e)||c.removeClass(r,e)}),a=c.getAttribs(r),i=0;i<a.length;i++){var s=a[i].nodeName;if(0!==s.indexOf("_")&&0!==s.indexOf("data-"))return!1}return"none"!==t.remove?(Ck(e,r,t),!0):void 0},wk=function(e,t,n,r,o){var i;return dk(By.getParents(e.dom,t.parentNode).reverse(),function(t){var a;i||"_start"===t.id||"_end"===t.id||(a=eb.matchNode(e,t,n,r,o),a&&a.split!==!1&&(i=t))}),i},Ek=function(e,t,n,r,o,i,a,u){var c,s,l,f,d,m,p=e.dom;if(n){for(m=n.parentNode,c=r.parentNode;c&&c!==m;c=c.parentNode){for(s=p.clone(c,!1),d=0;d<t.length;d++)if(xk(e,t[d],u,s,s)){s=0;break}s&&(l&&s.appendChild(l),f||(f=s),l=s)}!i||a.mixed&&p.isBlock(n)||(r=p.split(n,r)),l&&(o.parentNode.insertBefore(l,o),f.appendChild(o))}return r},Nk=function(e,t,n,r,o){var i,a,u=e.formatter.get(t),c=u[0],s=!0,l=e.dom,f=e.selection,d=function(r){var i=wk(e,r,t,n,o);return Ek(e,u,i,r,r,!0,c,n)},m=function(t){var r,o,i,a,f;if(Bc.isElement(t)&&l.getContentEditable(t)&&(a=s,s="true"===l.getContentEditable(t),f=!0),r=kr.grep(t.childNodes),s&&!f)for(o=0,i=u.length;o<i&&!xk(e,u[o],n,t,t);o++);if(c.deep&&r.length){for(o=0,i=r.length;o<i;o++)m(r[o]);f&&(s=a)}},p=function(e){var t=l.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return Dp.isBookmarkNode(n)&&(n=n[e?"firstChild":"lastChild"]),Bc.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),l.remove(t,!0),n},g=function(t){var n,r,o=t.commonAncestorContainer;if(t=jy.expandRng(e,t,u,!0),c.split){if(n=gk(e,t,!0),r=gk(e,t),n!==r){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),o&&/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&&pk(r)&&r.firstChild&&(r=r.firstChild||r),l.isChildOf(n,r)&&n!==r&&!l.isBlock(r)&&!pk(n)&&!pk(r))return n=hk(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),d(n),void(n=p(!0));n=hk(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=hk(l,r,"span",{id:"_end","data-mce-type":"bookmark"}),d(n),d(r),n=p(!0),r=p()}else n=r=d(n);t.startContainer=n.parentNode?n.parentNode:n,t.startOffset=l.nodeIndex(n),t.endContainer=r.parentNode?r.parentNode:r,t.endOffset=l.nodeIndex(r)+1}lk.walk(l,t,function(t){dk(t,function(t){m(t),Bc.isElement(t)&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===By.getTextDecoration(l,t.parentNode)&&xk(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})};if(r)return void(r.nodeType?(a=l.createRng(),a.setStartBefore(r),a.setEndAfter(r),g(a)):g(r));if("false"!==l.getContentEditable(f.getNode()))f.isCollapsed()&&c.inline&&!l.select("td[data-mce-selected],th[data-mce-selected]").length?Sb.removeCaretFormat(e,t,n,o):(i=f.getBookmark(),g(f.getRng()),f.moveToBookmark(i),c.inline&&eb.match(e,t,n,f.getStart())&&By.moveStart(l,f,f.getRng()),e.nodeChanged());else{r=f.getNode();for(var h=0,v=u.length;h<v&&(!u[h].ceFalseOverride||!xk(e,u[h],n,r,r));h++);}},Sk={removeFormat:xk,remove:Nk},kk=kr.each,Tk=function(e){return e&&1===e.nodeType&&!Dp.isBookmarkNode(e)&&!Sb.isCaretNode(e)&&!Bc.isBogus(e)},Ak=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!Dp.isBookmarkNode(n))return n}return e},Bk=function(e,t,n){var r,o,i=new Op(e);if(t&&n&&(t=Ak(t,"previousSibling"),n=Ak(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,t.appendChild(o);return e.remove(n),kr.each(kr.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},Rk=function(e,t,n){kk(e.childNodes,function(e){Tk(e)&&(t(e)&&n(e),e.hasChildNodes()&&Rk(e,t,n))})},Dk=function(e,t){return ke.curry(function(t,n){return!(!n||!By.getStyle(e,n,t))},t)},_k=function(e,t,n){return ke.curry(function(t,n,r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),Ok(e,r)},t,n)},Ok=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},Pk=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=By.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},Lk=function(e,t,n,r){(t.styles.color||t.styles.textDecoration)&&(kr.walk(r,ke.curry(Pk,e),"childNodes"),Pk(e,r))},Ik=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&Rk(r,Dk(e,"fontSize"),_k(e,"backgroundColor",By.replaceVars(t.styles.backgroundColor,n)))},Mk=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(Rk(r,Dk(e,"fontSize"),_k(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},Fk=function(e,t,n,r){r&&t.merge_siblings!==!1&&(r=Bk(e,By.getNonWhiteSpaceSibling(r),r),r=Bk(e,r,By.getNonWhiteSpaceSibling(r,!0)))},Uk=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";kk(e.select(r,n),function(n){Tk(n)&&kk(t.styles,function(t,r){e.setStyle(n,r,"")})})}},zk=function(e,t,n,r){kk(t,function(t){kk(e.dom.select(t.inline,r),function(r){Tk(r)&&Sk.removeFormat(e,t,n,r,t.exact?r:null)}),Uk(e.dom,t,r)})},qk=function(e,t,n,r,o){eb.matchNode(e,o.parentNode,n,r)&&Sk.removeFormat(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,function(i){if(eb.matchNode(e,i,n,r))return Sk.removeFormat(e,t,r,o),!0})},Vk={mergeWithChildren:zk,mergeUnderlineAndColor:Lk,mergeBackgroundColorAndFontSize:Ik,mergeSubSup:Mk,mergeSiblings:Fk,mergeWithParents:qk},Hk=kr.each,jk=function(e){return e&&1===e.nodeType&&!Dp.isBookmarkNode(e)&&!Sb.isCaretNode(e)&&!Bc.isBogus(e)},$k=function(e,t,n,r){var o,i,a=e.formatter.get(t),u=a[0],c=!r&&e.selection.isCollapsed(),s=e.dom,l=e.selection,f=function(e,t){if(t=t||u,e){if(t.onformat&&t.onformat(e,t,n,r),Hk(t.styles,function(t,r){s.setStyle(e,r,By.replaceVars(t,n))}),t.styles){var o=s.getAttrib(e,"style");o&&e.setAttribute("data-mce-style",o)}Hk(t.attributes,function(t,r){s.setAttrib(e,r,By.replaceVars(t,n))}),Hk(t.classes,function(t){t=By.replaceVars(t,n),s.hasClass(e,t)||s.addClass(e,t)})}},d=function(e,t){var n=!1;return!!u.selector&&(Hk(e,function(e){if(!("collapsed"in e&&e.collapsed!==c))return s.is(t,e.selector)&&!Sb.isCaretNode(t)?(f(t,e),n=!0,!1):void 0}),n)},m=function(r,o,i,c){var s,l,m=[],p=!0;s=u.inline||u.block,l=r.create(s),f(l),lk.walk(r,o,function(o){var i,g=function(o){var h,v,y,b;if(b=p,h=o.nodeName.toLowerCase(),v=o.parentNode.nodeName.toLowerCase(),1===o.nodeType&&r.getContentEditable(o)&&(b=p,p="true"===r.getContentEditable(o),y=!0),By.isEq(h,"br"))return i=0,void(u.block&&r.remove(o));if(u.wrapper&&eb.matchNode(e,o,t,n))return void(i=0);if(p&&!y&&u.block&&!u.wrapper&&By.isTextBlock(e,h)&&By.isValid(e,v,s))return o=r.rename(o,s),f(o),m.push(o),void(i=0);if(u.selector){var C=d(a,o);if(!u.inline||C)return void(i=0)}!p||y||!By.isValid(e,s,h)||!By.isValid(e,v,s)||!c&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||Sb.isCaretNode(o)||u.inline&&r.isBlock(o)?(i=0,Hk(kr.grep(o.childNodes),g),y&&(p=b),i=0):(i||(i=r.clone(l,!1),o.parentNode.insertBefore(i,o),m.push(i)),i.appendChild(o))};Hk(o,g)}),u.links===!0&&Hk(m,function(e){var t=function(e){"A"===e.nodeName&&f(e,u),Hk(kr.grep(e.childNodes),t)};t(e)}),Hk(m,function(o){var i,c=function(e){var t=0;return Hk(e.childNodes,function(e){By.isWhiteSpaceNode(e)||Dp.isBookmarkNode(e)||t++}),t},s=function(e){var t=!1;return Hk(e.childNodes,function(e){if(jk(e))return t=e,!1}),t},l=function(e){var t,n;return t=s(e),t&&!Dp.isBookmarkNode(t)&&eb.matchName(r,t,u)&&(n=r.clone(t,!1),f(n),r.replace(n,e,!0),r.remove(t,1)),n||e};return i=c(o),(m.length>1||!r.isBlock(o))&&0===i?void r.remove(o,1):void((u.inline||u.wrapper)&&(u.exact||1!==i||(o=l(o)),Vk.mergeWithChildren(e,a,n,o),Vk.mergeWithParents(e,u,t,n,o),Vk.mergeBackgroundColorAndFontSize(r,u,n,o),Vk.mergeSubSup(r,u,n,o),Vk.mergeSiblings(r,u,n,o)))})};if("false"!==s.getContentEditable(l.getNode())){if(u){if(r)r.nodeType?d(a,r)||(i=s.createRng(),i.setStartBefore(r),i.setEndAfter(r),m(s,jy.expandRng(e,i,a),null,!0)):m(s,r,null,!0);else if(c&&u.inline&&!s.select("td[data-mce-selected],th[data-mce-selected]").length)Sb.applyCaretFormat(e,t,n);else{var p=e.selection.getNode();e.settings.forced_root_block||!a[0].defaultBlock||s.getParent(p,s.isBlock)||$k(e,a[0].defaultBlock),e.selection.setRng(mg.normalize(e.selection.getRng())),o=l.getBookmark(),m(s,jy.expandRng(e,l.getRng(),a),o),u.styles&&Vk.mergeUnderlineAndColor(s,u,n,p),l.moveToBookmark(o),By.moveStart(s,l,l.getRng()),e.nodeChanged()}ak.postProcess(t,e)}}else{r=l.getNode();for(var g=0,h=a.length;g<h;g++)if(a[g].ceFalseOverride&&s.is(r,a[g].selector))return void f(r,a[g])}},Wk={applyFormat:$k},Kk=kr.each,Xk=function(e,t){var n={};e.set({}),t.on("NodeChange",function(r){var o=By.getParents(t.dom,r.element),i={};o=kr.grep(o,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}),Kk(e.get(),function(e,r){Kk(o,function(a){return t.formatter.matchNode(a,r,{},e.similar)?(n[r]||(Kk(e,function(e){e(!0,{node:a,format:r,parents:o})}),n[r]=e),i[r]=e,!1):!eb.matchesUnInheritedFormatSelector(t,a,r)&&void 0})}),Kk(n,function(e,t){i[t]||(delete n[t],Kk(e,function(e){e(!1,{node:r.element,format:t,parents:o})}))})})},Yk=function(e,t,n,r){var o=e.get();Kk(t.split(","),function(e){o[e]||(o[e]=[],o[e].similar=r),o[e].push(n)}),e.set(o)},Gk=function(e,t,n,r,o){null===t.get()&&Xk(t,e),Yk(t,n,r,o)},Zk={formatChanged:Gk},Jk=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,r){kr.each(r,function(n,r){e.setAttrib(t,r,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return kr.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t},Qk={get:Jk},eT=kr.each,tT=gs.DOM,nT=function(e,t){var n,r,o,i=t&&t.schema||x({}),a=function(e,t){t.classes.length&&tT.addClass(e,t.classes.join(" ")),tT.setAttribs(e,t.attrs)},u=function(e){var t;return r="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=tT.create(r.name),a(t,r),t},c=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(t&&kr.inArray(o,t)!==-1?t:o[0])},s=function(e,t,n){var r,o,i,a=t.length>0&&t[0],l=a&&a.name;if(i=c(e,l))l===i?(o=t[0],t=t.slice(1)):o=i;else if(a)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=u(o),r.appendChild(e)),n&&(r||(r=tT.create("div"),r.appendChild(e)),kr.each(n,function(t){var n=u(t);r.insertBefore(n,e)})),s(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],n=u(r),o=tT.create("div"),o.appendChild(s(n,e.slice(1),r.siblings)),o):""},rT=function(e,t){return nT(iT(e),t)},oT=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=kr.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":kr.inArray("checked disabled enabled read-only required".split(" "),r)!==-1&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=t||"div",n},iT=function(e){return e&&"string"==typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),kr.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=kr.map(e.split(/(?:~\+|~|\+)/),oT),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},aT=function(e,t){var n,r,o,i,a,u,c="";if(u=e.settings.preview_styles,u===!1)return"";"string"!=typeof u&&(u="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var s=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}return"preview"in t&&(u=t.preview,u===!1)?"":(n=t.block||t.inline||"span",i=iT(t.selector),i.length?(i[0].name||(i[0].name=n),n=t.selector,r=nT(i,e)):r=nT([n],e),o=tT.select(n,r)[0]||r.firstChild,eT(t.styles,function(e,t){e=s(e),e&&tT.setStyle(o,t,e)}),eT(t.attributes,function(e,t){e=s(e),e&&tT.setAttrib(o,t,e)}),eT(t.classes,function(e){e=s(e),tT.hasClass(o,e)||tT.addClass(o,e)}),e.fire("PreviewFormats"),tT.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),a=tT.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,eT(u.split(" "),function(t){var n=tT.getStyle(o,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=tT.getStyle(e.getBody(),t,!0),"#ffffff"===tT.toHex(n).toLowerCase())||"color"===t&&"#000000"===tT.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===a)return;n=parseFloat(n)/(/%$/.test(n)?100:1),n=n*a+"px"}"border"===t&&n&&(c+="padding:0 2px;"),c+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),tT.remove(r),c)},uT={getCssText:aT,parseSelector:iT,selectorToHtml:rT},cT=function(e,t,n,r,o){var i=t.get(n);!eb.match(e,n,r,o)||"toggle"in i[0]&&!i[0].toggle?Wk.applyFormat(e,n,r,o):Sk.remove(e,n,r,o)},sT={toggle:cT},lT=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},fT={setup:lT},dT=function(e,t){return t},mT=function(e,t){var n=Mi.isObject(e)&&Mi.isObject(t);return n?gT(e,t):t},pT=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)i.hasOwnProperty(a)&&(r[a]=e(r[a],i[a]))}return r}},gT=pT(mT),hT=pT(dT),vT={deepMerge:gT,merge:hT},yT=function(e,t){return e.fire("PreProcess",t)},bT=function(e,t){return e.fire("PostProcess",t)},CT=function(e){return e.fire("remove")},xT={firePreProcess:yT,firePostProcess:bT,fireRemove:CT},wT=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)n=e[r],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),e.addAttributeFilter("src,href,style",function(e,r){for(var o,i,a=e.length,u="data-mce-"+r,c=t.url_converter,s=t.url_converter_scope;a--;)o=e[a],i=o.attributes.map[u],void 0!==i?(o.attr(r,i.length>0?i:null),o.attr(u,null)):(i=o.attributes.map[r],"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):c&&(i=c.call(s,i,r,o.name)),o.attr(r,i.length>0?i:null))}),e.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("class"),n&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),e.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,o=e.length;o--;)r=e[o],"bookmark"!==r.attributes.map["data-mce-type"]||n.cleanup||r.remove()}),e.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)t=e[n].firstChild,t&&(t.value=Xc.decode(t.value))}),e.addNodeFilter("script,style",function(e,n){for(var r,o,i,a=e.length,u=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)r=e[a],o=r.firstChild?r.firstChild.value:"","script"===n?(i=r.attr("type"),i&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+u(o)+"\n// ]]>")):"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="<!--\n"+u(o)+"\n-->")}),e.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){lt.each(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},ET=function(e){var t,n,r=function(e){return e&&"br"===e.name};t=e.lastChild,r(t)&&(n=t.prev,r(n)&&(t.remove(),n.remove()))},NT={register:wT,trimTrailingBr:ET},ST=function(e,t,n){var r,o,i,a=e.dom;return t=t.cloneNode(!0),r=document.implementation,r.createHTMLDocument&&(o=r.createHTMLDocument(""),kr.each("BODY"===t.nodeName?t.childNodes:[t],function(e){o.body.appendChild(o.importNode(e,!0))}),t="BODY"!==t.nodeName?o.body.firstChild:o.body,i=a.doc,a.doc=o),xT.firePreProcess(e,vT.merge(n,{node:t})),i&&(a.doc=i),t},kT=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},TT=function(e,t,n){return kT(e,n)?ST(e,t,n):t},AT={process:TT},BT=function(e,t){lt.each(t,function(t){e.attr(t,null)})},RT=function(e,t,n){e.addNodeFilter("font",function(e){lt.each(e,function(e){var r=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),BT(e,["color","face","size"])})})},DT=function(e,t){e.addNodeFilter("strike",function(e){lt.each(e,function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))})})},_T=function(e,t){var n=w();t.convert_fonts_to_spans&&RT(e,n,kr.explode(t.font_size_legacy_values)),DT(e,n)},OT=function(e,t){t.inline_styles&&_T(e,t)},PT={register:OT},LT=/^[ \t\r\n]*$/,IT={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},MT=function(e,t,n){var r,o,i=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[i])return e[i];if(e!==t){if(r=e[a])return r;for(o=e.parent;o&&o!==t;o=o.parent)if(r=o[a])return r}},FT=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r,o;if(r=new e(t,IT[t]||1),n)for(o in n)r.attr(o,n[o]);return r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r,o=this;if("string"!=typeof e){for(r in e)o.attr(r,e[r]);return o}if(n=o.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),o;return o}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}},e.prototype.clone=function(){var t,n,r,o,i,a=this,u=new e(a.name,a.type);if(r=a.attributes){for(i=[],i.map={},t=0,n=r.length;t<n;t++)o=r[t],"id"!==o.name&&(i[i.length]={name:o.name,value:o.value},i.map[o.name]=o.value);u.attributes=i}return u.value=a.value,u.shortEnded=a.shortEnded,u},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},e.prototype.insert=function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){var t,n=this,r=[];for(t=n.firstChild;t;t=MT(t,n))t.name===e&&r.push(t);return r},e.prototype.empty=function(){var e,t,n,r=this;if(r.firstChild){for(e=[],n=r.firstChild;n;n=MT(n,r))e.push(n);for(t=e.length;t--;)n=e[t],n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}return r.firstChild=r.lastChild=null,r},e.prototype.isEmpty=function(e,t,n){var r,o,i=this,a=i.firstChild;if(t=t||{},a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(e[a.name])return!1;for(r=a.attributes.length;r--;)if(o=a.attributes[r].name,"name"===o||0===o.indexOf("data-mce-bookmark"))return!1}if(8===a.type)return!1;if(3===a.type&&!LT.test(a.value))return!1;if(3===a.type&&a.parent&&t[a.parent.name]&&LT.test(a.value))return!1;if(n&&n(a))return!1}while(a=MT(a,i));return!0},e.prototype.walk=function(e){return MT(this,null,e)},e}(),UT=function(e,t,n,r){var o=e.padd_empty_with_br||t.insert;o&&n[r.name]?r.empty().append(new FT("br",1)).shortEnded=!0:r.empty().append(new FT("#text",3)).value=""},zT=function(e){return qT(e,"#text")&&""===e.firstChild.value},qT=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},VT=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},HT=function(e,t,n,r){return r.isEmpty(t,n,function(t){return VT(e,t)})},jT=function(e,t){return e&&(t[e.name]||"br"===e.name)},$T=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,r,o){var i,a,u,c,s,l,f,d,m=e.length,p=kr.extend({},n.getBlockElements()),g=n.getNonEmptyElements(),h=n.getNonEmptyElements();for(p.body=1,i=0;i<m;i++)if(a=e[i],u=a.parent,p[a.parent.name]&&a===u.lastChild){for(s=a.prev;s;){if(l=s.name,"span"!==l||"bookmark"!==s.attr("data-mce-type")){if("br"!==l)break;if("br"===l){a=null;break}}s=s.prev}a&&(a.remove(),HT(n,g,h,u)&&(f=n.getElementRule(u.name),f&&(f.removeEmpty?u.remove():f.paddEmpty&&UT(t,o,p,u))))}else{for(c=a;u&&u.firstChild===c&&u.lastChild===c&&(c=u,!p[u.name]);)u=u.parent;c===u&&t.padd_empty_with_br!==!0&&(d=new FT("#text",3),d.value="",a.replace(d))}}),e.addAttributeFilter("href",function(e){var n,r=e.length,o=function(e){var t=e.split(" ").filter(function(e){
return e.length>0});return t.concat(["noopener"]).sort().join(" ")},i=function(e){var t=e?kr.trim(e):"";return/\b(noopener)\b/g.test(t)?t:o(t)};if(!t.allow_unsafe_link_target)for(;r--;)n=e[r],"a"===n.name&&"_blank"===n.attr("target")&&n.attr("rel",i(n.attr("rel")))}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if(o=e[i],"a"===o.name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do n=t.prev,r.insert(t,o),t=n;while(t)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)if(t=e[r],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new FT("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,r,o,i,a,u,c,s=e.length,l=n.getValidClasses();s--;){for(t=e[s],r=t.attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],c=!1,u=l["*"],u&&u[i]&&(c=!0),u=l[t.name],!c&&u&&u[i]&&(c=!0),c&&(a&&(a+=" "),a+=i);a.length||(a=null),t.attr("class",a)}})},WT=kr.makeMap,KT=kr.each,XT=kr.explode,YT=kr.extend,GT=function(e,t,n){kr.inArray(t,n)===-1&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},ZT=function(e,t,n){if(!t.no_events&&e){var r=xT.firePostProcess(e,vT.merge(t,{content:n}));return r.content}return n},JT=function(e,t,n){var r=ks.trim(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection?r:kr.trim(r)},QT=function(e,t,n,r){var o=r.selection?vT.merge({forced_root_block:!1},r):r,i=e.parse(n,o);return NT.trimTrailingBr(i),i},eA=function(e,t,n){var r=k(e,t);return r.serialize(n)},tA=function(e,t,n,r,o){var i=eA(t,n,r);return ZT(e,o,i)},nA=function(e){return bh.descendant(Ni.fromDom(e.getBody()),"*[data-mce-caret]").fold(ke.constant(null),function(e){return e.dom()})},rA=function(e){e.selection.setRng(e.selection.getRng())},oA=function(e,t){t.hasAttribute("data-mce-caret")&&(qs(t),rA(e),e.selection.scrollIntoView(t))},iA=function(e,t){var n=nA(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void oA(e,n)):void(_s(n)&&oA(e,n))},aA=function(e){e.on("keyup compositionstart",ke.curry(iA,e))},uA={setup:aA};!function(e){e.isBookmarkNode=Dp.isBookmarkNode}(Z||(Z={}));var cA=Z,sA=Bc.isContentEditableFalse,lA=Bc.isContentEditableTrue,fA=function(e,t){for(;t&&t!==e;){if(lA(t)||sA(t))return t;t=t.parentNode}return null},dA=function(e,t){var n,r,o,i,a,u,c,s,l,f,d,m,p,g,h,v,y,b=t.dom,C=kr.each,x=t.getDoc(),w=document,E=Math.abs,N=Math.round,S=t.getBody();i={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var k=".mce-content-body";t.contentStyles.push(k+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+k+" .mce-resizehandle:hover {background: #000}"+k+" img[data-mce-selected],"+k+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+k+" .mce-clonedresizable {position: absolute;"+(Rt.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+k+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var T=function(e){return e&&("IMG"===e.nodeName||t.dom.is(e,"figure.image"))},A=function(e,t){return T(e.target)&&!dS.isXYWithinRange(e.clientX,e.clientY,t)},B=function(e){var n=e.target;A(e,t.selection.getRng())&&!e.isDefaultPrevented()&&(e.preventDefault(),t.selection.select(n))},R=function(e){return t.dom.is(e,"figure.image")?e.querySelector("img"):e},D=function(e){var n=t.settings.object_resizing;return n!==!1&&!Rt.iOS&&("string"!=typeof n&&(n="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!==t.getBody()&&Ya.is(Ni.fromDom(e),n)))},_=function(e){var i,C,x,w,k;i=e.screenX-u,C=e.screenY-c,g=i*a[2]+f,h=C*a[3]+d,g=g<5?5:g,h=h<5?5:h,x=T(n)&&t.settings.resize_img_proportional!==!1?!bS.modifierPressed(e):bS.modifierPressed(e)||T(n)&&a[2]*a[3]!==0,x&&(E(i)>E(C)?(h=N(g*m),g=N(h/m)):(g=N(h/m),h=N(g*m))),b.setStyles(R(r),{width:g,height:h}),w=a.startPos.x+i,k=a.startPos.y+C,w=w>0?w:0,k=k>0?k:0,b.setStyles(o,{left:w,top:k,display:"block"}),o.innerHTML=g+" &times; "+h,a[2]<0&&r.clientWidth<=g&&b.setStyle(r,"left",s+(f-g)),a[3]<0&&r.clientHeight<=h&&b.setStyle(r,"top",l+(d-h)),i=S.scrollWidth-v,C=S.scrollHeight-y,i+C!==0&&b.setStyles(o,{left:w-i,top:k-C}),p||(t.fire("ObjectResizeStart",{target:n,width:f,height:d}),p=!0)},O=function(){p=!1;var e=function(e,r){r&&(n.style[e]||!t.schema.isValid(n.nodeName.toLowerCase(),e)?b.setStyle(R(n),e,r):b.setAttrib(R(n),e,r))};e("width",g),e("height",h),b.unbind(x,"mousemove",_),b.unbind(x,"mouseup",O),w!==x&&(b.unbind(w,"mousemove",_),b.unbind(w,"mouseup",O)),b.remove(r),b.remove(o),P(n),t.fire("ObjectResized",{target:n,width:g,height:h}),b.setAttrib(n,"style",b.getAttrib(n,"style")),t.nodeChanged()},P=function(e){var p,E,N,k,T;L(),F(),p=b.getPos(e,S),s=p.x,l=p.y,T=e.getBoundingClientRect(),E=T.width||T.right-T.left,N=T.height||T.bottom-T.top,n!==e&&(n=e,g=h=0),k=t.fire("ObjectSelected",{target:e}),D(e)&&!k.isDefaultPrevented()?C(i,function(e,t){var i,p=function(t){u=t.screenX,c=t.screenY,f=R(n).clientWidth,d=R(n).clientHeight,m=d/f,a=e,e.startPos={x:E*e[0]+s,y:N*e[1]+l},v=S.scrollWidth,y=S.scrollHeight,r=n.cloneNode(!0),b.addClass(r,"mce-clonedresizable"),b.setAttrib(r,"data-mce-bogus","all"),r.contentEditable=!1,r.unSelectabe=!0,b.setStyles(r,{left:s,top:l,margin:0}),r.removeAttribute("data-mce-selected"),S.appendChild(r),b.bind(x,"mousemove",_),b.bind(x,"mouseup",O),w!==x&&(b.bind(w,"mousemove",_),b.bind(w,"mouseup",O)),o=b.add(S,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},f+" &times; "+d)};i=b.get("mceResizeHandle"+t),i&&b.remove(i),i=b.add(S,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),Rt.ie&&(i.contentEditable=!1),b.bind(i,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),p(e)}),e.elm=i,b.setStyles(i,{left:E*e[0]+s-i.offsetWidth/2,top:N*e[1]+l-i.offsetHeight/2})}):L(),n.setAttribute("data-mce-selected","1")},L=function(){var e,t;F(),n&&n.removeAttribute("data-mce-selected");for(e in i)t=b.get("mceResizeHandle"+e),t&&(b.unbind(t),b.remove(t))},I=function(n){var r,o,i=function(e,t){if(e)do if(e===t)return!0;while(e=e.parentNode)};if(!p&&!t.removed)return C(b.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),o="mousedown"===n.type?n.target:e.getNode(),o=b.$(o).closest("table,img,figure.image,hr")[0],i(o,S)&&(U(),r=e.getStart(!0),i(r,o)&&i(e.getEnd(!0),o))?void P(o):void L()},M=function(e){return sA(fA(t.getBody(),e))},F=function(){for(var e in i){var t=i[e];t.elm&&(b.unbind(t.elm),delete t.elm)}},U=function(){try{t.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};t.on("init",function(){U(),Rt.ie&&Rt.ie>=11&&(t.on("mousedown click",function(e){var n=e.target,r=n.nodeName;p||!/^(TABLE|IMG|HR)$/.test(r)||M(n)||(2!==e.button&&t.selection.select(n,"TABLE"===r),"mousedown"===e.type&&t.nodeChanged())}),t.dom.bind(S,"mscontrolselect",function(e){var n=function(e){Ut.setEditorTimeout(t,function(){t.selection.select(e)})};return M(e.target)?(e.preventDefault(),void n(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&n(e.target)))}));var e=Ut.throttle(function(e){t.composing||I(e)});t.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),t.on("keyup compositionend",function(t){n&&"TABLE"===n.nodeName&&e(t)}),t.on("hide blur",L),t.on("contextmenu",B)}),t.on("remove",F);var z=function(){n=r=null};return{isResizable:D,showResizeRect:P,hideResizeRect:L,updateResizeRect:I,destroy:z}},mA=function(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}},pA=function(e,t,n){var r={elm:t,alignToTop:n};return e.fire("scrollIntoView",r),r.isDefaultPrevented()},gA=function(e,t,n){var r,o,i,a,u=e.dom,c=u.getRoot(),s=0;if(!pA(e,t,n)&&Bc.isElement(t)){if(n===!1&&(s=t.offsetHeight),"BODY"!==c.nodeName){var l=e.selection.getScrollContainer();if(l)return r=mA(t).y-mA(l).y+s,a=l.clientHeight,i=l.scrollTop,void((r<i||r+25>i+a)&&(l.scrollTop=r<i?r:r-a+25))}o=u.getViewPort(e.getWin()),r=u.getPos(t).y+s,i=o.y,a=o.h,(r<o.y||r+25>i+a)&&e.getWin().scrollTo(0,r<i?r:r-a+25)}},hA={scrollIntoView:gA},vA=function(e){return Bc.isContentEditableTrue(e)||Bc.isContentEditableFalse(e)},yA=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},bA=function(e,t,n){var r,o,i;if(r=n.elementFromPoint(e,t),o=n.body.createTextRange(),r&&"HTML"!==r.tagName||(r=n.body),o.moveToElementText(r),i=kr.toArray(o.getClientRects()),i=i.sort(function(e,n){return e=Math.abs(Math.max(e.top-t,e.bottom-t)),n=Math.abs(Math.max(n.top-t,n.bottom-t)),e-n}),i.length>0){t=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(e,t),o.collapse(!0),o}catch(a){}}return null},CA=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return Bc.isContentEditableFalse(yA(n,t,vA))?null:e},xA=function(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)o=i.caretPositionFromPoint(e,t),o&&(r=n.createRange(),r.setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(a){r=bA(e,t,n)}return CA(r,n.body)}return r},wA={fromPoint:xA},EA=function(e,t){return lt.map(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},NA={processRanges:EA},SA=function(e,t){return Ni.fromDom(e.dom().cloneNode(t))},kA=function(e){return SA(e,!1)},TA=function(e){return SA(e,!0)},AA=function(e,t){var n=Ni.fromTag(t),r=oa.clone(e);return oa.setAll(n,r),n},BA=function(e,t){var n=AA(e,t),r=Nu.children(TA(e));return $p.append(n,r),n},RA=function(e,t){var n=AA(e,t);zp.before(e,n);var r=Nu.children(e);return $p.append(n,r),Yp.remove(e),n},DA={shallow:kA,shallowAs:AA,deep:TA,copy:BA,mutate:RA},_A=function(e,t){var n=t||document,r=n.createDocumentFragment();return lt.each(e,function(e){r.appendChild(e.dom())}),Ni.fromDom(r)},OA={fromElements:_A},PA=function(e){var t=e.startContainer,n=e.startOffset;return Bc.isText(t)?0===n?Oe.some(Ni.fromDom(t)):Oe.none():Oe.from(t.childNodes[n]).map(Ni.fromDom)},LA=function(e){var t=e.endContainer,n=e.endOffset;return Bc.isText(t)?n===t.data.length?Oe.some(Ni.fromDom(t)):Oe.none():Oe.from(t.childNodes[n-1]).map(Ni.fromDom)},IA=function(e){return Nu.firstChild(e).fold(ke.constant([e]),function(t){return[e].concat(IA(t))})},MA=function(e){return Nu.lastChild(e).fold(ke.constant([e]),function(t){return"br"===Pi.name(t)?Nu.prevSibling(t).map(function(t){return[e].concat(MA(t))}).getOr([]):[e].concat(MA(t))})},FA=function(e,t){return Tf.liftN([PA(t),LA(t)],function(t,n){var r=lt.find(IA(e),ke.curry(ru.eq,t)),o=lt.find(MA(e),ke.curry(ru.eq,n));return r.isSome()&&o.isSome()}).getOr(!1)},UA=function(e,t,n,r){var o=n,i=new C(n,o),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==kr.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(Rt.ie&&Rt.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},zA=La.immutable("element","width","rows"),qA=La.immutable("element","cells"),VA=La.immutable("x","y"),HA=function(e,t){var n=parseInt(oa.get(e,t),10);return isNaN(n)?1:n},jA=function(e,t,n,r,o){for(var i=HA(o,"rowspan"),a=HA(o,"colspan"),u=e.rows(),c=n;c<n+i;c++){u[c]||(u[c]=qA(DA.deep(r),[]));for(var s=t;s<t+a;s++){var l=u[c].cells();l[s]=c===n&&s===t?o:DA.shallow(o)}}},$A=function(e,t,n){var r=e.rows(),o=r[n]?r[n].cells():[];return!!o[t]},WA=function(e,t,n){for(;$A(e,t,n);)t++;return t},KA=function(e){return lt.foldl(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},XA=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(ru.eq(o[i],t))return Oe.some(VA(i,r));return Oe.none()},YA=function(e,t,n,r,o){for(var i=[],a=e.rows(),u=n;u<=o;u++){var c=a[u].cells(),s=t<r?c.slice(t,r+1):c.slice(r,t+1);i.push(qA(a[u].element(),s))}return i},GA=function(e,t,n){var r=t.x(),o=t.y(),i=n.x(),a=n.y(),u=o<a?YA(e,r,o,i,a):YA(e,r,a,i,o);return zA(e.element(),KA(u),u)},ZA=function(e,t){var n=DA.shallow(e.element()),r=Ni.fromTag("tbody");return $p.append(r,t),zp.append(n,r),n},JA=function(e){return lt.map(e.rows(),function(e){var t=lt.map(e.cells(),function(e){var t=DA.deep(e);return oa.remove(t,"colspan"),oa.remove(t,"rowspan"),t}),n=DA.shallow(e.element());return $p.append(n,t),n})},QA=function(e){var t=zA(DA.shallow(e),0,[]);return lt.each(td.descendants(e,"tr"),function(e,n){lt.each(td.descendants(e,"td,th"),function(r,o){jA(t,WA(t,o,n),n,e,r)})}),zA(t.element(),KA(t.rows()),t.rows())},eB=function(e){return ZA(e,JA(e))},tB=function(e,t,n){return XA(e,t).bind(function(t){return XA(e,n).map(function(n){return GA(e,t,n)})})},nB={fromDom:QA,toDom:eB,subsection:tB},rB=function(e){return lt.find(e,function(e){return"ul"===Pi.name(e)||"ol"===Pi.name(e)})},oB=function(e,t){return lt.find(e,function(e){return"li"===Pi.name(e)&&FA(e,t)}).fold(ke.constant([]),function(t){return rB(e).map(function(e){return[Ni.fromTag("li"),Ni.fromTag(Pi.name(e))]}).getOr([])})},iB=function(e,t){var n=lt.foldl(t,function(e,t){return zp.append(t,e),t},e);return t.length>0?OA.fromElements([n]):n},aB=function(e){return cc(e)?Nu.parent(e).filter(uc).fold(ke.constant([]),function(t){return[e,t]}):uc(e)?[e]:[]},uB=function(e,t){var n=Ni.fromDom(t.commonAncestorContainer),r=Zh.parentsAndSelf(n,e),o=lt.filter(r,function(e){return oc(e)||nc(e)}),i=oB(r,t),a=o.concat(i.length?i:aB(n));return lt.map(a,DA.shallow)},cB=function(){return OA.fromElements([])},sB=function(e,t){return iB(Ni.fromDom(t.cloneContents()),uB(e,t))},lB=function(e,t){return bh.ancestor(t,"table",ke.curry(ru.eq,e))},fB=function(e,t){return lB(e,t[0]).bind(function(e){var n=t[0],r=t[t.length-1],o=nB.fromDom(e);return nB.subsection(o,n,r).map(function(e){return OA.fromElements([nB.toDom(e)])})}).getOrThunk(cB)},dB=function(e,t){return t.length>0&&t[0].collapsed?cB():sB(e,t[0])},mB=function(e,t){var n=$C.getCellsFromElementOrRanges(t,e);return n.length>0?fB(e,n):dB(e,t)},pB={read:mB},gB=function(e,t){var n,r=e.selection.getRng(),o=e.dom.create("body"),i=e.selection.getSel(),a=NA.processRanges(e,zC.getRanges(i));if(t=t||{},t.get=!0,t.format=t.format||"html",t.selection=!0,t=e.fire("BeforeGetContent",t),t.isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return e.selection.isCollapsed()?"":ks.trim(r.text||(i.toString?i.toString():""));r.cloneContents?(n=t.contextual?pB.read(Ni.fromDom(e.getBody()),a).dom():r.cloneContents(),n&&o.appendChild(n)):void 0!==r.item||void 0!==r.htmlText?(o.innerHTML="<br>"+(r.item?r.item(0).outerHTML:r.htmlText),o.removeChild(o.firstChild)):o.innerHTML=r.toString(),t.getInner=!0;var u=e.selection.serializer.serialize(o,t);return"tree"===t.format?u:(t.content=e.selection.isCollapsed()?"":u,e.fire("GetContent",t),t.content)},hB={getContent:gB},vB=function(e,t,n){var r,o,i,a=e.selection.getRng(),u=e.getDoc();if(n=n||{format:"html"},n.set=!0,n.selection=!0,n.content=t,!n.no_events&&(n=e.fire("BeforeSetContent",n),n.isDefaultPrevented()))return void e.fire("SetContent",n);if(t=n.content,a.insertNode){t+='<span id="__caret">_</span>',a.startContainer===u&&a.endContainer===u?u.body.innerHTML=t:(a.deleteContents(),0===u.body.childNodes.length?u.body.innerHTML=t:a.createContextualFragment?a.insertNode(a.createContextualFragment(t)):(o=u.createDocumentFragment(),i=u.createElement("div"),o.appendChild(i),i.outerHTML=t,a.insertNode(o))),r=e.dom.get("__caret"),a=u.createRange(),a.setStartBefore(r),a.setEndBefore(r),e.selection.setRng(a),e.dom.remove("__caret");try{e.selection.setRng(a)}catch(c){}}else a.item&&(u.execCommand("Delete",!1,null),a=e.getRng()),/^\s+/.test(t)?(a.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):a.pasteHTML(t);n.no_events||e.fire("SetContent",n)},yB={setContent:vB},bB=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return Oe.from(i).map(Ni.fromDom).map(function(e){return r&&t.collapsed?e:Nu.child(e,o(e,a)).getOr(e)}).bind(function(e){return Pi.isElement(e)?Oe.some(e):Nu.parent(e)}).map(function(e){return e.dom()}).getOr(e)},CB=function(e,t,n){return bB(e,t,!0,n,function(e,t){return Math.min(Nu.childNodesCount(e),t)})},xB=function(e,t,n){return bB(e,t,!1,n,function(e,t){return t>0?t-1:t})},wB=function(e,t){for(var n=e;e&&Bc.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},EB=function(e,t){var n,r,o,i,a;return t?(r=t.startContainer,o=t.endContainer,i=t.startOffset,a=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?wB(r.nextSibling,!0):r.parentNode,o=0===a?wB(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):e},NB=function(e,t,n,r){var o,i,a=[];if(i=e.getRoot(),n=e.getParent(n||CB(i,t,!1),e.isBlock),r=e.getParent(r||xB(i,t,!1),e.isBlock),n&&n!==i&&a.push(n),n&&r&&n!==r){o=n;for(var u=new C(n,i);(o=u.next())&&o!==r;)e.isBlock(o)&&a.push(o)}return r&&n!==r&&r!==i&&a.push(r),a},SB=function(e,t,n){return Oe.from(t).map(function(t){var r=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,r),o.setEnd(t.parentNode,r+1),n&&(UA(e,o,t,!0),UA(e,o,t,!1)),o})},kB=kr.each,TB=function(e){return!!e.select},AB=function(e){return!(!e||!e.ownerDocument)&&ru.contains(Ni.fromDom(e.ownerDocument),Ni.fromDom(e))},BB=function(e){return!!e&&(!!TB(e)||AB(e.startContainer)&&AB(e.endContainer))},RB=function(e,t,n,r){var o,i,a,u,c,s=function(t,n){var o=e.createRng();t?(o.setStart(t,n),o.setEnd(t,n),x(o),y(!1)):(UA(e,o,r.getBody(),!0),x(o))},l=function(e){return hB.getContent(r,e)},f=function(e,t){return yB.setContent(r,e,t)},d=function(e){return CB(r.getBody(),C(),e)},m=function(e){return xB(r.getBody(),C(),e)},p=function(e,t){return o.getBookmark(e,t)},g=function(e){return o.moveToBookmark(e)},h=function(t,n){return SB(e,t,n).each(x),t},v=function(){var e=C(),t=b();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},y=function(e){var t=C();t.collapse(!!e),x(t)},b=function(){return t.getSelection?t.getSelection():t.document.selection},C=function(){var n,o,i,c,s=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}};if(!t)return null;if(c=t.document,"undefined"==typeof c||null===c)return null;if(void 0!==r.bookmark&&yE.hasFocus(r)===!1){var l=hw.getRng(r);if(l.isSome())return l.map(function(e){return NA.processRanges(r,[e])[0]}).getOr(c.createRange())}try{(n=b())&&(o=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange())}catch(f){}return o=NA.processRanges(r,[o])[0],o||(o=c.createRange?c.createRange():c.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(i=e.getRoot(),o.setStart(i,0),o.setEnd(i,0)),a&&u&&(0===s(o.START_TO_START,o,a)&&0===s(o.END_TO_END,o,a)?o=u:(a=null,u=null)),o},x=function(e,t){var n,o,i;if(BB(e)){var c=TB(e)?e:null;if(c){u=null;try{c.select()}catch(s){}}else{if(n=b(),i=r.fire("SetSelectionRange",{range:e,forward:t}),e=i.range,n){u=e;try{n.removeAllRanges(),n.addRange(e)}catch(s){}t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),a=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||Rt.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(o=e.startContainer.childNodes[e.startOffset],o&&"IMG"===o.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(o,0,o,1))),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},w=function(t){return f(e.getOuterHTML(t)),t},E=function(){return EB(r.getBody(),C())},N=function(t,n){return NB(e,C(),t,n)},S=function(){var t,n,r=b();return!(r&&r.anchorNode&&r.focusNode)||(t=e.createRng(),t.setStart(r.anchorNode,r.anchorOffset),t.collapse(!0),n=e.createRng(),n.setStart(r.focusNode,r.focusOffset),n.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,n)<=0)},k=function(){var t=C();if(!zC.hasMultipleRanges(b())){var n=Rx.normalize(e,t);return n.each(function(e){x(e,S())}),n.getOr(t)}return t},T=function(t,n){var o;return c||(c={},o={},r.on("NodeChange",function(t){var n=t.element,r=e.getParents(n,null,e.getRoot()),i={};kB(c,function(t,n){kB(r,function(a){if(e.is(a,n))return o[n]||(kB(t,function(e){e(!0,{node:a,selector:n,parents:r})}),o[n]=t),i[n]=t,!1})}),kB(o,function(e,t){i[t]||(delete o[t],kB(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),c[t]||(c[t]=[]),c[t].push(n),O},A=function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},B=function(e,t){return hA.scrollIntoView(r,e,t)},R=function(e,t){return x(wA.fromPoint(e,t,r.getDoc()))},D=function(){var e=C();return e.collapsed?jl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},_=function(){t=null,i.destroy()},O={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:y,setCursorLocation:s,getContent:l,setContent:f,getBookmark:p,moveToBookmark:g,select:h,isCollapsed:v,isForward:S,setNode:w,getNode:E,getSel:b,setRng:x,getRng:C,getStart:d,getEnd:m,getSelectedBlocks:N,normalize:k,selectorChanged:T,getScrollContainer:A,scrollIntoView:B,placeCaretAt:R,getBoundingClientRect:D,destroy:_};return o=cA(O),i=dA(O,r),O.bookmarkManager=o,O.controlSelection=i,O},DB=Bc.isContentEditableFalse,_B=ll,OB=om,PB=rm,LB=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},IB=function(e,t){var n=$d(e,t);return!(n||!Bc.isBr(e.getNode()))||n},MB=function(e,t,n,r){var o,i,a,u,c=e===Af.Forwards,s=c?PB:OB;return!r.collapsed&&(o=_B(r),DB(o))?bf(e,t,o,e===Af.Backwards):(u=Vs(r),i=nm(e,t.getBody(),r),s(i)?xf(t,i.getNode(!c)):(i=n(i))?s(i)?bf(e,t,i.getNode(!c),c):(a=n(i),s(a)&&IB(i,a)?bf(e,t,a.getNode(!c),c):u?Ef(t,i.toRange()):null):u?r:null)},FB=function(e,t,n,r){var o,i,a,u,c,s,l,f,d;if(d=_B(r),o=nm(e,t.getBody(),r),i=n(t.getBody(),JN(1),o),a=mr.filter(i,QN(1)),c=mr.last(o.getClientRects()),(PB(o)||im(o))&&(d=o.getNode()),(OB(o)||am(o))&&(d=o.getNode(!0)),!c)return null;if(s=c.left,u=iS(a,s),u&&DB(u.node))return l=Math.abs(s-u.left),f=Math.abs(s-u.right),bf(e,t,u.node,l<f);if(d){var m=ZN(e,t.getBody(),JN(1),d);if(u=iS(mr.filter(m,QN(1)),s))return Ef(t,u.position.toRange());if(u=mr.last(mr.filter(m,QN(0))))return Ef(t,u.position.toRange())}},UB=function(e){var t=e.dom.create(e.settings.forced_root_block);return(!Rt.ie||Rt.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},zB=function(e,t,n){var r,o,i,a=bm(e.getBody()),u=wl.curry(LB,a.next),c=wl.curry(LB,a.prev);if(n.collapsed&&e.settings.forced_root_block){if(r=e.dom.getParent(n.startContainer,"PRE"),!r)return;o=1===t?u(jl.fromRangeStart(n)):c(jl.fromRangeStart(n)),o||(i=UB(e),1===t?e.$(r).after(i):e.$(r).before(i),e.selection.select(i,!0),e.selection.collapse())}},qB=function(e,t){var n,r=bm(e.getBody()),o=wl.curry(LB,r.next),i=wl.curry(LB,r.prev),a=t?Af.Forwards:Af.Backwards,u=t?o:i,c=e.selection.getRng();return(n=MB(a,e,u,c))?n:(n=zB(e,a,c),n?n:null)},VB=function(e,t){var n,r=t?1:-1,o=t?GN:YN,i=e.selection.getRng();return(n=FB(r,e,o,i))?n:(n=zB(e,r,i),n?n:null)},HB=function(e,t){return function(){var n=qB(e,t);return!!n&&(e.selection.setRng(n),!0)}},jB=function(e,t){return function(){var n=VB(e,t);return!!n&&(e.selection.setRng(n),!0)}},$B=function(e){return lt.map(e,function(e){return vT.merge({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:ke.noop},e)})},WB=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},KB=function(e,t){return lt.bind($B(e),function(e){return WB(e,t)?[e]:[]})},XB=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,r)}},YB=function(e,t){return lt.find(KB(e,t),function(e){return e.action()})},GB={match:KB,action:XB,execute:YB},ZB=function(e,t,n){var r=yi.detect().os;GB.execute([{keyCode:bS.RIGHT,action:HB(e,!0)},{keyCode:bS.LEFT,action:HB(e,!1)},{keyCode:bS.UP,action:jB(e,!1)},{keyCode:bS.DOWN,action:jB(e,!0)},{keyCode:bS.RIGHT,action:Nd(e,!0)},{keyCode:bS.LEFT,action:Nd(e,!1)},{keyCode:bS.UP,action:Sd(e,!1)},{keyCode:bS.DOWN,action:Sd(e,!0)},{keyCode:bS.RIGHT,action:fC.move(e,t,!0)},{keyCode:bS.LEFT,action:fC.move(e,t,!1)},{keyCode:bS.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:fC.moveNextWord(e,t)},{keyCode:bS.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:fC.movePrevWord(e,t)}],n).each(function(e){n.preventDefault()})},JB=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&ZB(e,t,n)})},QB={setup:JB},eR=function(e,t){var n=Zh.parentsAndSelf(t,e);return lt.findIndex(n,rc).fold(ke.constant(n),function(e){return n.slice(0,e)})},tR=function(e){return 1===Nu.children(e).length},nR=function(e,t,n,r){var o=ke.curry(Sb.isFormatElement,t),i=lt.map(lt.filter(r,o),function(e){return e.dom()});if(0===i.length)Kv.deleteElement(t,e,n);else{var a=Sb.replaceWithCaretFormat(n.dom(),i);t.selection.setRng(a.toRange())}},rR=function(e,t){var n=Ni.fromDom(e.getBody()),r=Ni.fromDom(e.selection.getStart()),o=lt.filter(eR(n,r),tR);return lt.last(o).map(function(n){var r=jl.fromRangeStart(e.selection.getRng());return!!dh.willDeleteLastPositionInElement(t,r,n.dom())&&(nR(t,e,n,o),!0)}).getOr(!1)},oR=function(e,t){return!!e.selection.isCollapsed()&&rR(e,t)},iR={backspaceDelete:oR},aR=function(e,t,n){GB.execute([{keyCode:bS.BACKSPACE,action:GB.action(ry.backspaceDelete,e,!1)},{keyCode:bS.DELETE,action:GB.action(ry.backspaceDelete,e,!0)},{keyCode:bS.BACKSPACE,action:GB.action(CC.backspaceDelete,e,t,!1)},{keyCode:bS.DELETE,action:GB.action(CC.backspaceDelete,e,t,!0)},{keyCode:bS.BACKSPACE,action:GB.action(hv.backspaceDelete,e,!1)},{keyCode:bS.DELETE,action:GB.action(hv.backspaceDelete,e,!0)},{keyCode:bS.BACKSPACE,action:GB.action(cv.backspaceDelete,e,!1)},{keyCode:bS.DELETE,action:GB.action(cv.backspaceDelete,e,!0)},{keyCode:bS.BACKSPACE,action:GB.action(lx.backspaceDelete,e,!1)},{keyCode:bS.DELETE,action:GB.action(lx.backspaceDelete,e,!0)},{keyCode:bS.BACKSPACE,action:GB.action(iR.backspaceDelete,e,!1)},{keyCode:bS.DELETE,action:GB.action(iR.backspaceDelete,e,!0)}],n).each(function(e){n.preventDefault()})},uR=function(e,t){GB.execute([{keyCode:bS.BACKSPACE,action:GB.action(ry.paddEmptyElement,e)},{keyCode:bS.DELETE,action:GB.action(ry.paddEmptyElement,e)}],t)},cR=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&aR(e,t,n)}),e.on("keyup",function(t){t.isDefaultPrevented()===!1&&uR(e,t)})},sR={setup:cR},lR=function(e,t,n){var r=e.getParam(t,n);if(r.indexOf("=")!==-1){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},fR=function(e){return e.getParam("iframe_attrs",{})},dR=function(e){return e.getParam("doctype","<!DOCTYPE html>")},mR=function(e){return e.getParam("document_base_url","")},pR=function(e){return lR(e,"body_id","tinymce")},gR=function(e){return lR(e,"body_class","")},hR=function(e){return e.getParam("content_security_policy","")},vR=function(e){return e.getParam("br_in_pre",!0)},yR=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return t===!1?"":t},bR=function(e){return e.getParam("forced_root_block_attrs",{})},CR=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},xR=function(e){return e.getParam("no_newline_selector","")},wR=function(e){return e.getParam("keep_styles",!0)},ER=function(e){return e.getParam("end_container_on_empty_block",!1)},NR={getIframeAttrs:fR,getDocType:dR,getDocumentBaseUrl:mR,getBodyId:pR,getBodyClass:gR,getContentSecurityPolicy:hR,shouldPutBrInPre:vR,getForcedRootBlock:yR,getForcedRootBlockAttrs:bR,getBrNewLineSelector:CR,getNoNewLineSelector:xR,shouldKeepStyles:wR,shouldEndContainerOnEmtpyBlock:ER},SR=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},kR=function(e,t){var n,r,o,i,a=t,u=e.dom,c=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var s=SR(t.firstChild);s&&/^(UL|OL|DL)$/.test(s.nodeName)&&t.insertBefore(u.doc.createTextNode(""),t.firstChild)}if(o=u.createRng(),t.normalize(),t.hasChildNodes()){for(n=new C(t,t);r=n.current();){if(Bc.isText(r)){o.setStart(r,0),o.setEnd(r,0);break}if(c[r.nodeName.toLowerCase()]){o.setStartBefore(r),o.setEndBefore(r);break}a=r,r=n.next()}r||(o.setStart(a,0),o.setEnd(a,0))}else Bc.isBr(t)?t.nextSibling&&u.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),u.remove(i),e.selection.scrollIntoView(t)}},TR=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},AR=function(e){return Oe.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},BR=function(e){return AR(e).fold(ke.constant(""),function(e){return e.nodeName.toUpperCase()})},RR=function(e){return AR(e).filter(function(e){return cc(Ni.fromDom(e))}).isSome()},DR={moveToCaretPosition:kR,getEditableRoot:TR,getParentBlock:AR,getParentBlockName:BR,isListItemParentBlock:RR},_R=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},OR=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},PR=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},LR=function(e){return PR(e)&&PR(e.parentNode)},IR=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},MR=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!Bc.isElement(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},FR=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){LR(n)&&(o="LI");var u=o?t(o):i.create("BR");if(MR(n,r,!0)&&MR(n,r,!1))OR(n,"LI")?i.insertAfter(u,IR(n)):i.replace(u,n);else if(MR(n,r,!0))OR(n,"LI")?(i.insertAfter(u,IR(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n);else if(MR(n,r,!1))i.insertAfter(u,IR(n));else{n=IR(n);var c=a.cloneRange();c.setStartAfter(r),c.setEndAfter(n);var s=c.extractContents();"LI"===o&&_R(s,"LI")?(u=s.firstChild,i.insertAfter(s,n)):(i.insertAfter(s,n),i.insertAfter(u,n))}i.remove(r),DR.moveToCaretPosition(e,u)}},UR={insert:FR},zR=function(e){return e&&"A"===e.nodeName&&0===kr.trim(ks.trim(e.innerText||e.textContent)).length},qR=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},VR=function(e){e.innerHTML='<br data-mce-bogus="1">'},HR=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},jR=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},$R=function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;Bc.isElement(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)o=i[r],!o.hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):zR(o)&&e.remove(o)}},WR=function(e,t,n){return Bc.isText(t)===!1?n:e?1===n&&t.data.charAt(n-1)===ks.ZWSP?0:n:n===t.data.length-1&&t.data.charAt(n)===ks.ZWSP?t.data.length:n;
},KR=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,WR(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,WR(!1,e.endContainer,e.endOffset)),t},XR=function(e){do Bc.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},YR=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},GR=function(e,t){var n=NR.getForcedRootBlock(e);n&&n.toLowerCase()===t.tagName.toLowerCase()&&e.dom.setAttribs(t,NR.getForcedRootBlockAttrs(e))},ZR=function(e,t,n,r,o){var i,a,u,c,s,l,f=t||"P",d=e.dom,m=YR(d,r);if(a=d.getParent(r,d.isBlock),!a||!jR(d,a)){if(a=a||m,l=a===e.getBody()||qR(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),GR(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(c=r;c.parentNode!==a;)c=c.parentNode;for(;c&&!d.isBlock(c);)u=c,c=c.previousSibling;if(u&&e.schema.isValidChild(l,f.toLowerCase())){for(i=d.create(f),GR(e,i),u.parentNode.insertBefore(i,u),c=u;c&&!d.isBlock(c);)s=c.nextSibling,i.appendChild(c),c=s;n.setStart(r,o),n.setEnd(r,o)}}return r},JR=function(e,t){var n;t.normalize(),n=t.lastChild,n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},QR=function(e,t){var n,r,o,i,a,u,c,s,l,f,d,m,p,g=e.dom,h=e.schema,v=h.getNonEmptyElements(),y=e.selection.getRng(),b=function(t){var n,i,u,c=o,s=h.getTextInlineElements();if(t||"TABLE"===f||"HR"===f?(n=g.create(t||m),GR(e,n)):n=a.cloneNode(!1),u=n,NR.shouldKeepStyles(e)===!1)g.setAttrib(n,"style",null),g.setAttrib(n,"class",null);else do if(s[c.nodeName]){if(Sb.isCaretNode(c))continue;i=c.cloneNode(!1),g.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(u=i,n.appendChild(i))}while((c=c.parentNode)&&c!==r);return VR(u),n},x=function(e){var t,n,r,u;if(u=WR(e,o,i),Bc.isText(o)&&(e?u>0:u<o.nodeValue.length))return!1;if(o.parentNode===a&&p&&!e)return!0;if(e&&Bc.isElement(o)&&o===a.firstChild)return!0;if(HR(o,"TABLE")||HR(o,"HR"))return p&&!e||!p&&e;for(t=new C(o,a),Bc.isText(o)&&(e&&0===u?t.prev():e||u!==o.nodeValue.length||t.next());n=t.current();){if(Bc.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(r=n.nodeName.toLowerCase(),v[r]&&"br"!==r))return!1}else if(Bc.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0},w=function(){c=/^(H[1-6]|PRE|FIGURE)$/.test(f)&&"HGROUP"!==d?b(m):b(),NR.shouldEndContainerOnEmtpyBlock(e)&&jR(g,l)&&g.isEmpty(a)?c=g.split(l,a):g.insertAfter(c,a),DR.moveToCaretPosition(e,c)};if(Rx.normalize(g,y).each(function(e){y.setStart(e.startContainer,e.startOffset),y.setEnd(e.endContainer,e.endOffset)}),o=y.startContainer,i=y.startOffset,m=NR.getForcedRootBlock(e),u=t.shiftKey,Bc.isElement(o)&&o.hasChildNodes()&&(p=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,i=p&&Bc.isText(o)?o.nodeValue.length:0),r=YR(g,o))return(m&&!u||!m&&u)&&(o=ZR(e,m,y,o,i)),a=g.getParent(o,g.isBlock),l=a?g.getParent(a.parentNode,g.isBlock):null,f=a?a.nodeName.toUpperCase():"",d=l?l.nodeName.toUpperCase():"","LI"!==d||t.ctrlKey||(a=l,l=l.parentNode,f=d),/^(LI|DT|DD)$/.test(f)&&g.isEmpty(a)?void UR.insert(e,b,l,a,m):void(m&&a===e.getBody()||(m=m||"P",Bs(a)?(c=qs(a),g.isEmpty(a)&&VR(a),DR.moveToCaretPosition(e,c)):x()?w():x(!0)?(c=a.parentNode.insertBefore(b(),a),DR.moveToCaretPosition(e,HR(a,"HR")?c:a)):(n=KR(y).cloneRange(),n.setEndAfter(a),s=n.extractContents(),XR(s),c=s.firstChild,g.insertAfter(s,a),$R(g,v,c),JR(g,a),g.isEmpty(a)&&VR(a),c.normalize(),g.isEmpty(c)?(g.remove(c),w()):DR.moveToCaretPosition(e,c)),g.setAttrib(c,"id",""),e.fire("NewBlock",{newBlock:c})))},eD={insert:QR},tD=function(e,t){return DR.getParentBlock(e).filter(function(e){return t.length>0&&Ya.is(Ni.fromDom(e),t)}).isSome()},nD=function(e){return tD(e,NR.getBrNewLineSelector(e))},rD=function(e){return tD(e,NR.getNoNewLineSelector(e))},oD={shouldInsertBr:nD,shouldBlockNewLine:rD},iD=yv.generate([{br:[]},{block:[]},{none:[]}]),aD=function(e,t){return oD.shouldBlockNewLine(e)},uD=function(e){return function(t,n){var r=""===NR.getForcedRootBlock(t);return r===e}},cD=function(e){return function(t,n){return DR.isListItemParentBlock(t)===e}},sD=function(e){return function(t,n){var r="PRE"===DR.getParentBlockName(t);return r===e}},lD=function(e){return function(t,n){return NR.shouldPutBrInPre(t)===e}},fD=function(e,t){return oD.shouldInsertBr(e)},dD=function(e,t){return t},mD=function(e){var t=NR.getForcedRootBlock(e),n=DR.getEditableRoot(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t?t:"P")},pD=function(e,t){return function(n,r){var o=lt.foldl(e,function(e,t){return e&&t(n,r)},!0);return o?Oe.some(t):Oe.none()}},gD=function(e,t){return Tb.evaluateUntil([pD([aD],iD.none()),pD([sD(!0),lD(!1),dD],iD.br()),pD([sD(!0),lD(!1)],iD.block()),pD([sD(!0),lD(!0),dD],iD.block()),pD([sD(!0),lD(!0)],iD.br()),pD([cD(!0),dD],iD.br()),pD([cD(!0)],iD.block()),pD([uD(!0),dD,mD],iD.block()),pD([uD(!0)],iD.br()),pD([fD],iD.br()),pD([uD(!1),dD],iD.br()),pD([mD],iD.block())],[e,t.shiftKey]).getOr(iD.none())},hD={getAction:gD},vD=function(e,t){hD.getAction(e,t).fold(function(){jx.insert(e,t)},function(){eD.insert(e,t)},ke.noop)},yD={insert:vD},bD=function(e){e.typing&&(e.typing=!1,e.add())},CD=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),bD(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),yD.insert(e,t)}))},xD=function(e){e.on("keydown",function(t){t.keyCode===bS.ENTER&&CD(e,t)})},wD={setup:xD},ED=function(e,t){return TD(e)&&Bc.isText(t.container())},ND=function(e,t){var n=t.container(),r=t.offset();n.insertData(r,""),e.selection.setCursorLocation(n,r+1)},SD=function(e,t,n){return!!ED(n,t)&&(ND(e,t),!0)},kD=function(e){var t=ke.curry(ah.isInlineTarget,e),n=jl.fromRangeStart(e.selection.getRng()),r=Xb.readLocation(t,e.getBody(),n);return r.map(ke.curry(SD,e,n)).getOr(!1)},TD=function(e){return e.fold(ke.constant(!1),ke.constant(!0),ke.constant(!0),ke.constant(!1))},AD=function(e){return!!e.selection.isCollapsed()&&kD(e)},BD={insertAtSelection:AD},RD=function(e,t){GB.execute([{keyCode:bS.SPACEBAR,action:GB.action(BD.insertAtSelection,e)}],t).each(function(e){t.preventDefault()})},DD=function(e){e.on("keydown",function(t){t.isDefaultPrevented()===!1&&RD(e,t)})},_D={setup:DD},OD=function(e){var t=fC.setupSelectedState(e);QB.setup(e,t),sR.setup(e,t),wD.setup(e),_D.setup(e)},PD={setup:OD},LD=gs.DOM,ID=function(e,t){var n=Ni.fromDom(e.getDoc().head),r=Ni.fromTag("style");oa.set(r,"type","text/css"),zp.append(r,Ni.fromText(t)),zp.append(n,r)},MD=function(e){var t=X(e.settings,e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,n){for(var r,o,i,a=t.length,u=e.dom;a--;)if(r=t[a],o=r.attr(n),i="data-mce-"+n,!r.attributes.map[i]){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?(o=u.serializeStyle(u.parseStyle(o),r.name),o.length||(o=null),r.attr(i,o),r.attr(n,o)):"tabindex"===n?(r.attr(i,o),r.attr(n,null)):r.attr(i,e.convertURL(o,n,r.name))}}),t.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("type")||"no/type",0!==n.indexOf("mce-")&&t.attr("type","mce-"+n)}),t.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n,r=t.length,o=e.schema.getNonEmptyElements();r--;)n=t[r],n.isEmpty(o)&&0===n.getAll("br").length&&(n.append(new FT("br",1)).shortEnded=!0)}),t},FD=function(e){e.settings.auto_focus&&Ut.setEditorTimeout(e,function(){var t;t=e.settings.auto_focus===!0?e:e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},UD=function(e){e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),FD(e)},zD=function(e){return e.inline?LD.styleSheetLoader:e.dom.styleSheetLoader},qD=function(e,t){var n,r,o=e.settings,i=e.getElement(),a=e.getDoc();o.inline||(e.getElement().style.visibility=e.orgVisibility),t||o.content_editable||(a.open(),a.write(e.iframeHTML),a.close()),o.content_editable&&(e.on("remove",function(){var e=this.getBody();LD.removeClass(e,"mce-content-body"),LD.removeClass(e,"mce-edit-focus"),LD.setAttrib(e,"contentEditable",null)}),LD.addClass(i,"mce-content-body"),e.contentDocument=a=o.content_document||document,e.contentWindow=o.content_window||window,e.bodyElement=i,o.content_document=o.content_window=null,o.root_name=i.nodeName.toLowerCase()),n=e.getBody(),n.disabled=!0,e.readonly=o.readonly,e.readonly||(e.inline&&"static"===LD.getStyle(n,"position",!0)&&(n.style.position="relative"),n.contentEditable=e.getParam("content_editable_state",!0)),n.disabled=!1,e.editorUpload=V(e),e.schema=x(o),e.dom=new gs(a,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:o.force_hex_style_colors,class_filter:o.class_filter,update_styles:!0,root_element:e.inline?e.getBody():null,collect:o.content_editable,schema:e.schema,onSetAttrib:function(t){e.fire("SetAttrib",t)}}),e.parser=MD(e),e.serializer=G(o,e),e.selection=RB(e.dom,e.getWin(),e.serializer,e),e.formatter=K(e),e.undoManager=$(e),e._nodeChangeDispatcher=new H(e),e._selectionOverrides=NS(e),uA.setup(e),PD.setup(e),dN.setup(e),e.fire("PreInit"),o.browser_spellcheck||o.gecko_spellcheck||(a.body.spellcheck=!1,LD.setAttrib(n,"spellcheck","false")),e.quirks=J(e),e.fire("PostRender"),o.directionality&&(n.dir=o.directionality),o.nowrap&&(n.style.whiteSpace="nowrap"),o.protect&&e.on("BeforeSetContent",function(e){kr.each(o.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),o.padd_empty_editor&&e.on("PostProcess",function(e){e.content=e.content.replace(/^(<p[^>]*>(&nbsp;|&#160;|\s|\u00a0|<br \/>|)<\/p>[\r\n]*|<br \/>[\r\n]*)$/,"")}),e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"}),e.on("compositionstart compositionend",function(t){e.composing="compositionstart"===t.type}),e.contentStyles.length>0&&(r="",kr.each(e.contentStyles,function(e){r+=e+"\r\n"}),e.dom.addStyle(r)),zD(e).loadAll(e.contentCSS,function(t){UD(e)},function(t){UD(e)}),o.content_style&&ID(e,o.content_style)},VD={initContentBody:qD},HD=gs.DOM,jD=function(e,t){if(document.domain!==window.location.hostname&&Rt.ie&&Rt.ie<12){var n=iN.uuid("mce");e[n]=function(){VD.initContentBody(e)};var r='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+n+"(true);})()";return HD.setAttrib(t,"src",r),!0}return!1},$D=function(e){var t="number"==typeof e?e+"px":e;return t?t:""},WD=function(e,t,n,r){var o=Ni.fromTag("iframe");return oa.setAll(o,r),oa.setAll(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),Ta.setAll(o,{width:"100%",height:$D(n),display:"block"}),o},KD=function(e){var t,n,r;return r=NR.getDocType(e)+"<html><head>",NR.getDocumentBaseUrl(e)!==e.documentBaseUrl&&(r+='<base href="'+e.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',t=NR.getBodyId(e),n=NR.getBodyClass(e),NR.getContentSecurityPolicy(e)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+NR.getContentSecurityPolicy(e)+'" />'),r+='</head><body id="'+t+'" class="mce-content-body '+n+'" data-id="'+e.id+'"><br></body></html>'},XD=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),r=WD(e.id,n,t.height,NR.getIframeAttrs(e)).dom();r.onload=function(){r.onload=null,e.fire("load")};var o=jD(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=KD(e),HD.add(t.iframeContainer,r),o},YD=function(e,t){var n=XD(e,t);t.editorContainer&&(HD.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=HD.isHidden(t.editorContainer)),e.getElement().style.display="none",HD.setAttrib(e.id,"aria-hidden",!0),n||VD.initContentBody(e)},GD={init:YD},ZD=gs.DOM,JD=function(e,t,n){var r,o,i=qE.get(n);if(r=qE.urls[n]||e.documentBaseUrl.replace(/\/$/,""),n=kr.trim(n),i&&kr.inArray(t,n)===-1){if(kr.each(qE.dependencies(n),function(n){JD(e,t,n)}),e.plugins[n])return;o=new i(e,r,e.$),e.plugins[n]=o,o.init&&(o.init(e,r),t.push(n))}},QD=function(e){return e.replace(/^\-/,"")},e_=function(e){var t=[];kr.each(e.settings.plugins.split(/[ ,]/),function(n){JD(e,t,QD(n))})},t_=function(e){var t,n=e.settings.theme;Mi.isString(n)?(e.settings.theme=QD(n),t=VE.get(n),e.theme=new t(e,VE.urls[n]),e.theme.init&&e.theme.init(e,VE.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)):e.theme={}},n_=function(e){var t,n,r,o,i,a=e.settings,u=e.getElement();return t=a.width||ZD.getStyle(u,"width")||"100%",n=a.height||ZD.getStyle(u,"height")||u.offsetHeight,r=a.min_height||100,o=/^[0-9\.]+(|px)$/i,o.test(""+t)&&(t=Math.max(parseInt(t,10),100)),o.test(""+n)&&(n=Math.max(parseInt(n,10),r)),i=e.theme.renderUI({targetNode:u,width:t,height:n,deltaWidth:a.delta_width,deltaHeight:a.delta_height}),a.content_editable||(n=(i.iframeHeight||n)+("number"==typeof n?i.deltaHeight||0:""),n<r&&(n=r)),i.height=n,i},r_=function(e){var t,n=e.getElement();return t=e.settings.theme(e,n),t.editorContainer.nodeType&&(t.editorContainer.id=t.editorContainer.id||e.id+"_parent"),t.iframeContainer&&t.iframeContainer.nodeType&&(t.iframeContainer.id=t.iframeContainer.id||e.id+"_iframecontainer"),t.height=t.iframeHeight?t.iframeHeight:n.offsetHeight,t},o_=function(e){return{editorContainer:e,iframeContainer:e}},i_=function(e){var t=ZD.create("div");return ZD.insertAfter(t,e),o_(t)},a_=function(e){var t=e.getElement();return e.inline?o_(null):i_(t)},u_=function(e){var t=e.settings,n=e.getElement();return e.orgDisplay=n.style.display,Mi.isString(t.theme)?n_(e):Mi.isFunction(t.theme)?r_(e):a_(e)},c_=function(e){var t,n=e.settings,r=e.getElement();return e.rtl=n.rtl_ui||e.editorManager.i18n.rtl,e.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||ZD.getAttrib(r,"aria-label",e.getLang("aria.rich_text_area")),e.fire("ScriptsLoaded"),t_(e),e_(e),t=u_(e),e.editorContainer=t.editorContainer?t.editorContainer:null,n.content_css&&kr.each(kr.explode(n.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))}),n.content_editable?VD.initContentBody(e):GD.init(e,t)},s_={init:c_},l_=gs.DOM,f_=function(e){return"-"===e.charAt(0)},d_=function(e,t){var n=t.settings;n.language&&"en"!==n.language&&!n.language_url&&(n.language_url=t.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!t.editorManager.i18n.data[n.language]&&e.add(n.language_url)},m_=function(e,t,n,r){var o=t.settings,i=o.theme;if(Mi.isString(i)){if(!f_(i)&&!VE.urls.hasOwnProperty(i)){var a=o.theme_url;a?VE.load(i,t.documentBaseURI.toAbsolute(a)):VE.load(i,"themes/"+i+"/theme"+n+".js")}e.loadQueue(function(){VE.waitFor(i,r)})}else r()},p_=function(e,t){kr.isArray(e.plugins)&&(e.plugins=e.plugins.join(" ")),kr.each(e.external_plugins,function(t,n){qE.load(n,t),e.plugins+=" "+n}),kr.each(e.plugins.split(/[ ,]/),function(e){if(e=kr.trim(e),e&&!qE.urls[e])if(f_(e)){e=e.substr(1,e.length);var n=qE.dependencies(e);kr.each(n,function(e){var n={prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"};e=qE.createUrl(n,e),qE.load(e.resource,e)})}else qE.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"})})},g_=function(e,t){var n=Cs.ScriptLoader;m_(n,e,t,function(){d_(n,e),p_(e.settings,t),n.loadQueue(function(){e.removed||s_.init(e)},e,function(t){zE.pluginLoadError(e,t[0]),e.removed||s_.init(e)})})},h_=function(e){var t=e.settings,n=e.id,r=function(){l_.unbind(window,"ready",r),e.render()};if(!Zt.Event.domLoaded)return void l_.bind(window,"ready",r);if(e.getElement()&&Rt.contentEditable){t.inline?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var o=e.getElement().form||l_.getParent(n,"form");o&&(e.formElement=o,t.hidden_input&&!/TEXTAREA|INPUT/i.test(e.getElement().nodeName)&&(l_.insertAfter(l_.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(t){e.fire(t.type,t)},l_.bind(o,"submit reset",e.formEventDelegate),e.on("reset",function(){e.setContent(e.startContent,{format:"raw"})}),!t.submit_patch||o.submit.nodeType||o.submit.length||o._mceOldSubmit||(o._mceOldSubmit=o.submit,o.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),o._mceOldSubmit(o)})),e.windowManager=O(e),e.notificationManager=D(e),"xml"===t.encoding&&e.on("GetContent",function(e){e.save&&(e.content=l_.encode(e.content))}),t.add_form_submit_trigger&&e.on("submit",function(){e.initialized&&e.save()}),t.add_unload_trigger&&(e._beforeUnload=function(){!e.initialized||e.destroyed||e.isHidden()||e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),g_(e,e.suffix)}},v_={render:h_},y_=function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r},b_={add:y_},C_=kr.each,x_=kr.trim,w_="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),E_={ftp:21,http:80,https:443,mailto:25},N_=function(e,t){var n,r,o=this;if(e=x_(e),t=o.settings=t||{},n=t.base_uri,/^([\w\-]+):([^\/]{2})/i.test(e)||/^\s*#/.test(e))return void(o.source=e);var i=0===e.indexOf("//");0!==e.indexOf("/")||i||(e=(n?n.protocol||"http":"http")+"://mce_host"+e),/^[\w\-]*:?\/\//.test(e)||(r=t.base_uri?t.base_uri.path:new N_(document.location.href).directory,""==t.base_uri.protocol?e="//mce_host"+o.toAbsPath(r,e):(e=/([^#?]*)([#?]?.*)/.exec(e),e=(n&&n.protocol||"http")+"://mce_host"+o.toAbsPath(r,e[1])+e[2])),e=e.replace(/@@/g,"(mce_at)"),e=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(e),C_(w_,function(t,n){var r=e[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),o[t]=r}),n&&(o.protocol||(o.protocol=n.protocol),o.userInfo||(o.userInfo=n.userInfo),o.port||"mce_host"!==o.host||(o.port=n.port),o.host&&"mce_host"!==o.host||(o.host=n.host),o.source=""),i&&(o.protocol="")};N_.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;if("./"===e)return e;if(e=new N_(e,{base_uri:n}),"mce_host"!==e.host&&n.host!==e.host&&e.host||n.port!==e.port||n.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var r=n.getURI(),o=e.getURI();return r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o?r:(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return e=new N_(e,{base_uri:this}),e.getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=E_[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,o,i=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(r=0,o=e.length;r<o;r++)if(r>=n.length||e[r]!==n[r]){i=r+1;break}if(e.length<n.length)for(r=0,o=n.length;r<o;r++)if(r>=e.length||e[r]!==n[r]){i=r+1;break}if(1===i)return t;for(r=0,o=e.length-(i-1);r<o;r++)a+="../";for(r=i-1,o=n.length;r<o;r++)a+=r!==i-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var n,r,o,i=0,a=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),C_(e,function(e){e&&a.push(e)}),e=a,n=t.length-1,a=[];n>=0;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?i>0?i--:a.push(t[n]):i++);return n=e.length-i,o=n<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},N_.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},N_.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t};var S_=function(e,t){t(e),e.firstChild&&S_(e.firstChild,t),e.next&&S_(e.next,t)},k_=function(e,t,n){var r={},o={},i=[];n.firstChild&&S_(n.firstChild,function(n){lt.each(e,function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}),lt.each(t,function(e){"string"==typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})})});for(var a in r)r.hasOwnProperty(a)&&i.push(r[a]);for(var u in o)o.hasOwnProperty(u)&&i.push(o[u]);return i},T_=function(e,t,n){var r=k_(e,t,n);lt.each(r,function(e){lt.each(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},A_="html",B_=function(e){return e instanceof FT},R_=function(e,t,n){var r,o,i=e.getBody();return 0===t.length||/^\s+$/.test(t)?(o='<br data-mce-bogus="1">',"TABLE"===i.nodeName?t="<tr><td>"+o+"</td></tr>":/^(UL|OL)$/.test(i.nodeName)&&(t="<li>"+o+"</li>"),r=e.settings.forced_root_block,r&&e.schema.isValidChild(i.nodeName.toLowerCase(),r.toLowerCase())?(t=o,t=e.dom.createHTML(r,e.settings.forced_root_block_attrs,t)):t||(t='<br data-mce-bogus="1">'),e.dom.setHTML(i,t),e.fire("SetContent",n)):("raw"!==n.format&&(t=k({validate:e.validate},e.schema).serialize(e.parser.parse(t,{isRootContent:!0,insert:!0}))),n.content=kr.trim(t),e.dom.setHTML(i,n.content),n.no_events||e.fire("SetContent",n)),n.content},D_=function(e,t,n){T_(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),t);var r=k({validate:e.validate},e.schema).serialize(t);return n.content=kr.trim(r),e.dom.setHTML(e.getBody(),n.content),n.no_events||e.fire("SetContent",n),t},__=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:A_,n.set=!0,n.content=B_(t)?"":t,B_(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),B_(t)?D_(e,t,n):R_(e,t,n)},O_=function(e,t){void 0===t&&(t={});var n,r=e.getBody();if(e.removed)return"";if(t.format=t.format?t.format:A_,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)n=kr.trim(OS.trimExternal(e.serializer,r.innerHTML));else if("text"===t.format)n=r.innerText||r.textContent;else{if("tree"===t.format)return e.serializer.serialize(r,t);n=e.serializer.serialize(r,t)}return"text"!==t.format?t.content=kr.trim(n):t.content=n,t.no_events||e.fire("GetContent",t),t.content},P_=gs.DOM,L_=function(e){e.orgDisplay&&P_.setStyle(e.id,"display",e.orgDisplay)},I_=function(e){return Oe.from(e).each(function(e){return e.destroy()})},M_=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},F_=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),P_.unbind(t,"submit reset",e.formEventDelegate))},U_=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save(),e.removed=1,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&P_.remove(o.nextSibling),!e.inline&&r&&L_(e),xT.fireRemove(e),e.editorManager.remove(e),P_.remove(e.getContainer()),I_(t),I_(n),e.destroy()}},z_=function(e,t){var n=e.selection,r=e.dom;if(!e.destroyed){if(!t&&!e.removed)return void e.remove();t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),I_(n),I_(r)),F_(e),M_(e),e.destroyed=1}},q_=gs.DOM,V_=kr.extend,H_=kr.each,j_=kr.resolve,$_=Rt.ie,W_=function(e,t,n){var r,o,i=this;r=i.documentBaseUrl=n.documentBaseURL,o=n.baseURI,t=jg(i,e,r,n.defaultSettings,t),i.settings=t,ws.language=t.language||"en",ws.languageLoad=t.language_load,ws.baseURL=n.baseURL,i.id=e,i.setDirty(!1),i.plugins={},i.documentBaseURI=new N_(t.document_base_url,{base_uri:o}),i.baseURI=o,i.contentCSS=[],i.contentStyles=[],i.shortcuts=new B(i),i.loadedCSS={},i.editorCommands=new A(i),i.suffix=n.suffix,i.editorManager=n,i.inline=t.inline,i.buttons={},i.menuItems={},t.cache_suffix&&(Rt.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),t.override_viewport===!1&&(Rt.overrideViewPort=!1),n.fire("SetupEditor",{editor:i}),i.execCallback("setup",i),i.$=Wr.overrideDefaults(function(){return{context:i.inline?i.getBody():i.getDoc(),element:i.getBody()}})};W_.prototype={render:function(){v_.render(this)},focus:function(e){yE.focus(this,e)},execCallback:function(e){var t,n=this,r=n.settings[e];if(r)return n.callbackLookup&&(t=n.callbackLookup[e])&&(r=t.func,t=t.scope),"string"==typeof r&&(t=r.replace(/\.\w+$/,""),t=t?j_(t):0,r=j_(r),n.callbackLookup=n.callbackLookup||{},n.callbackLookup[e]={func:r,scope:t}),r.apply(t||n,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&kr.is(e,"string")){var t=this.settings.language||"en",n=this.editorManager.i18n;e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n.data[t+"."+r]||"{#"+r+"}"})}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){return Xg(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&"undefined"==typeof t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),n.buttons=n.buttons,t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return b_.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems=n.menuItems,n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({id:iN.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(q_.show(e.getContainer()),q_.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||($_&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(q_.hide(e.getContainer()),q_.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this,r=n.getElement();return n.removed?"":r?(e=e||{},e.load=!0,t=n.setContent(void 0!==r.value?r.value:r.innerHTML,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t):void 0},save:function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return e=e||{},e.save=!0,e.element=o,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=t:(r.inline||(o.innerHTML=t),(n=q_.getParent(r.id,"form"))&&H_(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,e.set_dirty!==!1&&r.setDirty(!1),t},setContent:function(e,t){return __(this,e,t)},getContent:function(e){return O_(this,e)},insertContent:function(e,t){t&&(e=V_({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){qw.setMode(this,e)},getContainer:function(){var e=this;return e.container||(e.container=q_.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=q_.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement,e&&(t.contentWindow=e.contentWindow)),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!o.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,o.remove_script_host)},addVisual:function(e){var t,n=this,r=n.settings,o=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),H_(o.select("table,a",e),function(e){var i;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",i=o.getAttrib(e,"border"),void(i&&"0"!==i||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t));case"A":return void(o.getAttrib(e,"href",!1)||(i=o.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){U_(this)},destroy:function(e){z_(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},V_(W_.prototype,Iw);var K_,X_,Y_,G_=function(e){return e.className.toString().indexOf("mce-")!==-1},Z_={isEditorUIElement:G_},J_=function(e){return"nodechange"===e.type&&e.selectionChange},Q_=function(e,t){var n=function(){t.throttle()};gs.DOM.bind(document,"mouseup",n),e.on("remove",function(){gs.DOM.unbind(document,"mouseup",n)})},eO=function(e){e.on("focusout",function(){hw.store(e)})},tO=function(e,t){e.on("mouseup touchend",function(e){t.throttle()})},nO=function(e,t){var n=yi.detect().browser;n.isIE()||n.isEdge()?eO(e):tO(e,t),e.on("keyup nodechange",function(t){J_(t)||hw.store(e)})},rO=function(e){var t=hS.first(function(){hw.store(e)},0);e.inline&&Q_(e,t),e.on("init",function(){nO(e,t)}),e.on("remove",function(){t.cancel()})},oO={register:rO},iO=gs.DOM,aO=function(e){return Z_.isEditorUIElement(e)},uO=function(e,t){var n=e?e.settings.custom_ui_selector:"",r=iO.getParent(t,function(t){return aO(t)||!!n&&e.dom.is(t,n)});return null!==r},cO=function(){try{return document.activeElement}catch(e){return document.body}},sO=function(e,t){var n=t.editor;oO.register(n),n.on("focusin",function(){var t=this,n=e.focusedEditor;n!==t&&(n&&n.fire("blur",{focusedEditor:t}),e.setActive(t),e.focusedEditor=t,t.fire("focus",{blurredEditor:n}),t.focus(!0))}),n.on("focusout",function(){var t=this;Ut.setEditorTimeout(t,function(){var n=e.focusedEditor;uO(t,cO())||n!==t||(t.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),K_||(K_=function(t){var n,r=e.activeEditor;n=t.target,r&&n.ownerDocument===document&&(n===document.body||uO(r,n)||e.focusedEditor!==r||(r.fire("blur",{
focusedEditor:null}),e.focusedEditor=null))},iO.bind(document,"focusin",K_))},lO=function(e,t){e.focusedEditor===t.editor&&(e.focusedEditor=null),e.activeEditor||(iO.unbind(document,"focusin",K_),K_=null)},fO=function(e){e.on("AddEditor",ke.curry(sO,e)),e.on("RemoveEditor",ke.curry(lO,e))},dO={setup:fO,isEditorUIElement:aO,isUIElement:uO},mO={},pO="en",gO={setCode:function(e){e&&(pO=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return pO},rtl:!1,add:function(e,t){var n=mO[e];n||(mO[e]=n={});for(var r in t)n[r]=t[r];this.setCode(e)},translate:function(e){var t=mO[pO]||{},n=function(e){return kr.is(e,"function")?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||kr.is(e,"undefined")},o=function(e){return e=n(e),kr.hasOwn(t,e)?n(t[e]):e};if(r(e))return"";if(kr.is(e,"object")&&kr.hasOwn(e,"raw"))return n(e.raw);if(kr.is(e,"array")){var i=e.slice(1);e=o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return kr.hasOwn(i,t)?n(i[t]):e})}return o(e).replace(/{context:\w+}$/,"")},data:mO},hO=gs.DOM,vO=kr.explode,yO=kr.each,bO=kr.extend,CO=0,xO=!1,wO=[],EO=[],NO=function(e){return"length"!==e},SO=function(e){yO(Y_.get(),function(t){"scroll"===e.type?t.fire("ScrollWindow",e):t.fire("ResizeWindow",e)})},kO=function(e){e!==xO&&(e?Wr(window).on("resize scroll",SO):Wr(window).off("resize scroll",SO),xO=e)},TO=function(e){var t=EO;delete wO[e.id];for(var n=0;n<wO.length;n++)if(wO[n]===e){wO.splice(n,1);break}return EO=lt.filter(EO,function(t){return e!==t}),Y_.activeEditor===e&&(Y_.activeEditor=EO.length>0?EO[0]:null),Y_.focusedEditor===e&&(Y_.focusedEditor=null),t.length!==EO.length},AO=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(TO(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e};Y_={defaultSettings:{},$:Wr,majorVersion:"4",minorVersion:"7.7",releaseDate:"2018-02-19",editors:wO,i18n:gO,activeEditor:null,settings:{},setup:function(){var e,t,n,r,o=this,i="";if(t=N_.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),n=window.tinymce||window.tinyMCEPreInit)e=n.base||n.baseURL,i=n.suffix;else{for(var a=document.getElementsByTagName("script"),u=0;u<a.length;u++){r=a[u].src;var c=r.substring(r.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(r)){c.indexOf(".min")!==-1&&(i=".min"),e=r.substring(0,r.lastIndexOf("/"));break}}!e&&document.currentScript&&(r=document.currentScript.src,r.indexOf(".min")!==-1&&(i=".min"),e=r.substring(0,r.lastIndexOf("/")))}o.baseURL=new N_(t).toAbsolute(e),o.documentBaseURL=t,o.baseURI=new N_(o.baseURL),o.suffix=i,dO.setup(o)},overrideDefaults:function(e){var t,n;t=e.base_url,t&&(this.baseURL=new N_(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new N_(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;for(var o in r)ws.PluginManager.urls[o]=r[o]},init:function(e){var t,n,r=this;n=kr.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var o=function(e,t){return e.inline&&t.tagName.toLowerCase()in n},i=function(e){var t=e.id;return t||(t=e.name,t=t&&!hO.get(t)?e.name:hO.uniqueId(),e.setAttribute("id",t)),t},a=function(t){var n=e[t];if(n)return n.apply(r,Array.prototype.slice.call(arguments,2))},u=function(e,t){return t.constructor===RegExp?t.test(e.className):hO.hasClass(e,t)},c=function(e){var t,n=[];if(Rt.ie&&Rt.ie<11)return zE.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(e.types)return yO(e.types,function(e){n=n.concat(hO.select(e.selector))}),n;if(e.selector)return hO.select(e.selector);if(e.target)return[e.target];switch(e.mode){case"exact":t=e.elements||"",t.length>0&&yO(vO(t),function(e){var t;(t=hO.get(e))?n.push(t):yO(document.forms,function(t){yO(t.elements,function(t){t.name===e&&(e="mce_editor_"+CO++,hO.setAttrib(t,"id",e),n.push(t))})})});break;case"textareas":case"specific_textareas":yO(hO.select("textarea"),function(t){e.editor_deselector&&u(t,e.editor_deselector)||e.editor_selector&&!u(t,e.editor_selector)||n.push(t)})}return n},s=function(e){t=e},l=function(){var t,n=0,u=[],f=function(e,o,i){var a=new W_(e,o,r);u.push(a),a.on("init",function(){++n===t.length&&s(u)}),a.targetElm=a.targetElm||i,a.render()};return hO.unbind(window,"ready",l),a("onpageload"),t=Wr.unique(c(e)),e.types?void yO(e.types,function(n){kr.each(t,function(t){return!hO.is(t,n.selector)||(f(i(t),bO({},e,n),t),!1)})}):(kr.each(t,function(e){AO(r.get(e.id))}),t=kr.grep(t,function(e){return!r.get(e.id)}),void(0===t.length?s([]):yO(t,function(t){o(e,t)?zE.initError("Could not initialize inline editor on invalid inline target element",t):f(i(t),e,t)})))};return r.settings=e,hO.bind(window,"ready",l),new _t(function(e){t?e(t):s=function(t){e(t)}})},get:function(e){return 0===arguments.length?EO.slice(0):Mi.isString(e)?lt.find(EO,function(t){return t.id===e}).getOr(null):Mi.isNumber(e)&&EO[e]?EO[e]:null},add:function(e){var t,n=this;return t=wO[e.id],t===e?e:(null===n.get(e.id)&&(NO(e.id)&&(wO[e.id]=e),wO.push(e),EO.push(e)),kO(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),X_||(X_=function(){n.fire("BeforeUnload")},hO.bind(window,"beforeunload",X_)),e)},createEditor:function(e,t){return this.add(new W_(e,t,this))},remove:function(e){var t,n,r=this;if(e)return Mi.isString(e)?(e=e.selector||e,void yO(hO.select(e),function(e){n=r.get(e.id),n&&r.remove(n)})):(n=e,Mi.isNull(r.get(n.id))?null:(TO(n)&&r.fire("RemoveEditor",{editor:n}),0===EO.length&&hO.unbind(window,"beforeunload",X_),n.remove(),kO(EO.length>0),n));for(t=EO.length-1;t>=0;t--)r.remove(EO[t])},execCommand:function(e,t,n){var r=this,o=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new W_(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){yO(EO,function(e){e.save()})},addI18n:function(e,t){gO.add(e,t)},translate:function(e){return gO.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},bO(Y_,Rw),Y_.setup();var BO=Y_;!function(e){e.compareRanges=hx.isEq,e.getCaretRangeFromPoint=wA.fromPoint,e.getSelectedNode=ll,e.getNode=fl}(Q||(Q={}));var RO,DO,_O=Q,OO=Math.min,PO=Math.max,LO=Math.round,IO=function(e,t,n){var r,o,i,a,u,c;return r=t.x,o=t.y,i=e.w,a=e.h,u=t.w,c=t.h,n=(n||"").split(""),"b"===n[0]&&(o+=c),"r"===n[1]&&(r+=u),"c"===n[0]&&(o+=LO(c/2)),"c"===n[1]&&(r+=LO(u/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=LO(a/2)),"c"===n[4]&&(r-=LO(i/2)),qO(r,o,i,a)},MO=function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if(o=IO(e,t,r[i]),o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},FO=function(e,t,n){return qO(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},UO=function(e,t){var n,r,o,i;return n=PO(e.x,t.x),r=PO(e.y,t.y),o=OO(e.x+e.w,t.x+t.w),i=OO(e.y+e.h,t.y+t.h),o-n<0||i-r<0?null:qO(n,r,o-n,i-r)},zO=function(e,t,n){var r,o,i,a,u,c,s,l,f,d;return u=e.x,c=e.y,s=e.x+e.w,l=e.y+e.h,f=t.x+t.w,d=t.y+t.h,r=PO(0,t.x-u),o=PO(0,t.y-c),i=PO(0,s-f),a=PO(0,l-d),u+=r,c+=o,n&&(s+=r,l+=o,u-=i,c-=a),s-=i,l-=a,qO(u,c,s-u,l-c)},qO=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},VO=function(e){return qO(e.left,e.top,e.width,e.height)},HO={inflate:FO,relativePosition:IO,findBestRelativePosition:MO,intersect:UO,clamp:zO,create:qO,fromClientRect:VO},jO={},$O={add:function(e,t){jO[e.toLowerCase()]=t},has:function(e){return!!jO[e.toLowerCase()]},get:function(e){var t=e.toLowerCase(),n=jO.hasOwnProperty(t)?jO[t]:null;if(null===n)throw new Error("Could not find module for type: "+e);return n},create:function(e,t){var n;if("string"==typeof e?(t=t||{},t.type=e):(t=e,e=t.type),e=e.toLowerCase(),n=jO[e],!n)throw new Error("Could not find control by type: "+e);return n=new n(t),n.type=e,n}},WO=kr.each,KO=kr.extend,XO=function(){};XO.extend=RO=function(e){var t,n,r,o=this,i=o.prototype,a=function(){var e,t,n,r=this;if(!DO&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)},u=function(){return this},c=function(e,t){return function(){var n,r=this,o=r._super;return r._super=i[e],n=t.apply(r,arguments),r._super=o,n}};DO=!0,t=new o,DO=!1,e.Mixins&&(WO(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),i.Mixins&&(e.Mixins=i.Mixins.concat(e.Mixins))),e.Methods&&WO(e.Methods.split(","),function(t){e[t]=u}),e.Properties&&WO(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}}),e.Statics&&WO(e.Statics,function(e,t){a[t]=e}),e.Defaults&&i.Defaults&&(e.Defaults=KO({},i.Defaults,e.Defaults));for(n in e)r=e[n],"function"==typeof r&&i[n]?t[n]=c(n,r):t[n]=r;return a.prototype=t,a.constructor=a,a.extend=RO,a};var YO=Math.min,GO=Math.max,ZO=Math.round,JO=function(e){var t={},n=0,r=0,o=0,i=function(e,t,n){var r,o,i,a,u,c;return r=0,o=0,i=0,e/=255,t/=255,n/=255,u=YO(e,YO(t,n)),c=GO(e,GO(t,n)),u===c?(i=u,{h:0,s:0,v:100*i}):(a=e===u?t-n:n===u?e-t:n-e,r=e===u?3:n===u?1:5,r=60*(r-a/(c-u)),o=(c-u)/c,i=c,{h:ZO(r),s:ZO(100*o),v:ZO(100*i)})},a=function(e,t,i){var a,u,c,s;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=GO(0,YO(t,1)),i=GO(0,YO(i,1)),0===t)return void(n=r=o=ZO(255*i));switch(a=e/60,u=i*t,c=u*(1-Math.abs(a%2-1)),s=i-u,Math.floor(a)){case 0:n=u,r=c,o=0;break;case 1:n=c,r=u,o=0;break;case 2:n=0,r=u,o=c;break;case 3:n=0,r=c,o=u;break;case 4:n=c,r=0,o=u;break;case 5:n=u,r=0,o=c;break;default:n=r=o=0}n=ZO(255*(n+s)),r=ZO(255*(r+s)),o=ZO(255*(o+s))},u=function(){var e=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)},c=function(){return{r:n,g:r,b:o}},s=function(){return i(n,r,o)},l=function(e){var i;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&a(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,t};return e&&l(e),t.toRgb=c,t.toHsv=s,t.toHex=u,t.parse=l,t},QO=function(e,t){var n,r,o,i;if(t=t||'"',null===e)return"null";if(o=typeof e,"string"===o)return r="\bb\tt\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,o){return'"'===t&&"'"===e?e:(n=r.indexOf(o),n+1?"\\"+r.charAt(n+1):(e=o.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+t;if("object"===o){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(n=0,r="[";n<e.length;n++)r+=(n>0?",":"")+QO(e[n],t);return r+"]"}r="{";for(i in e)e.hasOwnProperty(i)&&(r+="function"!=typeof e[i]?(r.length>1?","+t:t)+i+t+":"+QO(e[i],t):"");return r+"}"}return""+e},eP={serialize:QO,parse:function(e){try{return JSON.parse(e)}catch(t){}}},tP={callbacks:{},count:0,send:function(e){var t=this,n=gs.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},nP={send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||n++>1e4?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",nP.fire("beforeInitialize",{settings:e}),t=new P){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&kr.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=nP.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return r();setTimeout(r,10)}}};kr.extend(nP,Rw);var rP=kr.extend,oP=function(e){this.settings=rP({},e),this.count=0};oP.sendRPC=function(e){return(new oP).send(e)},oP.prototype={send:function(e){var t=e.error,n=e.success;e=rP(this.settings,e),e.success=function(r,o){r=eP.parse(r),"undefined"==typeof r&&(r={error:"JSON Parse error."}),r.error?t.call(e.error_scope||e.scope,r.error,o):n.call(e.success_scope||e.scope,r.result)},e.error=function(n,r){t&&t.call(e.error_scope||e.scope,n,r)},e.data=eP.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),e.content_type="application/json",nP.send(e)}};var iP=window.localStorage,aP=BO,uP={geom:{Rect:HO},util:{Promise:_t,Delay:Ut,Tools:kr,VK:bS,URI:N_,Class:XO,EventDispatcher:Tw,Observable:Rw,I18n:gO,XHR:nP,JSON:eP,JSONRequest:oP,JSONP:tP,LocalStorage:iP,Color:JO},dom:{EventUtils:Zt,Sizzle:nr,DomQuery:Wr,TreeWalker:C,DOMUtils:gs,ScriptLoader:Cs,RangeUtils:_O,Serializer:G,ControlSelection:dA,BookmarkManager:cA,Selection:RB,Event:Zt.Event},html:{Styles:w,Entities:Xc,Node:FT,Schema:x,SaxParser:BS,DomParser:X,Writer:S,Serializer:k},ui:{Factory:$O},Env:Rt,AddOnManager:ws,Formatter:K,UndoManager:$,EditorCommands:A,WindowManager:O,NotificationManager:D,EditorObservable:Iw,Shortcuts:B,Editor:W_,FocusManager:Z_,EditorManager:BO,DOM:gs.DOM,ScriptLoader:Cs.ScriptLoader,PluginManager:ws.PluginManager,ThemeManager:ws.ThemeManager,trim:kr.trim,isArray:kr.isArray,is:kr.is,toArray:kr.toArray,makeMap:kr.makeMap,each:kr.each,map:kr.map,grep:kr.grep,inArray:kr.inArray,extend:kr.extend,create:kr.create,walk:kr.walk,createNS:kr.createNS,resolve:kr.resolve,explode:kr.explode,_addCacheSuffix:kr._addCacheSuffix,isOpera:Rt.opera,isWebKit:Rt.webkit,isIE:Rt.ie,isGecko:Rt.gecko,isMac:Rt.mac};aP=kr.extend(aP,uP);var cP=aP,sP=function(e){if("object"==typeof module)try{module.exports=e}catch(t){}},lP=function(e){window.tinymce=e,window.tinyMCE=e};lP(cP),sP(cP)}()}();
},{}],"underscore.string":[function(require,module,exports){
"use strict";function s(e){return this instanceof s?void(this._wrapped=e):new s(e)}function fn2method(e,r){"function"==typeof r&&(s.prototype[e]=function(){var e=[this._wrapped].concat(Array.prototype.slice.call(arguments)),i=r.apply(null,e);return"string"==typeof i?new s(i):i})}function prototype2method(e){fn2method(e,function(r){var s=Array.prototype.slice.call(arguments,1);return String.prototype[e].apply(r,s)})}s.VERSION="3.3.4",s.isBlank=require("./isBlank"),s.stripTags=require("./stripTags"),s.capitalize=require("./capitalize"),s.decapitalize=require("./decapitalize"),s.chop=require("./chop"),s.trim=require("./trim"),s.clean=require("./clean"),s.cleanDiacritics=require("./cleanDiacritics"),s.count=require("./count"),s.chars=require("./chars"),s.swapCase=require("./swapCase"),s.escapeHTML=require("./escapeHTML"),s.unescapeHTML=require("./unescapeHTML"),s.splice=require("./splice"),s.insert=require("./insert"),s.replaceAll=require("./replaceAll"),s.include=require("./include"),s.join=require("./join"),s.lines=require("./lines"),s.dedent=require("./dedent"),s.reverse=require("./reverse"),s.startsWith=require("./startsWith"),s.endsWith=require("./endsWith"),s.pred=require("./pred"),s.succ=require("./succ"),s.titleize=require("./titleize"),s.camelize=require("./camelize"),s.underscored=require("./underscored"),s.dasherize=require("./dasherize"),s.classify=require("./classify"),s.humanize=require("./humanize"),s.ltrim=require("./ltrim"),s.rtrim=require("./rtrim"),s.truncate=require("./truncate"),s.prune=require("./prune"),s.words=require("./words"),s.pad=require("./pad"),s.lpad=require("./lpad"),s.rpad=require("./rpad"),s.lrpad=require("./lrpad"),s.sprintf=require("./sprintf"),s.vsprintf=require("./vsprintf"),s.toNumber=require("./toNumber"),s.numberFormat=require("./numberFormat"),s.strRight=require("./strRight"),s.strRightBack=require("./strRightBack"),s.strLeft=require("./strLeft"),s.strLeftBack=require("./strLeftBack"),s.toSentence=require("./toSentence"),s.toSentenceSerial=require("./toSentenceSerial"),s.slugify=require("./slugify"),s.surround=require("./surround"),s.quote=require("./quote"),s.unquote=require("./unquote"),s.repeat=require("./repeat"),s.naturalCmp=require("./naturalCmp"),s.levenshtein=require("./levenshtein"),s.toBoolean=require("./toBoolean"),s.exports=require("./exports"),s.escapeRegExp=require("./helper/escapeRegExp"),s.wrap=require("./wrap"),s.map=require("./map"),s.strip=s.trim,s.lstrip=s.ltrim,s.rstrip=s.rtrim,s.center=s.lrpad,s.rjust=s.lpad,s.ljust=s.rpad,s.contains=s.include,s.q=s.quote,s.toBool=s.toBoolean,s.camelcase=s.camelize,s.mapChars=s.map,s.prototype={value:function(){return this._wrapped}};for(var key in s)fn2method(key,s[key]);fn2method("tap",function(e,r){return r(e)});var prototypeMethods=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var method in prototypeMethods)prototype2method(prototypeMethods[method]);module.exports=s;
},{"./camelize":70,"./capitalize":71,"./chars":72,"./chop":73,"./classify":74,"./clean":75,"./cleanDiacritics":76,"./count":77,"./dasherize":78,"./decapitalize":79,"./dedent":80,"./endsWith":81,"./escapeHTML":82,"./exports":83,"./helper/escapeRegExp":87,"./humanize":92,"./include":93,"./insert":94,"./isBlank":95,"./join":96,"./levenshtein":97,"./lines":98,"./lpad":99,"./lrpad":100,"./ltrim":101,"./map":102,"./naturalCmp":103,"./numberFormat":104,"./pad":105,"./pred":106,"./prune":107,"./quote":108,"./repeat":109,"./replaceAll":110,"./reverse":111,"./rpad":112,"./rtrim":113,"./slugify":114,"./splice":115,"./sprintf":116,"./startsWith":117,"./strLeft":118,"./strLeftBack":119,"./strRight":120,"./strRightBack":121,"./stripTags":122,"./succ":123,"./surround":124,"./swapCase":125,"./titleize":126,"./toBoolean":127,"./toNumber":128,"./toSentence":129,"./toSentenceSerial":130,"./trim":131,"./truncate":132,"./underscored":133,"./unescapeHTML":134,"./unquote":135,"./vsprintf":136,"./words":137,"./wrap":138}],"underscore":[function(require,module,exports){
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&i<o;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&i<u;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&i<a;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,y=c.bind,d=Object.create,g=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(e<2||null==r)return r;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(d)return d(n);g.prototype=n;var t=new g;return g.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&t<=A};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;e<u;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;e<u;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;if(e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),void 0!==e&&e!==-1)return n[e]},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-(1/0),o=-(1/0);if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-(1/0)&&i===-(1/0))&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e<i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;i<e;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);o<a;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;f<l;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);o<a;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);e<u;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;o<r&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;e<t;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(y&&n.bind===y)return y.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;o<u;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(e<=1)throw new Error("bindAll must be passed function names");for(t=1;t<e;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;f<t&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;a<i;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;i<o;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;a<c;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n||(k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length)},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
},{}]},{},[])

