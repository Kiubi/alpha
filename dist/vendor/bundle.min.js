require=(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("underscore"),require("backbone")):"function"==typeof define&&define.amd?define(["underscore","backbone"],n):(e.Backbone=e.Backbone||{},e.Backbone.Radio=n(e._,e.Backbone))}(this,function(e,n){"use strict";function t(e,n,t,r){var o=e[n];if(!(t&&t!==o.callback&&t!==o.callback._callback||r&&r!==o.context))return delete e[n],!0}function r(n,r,o,i){n||(n={});for(var s=r?[r]:e.keys(n),u=!1,c=0,a=s.length;c<a;c++)r=s[c],n[r]&&t(n,r,o,i)&&(u=!0);return u}function o(n){return l[n]||(l[n]=e.bind(c.log,c,n))}function i(n){return e.isFunction(n)?n:function(){return n}}e="default"in e?e["default"]:e,n="default"in n?n["default"]:n;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},u=n.Radio,c=n.Radio={};c.VERSION="2.0.0",c.noConflict=function(){return n.Radio=u,this},c.DEBUG=!1,c._debugText=function(e,n,t){return e+(t?" on the "+t+" channel":"")+': "'+n+'"'},c.debugLog=function(e,n,t){c.DEBUG&&console&&console.warn&&console.warn(c._debugText(e,n,t))};var a=/\s+/;c._eventsApi=function(n,t,r,o){if(!r)return!1;var i={};if("object"===("undefined"==typeof r?"undefined":s(r))){for(var u in r){var c=n[t].apply(n,[u,r[u]].concat(o));a.test(u)?e.extend(i,c):i[u]=c}return i}if(a.test(r)){for(var l=r.split(a),f=0,h=l.length;f<h;f++)i[l[f]]=n[t].apply(n,[l[f]].concat(o));return i}return!1},c._callHandler=function(e,n,t){var r=t[0],o=t[1],i=t[2];switch(t.length){case 0:return e.call(n);case 1:return e.call(n,r);case 2:return e.call(n,r,o);case 3:return e.call(n,r,o,i);default:return e.apply(n,t)}};var l={};e.extend(c,{log:function(n,t){if("undefined"!=typeof console){var r=e.toArray(arguments).slice(2);console.log("["+n+'] "'+t+'"',r)}},tuneIn:function(e){var n=c.channel(e);return n._tunedIn=!0,n.on("all",o(e)),this},tuneOut:function(e){var n=c.channel(e);return n._tunedIn=!1,n.off("all",o(e)),delete l[e],this}}),c.Requests={request:function(n){var t=e.toArray(arguments).slice(1),r=c._eventsApi(this,"request",n,t);if(r)return r;var o=this.channelName,i=this._requests;if(o&&this._tunedIn&&c.log.apply(this,[o,n].concat(t)),i&&(i[n]||i["default"])){var s=i[n]||i["default"];return t=i[n]?t:arguments,c._callHandler(s.callback,s.context,t)}c.debugLog("An unhandled request was fired",n,o)},reply:function(e,n,t){return c._eventsApi(this,"reply",e,[n,t])?this:(this._requests||(this._requests={}),this._requests[e]&&c.debugLog("A request was overwritten",e,this.channelName),this._requests[e]={callback:i(n),context:t||this},this)},replyOnce:function(n,t,r){if(c._eventsApi(this,"replyOnce",n,[t,r]))return this;var o=this,s=e.once(function(){return o.stopReplying(n),i(t).apply(this,arguments)});return this.reply(n,s,r)},stopReplying:function(e,n,t){return c._eventsApi(this,"stopReplying",e)?this:(e||n||t?r(this._requests,e,n,t)||c.debugLog("Attempted to remove the unregistered request",e,this.channelName):delete this._requests,this)}},c._channels={},c.channel=function(e){if(!e)throw new Error("You must provide a name for the channel.");return c._channels[e]?c._channels[e]:c._channels[e]=new c.Channel(e)},c.Channel=function(e){this.channelName=e},e.extend(c.Channel.prototype,n.Events,c.Requests,{reset:function(){return this.off(),this.stopListening(),this.stopReplying(),this}});var f,h,d=[n.Events,c.Requests];return e.each(d,function(n){e.each(n,function(n,t){c[t]=function(n){return h=e.toArray(arguments).slice(1),f=this.channel(n),f[t].apply(f,h)}})}),c.reset=function(n){var t=n?[this._channels[n]]:this._channels;e.each(t,function(e){e.reset()})},c});
},{"backbone":"backbone","underscore":"underscore"}],2:[function(require,module,exports){
(function (global){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Popper=t()}(this,function(){"use strict";function e(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}function t(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},le))}}function n(e){var t={};return e&&"[object Function]"===t.toString.call(e)}function o(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView,o=n.getComputedStyle(e,null);return t?o[t]:o}function r(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function i(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=o(e),n=t.overflow,a=t.overflowX,f=t.overflowY;return/(auto|scroll|overlay)/.test(n+f+a)?e:i(r(e))}function a(e){return e&&e.referenceNode?e.referenceNode:e}function f(e){return 11===e?ce:10===e?he:ce||he}function s(e){if(!e)return document.documentElement;for(var t=f(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var r=n&&n.nodeName;return r&&"BODY"!==r&&"HTML"!==r?["TH","TD","TABLE"].indexOf(n.nodeName)!==-1&&"static"===o(n,"position")?s(n):n:e?e.ownerDocument.documentElement:document.documentElement}function p(e){var t=e.nodeName;return"BODY"!==t&&("HTML"===t||s(e.firstElementChild)===e)}function l(e){return null!==e.parentNode?l(e.parentNode):e}function u(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=n?e:t,r=n?t:e,i=document.createRange();i.setStart(o,0),i.setEnd(r,0);var a=i.commonAncestorContainer;if(e!==a&&t!==a||o.contains(r))return p(a)?a:s(a);var f=l(e);return f.host?u(f.host,t):u(e,l(t).host)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",o=e.nodeName;if("BODY"===o||"HTML"===o){var r=e.ownerDocument.documentElement,i=e.ownerDocument.scrollingElement||r;return i[n]}return e[n]}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=d(t,"top"),r=d(t,"left"),i=n?-1:1;return e.top+=o*i,e.bottom+=o*i,e.left+=r*i,e.right+=r*i,e}function h(e,t){var n="x"===t?"Left":"Top",o="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+o+"Width"],10)}function m(e,t,n,o){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],f(10)?parseInt(n["offset"+e])+parseInt(o["margin"+("Height"===e?"Top":"Left")])+parseInt(o["margin"+("Height"===e?"Bottom":"Right")]):0)}function g(e){var t=e.body,n=e.documentElement,o=f(10)&&getComputedStyle(n);return{height:m("Height",t,n,o),width:m("Width",t,n,o)}}function v(e){return be({},e,{right:e.left+e.width,bottom:e.top+e.height})}function b(e){var t={};try{if(f(10)){t=e.getBoundingClientRect();var n=d(e,"top"),r=d(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}else t=e.getBoundingClientRect()}catch(i){}var a={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===e.nodeName?g(e.ownerDocument):{},p=s.width||e.clientWidth||a.width,l=s.height||e.clientHeight||a.height,u=e.offsetWidth-p,c=e.offsetHeight-l;if(u||c){var m=o(e);u-=h(m,"x"),c-=h(m,"y"),a.width-=u,a.height-=c}return v(a)}function w(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=f(10),a="HTML"===t.nodeName,s=b(e),p=b(t),l=i(e),u=o(t),d=parseFloat(u.borderTopWidth,10),h=parseFloat(u.borderLeftWidth,10);n&&a&&(p.top=Math.max(p.top,0),p.left=Math.max(p.left,0));var m=v({top:s.top-p.top-d,left:s.left-p.left-h,width:s.width,height:s.height});if(m.marginTop=0,m.marginLeft=0,!r&&a){var g=parseFloat(u.marginTop,10),w=parseFloat(u.marginLeft,10);m.top-=d-g,m.bottom-=d-g,m.left-=h-w,m.right-=h-w,m.marginTop=g,m.marginLeft=w}return(r&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(m=c(m,t)),m}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,o=w(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),i=Math.max(n.clientHeight,window.innerHeight||0),a=t?0:d(n),f=t?0:d(n,"left"),s={top:a-o.top+o.marginTop,left:f-o.left+o.marginLeft,width:r,height:i};return v(s)}function E(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===o(e,"position"))return!0;var n=r(e);return!!n&&E(n)}function x(e){if(!e||!e.parentElement||f())return document.documentElement;for(var t=e.parentElement;t&&"none"===o(t,"transform");)t=t.parentElement;return t||document.documentElement}function O(e,t,n,o){var f=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s={top:0,left:0},p=f?x(e):u(e,a(t));if("viewport"===o)s=y(p,f);else{var l=void 0;"scrollParent"===o?(l=i(r(t)),"BODY"===l.nodeName&&(l=e.ownerDocument.documentElement)):l="window"===o?e.ownerDocument.documentElement:o;var d=w(l,p,f);if("HTML"!==l.nodeName||E(p))s=d;else{var c=g(e.ownerDocument),h=c.height,m=c.width;s.top+=d.top-d.marginTop,s.bottom=h+d.top,s.left+=d.left-d.marginLeft,s.right=m+d.left}}n=n||0;var v="number"==typeof n;return s.left+=v?n:n.left||0,s.top+=v?n:n.top||0,s.right-=v?n:n.right||0,s.bottom-=v?n:n.bottom||0,s}function L(e){var t=e.width,n=e.height;return t*n}function T(e,t,n,o,r){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(e.indexOf("auto")===-1)return e;var a=O(n,o,i,r),f={top:{width:a.width,height:t.top-a.top},right:{width:a.right-t.right,height:a.height},bottom:{width:a.width,height:a.bottom-t.bottom},left:{width:t.left-a.left,height:a.height}},s=Object.keys(f).map(function(e){return be({key:e},f[e],{area:L(f[e])})}).sort(function(e,t){return t.area-e.area}),p=s.filter(function(e){var t=e.width,o=e.height;return t>=n.clientWidth&&o>=n.clientHeight}),l=p.length>0?p[0].key:s[0].key,u=e.split("-")[1];return l+(u?"-"+u:"")}function N(e,t,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=o?x(t):u(t,a(n));return w(n,r,o)}function C(e){var t=e.ownerDocument.defaultView,n=t.getComputedStyle(e),o=parseFloat(n.marginTop||0)+parseFloat(n.marginBottom||0),r=parseFloat(n.marginLeft||0)+parseFloat(n.marginRight||0),i={width:e.offsetWidth+r,height:e.offsetHeight+o};return i}function D(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function M(e,t,n){n=n.split("-")[0];var o=C(e),r={width:o.width,height:o.height},i=["right","left"].indexOf(n)!==-1,a=i?"top":"left",f=i?"left":"top",s=i?"height":"width",p=i?"width":"height";return r[a]=t[a]+t[s]/2-o[s]/2,n===f?r[f]=t[f]-o[p]:r[f]=t[D(f)],r}function F(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function S(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var o=F(e,function(e){return e[t]===n});return e.indexOf(o)}function W(e,t,o){var r=void 0===o?e:e.slice(0,S(e,"name",o));return r.forEach(function(e){e["function"]&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var o=e["function"]||e.fn;e.enabled&&n(o)&&(t.offsets.popper=v(t.offsets.popper),t.offsets.reference=v(t.offsets.reference),t=o(t,e))}),t}function k(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=N(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=T(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=M(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=W(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function H(e,t){return e.some(function(e){var n=e.name,o=e.enabled;return o&&n===t})}function P(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),o=0;o<t.length;o++){var r=t[o],i=r?""+r+n:e;if("undefined"!=typeof document.body.style[i])return i}return null}function B(){return this.state.isDestroyed=!0,H(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[P("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function A(e){var t=e.ownerDocument;return t?t.defaultView:window}function I(e,t,n,o){var r="BODY"===e.nodeName,a=r?e.ownerDocument.defaultView:e;a.addEventListener(t,n,{passive:!0}),r||I(i(a.parentNode),t,n,o),o.push(a)}function j(e,t,n,o){n.updateBound=o,A(e).addEventListener("resize",n.updateBound,{passive:!0});var r=i(e);return I(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function R(){this.state.eventsEnabled||(this.state=j(this.reference,this.options,this.state,this.scheduleUpdate))}function U(e,t){return A(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function Y(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=U(this.reference,this.state))}function V(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function q(e,t){Object.keys(t).forEach(function(n){var o="";["width","height","top","right","bottom","left"].indexOf(n)!==-1&&V(t[n])&&(o="px"),e.style[n]=t[n]+o})}function K(e,t){Object.keys(t).forEach(function(n){var o=t[n];o!==!1?e.setAttribute(n,t[n]):e.removeAttribute(n)})}function z(e){return q(e.instance.popper,e.styles),K(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&q(e.arrowElement,e.arrowStyles),e}function G(e,t,n,o,r){var i=N(r,t,e,n.positionFixed),a=T(n.placement,i,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",a),q(t,{position:n.positionFixed?"fixed":"absolute"}),n}function _(e,t){var n=e.offsets,o=n.popper,r=n.reference,i=Math.round,a=Math.floor,f=function(e){return e},s=i(r.width),p=i(o.width),l=["left","right"].indexOf(e.placement)!==-1,u=e.placement.indexOf("-")!==-1,d=s%2===p%2,c=s%2===1&&p%2===1,h=t?l||u||d?i:a:f,m=t?i:f;return{left:h(c&&!u&&t?o.left-1:o.left),top:m(o.top),bottom:m(o.bottom),right:h(o.right)}}function X(e,t){var n=t.x,o=t.y,r=e.offsets.popper,i=F(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==i&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var a=void 0!==i?i:t.gpuAcceleration,f=s(e.instance.popper),p=b(f),l={position:r.position},u=_(e,window.devicePixelRatio<2||!we),d="bottom"===n?"top":"bottom",c="right"===o?"left":"right",h=P("transform"),m=void 0,g=void 0;if(g="bottom"===d?"HTML"===f.nodeName?-f.clientHeight+u.bottom:-p.height+u.bottom:u.top,m="right"===c?"HTML"===f.nodeName?-f.clientWidth+u.right:-p.width+u.right:u.left,a&&h)l[h]="translate3d("+m+"px, "+g+"px, 0)",l[d]=0,l[c]=0,l.willChange="transform";else{var v="bottom"===d?-1:1,w="right"===c?-1:1;l[d]=g*v,l[c]=m*w,l.willChange=d+", "+c}var y={"x-placement":e.placement};return e.attributes=be({},y,e.attributes),e.styles=be({},l,e.styles),e.arrowStyles=be({},e.offsets.arrow,e.arrowStyles),e}function J(e,t,n){var o=F(e,function(e){var n=e.name;return n===t}),r=!!o&&e.some(function(e){return e.name===n&&e.enabled&&e.order<o.order});if(!r){var i="`"+t+"`",a="`"+n+"`";console.warn(a+" modifier is required by "+i+" modifier in order to work, be sure to include it before "+i+"!")}return r}function Q(e,t){var n;if(!J(e.instance.modifiers,"arrow","keepTogether"))return e;var r=t.element;if("string"==typeof r){if(r=e.instance.popper.querySelector(r),!r)return e}else if(!e.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var i=e.placement.split("-")[0],a=e.offsets,f=a.popper,s=a.reference,p=["left","right"].indexOf(i)!==-1,l=p?"height":"width",u=p?"Top":"Left",d=u.toLowerCase(),c=p?"left":"top",h=p?"bottom":"right",m=C(r)[l];s[h]-m<f[d]&&(e.offsets.popper[d]-=f[d]-(s[h]-m)),s[d]+m>f[h]&&(e.offsets.popper[d]+=s[d]+m-f[h]),e.offsets.popper=v(e.offsets.popper);var g=s[d]+s[l]/2-m/2,b=o(e.instance.popper),w=parseFloat(b["margin"+u],10),y=parseFloat(b["border"+u+"Width"],10),E=g-e.offsets.popper[d]-w-y;return E=Math.max(Math.min(f[l]-m,E),0),e.arrowElement=r,e.offsets.arrow=(n={},ve(n,d,Math.round(E)),ve(n,c,""),n),e}function Z(e){return"end"===e?"start":"start"===e?"end":e}function $(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Ee.indexOf(e),o=Ee.slice(n+1).concat(Ee.slice(0,n));return t?o.reverse():o}function ee(e,t){if(H(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=O(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),o=e.placement.split("-")[0],r=D(o),i=e.placement.split("-")[1]||"",a=[];switch(t.behavior){case xe.FLIP:a=[o,r];break;case xe.CLOCKWISE:a=$(o);break;case xe.COUNTERCLOCKWISE:a=$(o,!0);break;default:a=t.behavior}return a.forEach(function(f,s){if(o!==f||a.length===s+1)return e;o=e.placement.split("-")[0],r=D(o);var p=e.offsets.popper,l=e.offsets.reference,u=Math.floor,d="left"===o&&u(p.right)>u(l.left)||"right"===o&&u(p.left)<u(l.right)||"top"===o&&u(p.bottom)>u(l.top)||"bottom"===o&&u(p.top)<u(l.bottom),c=u(p.left)<u(n.left),h=u(p.right)>u(n.right),m=u(p.top)<u(n.top),g=u(p.bottom)>u(n.bottom),v="left"===o&&c||"right"===o&&h||"top"===o&&m||"bottom"===o&&g,b=["top","bottom"].indexOf(o)!==-1,w=!!t.flipVariations&&(b&&"start"===i&&c||b&&"end"===i&&h||!b&&"start"===i&&m||!b&&"end"===i&&g),y=!!t.flipVariationsByContent&&(b&&"start"===i&&h||b&&"end"===i&&c||!b&&"start"===i&&g||!b&&"end"===i&&m),E=w||y;(d||v||E)&&(e.flipped=!0,(d||v)&&(o=a[s+1]),E&&(i=Z(i)),e.placement=o+(i?"-"+i:""),e.offsets.popper=be({},e.offsets.popper,M(e.instance.popper,e.offsets.reference,e.placement)),e=W(e.instance.modifiers,e,"flip"))}),e}function te(e){var t=e.offsets,n=t.popper,o=t.reference,r=e.placement.split("-")[0],i=Math.floor,a=["top","bottom"].indexOf(r)!==-1,f=a?"right":"bottom",s=a?"left":"top",p=a?"width":"height";return n[f]<i(o[s])&&(e.offsets.popper[s]=i(o[s])-n[p]),n[s]>i(o[f])&&(e.offsets.popper[s]=i(o[f])),e}function ne(e,t,n,o){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),i=+r[1],a=r[2];if(!i)return e;if(0===a.indexOf("%")){var f=void 0;switch(a){case"%p":f=n;break;case"%":case"%r":default:f=o}var s=v(f);return s[t]/100*i}if("vh"===a||"vw"===a){var p=void 0;return p="vh"===a?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0),p/100*i}return i}function oe(e,t,n,o){var r=[0,0],i=["right","left"].indexOf(o)!==-1,a=e.split(/(\+|\-)/).map(function(e){return e.trim()}),f=a.indexOf(F(a,function(e){return e.search(/,|\s/)!==-1}));a[f]&&a[f].indexOf(",")===-1&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var s=/\s*,\s*|\s+/,p=f!==-1?[a.slice(0,f).concat([a[f].split(s)[0]]),[a[f].split(s)[1]].concat(a.slice(f+1))]:[a];return p=p.map(function(e,o){var r=(1===o?!i:i)?"height":"width",a=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&["+","-"].indexOf(t)!==-1?(e[e.length-1]=t,a=!0,e):a?(e[e.length-1]+=t,a=!1,e):e.concat(t)},[]).map(function(e){return ne(e,r,t,n)})}),p.forEach(function(e,t){e.forEach(function(n,o){V(n)&&(r[t]+=n*("-"===e[o-1]?-1:1))})}),r}function re(e,t){var n=t.offset,o=e.placement,r=e.offsets,i=r.popper,a=r.reference,f=o.split("-")[0],s=void 0;return s=V(+n)?[+n,0]:oe(n,i,a,f),"left"===f?(i.top+=s[0],i.left-=s[1]):"right"===f?(i.top+=s[0],i.left+=s[1]):"top"===f?(i.left+=s[0],i.top-=s[1]):"bottom"===f&&(i.left+=s[0],i.top+=s[1]),e.popper=i,e}function ie(e,t){var n=t.boundariesElement||s(e.instance.popper);e.instance.reference===n&&(n=s(n));var o=P("transform"),r=e.instance.popper.style,i=r.top,a=r.left,f=r[o];r.top="",r.left="",r[o]="";var p=O(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=i,r.left=a,r[o]=f,t.boundaries=p;var l=t.priority,u=e.offsets.popper,d={primary:function(e){var n=u[e];return u[e]<p[e]&&!t.escapeWithReference&&(n=Math.max(u[e],p[e])),ve({},e,n)},secondary:function(e){var n="right"===e?"left":"top",o=u[n];return u[e]>p[e]&&!t.escapeWithReference&&(o=Math.min(u[n],p[e]-("right"===e?u.width:u.height))),ve({},n,o)}};return l.forEach(function(e){var t=["left","top"].indexOf(e)!==-1?"primary":"secondary";u=be({},u,d[t](e))}),e.offsets.popper=u,e}function ae(e){var t=e.placement,n=t.split("-")[0],o=t.split("-")[1];if(o){var r=e.offsets,i=r.reference,a=r.popper,f=["bottom","top"].indexOf(n)!==-1,s=f?"left":"top",p=f?"width":"height",l={start:ve({},s,i[s]),end:ve({},s,i[s]+i[p]-a[p])};e.offsets.popper=be({},a,l[o])}return e}function fe(e){if(!J(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=F(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(e.hide===!0)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(e.hide===!1)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}function se(e){var t=e.placement,n=t.split("-")[0],o=e.offsets,r=o.popper,i=o.reference,a=["left","right"].indexOf(n)!==-1,f=["top","left"].indexOf(n)===-1;return r[a?"left":"top"]=i[n]-(f?r[a?"width":"height"]:0),e.placement=D(t),e.offsets.popper=v(r),e}var pe="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,le=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(pe&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),ue=pe&&window.Promise,de=ue?e:t,ce=pe&&!(!window.MSInputMethodContext||!document.documentMode),he=pe&&/MSIE 10/.test(navigator.userAgent),me=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ge=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),ve=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},we=pe&&/Firefox/i.test(navigator.userAgent),ye=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Ee=ye.slice(3),xe={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"},Oe={shift:{order:100,enabled:!0,fn:ae},offset:{order:200,enabled:!0,fn:re,offset:0},preventOverflow:{order:300,enabled:!0,fn:ie,priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:te},arrow:{order:500,enabled:!0,fn:Q,element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:ee,behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:se},hide:{order:800,enabled:!0,fn:fe},computeStyle:{order:850,enabled:!0,fn:X,gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:z,onLoad:G,gpuAcceleration:void 0}},Le={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:Oe},Te=function(){function e(t,o){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};me(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=de(this.update.bind(this)),this.options=be({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=o&&o.jquery?o[0]:o,this.options.modifiers={},Object.keys(be({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){r.options.modifiers[t]=be({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return be({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&n(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return ge(e,[{key:"update",value:function(){return k.call(this)}},{key:"destroy",value:function(){return B.call(this)}},{key:"enableEventListeners",value:function(){return R.call(this)}},{key:"disableEventListeners",value:function(){return Y.call(this)}}]),e}();return Te.Utils=("undefined"!=typeof window?window:global).PopperUtils,Te.placements=ye,Te.Defaults=Le,Te});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],3:[function(require,module,exports){
function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}var process=module.exports={},cachedSetTimeout,cachedClearTimeout;!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};
},{}],4:[function(require,module,exports){
!function(){"use strict";function e(e){return r(n(e),arguments)}function t(t,r){return e.apply(null,[t].concat(r||[]))}function r(t,r){var n,i,a,o,p,c,u,f,l,d=1,g=t.length,b="";for(i=0;i<g;i++)if("string"==typeof t[i])b+=t[i];else if(Array.isArray(t[i])){if(o=t[i],o[2])for(n=r[d],a=0;a<o[2].length;a++){if(!n.hasOwnProperty(o[2][a]))throw new Error(e('[sprintf] property "%s" does not exist',o[2][a]));n=n[o[2][a]]}else n=o[1]?r[o[1]]:r[d++];if(s.not_type.test(o[8])&&s.not_primitive.test(o[8])&&n instanceof Function&&(n=n()),s.numeric_arg.test(o[8])&&"number"!=typeof n&&isNaN(n))throw new TypeError(e("[sprintf] expecting number but found %T",n));switch(s.number.test(o[8])&&(f=n>=0),o[8]){case"b":n=parseInt(n,10).toString(2);break;case"c":n=String.fromCharCode(parseInt(n,10));break;case"d":case"i":n=parseInt(n,10);break;case"j":n=JSON.stringify(n,null,o[6]?parseInt(o[6]):0);break;case"e":n=o[7]?parseFloat(n).toExponential(o[7]):parseFloat(n).toExponential();break;case"f":n=o[7]?parseFloat(n).toFixed(o[7]):parseFloat(n);break;case"g":n=o[7]?String(Number(n.toPrecision(o[7]))):parseFloat(n);break;case"o":n=(parseInt(n,10)>>>0).toString(8);break;case"s":n=String(n),n=o[7]?n.substring(0,o[7]):n;break;case"t":n=String(!!n),n=o[7]?n.substring(0,o[7]):n;break;case"T":n=Object.prototype.toString.call(n).slice(8,-1).toLowerCase(),n=o[7]?n.substring(0,o[7]):n;break;case"u":n=parseInt(n,10)>>>0;break;case"v":n=n.valueOf(),n=o[7]?n.substring(0,o[7]):n;break;case"x":n=(parseInt(n,10)>>>0).toString(16);break;case"X":n=(parseInt(n,10)>>>0).toString(16).toUpperCase()}s.json.test(o[8])?b+=n:(!s.number.test(o[8])||f&&!o[3]?l="":(l=f?"+":"-",n=n.toString().replace(s.sign,"")),c=o[4]?"0"===o[4]?"0":o[4].charAt(1):" ",u=o[6]-(l+n).length,p=o[6]&&u>0?c.repeat(u):"",b+=o[5]?l+n+p:"0"===c?l+p+n:p+l+n)}return b}function n(e){if(i[e])return i[e];for(var t,r=e,n=[],a=0;r;){if(null!==(t=s.text.exec(r)))n.push(t[0]);else if(null!==(t=s.modulo.exec(r)))n.push("%");else{if(null===(t=s.placeholder.exec(r)))throw new SyntaxError("[sprintf] unexpected placeholder");if(t[2]){a|=1;var o=[],p=t[2],c=[];if(null===(c=s.key.exec(p)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(o.push(c[1]);""!==(p=p.substring(c[0].length));)if(null!==(c=s.key_access.exec(p)))o.push(c[1]);else{if(null===(c=s.index_access.exec(p)))throw new SyntaxError("[sprintf] failed to parse named argument key");o.push(c[1])}t[2]=o}else a|=2;if(3===a)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");n.push(t)}r=r.substring(t[0].length)}return i[e]=n}var s={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/},i=Object.create(null);"undefined"!=typeof exports&&(exports.sprintf=e,exports.vsprintf=t),"undefined"!=typeof window&&(window.sprintf=e,window.vsprintf=t,"function"==typeof define&&define.amd&&define(function(){return{sprintf:e,vsprintf:t}}))}();
},{}],5:[function(require,module,exports){
(function (setImmediate,clearImmediate){
function Timeout(e,t){this._id=e,this._clearFn=t}var nextTick=require("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(e){e.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},exports.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},exports._unrefActive=exports.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(e){var t=nextImmediateId++,i=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[t]=!0,nextTick(function(){immediateIds[t]&&(i?e.apply(null,i):e.call(null),exports.clearImmediate(t))}),t},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(e){delete immediateIds[e]};
}).call(this,require("timers").setImmediate,require("timers").clearImmediate)

},{"process/browser.js":3,"timers":5}],6:[function(require,module,exports){
var trim=require("./trim"),decap=require("./decapitalize");module.exports=function(e,r){return e=trim(e).replace(/[-_\s]+(.)?/g,function(e,r){return r?r.toUpperCase():""}),r===!0?decap(e):e};
},{"./decapitalize":15,"./trim":67}],7:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e);var t=r?e.slice(1).toLowerCase():e.slice(1);return e.charAt(0).toUpperCase()+t};
},{"./helper/makeString":25}],8:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return makeString(e).split("")};
},{"./helper/makeString":25}],9:[function(require,module,exports){
module.exports=function(n,e){return null==n?[]:(n=String(n),e=~~e,e>0?n.match(new RegExp(".{1,"+e+"}","g")):[n])};
},{}],10:[function(require,module,exports){
var capitalize=require("./capitalize"),camelize=require("./camelize"),makeString=require("./helper/makeString");module.exports=function(e){return e=makeString(e),capitalize(camelize(e.replace(/[\W_]/g," ")).replace(/\s/g,""))};
},{"./camelize":6,"./capitalize":7,"./helper/makeString":25}],11:[function(require,module,exports){
var trim=require("./trim");module.exports=function(r){return trim(r).replace(/\s\s+/g," ")};
},{"./trim":67}],12:[function(require,module,exports){
var makeString=require("./helper/makeString"),from="ąàáäâãåæăćčĉęèéëêĝĥìíïîĵłľńňòóöőôõðøśșşšŝťțţŭùúüűûñÿýçżźž",to="aaaaaaaaaccceeeeeghiiiijllnnoooooooossssstttuuuuuunyyczzz";from+=from.toUpperCase(),to+=to.toUpperCase(),to=to.split(""),from+="ß",to.push("ss"),module.exports=function(o){return makeString(o).replace(/.{1}/g,function(o){var e=from.indexOf(o);return e===-1?o:to[e]})};
},{"./helper/makeString":25}],13:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){return e=makeString(e),r=makeString(r),0===e.length||0===r.length?0:e.split(r).length-1};
},{"./helper/makeString":25}],14:[function(require,module,exports){
var trim=require("./trim");module.exports=function(r){return trim(r).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()};
},{"./trim":67}],15:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return e=makeString(e),e.charAt(0).toLowerCase()+e.slice(1)};
},{"./helper/makeString":25}],16:[function(require,module,exports){
function getIndent(e){for(var t=e.match(/^[\s\\t]*/gm),n=t[0].length,r=1;r<t.length;r++)n=Math.min(t[r].length,n);return n}var makeString=require("./helper/makeString");module.exports=function(e,t){e=makeString(e);var n,r=getIndent(e);return 0===r?e:(n="string"==typeof t?new RegExp("^"+t,"gm"):new RegExp("^[ \\t]{"+r+"}","gm"),e.replace(n,""))};
},{"./helper/makeString":25}],17:[function(require,module,exports){
var makeString=require("./helper/makeString"),toPositive=require("./helper/toPositive");module.exports=function(e,t,i){return e=makeString(e),t=""+t,i="undefined"==typeof i?e.length-t.length:Math.min(toPositive(i),e.length)-t.length,i>=0&&e.indexOf(t,i)===i};
},{"./helper/makeString":25,"./helper/toPositive":27}],18:[function(require,module,exports){
var makeString=require("./helper/makeString"),escapeChars=require("./helper/escapeChars"),regexString="[";for(var key in escapeChars)regexString+=key;regexString+="]";var regex=new RegExp(regexString,"g");module.exports=function(e){return makeString(e).replace(regex,function(e){return"&"+escapeChars[e]+";"})};
},{"./helper/escapeChars":22,"./helper/makeString":25}],19:[function(require,module,exports){
module.exports=function(){var r={};for(var n in this)this.hasOwnProperty(n)&&!n.match(/^(?:include|contains|reverse|join|map|wrap)$/)&&(r[n]=this[n]);return r};
},{}],20:[function(require,module,exports){
var makeString=require("./makeString");module.exports=function(e,r){return e=makeString(e),0===e.length?"":e.slice(0,-1)+String.fromCharCode(e.charCodeAt(e.length-1)+r)};
},{"./makeString":25}],21:[function(require,module,exports){
var escapeRegExp=require("./escapeRegExp");module.exports=function(e){return null==e?"\\s":e.source?e.source:"["+escapeRegExp(e)+"]"};
},{"./escapeRegExp":23}],22:[function(require,module,exports){
var escapeChars={"¢":"cent","£":"pound","¥":"yen","€":"euro","©":"copy","®":"reg","<":"lt",">":"gt",'"':"quot","&":"amp","'":"#39"};module.exports=escapeChars;
},{}],23:[function(require,module,exports){
var makeString=require("./makeString");module.exports=function(e){return makeString(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")};
},{"./makeString":25}],24:[function(require,module,exports){
var htmlEntities={nbsp:" ",cent:"¢",pound:"£",yen:"¥",euro:"€",copy:"©",reg:"®",lt:"<",gt:">",quot:'"',amp:"&",apos:"'"};module.exports=htmlEntities;
},{}],25:[function(require,module,exports){
module.exports=function(n){return null==n?"":""+n};
},{}],26:[function(require,module,exports){
module.exports=function(r,e){if(e<1)return"";for(var n="";e>0;)1&e&&(n+=r),e>>=1,r+=r;return n};
},{}],27:[function(require,module,exports){
module.exports=function(e){return e<0?0:+e||0};
},{}],28:[function(require,module,exports){
var capitalize=require("./capitalize"),underscored=require("./underscored"),trim=require("./trim");module.exports=function(e){return capitalize(trim(underscored(e).replace(/_id$/,"").replace(/_/g," ")))};
},{"./capitalize":7,"./trim":67,"./underscored":69}],29:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){return""===r||makeString(e).indexOf(r)!==-1};
},{"./helper/makeString":25}],30:[function(require,module,exports){
var splice=require("./splice");module.exports=function(e,r,i){return splice(e,r,0,i)};
},{"./splice":51}],31:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return/^\s*$/.test(makeString(e))};
},{"./helper/makeString":25}],32:[function(require,module,exports){
var makeString=require("./helper/makeString"),slice=[].slice;module.exports=function(){var e=slice.call(arguments),r=e.shift();return e.join(makeString(r))};
},{"./helper/makeString":25}],33:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(r,e){"use strict";if(r=makeString(r),e=makeString(e),r===e)return 0;if(!r||!e)return Math.max(r.length,e.length);for(var t=new Array(e.length+1),n=0;n<t.length;++n)t[n]=n;for(n=0;n<r.length;++n){for(var a=n+1,g=0;g<e.length;++g){var h=a;a=t[g]+(r.charAt(n)===e.charAt(g)?0:1);var i=h+1;a>i&&(a=i),i=t[g+1]+1,a>i&&(a=i),t[g]=h}t[g]=a}return a};
},{"./helper/makeString":25}],34:[function(require,module,exports){
module.exports=function(n){return null==n?[]:String(n).split(/\r\n?|\n/)};
},{}],35:[function(require,module,exports){
var pad=require("./pad");module.exports=function(r,e,a){return pad(r,e,a)};
},{"./pad":41}],36:[function(require,module,exports){
var pad=require("./pad");module.exports=function(r,e,a){return pad(r,e,a,"both")};
},{"./pad":41}],37:[function(require,module,exports){
var makeString=require("./helper/makeString"),defaultToWhiteSpace=require("./helper/defaultToWhiteSpace"),nativeTrimLeft=String.prototype.trimLeft;module.exports=function(e,t){return e=makeString(e),!t&&nativeTrimLeft?nativeTrimLeft.call(e):(t=defaultToWhiteSpace(t),e.replace(new RegExp("^"+t+"+"),""))};
},{"./helper/defaultToWhiteSpace":21,"./helper/makeString":25}],38:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){return e=makeString(e),0===e.length||"function"!=typeof r?e:e.replace(/./g,r)};
},{"./helper/makeString":25}],39:[function(require,module,exports){
module.exports=function(t,r){if(t==r)return 0;if(!t)return-1;if(!r)return 1;for(var n=/(\.\d+|\d+|\D+)/g,e=String(t).match(n),g=String(r).match(n),h=Math.min(e.length,g.length),i=0;i<h;i++){var l=e[i],u=g[i];if(l!==u){var a=+l,f=+u;return a===a&&f===f?a>f?1:-1:l<u?-1:1}}return e.length!=g.length?e.length-g.length:t<r?-1:1};
},{}],40:[function(require,module,exports){
module.exports=function(e,r,t,i){if(isNaN(e)||null==e)return"";e=e.toFixed(~~r),i="string"==typeof i?i:",";var n=e.split("."),l=n[0],o=n[1]?(t||".")+n[1]:"";return l.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+i)+o};
},{}],41:[function(require,module,exports){
var makeString=require("./helper/makeString"),strRepeat=require("./helper/strRepeat");module.exports=function(e,t,r,a){e=makeString(e),t=~~t;var h=0;switch(r?r.length>1&&(r=r.charAt(0)):r=" ",a){case"right":return h=t-e.length,e+strRepeat(r,h);case"both":return h=t-e.length,strRepeat(r,Math.ceil(h/2))+e+strRepeat(r,Math.floor(h/2));default:return h=t-e.length,strRepeat(r,h)+e}};
},{"./helper/makeString":25,"./helper/strRepeat":26}],42:[function(require,module,exports){
var adjacent=require("./helper/adjacent");module.exports=function(e){return adjacent(e,-1)};
},{"./helper/adjacent":20}],43:[function(require,module,exports){
var makeString=require("./helper/makeString"),rtrim=require("./rtrim");module.exports=function(e,r,t){if(e=makeString(e),r=~~r,t=null!=t?String(t):"...",e.length<=r)return e;var n=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},i=e.slice(0,r+1).replace(/.(?=\W*\w*$)/g,n);return i=i.slice(i.length-2).match(/\w\w/)?i.replace(/\s*\S+$/,""):rtrim(i.slice(0,i.length-1)),(i+t).length>e.length?e:e.slice(0,i.length)+t};
},{"./helper/makeString":25,"./rtrim":49}],44:[function(require,module,exports){
var surround=require("./surround");module.exports=function(r,u){return surround(r,u||'"')};
},{"./surround":60}],45:[function(require,module,exports){
var makeString=require("./helper/makeString"),strRepeat=require("./helper/strRepeat");module.exports=function e(r,t,n){if(r=makeString(r),t=~~t,null==n)return strRepeat(r,t);for(var e=[];t>0;e[--t]=r);return e.join(n)};
},{"./helper/makeString":25,"./helper/strRepeat":26}],46:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r,n,a){var g=a===!0?"gi":"g",i=new RegExp(r,g);return makeString(e).replace(i,n)};
},{"./helper/makeString":25}],47:[function(require,module,exports){
var chars=require("./chars");module.exports=function(r){return chars(r).reverse().join("")};
},{"./chars":8}],48:[function(require,module,exports){
var pad=require("./pad");module.exports=function(r,e,a){return pad(r,e,a,"right")};
},{"./pad":41}],49:[function(require,module,exports){
var makeString=require("./helper/makeString"),defaultToWhiteSpace=require("./helper/defaultToWhiteSpace"),nativeTrimRight=String.prototype.trimRight;module.exports=function(e,t){return e=makeString(e),!t&&nativeTrimRight?nativeTrimRight.call(e):(t=defaultToWhiteSpace(t),e.replace(new RegExp(t+"+$"),""))};
},{"./helper/defaultToWhiteSpace":21,"./helper/makeString":25}],50:[function(require,module,exports){
var trim=require("./trim"),dasherize=require("./dasherize"),cleanDiacritics=require("./cleanDiacritics");module.exports=function(e){return trim(dasherize(cleanDiacritics(e).replace(/[^\w\s-]/g,"-").toLowerCase()),"-")};
},{"./cleanDiacritics":12,"./dasherize":14,"./trim":67}],51:[function(require,module,exports){
var chars=require("./chars");module.exports=function(r,e,a,c){var s=chars(r);return s.splice(~~e,~~a,c),s.join("")};
},{"./chars":8}],52:[function(require,module,exports){
var deprecate=require("util-deprecate");module.exports=deprecate(require("sprintf-js").sprintf,"sprintf() will be removed in the next major release, use the sprintf-js package instead.");
},{"sprintf-js":4,"util-deprecate":75}],53:[function(require,module,exports){
var makeString=require("./helper/makeString"),toPositive=require("./helper/toPositive");module.exports=function(e,t,i){return e=makeString(e),t=""+t,i=null==i?0:Math.min(toPositive(i),e.length),e.lastIndexOf(t,i)===i};
},{"./helper/makeString":25,"./helper/toPositive":27}],54:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e),r=makeString(r);var i=r?e.indexOf(r):-1;return~i?e.slice(0,i):e};
},{"./helper/makeString":25}],55:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e),r=makeString(r);var n=e.lastIndexOf(r);return~n?e.slice(0,n):e};
},{"./helper/makeString":25}],56:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e),r=makeString(r);var n=r?e.indexOf(r):-1;return~n?e.slice(n+r.length,e.length):e};
},{"./helper/makeString":25}],57:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r){e=makeString(e),r=makeString(r);var n=r?e.lastIndexOf(r):-1;return~n?e.slice(n+r.length,e.length):e};
},{"./helper/makeString":25}],58:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return makeString(e).replace(/<\/?[^>]+>/g,"")};
},{"./helper/makeString":25}],59:[function(require,module,exports){
var adjacent=require("./helper/adjacent");module.exports=function(e){return adjacent(e,1)};
},{"./helper/adjacent":20}],60:[function(require,module,exports){
module.exports=function(n,o){return[o,n,o].join("")};
},{}],61:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return makeString(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})};
},{"./helper/makeString":25}],62:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e){return makeString(e).toLowerCase().replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()})};
},{"./helper/makeString":25}],63:[function(require,module,exports){
function boolMatch(t,r){var e,o,i=t.toLowerCase();for(r=[].concat(r),e=0;e<r.length;e+=1)if(o=r[e]){if(o.test&&o.test(t))return!0;if(o.toLowerCase()===i)return!0}}var trim=require("./trim");module.exports=function(t,r,e){return"number"==typeof t&&(t=""+t),"string"!=typeof t?!!t:(t=trim(t),!!boolMatch(t,r||["true","1"])||!boolMatch(t,e||["false","0"])&&void 0)};
},{"./trim":67}],64:[function(require,module,exports){
module.exports=function(n,r){if(null==n)return 0;var t=Math.pow(10,isFinite(r)?r:0);return Math.round(n*t)/t};
},{}],65:[function(require,module,exports){
var rtrim=require("./rtrim");module.exports=function(r,e,t,i){e=e||", ",t=t||" and ";var n=r.slice(),o=n.pop();return r.length>2&&i&&(t=rtrim(e)+t),n.length?n.join(e)+t+o:o};
},{"./rtrim":49}],66:[function(require,module,exports){
var toSentence=require("./toSentence");module.exports=function(e,n,t){return toSentence(e,n,t,!0)};
},{"./toSentence":65}],67:[function(require,module,exports){
var makeString=require("./helper/makeString"),defaultToWhiteSpace=require("./helper/defaultToWhiteSpace"),nativeTrim=String.prototype.trim;module.exports=function(e,r){return e=makeString(e),!r&&nativeTrim?nativeTrim.call(e):(r=defaultToWhiteSpace(r),e.replace(new RegExp("^"+r+"+|"+r+"+$","g"),""))};
},{"./helper/defaultToWhiteSpace":21,"./helper/makeString":25}],68:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(e,r,n){return e=makeString(e),n=n||"...",r=~~r,e.length>r?e.slice(0,r)+n:e};
},{"./helper/makeString":25}],69:[function(require,module,exports){
var trim=require("./trim");module.exports=function(r){return trim(r).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()};
},{"./trim":67}],70:[function(require,module,exports){
var makeString=require("./helper/makeString"),htmlEntities=require("./helper/htmlEntities");module.exports=function(t){return makeString(t).replace(/\&([^;]{1,10});/g,function(t,e){var r;return e in htmlEntities?htmlEntities[e]:(r=e.match(/^#x([\da-fA-F]+)$/))?String.fromCharCode(parseInt(r[1],16)):(r=e.match(/^#(\d+)$/))?String.fromCharCode(~~r[1]):t})};
},{"./helper/htmlEntities":24,"./helper/makeString":25}],71:[function(require,module,exports){
module.exports=function(e,n){return n=n||'"',e[0]===n&&e[e.length-1]===n?e.slice(1,e.length-1):e};
},{}],72:[function(require,module,exports){
var deprecate=require("util-deprecate");module.exports=deprecate(require("sprintf-js").vsprintf,"vsprintf() will be removed in the next major release, use the sprintf-js package instead.");
},{"sprintf-js":4,"util-deprecate":75}],73:[function(require,module,exports){
var isBlank=require("./isBlank"),trim=require("./trim");module.exports=function(r,i){return isBlank(r)?[]:trim(r,i).split(i||/\s+/)};
},{"./isBlank":31,"./trim":67}],74:[function(require,module,exports){
var makeString=require("./helper/makeString");module.exports=function(r,e){r=makeString(r),e=e||{};var t,i=e.width||75,f=e.seperator||"\n",n=e.cut||!1,a=e.preserveSpaces||!1,l=e.trailingSpaces||!1;if(i<=0)return r;if(n){var o=0;for(t="";o<r.length;)o%i==0&&o>0&&(t+=f),t+=r.charAt(o),o++;if(l)for(;o%i>0;)t+=" ",o++;return t}var g=r.split(" "),h=0;for(t="";g.length>0;){if(1+g[0].length+h>i&&h>0){if(a)t+=" ",h++;else if(l)for(;h<i;)t+=" ",h++;t+=f,h=0}h>0&&(t+=" ",h++),t+=g[0],h+=g[0].length,g.shift()}if(l)for(;h<i;)t+=" ",h++;return t};
},{"./helper/makeString":25}],75:[function(require,module,exports){
(function (global){
function deprecate(r,e){function o(){if(!t){if(config("throwDeprecation"))throw new Error(e);config("traceDeprecation")?console.trace(e):console.warn(e),t=!0}return r.apply(this,arguments)}if(config("noDeprecation"))return r;var t=!1;return o}function config(r){try{if(!global.localStorage)return!1}catch(e){return!1}var o=global.localStorage[r];return null!=o&&"true"===String(o).toLowerCase()}module.exports=deprecate;
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],"backbone.marionette":[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("backbone"),require("underscore"),require("backbone.radio")):"function"==typeof define&&define.amd?define(["backbone","underscore","backbone.radio"],t):e.Marionette=t(e.Backbone,e._,e.Backbone.Radio)}(this,function(e,t,i){"use strict";function n(e,t,i){return i.toUpperCase()}function s(e){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];var r=Z(e),o=K.call(this,r),h=void 0;return t.isFunction(o)&&(h=o.apply(this,n)),this.trigger.apply(this,arguments),h}function r(e){for(var i=arguments.length,n=Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return t.isFunction(e.triggerMethod)?e.triggerMethod.apply(e,n):s.apply(e,n)}function o(e,i,n){e._getImmediateChildren&&t.each(e._getImmediateChildren(),function(e){n(e)&&r(e,i,e)})}function h(e){return!e._isAttached}function d(e){return!!h(e)&&(e._isAttached=!0,!0)}function l(e){return e._isAttached}function a(e){return!!l(e)&&(e._isAttached=!1,!0)}function c(e){e._isAttached&&e._isRendered&&r(e,"dom:refresh",e)}function u(e){e._isAttached&&e._isRendered&&r(e,"dom:remove",e)}function f(){o(this,"before:attach",h)}function _(){o(this,"attach",d),c(this)}function p(){o(this,"before:detach",l),u(this)}function g(){o(this,"detach",a)}function v(){u(this)}function m(){c(this)}function w(e){e._areViewEventsMonitored||e.monitorViewEvents===!1||(e._areViewEventsMonitored=!0,e.on({"before:attach":f,attach:_,"before:detach":p,detach:g,"before:render":v,render:m}))}function y(e,i,n,s,r){var o=s.split(/\s+/);o.length>1&&N("Multiple handlers for a single event are deprecated. If needed, use a single handler to call multiple methods."),t.each(o,function(t){var s=e[t];if(!s)throw new J('Method "'+t+'" was configured as an event handler, but does not exist.');e[r](i,n,s)})}function C(e,i,n,s){if(!t.isObject(n))throw new J({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindevents"});t.each(n,function(n,r){return t.isString(n)?void y(e,i,r,n,s):void e[s](i,r,n)})}function V(e,t){return e&&t?(C(this,e,t,"listenTo"),this):this}function E(e,t){return e?t?(C(this,e,t,"stopListening"),this):(this.stopListening(e),this):this}function b(e,i,n,s){if(!t.isObject(n))throw new J({message:"Bindings must be an object.",url:"marionette.functions.html#marionettebindrequests"});var r=W.call(e,n);i[s](r,e)}function M(e,t){return e&&t?(b(this,e,t,"reply"),this):this}function R(e,t){return e?t?(b(this,e,t,"stopReplying"),this):(e.stopReplying(null,null,this),this):this}function B(e,i){return e.behaviorClass?e.behaviorClass:t.isFunction(e)?e:t.isFunction(je.Behaviors.behaviorsLookup)?je.Behaviors.behaviorsLookup(e,i)[i]:je.Behaviors.behaviorsLookup[i]}function x(e,i){return t.chain(i).map(function(i,n){var s=B(i,n),r=i===s?{}:i,o=new s(r,e),h=x(e,t.result(o,"behaviors"));return[o].concat(h)}).flatten().value()}function D(e){return!!le[e]}function A(e,t){return le[e]=t}function O(e,i){t.isString(i)&&(i={event:i});var n=i.event,s=!!i.preventDefault;D("triggersPreventDefault")&&(s=i.preventDefault!==!1);var r=!!i.stopPropagation;return D("triggersStopPropagation")&&(r=i.stopPropagation!==!1),function(t){s&&t.preventDefault(),r&&t.stopPropagation(),e.triggerMethod(n,e,t)}}function I(t){return t instanceof e.$?t:e.$(t)}function $(e){return this.prototype.Dom=t.extend({},this.prototype.Dom,e),this}function T(e){e._isRendered||(e.supportsRenderLifecycle||r(e,"before:render",e),e.render(),e.supportsRenderLifecycle||(e._isRendered=!0,r(e,"render",e)))}function U(e){if(e.destroy)return void e.destroy();e.supportsDestroyLifecycle||r(e,"before:destroy",e);var t=e._isAttached&&!e._shouldDisableEvents;t&&r(e,"before:detach",e),e.remove(),t&&(e._isAttached=!1,r(e,"detach",e)),e._isDestroyed=!0,e.supportsDestroyLifecycle||r(e,"destroy",e)}function S(e,i){var n=t.extend({},i);if(t.isString(e))return t.extend(n,{el:e}),F(n);if(t.isFunction(e))return t.extend(n,{regionClass:e}),F(n);if(t.isObject(e))return e.selector&&N("The selector option on a Region definition object is deprecated. Use el to pass a selector string"),t.extend(n,{el:e.selector},e),F(n);throw new J({message:"Improper region configuration type.",url:"marionette.region.html#region-configuration-types"})}function F(e){var i=e.regionClass,n=t.omit(e,"regionClass");return new i(n)}function L(e,t){return t.model&&t.model.get(e)}function P(){throw new J({message:"You must define where your behaviors are stored.",url:"marionette.behaviors.md#behaviorslookup"})}e=e&&e.hasOwnProperty("default")?e["default"]:e,t=t&&t.hasOwnProperty("default")?t["default"]:t,i=i&&i.hasOwnProperty("default")?i["default"]:i;var z="3.5.1",k=function(e){return function(t){for(var i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return e.apply(t,n)}},j=e.Model.extend,N=function Ne(e,i){t.isObject(e)&&(e=e.prev+" is going to be removed in the future. Please use "+e.next+" instead."+(e.url?" See: "+e.url:"")),je.DEV_MODE&&(void 0!==i&&i||Ne._cache[e]||(Ne._warn("Deprecation warning: "+e),Ne._cache[e]=!0))};N._console="undefined"!=typeof console?console:{},N._warn=function(){var e=N._console.warn||N._console.log||t.noop;return e.apply(N._console,arguments)},N._cache={};var H=function(e){return document.documentElement.contains(e&&e.parentNode)},q=function(e,i){var n=this;e&&t.each(i,function(t){var i=e[t];void 0!==i&&(n[t]=i)})},K=function(e){if(e)return this.options&&void 0!==this.options[e]?this.options[e]:this[e]},W=function(e){var i=this;return t.reduce(e,function(e,n,s){return t.isFunction(n)||(n=i[n]),n&&(e[s]=n),e},{})},Y=/(^|:)(\w)/gi,Z=t.memoize(function(e){return"on"+e.replace(Y,n)}),G=["description","fileName","lineNumber","name","message","number"],J=j.call(Error,{urlRoot:"http://marionettejs.com/docs/v"+z+"/",constructor:function(e,i){t.isObject(e)?(i=e,e=i.message):i||(i={});var n=Error.call(this,e);t.extend(this,t.pick(n,G),t.pick(i,G)),this.captureStackTrace(),i.url&&(this.url=this.urlRoot+i.url)},captureStackTrace:function(){Error.captureStackTrace&&Error.captureStackTrace(this,J)},toString:function(){return this.name+": "+this.message+(this.url?" See: "+this.url:"")}});J.extend=j;var Q=function(e){this.options=t.extend({},t.result(this,"options"),e)},X={normalizeMethods:W,_setOptions:Q,mergeOptions:q,getOption:K,bindEvents:V,unbindEvents:E},ee={_initRadio:function(){var e=t.result(this,"channelName");if(e){if(!i)throw new J({name:"BackboneRadioMissing",message:'The dependency "backbone.radio" is missing.'});var n=this._channel=i.channel(e),s=t.result(this,"radioEvents");this.bindEvents(n,s);var r=t.result(this,"radioRequests");this.bindRequests(n,r),this.on("destroy",this._destroyRadio)}},_destroyRadio:function(){this._channel.stopReplying(null,null,this)},getChannel:function(){return this._channel},bindEvents:V,unbindEvents:E,bindRequests:M,unbindRequests:R},te=["channelName","radioEvents","radioRequests"],ie=function(e){this.hasOwnProperty("options")||this._setOptions(e),this.mergeOptions(e,te),this._setCid(),this._initRadio(),this.initialize.apply(this,arguments)};ie.extend=j,t.extend(ie.prototype,e.Events,X,ee,{cidPrefix:"mno",_isDestroyed:!1,isDestroyed:function(){return this._isDestroyed},initialize:function(){},_setCid:function(){this.cid||(this.cid=t.uniqueId(this.cidPrefix))},destroy:function(){if(this._isDestroyed)return this;for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.triggerMethod.apply(this,["before:destroy",this].concat(t)),this._isDestroyed=!0,this.triggerMethod.apply(this,["destroy",this].concat(t)),this.stopListening(),this},triggerMethod:s});var ne=function(e){this.templateId=e};t.extend(ne,{templateCaches:{},get:function(e,t){var i=this.templateCaches[e];return i||(i=new ne(e),this.templateCaches[e]=i),i.load(t)},clear:function(){for(var e=void 0,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];var s=i.length;if(s>0)for(e=0;e<s;e++)delete this.templateCaches[i[e]];else this.templateCaches={}}}),t.extend(ne.prototype,{load:function(e){if(this.compiledTemplate)return this.compiledTemplate;var t=this.loadTemplate(this.templateId,e);return this.compiledTemplate=this.compileTemplate(t,e),this.compiledTemplate},loadTemplate:function(t,i){var n=e.$(t);if(!n.length)throw new J({name:"NoTemplateError",message:'Could not find template: "'+t+'"'});return n.html()},compileTemplate:function(e,i){return t.template(e,i)}});var se=t.invokeMap||t.invoke,re={_initBehaviors:function(){this._behaviors=this._getBehaviors()},_getBehaviors:function(){var e=t.result(this,"behaviors");return t.isObject(e)?x(this,e):{}},_getBehaviorTriggers:function(){var e=se(this._behaviors,"getTriggers");return t.reduce(e,function(e,i){return t.extend(e,i)},{})},_getBehaviorEvents:function(){var e=se(this._behaviors,"getEvents");return t.reduce(e,function(e,i){return t.extend(e,i)},{})},_proxyBehaviorViewProperties:function(){se(this._behaviors,"proxyViewProperties")},_delegateBehaviorEntityEvents:function(){se(this._behaviors,"delegateEntityEvents")},_undelegateBehaviorEntityEvents:function(){se(this._behaviors,"undelegateEntityEvents")},_destroyBehaviors:function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];se.apply(void 0,[this._behaviors,"destroy"].concat(t))},_removeBehavior:function(e){this._isDestroyed||(this.undelegate(".trig"+e.cid+" ."+e.cid),this._behaviors=t.without(this._behaviors,e))},_bindBehaviorUIElements:function(){se(this._behaviors,"bindUIElements")},_unbindBehaviorUIElements:function(){se(this._behaviors,"unbindUIElements")},_triggerEventOnBehaviors:function(){for(var e=this._behaviors,t=0,i=e&&e.length;t<i;t++)s.apply(e[t],arguments)}},oe={_delegateEntityEvents:function(e,i){var n=t.result(this,"modelEvents");n&&(E.call(this,e,n),V.call(this,e,n));var s=t.result(this,"collectionEvents");s&&(E.call(this,i,s),V.call(this,i,s))},_undelegateEntityEvents:function(e,i){var n=t.result(this,"modelEvents");E.call(this,e,n);var s=t.result(this,"collectionEvents");E.call(this,i,s)}},he=/^(\S+)\s*(.*)$/,de=function(e,t){var i=e.match(he);return i[1]+"."+t+" "+i[2]},le={childViewEventPrefix:!0,triggersStopPropagation:!0,triggersPreventDefault:!0},ae={_getViewTriggers:function(e,i){var n=this;return t.reduce(i,function(t,i,s){return s=de(s,"trig"+n.cid),t[s]=O(e,i),t},{})}},ce=function(e,i){return t.reduce(e,function(e,t,n){var s=ue(n,i);return e[s]=t,e},{})},ue=function(e,t){return e.replace(/@ui\.[a-zA-Z-_$0-9]*/g,function(e){return t[e.slice(4)]})},fe=function He(e,i,n){return t.each(e,function(s,r){t.isString(s)?e[r]=ue(s,i):t.isObject(s)&&t.isArray(n)&&(t.extend(s,He(t.pick(s,n),i)),t.each(n,function(e){var n=s[e];t.isString(n)&&(s[e]=ue(n,i))}))}),e},_e={normalizeUIKeys:function(e){var t=this._getUIBindings();return ce(e,t)},normalizeUIString:function(e){var t=this._getUIBindings();return ue(e,t)},normalizeUIValues:function(e,t){var i=this._getUIBindings();return fe(e,i,t)},_getUIBindings:function(){var e=t.result(this,"_uiBindings"),i=t.result(this,"ui");return e||i},_bindUIElements:function(){var e=this;if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var i=t.result(this,"_uiBindings");this._ui={},t.each(i,function(t,i){e._ui[i]=e.$(t)}),this.ui=this._ui}},_unbindUIElements:function(){var e=this;this.ui&&this._uiBindings&&(t.each(this.ui,function(t,i){delete e.ui[i]}),this.ui=this._uiBindings,delete this._uiBindings,delete this._ui)},_getUI:function(e){return this._ui[e]}},pe={createBuffer:function(){return document.createDocumentFragment()},getEl:function(e){return I(e)},findEl:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I(e);return i.find(t)},hasEl:function(e,t){return e.contains(t&&t.parentNode)},detachEl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I(e);t.detach()},replaceEl:function(e,t){if(e!==t){var i=t.parentNode;i&&i.replaceChild(e,t)}},swapEl:function(e,t){if(e!==t){var i=e.parentNode,n=t.parentNode;if(i&&n){var s=e.nextSibling,r=t.nextSibling;i.insertBefore(t,s),n.insertBefore(e,r)}}},setContents:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:I(e);i.html(t)},appendContents:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=i._$el,s=void 0===n?I(e):n,r=i._$contents,o=void 0===r?I(t):r;s.append(o)},hasContents:function(e){return!!e&&e.hasChildNodes()},detachContents:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:I(e);t.contents().detach()}},ge={Dom:pe,supportsRenderLifecycle:!0,supportsDestroyLifecycle:!0,_isDestroyed:!1,isDestroyed:function(){return!!this._isDestroyed},_isRendered:!1,isRendered:function(){return!!this._isRendered},_isAttached:!1,isAttached:function(){return!!this._isAttached},delegateEvents:function(i){this._proxyBehaviorViewProperties(),this._buildEventProxies();var n=this._getEvents(i);"undefined"==typeof i&&(this.events=n);var s=t.extend({},this._getBehaviorEvents(),n,this._getBehaviorTriggers(),this.getTriggers());return e.View.prototype.delegateEvents.call(this,s),this},_getEvents:function(e){var i=e||this.events;return t.isFunction(i)?this.normalizeUIKeys(i.call(this)):this.normalizeUIKeys(i)},getTriggers:function(){if(this.triggers){var e=this.normalizeUIKeys(t.result(this,"triggers"));return this._getViewTriggers(this,e)}},delegateEntityEvents:function(){return this._delegateEntityEvents(this.model,this.collection),this._delegateBehaviorEntityEvents(),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.model,this.collection),this._undelegateBehaviorEntityEvents(),this},destroy:function(){if(this._isDestroyed)return this;for(var e=this._isAttached&&!this._shouldDisableEvents,t=arguments.length,i=Array(t),n=0;n<t;n++)i[n]=arguments[n];return this.triggerMethod.apply(this,["before:destroy",this].concat(i)),e&&this.triggerMethod("before:detach",this),this.unbindUIElements(),this._removeElement(),e&&(this._isAttached=!1,this.triggerMethod("detach",this)),this._removeChildren(),this._isDestroyed=!0,this._isRendered=!1,this._destroyBehaviors.apply(this,i),this.triggerMethod.apply(this,["destroy",this].concat(i)),this.stopListening(),this},_removeElement:function(){this.$el.off().removeData(),this.Dom.detachEl(this.el,this.$el)},bindUIElements:function(){return this._bindUIElements(),this._bindBehaviorUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this._unbindBehaviorUIElements(),this},getUI:function(e){return this._getUI(e)},childViewEventPrefix:function(){return!!D("childViewEventPrefix")&&"childview"},triggerMethod:function(){var e=s.apply(this,arguments);return this._triggerEventOnBehaviors.apply(this,arguments),e},_buildEventProxies:function(){this._childViewEvents=t.result(this,"childViewEvents"),this._childViewTriggers=t.result(this,"childViewTriggers")},_proxyChildViewEvents:function(e){this.listenTo(e,"all",this._childViewEventHandler)},_childViewEventHandler:function(e){for(var i=this.normalizeMethods(this._childViewEvents),n=arguments.length,s=Array(n>1?n-1:0),r=1;r<n;r++)s[r-1]=arguments[r];"undefined"!=typeof i&&t.isFunction(i[e])&&i[e].apply(this,s);var o=this._childViewTriggers;o&&t.isString(o[e])&&this.triggerMethod.apply(this,[o[e]].concat(s));var h=t.result(this,"childViewEventPrefix");if(h!==!1){var d=h+":"+e;this.triggerMethod.apply(this,[d].concat(s))}}};t.extend(ge,re,X,oe,ae,_e);var ve=["allowMissingEl","parentEl","replaceElement"],me=ie.extend({Dom:pe,cidPrefix:"mnr",replaceElement:!1,_isReplaced:!1,_isSwappingView:!1,constructor:function(t){if(this._setOptions(t),this.mergeOptions(t,ve),this._initEl=this.el=this.getOption("el"),this.el=this.el instanceof e.$?this.el[0]:this.el,!this.el)throw new J({name:"NoElError",message:'An "el" must be specified for a region.'});this.$el=this.getEl(this.el),ie.call(this,t)},show:function(e,t){if(this._ensureElement(t))return e=this._getView(e,t),e===this.currentView?this:(this._isSwappingView=!!this.currentView,this.triggerMethod("before:show",this,e,t),e._isAttached||this.empty(t),this._setupChildView(e),this.currentView=e,T(e),this._attachView(e,t),this.triggerMethod("show",this,e,t),this._isSwappingView=!1,this)},_setupChildView:function(e){w(e),this._proxyChildViewEvents(e),e.on("destroy",this._empty,this)},_proxyChildViewEvents:function(e){var t=this._parentView;t&&t._proxyChildViewEvents(e)},_shouldDisableMonitoring:function(){return this._parentView&&this._parentView.monitorViewEvents===!1},_attachView:function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!e._isAttached&&H(this.el)&&!this._shouldDisableMonitoring(),s="undefined"==typeof i.replaceElement?!!t.result(this,"replaceElement"):!!i.replaceElement;n&&r(e,"before:attach",e),s?this._replaceEl(e):this.attachHtml(e),n&&(e._isAttached=!0,r(e,"attach",e))},_ensureElement:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0],this.$el=this.Dom.getEl(this.el)),!this.$el||0===this.$el.length){var i="undefined"==typeof e.allowMissingEl?!!t.result(this,"allowMissingEl"):!!e.allowMissingEl;if(i)return!1;throw new J('An "el" must exist in DOM for this region '+this.cid)}return!0},_getView:function(t){if(!t)throw new J({name:"ViewNotValid",message:"The view passed is undefined and therefore invalid. You must pass a view instance to show."});if(t._isDestroyed)throw new J({name:"ViewDestroyedError",message:'View (cid: "'+t.cid+'") has already been destroyed and cannot be used.'});if(t instanceof e.View)return t;var i=this._getViewOptions(t);return new Ee(i)},_getViewOptions:function(e){if(t.isFunction(e))return{template:e};if(t.isObject(e))return e;var i=function(){return e};return{template:i}},getEl:function(e){var i=t.result(this,"parentEl");return i&&t.isString(e)?this.Dom.findEl(i,e):this.Dom.getEl(e)},_replaceEl:function(e){this._restoreEl(),e.on("before:destroy",this._restoreEl,this),this.Dom.replaceEl(e.el,this.el),this._isReplaced=!0},_restoreEl:function(){if(this._isReplaced){var e=this.currentView;e&&(this._detachView(e),this._isReplaced=!1)}},isReplaced:function(){return!!this._isReplaced},isSwappingView:function(){return!!this._isSwappingView},attachHtml:function(e){this.Dom.appendContents(this.el,e.el,{_$el:this.$el,_$contents:e.$el})},empty:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{allowMissingEl:!0},t=this.currentView;if(!t)return this._ensureElement(e)&&this.detachHtml(),this;var i=!e.preventDestroy;return i||N("The preventDestroy option is deprecated. Use Region#detachView"),this._empty(t,i),this},_empty:function(e,t){e.off("destroy",this._empty,this),this.triggerMethod("before:empty",this,e),this._restoreEl(),delete this.currentView,e._isDestroyed||(t?this.removeView(e):this._detachView(e),this._stopChildViewEvents(e)),this.triggerMethod("empty",this,e)},_stopChildViewEvents:function(e){var t=this._parentView;t&&this._parentView.stopListening(e)},destroyView:function(e){return e._isDestroyed?e:(e._shouldDisableEvents=this._shouldDisableMonitoring(),U(e),e)},removeView:function(e){this.destroyView(e)},detachView:function(){var e=this.currentView;if(e)return this._empty(e),e},_detachView:function(e){var t=e._isAttached&&!this._shouldDisableMonitoring(),i=this._isReplaced;t&&r(e,"before:detach",e),i?this.Dom.replaceEl(this.el,e.el):this.detachHtml(),t&&(e._isAttached=!1,r(e,"detach",e))},detachHtml:function(){this.Dom.detachContents(this.el,this.$el)},hasView:function(){return!!this.currentView},reset:function(e){return this.empty(e),this.$el&&(this.el=this._initEl),delete this.$el,this},destroy:function(e){return this._isDestroyed?this:(this.reset(e),this._name&&this._parentView._removeReferences(this._name),delete this._parentView,delete this._name,ie.prototype.destroy.apply(this,arguments))}},{setDomApi:$}),we=function(e,t){return e instanceof me?e:S(e,t)},ye={regionClass:me,_initRegions:function(){this.regions=this.regions||{},this._regions={},this.addRegions(t.result(this,"regions"))},_reInitRegions:function(){se(this._regions,"reset")},addRegion:function(e,t){var i={};return i[e]=t,this.addRegions(i)[e]},addRegions:function(e){if(!t.isEmpty(e))return e=this.normalizeUIValues(e,["selector","el"]),this.regions=t.extend({},this.regions,e),this._addRegions(e)},_addRegions:function(e){var i=this,n={regionClass:this.regionClass,parentEl:t.partial(t.result,this,"el")};return t.reduce(e,function(e,t,s){return e[s]=we(t,n),i._addRegion(e[s],s),e},{})},_addRegion:function(e,t){this.triggerMethod("before:add:region",this,t,e),e._parentView=this,e._name=t,this._regions[t]=e,this.triggerMethod("add:region",this,t,e)},removeRegion:function(e){var t=this._regions[e];return this._removeRegion(t,e),t},removeRegions:function(){var e=this._getRegions();return t.each(this._regions,t.bind(this._removeRegion,this)),e},_removeRegion:function(e,t){this.triggerMethod("before:remove:region",this,t,e),e.destroy(),this.triggerMethod("remove:region",this,t,e)},_removeReferences:function(e){delete this.regions[e],delete this._regions[e]},emptyRegions:function(){var e=this.getRegions();return se(e,"empty"),e},hasRegion:function(e){return!!this.getRegion(e)},getRegion:function(e){return this._isRendered||this.render(),this._regions[e]},_getRegions:function(){return t.clone(this._regions)},getRegions:function(){return this._isRendered||this.render(),this._getRegions()},showChildView:function(e,t){for(var i=this.getRegion(e),n=arguments.length,s=Array(n>2?n-2:0),r=2;r<n;r++)s[r-2]=arguments[r];return i.show.apply(i,[t].concat(s))},detachChildView:function(e){return this.getRegion(e).detachView()},getChildView:function(e){return this.getRegion(e).currentView}},Ce={render:function(e,i){if(!e)throw new J({name:"TemplateNotFoundError",message:"Cannot render the template since its false, null or undefined."});var n=t.isFunction(e)?e:ne.get(e);return n(i)}},Ve=["behaviors","childViewEventPrefix","childViewEvents","childViewTriggers","collectionEvents","events","modelEvents","regionClass","regions","template","templateContext","triggers","ui"],Ee=e.View.extend({constructor:function(i){this.render=t.bind(this.render,this),this._setOptions(i),this.mergeOptions(i,Ve),w(this),this._initBehaviors(),this._initRegions();var n=Array.prototype.slice.call(arguments);n[0]=this.options,e.View.prototype.constructor.apply(this,n),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},serializeData:function(){return this.model||this.collection?this.model?this.serializeModel():{items:this.serializeCollection()}:{}},serializeModel:function(){return this.model?t.clone(this.model.attributes):{}},serializeCollection:function(){return this.collection?this.collection.map(function(e){return t.clone(e.attributes)}):{}},setElement:function(){return e.View.prototype.setElement.apply(this,arguments),this._isRendered=this.Dom.hasContents(this.el),this._isAttached=H(this.el),this._isRendered&&this.bindUIElements(),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._isRendered&&this._reInitRegions(),this._renderTemplate(),this.bindUIElements(),this._isRendered=!0,this.triggerMethod("render",this),this)},_renderTemplate:function(){var e=this.getTemplate();if(e===!1)return void N("template:false is deprecated.  Use _.noop.");var t=this.mixinTemplateContext(this.serializeData()),i=this._renderHtml(e,t);this.attachElContent(i)},_renderHtml:function(e,t){return Ce.render(e,t,this)},getTemplate:function(){return this.template},mixinTemplateContext:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.result(this,"templateContext");return t.extend(e,i)},attachElContent:function(e){return this.Dom.setContents(this.el,e,this.$el),this},_removeChildren:function(){this.removeRegions()},_getImmediateChildren:function(){return t.chain(this._getRegions()).map("currentView").compact().value()}},{setRenderer:function(e){return this.prototype._renderHtml=e,this},setDomApi:$});t.extend(Ee.prototype,ge,ye);var be=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck","reduce","partition"],Me=function(e,i){t.each(be,function(n){e[n]=function(){var e=t.result(this,i),s=Array.prototype.slice.call(arguments);return t[n].apply(t,[e].concat(s))}})},Re=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,t.bind(this.add,this))};Me(Re.prototype,"_getViews"),t.extend(Re.prototype,{_getViews:function(){return t.values(this._views)},add:function(e,t){return this._add(e,t)._updateLength()},_add:function(e,t){var i=e.cid;return this._views[i]=e,e.model&&(this._indexByModel[e.model.cid]=i),t&&(this._indexByCustom[t]=i),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){return this._remove(e)._updateLength()},_remove:function(e){var i=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.some(this._indexByCustom,t.bind(function(e,t){if(e===i)return delete this._indexByCustom[t],!0},this)),delete this._views[i],this},_updateLength:function(){return this.length=t.size(this._views),this}});var Be=["behaviors","childView","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","events","filter","emptyView","emptyViewOptions","modelEvents","reorderOnSort","sort","triggers","ui","viewComparator"],xe=e.View.extend({sort:!0,constructor:function(i){this.render=t.bind(this.render,this),this._setOptions(i),this.mergeOptions(i,Be),w(this),this._initBehaviors(),this.once("render",this._initialEvents),this._initChildViewStorage(),this._bufferedChildren=[];var n=Array.prototype.slice.call(arguments);n[0]=this.options,e.View.prototype.constructor.apply(this,n),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},_startBuffering:function(){this._isBuffering=!0},_endBuffering:function(){var e=this._isAttached&&this.monitorViewEvents!==!1,i=e?this._getImmediateChildren():[];this._isBuffering=!1,t.each(i,function(e){r(e,"before:attach",e)}),this.attachBuffer(this,this._createBuffer()),t.each(i,function(e){e._isAttached=!0,r(e,"attach",e)}),this._bufferedChildren=[]},_getImmediateChildren:function(){return t.values(this.children._views)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"update",this._onCollectionUpdate),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(e,i,n){var s=void 0!==n.at&&(n.index||i.indexOf(e));(this.filter||s===!1)&&(s=t.indexOf(this._filteredSortedModels(s),e)),this._shouldAddChild(e,s)&&(this._destroyEmptyView(),this._addChild(e,s))},_onCollectionUpdate:function(e,t){var i=t.changes;this._removeChildModels(i.removed)},_removeChildModels:function(e){var t=this._getRemovedViews(e);t.length&&(this.children._updateLength(),this._updateIndices(t,!1),this.isEmpty()&&this._showEmptyView())},_getRemovedViews:function(e){var i=this;return t.reduce(e,function(e,t){var n=t&&i.children.findByModel(t);return!n||n._isDestroyed?e:(i._removeChildView(n),e.push(n),e)},[])},_removeChildView:function(e){this.triggerMethod("before:remove:child",this,e),this.children._remove(e),e._shouldDisableEvents=this.monitorViewEvents===!1,U(e),this.stopListening(e),this.triggerMethod("remove:child",this,e)},setElement:function(){return e.View.prototype.setElement.apply(this,arguments),this._isAttached=H(this.el),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._renderChildren(),this._isRendered=!0,this.triggerMethod("render",this),this)},setFilter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.preventRender,n=this._isRendered&&!this._isDestroyed,s=this.filter!==e,r=n&&s&&!i;if(r){var o=this._filteredSortedModels();this.filter=e;var h=this._filteredSortedModels();this._applyModelDeltas(h,o)}else this.filter=e;return this},removeFilter:function(e){return this.setFilter(null,e)},_applyModelDeltas:function(e,i){var n=this,s={};t.each(e,function(e,t){var i=!n.children.findByModel(e);i&&n._onCollectionAdd(e,n.collection,{at:t}),s[e.cid]=!0});var r=t.filter(i,function(e){return!s[e.cid]&&n.children.findByModel(e)});this._removeChildModels(r)},reorder:function(){var e=this,i=this.children,n=this._filteredSortedModels();if(!n.length&&this._showingEmptyView)return this;var s=t.some(n,function(e){return!i.findByModel(e)});if(s)this.render();else{var r=[],o=t.reduce(this.children._views,function(e,i){var s=t.indexOf(n,i.model);return s===-1?(r.push(i.model),e):(i._index=s,e[s]=i.el,e)},new Array(n.length));this.triggerMethod("before:reorder",this);var h=this.Dom.createBuffer();t.each(o,function(t){e.Dom.appendContents(h,t)}),this._appendReorderedChildren(h),this._removeChildModels(r),this.triggerMethod("reorder",this)}return this},resortView:function(){return this.reorderOnSort?this.reorder():this._renderChildren(),this},_sortViews:function(){var e=this,i=this._filteredSortedModels(),n=t.find(i,function(t,i){var n=e.children.findByModel(t);return!n||n._index!==i});n&&this.resortView()},_emptyViewIndex:-1,_appendReorderedChildren:function(e){this.Dom.appendContents(this.el,e,{_$el:this.$el})},_renderChildren:function(){this._isRendered&&(this._destroyEmptyView(),this._destroyChildren());var e=this._filteredSortedModels();this.isEmpty({processedModels:e})?this._showEmptyView():(this.triggerMethod("before:render:children",this),this._startBuffering(),this._showCollection(e),this._endBuffering(),this.triggerMethod("render:children",this))},_createView:function(e,t){var i=this._getChildView(e),n=this._getChildViewOptions(e,t),s=this.buildChildView(e,i,n);return s},_setupChildView:function(e,t){w(e),this._proxyChildViewEvents(e),this.sort&&(e._index=t)},_showCollection:function(e){t.each(e,t.bind(this._addChild,this)),this.children._updateLength()},_filteredSortedModels:function(e){if(!this.collection||!this.collection.length)return[];var t=this.getViewComparator(),i=this.collection.models;if(e=Math.min(Math.max(e,0),i.length-1),t){var n=void 0;e&&(n=i[e],i=i.slice(0,e).concat(i.slice(e+1))),i=this._sortModelsBy(i,t),n&&i.splice(e,0,n)}return i=this._filterModels(i)},getViewComparator:function(){return this.viewComparator},_filterModels:function(e){var i=this;return this.filter&&(e=t.filter(e,function(e,t){return i._shouldAddChild(e,t)})),e},_sortModelsBy:function(e,i){return"string"==typeof i?t.sortBy(e,function(e){return e.get(i)}):1===i.length?t.sortBy(e,t.bind(i,this)):t.clone(e).sort(t.bind(i,this))},_showEmptyView:function(){var i=this._getEmptyView();if(i&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new e.Model,s=this.emptyViewOptions||this.childViewOptions;t.isFunction(s)&&(s=s.call(this,n,this._emptyViewIndex));var r=this.buildChildView(n,i,s);this.triggerMethod("before:render:empty",this,r),this.addChildView(r,0),this.triggerMethod("render:empty",this,r)}},_destroyEmptyView:function(){this._showingEmptyView&&(this.triggerMethod("before:remove:empty",this),this._destroyChildren(),delete this._showingEmptyView,this.triggerMethod("remove:empty",this))},_getEmptyView:function(){var e=this.emptyView;if(e)return this._getView(e)},_getChildView:function(e){var t=this.childView;if(!t)throw new J({name:"NoChildViewError",message:'A "childView" must be specified'});if(t=this._getView(t,e),!t)throw new J({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return t},
_getView:function(i,n){return i.prototype instanceof e.View||i===e.View?i:t.isFunction(i)?i.call(this,n):void 0},_addChild:function(e,t){var i=this._createView(e,t);return this.addChildView(i,t),i},_getChildViewOptions:function(e,i){return t.isFunction(this.childViewOptions)?this.childViewOptions(e,i):this.childViewOptions},addChildView:function(e,t){return this.triggerMethod("before:add:child",this,e),this._setupChildView(e,t),this._isBuffering?this.children._add(e):(this._updateIndices(e,!0),this.children.add(e)),T(e),this._attachView(e,t),this.triggerMethod("add:child",this,e),e},_updateIndices:function(e,i){if(this.sort){if(!i)return void t.each(t.sortBy(this.children._views,"_index"),function(e,t){e._index=t});var n=t.isArray(e)?t.max(e,"_index"):e;t.isObject(n)&&t.each(this.children._views,function(e){e._index>=n._index&&(e._index+=1)})}},_attachView:function(e,t){var i=!e._isAttached&&!this._isBuffering&&this._isAttached&&this.monitorViewEvents!==!1;i&&r(e,"before:attach",e),this.attachHtml(this,e,t),i&&(e._isAttached=!0,r(e,"attach",e))},buildChildView:function(e,i,n){var s=t.extend({model:e},n);return new i(s)},removeChildView:function(e){return!e||e._isDestroyed?e:(this._removeChildView(e),this.children._updateLength(),this._updateIndices(e,!1),e)},isEmpty:function(e){var i=void 0;return t.result(e,"processedModels")?i=e.processedModels:(i=this.collection?this.collection.models:[],i=this._filterModels(i)),0===i.length},attachBuffer:function(e,t){this.Dom.appendContents(e.el,t,{_$el:e.$el})},_createBuffer:function(){var e=this,i=this.Dom.createBuffer();return t.each(this._bufferedChildren,function(t){e.Dom.appendContents(i,t.el,{_$contents:t.$el})}),i},attachHtml:function(e,t,i){e._isBuffering?e._bufferedChildren.splice(i,0,t):e._insertBefore(t,i)||e._insertAfter(t)},_insertBefore:function(e,i){var n=void 0,s=this.sort&&i<this.children.length-1;return s&&(n=t.find(this.children._views,function(e){return e._index===i+1})),!!n&&(this.beforeEl(n.el,e.el),!0)},beforeEl:function(e,t){this.$(e).before(t)},_insertAfter:function(e){this.Dom.appendContents(this.el,e.el,{_$el:this.$el,_$contents:e.$el})},_initChildViewStorage:function(){this.children=new Re},_removeChildren:function(){this._destroyChildren()},_destroyChildren:function(e){this.children.length&&(this.triggerMethod("before:destroy:children",this),t.each(this.children._views,t.bind(this._removeChildView,this)),this.children._updateLength(),this.triggerMethod("destroy:children",this))},_shouldAddChild:function(e,i){var n=this.filter;return!t.isFunction(n)||n.call(this,e,i,this.collection)}},{setDomApi:$});t.extend(xe.prototype,ge);var De=function(){this._init()};Me(De.prototype,"_views"),t.extend(De.prototype,{_init:function(){this._views=[],this._viewsByCid={},this._indexByModel={},this._updateLength()},_add:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._views.length,i=e.cid;this._viewsByCid[i]=e,e.model&&(this._indexByModel[e.model.cid]=i),this._views.splice(t,0,e),this._updateLength()},_sort:function(e,i){return"string"==typeof e?(e=t.partial(L,e),this._sortBy(e)):1===e.length?this._sortBy(t.bind(e,i)):this._views.sort(t.bind(e,i))},_sortBy:function(e){var i=t.sortBy(this._views,e);return this._set(i),i},_set:function(e){this._views.length=0,this._views.push.apply(this._views,e.slice(0)),this._updateLength()},_swap:function(e,t){var i=this.findIndexByView(e),n=this.findIndexByView(t);if(i!==-1&&n!==-1){var s=this._views[i];this._views[i]=this._views[n],this._views[n]=s}},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByIndex:function(e){return this._views[e]},findIndexByView:function(e){return this._views.indexOf(e)},findByCid:function(e){return this._viewsByCid[e]},hasView:function(e){return!!this.findByCid(e.cid)},_remove:function(e){if(this._viewsByCid[e.cid]){e.model&&delete this._indexByModel[e.model.cid],delete this._viewsByCid[e.cid];var t=this.findIndexByView(e);this._views.splice(t,1),this._updateLength()}},_updateLength:function(){this.length=this._views.length}});var Ae=["behaviors","childView","childViewEventPrefix","childViewEvents","childViewOptions","childViewTriggers","collectionEvents","emptyView","emptyViewOptions","events","modelEvents","sortWithCollection","triggers","ui","viewComparator","viewFilter"],Oe=e.View.extend({sortWithCollection:!0,constructor:function(t){this._setOptions(t),this.mergeOptions(t,Ae),w(this),this.once("render",this._initialEvents),this._initChildViewStorage(),this._initBehaviors();var i=Array.prototype.slice.call(arguments);i[0]=this.options,e.View.prototype.constructor.apply(this,i),this.getEmptyRegion(),this.delegateEntityEvents(),this._triggerEventOnBehaviors("initialize",this)},_initChildViewStorage:function(){this.children=new De},getEmptyRegion:function(){return this._emptyRegion&&!this._emptyRegion.isDestroyed()?this._emptyRegion:(this._emptyRegion=new me({el:this.el,replaceElement:!1}),this._emptyRegion._parentView=this,this._emptyRegion)},_initialEvents:function(){this.listenTo(this.collection,{sort:this._onCollectionSort,reset:this._onCollectionReset,update:this._onCollectionUpdate})},_onCollectionSort:function(e,t){var i=t.add,n=t.merge,s=t.remove;this.sortWithCollection&&this.viewComparator!==!1&&(i||s||n||this.sort())},_onCollectionReset:function(){this.render()},_onCollectionUpdate:function(e,t){var i=t.changes,n=i.removed.length&&this._removeChildModels(i.removed);this._addedViews=i.added.length&&this._addChildModels(i.added),this._detachChildren(n),this._showChildren(),this._removeChildViews(n)},_removeChildModels:function(e){var i=this;return t.reduce(e,function(e,t){var n=i._removeChildModel(t);return n&&e.push(n),e},[])},_removeChildModel:function(e){var t=this.children.findByModel(e);return t&&this._removeChild(t),t},_removeChild:function(e){this.triggerMethod("before:remove:child",this,e),this.children._remove(e),this.triggerMethod("remove:child",this,e)},_addChildModels:function(e){return t.map(e,t.bind(this._addChildModel,this))},_addChildModel:function(e){var t=this._createChildView(e);return this._addChild(t),t},_createChildView:function(e){var t=this._getChildView(e),i=this._getChildViewOptions(e),n=this.buildChildView(e,t,i);return n},_addChild:function(e,t){this.triggerMethod("before:add:child",this,e),this._setupChildView(e),this.children._add(e,t),this.triggerMethod("add:child",this,e)},_getChildView:function(e){var t=this.childView;if(!t)throw new J({name:"NoChildViewError",message:'A "childView" must be specified'});if(t=this._getView(t,e),!t)throw new J({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return t},_getView:function(i,n){return i.prototype instanceof e.View||i===e.View?i:t.isFunction(i)?i.call(this,n):void 0},_getChildViewOptions:function(e){return t.isFunction(this.childViewOptions)?this.childViewOptions(e):this.childViewOptions},buildChildView:function(e,i,n){var s=t.extend({model:e},n);return new i(s)},_setupChildView:function(e){w(e),e.on("destroy",this.removeChildView,this),this._proxyChildViewEvents(e)},_getImmediateChildren:function(){return this.children._views},setElement:function(){return e.View.prototype.setElement.apply(this,arguments),this._isAttached=H(this.el),this},render:function(){return this._isDestroyed?this:(this.triggerMethod("before:render",this),this._destroyChildren(),this.children._init(),this.collection&&this._addChildModels(this.collection.models),this._showChildren(),this._isRendered=!0,this.triggerMethod("render",this),this)},sort:function(){return this._isDestroyed?this:this.children.length?(this._showChildren(),this):this},_showChildren:function(){return this.isEmpty()?void this._showEmptyView():(this._sortChildren(),void this.filter())},isEmpty:function(e){return e||!this.children.length},_showEmptyView:function(){var e=this._getEmptyView();if(e){var t=this._getEmptyViewOptions(),i=this.getEmptyRegion();i.show(new e(t))}},_getEmptyView:function(){var e=this.emptyView;if(e)return this._getView(e)},_destroyEmptyView:function(){var e=this.getEmptyRegion();e.hasView()&&e.empty()},_getEmptyViewOptions:function(){var e=this.emptyViewOptions||this.childViewOptions;return t.isFunction(e)?e.call(this):e},_sortChildren:function(){var e=this.getComparator();e&&(delete this._addedViews,this.triggerMethod("before:sort",this),this.children._sort(e,this),this.triggerMethod("sort",this))},setComparator:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.preventRender,n=this.viewComparator!==e,s=n&&!i;return this.viewComparator=e,s&&this.sort(),this},removeComparator:function(e){return this.setComparator(null,e)},getComparator:function(){return this.viewComparator?this.viewComparator:!(!this.sortWithCollection||this.viewComparator===!1||!this.collection)&&this._viewComparator},_viewComparator:function(e){return this.collection.indexOf(e.model)},filter:function(){if(this._isDestroyed)return this;if(!this.children.length)return this;var e=this._filterChildren();return this._renderChildren(e),this},_filterChildren:function(){var e=this,i=this._getFilter(),n=this._addedViews;if(delete this._addedViews,!i)return n?n:this.children._views;this.triggerMethod("before:filter",this);var s=[],r=[];return t.each(this.children._views,function(t,n,o){(i.call(e,t,n,o)?s:r).push(t)}),this._detachChildren(r),this.triggerMethod("filter",this,s,r),s},_getFilter:function(){var e=this.getFilter();if(!e)return!1;if(t.isFunction(e))return e;if(t.isObject(e)){var i=t.matches(e);return function(e){return i(e.model&&e.model.attributes)}}if(t.isString(e))return function(t){return t.model&&t.model.get(e)};throw new J({name:"InvalidViewFilterError",message:'"viewFilter" must be a function, predicate object literal, a string indicating a model attribute, or falsy'})},getFilter:function(){return this.viewFilter},setFilter:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.preventRender,n=this.viewFilter!==e,s=n&&!i;return this.viewFilter=e,s&&this.filter(),this},removeFilter:function(e){return this.setFilter(null,e)},_detachChildren:function(e){t.each(e,t.bind(this._detachChildView,this))},_detachChildView:function(e){var t=e._isAttached&&this.monitorViewEvents!==!1;t&&r(e,"before:detach",e),this.detachHtml(e),t&&(e._isAttached=!1,r(e,"detach",e))},detachHtml:function(e){this.Dom.detachEl(e.el,e.$el)},_renderChildren:function(e){if(this.isEmpty(!e.length))return void this._showEmptyView();this._destroyEmptyView(),this.triggerMethod("before:render:children",this,e);var t=this._getBuffer(e);this._attachChildren(t,e),this.triggerMethod("render:children",this,e)},_attachChildren:function(e,i){var n=this._isAttached&&this.monitorViewEvents!==!1;i=n?i:[],t.each(i,function(e){e._isAttached||r(e,"before:attach",e)}),this.attachHtml(e),t.each(i,function(e){e._isAttached||(e._isAttached=!0,r(e,"attach",e))})},_getBuffer:function(e){var i=this,n=this.Dom.createBuffer();return t.each(e,function(e){T(e),i.Dom.appendContents(n,e.el,{_$contents:e.$el})}),n},attachHtml:function(e){this.Dom.appendContents(this.el,e,{_$el:this.$el})},swapChildViews:function(e,t){if(!this.children.hasView(e)||!this.children.hasView(t))throw new J({name:"ChildSwapError",message:"Both views must be children of the collection view"});return this.children._swap(e,t),this.Dom.swapEl(e.el,t.el),this.Dom.hasEl(this.el,e.el)!==this.Dom.hasEl(this.el,t.el)&&this.filter(),this},addChildView:function(e,t){return!e||e._isDestroyed?e:((!t||t>=this.children.length)&&(this._addedViews=[e]),this._addChild(e,t),this._showChildren(),e)},detachChildView:function(e){return this.removeChildView(e,{shouldDetach:!0}),e},removeChildView:function(e,t){return e?(this._removeChildView(e,t),this._removeChild(e),this.isEmpty()&&this._showEmptyView(),e):e},_removeChildViews:function(e){t.each(e,t.bind(this._removeChildView,this))},_removeChildView:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.shouldDetach;e.off("destroy",this.removeChildView,this),i?this._detachChildView(e):this._destroyChildView(e),this.stopListening(e)},_destroyChildView:function(e){e._isDestroyed||(e._shouldDisableEvents=this.monitorViewEvents===!1,U(e))},_removeChildren:function(){this._destroyChildren();var e=this.getEmptyRegion();e.destroy(),delete this._addedViews},_destroyChildren:function(){this.children&&this.children.length&&(this.triggerMethod("before:destroy:children",this),this.monitorViewEvents===!1&&this.Dom.detachContents(this.el,this.$el),t.each(this.children._views,t.bind(this._removeChildView,this)),this.triggerMethod("destroy:children",this))}},{setDomApi:$});t.extend(Oe.prototype,ge);var Ie=["childViewContainer","template","templateContext"],$e=xe.extend({constructor:function(e){N("CompositeView is deprecated. Convert to View at your earliest convenience"),this.mergeOptions(e,Ie),xe.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"update",this._onCollectionUpdate),this.listenTo(this.collection,"reset",this.renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_getChildView:function(e){var t=this.childView;if(!t)return this.constructor;if(t=this._getView(t,e),!t)throw new J({name:"InvalidChildViewError",message:'"childView" must be a view class or a function that returns a view class'});return t},serializeData:function(){return this.serializeModel()},render:function(){return this._isDestroyed?this:(this._isRendering=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderTemplate(),this.bindUIElements(),this.renderChildren(),this._isRendering=!1,this._isRendered=!0,this.triggerMethod("render",this),this)},renderChildren:function(){(this._isRendered||this._isRendering)&&xe.prototype._renderChildren.call(this)},attachBuffer:function(e,t){var i=this.getChildViewContainer(e);this.Dom.appendContents(i[0],t,{_$el:i})},_insertAfter:function(e){var t=this.getChildViewContainer(this,e);this.Dom.appendContents(t[0],e.el,{_$el:t,_$contents:e.$el})},_appendReorderedChildren:function(e){var t=this.getChildViewContainer(this);this.Dom.appendContents(t[0],e,{_$el:t})},getChildViewContainer:function(e,i){if(e.$childViewContainer)return e.$childViewContainer;var n=void 0,s=e.childViewContainer;if(s){var r=t.result(e,"childViewContainer");if(n="@"===r.charAt(0)&&e.ui?e.ui[r.substr(4)]:this.$(r),n.length<=0)throw new J({name:"ChildViewContainerMissingError",message:'The specified "childViewContainer" was not found: '+e.childViewContainer})}else n=e.$el;return e.$childViewContainer=n,n},resetChildViewContainer:function(){this.$childViewContainer&&(this.$childViewContainer=void 0)}}),Te=t.pick(Ee.prototype,"serializeModel","getTemplate","_renderTemplate","_renderHtml","mixinTemplateContext","attachElContent");t.extend($e.prototype,Te);var Ue=["collectionEvents","events","modelEvents","triggers","ui"],Se=ie.extend({cidPrefix:"mnb",constructor:function(e,i){this.view=i,this.defaults&&N("Behavior defaults are deprecated. For similar functionality set options on the Behavior class."),this.defaults=t.clone(t.result(this,"defaults",{})),this._setOptions(t.extend({},this.defaults,e)),this.mergeOptions(this.options,Ue),this.ui=t.extend({},t.result(this,"ui"),t.result(i,"ui")),ie.apply(this,arguments)},$:function(){return this.view.$.apply(this.view,arguments)},destroy:function(){return this.stopListening(),this.view._removeBehavior(this),this},proxyViewProperties:function(){return this.$el=this.view.$el,this.el=this.view.el,this},bindUIElements:function(){return this._bindUIElements(),this},unbindUIElements:function(){return this._unbindUIElements(),this},getUI:function(e){return this._getUI(e)},delegateEntityEvents:function(){return this._delegateEntityEvents(this.view.model,this.view.collection),this},undelegateEntityEvents:function(){return this._undelegateEntityEvents(this.view.model,this.view.collection),this},getEvents:function(){var e=this,i=this.normalizeUIKeys(t.result(this,"events"));return t.reduce(i,function(i,n,s){return t.isFunction(n)||(n=e[n]),n?(s=de(s,e.cid),i[s]=t.bind(n,e),i):i},{})},getTriggers:function(){if(this.triggers){var e=this.normalizeUIKeys(t.result(this,"triggers"));return this._getViewTriggers(this.view,e)}}});t.extend(Se.prototype,oe,ae,_e);var Fe=["region","regionClass"],Le=ie.extend({cidPrefix:"mna",constructor:function(e){this._setOptions(e),this.mergeOptions(e,Fe),this._initRegion(),ie.prototype.constructor.apply(this,arguments)},regionClass:me,_initRegion:function(){var e=this.region;if(e){var t={regionClass:this.regionClass};this._region=we(e,t)}},getRegion:function(){return this._region},showView:function(e){for(var t=this.getRegion(),i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];return t.show.apply(t,[e].concat(n))},getView:function(){return this.getRegion().currentView},start:function(e){return this.triggerMethod("before:start",this,e),this.triggerMethod("start",this,e),this}}),Pe=["appRoutes","controller"],ze=e.Router.extend({constructor:function(t){this._setOptions(t),this.mergeOptions(t,Pe),e.Router.apply(this,arguments);var i=this.appRoutes,n=this._getController();this.processAppRoutes(n,i),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var i=this._getController();return this._addAppRoute(i,e,t),this},_processOnRoute:function(e,i){if(t.isFunction(this.onRoute)){var n=t.invert(this.appRoutes)[e];this.onRoute(e,n,i)}},processAppRoutes:function(e,i){var n=this;if(!i)return this;var s=t.keys(i).reverse();return t.each(s,function(t){n._addAppRoute(e,t,i[t])}),this},_getController:function(){return this.controller},_addAppRoute:function(e,i,n){var s=e[n];if(!s)throw new J('Method "'+n+'" was not found on the controller');this.route(i,n,t.bind(s,e))},triggerMethod:s});t.extend(ze.prototype,X);var ke=e.Marionette,je=e.Marionette={};return je.noConflict=function(){return e.Marionette=ke,this},je.bindEvents=k(V),je.unbindEvents=k(E),je.bindRequests=k(M),je.unbindRequests=k(R),je.mergeOptions=k(q),je.getOption=k(K),je.normalizeMethods=k(W),je.extend=j,je.isNodeAttached=H,je.deprecate=N,je.triggerMethod=k(s),je.triggerMethodOn=r,je.isEnabled=D,je.setEnabled=A,je.monitorViewEvents=w,je.Behaviors={},je.Behaviors.behaviorsLookup=P,je.Application=Le,je.AppRouter=ze,je.Renderer=Ce,je.TemplateCache=ne,je.View=Ee,je.CollectionView=xe,je.NextCollectionView=Oe,je.CompositeView=$e,je.Behavior=Se,je.Region=me,je.Error=J,je.Object=ie,je.DEV_MODE=!1,je.FEATURES=le,je.VERSION=z,je.DomApi=pe,je.setDomApi=function(e){xe.setDomApi(e),$e.setDomApi(e),Oe.setDomApi(e),me.setDomApi(e),Ee.setDomApi(e)},je}),this&&this.Marionette&&(this.Mn=this.Marionette);
},{"backbone":"backbone","backbone.radio":1,"underscore":"underscore"}],"backbone":[function(require,module,exports){
(function (global){
!function(t){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(i,n,s){e.Backbone=t(e,s,i,n)});else if("undefined"!=typeof exports){var i,n=require("underscore");try{i=require("jquery")}catch(s){}t(e,exports,n,i)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(function(t,e,i,n){var s=t.Backbone,r=Array.prototype.slice;e.VERSION="1.3.3",e.$=n,e.noConflict=function(){return t.Backbone=s,this},e.emulateHTTP=!1,e.emulateJSON=!1;var a=function(t,e,n){switch(t){case 1:return function(){return i[e](this[n])};case 2:return function(t){return i[e](this[n],t)};case 3:return function(t,s){return i[e](this[n],h(t,this),s)};case 4:return function(t,s,r){return i[e](this[n],h(t,this),s,r)};default:return function(){var t=r.call(arguments);return t.unshift(this[n]),i[e].apply(i,t)}}},o=function(t,e,n){i.each(e,function(e,s){i[s]&&(t.prototype[s]=a(e,s,n))})},h=function(t,e){return i.isFunction(t)?t:i.isObject(t)&&!e._isModel(t)?u(t):i.isString(t)?function(e){return e.get(t)}:t},u=function(t){var e=i.matches(t);return function(t){return e(t.attributes)}},c=e.Events={},l=/\s+/,d=function(t,e,n,s,r){var a,o=0;if(n&&"object"==typeof n){void 0!==s&&"context"in r&&void 0===r.context&&(r.context=s);for(a=i.keys(n);o<a.length;o++)e=d(t,e,a[o],n[a[o]],r)}else if(n&&l.test(n))for(a=n.split(l);o<a.length;o++)e=t(e,a[o],s,r);else e=t(e,n,s,r);return e};c.on=function(t,e,i){return f(this,t,e,i)};var f=function(t,e,i,n,s){if(t._events=d(g,t._events||{},e,i,{context:n,ctx:t,listening:s}),s){var r=t._listeners||(t._listeners={});r[s.id]=s}return t};c.listenTo=function(t,e,n){if(!t)return this;var s=t._listenId||(t._listenId=i.uniqueId("l")),r=this._listeningTo||(this._listeningTo={}),a=r[s];if(!a){var o=this._listenId||(this._listenId=i.uniqueId("l"));a=r[s]={obj:t,objId:s,id:o,listeningTo:r,count:0}}return f(t,e,n,this,a),this};var g=function(t,e,i,n){if(i){var s=t[e]||(t[e]=[]),r=n.context,a=n.ctx,o=n.listening;o&&o.count++,s.push({callback:i,context:r,ctx:r||a,listening:o})}return t};c.off=function(t,e,i){return this._events?(this._events=d(v,this._events,t,e,{context:i,listeners:this._listeners}),this):this},c.stopListening=function(t,e,n){var s=this._listeningTo;if(!s)return this;for(var r=t?[t._listenId]:i.keys(s),a=0;a<r.length;a++){var o=s[r[a]];if(!o)break;o.obj.off(e,n,this)}return this};var v=function(t,e,n,s){if(t){var r,a=0,o=s.context,h=s.listeners;if(e||n||o){for(var u=e?[e]:i.keys(t);a<u.length;a++){e=u[a];var c=t[e];if(!c)break;for(var l=[],d=0;d<c.length;d++){var f=c[d];n&&n!==f.callback&&n!==f.callback._callback||o&&o!==f.context?l.push(f):(r=f.listening,r&&0===--r.count&&(delete h[r.id],delete r.listeningTo[r.objId]))}l.length?t[e]=l:delete t[e]}return t}for(var g=i.keys(h);a<g.length;a++)r=h[g[a]],delete h[r.id],delete r.listeningTo[r.objId]}};c.once=function(t,e,n){var s=d(p,{},t,e,i.bind(this.off,this));return"string"==typeof t&&null==n&&(e=void 0),this.on(s,e,n)},c.listenToOnce=function(t,e,n){var s=d(p,{},e,n,i.bind(this.stopListening,this,t));return this.listenTo(t,s)};var p=function(t,e,n,s){if(n){var r=t[e]=i.once(function(){s(e,r),n.apply(this,arguments)});r._callback=n}return t};c.trigger=function(t){if(!this._events)return this;for(var e=Math.max(0,arguments.length-1),i=Array(e),n=0;n<e;n++)i[n]=arguments[n+1];return d(m,this._events,t,void 0,i),this};var m=function(t,e,i,n){if(t){var s=t[e],r=t.all;s&&r&&(r=r.slice()),s&&_(s,n),r&&_(r,[e].concat(n))}return t},_=function(t,e){var i,n=-1,s=t.length,r=e[0],a=e[1],o=e[2];switch(e.length){case 0:for(;++n<s;)(i=t[n]).callback.call(i.ctx);return;case 1:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r);return;case 2:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a);return;case 3:for(;++n<s;)(i=t[n]).callback.call(i.ctx,r,a,o);return;default:for(;++n<s;)(i=t[n]).callback.apply(i.ctx,e);return}};c.bind=c.on,c.unbind=c.off,i.extend(e,c);var y=e.Model=function(t,e){var n=t||{};e||(e={}),this.cid=i.uniqueId(this.cidPrefix),this.attributes={},e.collection&&(this.collection=e.collection),e.parse&&(n=this.parse(n,e)||{});var s=i.result(this,"defaults");n=i.defaults(i.extend({},s,n),s),this.set(n,e),this.changed={},this.initialize.apply(this,arguments)};i.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(t){return i.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(t){return this.attributes[t]},escape:function(t){return i.escape(this.get(t))},has:function(t){return null!=this.get(t)},matches:function(t){return!!i.iteratee(t,this)(this.attributes)},set:function(t,e,n){if(null==t)return this;var s;if("object"==typeof t?(s=t,n=e):(s={})[t]=e,n||(n={}),!this._validate(s,n))return!1;var r=n.unset,a=n.silent,o=[],h=this._changing;this._changing=!0,h||(this._previousAttributes=i.clone(this.attributes),this.changed={});var u=this.attributes,c=this.changed,l=this._previousAttributes;for(var d in s)e=s[d],i.isEqual(u[d],e)||o.push(d),i.isEqual(l[d],e)?delete c[d]:c[d]=e,r?delete u[d]:u[d]=e;if(this.idAttribute in s&&(this.id=this.get(this.idAttribute)),!a){o.length&&(this._pending=n);for(var f=0;f<o.length;f++)this.trigger("change:"+o[f],this,u[o[f]],n)}if(h)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(t,e){return this.set(t,void 0,i.extend({},e,{unset:!0}))},clear:function(t){var e={};for(var n in this.attributes)e[n]=void 0;return this.set(e,i.extend({},t,{unset:!0}))},hasChanged:function(t){return null==t?!i.isEmpty(this.changed):i.has(this.changed,t)},changedAttributes:function(t){if(!t)return!!this.hasChanged()&&i.clone(this.changed);var e=this._changing?this._previousAttributes:this.attributes,n={};for(var s in t){var r=t[s];i.isEqual(e[s],r)||(n[s]=r)}return!!i.size(n)&&n},previous:function(t){return null!=t&&this._previousAttributes?this._previousAttributes[t]:null},previousAttributes:function(){return i.clone(this._previousAttributes)},fetch:function(t){t=i.extend({parse:!0},t);var e=this,n=t.success;return t.success=function(i){var s=t.parse?e.parse(i,t):i;return!!e.set(s,t)&&(n&&n.call(t.context,e,i,t),void e.trigger("sync",e,i,t))},B(this,t),this.sync("read",this,t)},save:function(t,e,n){var s;null==t||"object"==typeof t?(s=t,n=e):(s={})[t]=e,n=i.extend({validate:!0,parse:!0},n);var r=n.wait;if(s&&!r){if(!this.set(s,n))return!1}else if(!this._validate(s,n))return!1;var a=this,o=n.success,h=this.attributes;n.success=function(t){a.attributes=h;var e=n.parse?a.parse(t,n):t;return r&&(e=i.extend({},s,e)),!(e&&!a.set(e,n))&&(o&&o.call(n.context,a,t,n),void a.trigger("sync",a,t,n))},B(this,n),s&&r&&(this.attributes=i.extend({},h,s));var u=this.isNew()?"create":n.patch?"patch":"update";"patch"!==u||n.attrs||(n.attrs=s);var c=this.sync(u,this,n);return this.attributes=h,c},destroy:function(t){t=t?i.clone(t):{};var e=this,n=t.success,s=t.wait,r=function(){e.stopListening(),e.trigger("destroy",e,e.collection,t)};t.success=function(i){s&&r(),n&&n.call(t.context,e,i,t),e.isNew()||e.trigger("sync",e,i,t)};var a=!1;return this.isNew()?i.defer(t.success):(B(this,t),a=this.sync("delete",this,t)),s||r(),a},url:function(){var t=i.result(this,"urlRoot")||i.result(this.collection,"url")||F();if(this.isNew())return t;var e=this.get(this.idAttribute);return t.replace(/[^\/]$/,"$&/")+encodeURIComponent(e)},parse:function(t,e){return t},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(t){return this._validate({},i.extend({},t,{validate:!0}))},_validate:function(t,e){if(!e.validate||!this.validate)return!0;t=i.extend({},this.attributes,t);var n=this.validationError=this.validate(t,e)||null;return!n||(this.trigger("invalid",this,n,i.extend(e,{validationError:n})),!1)}});var b={keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1};o(y,b,"attributes");var x=e.Collection=function(t,e){e||(e={}),e.model&&(this.model=e.model),void 0!==e.comparator&&(this.comparator=e.comparator),this._reset(),this.initialize.apply(this,arguments),t&&this.reset(t,i.extend({silent:!0},e))},w={add:!0,remove:!0,merge:!0},E={add:!0,remove:!1},I=function(t,e,i){i=Math.min(Math.max(i,0),t.length);var n,s=Array(t.length-i),r=e.length;for(n=0;n<s.length;n++)s[n]=t[n+i];for(n=0;n<r;n++)t[n+i]=e[n];for(n=0;n<s.length;n++)t[n+r+i]=s[n]};i.extend(x.prototype,c,{model:y,initialize:function(){},toJSON:function(t){return this.map(function(e){return e.toJSON(t)})},sync:function(){return e.sync.apply(this,arguments)},add:function(t,e){return this.set(t,i.extend({merge:!1},e,E))},remove:function(t,e){e=i.extend({},e);var n=!i.isArray(t);t=n?[t]:t.slice();var s=this._removeModels(t,e);return!e.silent&&s.length&&(e.changes={added:[],merged:[],removed:s},this.trigger("update",this,e)),n?s[0]:s},set:function(t,e){if(null!=t){e=i.extend({},w,e),e.parse&&!this._isModel(t)&&(t=this.parse(t,e)||[]);var n=!i.isArray(t);t=n?[t]:t.slice();var s=e.at;null!=s&&(s=+s),s>this.length&&(s=this.length),s<0&&(s+=this.length+1);var r,a,o=[],h=[],u=[],c=[],l={},d=e.add,f=e.merge,g=e.remove,v=!1,p=this.comparator&&null==s&&e.sort!==!1,m=i.isString(this.comparator)?this.comparator:null;for(a=0;a<t.length;a++){r=t[a];var _=this.get(r);if(_){if(f&&r!==_){var y=this._isModel(r)?r.attributes:r;e.parse&&(y=_.parse(y,e)),_.set(y,e),u.push(_),p&&!v&&(v=_.hasChanged(m))}l[_.cid]||(l[_.cid]=!0,o.push(_)),t[a]=_}else d&&(r=t[a]=this._prepareModel(r,e),r&&(h.push(r),this._addReference(r,e),l[r.cid]=!0,o.push(r)))}if(g){for(a=0;a<this.length;a++)r=this.models[a],l[r.cid]||c.push(r);c.length&&this._removeModels(c,e)}var b=!1,x=!p&&d&&g;if(o.length&&x?(b=this.length!==o.length||i.some(this.models,function(t,e){return t!==o[e]}),this.models.length=0,I(this.models,o,0),this.length=this.models.length):h.length&&(p&&(v=!0),I(this.models,h,null==s?this.length:s),this.length=this.models.length),v&&this.sort({silent:!0}),!e.silent){for(a=0;a<h.length;a++)null!=s&&(e.index=s+a),r=h[a],r.trigger("add",r,this,e);(v||b)&&this.trigger("sort",this,e),(h.length||c.length||u.length)&&(e.changes={added:h,removed:c,merged:u},this.trigger("update",this,e))}return n?t[0]:t}},reset:function(t,e){e=e?i.clone(e):{};for(var n=0;n<this.models.length;n++)this._removeReference(this.models[n],e);return e.previousModels=this.models,this._reset(),t=this.add(t,i.extend({silent:!0},e)),e.silent||this.trigger("reset",this,e),t},push:function(t,e){return this.add(t,i.extend({at:this.length},e))},pop:function(t){var e=this.at(this.length-1);return this.remove(e,t)},unshift:function(t,e){return this.add(t,i.extend({at:0},e))},shift:function(t){var e=this.at(0);return this.remove(e,t)},slice:function(){return r.apply(this.models,arguments)},get:function(t){if(null!=t)return this._byId[t]||this._byId[this.modelId(t.attributes||t)]||t.cid&&this._byId[t.cid]},has:function(t){return null!=this.get(t)},at:function(t){return t<0&&(t+=this.length),this.models[t]},where:function(t,e){return this[e?"find":"filter"](t)},findWhere:function(t){return this.where(t,!0)},sort:function(t){var e=this.comparator;if(!e)throw new Error("Cannot sort a set without a comparator");t||(t={});var n=e.length;return i.isFunction(e)&&(e=i.bind(e,this)),1===n||i.isString(e)?this.models=this.sortBy(e):this.models.sort(e),t.silent||this.trigger("sort",this,t),this},pluck:function(t){return this.map(t+"")},fetch:function(t){t=i.extend({parse:!0},t);var e=t.success,n=this;return t.success=function(i){var s=t.reset?"reset":"set";n[s](i,t),e&&e.call(t.context,n,i,t),n.trigger("sync",n,i,t)},B(this,t),this.sync("read",this,t)},create:function(t,e){e=e?i.clone(e):{};var n=e.wait;if(t=this._prepareModel(t,e),!t)return!1;n||this.add(t,e);var s=this,r=e.success;return e.success=function(t,e,i){n&&s.add(t,i),r&&r.call(i.context,t,e,i)},t.save(null,e),t},parse:function(t,e){return t},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(t){return t[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(t,e){if(this._isModel(t))return t.collection||(t.collection=this),t;e=e?i.clone(e):{},e.collection=this;var n=new this.model(t,e);return n.validationError?(this.trigger("invalid",this,n.validationError,e),!1):n},_removeModels:function(t,e){for(var i=[],n=0;n<t.length;n++){var s=this.get(t[n]);if(s){var r=this.indexOf(s);this.models.splice(r,1),this.length--,delete this._byId[s.cid];var a=this.modelId(s.attributes);null!=a&&delete this._byId[a],e.silent||(e.index=r,s.trigger("remove",s,this,e)),i.push(s),this._removeReference(s,e)}}return i},_isModel:function(t){return t instanceof y},_addReference:function(t,e){this._byId[t.cid]=t;var i=this.modelId(t.attributes);null!=i&&(this._byId[i]=t),t.on("all",this._onModelEvent,this)},_removeReference:function(t,e){delete this._byId[t.cid];var i=this.modelId(t.attributes);null!=i&&delete this._byId[i],this===t.collection&&delete t.collection,t.off("all",this._onModelEvent,this)},_onModelEvent:function(t,e,i,n){if(e){if(("add"===t||"remove"===t)&&i!==this)return;if("destroy"===t&&this.remove(e,n),"change"===t){var s=this.modelId(e.previousAttributes()),r=this.modelId(e.attributes);s!==r&&(null!=s&&delete this._byId[s],null!=r&&(this._byId[r]=e))}}this.trigger.apply(this,arguments)}});var S={forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3};o(x,S,"models");var k=e.View=function(t){this.cid=i.uniqueId("view"),i.extend(this,i.pick(t,P)),this._ensureElement(),this.initialize.apply(this,arguments)},T=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];i.extend(k.prototype,c,{tagName:"div",$:function(t){return this.$el.find(t)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(t){return this.undelegateEvents(),this._setElement(t),this.delegateEvents(),this},_setElement:function(t){this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0]},delegateEvents:function(t){if(t||(t=i.result(this,"events")),!t)return this;this.undelegateEvents();for(var e in t){var n=t[e];if(i.isFunction(n)||(n=this[n]),n){var s=e.match(T);this.delegate(s[1],s[2],i.bind(n,this))}}return this},delegate:function(t,e,i){return this.$el.on(t+".delegateEvents"+this.cid,e,i),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(t,e,i){return this.$el.off(t+".delegateEvents"+this.cid,e,i),this},_createElement:function(t){return document.createElement(t)},_ensureElement:function(){if(this.el)this.setElement(i.result(this,"el"));else{var t=i.extend({},i.result(this,"attributes"));this.id&&(t.id=i.result(this,"id")),this.className&&(t["class"]=i.result(this,"className")),this.setElement(this._createElement(i.result(this,"tagName"))),this._setAttributes(t)}},_setAttributes:function(t){this.$el.attr(t)}}),e.sync=function(t,n,s){var r=H[t];i.defaults(s||(s={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var a={type:r,dataType:"json"};if(s.url||(a.url=i.result(n,"url")||F()),null!=s.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(a.contentType="application/json",a.data=JSON.stringify(s.attrs||n.toJSON(s))),s.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),s.emulateHTTP&&("PUT"===r||"DELETE"===r||"PATCH"===r)){a.type="POST",s.emulateJSON&&(a.data._method=r);var o=s.beforeSend;s.beforeSend=function(t){if(t.setRequestHeader("X-HTTP-Method-Override",r),o)return o.apply(this,arguments)}}"GET"===a.type||s.emulateJSON||(a.processData=!1);var h=s.error;s.error=function(t,e,i){s.textStatus=e,s.errorThrown=i,h&&h.call(s.context,t,e,i)};var u=s.xhr=e.ajax(i.extend(a,s));return n.trigger("request",n,u,s),u};var H={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var $=e.Router=function(t){t||(t={}),t.routes&&(this.routes=t.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,C=/(\(\?)?:\w+/g,R=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g;i.extend($.prototype,c,{initialize:function(){},route:function(t,n,s){i.isRegExp(t)||(t=this._routeToRegExp(t)),i.isFunction(n)&&(s=n,n=""),s||(s=this[n]);var r=this;return e.history.route(t,function(i){var a=r._extractParameters(t,i);r.execute(s,a,n)!==!1&&(r.trigger.apply(r,["route:"+n].concat(a)),r.trigger("route",n,a),e.history.trigger("route",r,n,a))}),this},execute:function(t,e,i){t&&t.apply(this,e)},navigate:function(t,i){return e.history.navigate(t,i),this},_bindRoutes:function(){if(this.routes){this.routes=i.result(this,"routes");for(var t,e=i.keys(this.routes);null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(t){return t=t.replace(j,"\\$&").replace(A,"(?:$1)?").replace(C,function(t,e){return e?t:"([^/?]+)"}).replace(R,"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(t,e){var n=t.exec(e).slice(1);return i.map(n,function(t,e){return e===n.length-1?t||null:t?decodeURIComponent(t):null})}});var N=e.History=function(){this.handlers=[],this.checkUrl=i.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,O=/^\/+|\/+$/g,U=/#.*$/;N.started=!1,i.extend(N.prototype,c,{interval:50,atRoot:function(){var t=this.location.pathname.replace(/[^\/]$/,"$&/");return t===this.root&&!this.getSearch()},matchRoot:function(){var t=this.decodeFragment(this.location.pathname),e=t.slice(0,this.root.length-1)+"/";return e===this.root},decodeFragment:function(t){return decodeURI(t.replace(/%25/g,"%2525"))},getSearch:function(){var t=this.location.href.replace(/#.*/,"").match(/\?.+/);return t?t[0]:""},getHash:function(t){var e=(t||this).location.href.match(/#(.*)$/);return e?e[1]:""},getPath:function(){var t=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===t.charAt(0)?t.slice(1):t},getFragment:function(t){return null==t&&(t=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),t.replace(M,"")},start:function(t){if(N.started)throw new Error("Backbone.history has already been started");if(N.started=!0,this.options=i.extend({root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(O,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var e=this.root.slice(0,-1)||"/";return this.location.replace(e+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var n=document.body,s=n.insertBefore(this.iframe,n.firstChild).contentWindow;s.document.open(),s.document.close(),s.location.hash="#"+this.fragment}var r=window.addEventListener||function(t,e){return attachEvent("on"+t,e)};if(this._usePushState?r("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?r("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var t=window.removeEventListener||function(t,e){return detachEvent("on"+t,e)};this._usePushState?t("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&t("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),N.started=!1},route:function(t,e){this.handlers.unshift({route:t,callback:e})},checkUrl:function(t){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(t){return!!this.matchRoot()&&(t=this.fragment=this.getFragment(t),i.some(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0}))},navigate:function(t,e){if(!N.started)return!1;e&&e!==!0||(e={trigger:!!e}),t=this.getFragment(t||"");var i=this.root;""!==t&&"?"!==t.charAt(0)||(i=i.slice(0,-1)||"/");var n=i+t;if(t=this.decodeFragment(t.replace(U,"")),this.fragment!==t){if(this.fragment=t,this._usePushState)this.history[e.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);if(this._updateHash(this.location,t,e.replace),this.iframe&&t!==this.getHash(this.iframe.contentWindow)){var s=this.iframe.contentWindow;e.replace||(s.document.open(),s.document.close()),this._updateHash(s.location,t,e.replace)}}return e.trigger?this.loadUrl(t):void 0}},_updateHash:function(t,e,i){if(i){var n=t.href.replace(/(javascript:|#).*$/,"");t.replace(n+"#"+e)}else t.hash="#"+e}}),e.history=new N;var q=function(t,e){var n,s=this;return n=t&&i.has(t,"constructor")?t.constructor:function(){return s.apply(this,arguments)},i.extend(n,s,e),n.prototype=i.create(s.prototype,t),n.prototype.constructor=n,n.__super__=s.prototype,n};y.extend=x.extend=$.extend=k.extend=N.extend=q;var F=function(){throw new Error('A "url" property or function must be specified')},B=function(t,e){var i=e.error;e.error=function(n){i&&i.call(e.context,t,n,e),t.trigger("error",t,n,e)}};return e});
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"jquery":"jquery","underscore":"underscore"}],"bootstrap":[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):(t=t||self,e(t.bootstrap={},t.jQuery,t.Popper))}(this,function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function o(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function l(t){return{}.toString.call(t).match(/\s([a-z]+)/i)[1].toLowerCase()}function c(){return{bindType:_,delegateType:_,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}}}function h(t){var n=this,i=!1;return e(this).one(p.TRANSITION_END,function(){i=!0}),setTimeout(function(){i||p.triggerTransitionEnd(n)},t),this}function u(){e.fn.emulateTransitionEnd=h,e.event.special[p.TRANSITION_END]=c()}function f(t,e){var n=t.nodeName.toLowerCase();if(e.indexOf(n)!==-1)return Yt.indexOf(n)===-1||Boolean(t.nodeValue.match($t)||t.nodeValue.match(Jt));for(var i=e.filter(function(t){return t instanceof RegExp}),o=0,r=i.length;o<r;o++)if(n.match(i[o]))return!0;return!1}function d(t,e,n){if(0===t.length)return t;if(n&&"function"==typeof n)return n(t);for(var i=new window.DOMParser,o=i.parseFromString(t,"text/html"),r=Object.keys(e),s=[].slice.call(o.body.querySelectorAll("*")),a=function(t,n){var i=s[t],o=i.nodeName.toLowerCase();if(r.indexOf(i.nodeName.toLowerCase())===-1)return i.parentNode.removeChild(i),"continue";var a=[].slice.call(i.attributes),l=[].concat(e["*"]||[],e[o]||[]);a.forEach(function(t){f(t,l)||i.removeAttribute(t.nodeName)})},l=0,c=s.length;l<c;l++){a(l,c)}return o.body.innerHTML}e=e&&e.hasOwnProperty("default")?e["default"]:e,n=n&&n.hasOwnProperty("default")?n["default"]:n;var _="transitionend",g=1e6,m=1e3,p={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do t+=~~(Math.random()*g);while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var n=t.getAttribute("href");e=n&&"#"!==n?n.trim():""}try{return document.querySelector(e)?e:null}catch(i){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var n=e(t).css("transition-duration"),i=e(t).css("transition-delay"),o=parseFloat(n),r=parseFloat(i);return o||r?(n=n.split(",")[0],i=i.split(",")[0],(parseFloat(n)+parseFloat(i))*m):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger(_)},supportsTransitionEnd:function(){return Boolean(_)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,n){for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var o=n[i],r=e[i],s=r&&p.isElement(r)?"element":l(r);if(!new RegExp(o).test(s))throw new Error(t.toUpperCase()+": "+('Option "'+i+'" provided type "'+s+'" ')+('but expected type "'+o+'".'))}},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?p.findShadowRoot(t.parentNode):null}};u();var E="alert",v="4.3.1",T="bs.alert",S="."+T,I=".data-api",A=e.fn[E],C={DISMISS:'[data-dismiss="alert"]'},y={CLOSE:"close"+S,CLOSED:"closed"+S,CLICK_DATA_API:"click"+S+I},O={ALERT:"alert",FADE:"fade",SHOW:"show"},D=function(){function t(t){this._element=t}var n=t.prototype;return n.close=function(t){var e=this._element;t&&(e=this._getRootElement(t));var n=this._triggerCloseEvent(e);n.isDefaultPrevented()||this._removeElement(e)},n.dispose=function(){e.removeData(this._element,T),this._element=null},n._getRootElement=function(t){var n=p.getSelectorFromElement(t),i=!1;return n&&(i=document.querySelector(n)),i||(i=e(t).closest("."+O.ALERT)[0]),i},n._triggerCloseEvent=function(t){var n=e.Event(y.CLOSE);return e(t).trigger(n),n},n._removeElement=function(t){var n=this;if(e(t).removeClass(O.SHOW),!e(t).hasClass(O.FADE))return void this._destroyElement(t);var i=p.getTransitionDurationFromElement(t);e(t).one(p.TRANSITION_END,function(e){return n._destroyElement(t,e)}).emulateTransitionEnd(i)},n._destroyElement=function(t){e(t).detach().trigger(y.CLOSED).remove()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),o=i.data(T);o||(o=new t(this),i.data(T,o)),"close"===n&&o[n](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},o(t,null,[{key:"VERSION",get:function(){return v}}]),t}();e(document).on(y.CLICK_DATA_API,C.DISMISS,D._handleDismiss(new D)),e.fn[E]=D._jQueryInterface,e.fn[E].Constructor=D,e.fn[E].noConflict=function(){return e.fn[E]=A,D._jQueryInterface};var N="button",b="4.3.1",w="bs.button",L="."+w,P=".data-api",R=e.fn[N],H={ACTIVE:"active",BUTTON:"btn",FOCUS:"focus"},W={DATA_TOGGLE_CARROT:'[data-toggle^="button"]',DATA_TOGGLE:'[data-toggle="buttons"]',INPUT:'input:not([type="hidden"])',ACTIVE:".active",BUTTON:".btn"},k={CLICK_DATA_API:"click"+L+P,FOCUS_BLUR_DATA_API:"focus"+L+P+" "+("blur"+L+P)},F=function(){function t(t){this._element=t}var n=t.prototype;return n.toggle=function(){var t=!0,n=!0,i=e(this._element).closest(W.DATA_TOGGLE)[0];if(i){var o=this._element.querySelector(W.INPUT);if(o){if("radio"===o.type)if(o.checked&&this._element.classList.contains(H.ACTIVE))t=!1;else{var r=i.querySelector(W.ACTIVE);r&&e(r).removeClass(H.ACTIVE)}if(t){if(o.hasAttribute("disabled")||i.hasAttribute("disabled")||o.classList.contains("disabled")||i.classList.contains("disabled"))return;o.checked=!this._element.classList.contains(H.ACTIVE),e(o).trigger("change")}o.focus(),n=!1}}n&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(H.ACTIVE)),t&&e(this._element).toggleClass(H.ACTIVE)},n.dispose=function(){e.removeData(this._element,w),this._element=null},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data(w);i||(i=new t(this),e(this).data(w,i)),"toggle"===n&&i[n]()})},o(t,null,[{key:"VERSION",get:function(){return b}}]),t}();e(document).on(k.CLICK_DATA_API,W.DATA_TOGGLE_CARROT,function(t){t.preventDefault();var n=t.target;e(n).hasClass(H.BUTTON)||(n=e(n).closest(W.BUTTON)),F._jQueryInterface.call(e(n),"toggle")}).on(k.FOCUS_BLUR_DATA_API,W.DATA_TOGGLE_CARROT,function(t){var n=e(t.target).closest(W.BUTTON)[0];e(n).toggleClass(H.FOCUS,/^focus(in)?$/.test(t.type))}),e.fn[N]=F._jQueryInterface,e.fn[N].Constructor=F,e.fn[N].noConflict=function(){return e.fn[N]=R,F._jQueryInterface};var V="carousel",U="4.3.1",M="bs.carousel",j="."+M,G=".data-api",B=e.fn[V],x=37,K=39,q=500,Q=40,Y={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},X={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},z={NEXT:"next",PREV:"prev",LEFT:"left",RIGHT:"right"},$={SLIDE:"slide"+j,SLID:"slid"+j,KEYDOWN:"keydown"+j,MOUSEENTER:"mouseenter"+j,MOUSELEAVE:"mouseleave"+j,TOUCHSTART:"touchstart"+j,TOUCHMOVE:"touchmove"+j,TOUCHEND:"touchend"+j,POINTERDOWN:"pointerdown"+j,POINTERUP:"pointerup"+j,DRAG_START:"dragstart"+j,LOAD_DATA_API:"load"+j+G,CLICK_DATA_API:"click"+j+G},J={CAROUSEL:"carousel",ACTIVE:"active",SLIDE:"slide",RIGHT:"carousel-item-right",LEFT:"carousel-item-left",NEXT:"carousel-item-next",PREV:"carousel-item-prev",ITEM:"carousel-item",POINTER_EVENT:"pointer-event"},Z={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},tt={TOUCH:"touch",PEN:"pen"},et=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(Z.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var n=t.prototype;return n.next=function(){this._isSliding||this._slide(z.NEXT)},n.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide(z.PREV)},n.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(Z.NEXT_PREV)&&(p.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},n.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(t){var n=this;this._activeElement=this._element.querySelector(Z.ACTIVE_ITEM);var i=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0)){if(this._isSliding)return void e(this._element).one($.SLID,function(){return n.to(t)});if(i===t)return this.pause(),void this.cycle();var o=t>i?z.NEXT:z.PREV;this._slide(o,this._items[t])}},n.dispose=function(){e(this._element).off(j),e.removeData(this._element,M),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},n._getConfig=function(t){return t=s({},Y,t),p.typeCheckConfig(V,t,X),t},n._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=Q)){var e=t/this.touchDeltaX;e>0&&this.prev(),e<0&&this.next()}},n._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on($.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&e(this._element).on($.MOUSEENTER,function(e){return t.pause(e)}).on($.MOUSELEAVE,function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var n=function(e){t._pointerEvent&&tt[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},i=function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX},o=function(e){t._pointerEvent&&tt[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},q+t._config.interval))};e(this._element.querySelectorAll(Z.ITEM_IMG)).on($.DRAG_START,function(t){return t.preventDefault()}),this._pointerEvent?(e(this._element).on($.POINTERDOWN,function(t){return n(t)}),e(this._element).on($.POINTERUP,function(t){return o(t)}),this._element.classList.add(J.POINTER_EVENT)):(e(this._element).on($.TOUCHSTART,function(t){return n(t)}),e(this._element).on($.TOUCHMOVE,function(t){return i(t)}),e(this._element).on($.TOUCHEND,function(t){return o(t)}))}},n._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case x:t.preventDefault(),this.prev();break;case K:t.preventDefault(),this.next()}},n._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(Z.ITEM)):[],this._items.indexOf(t)},n._getItemByDirection=function(t,e){var n=t===z.NEXT,i=t===z.PREV,o=this._getItemIndex(e),r=this._items.length-1,s=i&&0===o||n&&o===r;if(s&&!this._config.wrap)return e;var a=t===z.PREV?-1:1,l=(o+a)%this._items.length;return l===-1?this._items[this._items.length-1]:this._items[l]},n._triggerSlideEvent=function(t,n){var i=this._getItemIndex(t),o=this._getItemIndex(this._element.querySelector(Z.ACTIVE_ITEM)),r=e.Event($.SLIDE,{relatedTarget:t,direction:n,from:o,to:i});return e(this._element).trigger(r),r},n._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var n=[].slice.call(this._indicatorsElement.querySelectorAll(Z.ACTIVE));e(n).removeClass(J.ACTIVE);var i=this._indicatorsElement.children[this._getItemIndex(t)];i&&e(i).addClass(J.ACTIVE)}},n._slide=function(t,n){var i,o,r,s=this,a=this._element.querySelector(Z.ACTIVE_ITEM),l=this._getItemIndex(a),c=n||a&&this._getItemByDirection(t,a),h=this._getItemIndex(c),u=Boolean(this._interval);if(t===z.NEXT?(i=J.LEFT,o=J.NEXT,r=z.LEFT):(i=J.RIGHT,o=J.PREV,r=z.RIGHT),c&&e(c).hasClass(J.ACTIVE))return void(this._isSliding=!1);var f=this._triggerSlideEvent(c,r);if(!f.isDefaultPrevented()&&a&&c){this._isSliding=!0,u&&this.pause(),this._setActiveIndicatorElement(c);var d=e.Event($.SLID,{relatedTarget:c,direction:r,from:l,to:h});if(e(this._element).hasClass(J.SLIDE)){e(c).addClass(o),p.reflow(c),e(a).addClass(i),e(c).addClass(i);var _=parseInt(c.getAttribute("data-interval"),10);_?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=_):this._config.interval=this._config.defaultInterval||this._config.interval;var g=p.getTransitionDurationFromElement(a);e(a).one(p.TRANSITION_END,function(){e(c).removeClass(i+" "+o).addClass(J.ACTIVE),e(a).removeClass(J.ACTIVE+" "+o+" "+i),s._isSliding=!1,setTimeout(function(){return e(s._element).trigger(d)},0)}).emulateTransitionEnd(g)}else e(a).removeClass(J.ACTIVE),e(c).addClass(J.ACTIVE),this._isSliding=!1,e(this._element).trigger(d);u&&this.cycle()}},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data(M),o=s({},Y,e(this).data());"object"==typeof n&&(o=s({},o,n));var r="string"==typeof n?n:o.slide;if(i||(i=new t(this,o),e(this).data(M,i)),"number"==typeof n)i.to(n);else if("string"==typeof r){if("undefined"==typeof i[r])throw new TypeError('No method named "'+r+'"');i[r]()}else o.interval&&o.ride&&(i.pause(),i.cycle())})},t._dataApiClickHandler=function(n){var i=p.getSelectorFromElement(this);if(i){var o=e(i)[0];if(o&&e(o).hasClass(J.CAROUSEL)){var r=s({},e(o).data(),e(this).data()),a=this.getAttribute("data-slide-to");a&&(r.interval=!1),t._jQueryInterface.call(e(o),r),a&&e(o).data(M).to(a),n.preventDefault()}}},o(t,null,[{key:"VERSION",get:function(){return U}},{key:"Default",get:function(){return Y}}]),t}();e(document).on($.CLICK_DATA_API,Z.DATA_SLIDE,et._dataApiClickHandler),e(window).on($.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(Z.DATA_RIDE)),n=0,i=t.length;n<i;n++){var o=e(t[n]);et._jQueryInterface.call(o,o.data())}}),e.fn[V]=et._jQueryInterface,e.fn[V].Constructor=et,e.fn[V].noConflict=function(){return e.fn[V]=B,et._jQueryInterface};var nt="collapse",it="4.3.1",ot="bs.collapse",rt="."+ot,st=".data-api",at=e.fn[nt],lt={toggle:!0,parent:""},ct={toggle:"boolean",parent:"(string|element)"},ht={SHOW:"show"+rt,SHOWN:"shown"+rt,HIDE:"hide"+rt,HIDDEN:"hidden"+rt,CLICK_DATA_API:"click"+rt+st},ut={SHOW:"show",COLLAPSE:"collapse",COLLAPSING:"collapsing",COLLAPSED:"collapsed"},ft={WIDTH:"width",HEIGHT:"height"},dt={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},_t=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],'+('[data-toggle="collapse"][data-target="#'+t.id+'"]')));for(var n=[].slice.call(document.querySelectorAll(dt.DATA_TOGGLE)),i=0,o=n.length;i<o;i++){var r=n[i],s=p.getSelectorFromElement(r),a=[].slice.call(document.querySelectorAll(s)).filter(function(e){return e===t});null!==s&&a.length>0&&(this._selector=s,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var n=t.prototype;return n.toggle=function(){e(this._element).hasClass(ut.SHOW)?this.hide():this.show()},n.show=function(){var n=this;if(!this._isTransitioning&&!e(this._element).hasClass(ut.SHOW)){var i,o;if(this._parent&&(i=[].slice.call(this._parent.querySelectorAll(dt.ACTIVES)).filter(function(t){return"string"==typeof n._config.parent?t.getAttribute("data-parent")===n._config.parent:t.classList.contains(ut.COLLAPSE)}),0===i.length&&(i=null)),!(i&&(o=e(i).not(this._selector).data(ot),o&&o._isTransitioning))){var r=e.Event(ht.SHOW);if(e(this._element).trigger(r),!r.isDefaultPrevented()){i&&(t._jQueryInterface.call(e(i).not(this._selector),"hide"),o||e(i).data(ot,null));var s=this._getDimension();e(this._element).removeClass(ut.COLLAPSE).addClass(ut.COLLAPSING),this._element.style[s]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(ut.COLLAPSED).attr("aria-expanded",!0),this.setTransitioning(!0);var a=function(){e(n._element).removeClass(ut.COLLAPSING).addClass(ut.COLLAPSE).addClass(ut.SHOW),n._element.style[s]="",n.setTransitioning(!1),e(n._element).trigger(ht.SHOWN)},l=s[0].toUpperCase()+s.slice(1),c="scroll"+l,h=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,a).emulateTransitionEnd(h),this._element.style[s]=this._element[c]+"px"}}}},n.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(ut.SHOW)){var n=e.Event(ht.HIDE);if(e(this._element).trigger(n),!n.isDefaultPrevented()){var i=this._getDimension();this._element.style[i]=this._element.getBoundingClientRect()[i]+"px",p.reflow(this._element),e(this._element).addClass(ut.COLLAPSING).removeClass(ut.COLLAPSE).removeClass(ut.SHOW);var o=this._triggerArray.length;if(o>0)for(var r=0;r<o;r++){var s=this._triggerArray[r],a=p.getSelectorFromElement(s);if(null!==a){var l=e([].slice.call(document.querySelectorAll(a)));l.hasClass(ut.SHOW)||e(s).addClass(ut.COLLAPSED).attr("aria-expanded",!1)}}this.setTransitioning(!0);var c=function(){t.setTransitioning(!1),e(t._element).removeClass(ut.COLLAPSING).addClass(ut.COLLAPSE).trigger(ht.HIDDEN)};this._element.style[i]="";var h=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,c).emulateTransitionEnd(h)}}},n.setTransitioning=function(t){this._isTransitioning=t},n.dispose=function(){e.removeData(this._element,ot),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},n._getConfig=function(t){return t=s({},lt,t),t.toggle=Boolean(t.toggle),p.typeCheckConfig(nt,t,ct),t},n._getDimension=function(){var t=e(this._element).hasClass(ft.WIDTH);return t?ft.WIDTH:ft.HEIGHT},n._getParent=function(){var n,i=this;p.isElement(this._config.parent)?(n=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent);var o='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',r=[].slice.call(n.querySelectorAll(o));return e(r).each(function(e,n){i._addAriaAndCollapsedClass(t._getTargetFromElement(n),[n])}),n},n._addAriaAndCollapsedClass=function(t,n){var i=e(t).hasClass(ut.SHOW);n.length&&e(n).toggleClass(ut.COLLAPSED,!i).attr("aria-expanded",i)},t._getTargetFromElement=function(t){var e=p.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),o=i.data(ot),r=s({},lt,i.data(),"object"==typeof n&&n?n:{});if(!o&&r.toggle&&/show|hide/.test(n)&&(r.toggle=!1),o||(o=new t(this,r),i.data(ot,o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n]()}})},o(t,null,[{key:"VERSION",get:function(){return it}},{key:"Default",get:function(){return lt}}]),t}();e(document).on(ht.CLICK_DATA_API,dt.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var n=e(this),i=p.getSelectorFromElement(this),o=[].slice.call(document.querySelectorAll(i));e(o).each(function(){var t=e(this),i=t.data(ot),o=i?"toggle":n.data();_t._jQueryInterface.call(t,o)})}),e.fn[nt]=_t._jQueryInterface,e.fn[nt].Constructor=_t,e.fn[nt].noConflict=function(){return e.fn[nt]=at,_t._jQueryInterface};var gt="dropdown",mt="4.3.1",pt="bs.dropdown",Et="."+pt,vt=".data-api",Tt=e.fn[gt],St=27,It=32,At=9,Ct=38,yt=40,Ot=3,Dt=new RegExp(Ct+"|"+yt+"|"+St),Nt={HIDE:"hide"+Et,HIDDEN:"hidden"+Et,SHOW:"show"+Et,SHOWN:"shown"+Et,CLICK:"click"+Et,CLICK_DATA_API:"click"+Et+vt,KEYDOWN_DATA_API:"keydown"+Et+vt,KEYUP_DATA_API:"keyup"+Et+vt},bt={DISABLED:"disabled",SHOW:"show",DROPUP:"dropup",DROPRIGHT:"dropright",DROPLEFT:"dropleft",MENURIGHT:"dropdown-menu-right",MENULEFT:"dropdown-menu-left",POSITION_STATIC:"position-static"},wt={DATA_TOGGLE:'[data-toggle="dropdown"]',FORM_CHILD:".dropdown form",MENU:".dropdown-menu",NAVBAR_NAV:".navbar-nav",VISIBLE_ITEMS:".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)"},Lt={TOP:"top-start",TOPEND:"top-end",BOTTOM:"bottom-start",BOTTOMEND:"bottom-end",RIGHT:"right-start",RIGHTEND:"right-end",LEFT:"left-start",LEFTEND:"left-end"},Pt={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Rt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},Ht=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var i=t.prototype;return i.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(bt.DISABLED)){var i=t._getParentFromElement(this._element),o=e(this._menu).hasClass(bt.SHOW);if(t._clearMenus(),!o){var r={relatedTarget:this._element},s=e.Event(Nt.SHOW,r);if(e(i).trigger(s),!s.isDefaultPrevented()){if(!this._inNavbar){if("undefined"==typeof n)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var a=this._element;"parent"===this._config.reference?a=i:p.isElement(this._config.reference)&&(a=this._config.reference,"undefined"!=typeof this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(i).addClass(bt.POSITION_STATIC),this._popper=new n(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(i).closest(wt.NAVBAR_NAV).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(bt.SHOW),e(i).toggleClass(bt.SHOW).trigger(e.Event(Nt.SHOWN,r))}}}},i.show=function(){if(!(this._element.disabled||e(this._element).hasClass(bt.DISABLED)||e(this._menu).hasClass(bt.SHOW))){var n={relatedTarget:this._element},i=e.Event(Nt.SHOW,n),o=t._getParentFromElement(this._element);e(o).trigger(i),i.isDefaultPrevented()||(e(this._menu).toggleClass(bt.SHOW),e(o).toggleClass(bt.SHOW).trigger(e.Event(Nt.SHOWN,n)))}},i.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass(bt.DISABLED)&&e(this._menu).hasClass(bt.SHOW)){var n={relatedTarget:this._element},i=e.Event(Nt.HIDE,n),o=t._getParentFromElement(this._element);e(o).trigger(i),i.isDefaultPrevented()||(e(this._menu).toggleClass(bt.SHOW),e(o).toggleClass(bt.SHOW).trigger(e.Event(Nt.HIDDEN,n)))}},i.dispose=function(){e.removeData(this._element,pt),e(this._element).off(Et),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},i.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},i._addEventListeners=function(){var t=this;e(this._element).on(Nt.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},i._getConfig=function(t){return t=s({},this.constructor.Default,e(this._element).data(),t),p.typeCheckConfig(gt,t,this.constructor.DefaultType),t},i._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(wt.MENU))}return this._menu},i._getPlacement=function(){var t=e(this._element.parentNode),n=Lt.BOTTOM;return t.hasClass(bt.DROPUP)?(n=Lt.TOP,e(this._menu).hasClass(bt.MENURIGHT)&&(n=Lt.TOPEND)):t.hasClass(bt.DROPRIGHT)?n=Lt.RIGHT:t.hasClass(bt.DROPLEFT)?n=Lt.LEFT:e(this._menu).hasClass(bt.MENURIGHT)&&(n=Lt.BOTTOMEND),n},i._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},i._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},i._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),t},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data(pt),o="object"==typeof n?n:null;if(i||(i=new t(this,o),e(this).data(pt,i)),"string"==typeof n){if("undefined"==typeof i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},t._clearMenus=function(n){if(!n||n.which!==Ot&&("keyup"!==n.type||n.which===At))for(var i=[].slice.call(document.querySelectorAll(wt.DATA_TOGGLE)),o=0,r=i.length;o<r;o++){var s=t._getParentFromElement(i[o]),a=e(i[o]).data(pt),l={relatedTarget:i[o]};if(n&&"click"===n.type&&(l.clickEvent=n),a){var c=a._menu;if(e(s).hasClass(bt.SHOW)&&!(n&&("click"===n.type&&/input|textarea/i.test(n.target.tagName)||"keyup"===n.type&&n.which===At)&&e.contains(s,n.target))){var h=e.Event(Nt.HIDE,l);e(s).trigger(h),h.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),i[o].setAttribute("aria-expanded","false"),e(c).removeClass(bt.SHOW),e(s).removeClass(bt.SHOW).trigger(e.Event(Nt.HIDDEN,l)))}}}},t._getParentFromElement=function(t){var e,n=p.getSelectorFromElement(t);return n&&(e=document.querySelector(n)),e||t.parentNode},t._dataApiKeydownHandler=function(n){if((/input|textarea/i.test(n.target.tagName)?!(n.which===It||n.which!==St&&(n.which!==yt&&n.which!==Ct||e(n.target).closest(wt.MENU).length)):Dt.test(n.which))&&(n.preventDefault(),n.stopPropagation(),!this.disabled&&!e(this).hasClass(bt.DISABLED))){var i=t._getParentFromElement(this),o=e(i).hasClass(bt.SHOW);if(!o||o&&(n.which===St||n.which===It)){if(n.which===St){var r=i.querySelector(wt.DATA_TOGGLE);e(r).trigger("focus")}return void e(this).trigger("click")}var s=[].slice.call(i.querySelectorAll(wt.VISIBLE_ITEMS));if(0!==s.length){var a=s.indexOf(n.target);n.which===Ct&&a>0&&a--,n.which===yt&&a<s.length-1&&a++,a<0&&(a=0),s[a].focus()}}},o(t,null,[{key:"VERSION",get:function(){return mt}},{key:"Default",get:function(){return Pt}},{key:"DefaultType",get:function(){return Rt}}]),t}();e(document).on(Nt.KEYDOWN_DATA_API,wt.DATA_TOGGLE,Ht._dataApiKeydownHandler).on(Nt.KEYDOWN_DATA_API,wt.MENU,Ht._dataApiKeydownHandler).on(Nt.CLICK_DATA_API+" "+Nt.KEYUP_DATA_API,Ht._clearMenus).on(Nt.CLICK_DATA_API,wt.DATA_TOGGLE,function(t){t.preventDefault(),t.stopPropagation(),Ht._jQueryInterface.call(e(this),"toggle")}).on(Nt.CLICK_DATA_API,wt.FORM_CHILD,function(t){t.stopPropagation()}),e.fn[gt]=Ht._jQueryInterface,e.fn[gt].Constructor=Ht,e.fn[gt].noConflict=function(){return e.fn[gt]=Tt,Ht._jQueryInterface};var Wt="modal",kt="4.3.1",Ft="bs.modal",Vt="."+Ft,Ut=".data-api",Mt=e.fn[Wt],jt=27,Gt={backdrop:!0,keyboard:!0,focus:!0,show:!0},Bt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},xt={HIDE:"hide"+Vt,HIDDEN:"hidden"+Vt,SHOW:"show"+Vt,SHOWN:"shown"+Vt,FOCUSIN:"focusin"+Vt,RESIZE:"resize"+Vt,CLICK_DISMISS:"click.dismiss"+Vt,KEYDOWN_DISMISS:"keydown.dismiss"+Vt,MOUSEUP_DISMISS:"mouseup.dismiss"+Vt,MOUSEDOWN_DISMISS:"mousedown.dismiss"+Vt,CLICK_DATA_API:"click"+Vt+Ut},Kt={SCROLLABLE:"modal-dialog-scrollable",SCROLLBAR_MEASURER:"modal-scrollbar-measure",BACKDROP:"modal-backdrop",OPEN:"modal-open",FADE:"fade",SHOW:"show"},qt={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},Qt=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(qt.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var n=t.prototype;return n.toggle=function(t){return this._isShown?this.hide():this.show(t)},n.show=function(t){var n=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass(Kt.FADE)&&(this._isTransitioning=!0);var i=e.Event(xt.SHOW,{relatedTarget:t});e(this._element).trigger(i),this._isShown||i.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(xt.CLICK_DISMISS,qt.DATA_DISMISS,function(t){return n.hide(t)}),e(this._dialog).on(xt.MOUSEDOWN_DISMISS,function(){e(n._element).one(xt.MOUSEUP_DISMISS,function(t){e(t.target).is(n._element)&&(n._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return n._showElement(t)}))}},n.hide=function(t){var n=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var i=e.Event(xt.HIDE);if(e(this._element).trigger(i),this._isShown&&!i.isDefaultPrevented()){this._isShown=!1;var o=e(this._element).hasClass(Kt.FADE);if(o&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(xt.FOCUSIN),e(this._element).removeClass(Kt.SHOW),e(this._element).off(xt.CLICK_DISMISS),e(this._dialog).off(xt.MOUSEDOWN_DISMISS),o){var r=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,function(t){return n._hideModal(t)}).emulateTransitionEnd(r)}else this._hideModal()}}},n.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return e(t).off(Vt)}),e(document).off(xt.FOCUSIN),e.removeData(this._element,Ft),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(t){return t=s({},Gt,t),p.typeCheckConfig(Wt,t,Bt),t},n._showElement=function(t){var n=this,i=e(this._element).hasClass(Kt.FADE);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass(Kt.SCROLLABLE)?this._dialog.querySelector(qt.MODAL_BODY).scrollTop=0:this._element.scrollTop=0,i&&p.reflow(this._element),e(this._element).addClass(Kt.SHOW),this._config.focus&&this._enforceFocus();var o=e.Event(xt.SHOWN,{relatedTarget:t}),r=function(){n._config.focus&&n._element.focus(),n._isTransitioning=!1,e(n._element).trigger(o)};if(i){var s=p.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(p.TRANSITION_END,r).emulateTransitionEnd(s)}else r()},n._enforceFocus=function(){var t=this;e(document).off(xt.FOCUSIN).on(xt.FOCUSIN,function(n){document!==n.target&&t._element!==n.target&&0===e(t._element).has(n.target).length&&t._element.focus()})},n._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(xt.KEYDOWN_DISMISS,function(e){
e.which===jt&&(e.preventDefault(),t.hide())}):this._isShown||e(this._element).off(xt.KEYDOWN_DISMISS)},n._setResizeEvent=function(){var t=this;this._isShown?e(window).on(xt.RESIZE,function(e){return t.handleUpdate(e)}):e(window).off(xt.RESIZE)},n._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){e(document.body).removeClass(Kt.OPEN),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(xt.HIDDEN)})},n._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(t){var n=this,i=e(this._element).hasClass(Kt.FADE)?Kt.FADE:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=Kt.BACKDROP,i&&this._backdrop.classList.add(i),e(this._backdrop).appendTo(document.body),e(this._element).on(xt.CLICK_DISMISS,function(t){return n._ignoreBackdropClick?void(n._ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"===n._config.backdrop?n._element.focus():n.hide()))}),i&&p.reflow(this._backdrop),e(this._backdrop).addClass(Kt.SHOW),!t)return;if(!i)return void t();var o=p.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(p.TRANSITION_END,t).emulateTransitionEnd(o)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(Kt.SHOW);var r=function(){n._removeBackdrop(),t&&t()};if(e(this._element).hasClass(Kt.FADE)){var s=p.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(p.TRANSITION_END,r).emulateTransitionEnd(s)}else r()}else t&&t()},n._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},n._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var n=[].slice.call(document.querySelectorAll(qt.FIXED_CONTENT)),i=[].slice.call(document.querySelectorAll(qt.STICKY_CONTENT));e(n).each(function(n,i){var o=i.style.paddingRight,r=e(i).css("padding-right");e(i).data("padding-right",o).css("padding-right",parseFloat(r)+t._scrollbarWidth+"px")}),e(i).each(function(n,i){var o=i.style.marginRight,r=e(i).css("margin-right");e(i).data("margin-right",o).css("margin-right",parseFloat(r)-t._scrollbarWidth+"px")});var o=document.body.style.paddingRight,r=e(document.body).css("padding-right");e(document.body).data("padding-right",o).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}e(document.body).addClass(Kt.OPEN)},n._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(qt.FIXED_CONTENT));e(t).each(function(t,n){var i=e(n).data("padding-right");e(n).removeData("padding-right"),n.style.paddingRight=i?i:""});var n=[].slice.call(document.querySelectorAll(""+qt.STICKY_CONTENT));e(n).each(function(t,n){var i=e(n).data("margin-right");"undefined"!=typeof i&&e(n).css("margin-right",i).removeData("margin-right")});var i=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=i?i:""},n._getScrollbarWidth=function(){var t=document.createElement("div");t.className=Kt.SCROLLBAR_MEASURER,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(n,i){return this.each(function(){var o=e(this).data(Ft),r=s({},Gt,e(this).data(),"object"==typeof n&&n?n:{});if(o||(o=new t(this,r),e(this).data(Ft,o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n](i)}else r.show&&o.show(i)})},o(t,null,[{key:"VERSION",get:function(){return kt}},{key:"Default",get:function(){return Gt}}]),t}();e(document).on(xt.CLICK_DATA_API,qt.DATA_TOGGLE,function(t){var n,i=this,o=p.getSelectorFromElement(this);o&&(n=document.querySelector(o));var r=e(n).data(Ft)?"toggle":s({},e(n).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=e(n).one(xt.SHOW,function(t){t.isDefaultPrevented()||a.one(xt.HIDDEN,function(){e(i).is(":visible")&&i.focus()})});Qt._jQueryInterface.call(e(n),r,this)}),e.fn[Wt]=Qt._jQueryInterface,e.fn[Wt].Constructor=Qt,e.fn[Wt].noConflict=function(){return e.fn[Wt]=Mt,Qt._jQueryInterface};var Yt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Xt=/^aria-[\w-]*$/i,zt={"*":["class","dir","id","lang","role",Xt],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},$t=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Jt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+/]+=*$/i,Zt="tooltip",te="4.3.1",ee="bs.tooltip",ne="."+ee,ie=e.fn[Zt],oe="bs-tooltip",re=new RegExp("(^|\\s)"+oe+"\\S+","g"),se=["sanitize","whiteList","sanitizeFn"],ae={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},le={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},ce={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:zt},he={SHOW:"show",OUT:"out"},ue={HIDE:"hide"+ne,HIDDEN:"hidden"+ne,SHOW:"show"+ne,SHOWN:"shown"+ne,INSERTED:"inserted"+ne,CLICK:"click"+ne,FOCUSIN:"focusin"+ne,FOCUSOUT:"focusout"+ne,MOUSEENTER:"mouseenter"+ne,MOUSELEAVE:"mouseleave"+ne},fe={FADE:"fade",SHOW:"show"},de={TOOLTIP:".tooltip",TOOLTIP_INNER:".tooltip-inner",ARROW:".arrow"},_e={HOVER:"hover",FOCUS:"focus",CLICK:"click",MANUAL:"manual"},ge=function(){function t(t,e){if("undefined"==typeof n)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var i=t.prototype;return i.enable=function(){this._isEnabled=!0},i.disable=function(){this._isEnabled=!1},i.toggleEnabled=function(){this._isEnabled=!this._isEnabled},i.toggle=function(t){if(this._isEnabled)if(t){var n=this.constructor.DATA_KEY,i=e(t.currentTarget).data(n);i||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),i._activeTrigger.click=!i._activeTrigger.click,i._isWithActiveTrigger()?i._enter(null,i):i._leave(null,i)}else{if(e(this.getTipElement()).hasClass(fe.SHOW))return void this._leave(null,this);this._enter(null,this)}},i.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},i.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var i=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(i);var o=p.findShadowRoot(this.element),r=e.contains(null!==o?o:this.element.ownerDocument.documentElement,this.element);if(i.isDefaultPrevented()||!r)return;var s=this.getTipElement(),a=p.getUID(this.constructor.NAME);s.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&e(s).addClass(fe.FADE);var l="function"==typeof this.config.placement?this.config.placement.call(this,s,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);var h=this._getContainer();e(s).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(s).appendTo(h),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new n(this.element,s,{placement:c,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:de.ARROW},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),e(s).addClass(fe.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var u=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),n===he.OUT&&t._leave(null,t)};if(e(this.tip).hasClass(fe.FADE)){var f=p.getTransitionDurationFromElement(this.tip);e(this.tip).one(p.TRANSITION_END,u).emulateTransitionEnd(f)}else u()}},i.hide=function(t){var n=this,i=this.getTipElement(),o=e.Event(this.constructor.Event.HIDE),r=function(){n._hoverState!==he.SHOW&&i.parentNode&&i.parentNode.removeChild(i),n._cleanTipClass(),n.element.removeAttribute("aria-describedby"),e(n.element).trigger(n.constructor.Event.HIDDEN),null!==n._popper&&n._popper.destroy(),t&&t()};if(e(this.element).trigger(o),!o.isDefaultPrevented()){if(e(i).removeClass(fe.SHOW),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[_e.CLICK]=!1,this._activeTrigger[_e.FOCUS]=!1,this._activeTrigger[_e.HOVER]=!1,e(this.tip).hasClass(fe.FADE)){var s=p.getTransitionDurationFromElement(i);e(i).one(p.TRANSITION_END,r).emulateTransitionEnd(s)}else r();this._hoverState=""}},i.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},i.isWithContent=function(){return Boolean(this.getTitle())},i.addAttachmentClass=function(t){e(this.getTipElement()).addClass(oe+"-"+t)},i.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},i.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(de.TOOLTIP_INNER)),this.getTitle()),e(t).removeClass(fe.FADE+" "+fe.SHOW)},i.setElementContent=function(t,n){return"object"==typeof n&&(n.nodeType||n.jquery)?void(this.config.html?e(n).parent().is(t)||t.empty().append(n):t.text(e(n).text())):void(this.config.html?(this.config.sanitize&&(n=d(n,this.config.whiteList,this.config.sanitizeFn)),t.html(n)):t.text(n))},i.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},i._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=s({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},i._getContainer=function(){return this.config.container===!1?document.body:p.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},i._getAttachment=function(t){return le[t.toUpperCase()]},i._setListeners=function(){var t=this,n=this.config.trigger.split(" ");n.forEach(function(n){if("click"===n)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(n!==_e.MANUAL){var i=n===_e.HOVER?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,o=n===_e.HOVER?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(i,t.config.selector,function(e){return t._enter(e)}).on(o,t.config.selector,function(e){return t._leave(e)})}}),e(this.element).closest(".modal").on("hide.bs.modal",function(){t.element&&t.hide()}),this.config.selector?this.config=s({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},i._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},i._enter=function(t,n){var i=this.constructor.DATA_KEY;return n=n||e(t.currentTarget).data(i),n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusin"===t.type?_e.FOCUS:_e.HOVER]=!0),e(n.getTipElement()).hasClass(fe.SHOW)||n._hoverState===he.SHOW?void(n._hoverState=he.SHOW):(clearTimeout(n._timeout),n._hoverState=he.SHOW,n.config.delay&&n.config.delay.show?void(n._timeout=setTimeout(function(){n._hoverState===he.SHOW&&n.show()},n.config.delay.show)):void n.show())},i._leave=function(t,n){var i=this.constructor.DATA_KEY;if(n=n||e(t.currentTarget).data(i),n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),t&&(n._activeTrigger["focusout"===t.type?_e.FOCUS:_e.HOVER]=!1),!n._isWithActiveTrigger())return clearTimeout(n._timeout),n._hoverState=he.OUT,n.config.delay&&n.config.delay.hide?void(n._timeout=setTimeout(function(){n._hoverState===he.OUT&&n.hide()},n.config.delay.hide)):void n.hide()},i._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},i._getConfig=function(t){var n=e(this.element).data();return Object.keys(n).forEach(function(t){se.indexOf(t)!==-1&&delete n[t]}),t=s({},this.constructor.Default,n,"object"==typeof t&&t?t:{}),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),p.typeCheckConfig(Zt,t,this.constructor.DefaultType),t.sanitize&&(t.template=d(t.template,t.whiteList,t.sanitizeFn)),t},i._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},i._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(re);null!==n&&n.length&&t.removeClass(n.join(""))},i._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},i._fixTransition=function(){var t=this.getTipElement(),n=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(fe.FADE),this.config.animation=!1,this.hide(),this.show(),this.config.animation=n)},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data(ee),o="object"==typeof n&&n;if((i||!/dispose|hide/.test(n))&&(i||(i=new t(this,o),e(this).data(ee,i)),"string"==typeof n)){if("undefined"==typeof i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},o(t,null,[{key:"VERSION",get:function(){return te}},{key:"Default",get:function(){return ce}},{key:"NAME",get:function(){return Zt}},{key:"DATA_KEY",get:function(){return ee}},{key:"Event",get:function(){return ue}},{key:"EVENT_KEY",get:function(){return ne}},{key:"DefaultType",get:function(){return ae}}]),t}();e.fn[Zt]=ge._jQueryInterface,e.fn[Zt].Constructor=ge,e.fn[Zt].noConflict=function(){return e.fn[Zt]=ie,ge._jQueryInterface};var me="popover",pe="4.3.1",Ee="bs.popover",ve="."+Ee,Te=e.fn[me],Se="bs-popover",Ie=new RegExp("(^|\\s)"+Se+"\\S+","g"),Ae=s({},ge.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),Ce=s({},ge.DefaultType,{content:"(string|element|function)"}),ye={FADE:"fade",SHOW:"show"},Oe={TITLE:".popover-header",CONTENT:".popover-body"},De={HIDE:"hide"+ve,HIDDEN:"hidden"+ve,SHOW:"show"+ve,SHOWN:"shown"+ve,INSERTED:"inserted"+ve,CLICK:"click"+ve,FOCUSIN:"focusin"+ve,FOCUSOUT:"focusout"+ve,MOUSEENTER:"mouseenter"+ve,MOUSELEAVE:"mouseleave"+ve},Ne=function(t){function n(){return t.apply(this,arguments)||this}a(n,t);var i=n.prototype;return i.isWithContent=function(){return this.getTitle()||this._getContent()},i.addAttachmentClass=function(t){e(this.getTipElement()).addClass(Se+"-"+t)},i.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},i.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(Oe.TITLE),this.getTitle());var n=this._getContent();"function"==typeof n&&(n=n.call(this.element)),this.setElementContent(t.find(Oe.CONTENT),n),t.removeClass(ye.FADE+" "+ye.SHOW)},i._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},i._cleanTipClass=function(){var t=e(this.getTipElement()),n=t.attr("class").match(Ie);null!==n&&n.length>0&&t.removeClass(n.join(""))},n._jQueryInterface=function(t){return this.each(function(){var i=e(this).data(Ee),o="object"==typeof t?t:null;if((i||!/dispose|hide/.test(t))&&(i||(i=new n(this,o),e(this).data(Ee,i)),"string"==typeof t)){if("undefined"==typeof i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},o(n,null,[{key:"VERSION",get:function(){return pe}},{key:"Default",get:function(){return Ae}},{key:"NAME",get:function(){return me}},{key:"DATA_KEY",get:function(){return Ee}},{key:"Event",get:function(){return De}},{key:"EVENT_KEY",get:function(){return ve}},{key:"DefaultType",get:function(){return Ce}}]),n}(ge);e.fn[me]=Ne._jQueryInterface,e.fn[me].Constructor=Ne,e.fn[me].noConflict=function(){return e.fn[me]=Te,Ne._jQueryInterface};var be="scrollspy",we="4.3.1",Le="bs.scrollspy",Pe="."+Le,Re=".data-api",He=e.fn[be],We={offset:10,method:"auto",target:""},ke={offset:"number",method:"string",target:"(string|element)"},Fe={ACTIVATE:"activate"+Pe,SCROLL:"scroll"+Pe,LOAD_DATA_API:"load"+Pe+Re},Ve={DROPDOWN_ITEM:"dropdown-item",DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active"},Ue={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},Me={OFFSET:"offset",POSITION:"position"},je=function(){function t(t,n){var i=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(n),this._selector=this._config.target+" "+Ue.NAV_LINKS+","+(this._config.target+" "+Ue.LIST_ITEMS+",")+(this._config.target+" "+Ue.DROPDOWN_ITEMS),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(Fe.SCROLL,function(t){return i._process(t)}),this.refresh(),this._process()}var n=t.prototype;return n.refresh=function(){var t=this,n=this._scrollElement===this._scrollElement.window?Me.OFFSET:Me.POSITION,i="auto"===this._config.method?n:this._config.method,o=i===Me.POSITION?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight();var r=[].slice.call(document.querySelectorAll(this._selector));r.map(function(t){var n,r=p.getSelectorFromElement(t);if(r&&(n=document.querySelector(r)),n){var s=n.getBoundingClientRect();if(s.width||s.height)return[e(n)[i]().top+o,r]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},n.dispose=function(){e.removeData(this._element,Le),e(this._scrollElement).off(Pe),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},n._getConfig=function(t){if(t=s({},We,"object"==typeof t&&t?t:{}),"string"!=typeof t.target){var n=e(t.target).attr("id");n||(n=p.getUID(be),e(t.target).attr("id",n)),t.target="#"+n}return p.typeCheckConfig(be,t,ke),t},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){var i=this._targets[this._targets.length-1];return void(this._activeTarget!==i&&this._activate(i))}if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var o=this._offsets.length,r=o;r--;){var s=this._activeTarget!==this._targets[r]&&t>=this._offsets[r]&&("undefined"==typeof this._offsets[r+1]||t<this._offsets[r+1]);s&&this._activate(this._targets[r])}},n._activate=function(t){this._activeTarget=t,this._clear();var n=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),i=e([].slice.call(document.querySelectorAll(n.join(","))));i.hasClass(Ve.DROPDOWN_ITEM)?(i.closest(Ue.DROPDOWN).find(Ue.DROPDOWN_TOGGLE).addClass(Ve.ACTIVE),i.addClass(Ve.ACTIVE)):(i.addClass(Ve.ACTIVE),i.parents(Ue.NAV_LIST_GROUP).prev(Ue.NAV_LINKS+", "+Ue.LIST_ITEMS).addClass(Ve.ACTIVE),i.parents(Ue.NAV_LIST_GROUP).prev(Ue.NAV_ITEMS).children(Ue.NAV_LINKS).addClass(Ve.ACTIVE)),e(this._scrollElement).trigger(Fe.ACTIVATE,{relatedTarget:t})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(Ve.ACTIVE)}).forEach(function(t){return t.classList.remove(Ve.ACTIVE)})},t._jQueryInterface=function(n){return this.each(function(){var i=e(this).data(Le),o="object"==typeof n&&n;if(i||(i=new t(this,o),e(this).data(Le,i)),"string"==typeof n){if("undefined"==typeof i[n])throw new TypeError('No method named "'+n+'"');i[n]()}})},o(t,null,[{key:"VERSION",get:function(){return we}},{key:"Default",get:function(){return We}}]),t}();e(window).on(Fe.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(Ue.DATA_SPY)),n=t.length,i=n;i--;){var o=e(t[i]);je._jQueryInterface.call(o,o.data())}}),e.fn[be]=je._jQueryInterface,e.fn[be].Constructor=je,e.fn[be].noConflict=function(){return e.fn[be]=He,je._jQueryInterface};var Ge="tab",Be="4.3.1",xe="bs.tab",Ke="."+xe,qe=".data-api",Qe=e.fn[Ge],Ye={HIDE:"hide"+Ke,HIDDEN:"hidden"+Ke,SHOW:"show"+Ke,SHOWN:"shown"+Ke,CLICK_DATA_API:"click"+Ke+qe},Xe={DROPDOWN_MENU:"dropdown-menu",ACTIVE:"active",DISABLED:"disabled",FADE:"fade",SHOW:"show"},ze={DROPDOWN:".dropdown",NAV_LIST_GROUP:".nav, .list-group",ACTIVE:".active",ACTIVE_UL:"> li > .active",DATA_TOGGLE:'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',DROPDOWN_TOGGLE:".dropdown-toggle",DROPDOWN_ACTIVE_CHILD:"> .dropdown-menu .active"},$e=function(){function t(t){this._element=t}var n=t.prototype;return n.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(Xe.ACTIVE)||e(this._element).hasClass(Xe.DISABLED))){var n,i,o=e(this._element).closest(ze.NAV_LIST_GROUP)[0],r=p.getSelectorFromElement(this._element);if(o){var s="UL"===o.nodeName||"OL"===o.nodeName?ze.ACTIVE_UL:ze.ACTIVE;i=e.makeArray(e(o).find(s)),i=i[i.length-1]}var a=e.Event(Ye.HIDE,{relatedTarget:this._element}),l=e.Event(Ye.SHOW,{relatedTarget:i});if(i&&e(i).trigger(a),e(this._element).trigger(l),!l.isDefaultPrevented()&&!a.isDefaultPrevented()){r&&(n=document.querySelector(r)),this._activate(this._element,o);var c=function(){var n=e.Event(Ye.HIDDEN,{relatedTarget:t._element}),o=e.Event(Ye.SHOWN,{relatedTarget:i});e(i).trigger(n),e(t._element).trigger(o)};n?this._activate(n,n.parentNode,c):c()}}},n.dispose=function(){e.removeData(this._element,xe),this._element=null},n._activate=function(t,n,i){var o=this,r=!n||"UL"!==n.nodeName&&"OL"!==n.nodeName?e(n).children(ze.ACTIVE):e(n).find(ze.ACTIVE_UL),s=r[0],a=i&&s&&e(s).hasClass(Xe.FADE),l=function(){return o._transitionComplete(t,s,i)};if(s&&a){var c=p.getTransitionDurationFromElement(s);e(s).removeClass(Xe.SHOW).one(p.TRANSITION_END,l).emulateTransitionEnd(c)}else l()},n._transitionComplete=function(t,n,i){if(n){e(n).removeClass(Xe.ACTIVE);var o=e(n.parentNode).find(ze.DROPDOWN_ACTIVE_CHILD)[0];o&&e(o).removeClass(Xe.ACTIVE),"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!1)}if(e(t).addClass(Xe.ACTIVE),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),p.reflow(t),t.classList.contains(Xe.FADE)&&t.classList.add(Xe.SHOW),t.parentNode&&e(t.parentNode).hasClass(Xe.DROPDOWN_MENU)){var r=e(t).closest(ze.DROPDOWN)[0];if(r){var s=[].slice.call(r.querySelectorAll(ze.DROPDOWN_TOGGLE));e(s).addClass(Xe.ACTIVE)}t.setAttribute("aria-expanded",!0)}i&&i()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),o=i.data(xe);if(o||(o=new t(this),i.data(xe,o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n]()}})},o(t,null,[{key:"VERSION",get:function(){return Be}}]),t}();e(document).on(Ye.CLICK_DATA_API,ze.DATA_TOGGLE,function(t){t.preventDefault(),$e._jQueryInterface.call(e(this),"show")}),e.fn[Ge]=$e._jQueryInterface,e.fn[Ge].Constructor=$e,e.fn[Ge].noConflict=function(){return e.fn[Ge]=Qe,$e._jQueryInterface};var Je="toast",Ze="4.3.1",tn="bs.toast",en="."+tn,nn=e.fn[Je],on={CLICK_DISMISS:"click.dismiss"+en,HIDE:"hide"+en,HIDDEN:"hidden"+en,SHOW:"show"+en,SHOWN:"shown"+en},rn={FADE:"fade",HIDE:"hide",SHOW:"show",SHOWING:"showing"},sn={animation:"boolean",autohide:"boolean",delay:"number"},an={animation:!0,autohide:!0,delay:500},ln={DATA_DISMISS:'[data-dismiss="toast"]'},cn=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var n=t.prototype;return n.show=function(){var t=this;e(this._element).trigger(on.SHOW),this._config.animation&&this._element.classList.add(rn.FADE);var n=function(){t._element.classList.remove(rn.SHOWING),t._element.classList.add(rn.SHOW),e(t._element).trigger(on.SHOWN),t._config.autohide&&t.hide()};if(this._element.classList.remove(rn.HIDE),this._element.classList.add(rn.SHOWING),this._config.animation){var i=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},n.hide=function(t){var n=this;this._element.classList.contains(rn.SHOW)&&(e(this._element).trigger(on.HIDE),t?this._close():this._timeout=setTimeout(function(){n._close()},this._config.delay))},n.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(rn.SHOW)&&this._element.classList.remove(rn.SHOW),e(this._element).off(on.CLICK_DISMISS),e.removeData(this._element,tn),this._element=null,this._config=null},n._getConfig=function(t){return t=s({},an,e(this._element).data(),"object"==typeof t&&t?t:{}),p.typeCheckConfig(Je,t,this.constructor.DefaultType),t},n._setListeners=function(){var t=this;e(this._element).on(on.CLICK_DISMISS,ln.DATA_DISMISS,function(){return t.hide(!0)})},n._close=function(){var t=this,n=function(){t._element.classList.add(rn.HIDE),e(t._element).trigger(on.HIDDEN)};if(this._element.classList.remove(rn.SHOW),this._config.animation){var i=p.getTransitionDurationFromElement(this._element);e(this._element).one(p.TRANSITION_END,n).emulateTransitionEnd(i)}else n()},t._jQueryInterface=function(n){return this.each(function(){var i=e(this),o=i.data(tn),r="object"==typeof n&&n;if(o||(o=new t(this,r),i.data(tn,o)),"string"==typeof n){if("undefined"==typeof o[n])throw new TypeError('No method named "'+n+'"');o[n](this)}})},o(t,null,[{key:"VERSION",get:function(){return Ze}},{key:"DefaultType",get:function(){return sn}},{key:"Default",get:function(){return an}}]),t}();e.fn[Je]=cn._jQueryInterface,e.fn[Je].Constructor=cn,e.fn[Je].noConflict=function(){return e.fn[Je]=nn,cn._jQueryInterface},function(){if("undefined"==typeof e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split("."),n=1,i=2,o=9,r=1,s=4;if(t[0]<i&&t[1]<o||t[0]===n&&t[1]===o&&t[2]<r||t[0]>=s)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),t.Util=p,t.Alert=D,t.Button=F,t.Carousel=et,t.Collapse=_t,t.Dropdown=Ht,t.Modal=Qt,t.Popover=Ne,t.Scrollspy=je,t.Tab=$e,t.Toast=cn,t.Tooltip=ge,Object.defineProperty(t,"__esModule",{value:!0})});
},{"jquery":"jquery","popper.js":2}],"chart.js":[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(function(){try{return require("moment")}catch(t){}}()):"function"==typeof define&&define.amd?define(["require"],function(t){return e(function(){try{return t("moment")}catch(e){}}())}):(t=t||self,t.Chart=e(t.moment))}(this,function(t){"use strict";function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}function n(t){return t&&t["default"]||t}function i(){for(var t={},e=Object.keys(Ke),n=e.length,i=0;i<n;i++)t[e[i]]={distance:-1,parent:null};return t}function a(t){var e=i(),n=[t];for(e[t].distance=0;n.length;)for(var a=n.pop(),r=Object.keys(Ke[a]),o=r.length,l=0;l<o;l++){var s=r[l],u=e[s];u.distance===-1&&(u.distance=e[a].distance+1,u.parent=a,n.unshift(s))}return e}function r(t,e){return function(n){return e(t(n))}}function o(t,e){for(var n=[e[t].parent,t],i=Ke[e[t].parent][t],a=e[t].parent;e[a].parent;)n.unshift(e[a].parent),i=r(Ke[e[a].parent][a],i),a=e[a].parent;return i.conversion=n,i}function l(t){var e=function(e){return void 0===e||null===e?e:(arguments.length>1&&(e=Array.prototype.slice.call(arguments)),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}function s(t){var e=function(e){if(void 0===e||null===e)return e;arguments.length>1&&(e=Array.prototype.slice.call(arguments));var n=t(e);if("object"==typeof n)for(var i=n.length,a=0;a<i;a++)n[a]=Math.round(n[a]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}function u(t){if(t){var e=/^#([a-fA-F0-9]{3,4})$/i,n=/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i,i=/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,a=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i,r=/(\w+)/,o=[0,0,0],l=1,s=t.match(e),u="";if(s){s=s[1],u=s[3];for(var d=0;d<o.length;d++)o[d]=parseInt(s[d]+s[d],16);u&&(l=Math.round(parseInt(u+u,16)/255*100)/100)}else if(s=t.match(n)){u=s[2],s=s[1];for(var d=0;d<o.length;d++)o[d]=parseInt(s.slice(2*d,2*d+2),16);u&&(l=Math.round(parseInt(u,16)/255*100)/100)}else if(s=t.match(i)){for(var d=0;d<o.length;d++)o[d]=parseInt(s[d+1]);l=parseFloat(s[4])}else if(s=t.match(a)){for(var d=0;d<o.length;d++)o[d]=Math.round(2.55*parseFloat(s[d+1]));l=parseFloat(s[4])}else if(s=t.match(r)){if("transparent"==s[1])return[0,0,0,0];if(o=tn[s[1]],!o)return}for(var d=0;d<o.length;d++)o[d]=M(o[d],0,255);return l=l||0==l?M(l,0,1):1,o[3]=l,o}}function d(t){if(t){var e=/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]),a=M(parseInt(n[1]),0,360),r=M(parseFloat(n[2]),0,100),o=M(parseFloat(n[3]),0,100),l=M(isNaN(i)?1:i,0,1);return[a,r,o,l]}}}function c(t){if(t){var e=/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,n=t.match(e);if(n){var i=parseFloat(n[4]),a=M(parseInt(n[1]),0,360),r=M(parseFloat(n[2]),0,100),o=M(parseFloat(n[3]),0,100),l=M(isNaN(i)?1:i,0,1);return[a,r,o,l]}}}function h(t){var e=u(t);return e&&e.slice(0,3)}function f(t){var e=d(t);return e&&e.slice(0,3)}function g(t){var e=u(t);return e?e[3]:(e=d(t))?e[3]:(e=c(t))?e[3]:void 0}function p(t,e){var e=void 0!==e&&3===t.length?e:t[3];return"#"+S(t[0])+S(t[1])+S(t[2])+(e>=0&&e<1?S(Math.round(255*e)):"")}function m(t,e){return e<1||t[3]&&t[3]<1?v(t,e):"rgb("+t[0]+", "+t[1]+", "+t[2]+")"}function v(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"rgba("+t[0]+", "+t[1]+", "+t[2]+", "+e+")"}function b(t,e){if(e<1||t[3]&&t[3]<1)return x(t,e);var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),a=Math.round(t[2]/255*100);return"rgb("+n+"%, "+i+"%, "+a+"%)"}function x(t,e){var n=Math.round(t[0]/255*100),i=Math.round(t[1]/255*100),a=Math.round(t[2]/255*100);return"rgba("+n+"%, "+i+"%, "+a+"%, "+(e||t[3]||1)+")"}function y(t,e){return e<1||t[3]&&t[3]<1?_(t,e):"hsl("+t[0]+", "+t[1]+"%, "+t[2]+"%)"}function _(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hsla("+t[0]+", "+t[1]+"%, "+t[2]+"%, "+e+")"}function k(t,e){return void 0===e&&(e=void 0!==t[3]?t[3]:1),"hwb("+t[0]+", "+t[1]+"%, "+t[2]+"%"+(void 0!==e&&1!==e?", "+e:"")+")"}function w(t){return nn[t.slice(0,3)]}function M(t,e,n){return Math.min(Math.max(e,t),n)}function S(t){var e=t.toString(16).toUpperCase();return e.length<2?"0"+e:e}function C(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function P(t){return!t||sn.isNullOrUndef(t.size)||sn.isNullOrUndef(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function A(t,e,n,i){var a,r,o,l,s,u,d,c,h,f=Object.keys(n);for(a=0,r=f.length;a<r;++a)if(o=f[a],u=n[o],e.hasOwnProperty(o)||(e[o]=u),l=e[o],l!==u&&"_"!==o[0]){if(t.hasOwnProperty(o)||(t[o]=l),s=t[o],d=typeof u,d===typeof s)if("string"===d){if(c=on(s),c.valid&&(h=on(u),h.valid)){e[o]=h.mix(c,i).rgbString();continue}}else if(In.isFinite(s)&&In.isFinite(u)){e[o]=s+(u-s)*i;continue}e[o]=u}}function D(t,e){return t._chartjs?void t._chartjs.listeners.push(e):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),void jn.forEach(function(e){var n="onData"+e.charAt(0).toUpperCase()+e.slice(1),i=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:function(){var e=Array.prototype.slice.call(arguments),a=i.apply(this,e);return In.each(t._chartjs.listeners,function(t){"function"==typeof t[n]&&t[n].apply(t,e)}),a}})}))}function T(t,e){var n=t._chartjs;if(n){var i=n.listeners,a=i.indexOf(e);a!==-1&&i.splice(a,1),i.length>0||(jn.forEach(function(e){delete t[e]}),delete t._chartjs)}}function I(t,e){var n=e.startAngle,i=e.endAngle,a=e.pixelMargin,r=a/e.outerRadius,o=e.x,l=e.y;t.beginPath(),t.arc(o,l,e.outerRadius,n-r,i+r),e.innerRadius>a?(r=a/e.innerRadius,t.arc(o,l,e.innerRadius-a,i+r,n-r,!0)):t.arc(o,l,a,i+Math.PI/2,n-Math.PI/2),t.closePath(),t.clip()}function F(t,e,n,i){var a,r=n.endAngle;for(i&&(n.endAngle=n.startAngle+Yn,I(t,n),n.endAngle=r,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=Yn,n.fullCircles--)),t.beginPath(),t.arc(n.x,n.y,n.innerRadius,n.startAngle+Yn,n.startAngle,!0),a=0;a<n.fullCircles;++a)t.stroke();for(t.beginPath(),t.arc(n.x,n.y,e.outerRadius,n.startAngle,n.startAngle+Yn),a=0;a<n.fullCircles;++a)t.stroke()}function O(t,e,n){var i="inner"===e.borderAlign;i?(t.lineWidth=2*e.borderWidth,t.lineJoin="round"):(t.lineWidth=e.borderWidth,t.lineJoin="bevel"),n.fullCircles&&F(t,e,n,i),i&&I(t,n),t.beginPath(),t.arc(n.x,n.y,e.outerRadius,n.startAngle,n.endAngle),t.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),t.closePath(),t.stroke()}function L(t){var e=this._view;return!!e&&Math.abs(t-e.x)<e.radius+e.hitRadius}function R(t){var e=this._view;return!!e&&Math.abs(t-e.y)<e.radius+e.hitRadius}function z(t){return t&&void 0!==t.width}function N(t){var e,n,i,a,r;return z(t)?(r=t.width/2,e=t.x-r,n=t.x+r,i=Math.min(t.y,t.base),a=Math.max(t.y,t.base)):(r=t.height/2,e=Math.min(t.x,t.base),n=Math.max(t.x,t.base),i=t.y-r,a=t.y+r),{left:e,top:i,right:n,bottom:a}}function B(t,e,n){return t===e?n:t===n?e:t}function E(t){var e=t.borderSkipped,n={};return e?(t.horizontal?t.base>t.x&&(e=B(e,"left","right")):t.base<t.y&&(e=B(e,"bottom","top")),n[e]=!0,n):n}function W(t,e,n){var i,a,r,o,l=t.borderWidth,s=E(t);return In.isObject(l)?(i=+l.top||0,a=+l.right||0,r=+l.bottom||0,o=+l.left||0):i=a=r=o=+l||0,{t:s.top||i<0?0:i>n?n:i,r:s.right||a<0?0:a>e?e:a,b:s.bottom||r<0?0:r>n?n:r,l:s.left||o<0?0:o>e?e:o}}function V(t){var e=N(t),n=e.right-e.left,i=e.bottom-e.top,a=W(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i},inner:{x:e.left+a.l,y:e.top+a.t,w:n-a.l-a.r,h:i-a.t-a.b}}}function H(t,e,n){var i=null===e,a=null===n,r=!(!t||i&&a)&&N(t);return r&&(i||e>=r.left&&e<=r.right)&&(a||n>=r.top&&n<=r.bottom)}function j(t,e){var n,i,a,r,o=t._length;for(a=1,r=e.length;a<r;++a)o=Math.min(o,Math.abs(e[a]-e[a-1]));for(a=0,r=t.getTicks().length;a<r;++a)i=t.getPixelForTick(a),o=a>0?Math.min(o,Math.abs(i-n)):o,n=i;return o}function q(t,e,n){var i,a,r=n.barThickness,o=e.stackCount,l=e.pixels[t],s=In.isNullOrUndef(r)?j(e.scale,e.pixels):-1;return In.isNullOrUndef(r)?(i=s*n.categoryPercentage,a=n.barPercentage):(i=r*o,a=1),{chunk:i/o,ratio:a,start:l-i/2}}function U(t,e,n){var i,a,r=e.pixels,o=r[t],l=t>0?r[t-1]:null,s=t<r.length-1?r[t+1]:null,u=n.categoryPercentage;return null===l&&(l=o-(null===s?e.end-e.start:s-o)),null===s&&(s=o+o-l),i=o-(o-Math.min(l,s))/2*u,a=Math.abs(s-l)/2*u,{chunk:a/e.stackCount,ratio:n.barPercentage,start:i}}function Y(t,e){var n=t&&t.options.ticks||{},i=n.reverse,a=void 0===n.min?e:0,r=void 0===n.max?e:0;return{start:i?r:a,end:i?a:r}}function G(t,e,n){var i=n/2,a=Y(t,i),r=Y(e,i);return{top:r.end,right:a.end,bottom:r.start,left:a.start}}function X(t){var e,n,i,a;return In.isObject(t)?(e=t.top,n=t.right,i=t.bottom,a=t.left):e=n=i=a=t,{top:e,right:n,bottom:i,left:a}}function K(t,e){return t["native"]?{x:t.x,y:t.y}:In.getRelativePosition(t,e)}function Z(t,e){var n,i,a,r,o,l,s=t._getSortedVisibleDatasetMetas();for(i=0,r=s.length;i<r;++i)for(n=s[i].data,a=0,o=n.length;a<o;++a)l=n[a],l._view.skip||e(l)}function $(t,e){var n=[];return Z(t,function(t){t.inRange(e.x,e.y)&&n.push(t)}),n}function J(t,e,n,i){var a=Number.POSITIVE_INFINITY,r=[];return Z(t,function(t){if(!n||t.inRange(e.x,e.y)){var o=t.getCenterPoint(),l=i(e,o);l<a?(r=[t],a=l):l===a&&r.push(t)}}),r}function Q(t){var e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(t,i){var a=e?Math.abs(t.x-i.x):0,r=n?Math.abs(t.y-i.y):0;return Math.sqrt(Math.pow(a,2)+Math.pow(r,2))}}function tt(t,e,n){var i=K(e,t);n.axis=n.axis||"x";var a=Q(n.axis),r=n.intersect?$(t,i):J(t,i,!1,a),o=[];return r.length?(t._getSortedVisibleDatasetMetas().forEach(function(t){var e=t.data[r[0]._index];e&&!e._view.skip&&o.push(e)}),o):[]}function et(t,e){return In.where(t,function(t){return t.pos===e})}function nt(t,e){return t.sort(function(t,n){var i=e?n:t,a=e?t:n;return i.weight===a.weight?i.index-a.index:i.weight-a.weight})}function it(t){var e,n,i,a=[];for(e=0,n=(t||[]).length;e<n;++e)i=t[e],a.push({index:e,box:i,pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return a}function at(t,e){var n,i,a;for(n=0,i=t.length;n<i;++n)a=t[n],a.width=a.horizontal?a.box.fullWidth&&e.availableWidth:e.vBoxMaxWidth,a.height=a.horizontal&&e.hBoxMaxHeight}function rt(t){var e=it(t),n=nt(et(e,"left"),!0),i=nt(et(e,"right")),a=nt(et(e,"top"),!0),r=nt(et(e,"bottom"));return{leftAndTop:n.concat(a),rightAndBottom:i.concat(r),chartArea:et(e,"chartArea"),vertical:n.concat(i),horizontal:a.concat(r)}}function ot(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function lt(t,e,n){var i,a,r=n.box,o=t.maxPadding;if(n.size&&(t[n.pos]-=n.size),n.size=n.horizontal?r.height:r.width,t[n.pos]+=n.size,r.getPadding){var l=r.getPadding();o.top=Math.max(o.top,l.top),o.left=Math.max(o.left,l.left),o.bottom=Math.max(o.bottom,l.bottom),o.right=Math.max(o.right,l.right)}if(i=e.outerWidth-ot(o,t,"left","right"),a=e.outerHeight-ot(o,t,"top","bottom"),i!==t.w||a!==t.h){t.w=i,t.h=a;var s=n.horizontal?[i,t.w]:[a,t.h];return!(s[0]===s[1]||isNaN(s[0])&&isNaN(s[1]))}}function st(t){function e(e){var i=Math.max(n[e]-t[e],0);return t[e]+=i,i}var n=t.maxPadding;t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}function ut(t,e){function n(t){var n={left:0,top:0,right:0,bottom:0};return t.forEach(function(t){n[t]=Math.max(e[t],i[t])}),n}var i=e.maxPadding;return n(t?["left","right"]:["top","bottom"])}function dt(t,e,n){var i,a,r,o,l,s,u=[];for(i=0,a=t.length;i<a;++i)r=t[i],o=r.box,o.update(r.width||e.w,r.height||e.h,ut(r.horizontal,e)),lt(e,n,r)&&(s=!0,u.length&&(l=!0)),o.fullWidth||u.push(r);return l?dt(u,e,n)||s:s}function ct(t,e,n){var i,a,r,o,l=n.padding,s=e.x,u=e.y;for(i=0,a=t.length;i<a;++i)r=t[i],o=r.box,r.horizontal?(o.left=o.fullWidth?l.left:e.left,o.right=o.fullWidth?n.outerWidth-l.right:e.left+e.w,o.top=u,o.bottom=u+o.height,o.width=o.right-o.left,u=o.bottom):(o.left=s,o.right=s+o.width,o.top=e.top,o.bottom=e.top+e.h,o.height=o.bottom-o.top,s=o.right);e.x=s,e.y=u}function ht(t,e){var n=In.getStyle(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}function ft(t,e){var n=t.style,i=t.getAttribute("height"),a=t.getAttribute("width");if(t[Ni]={initial:{height:i,width:a,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===a||""===a){var r=ht(t,"width");void 0!==r&&(t.width=r)}if(null===i||""===i)if(""===t.style.height)t.height=t.width/(e.options.aspectRatio||2);else{var o=ht(t,"height");void 0!==r&&(t.height=o)}return t}function gt(t,e,n){t.addEventListener(e,n,Ui)}function pt(t,e,n){t.removeEventListener(e,n,Ui)}function mt(t,e,n,i,a){return{type:t,chart:e,"native":a||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function vt(t,e){var n=ji[t.type]||t.type,i=In.getRelativePosition(t,e);return mt(n,e,i.x,i.y,t)}function bt(t,e){var n=!1,i=[];return function(){i=Array.prototype.slice.call(arguments),e=e||this,n||(n=!0,In.requestAnimFrame.call(window,function(){n=!1,t.apply(e,i)}))}}function xt(t){var e=document.createElement("div");return e.className=t||"",e}function yt(t){var e=1e6,n=xt(Ei),i=xt(Ei+"-expand"),a=xt(Ei+"-shrink");i.appendChild(xt()),a.appendChild(xt()),n.appendChild(i),n.appendChild(a),n._reset=function(){i.scrollLeft=e,i.scrollTop=e,a.scrollLeft=e,a.scrollTop=e};var r=function(){n._reset(),t()};return gt(i,"scroll",r.bind(i,"expand")),gt(a,"scroll",r.bind(a,"shrink")),n}function _t(t,e){var n=t[Ni]||(t[Ni]={}),i=n.renderProxy=function(t){t.animationName===Vi&&e()};In.each(Hi,function(e){gt(t,e,i)}),n.reflow=!!t.offsetParent,t.classList.add(Wi)}function kt(t){var e=t[Ni]||{},n=e.renderProxy;n&&(In.each(Hi,function(e){pt(t,e,n)}),delete e.renderProxy),t.classList.remove(Wi)}function wt(t,e,n){var i=t[Ni]||(t[Ni]={}),a=i.resizer=yt(bt(function(){if(i.resizer){var a=n.options.maintainAspectRatio&&t.parentNode,r=a?a.clientWidth:0;e(mt("resize",n)),a&&a.clientWidth<r&&n.canvas&&e(mt("resize",n))}}));_t(t,function(){if(i.resizer){var e=t.parentNode;e&&e!==a.parentNode&&e.insertBefore(a,e.firstChild),a._reset()}})}function Mt(t){var e=t[Ni]||{},n=e.resizer;delete e.resizer,kt(t),n&&n.parentNode&&n.parentNode.removeChild(n)}function St(t,e){var n=t[Ni]||(t[Ni]={});if(!n.containsStyles){n.containsStyles=!0,e="/* Chart.js */\n"+e;var i=document.createElement("style");i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(e)),t.appendChild(i)}}function Ct(t,e){return e&&(In.isArray(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Pt(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function At(t){var e=t._xScale,n=t._yScale||t._scale,i=t._index,a=t._datasetIndex,r=t._chart.getDatasetMeta(a).controller,o=r._getIndexScale(),l=r._getValueScale();return{xLabel:e?e.getLabelForIndex(i,a):"",yLabel:n?n.getLabelForIndex(i,a):"",label:o?""+o.getLabelForIndex(i,a):"",value:l?""+l.getLabelForIndex(i,a):"",index:i,datasetIndex:a,x:t._model.x,y:t._model.y}}function Dt(t){var e=yn.global;return{xPadding:t.xPadding,yPadding:t.yPadding,xAlign:t.xAlign,yAlign:t.yAlign,rtl:t.rtl,textDirection:t.textDirection,bodyFontColor:t.bodyFontColor,_bodyFontFamily:$i(t.bodyFontFamily,e.defaultFontFamily),_bodyFontStyle:$i(t.bodyFontStyle,e.defaultFontStyle),_bodyAlign:t.bodyAlign,bodyFontSize:$i(t.bodyFontSize,e.defaultFontSize),bodySpacing:t.bodySpacing,titleFontColor:t.titleFontColor,_titleFontFamily:$i(t.titleFontFamily,e.defaultFontFamily),_titleFontStyle:$i(t.titleFontStyle,e.defaultFontStyle),titleFontSize:$i(t.titleFontSize,e.defaultFontSize),_titleAlign:t.titleAlign,titleSpacing:t.titleSpacing,titleMarginBottom:t.titleMarginBottom,footerFontColor:t.footerFontColor,_footerFontFamily:$i(t.footerFontFamily,e.defaultFontFamily),_footerFontStyle:$i(t.footerFontStyle,e.defaultFontStyle),footerFontSize:$i(t.footerFontSize,e.defaultFontSize),_footerAlign:t.footerAlign,footerSpacing:t.footerSpacing,footerMarginTop:t.footerMarginTop,caretSize:t.caretSize,cornerRadius:t.cornerRadius,backgroundColor:t.backgroundColor,opacity:0,legendColorBackground:t.multiKeyBackground,displayColors:t.displayColors,borderColor:t.borderColor,borderWidth:t.borderWidth}}function Tt(t,e){var n=t._chart.ctx,i=2*e.yPadding,a=0,r=e.body,o=r.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0);o+=e.beforeBody.length+e.afterBody.length;var l=e.title.length,s=e.footer.length,u=e.titleFontSize,d=e.bodyFontSize,c=e.footerFontSize;i+=l*u,i+=l?(l-1)*e.titleSpacing:0,i+=l?e.titleMarginBottom:0,i+=o*d,i+=o?(o-1)*e.bodySpacing:0,i+=s?e.footerMarginTop:0,i+=s*c,i+=s?(s-1)*e.footerSpacing:0;var h=0,f=function(t){a=Math.max(a,n.measureText(t).width+h)};return n.font=In.fontString(u,e._titleFontStyle,e._titleFontFamily),In.each(e.title,f),n.font=In.fontString(d,e._bodyFontStyle,e._bodyFontFamily),In.each(e.beforeBody.concat(e.afterBody),f),h=e.displayColors?d+2:0,In.each(r,function(t){In.each(t.before,f),In.each(t.lines,f),In.each(t.after,f)}),h=0,n.font=In.fontString(c,e._footerFontStyle,e._footerFontFamily),In.each(e.footer,f),a+=2*e.xPadding,{width:a,height:i}}function It(t,e){var n=t._model,i=t._chart,a=t._chart.chartArea,r="center",o="center";n.y<e.height?o="top":n.y>i.height-e.height&&(o="bottom");var l,s,u,d,c,h=(a.left+a.right)/2,f=(a.top+a.bottom)/2;"center"===o?(l=function(t){return t<=h},s=function(t){return t>h}):(l=function(t){return t<=e.width/2},s=function(t){return t>=i.width-e.width/2}),u=function(t){return t+e.width+n.caretSize+n.caretPadding>i.width},d=function(t){return t-e.width-n.caretSize-n.caretPadding<0},c=function(t){return t<=f?"top":"bottom"},l(n.x)?(r="left",u(n.x)&&(r="center",o=c(n.y))):s(n.x)&&(r="right",d(n.x)&&(r="center",o=c(n.y)));var g=t._options;return{xAlign:g.xAlign?g.xAlign:r,yAlign:g.yAlign?g.yAlign:o}}function Ft(t,e,n,i){var a=t.x,r=t.y,o=t.caretSize,l=t.caretPadding,s=t.cornerRadius,u=n.xAlign,d=n.yAlign,c=o+l,h=s+l;return"right"===u?a-=e.width:"center"===u&&(a-=e.width/2,a+e.width>i.width&&(a=i.width-e.width),a<0&&(a=0)),"top"===d?r+=c:r-="bottom"===d?e.height+c:e.height/2,"center"===d?"left"===u?a+=c:"right"===u&&(a-=c):"left"===u?a-=h:"right"===u&&(a+=h),{x:a,y:r}}function Ot(t,e){return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-t.xPadding:t.x+t.xPadding}function Lt(t){return Ct([],Pt(t))}function Rt(){return In.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,n,i){if("xAxes"===t||"yAxes"===t){var a,r,o,l=n[t].length;for(e[t]||(e[t]=[]),a=0;a<l;++a)o=n[t][a],r=ia(o.type,"xAxes"===t?"category":"linear"),a>=e[t].length&&e[t].push({}),!e[t][a].type||o.type&&o.type!==e[t][a].type?In.merge(e[t][a],[Zi.getScaleDefaults(r),o]):In.merge(e[t][a],o)}else In._merger(t,e,n,i)}})}function zt(){return In.merge(Object.create(null),[].slice.call(arguments),{merger:function(t,e,n,i){var a=e[t]||Object.create(null),r=n[t];"scales"===t?e[t]=Rt(a,r):"scale"===t?e[t]=In.merge(a,[Zi.getScaleDefaults(r.type),r]):In._merger(t,e,n,i)}})}function Nt(t){t=t||Object.create(null);var e=t.data=t.data||{};return e.datasets=e.datasets||[],e.labels=e.labels||[],t.options=zt(yn.global,yn[t.type],t.options||{}),t}function Bt(t){var e=t.options;In.each(t.scales,function(e){Fi.removeBox(t,e)}),e=zt(yn.global,yn[t.config.type],e),t.options=t.config.options=e,t.ensureScalesHaveIDs(),t.buildOrUpdateScales(),t.tooltip._options=e.tooltips,t.tooltip.initialize()}function Et(t,e,n){var i,a=function(t){return t.id===i};do i=e+n++;while(In.findIndex(t,a)>=0);return i}function Wt(t){return"top"===t||"bottom"===t}function Vt(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function Ht(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function jt(t){this.options=t||{}}function qt(t,e){for(var n=[],i=t.length/e,a=0,r=t.length;a<r;a+=i)n.push(t[Math.floor(a)]);return n}function Ut(t,e,n){var i,a=t.getTicks().length,r=Math.min(e,a-1),o=t.getPixelForTick(r),l=t._startPixel,s=t._endPixel,u=1e-6;if(!(n&&(i=1===a?Math.max(o-l,s-o):0===e?(t.getPixelForTick(1)-o)/2:(o-t.getPixelForTick(r-1))/2,o+=r<e?i:-i,o<l-u||o>s+u)))return o}function Yt(t,e){In.each(t,function(t){var n,i=t.gc,a=i.length/2;if(a>e){for(n=0;n<a;++n)delete t.data[i[n]];i.splice(0,a)}})}function Gt(t,e,n,i){function a(t){return{width:x[t]||0,height:y[t]||0,offset:_[t]||0}}var r,o,l,s,u,d,c,h,f,g,p,m,v,b=n.length,x=[],y=[],_=[],k=0,w=0;for(r=0;r<b;++r){if(s=n[r].label,u=n[r].major?e.major:e.minor,t.font=d=u.string,c=i[d]=i[d]||{data:{},gc:[]},h=u.lineHeight,f=g=0,ca(s)||da(s)){if(da(s))for(o=0,l=s.length;o<l;++o)p=s[o],ca(p)||da(p)||(f=In.measureText(t,c.data,c.gc,f,p),g+=h)}else f=In.measureText(t,c.data,c.gc,f,s),g=h;x.push(f),y.push(g),_.push(h/2),k=Math.max(f,k),w=Math.max(g,w)}return Yt(i,b),m=x.indexOf(k),v=y.indexOf(w),{first:a(0),last:a(b-1),widest:a(m),highest:a(v)}}function Xt(t){return t.drawTicks?t.tickMarkLength:0}function Kt(t){var e,n;return t.display?(e=In.options._parseFont(t),n=In.options.toPadding(t.padding),e.lineHeight+n.height):0}function Zt(t,e){return In.extend(In.options._parseFont({fontFamily:ha(e.fontFamily,t.fontFamily),fontSize:ha(e.fontSize,t.fontSize),fontStyle:ha(e.fontStyle,t.fontStyle),lineHeight:ha(e.lineHeight,t.lineHeight)}),{color:In.options.resolve([e.fontColor,t.fontColor,yn.global.defaultFontColor])})}function $t(t){var e=Zt(t,t.minor),n=t.major.enabled?Zt(t,t.major):e;return{minor:e,major:n}}function Jt(t){var e,n,i,a=[];for(n=0,i=t.length;n<i;++n)e=t[n],"undefined"!=typeof e._index&&a.push(e);return a}function Qt(t){var e,n,i=t.length;if(i<2)return!1;for(n=t[0],e=1;e<i;++e)if(t[e]-t[e-1]!==n)return!1;return n}function te(t,e,n,i){var a,r,o,l,s=Qt(t),u=(e.length-1)/i;if(!s)return Math.max(u,1);for(a=In.math._factorize(s),o=0,l=a.length-1;o<l;o++)if(r=a[o],r>u)return r;return Math.max(u,1)}function ee(t){var e,n,i=[];for(e=0,n=t.length;e<n;e++)t[e].major&&i.push(e);return i}function ne(t,e,n){var i,a,r=0,o=e[0];for(n=Math.ceil(n),i=0;i<t.length;i++)a=t[i],i===o?(a._index=i,r++,o=e[r*n]):delete a.label}function ie(t,e,n,i){var a,r,o,l,s=ha(n,0),u=Math.min(ha(i,t.length),t.length),d=0;for(e=Math.ceil(e),i&&(a=i-n,e=a/Math.floor(a/e)),l=s;l<0;)d++,l=Math.round(s+d*e);for(r=Math.max(s,0);r<u;r++)o=t[r],r===l?(o._index=r,d++,l=Math.round(s+d*e)):delete o.label}function ae(t,e){var n,i,a,r,o=[],l=1e-14,s=t.stepSize,u=s||1,d=t.maxTicks-1,c=t.min,h=t.max,f=t.precision,g=e.min,p=e.max,m=In.niceNum((p-g)/d/u)*u;if(m<l&&_a(c)&&_a(h))return[g,p];r=Math.ceil(p/m)-Math.floor(g/m),r>d&&(m=In.niceNum(r*m/d/u)*u),s||_a(f)?n=Math.pow(10,In._decimalPlaces(m)):(n=Math.pow(10,f),m=Math.ceil(m*n)/n),i=Math.floor(g/m)*m,a=Math.ceil(p/m)*m,s&&(!_a(c)&&In.almostWhole(c/m,m/1e3)&&(i=c),!_a(h)&&In.almostWhole(h/m,m/1e3)&&(a=h)),r=(a-i)/m,r=In.almostEquals(r,Math.round(r),m/1e3)?Math.round(r):Math.ceil(r),i=Math.round(i*n)/n,a=Math.round(a*n)/n,o.push(_a(c)?i:c);for(var v=1;v<r;++v)o.push(Math.round((i+v*m)*n)/n);return o.push(_a(h)?a:h),o}function re(t,e,n){var i=[n.type,void 0===e&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===t[i]&&(t[i]={pos:[],neg:[]}),t[i]}function oe(t,e,n,i){var a,r,o=t.options,l=o.stacked,s=re(e,l,n),u=s.pos,d=s.neg,c=i.length;for(a=0;a<c;++a)r=t._parseValue(i[a]),isNaN(r.min)||isNaN(r.max)||n.data[a].hidden||(u[a]=u[a]||0,d[a]=d[a]||0,o.relativePoints?u[a]=100:r.min<0||r.max<0?d[a]+=r.min:u[a]+=r.max)}function le(t,e,n){var i,a,r=n.length;for(i=0;i<r;++i)a=t._parseValue(n[i]),isNaN(a.min)||isNaN(a.max)||e.data[i].hidden||(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}function se(t,e){var n,i,a=[],r=Aa(t.min,Math.pow(10,Math.floor(Da(e.min)))),o=Math.floor(Da(e.max)),l=Math.ceil(e.max/Math.pow(10,o));0===r?(n=Math.floor(Da(e.minNotZero)),i=Math.floor(e.minNotZero/Math.pow(10,n)),a.push(r),r=i*Math.pow(10,n)):(n=Math.floor(Da(r)),i=Math.floor(r/Math.pow(10,n)));var s=n<0?Math.pow(10,Math.abs(n)):1;do a.push(r),++i,10===i&&(i=1,++n,s=n>=0?1:s),r=Math.round(i*Math.pow(10,n)*s)/s;while(n<o||n===o&&i<l);var u=Aa(t.max,r);return a.push(u),a}function ue(t,e){return In.isFinite(t)&&t>=0?t:e}function de(t){var e=t.ticks;return e.display&&t.display?Oa(e.fontSize,yn.global.defaultFontSize)+2*e.backdropPaddingY:0}function ce(t,e,n){return In.isArray(n)?{w:In.longestText(t,t.font,n),h:n.length*e}:{w:t.measureText(n).width,h:e}}function he(t,e,n,i,a){return t===i||t===a?{start:e-n/2,end:e+n/2}:t<i||t>a?{start:e-n,end:e}:{start:e,end:e+n}}function fe(t){var e,n,i,a=In.options._parseFont(t.options.pointLabels),r={l:0,r:t.width,t:0,b:t.height-t.paddingTop},o={};t.ctx.font=a.string,t._pointLabelSizes=[];var l=t.chart.data.labels.length;for(e=0;e<l;e++){i=t.getPointPosition(e,t.drawingArea+5),n=ce(t.ctx,a.lineHeight,t.pointLabels[e]),t._pointLabelSizes[e]=n;var s=t.getIndexAngle(e),u=In.toDegrees(s)%360,d=he(u,i.x,n.w,0,180),c=he(u,i.y,n.h,90,270);d.start<r.l&&(r.l=d.start,o.l=s),d.end>r.r&&(r.r=d.end,o.r=s),c.start<r.t&&(r.t=c.start,o.t=s),c.end>r.b&&(r.b=c.end,o.b=s)}t.setReductions(t.drawingArea,r,o)}function ge(t){return 0===t||180===t?"center":t<180?"left":"right"}function pe(t,e,n,i){var a,r,o=n.y+i/2;if(In.isArray(e))for(a=0,r=e.length;a<r;++a)t.fillText(e[a],n.x,o),o+=i;else t.fillText(e,n.x,o)}function me(t,e,n){90===t||270===t?n.y-=e.h/2:(t>270||t<90)&&(n.y-=e.h)}function ve(t){var e=t.ctx,n=t.options,i=n.pointLabels,a=de(n),r=t.getDistanceFromCenterForValue(n.ticks.reverse?t.min:t.max),o=In.options._parseFont(i);e.save(),e.font=o.string,e.textBaseline="middle";for(var l=t.chart.data.labels.length-1;l>=0;l--){var s=0===l?a/2:0,u=t.getPointPosition(l,r+s+5),d=La(i.fontColor,l,yn.global.defaultFontColor);e.fillStyle=d;var c=t.getIndexAngle(l),h=In.toDegrees(c);e.textAlign=ge(h),me(h,t._pointLabelSizes[l],u),pe(e,t.pointLabels[l],u,o.lineHeight)}e.restore()}function be(t,e,n,i){var a,r=t.ctx,o=e.circular,l=t.chart.data.labels.length,s=La(e.color,i-1),u=La(e.lineWidth,i-1);if((o||l)&&s&&u){if(r.save(),r.strokeStyle=s,r.lineWidth=u,r.setLineDash&&(r.setLineDash(e.borderDash||[]),r.lineDashOffset=e.borderDashOffset||0),r.beginPath(),o)r.arc(t.xCenter,t.yCenter,n,0,2*Math.PI);else{a=t.getPointPosition(0,n),r.moveTo(a.x,a.y);for(var d=1;d<l;d++)a=t.getPointPosition(d,n),r.lineTo(a.x,a.y)}r.closePath(),r.stroke(),r.restore()}}function xe(t){return In.isNumber(t)?t:0}function ye(t,e){return t-e}function _e(t){var e,n,i,a={},r=[];for(e=0,n=t.length;e<n;++e)i=t[e],a[i]||(a[i]=!0,r.push(i));return r}function ke(t){return In.valueOrDefault(t.time.min,t.ticks.min)}function we(t){return In.valueOrDefault(t.time.max,t.ticks.max)}function Me(t,e,n,i){if("linear"===i||!t.length)return[{time:e,pos:0},{time:n,pos:1}];var a,r,o,l,s,u=[],d=[e];for(a=0,r=t.length;a<r;++a)l=t[a],l>e&&l<n&&d.push(l);for(d.push(n),a=0,r=d.length;a<r;++a)s=d[a+1],o=d[a-1],l=d[a],void 0!==o&&void 0!==s&&Math.round((s+o)/2)===l||u.push({time:l,pos:a/(r-1)});return u}function Se(t,e,n){for(var i,a,r,o=0,l=t.length-1;o>=0&&o<=l;){if(i=o+l>>1,a=t[i-1]||null,r=t[i],!a)return{lo:null,hi:r};if(r[e]<n)o=i+1;else{if(!(a[e]>n))return{lo:a,hi:r};l=i-1}}return{lo:r,hi:null}}function Ce(t,e,n,i){var a=Se(t,e,n),r=a.lo?a.hi?a.lo:t[t.length-2]:t[0],o=a.lo?a.hi?a.hi:t[t.length-1]:t[1],l=o[e]-r[e],s=l?(n-r[e])/l:0,u=(o[i]-r[i])*s;return r[i]+u}function Pe(t,e){var n=t._adapter,i=t.options.time,a=i.parser,r=a||i.format,o=e;return"function"==typeof a&&(o=a(o)),In.isFinite(o)||(o="string"==typeof r?n.parse(o,r):n.parse(o)),null!==o?+o:(a||"function"!=typeof r||(o=r(e),In.isFinite(o)||(o=n.parse(o))),o)}function Ae(t,e){if(In.isNullOrUndef(e))return null;var n=t.options.time,i=Pe(t,t.getRightValue(e));return null===i?i:(n.round&&(i=+t._adapter.startOf(i,n.round)),i)}function De(t,e,n,i){var a,r,o,l=Ua.length;for(a=Ua.indexOf(t);a<l-1;++a)if(r=qa[Ua[a]],o=r.steps?r.steps:ja,r.common&&Math.ceil((n-e)/(o*r.size))<=i)return Ua[a];return Ua[l-1]}function Te(t,e,n,i,a){var r,o;for(r=Ua.length-1;r>=Ua.indexOf(n);r--)if(o=Ua[r],qa[o].common&&t._adapter.diff(a,i,o)>=e-1)return o;return Ua[n?Ua.indexOf(n):0]}function Ie(t){for(var e=Ua.indexOf(t)+1,n=Ua.length;e<n;++e)if(qa[Ua[e]].common)return Ua[e]}function Fe(t,e,n,i){var a,r=t._adapter,o=t.options,l=o.time,s=l.unit||De(l.minUnit,e,n,i),u=Wa([l.stepSize,l.unitStepSize,1]),d="week"===s&&l.isoWeekday,c=e,h=[];if(d&&(c=+r.startOf(c,"isoWeek",d)),c=+r.startOf(c,d?"day":s),r.diff(n,e,s)>1e5*u)throw e+" and "+n+" are too far apart with stepSize of "+u+" "+s;for(a=c;a<n;a=+r.add(a,u,s))h.push(a);return a!==n&&"ticks"!==o.bounds||h.push(a),h}function Oe(t,e,n,i,a){var r,o,l=0,s=0;return a.offset&&e.length&&(r=Ce(t,"time",e[0],"pos"),l=1===e.length?1-r:(Ce(t,"time",e[1],"pos")-r)/2,o=Ce(t,"time",e[e.length-1],"pos"),s=1===e.length?o:(o-Ce(t,"time",e[e.length-2],"pos"))/2),{start:l,end:s,factor:1/(l+1+s)}}function Le(t,e,n,i){var a,r,o=t._adapter,l=+o.startOf(e[0].value,i),s=e[e.length-1].value;for(a=l;a<=s;a=+o.add(a,1,i))r=n[a],r>=0&&(e[r].major=!0);return e}function Re(t,e,n){var i,a,r=[],o={},l=e.length;for(i=0;i<l;++i)a=e[i],o[a]=i,r.push({value:a,major:!1});return 0!==l&&n?Le(t,r,o,n):r}function ze(t,e,n){var i,a=t._model||{},r=a.fill;if(void 0===r&&(r=!!a.backgroundColor),r===!1||null===r)return!1;if(r===!0)return"origin";if(i=parseFloat(r,10),isFinite(i)&&Math.floor(i)===i)return"-"!==r[0]&&"+"!==r[0]||(i=e+i),!(i===e||i<0||i>=n)&&i;switch(r){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return r;default:return!1}}function Ne(t){var e,n=t.el._model||{},i=t.el._scale||{},a=t.fill,r=null;if(isFinite(a))return null;if("start"===a?r=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===a?r=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?r=n.scaleZero:i.getBasePixel&&(r=i.getBasePixel()),void 0!==r&&null!==r){if(void 0!==r.x&&void 0!==r.y)return r;if(In.isFinite(r))return e=i.isHorizontal(),{x:e?r:null,y:e?null:r}}return null}function Be(t){var e,n,i,a,r,o=t.el._scale,l=o.options,s=o.chart.data.labels.length,u=t.fill,d=[];if(!s)return null;for(e=l.ticks.reverse?o.max:o.min,n=l.ticks.reverse?o.min:o.max,i=o.getPointPositionForValue(0,e),a=0;a<s;++a)r="start"===u||"end"===u?o.getPointPositionForValue(a,"start"===u?e:n):o.getBasePosition(a),l.gridLines.circular&&(r.cx=i.x,r.cy=i.y,r.angle=o.getIndexAngle(a)-Math.PI/2),d.push(r);return d}function Ee(t){var e=t.el._scale||{};return e.getPointPositionForValue?Be(t):Ne(t)}function We(t,e,n){var i,a=t[e],r=a.fill,o=[e];if(!n)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!isFinite(r))return r;if(i=t[r],!i)return!1;if(i.visible)return r;o.push(r),r=i.fill}return!1}function Ve(t){var e=t.fill,n="dataset";return e===!1?null:(isFinite(e)||(n="boundary"),$a[n](t))}function He(t){return t&&!t.skip}function je(t,e,n,i,a){var r,o,l,s;if(i&&a){for(t.moveTo(e[0].x,e[0].y),r=1;r<i;++r)In.canvas.lineTo(t,e[r-1],e[r]);if(void 0===n[0].angle)for(t.lineTo(n[a-1].x,n[a-1].y),r=a-1;r>0;--r)In.canvas.lineTo(t,n[r],n[r-1],!0);else for(o=n[0].cx,l=n[0].cy,s=Math.sqrt(Math.pow(n[0].x-o,2)+Math.pow(n[0].y-l,2)),r=a-1;r>0;--r)t.arc(o,l,s,n[r].angle,n[r-1].angle,!0)}}function qe(t,e,n,i,a,r){var o,l,s,u,d,c,h,f,g=e.length,p=i.spanGaps,m=[],v=[],b=0,x=0;for(t.beginPath(),o=0,l=g;o<l;++o)s=o%g,u=e[s]._view,d=n(u,s,i),c=He(u),h=He(d),r&&void 0===f&&c&&(f=o+1,l=g+f),c&&h?(b=m.push(u),x=v.push(d)):b&&x&&(p?(c&&m.push(u),h&&v.push(d)):(je(t,m,v,b,x),b=x=0,m=[],v=[]));je(t,m,v,b,x),t.closePath(),t.fillStyle=a,t.fill()}function Ue(t,e){return t.usePointStyle&&t.boxWidth>e?e:t.boxWidth}function Ye(t,e){var n=new nr({ctx:t.ctx,options:e,chart:t});Fi.configure(t,n,e),Fi.addBox(t,n),t.legend=n}function Ge(t,e){var n=new rr({ctx:t.ctx,options:e,chart:t});Fi.configure(t,n,e),Fi.addBox(t,n),t.titleBlock=n}t=t&&t.hasOwnProperty("default")?t["default"]:t;var Xe={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],
cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ke=e(function(t){function e(t,e){return Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2)}var n={};for(var i in Xe)Xe.hasOwnProperty(i)&&(n[Xe[i]]=i);var a=t.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var r in a)if(a.hasOwnProperty(r)){if(!("channels"in a[r]))throw new Error("missing channels property: "+r);if(!("labels"in a[r]))throw new Error("missing channel labels property: "+r);if(a[r].labels.length!==a[r].channels)throw new Error("channel and label counts mismatch: "+r);var o=a[r].channels,l=a[r].labels;delete a[r].channels,delete a[r].labels,Object.defineProperty(a[r],"channels",{value:o}),Object.defineProperty(a[r],"labels",{value:l})}a.rgb.hsl=function(t){var e,n,i,a=t[0]/255,r=t[1]/255,o=t[2]/255,l=Math.min(a,r,o),s=Math.max(a,r,o),u=s-l;return s===l?e=0:a===s?e=(r-o)/u:r===s?e=2+(o-a)/u:o===s&&(e=4+(a-r)/u),e=Math.min(60*e,360),e<0&&(e+=360),i=(l+s)/2,n=s===l?0:i<=.5?u/(s+l):u/(2-s-l),[e,100*n,100*i]},a.rgb.hsv=function(t){var e,n,i,a,r,o=t[0]/255,l=t[1]/255,s=t[2]/255,u=Math.max(o,l,s),d=u-Math.min(o,l,s),c=function(t){return(u-t)/6/d+.5};return 0===d?a=r=0:(r=d/u,e=c(o),n=c(l),i=c(s),o===u?a=i-n:l===u?a=1/3+e-i:s===u&&(a=2/3+n-e),a<0?a+=1:a>1&&(a-=1)),[360*a,100*r,100*u]},a.rgb.hwb=function(t){var e=t[0],n=t[1],i=t[2],r=a.rgb.hsl(t)[0],o=1/255*Math.min(e,Math.min(n,i));return i=1-1/255*Math.max(e,Math.max(n,i)),[r,100*o,100*i]},a.rgb.cmyk=function(t){var e,n,i,a,r=t[0]/255,o=t[1]/255,l=t[2]/255;return a=Math.min(1-r,1-o,1-l),e=(1-r-a)/(1-a)||0,n=(1-o-a)/(1-a)||0,i=(1-l-a)/(1-a)||0,[100*e,100*n,100*i,100*a]},a.rgb.keyword=function(t){var i=n[t];if(i)return i;var a,r=1/0;for(var o in Xe)if(Xe.hasOwnProperty(o)){var l=Xe[o],s=e(t,l);s<r&&(r=s,a=o)}return a},a.keyword.rgb=function(t){return Xe[t]},a.rgb.xyz=function(t){var e=t[0]/255,n=t[1]/255,i=t[2]/255;e=e>.04045?Math.pow((e+.055)/1.055,2.4):e/12.92,n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92,i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92;var a=.4124*e+.3576*n+.1805*i,r=.2126*e+.7152*n+.0722*i,o=.0193*e+.1192*n+.9505*i;return[100*a,100*r,100*o]},a.rgb.lab=function(t){var e,n,i,r=a.rgb.xyz(t),o=r[0],l=r[1],s=r[2];return o/=95.047,l/=100,s/=108.883,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,l=l>.008856?Math.pow(l,1/3):7.787*l+16/116,s=s>.008856?Math.pow(s,1/3):7.787*s+16/116,e=116*l-16,n=500*(o-l),i=200*(l-s),[e,n,i]},a.hsl.rgb=function(t){var e,n,i,a,r,o=t[0]/360,l=t[1]/100,s=t[2]/100;if(0===l)return r=255*s,[r,r,r];n=s<.5?s*(1+l):s+l-s*l,e=2*s-n,a=[0,0,0];for(var u=0;u<3;u++)i=o+1/3*-(u-1),i<0&&i++,i>1&&i--,r=6*i<1?e+6*(n-e)*i:2*i<1?n:3*i<2?e+(n-e)*(2/3-i)*6:e,a[u]=255*r;return a},a.hsl.hsv=function(t){var e,n,i=t[0],a=t[1]/100,r=t[2]/100,o=a,l=Math.max(r,.01);return r*=2,a*=r<=1?r:2-r,o*=l<=1?l:2-l,n=(r+a)/2,e=0===r?2*o/(l+o):2*a/(r+a),[i,100*e,100*n]},a.hsv.rgb=function(t){var e=t[0]/60,n=t[1]/100,i=t[2]/100,a=Math.floor(e)%6,r=e-Math.floor(e),o=255*i*(1-n),l=255*i*(1-n*r),s=255*i*(1-n*(1-r));switch(i*=255,a){case 0:return[i,s,o];case 1:return[l,i,o];case 2:return[o,i,s];case 3:return[o,l,i];case 4:return[s,o,i];case 5:return[i,o,l]}},a.hsv.hsl=function(t){var e,n,i,a=t[0],r=t[1]/100,o=t[2]/100,l=Math.max(o,.01);return i=(2-r)*o,e=(2-r)*l,n=r*l,n/=e<=1?e:2-e,n=n||0,i/=2,[a,100*n,100*i]},a.hwb.rgb=function(t){var e,n,i,a,r=t[0]/360,o=t[1]/100,l=t[2]/100,s=o+l;s>1&&(o/=s,l/=s),e=Math.floor(6*r),n=1-l,i=6*r-e,0!==(1&e)&&(i=1-i),a=o+i*(n-o);var u,d,c;switch(e){default:case 6:case 0:u=n,d=a,c=o;break;case 1:u=a,d=n,c=o;break;case 2:u=o,d=n,c=a;break;case 3:u=o,d=a,c=n;break;case 4:u=a,d=o,c=n;break;case 5:u=n,d=o,c=a}return[255*u,255*d,255*c]},a.cmyk.rgb=function(t){var e,n,i,a=t[0]/100,r=t[1]/100,o=t[2]/100,l=t[3]/100;return e=1-Math.min(1,a*(1-l)+l),n=1-Math.min(1,r*(1-l)+l),i=1-Math.min(1,o*(1-l)+l),[255*e,255*n,255*i]},a.xyz.rgb=function(t){var e,n,i,a=t[0]/100,r=t[1]/100,o=t[2]/100;return e=3.2406*a+r*-1.5372+o*-.4986,n=a*-.9689+1.8758*r+.0415*o,i=.0557*a+r*-.204+1.057*o,e=e>.0031308?1.055*Math.pow(e,1/2.4)-.055:12.92*e,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,e=Math.min(Math.max(0,e),1),n=Math.min(Math.max(0,n),1),i=Math.min(Math.max(0,i),1),[255*e,255*n,255*i]},a.xyz.lab=function(t){var e,n,i,a=t[0],r=t[1],o=t[2];return a/=95.047,r/=100,o/=108.883,a=a>.008856?Math.pow(a,1/3):7.787*a+16/116,r=r>.008856?Math.pow(r,1/3):7.787*r+16/116,o=o>.008856?Math.pow(o,1/3):7.787*o+16/116,e=116*r-16,n=500*(a-r),i=200*(r-o),[e,n,i]},a.lab.xyz=function(t){var e,n,i,a=t[0],r=t[1],o=t[2];n=(a+16)/116,e=r/500+n,i=n-o/200;var l=Math.pow(n,3),s=Math.pow(e,3),u=Math.pow(i,3);return n=l>.008856?l:(n-16/116)/7.787,e=s>.008856?s:(e-16/116)/7.787,i=u>.008856?u:(i-16/116)/7.787,e*=95.047,n*=100,i*=108.883,[e,n,i]},a.lab.lch=function(t){var e,n,i,a=t[0],r=t[1],o=t[2];return e=Math.atan2(o,r),n=360*e/2/Math.PI,n<0&&(n+=360),i=Math.sqrt(r*r+o*o),[a,i,n]},a.lch.lab=function(t){var e,n,i,a=t[0],r=t[1],o=t[2];return i=o/360*2*Math.PI,e=r*Math.cos(i),n=r*Math.sin(i),[a,e,n]},a.rgb.ansi16=function(t){var e=t[0],n=t[1],i=t[2],r=1 in arguments?arguments[1]:a.rgb.hsv(t)[2];if(r=Math.round(r/50),0===r)return 30;var o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(e/255));return 2===r&&(o+=60),o},a.hsv.ansi16=function(t){return a.rgb.ansi16(a.hsv.rgb(t),t[2])},a.rgb.ansi256=function(t){var e=t[0],n=t[1],i=t[2];if(e===n&&n===i)return e<8?16:e>248?231:Math.round((e-8)/247*24)+232;var a=16+36*Math.round(e/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5);return a},a.ansi16.rgb=function(t){var e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];var n=.5*(~~(t>50)+1),i=(1&e)*n*255,a=(e>>1&1)*n*255,r=(e>>2&1)*n*255;return[i,a,r]},a.ansi256.rgb=function(t){if(t>=232){var e=10*(t-232)+8;return[e,e,e]}t-=16;var n,i=Math.floor(t/36)/5*255,a=Math.floor((n=t%36)/6)/5*255,r=n%6/5*255;return[i,a,r]},a.rgb.hex=function(t){var e=((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2])),n=e.toString(16).toUpperCase();return"000000".substring(n.length)+n},a.hex.rgb=function(t){var e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];var n=e[0];3===e[0].length&&(n=n.split("").map(function(t){return t+t}).join(""));var i=parseInt(n,16),a=i>>16&255,r=i>>8&255,o=255&i;return[a,r,o]},a.rgb.hcg=function(t){var e,n,i=t[0]/255,a=t[1]/255,r=t[2]/255,o=Math.max(Math.max(i,a),r),l=Math.min(Math.min(i,a),r),s=o-l;return e=s<1?l/(1-s):0,n=s<=0?0:o===i?(a-r)/s%6:o===a?2+(r-i)/s:4+(i-a)/s+4,n/=6,n%=1,[360*n,100*s,100*e]},a.hsl.hcg=function(t){var e=t[1]/100,n=t[2]/100,i=1,a=0;return i=n<.5?2*e*n:2*e*(1-n),i<1&&(a=(n-.5*i)/(1-i)),[t[0],100*i,100*a]},a.hsv.hcg=function(t){var e=t[1]/100,n=t[2]/100,i=e*n,a=0;return i<1&&(a=(n-i)/(1-i)),[t[0],100*i,100*a]},a.hcg.rgb=function(t){var e=t[0]/360,n=t[1]/100,i=t[2]/100;if(0===n)return[255*i,255*i,255*i];var a=[0,0,0],r=e%1*6,o=r%1,l=1-o,s=0;switch(Math.floor(r)){case 0:a[0]=1,a[1]=o,a[2]=0;break;case 1:a[0]=l,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=o;break;case 3:a[0]=0,a[1]=l,a[2]=1;break;case 4:a[0]=o,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=l}return s=(1-n)*i,[255*(n*a[0]+s),255*(n*a[1]+s),255*(n*a[2]+s)]},a.hcg.hsv=function(t){var e=t[1]/100,n=t[2]/100,i=e+n*(1-e),a=0;return i>0&&(a=e/i),[t[0],100*a,100*i]},a.hcg.hsl=function(t){var e=t[1]/100,n=t[2]/100,i=n*(1-e)+.5*e,a=0;return i>0&&i<.5?a=e/(2*i):i>=.5&&i<1&&(a=e/(2*(1-i))),[t[0],100*a,100*i]},a.hcg.hwb=function(t){var e=t[1]/100,n=t[2]/100,i=e+n*(1-e);return[t[0],100*(i-e),100*(1-i)]},a.hwb.hcg=function(t){var e=t[1]/100,n=t[2]/100,i=1-n,a=i-e,r=0;return a<1&&(r=(i-a)/(1-a)),[t[0],100*a,100*r]},a.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},a.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},a.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},a.gray.hsl=a.gray.hsv=function(t){return[0,0,t[0]]},a.gray.hwb=function(t){return[0,100,t[0]]},a.gray.cmyk=function(t){return[0,0,0,t[0]]},a.gray.lab=function(t){return[t[0],0,0]},a.gray.hex=function(t){var e=255&Math.round(t[0]/100*255),n=(e<<16)+(e<<8)+e,i=n.toString(16).toUpperCase();return"000000".substring(i.length)+i},a.rgb.gray=function(t){var e=(t[0]+t[1]+t[2])/3;return[e/255*100]}}),Ze=(Ke.rgb,Ke.hsl,Ke.hsv,Ke.hwb,Ke.cmyk,Ke.xyz,Ke.lab,Ke.lch,Ke.hex,Ke.keyword,Ke.ansi16,Ke.ansi256,Ke.hcg,Ke.apple,Ke.gray,function(t){for(var e=a(t),n={},i=Object.keys(e),r=i.length,l=0;l<r;l++){var s=i[l],u=e[s];null!==u.parent&&(n[s]=o(s,e))}return n}),$e={},Je=Object.keys(Ke);Je.forEach(function(t){$e[t]={},Object.defineProperty($e[t],"channels",{value:Ke[t].channels}),Object.defineProperty($e[t],"labels",{value:Ke[t].labels});var e=Ze(t),n=Object.keys(e);n.forEach(function(n){var i=e[n];$e[t][n]=s(i),$e[t][n].raw=l(i)})});var Qe=$e,tn={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},en={getRgba:u,getHsla:d,getRgb:h,getHsl:f,getHwb:c,getAlpha:g,hexString:p,rgbString:m,rgbaString:v,percentString:b,percentaString:x,hslString:y,hslaString:_,hwbString:k,keyword:w},nn={};for(var an in tn)nn[tn[an]]=an;var rn=function(t){if(t instanceof rn)return t;if(!(this instanceof rn))return new rn(t);this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1};var e;"string"==typeof t?(e=en.getRgba(t),e?this.setValues("rgb",e):(e=en.getHsla(t))?this.setValues("hsl",e):(e=en.getHwb(t))&&this.setValues("hwb",e)):"object"==typeof t&&(e=t,void 0!==e.r||void 0!==e.red?this.setValues("rgb",e):void 0!==e.l||void 0!==e.lightness?this.setValues("hsl",e):void 0!==e.v||void 0!==e.value?this.setValues("hsv",e):void 0!==e.w||void 0!==e.whiteness?this.setValues("hwb",e):void 0===e.c&&void 0===e.cyan||this.setValues("cmyk",e))};rn.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var t=this.values;return 1!==t.alpha?t.hwb.concat([t.alpha]):t.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var t=this.values;return t.rgb.concat([t.alpha])},hslaArray:function(){var t=this.values;return t.hsl.concat([t.alpha])},alpha:function(t){return void 0===t?this.values.alpha:(this.setValues("alpha",t),this)},red:function(t){return this.setChannel("rgb",0,t)},green:function(t){return this.setChannel("rgb",1,t)},blue:function(t){return this.setChannel("rgb",2,t)},hue:function(t){return t&&(t%=360,t=t<0?360+t:t),this.setChannel("hsl",0,t)},saturation:function(t){return this.setChannel("hsl",1,t)},lightness:function(t){return this.setChannel("hsl",2,t)},saturationv:function(t){return this.setChannel("hsv",1,t)},whiteness:function(t){return this.setChannel("hwb",1,t)},blackness:function(t){return this.setChannel("hwb",2,t)},value:function(t){return this.setChannel("hsv",2,t)},cyan:function(t){return this.setChannel("cmyk",0,t)},magenta:function(t){return this.setChannel("cmyk",1,t)},yellow:function(t){return this.setChannel("cmyk",2,t)},black:function(t){return this.setChannel("cmyk",3,t)},hexString:function(){return en.hexString(this.values.rgb)},rgbString:function(){return en.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return en.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return en.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return en.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return en.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return en.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return en.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var t=this.values.rgb;return t[0]<<16|t[1]<<8|t[2]},luminosity:function(){for(var t=this.values.rgb,e=[],n=0;n<t.length;n++){var i=t[n]/255;e[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*e[0]+.7152*e[1]+.0722*e[2]},contrast:function(t){var e=this.luminosity(),n=t.luminosity();return e>n?(e+.05)/(n+.05):(n+.05)/(e+.05)},level:function(t){var e=this.contrast(t);return e>=7.1?"AAA":e>=4.5?"AA":""},dark:function(){var t=this.values.rgb,e=(299*t[0]+587*t[1]+114*t[2])/1e3;return e<128},light:function(){return!this.dark()},negate:function(){for(var t=[],e=0;e<3;e++)t[e]=255-this.values.rgb[e];return this.setValues("rgb",t),this},lighten:function(t){var e=this.values.hsl;return e[2]+=e[2]*t,this.setValues("hsl",e),this},darken:function(t){var e=this.values.hsl;return e[2]-=e[2]*t,this.setValues("hsl",e),this},saturate:function(t){var e=this.values.hsl;return e[1]+=e[1]*t,this.setValues("hsl",e),this},desaturate:function(t){var e=this.values.hsl;return e[1]-=e[1]*t,this.setValues("hsl",e),this},whiten:function(t){var e=this.values.hwb;return e[1]+=e[1]*t,this.setValues("hwb",e),this},blacken:function(t){var e=this.values.hwb;return e[2]+=e[2]*t,this.setValues("hwb",e),this},greyscale:function(){var t=this.values.rgb,e=.3*t[0]+.59*t[1]+.11*t[2];return this.setValues("rgb",[e,e,e]),this},clearer:function(t){var e=this.values.alpha;return this.setValues("alpha",e-e*t),this},opaquer:function(t){var e=this.values.alpha;return this.setValues("alpha",e+e*t),this},rotate:function(t){var e=this.values.hsl,n=(e[0]+t)%360;return e[0]=n<0?360+n:n,this.setValues("hsl",e),this},mix:function(t,e){var n=this,i=t,a=void 0===e?.5:e,r=2*a-1,o=n.alpha()-i.alpha(),l=((r*o===-1?r:(r+o)/(1+r*o))+1)/2,s=1-l;return this.rgb(l*n.red()+s*i.red(),l*n.green()+s*i.green(),l*n.blue()+s*i.blue()).alpha(n.alpha()*a+i.alpha()*(1-a))},toJSON:function(){return this.rgb()},clone:function(){var t,e,n=new rn,i=this.values,a=n.values;for(var r in i)i.hasOwnProperty(r)&&(t=i[r],e={}.toString.call(t),"[object Array]"===e?a[r]=t.slice(0):"[object Number]"===e?a[r]=t:console.error("unexpected color value:",t));return n}},rn.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},rn.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},rn.prototype.getValues=function(t){for(var e=this.values,n={},i=0;i<t.length;i++)n[t.charAt(i)]=e[t][i];return 1!==e.alpha&&(n.a=e.alpha),n},rn.prototype.setValues=function(t,e){var n,i=this.values,a=this.spaces,r=this.maxes,o=1;if(this.valid=!0,"alpha"===t)o=e;else if(e.length)i[t]=e.slice(0,t.length),o=e[t.length];else if(void 0!==e[t.charAt(0)]){for(n=0;n<t.length;n++)i[t][n]=e[t.charAt(n)];o=e.a}else if(void 0!==e[a[t][0]]){var l=a[t];for(n=0;n<t.length;n++)i[t][n]=e[l[n]];o=e.alpha}if(i.alpha=Math.max(0,Math.min(1,void 0===o?i.alpha:o)),"alpha"===t)return!1;var s;for(n=0;n<t.length;n++)s=Math.max(0,Math.min(r[t][n],i[t][n])),i[t][n]=Math.round(s);for(var u in a)u!==t&&(i[u]=Qe[t][u](i[t]));return!0},rn.prototype.setSpace=function(t,e){var n=e[0];return void 0===n?this.getValues(t):("number"==typeof n&&(n=Array.prototype.slice.call(e)),this.setValues(t,n),this)},rn.prototype.setChannel=function(t,e,n){var i=this.values[t];return void 0===n?i[e]:n===i[e]?this:(i[e]=n,this.setValues(t,i),this)},"undefined"!=typeof window&&(window.Color=rn);var on=rn,ln={noop:function(){},uid:function(){var t=0;return function(){return t++}}(),isNullOrUndef:function(t){return null===t||"undefined"==typeof t},isArray:function(t){if(Array.isArray&&Array.isArray(t))return!0;var e=Object.prototype.toString.call(t);return"[object"===e.substr(0,7)&&"Array]"===e.substr(-6)},isObject:function(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)},isFinite:function(t){return("number"==typeof t||t instanceof Number)&&isFinite(t)},valueOrDefault:function(t,e){return"undefined"==typeof t?e:t},valueAtIndexOrDefault:function(t,e,n){return ln.valueOrDefault(ln.isArray(t)?t[e]:t,n)},callback:function(t,e,n){if(t&&"function"==typeof t.call)return t.apply(n,e)},each:function(t,e,n,i){var a,r,o;if(ln.isArray(t))if(r=t.length,i)for(a=r-1;a>=0;a--)e.call(n,t[a],a);else for(a=0;a<r;a++)e.call(n,t[a],a);else if(ln.isObject(t))for(o=Object.keys(t),r=o.length,a=0;a<r;a++)e.call(n,t[o[a]],o[a])},arrayEquals:function(t,e){var n,i,a,r;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(a=t[n],r=e[n],a instanceof Array&&r instanceof Array){if(!ln.arrayEquals(a,r))return!1}else if(a!==r)return!1;return!0},clone:function(t){if(ln.isArray(t))return t.map(ln.clone);if(ln.isObject(t)){for(var e=Object.create(t),n=Object.keys(t),i=n.length,a=0;a<i;++a)e[n[a]]=ln.clone(t[n[a]]);return e}return t},_merger:function(t,e,n,i){if(C(t)){var a=e[t],r=n[t];ln.isObject(a)&&ln.isObject(r)?ln.merge(a,r,i):e[t]=ln.clone(r)}},_mergerIf:function(t,e,n){if(C(t)){var i=e[t],a=n[t];ln.isObject(i)&&ln.isObject(a)?ln.mergeIf(i,a):e.hasOwnProperty(t)||(e[t]=ln.clone(a))}},merge:function(t,e,n){var i,a,r,o,l,s=ln.isArray(e)?e:[e],u=s.length;if(!ln.isObject(t))return t;for(n=n||{},i=n.merger||ln._merger,a=0;a<u;++a)if(e=s[a],ln.isObject(e))for(r=Object.keys(e),l=0,o=r.length;l<o;++l)i(r[l],t,e,n);return t},mergeIf:function(t,e){return ln.merge(t,e,{merger:ln._mergerIf})},extend:Object.assign||function(t){return ln.merge(t,[].slice.call(arguments,1),{merger:function(t,e,n){e[t]=n[t]}})},inherits:function(t){var e=this,n=t&&t.hasOwnProperty("constructor")?t.constructor:function(){return e.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=e.prototype,n.prototype=new i,n.extend=ln.inherits,t&&ln.extend(n.prototype,t),n.__super__=e.prototype,n},_deprecated:function(t,e,n,i){void 0!==e&&console.warn(t+': "'+n+'" is deprecated. Please use "'+i+'" instead')}},sn=ln;ln.callCallback=ln.callback,ln.indexOf=function(t,e,n){return Array.prototype.indexOf.call(t,e,n)},ln.getValueOrDefault=ln.valueOrDefault,ln.getValueAtIndexOrDefault=ln.valueAtIndexOrDefault;var un={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return(t-=1)*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-((t-=1)*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return(t-=1)*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return-Math.cos(t*(Math.PI/2))+1},easeOutSine:function(t){return Math.sin(t*(Math.PI/2))},easeInOutSine:function(t){return-.5*(Math.cos(Math.PI*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:-Math.pow(2,-10*t)+1},easeInOutExpo:function(t){return 0===t?0:1===t?1:(t/=.5)<1?.5*Math.pow(2,10*(t-1)):.5*(-Math.pow(2,-10*--t)+2)},easeInCirc:function(t){return t>=1?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1-(t-=1)*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),-(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)))},easeOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:1===t?1:(n||(n=.3),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/n)+1)},easeInOutElastic:function(t){var e=1.70158,n=0,i=1;return 0===t?0:2===(t/=.5)?1:(n||(n=.45),i<1?(i=1,e=n/4):e=n/(2*Math.PI)*Math.asin(1/i),t<1?-.5*(i*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)):i*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/n)*.5+1)},easeInBack:function(t){var e=1.70158;return t*t*((e+1)*t-e)},easeOutBack:function(t){var e=1.70158;return(t-=1)*t*((e+1)*t+e)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:function(t){return 1-un.easeOutBounce(1-t)},easeOutBounce:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*un.easeInBounce(2*t):.5*un.easeOutBounce(2*t-1)+.5}},dn={effects:un};sn.easingEffects=un;var cn=Math.PI,hn=cn/180,fn=2*cn,gn=cn/2,pn=cn/4,mn=2*cn/3,vn={clear:function(t){t.ctx.clearRect(0,0,t.width,t.height)},roundedRect:function(t,e,n,i,a,r){if(r){var o=Math.min(r,a/2,i/2),l=e+o,s=n+o,u=e+i-o,d=n+a-o;t.moveTo(e,s),l<u&&s<d?(t.arc(l,s,o,-cn,-gn),t.arc(u,s,o,-gn,0),t.arc(u,d,o,0,gn),t.arc(l,d,o,gn,cn)):l<u?(t.moveTo(l,n),t.arc(u,s,o,-gn,gn),t.arc(l,s,o,gn,cn+gn)):s<d?(t.arc(l,s,o,-cn,0),t.arc(l,d,o,0,cn)):t.arc(l,s,o,-cn,cn),t.closePath(),t.moveTo(e,n)}else t.rect(e,n,i,a)},drawPoint:function(t,e,n,i,a,r){var o,l,s,u,d,c=(r||0)*hn;if(e&&"object"==typeof e&&(o=e.toString(),"[object HTMLImageElement]"===o||"[object HTMLCanvasElement]"===o))return t.save(),t.translate(i,a),t.rotate(c),t.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),void t.restore();if(!(isNaN(n)||n<=0)){switch(t.beginPath(),e){default:t.arc(i,a,n,0,fn),t.closePath();break;case"triangle":t.moveTo(i+Math.sin(c)*n,a-Math.cos(c)*n),c+=mn,t.lineTo(i+Math.sin(c)*n,a-Math.cos(c)*n),c+=mn,t.lineTo(i+Math.sin(c)*n,a-Math.cos(c)*n),t.closePath();break;case"rectRounded":d=.516*n,u=n-d,l=Math.cos(c+pn)*u,s=Math.sin(c+pn)*u,t.arc(i-l,a-s,d,c-cn,c-gn),t.arc(i+s,a-l,d,c-gn,c),t.arc(i+l,a+s,d,c,c+gn),t.arc(i-s,a+l,d,c+gn,c+cn),t.closePath();break;case"rect":if(!r){u=Math.SQRT1_2*n,t.rect(i-u,a-u,2*u,2*u);break}c+=pn;case"rectRot":l=Math.cos(c)*n,s=Math.sin(c)*n,t.moveTo(i-l,a-s),t.lineTo(i+s,a-l),t.lineTo(i+l,a+s),t.lineTo(i-s,a+l),t.closePath();break;case"crossRot":c+=pn;case"cross":l=Math.cos(c)*n,s=Math.sin(c)*n,t.moveTo(i-l,a-s),t.lineTo(i+l,a+s),t.moveTo(i+s,a-l),t.lineTo(i-s,a+l);break;case"star":l=Math.cos(c)*n,s=Math.sin(c)*n,t.moveTo(i-l,a-s),t.lineTo(i+l,a+s),t.moveTo(i+s,a-l),t.lineTo(i-s,a+l),c+=pn,l=Math.cos(c)*n,s=Math.sin(c)*n,t.moveTo(i-l,a-s),t.lineTo(i+l,a+s),t.moveTo(i+s,a-l),t.lineTo(i-s,a+l);break;case"line":l=Math.cos(c)*n,s=Math.sin(c)*n,t.moveTo(i-l,a-s),t.lineTo(i+l,a+s);break;case"dash":t.moveTo(i,a),t.lineTo(i+Math.cos(c)*n,a+Math.sin(c)*n)}t.fill(),t.stroke()}},_isPointInArea:function(t,e){var n=1e-6;return t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n},clipArea:function(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()},unclipArea:function(t){t.restore()},lineTo:function(t,e,n,i){var a=n.steppedLine;if(a){if("middle"===a){var r=(e.x+n.x)/2;t.lineTo(r,i?n.y:e.y),t.lineTo(r,i?e.y:n.y)}else"after"===a&&!i||"after"!==a&&i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);return void t.lineTo(n.x,n.y)}return n.tension?void t.bezierCurveTo(i?e.controlPointPreviousX:e.controlPointNextX,i?e.controlPointPreviousY:e.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):void t.lineTo(n.x,n.y)}},bn=vn;sn.clear=vn.clear,sn.drawRoundedRectangle=function(t){t.beginPath(),vn.roundedRect.apply(vn,arguments)};var xn={_set:function(t,e){return sn.merge(this[t]||(this[t]={}),e)}};xn._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var yn=xn,_n=sn.valueOrDefault,kn={toLineHeight:function(t,e){var n=(""+t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*e;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100}return e*t},toPadding:function(t){var e,n,i,a;return sn.isObject(t)?(e=+t.top||0,n=+t.right||0,i=+t.bottom||0,a=+t.left||0):e=n=i=a=+t||0,{top:e,right:n,bottom:i,left:a,height:e+i,width:a+n}},_parseFont:function(t){var e=yn.global,n=_n(t.fontSize,e.defaultFontSize),i={family:_n(t.fontFamily,e.defaultFontFamily),lineHeight:sn.options.toLineHeight(_n(t.lineHeight,e.defaultLineHeight),n),size:n,style:_n(t.fontStyle,e.defaultFontStyle),weight:null,string:""};return i.string=P(i),i},resolve:function(t,e,n,i){var a,r,o,l=!0;for(a=0,r=t.length;a<r;++a)if(o=t[a],void 0!==o&&(void 0!==e&&"function"==typeof o&&(o=o(e),l=!1),void 0!==n&&sn.isArray(o)&&(o=o[n],l=!1),void 0!==o))return i&&!l&&(i.cacheable=!1),o}},wn={_factorize:function(t){var e,n=[],i=Math.sqrt(t);for(e=1;e<i;e++)t%e===0&&(n.push(e),n.push(t/e));return i===(0|i)&&n.push(i),n.sort(function(t,e){return t-e}).pop(),n},log10:Math.log10||function(t){var e=Math.log(t)*Math.LOG10E,n=Math.round(e),i=t===Math.pow(10,n);return i?n:e}},Mn=wn;sn.log10=wn.log10;var Sn=function(t,e){return{x:function(n){return t+t+e-n},setWidth:function(t){e=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right";
},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}},Cn=function(){return{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}},Pn=function(t,e,n){return t?Sn(e,n):Cn()},An=function(t,e){var n,i;"ltr"!==e&&"rtl"!==e||(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)},Dn=function(t){var e=t.prevTextDirection;void 0!==e&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))},Tn={getRtlAdapter:Pn,overrideTextDirection:An,restoreTextDirection:Dn},In=sn,Fn=dn,On=bn,Ln=kn,Rn=Mn,zn=Tn;In.easing=Fn,In.canvas=On,In.options=Ln,In.math=Rn,In.rtl=zn;var Nn=function(t){In.extend(this,t),this.initialize.apply(this,arguments)};In.extend(Nn.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var t=this;return t._view||(t._view=In.extend({},t._model)),t._start={},t},transition:function(t){var e=this,n=e._model,i=e._start,a=e._view;return n&&1!==t?(a||(a=e._view={}),i||(i=e._start={}),A(i,a,n,t),e):(e._view=In.extend({},n),e._start=null,e)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return In.isNumber(this._model.x)&&In.isNumber(this._model.y)}}),Nn.extend=In.inherits;var Bn=Nn,En=Bn.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Wn=En;Object.defineProperty(En.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(En.prototype,"chartInstance",{get:function(){return this.chart},set:function(t){this.chart=t}}),yn._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:In.noop,onComplete:In.noop}});var Vn={animations:[],request:null,addAnimation:function(t,e,n,i){var a,r,o=this.animations;for(e.chart=t,e.startTime=Date.now(),e.duration=n,i||(t.animating=!0),a=0,r=o.length;a<r;++a)if(o[a].chart===t)return void(o[a]=e);o.push(e),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(t){var e=In.findIndex(this.animations,function(e){return e.chart===t});e!==-1&&(this.animations.splice(e,1),t.animating=!1)},requestAnimationFrame:function(){var t=this;null===t.request&&(t.request=In.requestAnimFrame.call(window,function(){t.request=null,t.startDigest()}))},startDigest:function(){var t=this;t.advance(),t.animations.length>0&&t.requestAnimationFrame()},advance:function(){for(var t,e,n,i,a=this.animations,r=0;r<a.length;)t=a[r],e=t.chart,n=t.numSteps,i=Math.floor((Date.now()-t.startTime)/t.duration*n)+1,t.currentStep=Math.min(i,n),In.callback(t.render,[e,t],e),In.callback(t.onAnimationProgress,[t],e),t.currentStep>=n?(In.callback(t.onAnimationComplete,[t],e),e.animating=!1,a.splice(r,1)):++r}},Hn=In.options.resolve,jn=["push","pop","shift","splice","unshift"],qn=function(t,e){this.initialize(t,e)};In.extend(qn.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(t,e){var n=this;n.chart=t,n.index=e,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(t){this.index=t},linkScales:function(){var t=this,e=t.getMeta(),n=t.chart,i=n.scales,a=t.getDataset(),r=n.options.scales;null!==e.xAxisID&&e.xAxisID in i&&!a.xAxisID||(e.xAxisID=a.xAxisID||r.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in i&&!a.yAxisID||(e.yAxisID=a.yAxisID||r.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(t){return this.chart.scales[t]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&T(this._data,this)},createMetaDataset:function(){var t=this,e=t.datasetElementType;return e&&new e({_chart:t.chart,_datasetIndex:t.index})},createMetaData:function(t){var e=this,n=e.dataElementType;return n&&new n({_chart:e.chart,_datasetIndex:e.index,_index:t})},addElements:function(){var t,e,n=this,i=n.getMeta(),a=n.getDataset().data||[],r=i.data;for(t=0,e=a.length;t<e;++t)r[t]=r[t]||n.createMetaData(t);i.dataset=i.dataset||n.createMetaDataset()},addElementAndReset:function(t){var e=this.createMetaData(t);this.getMeta().data.splice(t,0,e),this.updateElement(e,t,!0)},buildOrUpdateElements:function(){var t=this,e=t.getDataset(),n=e.data||(e.data=[]);t._data!==n&&(t._data&&T(t._data,t),n&&Object.isExtensible(n)&&D(n,t),t._data=n),t.resyncElements()},_configure:function(){var t=this;t._config=In.merge(Object.create(null),[t.chart.options.datasets[t._type],t.getDataset()],{merger:function(t,e,n){"_meta"!==t&&"data"!==t&&In._merger(t,e,n)}})},_update:function(t){var e=this;e._configure(),e._cachedDataOpts=null,e.update(t)},update:In.noop,transition:function(t){for(var e=this.getMeta(),n=e.data||[],i=n.length,a=0;a<i;++a)n[a].transition(t);e.dataset&&e.dataset.transition(t)},draw:function(){var t=this.getMeta(),e=t.data||[],n=e.length,i=0;for(t.dataset&&t.dataset.draw();i<n;++i)e[i].draw()},getStyle:function(t){var e,n=this,i=n.getMeta(),a=i.dataset;return n._configure(),a&&void 0===t?e=n._resolveDatasetElementOptions(a||{}):(t=t||0,e=n._resolveDataElementOptions(i.data[t]||{},t)),e.fill!==!1&&null!==e.fill||(e.backgroundColor=e.borderColor),e},_resolveDatasetElementOptions:function(t,e){var n,i,a,r,o=this,l=o.chart,s=o._config,u=t.custom||{},d=l.options.elements[o.datasetElementType.prototype._type]||{},c=o._datasetElementOptions,h={},f={chart:l,dataset:o.getDataset(),datasetIndex:o.index,hover:e};for(n=0,i=c.length;n<i;++n)a=c[n],r=e?"hover"+a.charAt(0).toUpperCase()+a.slice(1):a,h[a]=Hn([u[r],s[r],d[r]],f);return h},_resolveDataElementOptions:function(t,e){var n=this,i=t&&t.custom,a=n._cachedDataOpts;if(a&&!i)return a;var r,o,l,s,u=n.chart,d=n._config,c=u.options.elements[n.dataElementType.prototype._type]||{},h=n._dataElementOptions,f={},g={chart:u,dataIndex:e,dataset:n.getDataset(),datasetIndex:n.index},p={cacheable:!i};if(i=i||{},In.isArray(h))for(o=0,l=h.length;o<l;++o)s=h[o],f[s]=Hn([i[s],d[s],c[s]],g,e,p);else for(r=Object.keys(h),o=0,l=r.length;o<l;++o)s=r[o],f[s]=Hn([i[s],d[h[s]],d[s],c[s]],g,e,p);return p.cacheable&&(n._cachedDataOpts=Object.freeze(f)),f},removeHoverStyle:function(t){In.merge(t._model,t.$previousStyle||{}),delete t.$previousStyle},setHoverStyle:function(t){var e=this.chart.data.datasets[t._datasetIndex],n=t._index,i=t.custom||{},a=t._model,r=In.getHoverColor;t.$previousStyle={backgroundColor:a.backgroundColor,borderColor:a.borderColor,borderWidth:a.borderWidth},a.backgroundColor=Hn([i.hoverBackgroundColor,e.hoverBackgroundColor,r(a.backgroundColor)],void 0,n),a.borderColor=Hn([i.hoverBorderColor,e.hoverBorderColor,r(a.borderColor)],void 0,n),a.borderWidth=Hn([i.hoverBorderWidth,e.hoverBorderWidth,a.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var t=this.getMeta().dataset;t&&this.removeHoverStyle(t)},_setDatasetHoverStyle:function(){var t,e,n,i,a,r,o=this.getMeta().dataset,l={};if(o){for(r=o._model,a=this._resolveDatasetElementOptions(o,!0),i=Object.keys(a),t=0,e=i.length;t<e;++t)n=i[t],l[n]=r[n],r[n]=a[n];o.$previousStyle=l}},resyncElements:function(){var t=this,e=t.getMeta(),n=t.getDataset().data,i=e.data.length,a=n.length;a<i?e.data.splice(a,i-a):a>i&&t.insertElements(i,a-i)},insertElements:function(t,e){for(var n=0;n<e;++n)this.addElementAndReset(t+n)},onDataPush:function(){var t=arguments.length;this.insertElements(this.getDataset().data.length-t,t)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(t,e){this.getMeta().data.splice(t,e),this.insertElements(t,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),qn.extend=In.inherits;var Un=qn,Yn=2*Math.PI;yn._set("global",{elements:{arc:{backgroundColor:yn.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var Gn=Bn.extend({_type:"arc",inLabelRange:function(t){var e=this._view;return!!e&&Math.pow(t-e.x,2)<Math.pow(e.radius+e.hoverRadius,2)},inRange:function(t,e){var n=this._view;if(n){for(var i=In.getAngleFromPoint(n,{x:t,y:e}),a=i.angle,r=i.distance,o=n.startAngle,l=n.endAngle;l<o;)l+=Yn;for(;a>l;)a-=Yn;for(;a<o;)a+=Yn;var s=a>=o&&a<=l,u=r>=n.innerRadius&&r<=n.outerRadius;return s&&u}return!1},getCenterPoint:function(){var t=this._view,e=(t.startAngle+t.endAngle)/2,n=(t.innerRadius+t.outerRadius)/2;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},getArea:function(){var t=this._view;return Math.PI*((t.endAngle-t.startAngle)/(2*Math.PI))*(Math.pow(t.outerRadius,2)-Math.pow(t.innerRadius,2))},tooltipPosition:function(){var t=this._view,e=t.startAngle+(t.endAngle-t.startAngle)/2,n=(t.outerRadius-t.innerRadius)/2+t.innerRadius;return{x:t.x+Math.cos(e)*n,y:t.y+Math.sin(e)*n}},draw:function(){var t,e=this._chart.ctx,n=this._view,i="inner"===n.borderAlign?.33:0,a={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-i,0),pixelMargin:i,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/Yn)};if(e.save(),e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,a.fullCircles){for(a.endAngle=a.startAngle+Yn,e.beginPath(),e.arc(a.x,a.y,a.outerRadius,a.startAngle,a.endAngle),e.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),e.closePath(),t=0;t<a.fullCircles;++t)e.fill();a.endAngle=a.startAngle+n.circumference%Yn}e.beginPath(),e.arc(a.x,a.y,a.outerRadius,a.startAngle,a.endAngle),e.arc(a.x,a.y,a.innerRadius,a.endAngle,a.startAngle,!0),e.closePath(),e.fill(),n.borderWidth&&O(e,n,a),e.restore()}}),Xn=In.valueOrDefault,Kn=yn.global.defaultColor;yn._set("global",{elements:{line:{tension:.4,backgroundColor:Kn,borderWidth:3,borderColor:Kn,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var Zn=Bn.extend({_type:"line",draw:function(){var t,e,n,i=this,a=i._view,r=i._chart.ctx,o=a.spanGaps,l=i._children.slice(),s=yn.global,u=s.elements.line,d=-1,c=i._loop;if(l.length){if(i._loop){for(t=0;t<l.length;++t)if(e=In.previousItem(l,t),!l[t]._view.skip&&e._view.skip){l=l.slice(t).concat(l.slice(0,t)),c=o;break}c&&l.push(l[0])}for(r.save(),r.lineCap=a.borderCapStyle||u.borderCapStyle,r.setLineDash&&r.setLineDash(a.borderDash||u.borderDash),r.lineDashOffset=Xn(a.borderDashOffset,u.borderDashOffset),r.lineJoin=a.borderJoinStyle||u.borderJoinStyle,r.lineWidth=Xn(a.borderWidth,u.borderWidth),r.strokeStyle=a.borderColor||s.defaultColor,r.beginPath(),n=l[0]._view,n.skip||(r.moveTo(n.x,n.y),d=0),t=1;t<l.length;++t)n=l[t]._view,e=d===-1?In.previousItem(l,t):l[d],n.skip||(d!==t-1&&!o||d===-1?r.moveTo(n.x,n.y):In.canvas.lineTo(r,e._view,n),d=t);c&&r.closePath(),r.stroke(),r.restore()}}}),$n=In.valueOrDefault,Jn=yn.global.defaultColor;yn._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:Jn,borderColor:Jn,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var Qn=Bn.extend({_type:"point",inRange:function(t,e){var n=this._view;return!!n&&Math.pow(t-n.x,2)+Math.pow(e-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:L,inXRange:L,inYRange:R,getCenterPoint:function(){var t=this._view;return{x:t.x,y:t.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y,padding:t.radius+t.borderWidth}},draw:function(t){var e=this._view,n=this._chart.ctx,i=e.pointStyle,a=e.rotation,r=e.radius,o=e.x,l=e.y,s=yn.global,u=s.defaultColor;e.skip||(void 0===t||In.canvas._isPointInArea(e,t))&&(n.strokeStyle=e.borderColor||u,n.lineWidth=$n(e.borderWidth,s.elements.point.borderWidth),n.fillStyle=e.backgroundColor||u,In.canvas.drawPoint(n,i,r,o,l,a))}}),ti=yn.global.defaultColor;yn._set("global",{elements:{rectangle:{backgroundColor:ti,borderColor:ti,borderSkipped:"bottom",borderWidth:0}}});var ei=Bn.extend({_type:"rectangle",draw:function(){var t=this._chart.ctx,e=this._view,n=V(e),i=n.outer,a=n.inner;t.fillStyle=e.backgroundColor,t.fillRect(i.x,i.y,i.w,i.h),i.w===a.w&&i.h===a.h||(t.save(),t.beginPath(),t.rect(i.x,i.y,i.w,i.h),t.clip(),t.fillStyle=e.borderColor,t.rect(a.x,a.y,a.w,a.h),t.fill("evenodd"),t.restore())},height:function(){var t=this._view;return t.base-t.y},inRange:function(t,e){return H(this._view,t,e)},inLabelRange:function(t,e){var n=this._view;return z(n)?H(n,t,null):H(n,null,e)},inXRange:function(t){return H(this._view,t,null)},inYRange:function(t){return H(this._view,null,t)},getCenterPoint:function(){var t,e,n=this._view;return z(n)?(t=n.x,e=(n.y+n.base)/2):(t=(n.x+n.base)/2,e=n.y),{x:t,y:e}},getArea:function(){var t=this._view;return z(t)?t.width*Math.abs(t.y-t.base):t.height*Math.abs(t.x-t.base)},tooltipPosition:function(){var t=this._view;return{x:t.x,y:t.y}}}),ni={},ii=Gn,ai=Zn,ri=Qn,oi=ei;ni.Arc=ii,ni.Line=ai,ni.Point=ri,ni.Rectangle=oi;var li=In._deprecated,si=In.valueOrDefault;yn._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),yn._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var ui=Un.extend({dataElementType:ni.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var t,e,n=this;Un.prototype.initialize.apply(n,arguments),t=n.getMeta(),t.stack=n.getDataset().stack,t.bar=!0,e=n._getIndexScale().options,li("bar chart",e.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),li("bar chart",e.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),li("bar chart",e.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),li("bar chart",n._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),li("bar chart",e.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(t){var e,n,i=this,a=i.getMeta().data;for(i._ruler=i.getRuler(),e=0,n=a.length;e<n;++e)i.updateElement(a[e],e,t)},updateElement:function(t,e,n){var i=this,a=i.getMeta(),r=i.getDataset(),o=i._resolveDataElementOptions(t,e);t._xScale=i.getScaleForId(a.xAxisID),t._yScale=i.getScaleForId(a.yAxisID),t._datasetIndex=i.index,t._index=e,t._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:r.label,label:i.chart.data.labels[e]},In.isArray(r.data[e])&&(t._model.borderSkipped=null),i._updateElementGeometry(t,e,n,o),t.pivot()},_updateElementGeometry:function(t,e,n,i){var a=this,r=t._model,o=a._getValueScale(),l=o.getBasePixel(),s=o.isHorizontal(),u=a._ruler||a.getRuler(),d=a.calculateBarValuePixels(a.index,e,i),c=a.calculateBarIndexPixels(a.index,e,u,i);r.horizontal=s,r.base=n?l:d.base,r.x=s?n?l:d.head:c.center,r.y=s?c.center:n?l:d.head,r.height=s?c.size:void 0,r.width=s?void 0:c.size},_getStacks:function(t){var e,n,i=this,a=i._getIndexScale(),r=a._getMatchingVisibleMetas(i._type),o=a.options.stacked,l=r.length,s=[];for(e=0;e<l&&(n=r[e],(o===!1||s.indexOf(n.stack)===-1||void 0===o&&void 0===n.stack)&&s.push(n.stack),n.index!==t);++e);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(t,e){var n=this._getStacks(t),i=void 0!==e?n.indexOf(e):-1;return i===-1?n.length-1:i},getRuler:function(){var t,e,n=this,i=n._getIndexScale(),a=[];for(t=0,e=n.getMeta().data.length;t<e;++t)a.push(i.getPixelForValue(null,t,n.index));return{pixels:a,start:i._startPixel,end:i._endPixel,stackCount:n.getStackCount(),scale:i}},calculateBarValuePixels:function(t,e,n){var i,a,r,o,l,s,u,d=this,c=d.chart,h=d._getValueScale(),f=h.isHorizontal(),g=c.data.datasets,p=h._getMatchingVisibleMetas(d._type),m=h._parseValue(g[t].data[e]),v=n.minBarLength,b=h.options.stacked,x=d.getMeta().stack,y=void 0===m.start?0:m.max>=0&&m.min>=0?m.min:m.max,_=void 0===m.start?m.end:m.max>=0&&m.min>=0?m.max-m.min:m.min-m.max,k=p.length;if(b||void 0===b&&void 0!==x)for(i=0;i<k&&(a=p[i],a.index!==t);++i)a.stack===x&&(u=h._parseValue(g[a.index].data[e]),r=void 0===u.start?u.end:u.min>=0&&u.max>=0?u.max:u.min,(m.min<0&&r<0||m.max>=0&&r>0)&&(y+=r));return o=h.getPixelForValue(y),l=h.getPixelForValue(y+_),s=l-o,void 0!==v&&Math.abs(s)<v&&(s=v,l=_>=0&&!f||_<0&&f?o-v:o+v),{size:s,base:o,head:l,center:l+s/2}},calculateBarIndexPixels:function(t,e,n,i){var a=this,r="flex"===i.barThickness?U(e,n,i):q(e,n,i),o=a.getStackIndex(t,a.getMeta().stack),l=r.start+r.chunk*o+r.chunk/2,s=Math.min(si(i.maxBarThickness,1/0),r.chunk*r.ratio);return{base:l-s/2,head:l+s/2,center:l,size:s}},draw:function(){var t=this,e=t.chart,n=t._getValueScale(),i=t.getMeta().data,a=t.getDataset(),r=i.length,o=0;for(In.canvas.clipArea(e.ctx,e.chartArea);o<r;++o){var l=n._parseValue(a.data[o]);isNaN(l.min)||isNaN(l.max)||i[o].draw()}In.canvas.unclipArea(e.ctx)},_resolveDataElementOptions:function(){var t=this,e=In.extend({},Un.prototype._resolveDataElementOptions.apply(t,arguments)),n=t._getIndexScale().options,i=t._getValueScale().options;return e.barPercentage=si(n.barPercentage,e.barPercentage),e.barThickness=si(n.barThickness,e.barThickness),e.categoryPercentage=si(n.categoryPercentage,e.categoryPercentage),e.maxBarThickness=si(n.maxBarThickness,e.maxBarThickness),e.minBarLength=si(i.minBarLength,e.minBarLength),e}}),di=In.valueOrDefault,ci=In.options.resolve;yn._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.datasets[t.datasetIndex].label||"",i=e.datasets[t.datasetIndex].data[t.index];return n+": ("+t.xLabel+", "+t.yLabel+", "+i.r+")"}}}});var hi=Un.extend({dataElementType:ni.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(t){var e=this,n=e.getMeta(),i=n.data;In.each(i,function(n,i){e.updateElement(n,i,t)})},updateElement:function(t,e,n){var i=this,a=i.getMeta(),r=t.custom||{},o=i.getScaleForId(a.xAxisID),l=i.getScaleForId(a.yAxisID),s=i._resolveDataElementOptions(t,e),u=i.getDataset().data[e],d=i.index,c=n?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof u?u:NaN,e,d),h=n?l.getBasePixel():l.getPixelForValue(u,e,d);t._xScale=o,t._yScale=l,t._options=s,t._datasetIndex=d,t._index=e,t._model={backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,hitRadius:s.hitRadius,pointStyle:s.pointStyle,rotation:s.rotation,radius:n?0:s.radius,skip:r.skip||isNaN(c)||isNaN(h),x:c,y:h},t.pivot()},setHoverStyle:function(t){var e=t._model,n=t._options,i=In.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=di(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=di(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=di(n.hoverBorderWidth,n.borderWidth),e.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(t,e){var n=this,i=n.chart,a=n.getDataset(),r=t.custom||{},o=a.data[e]||{},l=Un.prototype._resolveDataElementOptions.apply(n,arguments),s={chart:i,dataIndex:e,dataset:a,datasetIndex:n.index};return n._cachedDataOpts===l&&(l=In.extend({},l)),l.radius=ci([r.radius,o.r,n._config.radius,i.options.elements.point.radius],s,e),l}}),fi=In.valueOrDefault,gi=Math.PI,pi=2*gi,mi=gi/2;yn._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(t){var e,n,i,a,r=document.createElement("ul"),o=t.data,l=o.datasets,s=o.labels;if(r.setAttribute("class",t.id+"-legend"),l.length)for(e=0,n=l[0].data.length;e<n;++e)i=r.appendChild(document.createElement("li")),a=i.appendChild(document.createElement("span")),a.style.backgroundColor=l[0].backgroundColor[e],s[e]&&i.appendChild(document.createTextNode(s[e]));return r.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,i){var a=t.getDatasetMeta(0),r=a.controller.getStyle(i);return{text:n,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:isNaN(e.datasets[0].data[i])||a.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,i,a,r=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)a=o.getDatasetMeta(n),a.data[r]&&(a.data[r].hidden=!a.data[r].hidden);o.update()}},cutoutPercentage:50,rotation:-mi,circumference:pi,tooltips:{callbacks:{title:function(){return""},label:function(t,e){var n=e.labels[t.index],i=": "+e.datasets[t.datasetIndex].data[t.index];return In.isArray(n)?(n=n.slice(),n[0]+=i):n+=i,n}}}});var vi=Un.extend({dataElementType:ni.Arc,linkScales:In.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&++e;return e},update:function(t){var e,n,i,a,r=this,o=r.chart,l=o.chartArea,s=o.options,u=1,d=1,c=0,h=0,f=r.getMeta(),g=f.data,p=s.cutoutPercentage/100||0,m=s.circumference,v=r._getRingWeight(r.index);if(m<pi){var b=s.rotation%pi;b+=b>=gi?-pi:b<-gi?pi:0;var x=b+m,y=Math.cos(b),_=Math.sin(b),k=Math.cos(x),w=Math.sin(x),M=b<=0&&x>=0||x>=pi,S=b<=mi&&x>=mi||x>=pi+mi,C=b===-gi||x>=gi,P=b<=-mi&&x>=-mi||x>=gi+mi,A=C?-1:Math.min(y,y*p,k,k*p),D=P?-1:Math.min(_,_*p,w,w*p),T=M?1:Math.max(y,y*p,k,k*p),I=S?1:Math.max(_,_*p,w,w*p);u=(T-A)/2,d=(I-D)/2,c=-(T+A)/2,h=-(I+D)/2}for(i=0,a=g.length;i<a;++i)g[i]._options=r._resolveDataElementOptions(g[i],i);for(o.borderWidth=r.getMaxBorderWidth(),e=(l.right-l.left-o.borderWidth)/u,n=(l.bottom-l.top-o.borderWidth)/d,o.outerRadius=Math.max(Math.min(e,n)/2,0),o.innerRadius=Math.max(o.outerRadius*p,0),o.radiusLength=(o.outerRadius-o.innerRadius)/(r._getVisibleDatasetWeightTotal()||1),o.offsetX=c*o.outerRadius,o.offsetY=h*o.outerRadius,f.total=r.calculateTotal(),r.outerRadius=o.outerRadius-o.radiusLength*r._getRingWeightOffset(r.index),r.innerRadius=Math.max(r.outerRadius-o.radiusLength*v,0),i=0,a=g.length;i<a;++i)r.updateElement(g[i],i,t)},updateElement:function(t,e,n){var i=this,a=i.chart,r=a.chartArea,o=a.options,l=o.animation,s=(r.left+r.right)/2,u=(r.top+r.bottom)/2,d=o.rotation,c=o.rotation,h=i.getDataset(),f=n&&l.animateRotate?0:t.hidden?0:i.calculateCircumference(h.data[e])*(o.circumference/pi),g=n&&l.animateScale?0:i.innerRadius,p=n&&l.animateScale?0:i.outerRadius,m=t._options||{};In.extend(t,{_datasetIndex:i.index,_index:e,_model:{backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,borderAlign:m.borderAlign,x:s+a.offsetX,y:u+a.offsetY,startAngle:d,endAngle:c,circumference:f,outerRadius:p,innerRadius:g,label:In.valueAtIndexOrDefault(h.label,e,a.data.labels[e])}});var v=t._model;n&&l.animateRotate||(0===e?v.startAngle=o.rotation:v.startAngle=i.getMeta().data[e-1]._model.endAngle,v.endAngle=v.startAngle+v.circumference),t.pivot()},calculateTotal:function(){var t,e=this.getDataset(),n=this.getMeta(),i=0;return In.each(n.data,function(n,a){t=e.data[a],isNaN(t)||n.hidden||(i+=Math.abs(t))}),i},calculateCircumference:function(t){var e=this.getMeta().total;return e>0&&!isNaN(t)?pi*(Math.abs(t)/e):0},getMaxBorderWidth:function(t){var e,n,i,a,r,o,l,s,u=this,d=0,c=u.chart;if(!t)for(e=0,n=c.data.datasets.length;e<n;++e)if(c.isDatasetVisible(e)){i=c.getDatasetMeta(e),t=i.data,e!==u.index&&(r=i.controller);break}if(!t)return 0;for(e=0,n=t.length;e<n;++e)a=t[e],r?(r._configure(),o=r._resolveDataElementOptions(a,e)):o=a._options,"inner"!==o.borderAlign&&(l=o.borderWidth,s=o.hoverBorderWidth,d=l>d?l:d,d=s>d?s:d);return d},setHoverStyle:function(t){var e=t._model,n=t._options,i=In.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=fi(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=fi(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=fi(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(t){for(var e=0,n=0;n<t;++n)this.chart.isDatasetVisible(n)&&(e+=this._getRingWeight(n));return e},_getRingWeight:function(t){return Math.max(fi(this.chart.data.datasets[t].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});yn._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),yn._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var bi=ui.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),xi=In.valueOrDefault,yi=In.options.resolve,_i=In.canvas._isPointInArea;yn._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var ki=Un.extend({datasetElementType:ni.Line,dataElementType:ni.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(t){var e,n,i=this,a=i.getMeta(),r=a.dataset,o=a.data||[],l=i.chart.options,s=i._config,u=i._showLine=xi(s.showLine,l.showLines);for(i._xScale=i.getScaleForId(a.xAxisID),i._yScale=i.getScaleForId(a.yAxisID),u&&(void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),r._scale=i._yScale,r._datasetIndex=i.index,r._children=o,r._model=i._resolveDatasetElementOptions(r),r.pivot()),e=0,n=o.length;e<n;++e)i.updateElement(o[e],e,t);for(u&&0!==r._model.tension&&i.updateBezierControlPoints(),e=0,n=o.length;e<n;++e)o[e].pivot()},updateElement:function(t,e,n){var i,a,r=this,o=r.getMeta(),l=t.custom||{},s=r.getDataset(),u=r.index,d=s.data[e],c=r._xScale,h=r._yScale,f=o.dataset._model,g=r._resolveDataElementOptions(t,e);i=c.getPixelForValue("object"==typeof d?d:NaN,e,u),a=n?h.getBasePixel():r.calculatePointY(d,e,u),t._xScale=c,t._yScale=h,t._options=g,t._datasetIndex=u,t._index=e,t._model={x:i,y:a,skip:l.skip||isNaN(i)||isNaN(a),radius:g.radius,pointStyle:g.pointStyle,rotation:g.rotation,backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,tension:xi(l.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:g.hitRadius}},_resolveDatasetElementOptions:function(t){var e=this,n=e._config,i=t.custom||{},a=e.chart.options,r=a.elements.line,o=Un.prototype._resolveDatasetElementOptions.apply(e,arguments);return o.spanGaps=xi(n.spanGaps,a.spanGaps),o.tension=xi(n.lineTension,r.tension),o.steppedLine=yi([i.steppedLine,n.steppedLine,r.stepped]),o.clip=X(xi(n.clip,G(e._xScale,e._yScale,o.borderWidth))),o},calculatePointY:function(t,e,n){var i,a,r,o,l,s,u,d=this,c=d.chart,h=d._yScale,f=0,g=0;if(h.options.stacked){for(l=+h.getRightValue(t),s=c._getSortedVisibleDatasetMetas(),u=s.length,i=0;i<u&&(r=s[i],r.index!==n);++i)a=c.data.datasets[r.index],"line"===r.type&&r.yAxisID===h.id&&(o=+h.getRightValue(a.data[e]),o<0?g+=o||0:f+=o||0);return l<0?h.getPixelForValue(g+l):h.getPixelForValue(f+l)}return h.getPixelForValue(t)},updateBezierControlPoints:function(){function t(t,e,n){return Math.max(Math.min(t,n),e)}var e,n,i,a,r=this,o=r.chart,l=r.getMeta(),s=l.dataset._model,u=o.chartArea,d=l.data||[];if(s.spanGaps&&(d=d.filter(function(t){return!t._model.skip})),"monotone"===s.cubicInterpolationMode)In.splineCurveMonotone(d);else for(e=0,n=d.length;e<n;++e)i=d[e]._model,a=In.splineCurve(In.previousItem(d,e)._model,i,In.nextItem(d,e)._model,s.tension),i.controlPointPreviousX=a.previous.x,i.controlPointPreviousY=a.previous.y,i.controlPointNextX=a.next.x,i.controlPointNextY=a.next.y;if(o.options.elements.line.capBezierPoints)for(e=0,n=d.length;e<n;++e)i=d[e]._model,_i(i,u)&&(e>0&&_i(d[e-1]._model,u)&&(i.controlPointPreviousX=t(i.controlPointPreviousX,u.left,u.right),i.controlPointPreviousY=t(i.controlPointPreviousY,u.top,u.bottom)),e<d.length-1&&_i(d[e+1]._model,u)&&(i.controlPointNextX=t(i.controlPointNextX,u.left,u.right),i.controlPointNextY=t(i.controlPointNextY,u.top,u.bottom)))},draw:function(){var t,e=this,n=e.chart,i=e.getMeta(),a=i.data||[],r=n.chartArea,o=n.canvas,l=0,s=a.length;for(e._showLine&&(t=i.dataset._model.clip,In.canvas.clipArea(n.ctx,{left:t.left===!1?0:r.left-t.left,right:t.right===!1?o.width:r.right+t.right,top:t.top===!1?0:r.top-t.top,bottom:t.bottom===!1?o.height:r.bottom+t.bottom}),i.dataset.draw(),In.canvas.unclipArea(n.ctx));l<s;++l)a[l].draw(r)},setHoverStyle:function(t){var e=t._model,n=t._options,i=In.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=xi(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=xi(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=xi(n.hoverBorderWidth,n.borderWidth),e.radius=xi(n.hoverRadius,n.radius)}}),wi=In.options.resolve;yn._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(t){var e,n,i,a,r=document.createElement("ul"),o=t.data,l=o.datasets,s=o.labels;if(r.setAttribute("class",t.id+"-legend"),l.length)for(e=0,n=l[0].data.length;e<n;++e)i=r.appendChild(document.createElement("li")),a=i.appendChild(document.createElement("span")),a.style.backgroundColor=l[0].backgroundColor[e],s[e]&&i.appendChild(document.createTextNode(s[e]));return r.outerHTML},legend:{labels:{generateLabels:function(t){var e=t.data;return e.labels.length&&e.datasets.length?e.labels.map(function(n,i){var a=t.getDatasetMeta(0),r=a.controller.getStyle(i);return{text:n,fillStyle:r.backgroundColor,strokeStyle:r.borderColor,lineWidth:r.borderWidth,hidden:isNaN(e.datasets[0].data[i])||a.data[i].hidden,index:i}}):[]}},onClick:function(t,e){var n,i,a,r=e.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)a=o.getDatasetMeta(n),a.data[r].hidden=!a.data[r].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(t,e){return e.labels[t.index]+": "+t.yLabel}}}});var Mi=Un.extend({dataElementType:ni.Arc,linkScales:In.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,n,i,a=this,r=a.getDataset(),o=a.getMeta(),l=a.chart.options.startAngle||0,s=a._starts=[],u=a._angles=[],d=o.data;for(a._updateRadius(),o.count=a.countVisibleElements(),e=0,n=r.data.length;e<n;e++)s[e]=l,i=a._computeAngle(e),u[e]=i,l+=i;for(e=0,n=d.length;e<n;++e)d[e]._options=a._resolveDataElementOptions(d[e],e),a.updateElement(d[e],e,t)},_updateRadius:function(){
var t=this,e=t.chart,n=e.chartArea,i=e.options,a=Math.min(n.right-n.left,n.bottom-n.top);e.outerRadius=Math.max(a/2,0),e.innerRadius=Math.max(i.cutoutPercentage?e.outerRadius/100*i.cutoutPercentage:1,0),e.radiusLength=(e.outerRadius-e.innerRadius)/e.getVisibleDatasetCount(),t.outerRadius=e.outerRadius-e.radiusLength*t.index,t.innerRadius=t.outerRadius-e.radiusLength},updateElement:function(t,e,n){var i=this,a=i.chart,r=i.getDataset(),o=a.options,l=o.animation,s=a.scale,u=a.data.labels,d=s.xCenter,c=s.yCenter,h=o.startAngle,f=t.hidden?0:s.getDistanceFromCenterForValue(r.data[e]),g=i._starts[e],p=g+(t.hidden?0:i._angles[e]),m=l.animateScale?0:s.getDistanceFromCenterForValue(r.data[e]),v=t._options||{};In.extend(t,{_datasetIndex:i.index,_index:e,_scale:s,_model:{backgroundColor:v.backgroundColor,borderColor:v.borderColor,borderWidth:v.borderWidth,borderAlign:v.borderAlign,x:d,y:c,innerRadius:0,outerRadius:n?m:f,startAngle:n&&l.animateRotate?h:g,endAngle:n&&l.animateRotate?h:p,label:In.valueAtIndexOrDefault(u,e,u[e])}}),t.pivot()},countVisibleElements:function(){var t=this.getDataset(),e=this.getMeta(),n=0;return In.each(e.data,function(e,i){isNaN(t.data[i])||e.hidden||n++}),n},setHoverStyle:function(t){var e=t._model,n=t._options,i=In.getHoverColor,a=In.valueOrDefault;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth},e.backgroundColor=a(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=a(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=a(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(t){var e=this,n=this.getMeta().count,i=e.getDataset(),a=e.getMeta();if(isNaN(i.data[t])||a.data[t].hidden)return 0;var r={chart:e.chart,dataIndex:t,dataset:i,datasetIndex:e.index};return wi([e.chart.options.elements.arc.angle,2*Math.PI/n],r,t)}});yn._set("pie",In.clone(yn.doughnut)),yn._set("pie",{cutoutPercentage:0});var Si=vi,Ci=In.valueOrDefault;yn._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var Pi=Un.extend({datasetElementType:ni.Line,dataElementType:ni.Point,linkScales:In.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(t){var e,n,i=this,a=i.getMeta(),r=a.dataset,o=a.data||[],l=i.chart.scale,s=i._config;for(void 0!==s.tension&&void 0===s.lineTension&&(s.lineTension=s.tension),r._scale=l,r._datasetIndex=i.index,r._children=o,r._loop=!0,r._model=i._resolveDatasetElementOptions(r),r.pivot(),e=0,n=o.length;e<n;++e)i.updateElement(o[e],e,t);for(i.updateBezierControlPoints(),e=0,n=o.length;e<n;++e)o[e].pivot()},updateElement:function(t,e,n){var i=this,a=t.custom||{},r=i.getDataset(),o=i.chart.scale,l=o.getPointPositionForValue(e,r.data[e]),s=i._resolveDataElementOptions(t,e),u=i.getMeta().dataset._model,d=n?o.xCenter:l.x,c=n?o.yCenter:l.y;t._scale=o,t._options=s,t._datasetIndex=i.index,t._index=e,t._model={x:d,y:c,skip:a.skip||isNaN(d)||isNaN(c),radius:s.radius,pointStyle:s.pointStyle,rotation:s.rotation,backgroundColor:s.backgroundColor,borderColor:s.borderColor,borderWidth:s.borderWidth,tension:Ci(a.tension,u?u.tension:0),hitRadius:s.hitRadius}},_resolveDatasetElementOptions:function(){var t=this,e=t._config,n=t.chart.options,i=Un.prototype._resolveDatasetElementOptions.apply(t,arguments);return i.spanGaps=Ci(e.spanGaps,n.spanGaps),i.tension=Ci(e.lineTension,n.elements.line.tension),i},updateBezierControlPoints:function(){function t(t,e,n){return Math.max(Math.min(t,n),e)}var e,n,i,a,r=this,o=r.getMeta(),l=r.chart.chartArea,s=o.data||[];for(o.dataset._model.spanGaps&&(s=s.filter(function(t){return!t._model.skip})),e=0,n=s.length;e<n;++e)i=s[e]._model,a=In.splineCurve(In.previousItem(s,e,!0)._model,i,In.nextItem(s,e,!0)._model,i.tension),i.controlPointPreviousX=t(a.previous.x,l.left,l.right),i.controlPointPreviousY=t(a.previous.y,l.top,l.bottom),i.controlPointNextX=t(a.next.x,l.left,l.right),i.controlPointNextY=t(a.next.y,l.top,l.bottom)},setHoverStyle:function(t){var e=t._model,n=t._options,i=In.getHoverColor;t.$previousStyle={backgroundColor:e.backgroundColor,borderColor:e.borderColor,borderWidth:e.borderWidth,radius:e.radius},e.backgroundColor=Ci(n.hoverBackgroundColor,i(n.backgroundColor)),e.borderColor=Ci(n.hoverBorderColor,i(n.borderColor)),e.borderWidth=Ci(n.hoverBorderWidth,n.borderWidth),e.radius=Ci(n.hoverRadius,n.radius)}});yn._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(t){return"("+t.xLabel+", "+t.yLabel+")"}}}}),yn._set("global",{datasets:{scatter:{showLine:!1}}});var Ai=ki,Di={bar:ui,bubble:hi,doughnut:vi,horizontalBar:bi,line:ki,polarArea:Mi,pie:Si,radar:Pi,scatter:Ai},Ti={modes:{single:function(t,e){var n=K(e,t),i=[];return Z(t,function(t){if(t.inRange(n.x,n.y))return i.push(t),i}),i.slice(0,1)},label:tt,index:tt,dataset:function(t,e,n){var i=K(e,t);n.axis=n.axis||"xy";var a=Q(n.axis),r=n.intersect?$(t,i):J(t,i,!1,a);return r.length>0&&(r=t.getDatasetMeta(r[0]._datasetIndex).data),r},"x-axis":function(t,e){return tt(t,e,{intersect:!1})},point:function(t,e){var n=K(e,t);return $(t,n)},nearest:function(t,e,n){var i=K(e,t);n.axis=n.axis||"xy";var a=Q(n.axis);return J(t,i,n.intersect,a)},x:function(t,e,n){var i=K(e,t),a=[],r=!1;return Z(t,function(t){t.inXRange(i.x)&&a.push(t),t.inRange(i.x,i.y)&&(r=!0)}),n.intersect&&!r&&(a=[]),a},y:function(t,e,n){var i=K(e,t),a=[],r=!1;return Z(t,function(t){t.inYRange(i.y)&&a.push(t),t.inRange(i.x,i.y)&&(r=!0)}),n.intersect&&!r&&(a=[]),a}}},Ii=In.extend;yn._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var Fi={defaults:{},addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullWidth=e.fullWidth||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(){e.draw.apply(e,arguments)}}]},t.boxes.push(e)},removeBox:function(t,e){var n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure:function(t,e,n){for(var i,a=["fullWidth","position","weight"],r=a.length,o=0;o<r;++o)i=a[o],n.hasOwnProperty(i)&&(e[i]=n[i])},update:function(t,e,n){if(t){var i=t.options.layout||{},a=In.options.toPadding(i.padding),r=e-a.width,o=n-a.height,l=rt(t.boxes),s=l.vertical,u=l.horizontal,d=Object.freeze({outerWidth:e,outerHeight:n,padding:a,availableWidth:r,vBoxMaxWidth:r/2/s.length,hBoxMaxHeight:o/2}),c=Ii({maxPadding:Ii({},a),w:r,h:o,x:a.left,y:a.top},a);at(s.concat(u),d),dt(s,c,d),dt(u,c,d)&&dt(s,c,d),st(c),ct(l.leftAndTop,c,d),c.x+=c.w,c.y+=c.h,ct(l.rightAndBottom,c,d),t.chartArea={left:c.left,top:c.top,right:c.left+c.w,bottom:c.top+c.h},In.each(l.chartArea,function(e){var n=e.box;Ii(n,t.chartArea),n.update(c.w,c.h)})}}},Oi={acquireContext:function(t){return t&&t.canvas&&(t=t.canvas),t&&t.getContext("2d")||null}},Li="/*\r\n * DOM element rendering detection\r\n * https://davidwalsh.name/detect-node-insertion\r\n */\r\n@keyframes chartjs-render-animation {\r\n\tfrom { opacity: 0.99; }\r\n\tto { opacity: 1; }\r\n}\r\n\r\n.chartjs-render-monitor {\r\n\tanimation: chartjs-render-animation 0.001s;\r\n}\r\n\r\n/*\r\n * DOM element resizing detection\r\n * https://github.com/marcj/css-element-queries\r\n */\r\n.chartjs-size-monitor,\r\n.chartjs-size-monitor-expand,\r\n.chartjs-size-monitor-shrink {\r\n\tposition: absolute;\r\n\tdirection: ltr;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tbottom: 0;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\tvisibility: hidden;\r\n\tz-index: -1;\r\n}\r\n\r\n.chartjs-size-monitor-expand > div {\r\n\tposition: absolute;\r\n\twidth: 1000000px;\r\n\theight: 1000000px;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n\r\n.chartjs-size-monitor-shrink > div {\r\n\tposition: absolute;\r\n\twidth: 200%;\r\n\theight: 200%;\r\n\tleft: 0;\r\n\ttop: 0;\r\n}\r\n",Ri=Object.freeze({__proto__:null,"default":Li}),zi=n(Ri),Ni="$chartjs",Bi="chartjs-",Ei=Bi+"size-monitor",Wi=Bi+"render-monitor",Vi=Bi+"render-animation",Hi=["animationstart","webkitAnimationStart"],ji={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},qi=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("e",null,e)}catch(n){}return t}(),Ui=!!qi&&{passive:!0},Yi={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(t){if(!this.disableCSSInjection){var e=t.getRootNode?t.getRootNode():document,n=e.host?e:document.head;St(n,zi)}},acquireContext:function(t,e){"string"==typeof t?t=document.getElementById(t):t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas);var n=t&&t.getContext&&t.getContext("2d");return n&&n.canvas===t?(this._ensureLoaded(t),ft(t,e),n):null},releaseContext:function(t){var e=t.canvas;if(e[Ni]){var n=e[Ni].initial;["height","width"].forEach(function(t){var i=n[t];In.isNullOrUndef(i)?e.removeAttribute(t):e.setAttribute(t,i)}),In.each(n.style||{},function(t,n){e.style[n]=t}),e.width=e.width,delete e[Ni]}},addEventListener:function(t,e,n){var i=t.canvas;if("resize"===e)return void wt(i,n,t);var a=n[Ni]||(n[Ni]={}),r=a.proxies||(a.proxies={}),o=r[t.id+"_"+e]=function(e){n(vt(e,t))};gt(i,e,o)},removeEventListener:function(t,e,n){var i=t.canvas;if("resize"===e)return void Mt(i);var a=n[Ni]||{},r=a.proxies||{},o=r[t.id+"_"+e];o&&pt(i,e,o)}};In.addEvent=gt,In.removeEvent=pt;var Gi=Yi._enabled?Yi:Oi,Xi=In.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Gi);yn._set("global",{plugins:{}});var Ki={_plugins:[],_cacheId:0,register:function(t){var e=this._plugins;[].concat(t).forEach(function(t){e.indexOf(t)===-1&&e.push(t)}),this._cacheId++},unregister:function(t){var e=this._plugins;[].concat(t).forEach(function(t){var n=e.indexOf(t);n!==-1&&e.splice(n,1)}),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(t,e,n){var i,a,r,o,l,s=this.descriptors(t),u=s.length;for(i=0;i<u;++i)if(a=s[i],r=a.plugin,l=r[e],"function"==typeof l&&(o=[t].concat(n||[]),o.push(a.options),l.apply(r,o)===!1))return!1;return!0},descriptors:function(t){var e=t.$plugins||(t.$plugins={});if(e.id===this._cacheId)return e.descriptors;var n=[],i=[],a=t&&t.config||{},r=a.options&&a.options.plugins||{};return this._plugins.concat(a.plugins||[]).forEach(function(t){var e=n.indexOf(t);if(e===-1){var a=t.id,o=r[a];o!==!1&&(o===!0&&(o=In.clone(yn.global.plugins[a])),n.push(t),i.push({plugin:t,options:o||{}}))}}),e.descriptors=i,e.id=this._cacheId,i},_invalidate:function(t){delete t.$plugins}},Zi={constructors:{},defaults:{},registerScaleType:function(t,e,n){this.constructors[t]=e,this.defaults[t]=In.clone(n)},getScaleConstructor:function(t){return this.constructors.hasOwnProperty(t)?this.constructors[t]:void 0},getScaleDefaults:function(t){return this.defaults.hasOwnProperty(t)?In.merge(Object.create(null),[yn.scale,this.defaults[t]]):{}},updateScaleDefaults:function(t,e){var n=this;n.defaults.hasOwnProperty(t)&&(n.defaults[t]=In.extend(n.defaults[t],e))},addScalesToLayout:function(t){In.each(t.scales,function(e){e.fullWidth=e.options.fullWidth,e.position=e.options.position,e.weight=e.options.weight,Fi.addBox(t,e)})}},$i=In.valueOrDefault,Ji=In.rtl.getRtlAdapter;yn._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:In.noop,title:function(t,e){var n="",i=e.labels,a=i?i.length:0;if(t.length>0){var r=t[0];r.label?n=r.label:r.xLabel?n=r.xLabel:a>0&&r.index<a&&(n=i[r.index])}return n},afterTitle:In.noop,beforeBody:In.noop,beforeLabel:In.noop,label:function(t,e){var n=e.datasets[t.datasetIndex].label||"";return n&&(n+=": "),n+=In.isNullOrUndef(t.value)?t.yLabel:t.value},labelColor:function(t,e){var n=e.getDatasetMeta(t.datasetIndex),i=n.data[t.index],a=i._view;return{borderColor:a.borderColor,backgroundColor:a.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:In.noop,afterBody:In.noop,beforeFooter:In.noop,footer:In.noop,afterFooter:In.noop}}});var Qi={average:function(t){if(!t.length)return!1;var e,n,i=0,a=0,r=0;for(e=0,n=t.length;e<n;++e){var o=t[e];if(o&&o.hasValue()){var l=o.tooltipPosition();i+=l.x,a+=l.y,++r}}return{x:i/r,y:a/r}},nearest:function(t,e){var n,i,a,r=e.x,o=e.y,l=Number.POSITIVE_INFINITY;for(n=0,i=t.length;n<i;++n){var s=t[n];if(s&&s.hasValue()){var u=s.getCenterPoint(),d=In.distanceBetweenPoints(e,u);d<l&&(l=d,a=s)}}if(a){var c=a.tooltipPosition();r=c.x,o=c.y}return{x:r,y:o}}},ta=Bn.extend({initialize:function(){this._model=Dt(this._options),this._lastActive=[]},getTitle:function(){var t=this,e=t._options,n=e.callbacks,i=n.beforeTitle.apply(t,arguments),a=n.title.apply(t,arguments),r=n.afterTitle.apply(t,arguments),o=[];return o=Ct(o,Pt(i)),o=Ct(o,Pt(a)),o=Ct(o,Pt(r))},getBeforeBody:function(){return Lt(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(t,e){var n=this,i=n._options.callbacks,a=[];return In.each(t,function(t){var r={before:[],lines:[],after:[]};Ct(r.before,Pt(i.beforeLabel.call(n,t,e))),Ct(r.lines,i.label.call(n,t,e)),Ct(r.after,Pt(i.afterLabel.call(n,t,e))),a.push(r)}),a},getAfterBody:function(){return Lt(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var t=this,e=t._options.callbacks,n=e.beforeFooter.apply(t,arguments),i=e.footer.apply(t,arguments),a=e.afterFooter.apply(t,arguments),r=[];return r=Ct(r,Pt(n)),r=Ct(r,Pt(i)),r=Ct(r,Pt(a))},update:function(t){var e,n,i=this,a=i._options,r=i._model,o=i._model=Dt(a),l=i._active,s=i._data,u={xAlign:r.xAlign,yAlign:r.yAlign},d={x:r.x,y:r.y},c={width:r.width,height:r.height},h={x:r.caretX,y:r.caretY};if(l.length){o.opacity=1;var f=[],g=[];h=Qi[a.position].call(i,l,i._eventPosition);var p=[];for(e=0,n=l.length;e<n;++e)p.push(At(l[e]));a.filter&&(p=p.filter(function(t){return a.filter(t,s)})),a.itemSort&&(p=p.sort(function(t,e){return a.itemSort(t,e,s)})),In.each(p,function(t){f.push(a.callbacks.labelColor.call(i,t,i._chart)),g.push(a.callbacks.labelTextColor.call(i,t,i._chart))}),o.title=i.getTitle(p,s),o.beforeBody=i.getBeforeBody(p,s),o.body=i.getBody(p,s),o.afterBody=i.getAfterBody(p,s),o.footer=i.getFooter(p,s),o.x=h.x,o.y=h.y,o.caretPadding=a.caretPadding,o.labelColors=f,o.labelTextColors=g,o.dataPoints=p,c=Tt(this,o),u=It(this,c),d=Ft(o,c,u,i._chart)}else o.opacity=0;return o.xAlign=u.xAlign,o.yAlign=u.yAlign,o.x=d.x,o.y=d.y,o.width=c.width,o.height=c.height,o.caretX=h.x,o.caretY=h.y,i._model=o,t&&a.custom&&a.custom.call(i,o),i},drawCaret:function(t,e){var n=this._chart.ctx,i=this._view,a=this.getCaretPosition(t,e,i);n.lineTo(a.x1,a.y1),n.lineTo(a.x2,a.y2),n.lineTo(a.x3,a.y3)},getCaretPosition:function(t,e,n){var i,a,r,o,l,s,u=n.caretSize,d=n.cornerRadius,c=n.xAlign,h=n.yAlign,f=t.x,g=t.y,p=e.width,m=e.height;if("center"===h)l=g+m/2,"left"===c?(i=f,a=i-u,r=i,o=l+u,s=l-u):(i=f+p,a=i+u,r=i,o=l-u,s=l+u);else if("left"===c?(a=f+d+u,i=a-u,r=a+u):"right"===c?(a=f+p-d-u,i=a-u,r=a+u):(a=n.caretX,i=a-u,r=a+u),"top"===h)o=g,l=o-u,s=o;else{o=g+m,l=o+u,s=o;var v=r;r=i,i=v}return{x1:i,x2:a,x3:r,y1:o,y2:l,y3:s}},drawTitle:function(t,e,n){var i,a,r,o=e.title,l=o.length;if(l){var s=Ji(e.rtl,e.x,e.width);for(t.x=Ot(e,e._titleAlign),n.textAlign=s.textAlign(e._titleAlign),n.textBaseline="middle",i=e.titleFontSize,a=e.titleSpacing,n.fillStyle=e.titleFontColor,n.font=In.fontString(i,e._titleFontStyle,e._titleFontFamily),r=0;r<l;++r)n.fillText(o[r],s.x(t.x),t.y+i/2),t.y+=i+a,r+1===l&&(t.y+=e.titleMarginBottom-a)}},drawBody:function(t,e,n){var i,a,r,o,l,s,u,d,c=e.bodyFontSize,h=e.bodySpacing,f=e._bodyAlign,g=e.body,p=e.displayColors,m=0,v=p?Ot(e,"left"):0,b=Ji(e.rtl,e.x,e.width),x=function(e){n.fillText(e,b.x(t.x+m),t.y+c/2),t.y+=c+h},y=b.textAlign(f);for(n.textAlign=f,n.textBaseline="middle",n.font=In.fontString(c,e._bodyFontStyle,e._bodyFontFamily),t.x=Ot(e,y),n.fillStyle=e.bodyFontColor,In.each(e.beforeBody,x),m=p&&"right"!==y?"center"===f?c/2+1:c+2:0,l=0,u=g.length;l<u;++l){for(i=g[l],a=e.labelTextColors[l],r=e.labelColors[l],n.fillStyle=a,In.each(i.before,x),o=i.lines,s=0,d=o.length;s<d;++s){if(p){var _=b.x(v);n.fillStyle=e.legendColorBackground,n.fillRect(b.leftForLtr(_,c),t.y,c,c),n.lineWidth=1,n.strokeStyle=r.borderColor,n.strokeRect(b.leftForLtr(_,c),t.y,c,c),n.fillStyle=r.backgroundColor,n.fillRect(b.leftForLtr(b.xPlus(_,1),c-2),t.y+1,c-2,c-2),n.fillStyle=a}x(o[s])}In.each(i.after,x)}m=0,In.each(e.afterBody,x),t.y-=h},drawFooter:function(t,e,n){var i,a,r=e.footer,o=r.length;if(o){var l=Ji(e.rtl,e.x,e.width);for(t.x=Ot(e,e._footerAlign),t.y+=e.footerMarginTop,n.textAlign=l.textAlign(e._footerAlign),n.textBaseline="middle",i=e.footerFontSize,n.fillStyle=e.footerFontColor,n.font=In.fontString(i,e._footerFontStyle,e._footerFontFamily),a=0;a<o;++a)n.fillText(r[a],l.x(t.x),t.y+i/2),t.y+=i+e.footerSpacing}},drawBackground:function(t,e,n,i){n.fillStyle=e.backgroundColor,n.strokeStyle=e.borderColor,n.lineWidth=e.borderWidth;var a=e.xAlign,r=e.yAlign,o=t.x,l=t.y,s=i.width,u=i.height,d=e.cornerRadius;n.beginPath(),n.moveTo(o+d,l),"top"===r&&this.drawCaret(t,i),n.lineTo(o+s-d,l),n.quadraticCurveTo(o+s,l,o+s,l+d),"center"===r&&"right"===a&&this.drawCaret(t,i),n.lineTo(o+s,l+u-d),n.quadraticCurveTo(o+s,l+u,o+s-d,l+u),"bottom"===r&&this.drawCaret(t,i),n.lineTo(o+d,l+u),n.quadraticCurveTo(o,l+u,o,l+u-d),"center"===r&&"left"===a&&this.drawCaret(t,i),n.lineTo(o,l+d),n.quadraticCurveTo(o,l,o+d,l),n.closePath(),n.fill(),e.borderWidth>0&&n.stroke()},draw:function(){var t=this._chart.ctx,e=this._view;if(0!==e.opacity){var n={width:e.width,height:e.height},i={x:e.x,y:e.y},a=Math.abs(e.opacity<.001)?0:e.opacity,r=e.title.length||e.beforeBody.length||e.body.length||e.afterBody.length||e.footer.length;this._options.enabled&&r&&(t.save(),t.globalAlpha=a,this.drawBackground(i,e,t,n),i.y+=e.yPadding,In.rtl.overrideTextDirection(t,e.textDirection),this.drawTitle(i,e,t),this.drawBody(i,e,t),this.drawFooter(i,e,t),In.rtl.restoreTextDirection(t,e.textDirection),t.restore())}},handleEvent:function(t){var e=this,n=e._options,i=!1;return e._lastActive=e._lastActive||[],"mouseout"===t.type?e._active=[]:(e._active=e._chart.getElementsAtEventForMode(t,n.mode,n),n.reverse&&e._active.reverse()),i=!In.arrayEquals(e._active,e._lastActive),i&&(e._lastActive=e._active,(n.enabled||n.custom)&&(e._eventPosition={x:t.x,y:t.y},e.update(!0),e.pivot())),i}}),ea=Qi,na=ta;na.positioners=ea;var ia=In.valueOrDefault;yn._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var aa=function(t,e){return this.construct(t,e),this};In.extend(aa.prototype,{construct:function(t,e){var n=this;e=Nt(e);var i=Xi.acquireContext(t,e),a=i&&i.canvas,r=a&&a.height,o=a&&a.width;return n.id=In.uid(),n.ctx=i,n.canvas=a,n.config=e,n.width=o,n.height=r,n.aspectRatio=r?o/r:null,n.options=e.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,aa.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(t){n.config.data=t}}),i&&a?(n.initialize(),void n.update()):void console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var t=this;return Ki.notify(t,"beforeInit"),In.retinaScale(t,t.options.devicePixelRatio),t.bindEvents(),t.options.responsive&&t.resize(!0),t.initToolTip(),Ki.notify(t,"afterInit"),t},clear:function(){return In.canvas.clear(this),this},stop:function(){return Vn.cancelAnimation(this),this},resize:function(t){var e=this,n=e.options,i=e.canvas,a=n.maintainAspectRatio&&e.aspectRatio||null,r=Math.max(0,Math.floor(In.getMaximumWidth(i))),o=Math.max(0,Math.floor(a?r/a:In.getMaximumHeight(i)));if((e.width!==r||e.height!==o)&&(i.width=e.width=r,i.height=e.height=o,i.style.width=r+"px",i.style.height=o+"px",In.retinaScale(e,n.devicePixelRatio),!t)){var l={width:r,height:o};Ki.notify(e,"resize",[l]),n.onResize&&n.onResize(e,l),e.stop(),e.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var t=this.options,e=t.scales||{},n=t.scale;In.each(e.xAxes,function(t,n){t.id||(t.id=Et(e.xAxes,"x-axis-",n))}),In.each(e.yAxes,function(t,n){t.id||(t.id=Et(e.yAxes,"y-axis-",n))}),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var t=this,e=t.options,n=t.scales||{},i=[],a=Object.keys(n).reduce(function(t,e){return t[e]=!1,t},{});e.scales&&(i=i.concat((e.scales.xAxes||[]).map(function(t){return{options:t,dtype:"category",dposition:"bottom"}}),(e.scales.yAxes||[]).map(function(t){return{options:t,dtype:"linear",dposition:"left"}}))),e.scale&&i.push({options:e.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),In.each(i,function(e){var i=e.options,r=i.id,o=ia(i.type,e.dtype);Wt(i.position)!==Wt(e.dposition)&&(i.position=e.dposition),a[r]=!0;var l=null;if(r in n&&n[r].type===o)l=n[r],l.options=i,l.ctx=t.ctx,l.chart=t;else{var s=Zi.getScaleConstructor(o);if(!s)return;l=new s({id:r,type:o,options:i,ctx:t.ctx,chart:t}),n[l.id]=l}l.mergeTicksOptions(),e.isDefault&&(t.scale=l)}),In.each(a,function(t,e){t||delete n[e]}),t.scales=n,Zi.addScalesToLayout(this)},buildOrUpdateControllers:function(){var t,e,n=this,i=[],a=n.data.datasets;for(t=0,e=a.length;t<e;t++){var r=a[t],o=n.getDatasetMeta(t),l=r.type||n.config.type;if(o.type&&o.type!==l&&(n.destroyDatasetMeta(t),o=n.getDatasetMeta(t)),o.type=l,o.order=r.order||0,o.index=t,o.controller)o.controller.updateIndex(t),o.controller.linkScales();else{var s=Di[o.type];if(void 0===s)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new s(n,t),i.push(o.controller)}}return i},resetElements:function(){var t=this;In.each(t.data.datasets,function(e,n){t.getDatasetMeta(n).controller.reset()},t)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(t){var e,n,i=this;if(t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]}),Bt(i),Ki._invalidate(i),Ki.notify(i,"beforeUpdate")!==!1){i.tooltip._data=i.data;var a=i.buildOrUpdateControllers();for(e=0,n=i.data.datasets.length;e<n;e++)i.getDatasetMeta(e).controller.buildOrUpdateElements();i.updateLayout(),i.options.animation&&i.options.animation.duration&&In.each(a,function(t){t.reset()}),i.updateDatasets(),i.tooltip.initialize(),i.lastActive=[],Ki.notify(i,"afterUpdate"),i._layers.sort(Vt("z","_idx")),i._bufferedRender?i._bufferedRequest={duration:t.duration,easing:t.easing,lazy:t.lazy}:i.render(t)}},updateLayout:function(){var t=this;Ki.notify(t,"beforeLayout")!==!1&&(Fi.update(this,this.width,this.height),t._layers=[],In.each(t.boxes,function(e){e._configure&&e._configure(),t._layers.push.apply(t._layers,e._layers())},t),t._layers.forEach(function(t,e){t._idx=e}),Ki.notify(t,"afterScaleUpdate"),Ki.notify(t,"afterLayout"))},updateDatasets:function(){var t=this;if(Ki.notify(t,"beforeDatasetsUpdate")!==!1){for(var e=0,n=t.data.datasets.length;e<n;++e)t.updateDataset(e);Ki.notify(t,"afterDatasetsUpdate")}},updateDataset:function(t){var e=this,n=e.getDatasetMeta(t),i={meta:n,index:t};Ki.notify(e,"beforeDatasetUpdate",[i])!==!1&&(n.controller._update(),Ki.notify(e,"afterDatasetUpdate",[i]))},render:function(t){var e=this;t&&"object"==typeof t||(t={duration:t,lazy:arguments[1]});var n=e.options.animation,i=ia(t.duration,n&&n.duration),a=t.lazy;if(Ki.notify(e,"beforeRender")!==!1){var r=function(t){Ki.notify(e,"afterRender"),In.callback(n&&n.onComplete,[t],e)};if(n&&i){var o=new Wn({numSteps:i/16.66,easing:t.easing||n.easing,render:function(t,e){var n=In.easing.effects[e.easing],i=e.currentStep,a=i/e.numSteps;t.draw(n(a),a,i)},onAnimationProgress:n.onProgress,onAnimationComplete:r});Vn.addAnimation(e,o,i,a)}else e.draw(),r(new Wn({numSteps:0,chart:e}));return e}},draw:function(t){var e,n,i=this;if(i.clear(),In.isNullOrUndef(t)&&(t=1),i.transition(t),!(i.width<=0||i.height<=0)&&Ki.notify(i,"beforeDraw",[t])!==!1){for(n=i._layers,e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(i.chartArea);for(i.drawDatasets(t);e<n.length;++e)n[e].draw(i.chartArea);i._drawTooltip(t),Ki.notify(i,"afterDraw",[t])}},transition:function(t){for(var e=this,n=0,i=(e.data.datasets||[]).length;n<i;++n)e.isDatasetVisible(n)&&e.getDatasetMeta(n).controller.transition(t);e.tooltip.transition(t)},_getSortedDatasetMetas:function(t){var e,n,i=this,a=i.data.datasets||[],r=[];for(e=0,n=a.length;e<n;++e)t&&!i.isDatasetVisible(e)||r.push(i.getDatasetMeta(e));return r.sort(Vt("order","index")),r},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(t){var e,n,i=this;if(Ki.notify(i,"beforeDatasetsDraw",[t])!==!1){for(e=i._getSortedVisibleDatasetMetas(),n=e.length-1;n>=0;--n)i.drawDataset(e[n],t);Ki.notify(i,"afterDatasetsDraw",[t])}},drawDataset:function(t,e){var n=this,i={meta:t,index:t.index,easingValue:e};Ki.notify(n,"beforeDatasetDraw",[i])!==!1&&(t.controller.draw(e),Ki.notify(n,"afterDatasetDraw",[i]))},_drawTooltip:function(t){var e=this,n=e.tooltip,i={tooltip:n,easingValue:t};Ki.notify(e,"beforeTooltipDraw",[i])!==!1&&(n.draw(),Ki.notify(e,"afterTooltipDraw",[i]))},getElementAtEvent:function(t){return Ti.modes.single(this,t)},getElementsAtEvent:function(t){return Ti.modes.label(this,t,{intersect:!0})},getElementsAtXAxis:function(t){return Ti.modes["x-axis"](this,t,{intersect:!0})},getElementsAtEventForMode:function(t,e,n){var i=Ti.modes[e];return"function"==typeof i?i(this,t,n):[]},getDatasetAtEvent:function(t){return Ti.modes.dataset(this,t,{intersect:!0})},getDatasetMeta:function(t){var e=this,n=e.data.datasets[t];n._meta||(n._meta={});var i=n._meta[e.id];return i||(i=n._meta[e.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n.order||0,index:t}),i},getVisibleDatasetCount:function(){for(var t=0,e=0,n=this.data.datasets.length;e<n;++e)this.isDatasetVisible(e)&&t++;return t},isDatasetVisible:function(t){var e=this.getDatasetMeta(t);return"boolean"==typeof e.hidden?!e.hidden:!this.data.datasets[t].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(t){var e=this.id,n=this.data.datasets[t],i=n._meta&&n._meta[e];i&&(i.controller.destroy(),delete n._meta[e])},destroy:function(){var t,e,n=this,i=n.canvas;for(n.stop(),t=0,e=n.data.datasets.length;t<e;++t)n.destroyDatasetMeta(t);i&&(n.unbindEvents(),In.canvas.clear(n),Xi.releaseContext(n.ctx),n.canvas=null,n.ctx=null),Ki.notify(n,"destroy"),delete aa.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var t=this;t.tooltip=new na({_chart:t,_chartInstance:t,_data:t.data,_options:t.options.tooltips},t)},bindEvents:function(){var t=this,e=t._listeners={},n=function(){t.eventHandler.apply(t,arguments)};In.each(t.options.events,function(i){Xi.addEventListener(t,i,n),e[i]=n}),t.options.responsive&&(n=function(){t.resize()},Xi.addEventListener(t,"resize",n),e.resize=n)},unbindEvents:function(){var t=this,e=t._listeners;e&&(delete t._listeners,In.each(e,function(e,n){Xi.removeEventListener(t,n,e)}))},updateHoverStyle:function(t,e,n){var i,a,r,o=n?"set":"remove";for(a=0,r=t.length;a<r;++a)i=t[a],i&&this.getDatasetMeta(i._datasetIndex).controller[o+"HoverStyle"](i);"dataset"===e&&this.getDatasetMeta(t[0]._datasetIndex).controller["_"+o+"DatasetHoverStyle"]()},eventHandler:function(t){var e=this,n=e.tooltip;if(Ki.notify(e,"beforeEvent",[t])!==!1){e._bufferedRender=!0,e._bufferedRequest=null;var i=e.handleEvent(t);n&&(i=n._start?n.handleEvent(t):i|n.handleEvent(t)),Ki.notify(e,"afterEvent",[t]);var a=e._bufferedRequest;return a?e.render(a):i&&!e.animating&&(e.stop(),e.render({duration:e.options.hover.animationDuration,lazy:!0})),e._bufferedRender=!1,e._bufferedRequest=null,e}},handleEvent:function(t){var e=this,n=e.options||{},i=n.hover,a=!1;return e.lastActive=e.lastActive||[],"mouseout"===t.type?e.active=[]:e.active=e.getElementsAtEventForMode(t,i.mode,i),In.callback(n.onHover||n.hover.onHover,[t["native"],e.active],e),"mouseup"!==t.type&&"click"!==t.type||n.onClick&&n.onClick.call(e,t["native"],e.active),e.lastActive.length&&e.updateHoverStyle(e.lastActive,i.mode,!1),e.active.length&&i.mode&&e.updateHoverStyle(e.active,i.mode,!0),a=!In.arrayEquals(e.active,e.lastActive),e.lastActive=e.active,a}}),aa.instances={};var ra=aa;aa.Controller=aa,aa.types={},In.configMerge=zt,In.scaleMerge=Rt;var oa=function(){function t(t,e,n){var i;return"string"==typeof t?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}function e(t){return void 0!==t&&null!==t&&"none"!==t}function n(n,i,a){var r=document.defaultView,o=In._getParentNode(n),l=r.getComputedStyle(n)[i],s=r.getComputedStyle(o)[i],u=e(l),d=e(s),c=Number.POSITIVE_INFINITY;return u||d?Math.min(u?t(l,n,a):c,d?t(s,o,a):c):"none"}In.where=function(t,e){if(In.isArray(t)&&Array.prototype.filter)return t.filter(e);var n=[];return In.each(t,function(t){e(t)&&n.push(t)}),n},In.findIndex=Array.prototype.findIndex?function(t,e,n){return t.findIndex(e,n)}:function(t,e,n){n=void 0===n?t:n;for(var i=0,a=t.length;i<a;++i)if(e.call(n,t[i],i,t))return i;return-1},In.findNextWhere=function(t,e,n){In.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<t.length;i++){var a=t[i];if(e(a))return a}},In.findPreviousWhere=function(t,e,n){In.isNullOrUndef(n)&&(n=t.length);for(var i=n-1;i>=0;i--){var a=t[i];if(e(a))return a}},In.isNumber=function(t){return!isNaN(parseFloat(t))&&isFinite(t)},In.almostEquals=function(t,e,n){return Math.abs(t-e)<n},In.almostWhole=function(t,e){var n=Math.round(t);return n-e<=t&&n+e>=t},In.max=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.max(t,e)},Number.NEGATIVE_INFINITY)},In.min=function(t){return t.reduce(function(t,e){return isNaN(e)?t:Math.min(t,e)},Number.POSITIVE_INFINITY)},In.sign=Math.sign?function(t){return Math.sign(t)}:function(t){return t=+t,0===t||isNaN(t)?t:t>0?1:-1},In.toRadians=function(t){return t*(Math.PI/180)},In.toDegrees=function(t){return t*(180/Math.PI)},In._decimalPlaces=function(t){if(In.isFinite(t)){for(var e=1,n=0;Math.round(t*e)/e!==t;)e*=10,n++;return n}},In.getAngleFromPoint=function(t,e){var n=e.x-t.x,i=e.y-t.y,a=Math.sqrt(n*n+i*i),r=Math.atan2(i,n);return r<-.5*Math.PI&&(r+=2*Math.PI),{angle:r,distance:a}},In.distanceBetweenPoints=function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},In.aliasPixel=function(t){return t%2===0?0:.5},In._alignPixel=function(t,e,n){var i=t.currentDevicePixelRatio,a=n/2;return Math.round((e-a)*i)/i+a},In.splineCurve=function(t,e,n,i){var a=t.skip?e:t,r=e,o=n.skip?e:n,l=Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)),s=Math.sqrt(Math.pow(o.x-r.x,2)+Math.pow(o.y-r.y,2)),u=l/(l+s),d=s/(l+s);u=isNaN(u)?0:u,d=isNaN(d)?0:d;
var c=i*u,h=i*d;return{previous:{x:r.x-c*(o.x-a.x),y:r.y-c*(o.y-a.y)},next:{x:r.x+h*(o.x-a.x),y:r.y+h*(o.y-a.y)}}},In.EPSILON=Number.EPSILON||1e-14,In.splineCurveMonotone=function(t){var e,n,i,a,r=(t||[]).map(function(t){return{model:t._model,deltaK:0,mK:0}}),o=r.length;for(e=0;e<o;++e)if(i=r[e],!i.model.skip){if(n=e>0?r[e-1]:null,a=e<o-1?r[e+1]:null,a&&!a.model.skip){var l=a.model.x-i.model.x;i.deltaK=0!==l?(a.model.y-i.model.y)/l:0}!n||n.model.skip?i.mK=i.deltaK:!a||a.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}var s,u,d,c;for(e=0;e<o-1;++e)i=r[e],a=r[e+1],i.model.skip||a.model.skip||(In.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=a.mK=0:(s=i.mK/i.deltaK,u=a.mK/i.deltaK,c=Math.pow(s,2)+Math.pow(u,2),c<=9||(d=3/Math.sqrt(c),i.mK=s*d*i.deltaK,a.mK=u*d*i.deltaK)));var h;for(e=0;e<o;++e)i=r[e],i.model.skip||(n=e>0?r[e-1]:null,a=e<o-1?r[e+1]:null,n&&!n.model.skip&&(h=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-h,i.model.controlPointPreviousY=i.model.y-h*i.mK),a&&!a.model.skip&&(h=(a.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+h,i.model.controlPointNextY=i.model.y+h*i.mK))},In.nextItem=function(t,e,n){return n?e>=t.length-1?t[0]:t[e+1]:e>=t.length-1?t[t.length-1]:t[e+1]},In.previousItem=function(t,e,n){return n?e<=0?t[t.length-1]:t[e-1]:e<=0?t[0]:t[e-1]},In.niceNum=function(t,e){var n,i=Math.floor(In.log10(t)),a=t/Math.pow(10,i);return n=e?a<1.5?1:a<3?2:a<7?5:10:a<=1?1:a<=2?2:a<=5?5:10,n*Math.pow(10,i)},In.requestAnimFrame=function(){return"undefined"==typeof window?function(t){t()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return window.setTimeout(t,1e3/60)}}(),In.getRelativePosition=function(t,e){var n,i,a=t.originalEvent||t,r=t.target||t.srcElement,o=r.getBoundingClientRect(),l=a.touches;l&&l.length>0?(n=l[0].clientX,i=l[0].clientY):(n=a.clientX,i=a.clientY);var s=parseFloat(In.getStyle(r,"padding-left")),u=parseFloat(In.getStyle(r,"padding-top")),d=parseFloat(In.getStyle(r,"padding-right")),c=parseFloat(In.getStyle(r,"padding-bottom")),h=o.right-o.left-s-d,f=o.bottom-o.top-u-c;return n=Math.round((n-o.left-s)/h*r.width/e.currentDevicePixelRatio),i=Math.round((i-o.top-u)/f*r.height/e.currentDevicePixelRatio),{x:n,y:i}},In.getConstraintWidth=function(t){return n(t,"max-width","clientWidth")},In.getConstraintHeight=function(t){return n(t,"max-height","clientHeight")},In._calculatePadding=function(t,e,n){return e=In.getStyle(t,e),e.indexOf("%")>-1?n*parseInt(e,10)/100:parseInt(e,10)},In._getParentNode=function(t){var e=t.parentNode;return e&&"[object ShadowRoot]"===e.toString()&&(e=e.host),e},In.getMaximumWidth=function(t){var e=In._getParentNode(t);if(!e)return t.clientWidth;var n=e.clientWidth,i=In._calculatePadding(e,"padding-left",n),a=In._calculatePadding(e,"padding-right",n),r=n-i-a,o=In.getConstraintWidth(t);return isNaN(o)?r:Math.min(r,o)},In.getMaximumHeight=function(t){var e=In._getParentNode(t);if(!e)return t.clientHeight;var n=e.clientHeight,i=In._calculatePadding(e,"padding-top",n),a=In._calculatePadding(e,"padding-bottom",n),r=n-i-a,o=In.getConstraintHeight(t);return isNaN(o)?r:Math.min(r,o)},In.getStyle=function(t,e){return t.currentStyle?t.currentStyle[e]:document.defaultView.getComputedStyle(t,null).getPropertyValue(e)},In.retinaScale=function(t,e){var n=t.currentDevicePixelRatio=e||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=t.canvas,a=t.height,r=t.width;i.height=a*n,i.width=r*n,t.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=a+"px",i.style.width=r+"px")}},In.fontString=function(t,e,n){return e+" "+t+"px "+n},In.longestText=function(t,e,n,i){i=i||{};var a=i.data=i.data||{},r=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(a=i.data={},r=i.garbageCollect=[],i.font=e),t.font=e;var o,l,s,u,d,c=0,h=n.length;for(o=0;o<h;o++)if(u=n[o],void 0!==u&&null!==u&&In.isArray(u)!==!0)c=In.measureText(t,a,r,c,u);else if(In.isArray(u))for(l=0,s=u.length;l<s;l++)d=u[l],void 0===d||null===d||In.isArray(d)||(c=In.measureText(t,a,r,c,d));var f=r.length/2;if(f>n.length){for(o=0;o<f;o++)delete a[r[o]];r.splice(0,f)}return c},In.measureText=function(t,e,n,i,a){var r=e[a];return r||(r=e[a]=t.measureText(a).width,n.push(a)),r>i&&(i=r),i},In.numberOfLabelLines=function(t){var e=1;return In.each(t,function(t){In.isArray(t)&&t.length>e&&(e=t.length)}),e},In.color=on?function(t){return t instanceof CanvasGradient&&(t=yn.global.defaultColor),on(t)}:function(t){return console.error("Color.js not found!"),t},In.getHoverColor=function(t){return t instanceof CanvasPattern||t instanceof CanvasGradient?t:In.color(t).saturate(.5).darken(.1).rgbString()}};In.extend(jt.prototype,{formats:Ht,parse:Ht,format:Ht,add:Ht,diff:Ht,startOf:Ht,endOf:Ht,_create:function(t){return t}}),jt.override=function(t){In.extend(jt.prototype,t)};var la=jt,sa={_date:la},ua={formatters:{values:function(t){return In.isArray(t)?t:""+t},linear:function(t,e,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&t!==Math.floor(t)&&(i=t-Math.floor(t));var a=In.log10(Math.abs(i)),r="";if(0!==t){var o=Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]));if(o<1e-4){var l=In.log10(Math.abs(t)),s=Math.floor(l)-Math.floor(a);s=Math.max(Math.min(s,20),0),r=t.toExponential(s)}else{var u=-1*Math.floor(a);u=Math.max(Math.min(u,20),0),r=t.toFixed(u)}}else r="0";return r},logarithmic:function(t,e,n){var i=t/Math.pow(10,Math.floor(In.log10(t)));return 0===t?"0":1===i||2===i||5===i||0===e||e===n.length-1?t.toExponential():""}}},da=In.isArray,ca=In.isNullOrUndef,ha=In.valueOrDefault,fa=In.valueAtIndexOrDefault;yn._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:ua.formatters.values,minor:{},major:{}}});var ga=Bn.extend({zeroLineIndex:0,getPadding:function(){var t=this;return{left:t.paddingLeft||0,top:t.paddingTop||0,right:t.paddingRight||0,bottom:t.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){In.callback(this.options.beforeUpdate,[this])},update:function(t,e,n){var i,a,r,o,l,s=this,u=s.options.ticks,d=u.sampleSize;if(s.beforeUpdate(),s.maxWidth=t,s.maxHeight=e,s.margins=In.extend({left:0,right:0,top:0,bottom:0},n),s._ticks=null,s.ticks=null,s._labelSizes=null,s._maxLabelLines=0,s.longestLabelWidth=0,s.longestTextCache=s.longestTextCache||{},s._gridLineItems=null,s._labelItems=null,s.beforeSetDimensions(),s.setDimensions(),s.afterSetDimensions(),s.beforeDataLimits(),s.determineDataLimits(),s.afterDataLimits(),s.beforeBuildTicks(),o=s.buildTicks()||[],o=s.afterBuildTicks(o)||o,(!o||!o.length)&&s.ticks)for(o=[],i=0,a=s.ticks.length;i<a;++i)o.push({value:s.ticks[i],major:!1});return s._ticks=o,l=d<o.length,r=s._convertTicksToLabels(l?qt(o,d):o),s._configure(),s.beforeCalculateTickRotation(),s.calculateTickRotation(),s.afterCalculateTickRotation(),s.beforeFit(),s.fit(),s.afterFit(),s._ticksToDraw=u.display&&(u.autoSkip||"auto"===u.source)?s._autoSkip(o):o,l&&(r=s._convertTicksToLabels(s._ticksToDraw)),s.ticks=r,s.afterUpdate(),s.minSize},_configure:function(){var t,e,n=this,i=n.options.ticks.reverse;n.isHorizontal()?(t=n.left,e=n.right):(t=n.top,e=n.bottom,i=!i),n._startPixel=t,n._endPixel=e,n._reversePixels=i,n._length=e-t},afterUpdate:function(){In.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){In.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0},afterSetDimensions:function(){In.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){In.callback(this.options.beforeDataLimits,[this])},determineDataLimits:In.noop,afterDataLimits:function(){In.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){In.callback(this.options.beforeBuildTicks,[this])},buildTicks:In.noop,afterBuildTicks:function(t){var e=this;return da(t)&&t.length?In.callback(e.options.afterBuildTicks,[e,t]):(e.ticks=In.callback(e.options.afterBuildTicks,[e,e.ticks])||e.ticks,t)},beforeTickToLabelConversion:function(){In.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var t=this,e=t.options.ticks;t.ticks=t.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){In.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){In.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var t,e,n,i,a,r,o,l=this,s=l.options,u=s.ticks,d=l.getTicks().length,c=u.minRotation||0,h=u.maxRotation,f=c;return!l._isVisible()||!u.display||c>=h||d<=1||!l.isHorizontal()?void(l.labelRotation=c):(t=l._getLabelSizes(),e=t.widest.width,n=t.highest.height-t.highest.offset,i=Math.min(l.maxWidth,l.chart.width-e),a=s.offset?l.maxWidth/d:i/(d-1),e+6>a&&(a=i/(d-(s.offset?.5:1)),r=l.maxHeight-Xt(s.gridLines)-u.padding-Kt(s.scaleLabel),o=Math.sqrt(e*e+n*n),f=In.toDegrees(Math.min(Math.asin(Math.min((t.highest.height+6)/a,1)),Math.asin(Math.min(r/o,1))-Math.asin(n/o))),f=Math.max(c,Math.min(h,f))),void(l.labelRotation=f))},afterCalculateTickRotation:function(){In.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){In.callback(this.options.beforeFit,[this])},fit:function(){var t=this,e=t.minSize={width:0,height:0},n=t.chart,i=t.options,a=i.ticks,r=i.scaleLabel,o=i.gridLines,l=t._isVisible(),s="bottom"===i.position,u=t.isHorizontal();if(u?e.width=t.maxWidth:l&&(e.width=Xt(o)+Kt(r)),u?l&&(e.height=Xt(o)+Kt(r)):e.height=t.maxHeight,a.display&&l){var d=$t(a),c=t._getLabelSizes(),h=c.first,f=c.last,g=c.widest,p=c.highest,m=.4*d.minor.lineHeight,v=a.padding;if(u){var b=0!==t.labelRotation,x=In.toRadians(t.labelRotation),y=Math.cos(x),_=Math.sin(x),k=_*g.width+y*(p.height-(b?p.offset:0))+(b?0:m);e.height=Math.min(t.maxHeight,e.height+k+v);var w,M,S=t.getPixelForTick(0)-t.left,C=t.right-t.getPixelForTick(t.getTicks().length-1);b?(w=s?y*h.width+_*h.offset:_*(h.height-h.offset),M=s?_*(f.height-f.offset):y*f.width+_*f.offset):(w=h.width/2,M=f.width/2),t.paddingLeft=Math.max((w-S)*t.width/(t.width-S),0)+3,t.paddingRight=Math.max((M-C)*t.width/(t.width-C),0)+3}else{var P=a.mirror?0:g.width+v+m;e.width=Math.min(t.maxWidth,e.width+P),t.paddingTop=h.height/2,t.paddingBottom=f.height/2}}t.handleMargins(),u?(t.width=t._length=n.width-t.margins.left-t.margins.right,t.height=e.height):(t.width=e.width,t.height=t._length=n.height-t.margins.top-t.margins.bottom)},handleMargins:function(){var t=this;t.margins&&(t.margins.left=Math.max(t.paddingLeft,t.margins.left),t.margins.top=Math.max(t.paddingTop,t.margins.top),t.margins.right=Math.max(t.paddingRight,t.margins.right),t.margins.bottom=Math.max(t.paddingBottom,t.margins.bottom))},afterFit:function(){In.callback(this.options.afterFit,[this])},isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(t){if(ca(t))return NaN;if(("number"==typeof t||t instanceof Number)&&!isFinite(t))return NaN;if(t)if(this.isHorizontal()){if(void 0!==t.x)return this.getRightValue(t.x)}else if(void 0!==t.y)return this.getRightValue(t.y);return t},_convertTicksToLabels:function(t){var e,n,i,a=this;for(a.ticks=t.map(function(t){return t.value}),a.beforeTickToLabelConversion(),e=a.convertTicksToLabels(t)||a.ticks,a.afterTickToLabelConversion(),n=0,i=t.length;n<i;++n)t[n].label=e[n];return e},_getLabelSizes:function(){var t=this,e=t._labelSizes;return e||(t._labelSizes=e=Gt(t.ctx,$t(t.options.ticks),t.getTicks(),t.longestTextCache),t.longestLabelWidth=e.widest.width),e},_parseValue:function(t){var e,n,i,a;return da(t)?(e=+this.getRightValue(t[0]),n=+this.getRightValue(t[1]),i=Math.min(e,n),a=Math.max(e,n)):(t=+this.getRightValue(t),e=void 0,n=t,i=t,a=t),{min:i,max:a,start:e,end:n}},_getScaleLabel:function(t){var e=this._parseValue(t);return void 0!==e.start?"["+e.start+", "+e.end+"]":+this.getRightValue(t)},getLabelForIndex:In.noop,getPixelForValue:In.noop,getValueForPixel:In.noop,getPixelForTick:function(t){var e=this,n=e.options.offset,i=e._ticks.length,a=1/Math.max(i-(n?0:1),1);return t<0||t>i-1?null:e.getPixelForDecimal(t*a+(n?a/2:0))},getPixelForDecimal:function(t){var e=this;return e._reversePixels&&(t=1-t),e._startPixel+t*e._length},getDecimalForPixel:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var t=this,e=t.min,n=t.max;return t.beginAtZero?0:e<0&&n<0?n:e>0&&n>0?e:0},_autoSkip:function(t){var e,n,i,a,r=this,o=r.options.ticks,l=r._length,s=o.maxTicksLimit||l/r._tickSize()+1,u=o.major.enabled?ee(t):[],d=u.length,c=u[0],h=u[d-1];if(d>s)return ne(t,u,d/s),Jt(t);if(i=te(u,t,l,s),d>0){for(e=0,n=d-1;e<n;e++)ie(t,i,u[e],u[e+1]);return a=d>1?(h-c)/(d-1):null,ie(t,i,In.isNullOrUndef(a)?0:c-a,c),ie(t,i,h,In.isNullOrUndef(a)?t.length:h+a),Jt(t)}return ie(t,i),Jt(t)},_tickSize:function(){var t=this,e=t.options.ticks,n=In.toRadians(t.labelRotation),i=Math.abs(Math.cos(n)),a=Math.abs(Math.sin(n)),r=t._getLabelSizes(),o=e.autoSkipPadding||0,l=r?r.widest.width+o:0,s=r?r.highest.height+o:0;return t.isHorizontal()?s*i>l*a?l/i:s/a:s*a<l*i?s/i:l/a},_isVisible:function(){var t,e,n,i=this,a=i.chart,r=i.options.display;if("auto"!==r)return!!r;for(t=0,e=a.data.datasets.length;t<e;++t)if(a.isDatasetVisible(t)&&(n=a.getDatasetMeta(t),n.xAxisID===i.id||n.yAxisID===i.id))return!0;return!1},_computeGridLineItems:function(t){var e,n,i,a,r,o,l,s,u,d,c,h,f,g,p,m,v,b=this,x=b.chart,y=b.options,_=y.gridLines,k=y.position,w=_.offsetGridLines,M=b.isHorizontal(),S=b._ticksToDraw,C=S.length+(w?1:0),P=Xt(_),A=[],D=_.drawBorder?fa(_.lineWidth,0,0):0,T=D/2,I=In._alignPixel,F=function(t){return I(x,t,D)};for("top"===k?(e=F(b.bottom),l=b.bottom-P,u=e-T,c=F(t.top)+T,f=t.bottom):"bottom"===k?(e=F(b.top),c=t.top,f=F(t.bottom)-T,l=e+T,u=b.top+P):"left"===k?(e=F(b.right),o=b.right-P,s=e-T,d=F(t.left)+T,h=t.right):(e=F(b.left),d=t.left,h=F(t.right)-T,o=e+T,s=b.left+P),n=0;n<C;++n)i=S[n]||{},ca(i.label)&&n<S.length||(n===b.zeroLineIndex&&y.offset===w?(g=_.zeroLineWidth,p=_.zeroLineColor,m=_.zeroLineBorderDash||[],v=_.zeroLineBorderDashOffset||0):(g=fa(_.lineWidth,n,1),p=fa(_.color,n,"rgba(0,0,0,0.1)"),m=_.borderDash||[],v=_.borderDashOffset||0),a=Ut(b,i._index||n,w),void 0!==a&&(r=I(x,a,g),M?o=s=d=h=r:l=u=c=f=r,A.push({tx1:o,ty1:l,tx2:s,ty2:u,x1:d,y1:c,x2:h,y2:f,width:g,color:p,borderDash:m,borderDashOffset:v})));return A.ticksLength=C,A.borderValue=e,A},_computeLabelItems:function(){var t,e,n,i,a,r,o,l,s,u,d,c,h=this,f=h.options,g=f.ticks,p=f.position,m=g.mirror,v=h.isHorizontal(),b=h._ticksToDraw,x=$t(g),y=g.padding,_=Xt(f.gridLines),k=-In.toRadians(h.labelRotation),w=[];for("top"===p?(r=h.bottom-_-y,o=k?"left":"center"):"bottom"===p?(r=h.top+_+y,o=k?"right":"center"):"left"===p?(a=h.right-(m?0:_)-y,o=m?"left":"right"):(a=h.left+(m?0:_)+y,o=m?"right":"left"),t=0,e=b.length;t<e;++t)n=b[t],i=n.label,ca(i)||(l=h.getPixelForTick(n._index||t)+g.labelOffset,s=n.major?x.major:x.minor,u=s.lineHeight,d=da(i)?i.length:1,v?(a=l,c="top"===p?((k?1:.5)-d)*u:(k?0:.5)*u):(r=l,c=(1-d)*u/2),w.push({x:a,y:r,rotation:k,label:i,font:s,textOffset:c,textAlign:o}));return w},_drawGrid:function(t){var e=this,n=e.options.gridLines;if(n.display){var i,a,r,o,l,s=e.ctx,u=e.chart,d=In._alignPixel,c=n.drawBorder?fa(n.lineWidth,0,0):0,h=e._gridLineItems||(e._gridLineItems=e._computeGridLineItems(t));for(r=0,o=h.length;r<o;++r)l=h[r],i=l.width,a=l.color,i&&a&&(s.save(),s.lineWidth=i,s.strokeStyle=a,s.setLineDash&&(s.setLineDash(l.borderDash),s.lineDashOffset=l.borderDashOffset),s.beginPath(),n.drawTicks&&(s.moveTo(l.tx1,l.ty1),s.lineTo(l.tx2,l.ty2)),n.drawOnChartArea&&(s.moveTo(l.x1,l.y1),s.lineTo(l.x2,l.y2)),s.stroke(),s.restore());if(c){var f,g,p,m,v=c,b=fa(n.lineWidth,h.ticksLength-1,1),x=h.borderValue;e.isHorizontal()?(f=d(u,e.left,v)-v/2,g=d(u,e.right,b)+b/2,p=m=x):(p=d(u,e.top,v)-v/2,m=d(u,e.bottom,b)+b/2,f=g=x),s.lineWidth=c,s.strokeStyle=fa(n.color,0),s.beginPath(),s.moveTo(f,p),s.lineTo(g,m),s.stroke()}}},_drawLabels:function(){var t=this,e=t.options.ticks;if(e.display){var n,i,a,r,o,l,s,u,d=t.ctx,c=t._labelItems||(t._labelItems=t._computeLabelItems());for(n=0,a=c.length;n<a;++n){if(o=c[n],l=o.font,d.save(),d.translate(o.x,o.y),d.rotate(o.rotation),d.font=l.string,d.fillStyle=l.color,d.textBaseline="middle",d.textAlign=o.textAlign,s=o.label,u=o.textOffset,da(s))for(i=0,r=s.length;i<r;++i)d.fillText(""+s[i],0,u),u+=l.lineHeight;else d.fillText(s,0,u);d.restore()}}},_drawTitle:function(){var t=this,e=t.ctx,n=t.options,i=n.scaleLabel;if(i.display){var a,r,o=ha(i.fontColor,yn.global.defaultFontColor),l=In.options._parseFont(i),s=In.options.toPadding(i.padding),u=l.lineHeight/2,d=n.position,c=0;if(t.isHorizontal())a=t.left+t.width/2,r="bottom"===d?t.bottom-u-s.bottom:t.top+u+s.top;else{var h="left"===d;a=h?t.left+u+s.top:t.right-u-s.top,r=t.top+t.height/2,c=h?-.5*Math.PI:.5*Math.PI}e.save(),e.translate(a,r),e.rotate(c),e.textAlign="center",e.textBaseline="middle",e.fillStyle=o,e.font=l.string,e.fillText(i.labelString,0,0),e.restore()}},draw:function(t){var e=this;e._isVisible()&&(e._drawGrid(t),e._drawTitle(),e._drawLabels())},_layers:function(){var t=this,e=t.options,n=e.ticks&&e.ticks.z||0,i=e.gridLines&&e.gridLines.z||0;return t._isVisible()&&n!==i&&t.draw===t._draw?[{z:i,draw:function(){t._drawGrid.apply(t,arguments),t._drawTitle.apply(t,arguments)}},{z:n,draw:function(){t._drawLabels.apply(t,arguments)}}]:[{z:n,draw:function(){t.draw.apply(t,arguments)}}]},_getMatchingVisibleMetas:function(t){var e=this,n=e.isHorizontal();return e.chart._getSortedVisibleDatasetMetas().filter(function(i){return(!t||i.type===t)&&(n?i.xAxisID===e.id:i.yAxisID===e.id)})}});ga.prototype._draw=ga.prototype.draw;var pa=ga,ma=In.isNullOrUndef,va={position:"bottom"},ba=pa.extend({determineDataLimits:function(){var t,e=this,n=e._getLabels(),i=e.options.ticks,a=i.min,r=i.max,o=0,l=n.length-1;void 0!==a&&(t=n.indexOf(a),t>=0&&(o=t)),void 0!==r&&(t=n.indexOf(r),t>=0&&(l=t)),e.minIndex=o,e.maxIndex=l,e.min=n[o],e.max=n[l]},buildTicks:function(){var t=this,e=t._getLabels(),n=t.minIndex,i=t.maxIndex;t.ticks=0===n&&i===e.length-1?e:e.slice(n,i+1)},getLabelForIndex:function(t,e){var n=this,i=n.chart;return i.getDatasetMeta(e).controller._getValueScaleId()===n.id?n.getRightValue(i.data.datasets[e].data[t]):n._getLabels()[t]},_configure:function(){var t=this,e=t.options.offset,n=t.ticks;pa.prototype._configure.call(t),t.isHorizontal()||(t._reversePixels=!t._reversePixels),n&&(t._startValue=t.minIndex-(e?.5:0),t._valueRange=Math.max(n.length-(e?0:1),1))},getPixelForValue:function(t,e,n){var i,a,r,o=this;return ma(e)||ma(n)||(t=o.chart.data.datasets[n].data[e]),ma(t)||(i=o.isHorizontal()?t.x:t.y),(void 0!==i||void 0!==t&&isNaN(e))&&(a=o._getLabels(),t=In.valueOrDefault(i,t),r=a.indexOf(t),e=r!==-1?r:e,isNaN(e)&&(e=t)),o.getPixelForDecimal((e-o._startValue)/o._valueRange)},getPixelForTick:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t],t+this.minIndex)},getValueForPixel:function(t){var e=this,n=Math.round(e._startValue+e.getDecimalForPixel(t)*e._valueRange);return Math.min(Math.max(n,0),e.ticks.length-1)},getBasePixel:function(){return this.bottom}}),xa=va;ba._defaults=xa;var ya=In.noop,_a=In.isNullOrUndef,ka=pa.extend({getRightValue:function(t){return"string"==typeof t?+t:pa.prototype.getRightValue.call(this,t)},handleTickRangeOptions:function(){var t=this,e=t.options,n=e.ticks;if(n.beginAtZero){var i=In.sign(t.min),a=In.sign(t.max);i<0&&a<0?t.max=0:i>0&&a>0&&(t.min=0)}var r=void 0!==n.min||void 0!==n.suggestedMin,o=void 0!==n.max||void 0!==n.suggestedMax;void 0!==n.min?t.min=n.min:void 0!==n.suggestedMin&&(null===t.min?t.min=n.suggestedMin:t.min=Math.min(t.min,n.suggestedMin)),void 0!==n.max?t.max=n.max:void 0!==n.suggestedMax&&(null===t.max?t.max=n.suggestedMax:t.max=Math.max(t.max,n.suggestedMax)),r!==o&&t.min>=t.max&&(r?t.max=t.min+1:t.min=t.max-1),t.min===t.max&&(t.max++,n.beginAtZero||t.min--)},getTickLimit:function(){var t,e=this,n=e.options.ticks,i=n.stepSize,a=n.maxTicksLimit;return i?t=Math.ceil(e.max/i)-Math.floor(e.min/i)+1:(t=e._computeTickLimit(),a=a||11),a&&(t=Math.min(a,t)),t},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:ya,buildTicks:function(){var t=this,e=t.options,n=e.ticks,i=t.getTickLimit();i=Math.max(2,i);var a={maxTicks:i,min:n.min,max:n.max,precision:n.precision,stepSize:In.valueOrDefault(n.fixedStepSize,n.stepSize)},r=t.ticks=ae(a,t);t.handleDirectionalChanges(),t.max=In.max(r),t.min=In.min(r),n.reverse?(r.reverse(),t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max)},convertTicksToLabels:function(){var t=this;t.ticksAsNumbers=t.ticks.slice(),t.zeroLineIndex=t.ticks.indexOf(0),pa.prototype.convertTicksToLabels.call(t)},_configure:function(){var t,e=this,n=e.getTicks(),i=e.min,a=e.max;pa.prototype._configure.call(e),e.options.offset&&n.length&&(t=(a-i)/Math.max(n.length-1,1)/2,i-=t,a+=t),e._startValue=i,e._endValue=a,e._valueRange=a-i}}),wa={position:"left",ticks:{callback:ua.formatters.linear}},Ma=0,Sa=1,Ca=ka.extend({determineDataLimits:function(){var t,e,n,i,a=this,r=a.options,o=a.chart,l=o.data.datasets,s=a._getMatchingVisibleMetas(),u=r.stacked,d={},c=s.length;if(a.min=Number.POSITIVE_INFINITY,a.max=Number.NEGATIVE_INFINITY,void 0===u)for(t=0;!u&&t<c;++t)e=s[t],u=void 0!==e.stack;for(t=0;t<c;++t)e=s[t],n=l[e.index].data,u?oe(a,d,e,n):le(a,e,n);In.each(d,function(t){i=t.pos.concat(t.neg),a.min=Math.min(a.min,In.min(i)),a.max=Math.max(a.max,In.max(i))}),a.min=In.isFinite(a.min)&&!isNaN(a.min)?a.min:Ma,a.max=In.isFinite(a.max)&&!isNaN(a.max)?a.max:Sa,a.handleTickRangeOptions()},_computeTickLimit:function(){var t,e=this;return e.isHorizontal()?Math.ceil(e.width/40):(t=In.options._parseFont(e.options.ticks),Math.ceil(e.height/t.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForValue:function(t){var e=this;return e.getPixelForDecimal((+e.getRightValue(t)-e._startValue)/e._valueRange)},getValueForPixel:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange},getPixelForTick:function(t){var e=this.ticksAsNumbers;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])}}),Pa=wa;Ca._defaults=Pa;var Aa=In.valueOrDefault,Da=In.math.log10,Ta={position:"left",ticks:{callback:ua.formatters.logarithmic}},Ia=pa.extend({determineDataLimits:function(){function t(t){return c?t.xAxisID===l.id:t.yAxisID===l.id}var e,n,i,a,r,o,l=this,s=l.options,u=l.chart,d=u.data.datasets,c=l.isHorizontal();l.min=Number.POSITIVE_INFINITY,l.max=Number.NEGATIVE_INFINITY,l.minNotZero=Number.POSITIVE_INFINITY;var h=s.stacked;if(void 0===h)for(e=0;e<d.length;e++)if(n=u.getDatasetMeta(e),u.isDatasetVisible(e)&&t(n)&&void 0!==n.stack){h=!0;break}if(s.stacked||h){var f={};for(e=0;e<d.length;e++){n=u.getDatasetMeta(e);var g=[n.type,void 0===s.stacked&&void 0===n.stack?e:"",n.stack].join(".");if(u.isDatasetVisible(e)&&t(n))for(void 0===f[g]&&(f[g]=[]),a=d[e].data,r=0,o=a.length;r<o;r++){var p=f[g];i=l._parseValue(a[r]),isNaN(i.min)||isNaN(i.max)||n.data[r].hidden||i.min<0||i.max<0||(p[r]=p[r]||0,p[r]+=i.max)}}In.each(f,function(t){if(t.length>0){var e=In.min(t),n=In.max(t);l.min=Math.min(l.min,e),l.max=Math.max(l.max,n)}})}else for(e=0;e<d.length;e++)if(n=u.getDatasetMeta(e),u.isDatasetVisible(e)&&t(n))for(a=d[e].data,r=0,o=a.length;r<o;r++)i=l._parseValue(a[r]),isNaN(i.min)||isNaN(i.max)||n.data[r].hidden||i.min<0||i.max<0||(l.min=Math.min(i.min,l.min),l.max=Math.max(i.max,l.max),0!==i.min&&(l.minNotZero=Math.min(i.min,l.minNotZero)));l.min=In.isFinite(l.min)?l.min:null,l.max=In.isFinite(l.max)?l.max:null,l.minNotZero=In.isFinite(l.minNotZero)?l.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var t=this,e=t.options.ticks,n=1,i=10;t.min=ue(e.min,t.min),t.max=ue(e.max,t.max),t.min===t.max&&(0!==t.min&&null!==t.min?(t.min=Math.pow(10,Math.floor(Da(t.min))-1),t.max=Math.pow(10,Math.floor(Da(t.max))+1)):(t.min=n,t.max=i)),null===t.min&&(t.min=Math.pow(10,Math.floor(Da(t.max))-1)),null===t.max&&(t.max=0!==t.min?Math.pow(10,Math.floor(Da(t.min))+1):i),null===t.minNotZero&&(t.min>0?t.minNotZero=t.min:t.max<1?t.minNotZero=Math.pow(10,Math.floor(Da(t.max))):t.minNotZero=n)},buildTicks:function(){var t=this,e=t.options.ticks,n=!t.isHorizontal(),i={min:ue(e.min),max:ue(e.max)},a=t.ticks=se(i,t);t.max=In.max(a),t.min=In.min(a),e.reverse?(n=!n,t.start=t.max,t.end=t.min):(t.start=t.min,t.end=t.max),n&&a.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),pa.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(t,e){return this._getScaleLabel(this.chart.data.datasets[e].data[t])},getPixelForTick:function(t){var e=this.tickValues;return t<0||t>e.length-1?null:this.getPixelForValue(e[t])},_getFirstTickValue:function(t){var e=Math.floor(Da(t)),n=Math.floor(t/Math.pow(10,e));return n*Math.pow(10,e)},_configure:function(){var t=this,e=t.min,n=0;pa.prototype._configure.call(t),0===e&&(e=t._getFirstTickValue(t.minNotZero),n=Aa(t.options.ticks.fontSize,yn.global.defaultFontSize)/t._length),t._startValue=Da(e),t._valueOffset=n,t._valueRange=(Da(t.max)-Da(e))/(1-n)},getPixelForValue:function(t){var e=this,n=0;return t=+e.getRightValue(t),t>e.min&&t>0&&(n=(Da(t)-e._startValue)/e._valueRange+e._valueOffset),e.getPixelForDecimal(n)},getValueForPixel:function(t){var e=this,n=e.getDecimalForPixel(t);return 0===n&&0===e.min?0:Math.pow(10,e._startValue+(n-e._valueOffset)*e._valueRange)}}),Fa=Ta;Ia._defaults=Fa;var Oa=In.valueOrDefault,La=In.valueAtIndexOrDefault,Ra=In.options.resolve,za={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:ua.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(t){return t}}},Na=ka.extend({setDimensions:function(){var t=this;t.width=t.maxWidth,t.height=t.maxHeight,t.paddingTop=de(t.options)/2,t.xCenter=Math.floor(t.width/2),t.yCenter=Math.floor((t.height-t.paddingTop)/2),t.drawingArea=Math.min(t.height-t.paddingTop,t.width)/2},determineDataLimits:function(){var t=this,e=t.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;In.each(e.data.datasets,function(a,r){if(e.isDatasetVisible(r)){var o=e.getDatasetMeta(r);In.each(a.data,function(e,a){var r=+t.getRightValue(e);isNaN(r)||o.data[a].hidden||(n=Math.min(r,n),i=Math.max(r,i))})}}),t.min=n===Number.POSITIVE_INFINITY?0:n,t.max=i===Number.NEGATIVE_INFINITY?0:i,t.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/de(this.options))},convertTicksToLabels:function(){var t=this;ka.prototype.convertTicksToLabels.call(t),t.pointLabels=t.chart.data.labels.map(function(){var e=In.callback(t.options.pointLabels.callback,arguments,t);return e||0===e?e:""})},getLabelForIndex:function(t,e){return+this.getRightValue(this.chart.data.datasets[e].data[t])},fit:function(){var t=this,e=t.options;e.display&&e.pointLabels.display?fe(t):t.setCenterPoint(0,0,0,0)},setReductions:function(t,e,n){var i=this,a=e.l/Math.sin(n.l),r=Math.max(e.r-i.width,0)/Math.sin(n.r),o=-e.t/Math.cos(n.t),l=-Math.max(e.b-(i.height-i.paddingTop),0)/Math.cos(n.b);a=xe(a),r=xe(r),o=xe(o),l=xe(l),i.drawingArea=Math.min(Math.floor(t-(a+r)/2),Math.floor(t-(o+l)/2)),i.setCenterPoint(a,r,o,l)},setCenterPoint:function(t,e,n,i){var a=this,r=a.width-e-a.drawingArea,o=t+a.drawingArea,l=n+a.drawingArea,s=a.height-a.paddingTop-i-a.drawingArea;a.xCenter=Math.floor((o+r)/2+a.left),a.yCenter=Math.floor((l+s)/2+a.top+a.paddingTop)},getIndexAngle:function(t){var e=this.chart,n=360/e.data.labels.length,i=e.options||{},a=i.startAngle||0,r=(t*n+a)%360;return(r<0?r+360:r)*Math.PI*2/360},getDistanceFromCenterForValue:function(t){var e=this;if(In.isNullOrUndef(t))return NaN;var n=e.drawingArea/(e.max-e.min);return e.options.ticks.reverse?(e.max-t)*n:(t-e.min)*n},getPointPosition:function(t,e){var n=this,i=n.getIndexAngle(t)-Math.PI/2;return{x:Math.cos(i)*e+n.xCenter,y:Math.sin(i)*e+n.yCenter}},getPointPositionForValue:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))},getBasePosition:function(t){var e=this,n=e.min,i=e.max;return e.getPointPositionForValue(t||0,e.beginAtZero?0:n<0&&i<0?i:n>0&&i>0?n:0)},_drawGrid:function(){var t,e,n,i=this,a=i.ctx,r=i.options,o=r.gridLines,l=r.angleLines,s=Oa(l.lineWidth,o.lineWidth),u=Oa(l.color,o.color);if(r.pointLabels.display&&ve(i),o.display&&In.each(i.ticks,function(t,n){0!==n&&(e=i.getDistanceFromCenterForValue(i.ticksAsNumbers[n]),be(i,o,e,n))}),l.display&&s&&u){for(a.save(),a.lineWidth=s,a.strokeStyle=u,a.setLineDash&&(a.setLineDash(Ra([l.borderDash,o.borderDash,[]])),a.lineDashOffset=Ra([l.borderDashOffset,o.borderDashOffset,0])),t=i.chart.data.labels.length-1;t>=0;t--)e=i.getDistanceFromCenterForValue(r.ticks.reverse?i.min:i.max),n=i.getPointPosition(t,e),a.beginPath(),a.moveTo(i.xCenter,i.yCenter),a.lineTo(n.x,n.y),a.stroke();a.restore()}},_drawLabels:function(){var t=this,e=t.ctx,n=t.options,i=n.ticks;if(i.display){var a,r,o=t.getIndexAngle(0),l=In.options._parseFont(i),s=Oa(i.fontColor,yn.global.defaultFontColor);e.save(),e.font=l.string,e.translate(t.xCenter,t.yCenter),e.rotate(o),e.textAlign="center",e.textBaseline="middle",In.each(t.ticks,function(n,o){(0!==o||i.reverse)&&(a=t.getDistanceFromCenterForValue(t.ticksAsNumbers[o]),i.showLabelBackdrop&&(r=e.measureText(n).width,e.fillStyle=i.backdropColor,e.fillRect(-r/2-i.backdropPaddingX,-a-l.size/2-i.backdropPaddingY,r+2*i.backdropPaddingX,l.size+2*i.backdropPaddingY)),e.fillStyle=s,e.fillText(n,0,-a))}),e.restore()}},_drawTitle:In.noop}),Ba=za;Na._defaults=Ba;var Ea=In._deprecated,Wa=In.options.resolve,Va=In.valueOrDefault,Ha=Number.MIN_SAFE_INTEGER||-9007199254740991,ja=Number.MAX_SAFE_INTEGER||9007199254740991,qa={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ua=Object.keys(qa),Ya={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}},Ga=pa.extend({initialize:function(){this.mergeTicksOptions(),pa.prototype.initialize.call(this)},update:function(){var t=this,e=t.options,n=e.time||(e.time={}),i=t._adapter=new sa._date(e.adapters.date);return Ea("time scale",n.format,"time.format","time.parser"),Ea("time scale",n.min,"time.min","ticks.min"),Ea("time scale",n.max,"time.max","ticks.max"),In.mergeIf(n.displayFormats,i.formats()),pa.prototype.update.apply(t,arguments);
},getRightValue:function(t){return t&&void 0!==t.t&&(t=t.t),pa.prototype.getRightValue.call(this,t)},determineDataLimits:function(){var t,e,n,i,a,r,o,l=this,s=l.chart,u=l._adapter,d=l.options,c=d.time.unit||"day",h=ja,f=Ha,g=[],p=[],m=[],v=l._getLabels();for(t=0,n=v.length;t<n;++t)m.push(Ae(l,v[t]));for(t=0,n=(s.data.datasets||[]).length;t<n;++t)if(s.isDatasetVisible(t))if(a=s.data.datasets[t].data,In.isObject(a[0]))for(p[t]=[],e=0,i=a.length;e<i;++e)r=Ae(l,a[e]),g.push(r),p[t][e]=r;else p[t]=m.slice(0),o||(g=g.concat(m),o=!0);else p[t]=[];m.length&&(h=Math.min(h,m[0]),f=Math.max(f,m[m.length-1])),g.length&&(g=n>1?_e(g).sort(ye):g.sort(ye),h=Math.min(h,g[0]),f=Math.max(f,g[g.length-1])),h=Ae(l,ke(d))||h,f=Ae(l,we(d))||f,h=h===ja?+u.startOf(Date.now(),c):h,f=f===Ha?+u.endOf(Date.now(),c)+1:f,l.min=Math.min(h,f),l.max=Math.max(h+1,f),l._table=[],l._timestamps={data:g,datasets:p,labels:m}},buildTicks:function(){var t,e,n,i=this,a=i.min,r=i.max,o=i.options,l=o.ticks,s=o.time,u=i._timestamps,d=[],c=i.getLabelCapacity(a),h=l.source,f=o.distribution;for(u="data"===h||"auto"===h&&"series"===f?u.data:"labels"===h?u.labels:Fe(i,a,r,c),"ticks"===o.bounds&&u.length&&(a=u[0],r=u[u.length-1]),a=Ae(i,ke(o))||a,r=Ae(i,we(o))||r,t=0,e=u.length;t<e;++t)n=u[t],n>=a&&n<=r&&d.push(n);return i.min=a,i.max=r,i._unit=s.unit||(l.autoSkip?De(s.minUnit,i.min,i.max,c):Te(i,d.length,s.minUnit,i.min,i.max)),i._majorUnit=l.major.enabled&&"year"!==i._unit?Ie(i._unit):void 0,i._table=Me(i._timestamps.data,a,r,f),i._offsets=Oe(i._table,d,a,r,o),l.reverse&&d.reverse(),Re(i,d,i._majorUnit)},getLabelForIndex:function(t,e){var n=this,i=n._adapter,a=n.chart.data,r=n.options.time,o=a.labels&&t<a.labels.length?a.labels[t]:"",l=a.datasets[e].data[t];return In.isObject(l)&&(o=n.getRightValue(l)),r.tooltipFormat?i.format(Pe(n,o),r.tooltipFormat):"string"==typeof o?o:i.format(Pe(n,o),r.displayFormats.datetime)},tickFormatFunction:function(t,e,n,i){var a=this,r=a._adapter,o=a.options,l=o.time.displayFormats,s=l[a._unit],u=a._majorUnit,d=l[u],c=n[e],h=o.ticks,f=u&&d&&c&&c.major,g=r.format(t,i?i:f?d:s),p=f?h.major:h.minor,m=Wa([p.callback,p.userCallback,h.callback,h.userCallback]);return m?m(g,e,n):g},convertTicksToLabels:function(t){var e,n,i=[];for(e=0,n=t.length;e<n;++e)i.push(this.tickFormatFunction(t[e].value,e,t));return i},getPixelForOffset:function(t){var e=this,n=e._offsets,i=Ce(e._table,"time",t,"pos");return e.getPixelForDecimal((n.start+i)*n.factor)},getPixelForValue:function(t,e,n){var i=this,a=null;if(void 0!==e&&void 0!==n&&(a=i._timestamps.datasets[n][e]),null===a&&(a=Ae(i,t)),null!==a)return i.getPixelForOffset(a)},getPixelForTick:function(t){var e=this.getTicks();return t>=0&&t<e.length?this.getPixelForOffset(e[t].value):null},getValueForPixel:function(t){var e=this,n=e._offsets,i=e.getDecimalForPixel(t)/n.factor-n.end,a=Ce(e._table,"pos",i,"time");return e._adapter._create(a)},_getLabelSize:function(t){var e=this,n=e.options.ticks,i=e.ctx.measureText(t).width,a=In.toRadians(e.isHorizontal()?n.maxRotation:n.minRotation),r=Math.cos(a),o=Math.sin(a),l=Va(n.fontSize,yn.global.defaultFontSize);return{w:i*r+l*o,h:i*o+l*r}},getLabelWidth:function(t){return this._getLabelSize(t).w},getLabelCapacity:function(t){var e=this,n=e.options.time,i=n.displayFormats,a=i[n.unit]||i.millisecond,r=e.tickFormatFunction(t,0,Re(e,[t],e._majorUnit),a),o=e._getLabelSize(r),l=Math.floor(e.isHorizontal()?e.width/o.w:e.height/o.h);return e.options.offset&&l--,l>0?l:1}}),Xa=Ya;Ga._defaults=Xa;var Ka={category:ba,linear:Ca,logarithmic:Ia,radialLinear:Na,time:Ga},Za={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};sa._date.override("function"==typeof t?{_id:"moment",formats:function(){return Za},parse:function(e,n){return"string"==typeof e&&"string"==typeof n?e=t(e,n):e instanceof t||(e=t(e)),e.isValid()?e.valueOf():null},format:function(e,n){return t(e).format(n)},add:function(e,n,i){return t(e).add(n,i).valueOf()},diff:function(e,n,i){return t(e).diff(t(n),i)},startOf:function(e,n,i){return e=t(e),"isoWeek"===n?e.isoWeekday(i).valueOf():e.startOf(n).valueOf()},endOf:function(e,n){return t(e).endOf(n).valueOf()},_create:function(e){return t(e)}}:{}),yn._set("global",{plugins:{filler:{propagate:!0}}});var $a={dataset:function(t){var e=t.fill,n=t.chart,i=n.getDatasetMeta(e),a=i&&n.isDatasetVisible(e),r=a&&i.dataset._children||[],o=r.length||0;return o?function(t,e){return e<o&&r[e]._view||null}:null},boundary:function(t){var e=t.boundary,n=e?e.x:null,i=e?e.y:null;return In.isArray(e)?function(t,n){return e[n]}:function(t){return{x:null===n?t.x:n,y:null===i?t.y:i}}}},Ja={id:"filler",afterDatasetsUpdate:function(t,e){var n,i,a,r,o=(t.data.datasets||[]).length,l=e.propagate,s=[];for(i=0;i<o;++i)n=t.getDatasetMeta(i),a=n.dataset,r=null,a&&a._model&&a instanceof ni.Line&&(r={visible:t.isDatasetVisible(i),fill:ze(a,i,o),chart:t,el:a}),n.$filler=r,s.push(r);for(i=0;i<o;++i)r=s[i],r&&(r.fill=We(s,i,l),r.boundary=Ee(r),r.mapper=Ve(r))},beforeDatasetsDraw:function(t){var e,n,i,a,r,o,l,s=t._getSortedVisibleDatasetMetas(),u=t.ctx;for(n=s.length-1;n>=0;--n)e=s[n].$filler,e&&e.visible&&(i=e.el,a=i._view,r=i._children||[],o=e.mapper,l=a.backgroundColor||yn.global.defaultColor,o&&l&&r.length&&(In.canvas.clipArea(u,t.chartArea),qe(u,r,o,a,l,i._loop),In.canvas.unclipArea(u)))}},Qa=In.rtl.getRtlAdapter,tr=In.noop,er=In.valueOrDefault;yn._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(t,e){var n=e.datasetIndex,i=this.chart,a=i.getDatasetMeta(n);a.hidden=null===a.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(t){var e=t.data.datasets,n=t.options.legend||{},i=n.labels&&n.labels.usePointStyle;return t._getSortedDatasetMetas().map(function(n){var a=n.controller.getStyle(i?0:void 0);return{text:e[n.index].label,fillStyle:a.backgroundColor,hidden:!t.isDatasetVisible(n.index),lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:a.borderWidth,strokeStyle:a.borderColor,pointStyle:a.pointStyle,rotation:a.rotation,datasetIndex:n.index}},this)}}},legendCallback:function(t){var e,n,i,a,r=document.createElement("ul"),o=t.data.datasets;for(r.setAttribute("class",t.id+"-legend"),e=0,n=o.length;e<n;e++)i=r.appendChild(document.createElement("li")),a=i.appendChild(document.createElement("span")),a.style.backgroundColor=o[e].backgroundColor,o[e].label&&i.appendChild(document.createTextNode(o[e].label));return r.outerHTML}});var nr=Bn.extend({initialize:function(t){var e=this;In.extend(e,t),e.legendHitBoxes=[],e._hoveredItem=null,e.doughnutMode=!1},beforeUpdate:tr,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:tr,beforeSetDimensions:tr,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:tr,beforeBuildLabels:tr,buildLabels:function(){var t=this,e=t.options.labels||{},n=In.callback(e.generateLabels,[t.chart],t)||[];e.filter&&(n=n.filter(function(n){return e.filter(n,t.chart.data)})),t.options.reverse&&n.reverse(),t.legendItems=n},afterBuildLabels:tr,beforeFit:tr,fit:function(){var t=this,e=t.options,n=e.labels,i=e.display,a=t.ctx,r=In.options._parseFont(n),o=r.size,l=t.legendHitBoxes=[],s=t.minSize,u=t.isHorizontal();if(u?(s.width=t.maxWidth,s.height=i?10:0):(s.width=i?10:0,s.height=t.maxHeight),!i)return void(t.width=s.width=t.height=s.height=0);if(a.font=r.string,u){var d=t.lineWidths=[0],c=0;a.textAlign="left",a.textBaseline="middle",In.each(t.legendItems,function(t,e){var i=Ue(n,o),r=i+o/2+a.measureText(t.text).width;(0===e||d[d.length-1]+r+2*n.padding>s.width)&&(c+=o+n.padding,d[d.length-(e>0?0:1)]=0),l[e]={left:0,top:0,width:r,height:o},d[d.length-1]+=r+n.padding}),s.height+=c}else{var h=n.padding,f=t.columnWidths=[],g=t.columnHeights=[],p=n.padding,m=0,v=0;In.each(t.legendItems,function(t,e){var i=Ue(n,o),r=i+o/2+a.measureText(t.text).width;e>0&&v+o+2*h>s.height&&(p+=m+n.padding,f.push(m),g.push(v),m=0,v=0),m=Math.max(m,r),v+=o+h,l[e]={left:0,top:0,width:r,height:o}}),p+=m,f.push(m),g.push(v),s.width+=p}t.width=s.width,t.height=s.height},afterFit:tr,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var t=this,e=t.options,n=e.labels,i=yn.global,a=i.defaultColor,r=i.elements.line,o=t.height,l=t.columnHeights,s=t.width,u=t.lineWidths;if(e.display){var d,c=Qa(e.rtl,t.left,t.minSize.width),h=t.ctx,f=er(n.fontColor,i.defaultFontColor),g=In.options._parseFont(n),p=g.size;h.textAlign=c.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.strokeStyle=f,h.fillStyle=f,h.font=g.string;var m=Ue(n,p),v=t.legendHitBoxes,b=function(t,e,i){if(!(isNaN(m)||m<=0)){h.save();var o=er(i.lineWidth,r.borderWidth);if(h.fillStyle=er(i.fillStyle,a),h.lineCap=er(i.lineCap,r.borderCapStyle),h.lineDashOffset=er(i.lineDashOffset,r.borderDashOffset),h.lineJoin=er(i.lineJoin,r.borderJoinStyle),h.lineWidth=o,h.strokeStyle=er(i.strokeStyle,a),h.setLineDash&&h.setLineDash(er(i.lineDash,r.borderDash)),n&&n.usePointStyle){var l=m*Math.SQRT2/2,s=c.xPlus(t,m/2),u=e+p/2;In.canvas.drawPoint(h,i.pointStyle,l,s,u,i.rotation)}else h.fillRect(c.leftForLtr(t,m),e,m,p),0!==o&&h.strokeRect(c.leftForLtr(t,m),e,m,p);h.restore()}},x=function(t,e,n,i){var a=p/2,r=c.xPlus(t,m+a),o=e+a;h.fillText(n.text,r,o),n.hidden&&(h.beginPath(),h.lineWidth=2,h.moveTo(r,o),h.lineTo(c.xPlus(r,i),o),h.stroke())},y=function(t,i){switch(e.align){case"start":return n.padding;case"end":return t-i;default:return(t-i+n.padding)/2}},_=t.isHorizontal();d=_?{x:t.left+y(s,u[0]),y:t.top+n.padding,line:0}:{x:t.left+n.padding,y:t.top+y(o,l[0]),line:0},In.rtl.overrideTextDirection(t.ctx,e.textDirection);var k=p+n.padding;In.each(t.legendItems,function(e,i){var a=h.measureText(e.text).width,r=m+p/2+a,f=d.x,g=d.y;c.setWidth(t.minSize.width),_?i>0&&f+r+n.padding>t.left+t.minSize.width&&(g=d.y+=k,d.line++,f=d.x=t.left+y(s,u[d.line])):i>0&&g+k>t.top+t.minSize.height&&(f=d.x=f+t.columnWidths[d.line]+n.padding,d.line++,g=d.y=t.top+y(o,l[d.line]));var w=c.x(f);b(w,g,e),v[i].left=c.leftForLtr(w,v[i].width),v[i].top=g,x(w,g,e,a),_?d.x+=r+n.padding:d.y+=k}),In.rtl.restoreTextDirection(t.ctx,e.textDirection)}},_getLegendItemAt:function(t,e){var n,i,a,r=this;if(t>=r.left&&t<=r.right&&e>=r.top&&e<=r.bottom)for(a=r.legendHitBoxes,n=0;n<a.length;++n)if(i=a[n],t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height)return r.legendItems[n];return null},handleEvent:function(t){var e,n=this,i=n.options,a="mouseup"===t.type?"click":t.type;if("mousemove"===a){if(!i.onHover&&!i.onLeave)return}else{if("click"!==a)return;if(!i.onClick)return}e=n._getLegendItemAt(t.x,t.y),"click"===a?e&&i.onClick&&i.onClick.call(n,t["native"],e):(i.onLeave&&e!==n._hoveredItem&&(n._hoveredItem&&i.onLeave.call(n,t["native"],n._hoveredItem),n._hoveredItem=e),i.onHover&&e&&i.onHover.call(n,t["native"],e))}}),ir={id:"legend",_element:nr,beforeInit:function(t){var e=t.options.legend;e&&Ye(t,e)},beforeUpdate:function(t){var e=t.options.legend,n=t.legend;e?(In.mergeIf(e,yn.global.legend),n?(Fi.configure(t,n,e),n.options=e):Ye(t,e)):n&&(Fi.removeBox(t,n),delete t.legend)},afterEvent:function(t,e){var n=t.legend;n&&n.handleEvent(e)}},ar=In.noop;yn._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var rr=Bn.extend({initialize:function(t){var e=this;In.extend(e,t),e.legendHitBoxes=[]},beforeUpdate:ar,update:function(t,e,n){var i=this;return i.beforeUpdate(),i.maxWidth=t,i.maxHeight=e,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:ar,beforeSetDimensions:ar,setDimensions:function(){var t=this;t.isHorizontal()?(t.width=t.maxWidth,t.left=0,t.right=t.width):(t.height=t.maxHeight,t.top=0,t.bottom=t.height),t.paddingLeft=0,t.paddingTop=0,t.paddingRight=0,t.paddingBottom=0,t.minSize={width:0,height:0}},afterSetDimensions:ar,beforeBuildLabels:ar,buildLabels:ar,afterBuildLabels:ar,beforeFit:ar,fit:function(){var t,e,n=this,i=n.options,a=n.minSize={},r=n.isHorizontal();return i.display?(t=In.isArray(i.text)?i.text.length:1,e=t*In.options._parseFont(i).lineHeight+2*i.padding,n.width=a.width=r?n.maxWidth:e,void(n.height=a.height=r?e:n.maxHeight)):void(n.width=a.width=n.height=a.height=0)},afterFit:ar,isHorizontal:function(){var t=this.options.position;return"top"===t||"bottom"===t},draw:function(){var t=this,e=t.ctx,n=t.options;if(n.display){var i,a,r,o=In.options._parseFont(n),l=o.lineHeight,s=l/2+n.padding,u=0,d=t.top,c=t.left,h=t.bottom,f=t.right;e.fillStyle=In.valueOrDefault(n.fontColor,yn.global.defaultFontColor),e.font=o.string,t.isHorizontal()?(a=c+(f-c)/2,r=d+s,i=f-c):(a="left"===n.position?c+s:f-s,r=d+(h-d)/2,i=h-d,u=Math.PI*("left"===n.position?-.5:.5)),e.save(),e.translate(a,r),e.rotate(u),e.textAlign="center",e.textBaseline="middle";var g=n.text;if(In.isArray(g))for(var p=0,m=0;m<g.length;++m)e.fillText(g[m],0,p,i),p+=l;else e.fillText(g,0,0,i);e.restore()}}}),or={id:"title",_element:rr,beforeInit:function(t){var e=t.options.title;e&&Ge(t,e)},beforeUpdate:function(t){var e=t.options.title,n=t.titleBlock;e?(In.mergeIf(e,yn.global.title),n?(Fi.configure(t,n,e),n.options=e):Ge(t,e)):n&&(Fi.removeBox(t,n),delete t.titleBlock)}},lr={},sr=Ja,ur=ir,dr=or;lr.filler=sr,lr.legend=ur,lr.title=dr,ra.helpers=In,oa(),ra._adapters=sa,ra.Animation=Wn,ra.animationService=Vn,ra.controllers=Di,ra.DatasetController=Un,ra.defaults=yn,ra.Element=Bn,ra.elements=ni,ra.Interaction=Ti,ra.layouts=Fi,ra.platform=Xi,ra.plugins=Ki,ra.Scale=pa,ra.scaleService=Zi,ra.Ticks=ua,ra.Tooltip=na,ra.helpers.each(Ka,function(t,e){ra.scaleService.registerScaleType(e,t,t._defaults)});for(var cr in lr)lr.hasOwnProperty(cr)&&ra.plugins.register(lr[cr]);ra.platform.initialize();var hr=ra;return"undefined"!=typeof window&&(window.Chart=ra),ra.Chart=ra,ra.Legend=lr.legend._element,ra.Title=lr.title._element,ra.pluginService=ra.plugins,ra.PluginBase=ra.Element.extend({}),ra.canvasHelpers=ra.helpers.canvas,ra.layoutService=ra.layouts,ra.LinearScaleBase=ka,ra.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],function(t){ra[t]=function(e,n){return new ra(e,ra.helpers.merge(n||{},{type:t.charAt(0).toLowerCase()+t.slice(1)}))}}),hr});
},{"moment":"moment"}],"clipboard":[function(require,module,exports){
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ClipboardJS=e():t.ClipboardJS=e()}(this,function(){return function(t){function e(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,o){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:o})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(e.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(o,r,function(e){return t[e]}.bind(null,r));return o},e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function c(t,e){var n="data-clipboard-"+t;if(e.hasAttribute(n))return e.getAttribute(n)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),s=n(1),f=o(s),d=n(3),h=o(d),p=n(4),y=o(p),m=function(t){function e(t,n){r(this,e);var o=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return o.resolveOptions(n),o.listenClick(t),o}return a(e,t),l(e,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof t.action?t.action:this.defaultAction,this.target="function"==typeof t.target?t.target:this.defaultTarget,this.text="function"==typeof t.text?t.text:this.defaultText,this.container="object"===u(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=(0,y["default"])(t,"click",function(t){return e.onClick(t)})}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new f["default"]({action:this.action(e),target:this.target(e),text:this.text(e),container:this.container,trigger:e,emitter:this})}},{key:"defaultAction",value:function(t){return c("action",t)}},{key:"defaultTarget",value:function(t){var e=c("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return c("text",t)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"==typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach(function(t){n=n&&!!document.queryCommandSupported(t)}),n}}]),e}(h["default"]);t.exports=m},function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{"default":t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),c=n(2),u=o(c),l=function(){function t(e){r(this,t),this.resolveOptions(e),this.initSelection()}return a(t,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=t.action,this.container=t.container,this.emitter=t.emitter,this.target=t.target,this.text=t.text,this.trigger=t.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var t=this,e="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return t.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[e?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,u["default"])(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,u["default"])(this.target),this.copyText()}},{key:"copyText",value:function(){var t=void 0;try{t=document.execCommand(this.action)}catch(e){t=!1}this.handleResult(t)}},{key:"handleResult",value:function(t){this.emitter.emit(t?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=t,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(t){if(void 0!==t){if(!t||"object"!==("undefined"==typeof t?"undefined":i(t))||1!==t.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&t.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(t.hasAttribute("readonly")||t.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=t}},get:function(){return this._target}}]),t}();t.exports=l},function(t,e){function n(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),r=document.createRange();r.selectNodeContents(t),o.removeAllRanges(),o.addRange(r),e=o.toString()}return e}t.exports=n},function(t,e){function n(){}n.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function o(){r.off(t,o),e.apply(n,arguments)}var r=this;return o._=e,this.on(t,o,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,r=n.length;for(o;o<r;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],r=[];if(o&&e)for(var i=0,a=o.length;i<a;i++)o[i].fn!==e&&o[i].fn._!==e&&r.push(o[i]);return r.length?n[t]=r:delete n[t],this}},t.exports=n},function(t,e,n){function o(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!c.string(e))throw new TypeError("Second argument must be a String");if(!c.fn(n))throw new TypeError("Third argument must be a Function");if(c.node(t))return r(t,e,n);if(c.nodeList(t))return i(t,e,n);if(c.string(t))return a(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function r(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function i(t,e,n){return Array.prototype.forEach.call(t,function(t){t.addEventListener(e,n)}),{destroy:function(){Array.prototype.forEach.call(t,function(t){t.removeEventListener(e,n)})}}}function a(t,e,n){return u(document.body,t,e,n)}var c=n(5),u=n(6);t.exports=o},function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"==typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},function(t,e,n){function o(t,e,n,o,r){var a=i.apply(this,arguments);return t.addEventListener(n,a,r),{destroy:function(){t.removeEventListener(n,a,r)}}}function r(t,e,n,r,i){return"function"==typeof t.addEventListener?o.apply(null,arguments):"function"==typeof n?o.bind(null,document).apply(null,arguments):("string"==typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,function(t){return o(t,e,n,r,i)}))}function i(t,e,n,o){return function(n){n.delegateTarget=a(n.target,e),n.delegateTarget&&o.call(t,n)}}var a=n(7);t.exports=r},function(t,e){function n(t,e){for(;t&&t.nodeType!==o;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}var o=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var r=Element.prototype;r.matches=r.matchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector||r.webkitMatchesSelector}t.exports=n}])});
},{}],"codemirror":[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self,e.CodeMirror=t())}(this,function(){"use strict";function e(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}function t(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function r(e,r){return t(e).appendChild(r)}function n(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var o=0;o<t.length;++o)i.appendChild(t[o]);return i}function i(e,t,r,i){var o=n(e,t,r,i);return o.setAttribute("role","presentation"),o}function o(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do if(11==t.nodeType&&(t=t.host),t==e)return!0;while(t=t.parentNode)}function l(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function s(t,r){var n=t.className;e(r).test(n)||(t.className+=(n?" ":"")+r)}function a(t,r){for(var n=t.split(" "),i=0;i<n.length;i++)n[i]&&!e(n[i]).test(r)&&(r+=" "+n[i]);return r}function u(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function c(e,t,r){t||(t={});for(var n in e)!e.hasOwnProperty(n)||r===!1&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function h(e,t,r,n,i){null==t&&(t=e.search(/[^\s\u00a0]/),t==-1&&(t=e.length));for(var o=n||0,l=i||0;;){var s=e.indexOf("\t",o);if(s<0||s>=t)return l+(t-o);l+=s-o,l+=r-l%r,o=s+1}}function f(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}function d(e,t,r){for(var n=0,i=0;;){var o=e.indexOf("\t",n);o==-1&&(o=e.length);var l=o-n;if(o==e.length||i+l>=t)return n+Math.min(l,t-i);if(i+=o-n,i+=r-i%r,n=o+1,i>=t)return n}}function p(e){for(;Zl.length<=e;)Zl.push(g(Zl)+" ");return Zl[e]}function g(e){return e[e.length-1]}function v(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function m(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}function y(){}function b(e,t){var r;return Object.create?r=Object.create(e):(y.prototype=e,r=new y),t&&c(t,r),r}function w(e){return/\w/.test(e)||e>""&&(e.toUpperCase()!=e.toLowerCase()||Ql.test(e))}function x(e,t){return t?!!(t.source.indexOf("\\w")>-1&&w(e))||t.test(e):w(e)}function C(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}function S(e){return e.charCodeAt(0)>=768&&Jl.test(e)}function L(e,t,r){for(;(r<0?t>0:t<e.length)&&S(e.charAt(t));)t+=r;return t}function k(e,t,r){for(var n=t>r?-1:1;;){if(t==r)return t;var i=(t+r)/2,o=n<0?Math.ceil(i):Math.floor(i);if(o==t)return e(o)?t:r;e(o)?r=o:t=o+n}}function T(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,o=0;o<e.length;++o){var l=e[o];(l.from<r&&l.to>t||t==r&&l.to==t)&&(n(Math.max(l.from,t),Math.min(l.to,r),1==l.level?"rtl":"ltr",o),i=!0)}i||n(t,r,"ltr")}function M(e,t,r){var n;es=null;for(var i=0;i<e.length;++i){var o=e[i];if(o.from<t&&o.to>t)return i;o.to==t&&(o.from!=o.to&&"before"==r?n=i:es=i),o.from==t&&(o.from!=o.to&&"before"!=r?n=i:es=i)}return null!=n?n:es}function N(e,t){var r=e.order;return null==r&&(r=e.order=ts(e.text,t)),r}function O(e,t){return e._handlers&&e._handlers[t]||rs}function A(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var o=f(i,r);o>-1&&(n[t]=i.slice(0,o).concat(i.slice(o+1)))}}}function D(e,t){var r=O(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function W(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),D(e,r||t.type,e,t),R(t)||t.codemirrorIgnore}function H(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)f(r,t[n])==-1&&r.push(t[n])}function F(e,t){return O(e,t).length>0}function P(e){e.prototype.on=function(e,t){ns(this,e,t)},e.prototype.off=function(e,t){A(this,e,t)}}function E(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function I(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function R(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function z(e){E(e),I(e)}function B(e){return e.target||e.srcElement}function G(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),Fl&&e.ctrlKey&&1==t&&(t=3),t}function U(e){if(null==Kl){var t=n("span","​");r(e,n("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(Kl=t.offsetWidth<=1&&t.offsetHeight>2&&!(Cl&&Sl<8))}var i=Kl?n("span","​"):n("span"," ",null,"display: inline-block; width: 1px; margin-right: -1px");return i.setAttribute("cm-text",""),i}function V(e){if(null!=jl)return jl;var n=r(e,document.createTextNode("AخA")),i=Rl(n,0,1).getBoundingClientRect(),o=Rl(n,1,2).getBoundingClientRect();return t(e),!(!i||i.left==i.right)&&(jl=o.right-i.right<3)}function K(e){if(null!=as)return as;var t=r(e,n("span","x")),i=t.getBoundingClientRect(),o=Rl(t,0,1).getBoundingClientRect();return as=Math.abs(i.left-o.left)>1}function j(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),us[e]=t}function X(e,t){cs[e]=t}function Y(e){if("string"==typeof e&&cs.hasOwnProperty(e))e=cs[e];else if(e&&"string"==typeof e.name&&cs.hasOwnProperty(e.name)){var t=cs[e.name];"string"==typeof t&&(t={name:t}),e=b(t,e),e.name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return Y("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return Y("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function _(e,t){t=Y(t);var r=us[t.name];if(!r)return _(e,"text/plain");var n=r(e,t);if(hs.hasOwnProperty(t.name)){var i=hs[t.name];for(var o in i)i.hasOwnProperty(o)&&(n.hasOwnProperty(o)&&(n["_"+o]=n[o]),n[o]=i[o])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var l in t.modeProps)n[l]=t.modeProps[l];return n}function $(e,t){var r=hs.hasOwnProperty(e)?hs[e]:hs[e]={};c(t,r)}function q(e,t){if(t===!0)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Z(e,t){for(var r;e.innerMode&&(r=e.innerMode(t),r&&r.mode!=e);)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Q(e,t,r){return!e.startState||e.startState(t,r)}function J(e,t){if(t-=e.first,t<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],o=i.chunkSize();if(t<o){r=i;break}t-=o}return r.lines[t]}function ee(e,t,r){var n=[],i=t.line;return e.iter(t.line,r.line+1,function(e){var o=e.text;i==r.line&&(o=o.slice(0,r.ch)),i==t.line&&(o=o.slice(t.ch)),n.push(o),++i}),n}function te(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function re(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function ne(e){if(null==e.parent)return null;for(var t=e.parent,r=f(t.lines,e),n=t.parent;n;t=n,n=n.parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function ie(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],o=i.height;if(t<o){e=i;continue e}t-=o,r+=i.chunkSize()}return r}while(!e.lines);for(var l=0;l<e.lines.length;++l){var s=e.lines[l],a=s.height;if(t<a)break;t-=a}return r+l}function oe(e,t){return t>=e.first&&t<e.first+e.size}function le(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function se(e,t,r){return void 0===r&&(r=null),this instanceof se?(this.line=e,this.ch=t,void(this.sticky=r)):new se(e,t,r)}function ae(e,t){return e.line-t.line||e.ch-t.ch}function ue(e,t){return e.sticky==t.sticky&&0==ae(e,t)}function ce(e){return se(e.line,e.ch)}function he(e,t){return ae(e,t)<0?t:e}function fe(e,t){return ae(e,t)<0?e:t}function de(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function pe(e,t){if(t.line<e.first)return se(e.first,0);var r=e.first+e.size-1;return t.line>r?se(r,J(e,r).text.length):ge(t,J(e,t.line).text.length)}function ge(e,t){var r=e.ch;return null==r||r>t?se(e.line,t):r<0?se(e.line,0):e}function ve(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=pe(e,t[n]);return r}function me(e,t,r,n){var i=[e.state.modeGen],o={};ke(e,t.text,e.doc.mode,r,function(e,t){return i.push(e,t)},o,n);for(var l=r.state,s=function(n){r.baseTokens=i;var s=e.state.overlays[n],a=1,u=0;r.state=!0,ke(e,t.text,s.mode,r,function(e,t){for(var r=a;u<e;){var n=i[a];n>e&&i.splice(a,1,e,i[a+1],n),a+=2,u=Math.min(e,n)}if(t)if(s.opaque)i.splice(r,a-r,e,"overlay "+t),a=r+2;else for(;r<a;r+=2){var o=i[r+1];i[r+1]=(o?o+" ":"")+"overlay "+t}},o),r.state=l,r.baseTokens=null,r.baseTokenPos=1},a=0;a<e.state.overlays.length;++a)s(a);return{styles:i,classes:o.bgClass||o.textClass?o:null}}function ye(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=be(e,ne(t)),i=t.text.length>e.options.maxHighlightLength&&q(e.doc.mode,n.state),o=me(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=o.styles,o.classes?t.styleClasses=o.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function be(e,t,r){var n=e.doc,i=e.display;if(!n.mode.startState)return new ps(n,(!0),t);var o=Te(e,t,r),l=o>n.first&&J(n,o-1).stateAfter,s=l?ps.fromSaved(n,l,o):new ps(n,Q(n.mode),o);return n.iter(o,t,function(r){we(e,r.text,s);var n=s.line;r.stateAfter=n==t-1||n%5==0||n>=i.viewFrom&&n<i.viewTo?s.save():null,s.nextLine()}),r&&(n.modeFrontier=s.line),s}function we(e,t,r,n){var i=e.doc.mode,o=new fs(t,e.options.tabSize,r);for(o.start=o.pos=n||0,""==t&&xe(i,r.state);!o.eol();)Ce(i,o,r.state),o.start=o.pos}function xe(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Z(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Ce(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=Z(e,r).mode);var o=e.token(t,r);if(t.pos>t.start)return o}throw new Error("Mode "+e.name+" failed to advance stream.")}function Se(e,t,r,n){var i,o=e.doc,l=o.mode;t=pe(o,t);var s,a=J(o,t.line),u=be(e,t.line,r),c=new fs(a.text,e.options.tabSize,u);for(n&&(s=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Ce(l,c,u.state),n&&s.push(new gs(c,i,q(o.mode,u.state)));return n?s:new gs(c,i,u.state)}function Le(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|\\s)"+r[2]+"(?:$|\\s)").test(t[n])||(t[n]+=" "+r[2])}return e}function ke(e,t,r,n,i,o,l){var s=r.flattenSpans;null==s&&(s=e.options.flattenSpans);var a,u=0,c=null,h=new fs(t,e.options.tabSize,n),f=e.options.addModeClass&&[null];for(""==t&&Le(xe(r,n.state),o);!h.eol();){if(h.pos>e.options.maxHighlightLength?(s=!1,l&&we(e,t,n,h.pos),h.pos=t.length,a=null):a=Le(Ce(r,h,n.state,f),o),f){var d=f[0].name;d&&(a="m-"+(a?d+" "+a:d))}if(!s||c!=a){for(;u<h.start;)u=Math.min(h.start,u+5e3),i(u,c);c=a}h.start=h.pos}for(;u<h.pos;){var p=Math.min(h.pos,u+5e3);i(p,c),u=p}}function Te(e,t,r){for(var n,i,o=e.doc,l=r?-1:t-(e.doc.mode.innerMode?1e3:100),s=t;s>l;--s){if(s<=o.first)return o.first;var a=J(o,s-1),u=a.stateAfter;if(u&&(!r||s+(u instanceof ds?u.lookAhead:0)<=o.modeFrontier))return s;var c=h(a.text,null,e.options.tabSize);(null==i||n>c)&&(i=s-1,n=c)}return i}function Me(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;n>r;n--){var i=J(e,n).stateAfter;if(i&&(!(i instanceof ds)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}}function Ne(){vs=!0}function Oe(){ms=!0}function Ae(e,t,r){this.marker=e,this.from=t,this.to=r}function De(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function We(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function He(e,t,r){var n=r&&window.WeakSet&&(r.markedSpans||(r.markedSpans=new WeakSet));n&&n.has(e.markedSpans)?e.markedSpans.push(t):(e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],n&&n.add(e.markedSpans)),t.marker.attachLine(e)}function Fe(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);if(s||o.from==t&&"bookmark"==l.type&&(!r||!o.marker.insertLeft)){var a=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);(n||(n=[])).push(new Ae(l,o.from,a?null:o.to))}}return n}function Pe(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var o=e[i],l=o.marker,s=null==o.to||(l.inclusiveRight?o.to>=t:o.to>t);if(s||o.from==t&&"bookmark"==l.type&&(!r||o.marker.insertLeft)){var a=null==o.from||(l.inclusiveLeft?o.from<=t:o.from<t);(n||(n=[])).push(new Ae(l,a?null:o.from-t,null==o.to?null:o.to-t))}}return n}function Ee(e,t){if(t.full)return null;var r=oe(e,t.from.line)&&J(e,t.from.line).markedSpans,n=oe(e,t.to.line)&&J(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,o=t.to.ch,l=0==ae(t.from,t.to),s=Fe(r,i,l),a=Pe(n,o,l),u=1==t.text.length,c=g(t.text).length+(u?i:0);if(s)for(var h=0;h<s.length;++h){var f=s[h];if(null==f.to){var d=De(a,f.marker);d?u&&(f.to=null==d.to?null:d.to+c):f.to=i}}if(a)for(var p=0;p<a.length;++p){var v=a[p];if(null!=v.to&&(v.to+=c),null==v.from){var m=De(s,v.marker);m||(v.from=c,u&&(s||(s=[])).push(v))}else v.from+=c,u&&(s||(s=[])).push(v)}s&&(s=Ie(s)),a&&a!=s&&(a=Ie(a));var y=[s];if(!u){var b,w=t.text.length-2;if(w>0&&s)for(var x=0;x<s.length;++x)null==s[x].to&&(b||(b=[])).push(new Ae(s[x].marker,null,null));for(var C=0;C<w;++C)y.push(b);y.push(a)}return y}function Ie(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&r.marker.clearWhenEmpty!==!1&&e.splice(t--,1)}return e.length?e:null}function Re(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&f(n,r)!=-1||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],o=0;o<n.length;++o)for(var l=n[o],s=l.find(0),a=0;a<i.length;++a){var u=i[a];if(!(ae(u.to,s.from)<0||ae(u.from,s.to)>0)){var c=[a,1],h=ae(u.from,s.from),d=ae(u.to,s.to);(h<0||!l.inclusiveLeft&&!h)&&c.push({from:u.from,to:s.from}),(d>0||!l.inclusiveRight&&!d)&&c.push({from:s.to,to:u.to}),i.splice.apply(i,c),a+=c.length-3}}return i}function ze(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function Be(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Ge(e){return e.inclusiveLeft?-1:0}function Ue(e){return e.inclusiveRight?1:0}function Ve(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),o=ae(n.from,i.from)||Ge(e)-Ge(t);if(o)return-o;var l=ae(n.to,i.to)||Ue(e)-Ue(t);return l?l:t.id-e.id}function Ke(e,t){var r,n=ms&&e.markedSpans;if(n)for(var i=void 0,o=0;o<n.length;++o)i=n[o],i.marker.collapsed&&null==(t?i.from:i.to)&&(!r||Ve(r,i.marker)<0)&&(r=i.marker);return r}function je(e){return Ke(e,!0)}function Xe(e){return Ke(e,!1)}function Ye(e,t){var r,n=ms&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var o=n[i];o.marker.collapsed&&(null==o.from||o.from<t)&&(null==o.to||o.to>t)&&(!r||Ve(r,o.marker)<0)&&(r=o.marker)}return r}function _e(e,t,r,n,i){var o=J(e,t),l=ms&&o.markedSpans;if(l)for(var s=0;s<l.length;++s){var a=l[s];if(a.marker.collapsed){var u=a.marker.find(0),c=ae(u.from,r)||Ge(a.marker)-Ge(i),h=ae(u.to,n)||Ue(a.marker)-Ue(i);if(!(c>=0&&h<=0||c<=0&&h>=0)&&(c<=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?ae(u.to,r)>=0:ae(u.to,r)>0)||c>=0&&(a.marker.inclusiveRight&&i.inclusiveLeft?ae(u.from,n)<=0:ae(u.from,n)<0)))return!0}}}function $e(e){for(var t;t=je(e);)e=t.find(-1,!0).line;return e}function qe(e){for(var t;t=Xe(e);)e=t.find(1,!0).line;return e}function Ze(e){for(var t,r;t=Xe(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}function Qe(e,t){var r=J(e,t),n=$e(r);return r==n?t:ne(n)}function Je(e,t){if(t>e.lastLine())return t;var r,n=J(e,t);if(!et(e,n))return t;for(;r=Xe(n);)n=r.find(1,!0).line;return ne(n)+1}function et(e,t){var r=ms&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if(n=r[i],n.marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&tt(e,t,n))return!0}}function tt(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return tt(e,n.line,De(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,o=0;o<t.markedSpans.length;++o)if(i=t.markedSpans[o],i.marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&tt(e,t,i))return!0}function rt(e){e=$e(e);for(var t=0,r=e.parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var o=r.parent;o;r=o,o=r.parent)for(var l=0;l<o.children.length;++l){var s=o.children[l];if(s==r)break;t+=s.height}return t}function nt(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=je(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=Xe(n);){var o=t.find(0,!0);r-=n.text.length-o.from.ch,n=o.to.line,r+=n.text.length-o.to.ch}return r}function it(e){var t=e.display,r=e.doc;t.maxLine=J(r,r.first),t.maxLineLength=nt(t.maxLine),t.maxLineChanged=!0,r.iter(function(e){var r=nt(e);r>t.maxLineLength&&(t.maxLineLength=r,t.maxLine=e)})}function ot(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),ze(e),Be(e,r);var i=n?n(e):1;i!=e.height&&re(e,i)}function lt(e){e.parent=null,ze(e)}function st(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?xs:ws;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function at(e,t){var r=i("span",null,null,Ll?"padding-right: .1px":null),n={pre:i("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var o=0;o<=(t.rest?t.rest.length:0);o++){var l=o?t.rest[o-1]:t.line,s=void 0;n.pos=0,n.addToken=ct,V(e.display.measure)&&(s=N(l,e.doc.direction))&&(n.addToken=ft(n.addToken,s)),n.map=[];var u=t!=e.display.externalMeasured&&ne(l);pt(l,n,ye(e,l,u)),l.styleClasses&&(l.styleClasses.bgClass&&(n.bgClass=a(l.styleClasses.bgClass,n.bgClass||"")),l.styleClasses.textClass&&(n.textClass=a(l.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(U(e.display.measure))),0==o?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(Ll){var c=n.content.lastChild;(/\bcm-tab\b/.test(c.className)||c.querySelector&&c.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return D(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=a(n.pre.className,n.textClass||"")),n}function ut(e){var t=n("span","•","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ct(e,t,r,i,o,l,s){if(t){var a,u=e.splitSpaces?ht(t,e.trailingSpace):t,c=e.cm.state.specialChars,h=!1;if(c.test(t)){a=document.createDocumentFragment();for(var f=0;;){c.lastIndex=f;var d=c.exec(t),g=d?d.index-f:t.length-f;if(g){var v=document.createTextNode(u.slice(f,f+g));Cl&&Sl<9?a.appendChild(n("span",[v])):a.appendChild(v),e.map.push(e.pos,e.pos+g,v),e.col+=g,e.pos+=g}if(!d)break;f+=g+1;var m=void 0;if("\t"==d[0]){var y=e.cm.options.tabSize,b=y-e.col%y;m=a.appendChild(n("span",p(b),"cm-tab")),m.setAttribute("role","presentation"),m.setAttribute("cm-text","\t"),e.col+=b}else"\r"==d[0]||"\n"==d[0]?(m=a.appendChild(n("span","\r"==d[0]?"␍":"␤","cm-invalidchar")),m.setAttribute("cm-text",d[0]),e.col+=1):(m=e.cm.options.specialCharPlaceholder(d[0]),m.setAttribute("cm-text",d[0]),Cl&&Sl<9?a.appendChild(n("span",[m])):a.appendChild(m),e.col+=1);e.map.push(e.pos,e.pos+1,m),e.pos++}}else e.col+=t.length,a=document.createTextNode(u),e.map.push(e.pos,e.pos+t.length,a),Cl&&Sl<9&&(h=!0),e.pos+=t.length;if(e.trailingSpace=32==u.charCodeAt(t.length-1),r||i||o||h||l||s){var w=r||"";i&&(w+=i),o&&(w+=o);var x=n("span",[a],w,l);if(s)for(var C in s)s.hasOwnProperty(C)&&"style"!=C&&"class"!=C&&x.setAttribute(C,s[C]);return e.content.appendChild(x)}e.content.appendChild(a)}}function ht(e,t){if(e.length>1&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var o=e.charAt(i);" "!=o||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(o=" "),n+=o,r=" "==o}return n}function ft(e,t){return function(r,n,i,o,l,s,a){i=i?i+" cm-force-border":"cm-force-border";for(var u=r.pos,c=u+n.length;;){for(var h=void 0,f=0;f<t.length&&(h=t[f],!(h.to>u&&h.from<=u));f++);if(h.to>=c)return e(r,n,i,o,l,s,a);e(r,n.slice(0,h.to-u),i,o,null,s,a),o=null,n=n.slice(h.to-u),u=h.to}}}function dt(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function pt(e,t,r){var n=e.markedSpans,i=e.text,o=0;if(n)for(var l,s,a,u,c,h,f,d=i.length,p=0,g=1,v="",m=0;;){if(m==p){a=u=c=s="",f=null,h=null,m=1/0;for(var y=[],b=void 0,w=0;w<n.length;++w){var x=n[w],C=x.marker;if("bookmark"==C.type&&x.from==p&&C.widgetNode)y.push(C);else if(x.from<=p&&(null==x.to||x.to>p||C.collapsed&&x.to==p&&x.from==p)){if(null!=x.to&&x.to!=p&&m>x.to&&(m=x.to,u=""),C.className&&(a+=" "+C.className),C.css&&(s=(s?s+";":"")+C.css),C.startStyle&&x.from==p&&(c+=" "+C.startStyle),C.endStyle&&x.to==m&&(b||(b=[])).push(C.endStyle,x.to),C.title&&((f||(f={})).title=C.title),C.attributes)for(var S in C.attributes)(f||(f={}))[S]=C.attributes[S];C.collapsed&&(!h||Ve(h.marker,C)<0)&&(h=x)}else x.from>p&&m>x.from&&(m=x.from)}if(b)for(var L=0;L<b.length;L+=2)b[L+1]==m&&(u+=" "+b[L]);if(!h||h.from==p)for(var k=0;k<y.length;++k)dt(t,0,y[k]);if(h&&(h.from||0)==p){if(dt(t,(null==h.to?d+1:h.to)-p,h.marker,null==h.from),null==h.to)return;h.to==p&&(h=!1)}}if(p>=d)break;for(var T=Math.min(d,m);;){if(v){var M=p+v.length;if(!h){var N=M>T?v.slice(0,T-p):v;t.addToken(t,N,l?l+a:a,c,p+N.length==m?u:"",s,f)}if(M>=T){v=v.slice(T-p),p=T;break}p=M,c=""}v=i.slice(o,o=r[g++]),l=st(r[g++],t.cm.options)}}else for(var O=1;O<r.length;O+=2)t.addToken(t,i.slice(o,o=r[O]),st(r[O+1],t.cm.options))}function gt(e,t,r){this.line=t,this.rest=Ze(t),this.size=this.rest?ne(g(this.rest))-r+1:1,this.node=this.text=null,this.hidden=et(e,t)}function vt(e,t,r){for(var n,i=[],o=t;o<r;o=n){var l=new gt(e.doc,J(e.doc,o),o);n=o+l.size,i.push(l)}return i}function mt(e){Cs?Cs.ops.push(e):e.ownsGroup=Cs={ops:[e],delayedCallbacks:[]}}function yt(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}function bt(e,t){var r=e.ownsGroup;if(r)try{yt(r)}finally{Cs=null,t(r)}}function wt(e,t){var r=O(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);Cs?n=Cs.delayedCallbacks:Ss?n=Ss:(n=Ss=[],setTimeout(xt,0));for(var o=function(e){n.push(function(){return r[e].apply(null,i)})},l=0;l<r.length;++l)o(l)}}function xt(){var e=Ss;Ss=null;for(var t=0;t<e.length;++t)e[t]()}function Ct(e,t,r,n){for(var i=0;i<t.changes.length;i++){var o=t.changes[i];"text"==o?Tt(e,t):"gutter"==o?Nt(e,t,r,n):"class"==o?Mt(e,t):"widget"==o&&Ot(e,t,n)}t.changes=null}function St(e){return e.node==e.text&&(e.node=n("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),Cl&&Sl<8&&(e.node.style.zIndex=2)),e.node}function Lt(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var i=St(t);t.background=i.insertBefore(n("div",null,r),i.firstChild),e.display.input.setUneditable(t.background)}}function kt(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):at(e,t)}function Tt(e,t){var r=t.text.className,n=kt(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Mt(e,t)):r&&(t.text.className=r)}function Mt(e,t){Lt(e,t),t.line.wrapClass?St(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function Nt(e,t,r,i){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var o=St(t);t.gutterBackground=n("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px; width: "+i.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),o.insertBefore(t.gutterBackground,t.text)}var l=t.line.gutterMarkers;if(e.options.lineNumbers||l){var s=St(t),a=t.gutter=n("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?i.fixedPos:-i.gutterTotalWidth)+"px");if(a.setAttribute("aria-hidden","true"),e.display.input.setUneditable(a),s.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||l&&l["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(n("div",le(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+i.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),l)for(var u=0;u<e.display.gutterSpecs.length;++u){var c=e.display.gutterSpecs[u].className,h=l.hasOwnProperty(c)&&l[c];h&&a.appendChild(n("div",[h],"CodeMirror-gutter-elt","left: "+i.gutterLeft[c]+"px; width: "+i.gutterWidth[c]+"px"))}}}function Ot(t,r,n){r.alignable&&(r.alignable=null);for(var i=e("CodeMirror-linewidget"),o=r.node.firstChild,l=void 0;o;o=l)l=o.nextSibling,i.test(o.className)&&r.node.removeChild(o);Dt(t,r,n)}function At(e,t,r,n){var i=kt(e,t);return t.text=t.node=i.pre,i.bgClass&&(t.bgClass=i.bgClass),i.textClass&&(t.textClass=i.textClass),Mt(e,t),Nt(e,t,r,n),Dt(e,t,n),t.node}function Dt(e,t,r){if(Wt(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)Wt(e,t.rest[n],t,r,!1)}function Wt(e,t,r,i,o){if(t.widgets)for(var l=St(r),s=0,a=t.widgets;s<a.length;++s){var u=a[s],c=n("div",[u.node],"CodeMirror-linewidget"+(u.className?" "+u.className:""));u.handleMouseEvents||c.setAttribute("cm-ignore-events","true"),Ht(u,c,r,i),e.display.input.setUneditable(c),o&&u.above?l.insertBefore(c,r.gutter||r.text):l.appendChild(c),wt(u,"redraw")}}function Ht(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Ft(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!o(document.body,e.node)){var i="position: relative;";e.coverGutter&&(i+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(i+="width: "+t.display.wrapper.clientWidth+"px;"),r(t.display.measure,n("div",[e.node],null,i))}return e.height=e.node.parentNode.offsetHeight}function Pt(e,t){for(var r=B(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Et(e){return e.lineSpace.offsetTop}function It(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Rt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=r(e.measure,n("pre","x","CodeMirror-line-like")),i=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,o={left:parseInt(i.paddingLeft),right:parseInt(i.paddingRight)};return isNaN(o.left)||isNaN(o.right)||(e.cachedPaddingH=o),o}function zt(e){return Xl-e.display.nativeBarWidth}function Bt(e){return e.display.scroller.clientWidth-zt(e)-e.display.barWidth}function Gt(e){return e.display.scroller.clientHeight-zt(e)-e.display.barHeight}function Ut(e,t,r){var n=e.options.lineWrapping,i=n&&Bt(e);if(!t.measure.heights||n&&t.measure.width!=i){var o=t.measure.heights=[];if(n){t.measure.width=i;for(var l=t.text.firstChild.getClientRects(),s=0;s<l.length-1;s++){var a=l[s],u=l[s+1];Math.abs(a.bottom-u.bottom)>2&&o.push((a.bottom+u.top)/2-r.top)}}o.push(r.bottom-r.top)}}function Vt(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(ne(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Kt(e,t){t=$e(t);var n=ne(t),i=e.display.externalMeasured=new gt(e.doc,t,n);i.lineN=n;var o=i.built=at(e,i);return i.text=o.pre,r(e.display.lineMeasure,o.pre),i}function jt(e,t,r,n){return _t(e,Yt(e,t),r,n)}function Xt(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[kr(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Yt(e,t){var r=ne(t),n=Xt(e,r);n&&!n.text?n=null:n&&n.changes&&(Ct(e,n,r,wr(e)),e.curOp.forceUpdate=!0),n||(n=Kt(e,t));var i=Vt(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function _t(e,t,r,n,i){t.before&&(r=-1);var o,l=r+(n||"");return t.cache.hasOwnProperty(l)?o=t.cache[l]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(Ut(e,t.view,t.rect),t.hasHeights=!0),o=Zt(e,t,r,n),o.bogus||(t.cache[l]=o)),{left:o.left,right:o.right,top:i?o.rtop:o.top,bottom:i?o.rbottom:o.bottom}}function $t(e,t,r){for(var n,i,o,l,s,a,u=0;u<e.length;u+=3)if(s=e[u],a=e[u+1],t<s?(i=0,o=1,l="left"):t<a?(i=t-s,o=i+1):(u==e.length-3||t==a&&e[u+3]>t)&&(o=a-s,i=o-1,t>=a&&(l="right")),null!=i){if(n=e[u+2],s==a&&r==(n.insertLeft?"left":"right")&&(l=r),"left"==r&&0==i)for(;u&&e[u-2]==e[u-3]&&e[u-1].insertLeft;)n=e[(u-=3)+2],l="left";if("right"==r&&i==a-s)for(;u<e.length-3&&e[u+3]==e[u+4]&&!e[u+5].insertLeft;)n=e[(u+=3)+2],l="right";break}return{node:n,start:i,end:o,collapse:l,coverStart:s,coverEnd:a}}function qt(e,t){var r=Ls;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;i>=0&&(r=e[i]).left==r.right;i--);return r}function Zt(e,t,r,n){var i,o=$t(t.map,r,n),l=o.node,s=o.start,a=o.end,u=o.collapse;if(3==l.nodeType){for(var c=0;c<4;c++){for(;s&&S(t.line.text.charAt(o.coverStart+s));)--s;for(;o.coverStart+a<o.coverEnd&&S(t.line.text.charAt(o.coverStart+a));)++a;if(i=Cl&&Sl<9&&0==s&&a==o.coverEnd-o.coverStart?l.parentNode.getBoundingClientRect():qt(Rl(l,s,a).getClientRects(),n),i.left||i.right||0==s)break;a=s,s-=1,u="right"}Cl&&Sl<11&&(i=Qt(e.display.measure,i))}else{s>0&&(u=n="right");var h;i=e.options.lineWrapping&&(h=l.getClientRects()).length>1?h["right"==n?h.length-1:0]:l.getBoundingClientRect()}if(Cl&&Sl<9&&!s&&(!i||!i.left&&!i.right)){var f=l.parentNode.getClientRects()[0];i=f?{left:f.left,right:f.left+br(e.display),top:f.top,bottom:f.bottom}:Ls}for(var d=i.top-t.rect.top,p=i.bottom-t.rect.top,g=(d+p)/2,v=t.view.measure.heights,m=0;m<v.length-1&&!(g<v[m]);m++);var y=m?v[m-1]:0,b=v[m],w={left:("right"==u?i.right:i.left)-t.rect.left,right:("left"==u?i.left:i.right)-t.rect.left,top:y,bottom:b};return i.left||i.right||(w.bogus=!0),e.options.singleCursorHeightPerLine||(w.rtop=d,w.rbottom=p),w}function Qt(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!K(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;
return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}function Jt(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function er(e){e.display.externalMeasure=null,t(e.display.lineMeasure);for(var r=0;r<e.display.view.length;r++)Jt(e.display.view[r])}function tr(e){er(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function rr(){return Tl&&Wl?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function nr(){return Tl&&Wl?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function ir(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=Ft(e.widgets[r]));return t}function or(e,t,r,n,i){if(!i){var o=ir(t);r.top+=o,r.bottom+=o}if("line"==n)return r;n||(n="local");var l=rt(t);if("local"==n?l+=Et(e.display):l-=e.display.viewOffset,"page"==n||"window"==n){var s=e.display.lineSpace.getBoundingClientRect();l+=s.top+("window"==n?0:nr());var a=s.left+("window"==n?0:rr());r.left+=a,r.right+=a}return r.top+=l,r.bottom+=l,r}function lr(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=rr(),i-=nr();else if("local"==r||!r){var o=e.display.sizer.getBoundingClientRect();n+=o.left,i+=o.top}var l=e.display.lineSpace.getBoundingClientRect();return{left:n-l.left,top:i-l.top}}function sr(e,t,r,n,i){return n||(n=J(e.doc,t.line)),or(e,n,jt(e,n,t.ch,i),r)}function ar(e,t,r,n,i,o){function l(t,l){var s=_t(e,i,t,l?"right":"left",o);return l?s.left=s.right:s.right=s.left,or(e,n,s,r)}function s(e,t,r){var n=a[t],i=1==n.level;return l(r?e-1:e,i!=r)}n=n||J(e.doc,t.line),i||(i=Yt(e,n));var a=N(n,e.doc.direction),u=t.ch,c=t.sticky;if(u>=n.text.length?(u=n.text.length,c="before"):u<=0&&(u=0,c="after"),!a)return l("before"==c?u-1:u,"before"==c);var h=M(a,u,c),f=es,d=s(u,h,"before"==c);return null!=f&&(d.other=s(u,f,"before"!=c)),d}function ur(e,t){var r=0;t=pe(e.doc,t),e.options.lineWrapping||(r=br(e.display)*t.ch);var n=J(e.doc,t.line),i=rt(n)+Et(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function cr(e,t,r,n,i){var o=se(e,t,r);return o.xRel=i,n&&(o.outside=n),o}function hr(e,t,r){var n=e.doc;if(r+=e.display.viewOffset,r<0)return cr(n.first,0,null,-1,-1);var i=ie(n,r),o=n.first+n.size-1;if(i>o)return cr(n.first+n.size-1,J(n,o).text.length,null,1,1);t<0&&(t=0);for(var l=J(n,i);;){var s=gr(e,l,i,t,r),a=Ye(l,s.ch+(s.xRel>0||s.outside>0?1:0));if(!a)return s;var u=a.find(1);if(u.line==i)return u;l=J(n,i=u.line)}}function fr(e,t,r,n){n-=ir(t);var i=t.text.length,o=k(function(t){return _t(e,r,t-1).bottom<=n},i,0);return i=k(function(t){return _t(e,r,t).top>n},o,i),{begin:o,end:i}}function dr(e,t,r,n){r||(r=Yt(e,t));var i=or(e,t,_t(e,r,n),"line").top;return fr(e,t,r,i)}function pr(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function gr(e,t,r,n,i){i-=rt(t);var o=Yt(e,t),l=ir(t),s=0,a=t.text.length,u=!0,c=N(t,e.doc.direction);if(c){var h=(e.options.lineWrapping?mr:vr)(e,t,r,o,c,n,i);u=1!=h.level,s=u?h.from:h.to-1,a=u?h.to:h.from-1}var f,d,p=null,g=null,v=k(function(t){var r=_t(e,o,t);return r.top+=l,r.bottom+=l,!!pr(r,n,i,!1)&&(r.top<=i&&r.left<=n&&(p=t,g=r),!0)},s,a),m=!1;if(g){var y=n-g.left<g.right-n,b=y==u;v=p+(b?0:1),d=b?"after":"before",f=y?g.left:g.right}else{u||v!=a&&v!=s||v++,d=0==v?"after":v==t.text.length?"before":_t(e,o,v-(u?1:0)).bottom+l<=i==u?"after":"before";var w=ar(e,se(r,v,d),"line",t,o);f=w.left,m=i<w.top?-1:i>=w.bottom?1:0}return v=L(t.text,v,1),cr(r,v,d,m,n-f)}function vr(e,t,r,n,i,o,l){var s=k(function(s){var a=i[s],u=1!=a.level;return pr(ar(e,se(r,u?a.to:a.from,u?"before":"after"),"line",t,n),o,l,!0)},0,i.length-1),a=i[s];if(s>0){var u=1!=a.level,c=ar(e,se(r,u?a.from:a.to,u?"after":"before"),"line",t,n);pr(c,o,l,!0)&&c.top>l&&(a=i[s-1])}return a}function mr(e,t,r,n,i,o,l){var s=fr(e,t,n,l),a=s.begin,u=s.end;/\s/.test(t.text.charAt(u-1))&&u--;for(var c=null,h=null,f=0;f<i.length;f++){var d=i[f];if(!(d.from>=u||d.to<=a)){var p=1!=d.level,g=_t(e,n,p?Math.min(u,d.to)-1:Math.max(a,d.from)).right,v=g<o?o-g+1e9:g-o;(!c||h>v)&&(c=d,h=v)}}return c||(c=i[i.length-1]),c.from<a&&(c={from:a,to:c.to,level:c.level}),c.to>u&&(c={from:c.from,to:u,level:c.level}),c}function yr(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==bs){bs=n("pre",null,"CodeMirror-line-like");for(var i=0;i<49;++i)bs.appendChild(document.createTextNode("x")),bs.appendChild(n("br"));bs.appendChild(document.createTextNode("x"))}r(e.measure,bs);var o=bs.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),t(e.measure),o||1}function br(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=n("span","xxxxxxxxxx"),i=n("pre",[t],"CodeMirror-line-like");r(e.measure,i);var o=t.getBoundingClientRect(),l=(o.right-o.left)/10;return l>2&&(e.cachedCharWidth=l),l||10}function wr(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,o=t.gutters.firstChild,l=0;o;o=o.nextSibling,++l){var s=e.display.gutterSpecs[l].className;r[s]=o.offsetLeft+o.clientLeft+i,n[s]=o.clientWidth}return{fixedPos:xr(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function xr(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function Cr(e){var t=yr(e.display),r=e.options.lineWrapping,n=r&&Math.max(5,e.display.scroller.clientWidth/br(e.display)-3);return function(i){if(et(e.doc,i))return 0;var o=0;if(i.widgets)for(var l=0;l<i.widgets.length;l++)i.widgets[l].height&&(o+=i.widgets[l].height);return r?o+(Math.ceil(i.text.length/n)||1)*t:o+t}}function Sr(e){var t=e.doc,r=Cr(e);t.iter(function(e){var t=r(e);t!=e.height&&re(e,t)})}function Lr(e,t,r,n){var i=e.display;if(!r&&"true"==B(t).getAttribute("cm-not-content"))return null;var o,l,s=i.lineSpace.getBoundingClientRect();try{o=t.clientX-s.left,l=t.clientY-s.top}catch(a){return null}var u,c=hr(e,o,l);if(n&&c.xRel>0&&(u=J(e.doc,c.line).text).length==c.ch){var f=h(u,u.length,e.options.tabSize)-u.length;c=se(c.line,Math.max(0,Math.round((o-Rt(e.display).left)/br(e.display))-f))}return c}function kr(e,t){if(t>=e.display.viewTo)return null;if(t-=e.display.viewFrom,t<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if(t-=r[n].size,t<0)return n}function Tr(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)ms&&Qe(e.doc,t)<i.viewTo&&Nr(e);else if(r<=i.viewFrom)ms&&Je(e.doc,r+n)>i.viewFrom?Nr(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)Nr(e);else if(t<=i.viewFrom){var o=Or(e,r,r+n,1);o?(i.view=i.view.slice(o.index),i.viewFrom=o.lineN,i.viewTo+=n):Nr(e)}else if(r>=i.viewTo){var l=Or(e,t,t,-1);l?(i.view=i.view.slice(0,l.index),i.viewTo=l.lineN):Nr(e)}else{var s=Or(e,t,t,-1),a=Or(e,r,r+n,1);s&&a?(i.view=i.view.slice(0,s.index).concat(vt(e,s.lineN,a.lineN)).concat(i.view.slice(a.index)),i.viewTo+=n):Nr(e)}var u=i.externalMeasured;u&&(r<u.lineN?u.lineN+=n:t<u.lineN+u.size&&(i.externalMeasured=null))}function Mr(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var o=n.view[kr(e,t)];if(null!=o.node){var l=o.changes||(o.changes=[]);f(l,r)==-1&&l.push(r)}}}function Nr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function Or(e,t,r,n){var i,o=kr(e,t),l=e.display.view;if(!ms||r==e.doc.first+e.doc.size)return{index:o,lineN:r};for(var s=e.display.viewFrom,a=0;a<o;a++)s+=l[a].size;if(s!=t){if(n>0){if(o==l.length-1)return null;i=s+l[o].size-t,o++}else i=s-t;t+=i,r+=i}for(;Qe(e.doc,r)!=r;){if(o==(n<0?0:l.length-1))return null;r+=n*l[o-(n<0?1:0)].size,o+=n}return{index:o,lineN:r}}function Ar(e,t,r){var n=e.display,i=n.view;0==i.length||t>=n.viewTo||r<=n.viewFrom?(n.view=vt(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=vt(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(kr(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(vt(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,kr(e,r)))),n.viewTo=r}function Dr(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function Wr(e){e.display.input.showSelection(e.display.input.prepareSelection())}function Hr(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),o=n.selection=document.createDocumentFragment(),l=0;l<r.sel.ranges.length;l++)if(t||l!=r.sel.primIndex){var s=r.sel.ranges[l];if(!(s.from().line>=e.display.viewTo||s.to().line<e.display.viewFrom)){var a=s.empty();(a||e.options.showCursorWhenSelecting)&&Fr(e,s.head,i),a||Er(e,s,o)}}return n}function Fr(e,t,r){var i=ar(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),o=r.appendChild(n("div"," ","CodeMirror-cursor"));if(o.style.left=i.left+"px",o.style.top=i.top+"px",o.style.height=Math.max(0,i.bottom-i.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var l=sr(e,t,"div",null,null);l.right-l.left>0&&(o.style.width=l.right-l.left+"px")}if(i.other){var s=r.appendChild(n("div"," ","CodeMirror-cursor CodeMirror-secondarycursor"));s.style.display="",s.style.left=i.other.left+"px",s.style.top=i.other.top+"px",s.style.height=.85*(i.other.bottom-i.other.top)+"px"}}function Pr(e,t){return e.top-t.top||e.left-t.left}function Er(e,t,r){function i(e,t,r,i){t<0&&(t=0),t=Math.round(t),i=Math.round(i),a.appendChild(n("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?h-e:r)+"px;\n                             height: "+(i-t)+"px"))}function o(t,r,n){function o(r,n){return sr(e,se(t,r),"div",d,n)}function l(t,r,n){var i=dr(e,d,null,t),l="ltr"==r==("after"==n)?"left":"right",s="after"==n?i.begin:i.end-(/\s/.test(d.text.charAt(i.end-1))?2:1);return o(s,l)[l]}var a,u,d=J(s,t),p=d.text.length,g=N(d,s.direction);return T(g,r||0,null==n?p:n,function(e,t,s,d){var v="ltr"==s,m=o(e,v?"left":"right"),y=o(t-1,v?"right":"left"),b=null==r&&0==e,w=null==n&&t==p,x=0==d,C=!g||d==g.length-1;if(y.top-m.top<=3){var S=(f?b:w)&&x,L=(f?w:b)&&C,k=S?c:(v?m:y).left,T=L?h:(v?y:m).right;i(k,m.top,T-k,m.bottom)}else{var M,N,O,A;v?(M=f&&b&&x?c:m.left,N=f?h:l(e,s,"before"),O=f?c:l(t,s,"after"),A=f&&w&&C?h:y.right):(M=f?l(e,s,"before"):c,N=!f&&b&&x?h:m.right,O=!f&&w&&C?c:y.left,A=f?l(t,s,"after"):h),i(M,m.top,N-M,m.bottom),m.bottom<y.top&&i(c,m.bottom,null,y.top),i(O,y.top,A-O,y.bottom)}(!a||Pr(m,a)<0)&&(a=m),Pr(y,a)<0&&(a=y),(!u||Pr(m,u)<0)&&(u=m),Pr(y,u)<0&&(u=y)}),{start:a,end:u}}var l=e.display,s=e.doc,a=document.createDocumentFragment(),u=Rt(e.display),c=u.left,h=Math.max(l.sizerWidth,Bt(e)-l.sizer.offsetLeft)-u.right,f="ltr"==s.direction,d=t.from(),p=t.to();if(d.line==p.line)o(d.line,d.ch,p.ch);else{var g=J(s,d.line),v=J(s,p.line),m=$e(g)==$e(v),y=o(d.line,d.ch,m?g.text.length+1:null).end,b=o(p.line,m?0:null,p.ch).start;m&&(y.top<b.top-2?(i(y.right,y.top,null,y.bottom),i(c,b.top,b.left,b.bottom)):i(y.right,y.top,b.left-y.right,y.bottom)),y.bottom<b.top&&i(c,y.bottom,null,b.top)}r.appendChild(a)}function Ir(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||Gr(e),t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function Rr(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Br(e))}function zr(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&Gr(e))},100)}function Br(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(D(e,"focus",e,t),e.state.focused=!0,s(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),Ll&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Ir(e))}function Gr(e,t){e.state.delayingBlurEvent||(e.state.focused&&(D(e,"blur",e,t),e.state.focused=!1,Gl(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Ur(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=Math.max(0,t.scroller.getBoundingClientRect().top),i=t.lineDiv.getBoundingClientRect().top,o=0,l=0;l<t.view.length;l++){var s=t.view[l],a=e.options.lineWrapping,u=void 0,c=0;if(!s.hidden){if(i+=s.line.height,Cl&&Sl<8){var h=s.node.offsetTop+s.node.offsetHeight;u=h-r,r=h}else{var f=s.node.getBoundingClientRect();u=f.bottom-f.top,!a&&s.text.firstChild&&(c=s.text.firstChild.getBoundingClientRect().right-f.left-1)}var d=s.line.height-u;if((d>.005||d<-.005)&&(i<n&&(o-=d),re(s.line,u),Vr(s.line),s.rest))for(var p=0;p<s.rest.length;p++)Vr(s.rest[p]);if(c>e.display.sizerWidth){var g=Math.ceil(c/br(e.display));g>e.display.maxLineLength&&(e.display.maxLineLength=g,e.display.maxLine=s.line,e.display.maxLineChanged=!0)}}}Math.abs(o)>2&&(t.scroller.scrollTop+=o)}function Vr(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function Kr(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Et(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,o=ie(t,n),l=ie(t,i);if(r&&r.ensure){var s=r.ensure.from.line,a=r.ensure.to.line;s<o?(o=s,l=ie(t,rt(J(t,s))+e.wrapper.clientHeight)):Math.min(a,t.lastLine())>=l&&(o=ie(t,rt(J(t,a))-e.wrapper.clientHeight),l=a)}return{from:o,to:Math.max(l,o+1)}}function jr(e,t){if(!W(e,"scrollCursorIntoView")){var r=e.display,i=r.sizer.getBoundingClientRect(),o=null;if(t.top+i.top<0?o=!0:t.bottom+i.top>(window.innerHeight||document.documentElement.clientHeight)&&(o=!1),null!=o&&!Al){var l=n("div","​",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Et(e.display))+"px;\n                         height: "+(t.bottom-t.top+zt(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(l),l.scrollIntoView(o),e.display.lineSpace.removeChild(l)}}}function Xr(e,t,r,n){null==n&&(n=0);var i;e.options.lineWrapping||t!=r||(r="before"==t.sticky?se(t.line,t.ch+1,"before"):t,t=t.ch?se(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t);for(var o=0;o<5;o++){var l=!1,s=ar(e,t),a=r&&r!=t?ar(e,r):s;i={left:Math.min(s.left,a.left),top:Math.min(s.top,a.top)-n,right:Math.max(s.left,a.left),bottom:Math.max(s.bottom,a.bottom)+n};var u=_r(e,i),c=e.doc.scrollTop,h=e.doc.scrollLeft;if(null!=u.scrollTop&&(tn(e,u.scrollTop),Math.abs(e.doc.scrollTop-c)>1&&(l=!0)),null!=u.scrollLeft&&(nn(e,u.scrollLeft),Math.abs(e.doc.scrollLeft-h)>1&&(l=!0)),!l)break}return i}function Yr(e,t){var r=_r(e,t);null!=r.scrollTop&&tn(e,r.scrollTop),null!=r.scrollLeft&&nn(e,r.scrollLeft)}function _r(e,t){var r=e.display,n=yr(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,o=Gt(e),l={};t.bottom-t.top>o&&(t.bottom=t.top+o);var s=e.doc.height+It(r),a=t.top<n,u=t.bottom>s-n;if(t.top<i)l.scrollTop=a?0:t.top;else if(t.bottom>i+o){var c=Math.min(t.top,(u?s:t.bottom)-o);c!=i&&(l.scrollTop=c)}var h=e.options.fixedGutter?0:r.gutters.offsetWidth,f=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft-h,d=Bt(e)-r.gutters.offsetWidth,p=t.right-t.left>d;return p&&(t.right=t.left+d),t.left<10?l.scrollLeft=0:t.left<f?l.scrollLeft=Math.max(0,t.left+h-(p?0:10)):t.right>d+f-3&&(l.scrollLeft=t.right+(p?0:10)-d),l}function $r(e,t){null!=t&&(Jr(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function qr(e){Jr(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Zr(e,t,r){null==t&&null==r||Jr(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function Qr(e,t){Jr(e),e.curOp.scrollToPos=t}function Jr(e){var t=e.curOp.scrollToPos;if(t){e.curOp.scrollToPos=null;var r=ur(e,t.from),n=ur(e,t.to);en(e,r,n,t.margin)}}function en(e,t,r,n){var i=_r(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});Zr(e,i.scrollLeft,i.scrollTop)}function tn(e,t){Math.abs(e.doc.scrollTop-t)<2||(yl||Nn(e,{top:t}),rn(e,t,!0),yl&&Nn(e),xn(e,100))}function rn(e,t,r){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function nn(e,t,r,n){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Wn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function on(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+It(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+zt(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function ln(e,t){t||(t=on(e));var r=e.display.barWidth,n=e.display.barHeight;sn(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Ur(e),sn(e,on(e)),r=e.display.barWidth,n=e.display.barHeight}function sn(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}function an(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&Gl(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Ms[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ns(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,r){"horizontal"==r?nn(e,t):tn(e,t)},e),e.display.scrollbars.addClass&&s(e.display.wrapper,e.display.scrollbars.addClass)}function un(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ns,markArrays:null},mt(e.curOp)}function cn(e){var t=e.curOp;t&&bt(t,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;hn(e)})}function hn(e){for(var t=e.ops,r=0;r<t.length;r++)fn(t[r]);for(var n=0;n<t.length;n++)dn(t[n]);for(var i=0;i<t.length;i++)pn(t[i]);for(var o=0;o<t.length;o++)gn(t[o]);for(var l=0;l<t.length;l++)vn(t[l])}function fn(e){var t=e.cm,r=t.display;Sn(t),e.updateMaxLine&&it(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new Os(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function dn(e){e.updatedDisplay=e.mustUpdate&&Tn(e.cm,e.update)}function pn(e){var t=e.cm,r=t.display;e.updatedDisplay&&Ur(t),e.barMeasure=on(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=jt(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+zt(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-Bt(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function gn(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&nn(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==l();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&ln(t,e.barMeasure),e.updatedDisplay&&Dn(t,e.barMeasure),e.selectionChanged&&Ir(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&Rr(e.cm)}function vn(e){var t=e.cm,r=t.display,n=t.doc;if(e.updatedDisplay&&Mn(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&rn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&nn(t,e.scrollLeft,!0,!0),e.scrollToPos){var i=Xr(t,pe(n,e.scrollToPos.from),pe(n,e.scrollToPos.to),e.scrollToPos.margin);jr(t,i)}var o=e.maybeHiddenMarkers,l=e.maybeUnhiddenMarkers;if(o)for(var s=0;s<o.length;++s)o[s].lines.length||D(o[s],"hide");if(l)for(var a=0;a<l.length;++a)l[a].lines.length&&D(l[a],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&D(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function mn(e,t){if(e.curOp)return t();un(e);try{return t()}finally{cn(e)}}function yn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);un(e);try{return t.apply(e,arguments)}finally{cn(e)}}}function bn(e){return function(){if(this.curOp)return e.apply(this,arguments);un(this);try{return e.apply(this,arguments)}finally{cn(this)}}}function wn(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);un(t);try{return e.apply(this,arguments)}finally{cn(t)}}}function xn(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,u(Cn,e))}function Cn(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var r=+new Date+e.options.workTime,n=be(e,t.highlightFrontier),i=[];t.iter(n.line,Math.min(t.first+t.size,e.display.viewTo+500),function(o){if(n.line>=e.display.viewFrom){var l=o.styles,s=o.text.length>e.options.maxHighlightLength?q(t.mode,n.state):null,a=me(e,o,n,!0);s&&(n.state=s),o.styles=a.styles;var u=o.styleClasses,c=a.classes;c?o.styleClasses=c:u&&(o.styleClasses=null);for(var h=!l||l.length!=o.styles.length||u!=c&&(!u||!c||u.bgClass!=c.bgClass||u.textClass!=c.textClass),f=0;!h&&f<l.length;++f)h=l[f]!=o.styles[f];h&&i.push(n.line),o.stateAfter=n.save(),n.nextLine()}else o.text.length<=e.options.maxHighlightLength&&we(e,o.text,n),o.stateAfter=n.line%5==0?n.save():null,n.nextLine();if(+new Date>r)return xn(e,e.options.workDelay),!0}),t.highlightFrontier=n.line,t.modeFrontier=Math.max(t.modeFrontier,n.line),i.length&&mn(e,function(){for(var t=0;t<i.length;t++)Mr(e,i[t],"text")})}}function Sn(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=zt(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=zt(e)+"px",t.scrollbarsClipped=!0)}function Ln(e){if(e.hasFocus())return null;var t=l();if(!t||!o(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&o(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}function kn(e){if(e&&e.activeElt&&e.activeElt!=l()&&(e.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(e.activeElt.nodeName)&&e.anchorNode&&o(document.body,e.anchorNode)&&o(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}function Tn(e,r){var n=e.display,i=e.doc;if(r.editorIsHidden)return Nr(e),!1;if(!r.force&&r.visible.from>=n.viewFrom&&r.visible.to<=n.viewTo&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo)&&n.renderedView==n.view&&0==Dr(e))return!1;Hn(e)&&(Nr(e),r.dims=wr(e));var o=i.first+i.size,l=Math.max(r.visible.from-e.options.viewportMargin,i.first),s=Math.min(o,r.visible.to+e.options.viewportMargin);n.viewFrom<l&&l-n.viewFrom<20&&(l=Math.max(i.first,n.viewFrom)),n.viewTo>s&&n.viewTo-s<20&&(s=Math.min(o,n.viewTo)),ms&&(l=Qe(e.doc,l),s=Je(e.doc,s));var a=l!=n.viewFrom||s!=n.viewTo||n.lastWrapHeight!=r.wrapperHeight||n.lastWrapWidth!=r.wrapperWidth;Ar(e,l,s),n.viewOffset=rt(J(e.doc,n.viewFrom)),e.display.mover.style.top=n.viewOffset+"px";var u=Dr(e);if(!a&&0==u&&!r.force&&n.renderedView==n.view&&(null==n.updateLineNumbers||n.updateLineNumbers>=n.viewTo))return!1;var c=Ln(e);return u>4&&(n.lineDiv.style.display="none"),On(e,n.updateLineNumbers,r.dims),u>4&&(n.lineDiv.style.display=""),n.renderedView=n.view,kn(c),t(n.cursorDiv),t(n.selectionDiv),n.gutters.style.height=n.sizer.style.minHeight=0,a&&(n.lastWrapHeight=r.wrapperHeight,n.lastWrapWidth=r.wrapperWidth,xn(e,400)),n.updateLineNumbers=null,!0}function Mn(e,t){for(var r=t.viewport,n=!0;;n=!1){if(n&&e.options.lineWrapping&&t.oldDisplayWidth!=Bt(e))n&&(t.visible=Kr(e.display,e.doc,r));else if(r&&null!=r.top&&(r={top:Math.min(e.doc.height+It(e.display)-Gt(e),r.top)}),t.visible=Kr(e.display,e.doc,r),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Tn(e,t))break;Ur(e);var i=on(e);Wr(e),ln(e,i),Dn(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function Nn(e,t){var r=new Os(e,t);if(Tn(e,r)){Ur(e),Mn(e,r);var n=on(e);Wr(e),ln(e,n),Dn(e,n),r.finish()}}function On(e,r,n){function i(t){var r=t.nextSibling;return Ll&&Fl&&e.display.currentWheelTarget==t?t.style.display="none":t.parentNode.removeChild(t),r}for(var o=e.display,l=e.options.lineNumbers,s=o.lineDiv,a=s.firstChild,u=o.view,c=o.viewFrom,h=0;h<u.length;h++){var d=u[h];if(d.hidden);else if(d.node&&d.node.parentNode==s){for(;a!=d.node;)a=i(a);var p=l&&null!=r&&r<=c&&d.lineNumber;d.changes&&(f(d.changes,"gutter")>-1&&(p=!1),Ct(e,d,c,n)),p&&(t(d.lineNumber),d.lineNumber.appendChild(document.createTextNode(le(e.options,c)))),a=d.node.nextSibling}else{var g=At(e,d,c,n);s.insertBefore(g,a)}c+=d.size}for(;a;)a=i(a)}function An(e){var t=e.gutters.offsetWidth;e.sizer.style.marginLeft=t+"px",wt(e,"gutterChanged",e)}function Dn(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+zt(e)+"px"}function Wn(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=xr(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,o=n+"px",l=0;l<r.length;l++)if(!r[l].hidden){e.options.fixedGutter&&(r[l].gutter&&(r[l].gutter.style.left=o),r[l].gutterBackground&&(r[l].gutterBackground.style.left=o));var s=r[l].alignable;if(s)for(var a=0;a<s.length;a++)s[a].style.left=o}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Hn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=le(e.options,t.first+t.size-1),i=e.display;if(r.length!=i.lineNumChars){var o=i.measure.appendChild(n("div",[n("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),l=o.firstChild.offsetWidth,s=o.offsetWidth-l;return i.lineGutter.style.width="",i.lineNumInnerWidth=Math.max(l,i.lineGutter.offsetWidth-s)+1,i.lineNumWidth=i.lineNumInnerWidth+s,i.lineNumChars=i.lineNumInnerWidth?r.length:-1,i.lineGutter.style.width=i.lineNumWidth+"px",An(e.display),!0}return!1}function Fn(e,t){for(var r=[],n=!1,i=0;i<e.length;i++){var o=e[i],l=null;if("string"!=typeof o&&(l=o.style,o=o.className),"CodeMirror-linenumbers"==o){if(!t)continue;n=!0}r.push({className:o,style:l})}return t&&!n&&r.push({className:"CodeMirror-linenumbers",style:null}),r}function Pn(e){var r=e.gutters,i=e.gutterSpecs;t(r),e.lineGutter=null;for(var o=0;o<i.length;++o){var l=i[o],s=l.className,a=l.style,u=r.appendChild(n("div",null,"CodeMirror-gutter "+s));a&&(u.style.cssText=a),"CodeMirror-linenumbers"==s&&(e.lineGutter=u,u.style.width=(e.lineNumWidth||1)+"px")}r.style.display=i.length?"":"none",An(e)}function En(e){Pn(e.display),Tr(e),Wn(e)}function In(e,t,r,o){var l=this;this.input=r,l.scrollbarFiller=n("div",null,"CodeMirror-scrollbar-filler"),l.scrollbarFiller.setAttribute("cm-not-content","true"),l.gutterFiller=n("div",null,"CodeMirror-gutter-filler"),l.gutterFiller.setAttribute("cm-not-content","true"),l.lineDiv=i("div",null,"CodeMirror-code"),l.selectionDiv=n("div",null,null,"position: relative; z-index: 1"),l.cursorDiv=n("div",null,"CodeMirror-cursors"),l.measure=n("div",null,"CodeMirror-measure"),l.lineMeasure=n("div",null,"CodeMirror-measure"),l.lineSpace=i("div",[l.measure,l.lineMeasure,l.selectionDiv,l.cursorDiv,l.lineDiv],null,"position: relative; outline: none");var s=i("div",[l.lineSpace],"CodeMirror-lines");l.mover=n("div",[s],null,"position: relative"),l.sizer=n("div",[l.mover],"CodeMirror-sizer"),l.sizerWidth=null,l.heightForcer=n("div",null,null,"position: absolute; height: "+Xl+"px; width: 1px;"),l.gutters=n("div",null,"CodeMirror-gutters"),l.lineGutter=null,l.scroller=n("div",[l.sizer,l.heightForcer,l.gutters],"CodeMirror-scroll"),l.scroller.setAttribute("tabIndex","-1"),l.wrapper=n("div",[l.scrollbarFiller,l.gutterFiller,l.scroller],"CodeMirror"),l.wrapper.setAttribute("translate","no"),Cl&&Sl<8&&(l.gutters.style.zIndex=-1,l.scroller.style.paddingRight=0),Ll||yl&&Hl||(l.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(l.wrapper):e(l.wrapper)),l.viewFrom=l.viewTo=t.first,l.reportedViewFrom=l.reportedViewTo=t.first,l.view=[],l.renderedView=null,l.externalMeasured=null,l.viewOffset=0,l.lastWrapHeight=l.lastWrapWidth=0,l.updateLineNumbers=null,l.nativeBarWidth=l.barHeight=l.barWidth=0,l.scrollbarsClipped=!1,l.lineNumWidth=l.lineNumInnerWidth=l.lineNumChars=null,l.alignWidgets=!1,l.cachedCharWidth=l.cachedTextHeight=l.cachedPaddingH=null,l.maxLine=null,l.maxLineLength=0,l.maxLineChanged=!1,l.wheelDX=l.wheelDY=l.wheelStartX=l.wheelStartY=null,l.shift=!1,l.selForContextMenu=null,l.activeTouch=null,l.gutterSpecs=Fn(o.gutters,o.lineNumbers),Pn(l),r.init(l)}function Rn(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function zn(e){var t=Rn(e);return t.x*=Ds,t.y*=Ds,t}function Bn(e,t){var r=Rn(t),n=r.x,i=r.y,o=Ds;0===t.deltaMode&&(n=t.deltaX,i=t.deltaY,o=1);var l=e.display,s=l.scroller,a=s.scrollWidth>s.clientWidth,u=s.scrollHeight>s.clientHeight;if(n&&a||i&&u){if(i&&Fl&&Ll)e:for(var c=t.target,h=l.view;c!=s;c=c.parentNode)for(var f=0;f<h.length;f++)if(h[f].node==c){e.display.currentWheelTarget=c;break e}if(n&&!yl&&!Ml&&null!=o)return i&&u&&tn(e,Math.max(0,s.scrollTop+i*o)),nn(e,Math.max(0,s.scrollLeft+n*o)),(!i||i&&u)&&E(t),void(l.wheelStartX=null);if(i&&null!=o){var d=i*o,p=e.doc.scrollTop,g=p+l.wrapper.clientHeight;
d<0?p=Math.max(0,p+d-50):g=Math.min(e.doc.height,g+d+50),Nn(e,{top:p,bottom:g})}As<20&&0!==t.deltaMode&&(null==l.wheelStartX?(l.wheelStartX=s.scrollLeft,l.wheelStartY=s.scrollTop,l.wheelDX=n,l.wheelDY=i,setTimeout(function(){if(null!=l.wheelStartX){var e=s.scrollLeft-l.wheelStartX,t=s.scrollTop-l.wheelStartY,r=t&&l.wheelDY&&t/l.wheelDY||e&&l.wheelDX&&e/l.wheelDX;l.wheelStartX=l.wheelStartY=null,r&&(Ds=(Ds*As+r)/(As+1),++As)}},200)):(l.wheelDX+=n,l.wheelDY+=i))}}function Gn(e,t,r){var n=e&&e.options.selectionsMayTouch,i=t[r];t.sort(function(e,t){return ae(e.from(),t.from())}),r=f(t,i);for(var o=1;o<t.length;o++){var l=t[o],s=t[o-1],a=ae(s.to(),l.from());if(n&&!l.empty()?a>0:a>=0){var u=fe(s.from(),l.from()),c=he(s.to(),l.to()),h=s.empty()?l.from()==l.head:s.from()==s.head;o<=r&&--r,t.splice(--o,2,new Hs(h?c:u,h?u:c))}}return new Ws(t,r)}function Un(e,t){return new Ws([new Hs(e,t||e)],0)}function Vn(e){return e.text?se(e.from.line+e.text.length-1,g(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Kn(e,t){if(ae(e,t.from)<0)return e;if(ae(e,t.to)<=0)return Vn(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Vn(t).ch-t.to.ch),se(r,n)}function jn(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new Hs(Kn(i.anchor,t),Kn(i.head,t)))}return Gn(e.cm,r,e.sel.primIndex)}function Xn(e,t,r){return e.line==t.line?se(r.line,e.ch-t.ch+r.ch):se(r.line+(e.line-t.line),e.ch)}function Yn(e,t,r){for(var n=[],i=se(e.first,0),o=i,l=0;l<t.length;l++){var s=t[l],a=Xn(s.from,i,o),u=Xn(Vn(s),i,o);if(i=s.to,o=u,"around"==r){var c=e.sel.ranges[l],h=ae(c.head,c.anchor)<0;n[l]=new Hs(h?u:a,h?a:u)}else n[l]=new Hs(a,a)}return new Ws(n,e.sel.primIndex)}function _n(e){e.doc.mode=_(e.options,e.doc.modeOption),$n(e)}function $n(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,xn(e,100),e.state.modeGen++,e.curOp&&Tr(e)}function qn(e,t){return 0==t.from.ch&&0==t.to.ch&&""==g(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Zn(e,t,r,n){function i(e){return r?r[e]:null}function o(e,r,i){ot(e,r,i,n),wt(e,"change",e,t)}function l(e,t){for(var r=[],o=e;o<t;++o)r.push(new ys(u[o],i(o),n));return r}var s=t.from,a=t.to,u=t.text,c=J(e,s.line),h=J(e,a.line),f=g(u),d=i(u.length-1),p=a.line-s.line;if(t.full)e.insert(0,l(0,u.length)),e.remove(u.length,e.size-u.length);else if(qn(e,t)){var v=l(0,u.length-1);o(h,h.text,d),p&&e.remove(s.line,p),v.length&&e.insert(s.line,v)}else if(c==h)if(1==u.length)o(c,c.text.slice(0,s.ch)+f+c.text.slice(a.ch),d);else{var m=l(1,u.length-1);m.push(new ys(f+c.text.slice(a.ch),d,n)),o(c,c.text.slice(0,s.ch)+u[0],i(0)),e.insert(s.line+1,m)}else if(1==u.length)o(c,c.text.slice(0,s.ch)+u[0]+h.text.slice(a.ch),i(0)),e.remove(s.line+1,p);else{o(c,c.text.slice(0,s.ch)+u[0],i(0)),o(h,f+h.text.slice(a.ch),d);var y=l(1,u.length-1);p>1&&e.remove(s.line+1,p-1),e.insert(s.line+1,y)}wt(e,"change",e,t)}function Qn(e,t,r){function n(e,i,o){if(e.linked)for(var l=0;l<e.linked.length;++l){var s=e.linked[l];if(s.doc!=i){var a=o&&s.sharedHist;r&&!a||(t(s.doc,a),n(s.doc,e,a))}}}n(e,null,!0)}function Jn(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Sr(e),_n(e),ei(e),e.options.direction=t.direction,e.options.lineWrapping||it(e),e.options.mode=t.modeOption,Tr(e)}function ei(e){("rtl"==e.doc.direction?s:Gl)(e.display.lineDiv,"CodeMirror-rtl")}function ti(e){mn(e,function(){ei(e),Tr(e)})}function ri(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function ni(e,t){var r={from:ce(t.from),to:Vn(t),text:ee(e,t.from,t.to)};return ci(e,r,t.from.line,t.to.line+1),Qn(e,function(e){return ci(e,r,t.from.line,t.to.line+1)},!0),r}function ii(e){for(;e.length;){var t=g(e);if(!t.ranges)break;e.pop()}}function oi(e,t){return t?(ii(e.done),g(e.done)):e.done.length&&!g(e.done).ranges?g(e.done):e.done.length>1&&!e.done[e.done.length-2].ranges?(e.done.pop(),g(e.done)):void 0}function li(e,t,r,n){var i=e.history;i.undone.length=0;var o,l,s=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>s-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(o=oi(i,i.lastOp==n)))l=g(o.changes),0==ae(t.from,t.to)&&0==ae(t.from,l.to)?l.to=Vn(t):o.changes.push(ni(e,t));else{var a=g(i.done);for(a&&a.ranges||ui(e.sel,i.done),o={changes:[ni(e,t)],generation:i.generation},i.done.push(o);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=s,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,l||D(e,"historyAdded")}function si(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}function ai(e,t,r,n){var i=e.history,o=n&&n.origin;r==i.lastSelOp||o&&i.lastSelOrigin==o&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==o||si(e,o,g(i.done),t))?i.done[i.done.length-1]=t:ui(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=o,i.lastSelOp=r,n&&n.clearRedo!==!1&&ii(i.undone)}function ui(e,t){var r=g(t);r&&r.ranges&&r.equals(e)||t.push(e)}function ci(e,t,r,n){var i=t["spans_"+e.id],o=0;e.iter(Math.max(e.first,r),Math.min(e.first+e.size,n),function(r){r.markedSpans&&((i||(i=t["spans_"+e.id]={}))[o]=r.markedSpans),++o})}function hi(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function fi(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(hi(r[i]));return n}function di(e,t){var r=fi(e,t),n=Ee(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var o=r[i],l=n[i];if(o&&l)e:for(var s=0;s<l.length;++s){for(var a=l[s],u=0;u<o.length;++u)if(o[u].marker==a.marker)continue e;o.push(a)}else l&&(r[i]=l)}return r}function pi(e,t,r){for(var n=[],i=0;i<e.length;++i){var o=e[i];if(o.ranges)n.push(r?Ws.prototype.deepCopy.call(o):o);else{var l=o.changes,s=[];n.push({changes:s});for(var a=0;a<l.length;++a){var u=l[a],c=void 0;if(s.push({from:u.from,to:u.to,text:u.text}),t)for(var h in u)(c=h.match(/^spans_(\d+)$/))&&f(t,Number(c[1]))>-1&&(g(s)[h]=u[h],delete u[h])}}}return n}function gi(e,t,r,n){if(n){var i=e.anchor;if(r){var o=ae(t,i)<0;o!=ae(r,i)<0?(i=t,t=r):o!=ae(t,r)<0&&(t=r)}return new Hs(i,t)}return new Hs(r||t,t)}function vi(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),Ci(e,new Ws([gi(e.sel.primary(),t,r,i)],0),n)}function mi(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),o=0;o<e.sel.ranges.length;o++)n[o]=gi(e.sel.ranges[o],t[o],null,i);var l=Gn(e.cm,n,e.sel.primIndex);Ci(e,l,r)}function yi(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,Ci(e,Gn(e.cm,i,e.sel.primIndex),n)}function bi(e,t,r,n){Ci(e,Un(t,r),n)}function wi(e,t,r){var n={ranges:t.ranges,update:function(t){this.ranges=[];for(var r=0;r<t.length;r++)this.ranges[r]=new Hs(pe(e,t[r].anchor),pe(e,t[r].head))},origin:r&&r.origin};return D(e,"beforeSelectionChange",e,n),e.cm&&D(e.cm,"beforeSelectionChange",e.cm,n),n.ranges!=t.ranges?Gn(e.cm,n.ranges,n.ranges.length-1):t}function xi(e,t,r){var n=e.history.done,i=g(n);i&&i.ranges?(n[n.length-1]=t,Si(e,t,r)):Ci(e,t,r)}function Ci(e,t,r){Si(e,t,r),ai(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function Si(e,t,r){(F(e,"beforeSelectionChange")||e.cm&&F(e.cm,"beforeSelectionChange"))&&(t=wi(e,t,r));var n=r&&r.bias||(ae(t.primary().head,e.sel.primary().head)<0?-1:1);Li(e,Ti(e,t,n,!0)),r&&r.scroll===!1||!e.cm||"nocursor"==e.cm.getOption("readOnly")||qr(e.cm)}function Li(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,H(e.cm)),wt(e,"cursorActivity",e))}function ki(e){Li(e,Ti(e,e.sel,null,!1))}function Ti(e,t,r,n){for(var i,o=0;o<t.ranges.length;o++){var l=t.ranges[o],s=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[o],a=Ni(e,l.anchor,s&&s.anchor,r,n),u=Ni(e,l.head,s&&s.head,r,n);(i||a!=l.anchor||u!=l.head)&&(i||(i=t.ranges.slice(0,o)),i[o]=new Hs(a,u))}return i?Gn(e.cm,i,t.primIndex):t}function Mi(e,t,r,n,i){var o=J(e,t.line);if(o.markedSpans)for(var l=0;l<o.markedSpans.length;++l){var s=o.markedSpans[l],a=s.marker,u="selectLeft"in a?!a.selectLeft:a.inclusiveLeft,c="selectRight"in a?!a.selectRight:a.inclusiveRight;if((null==s.from||(u?s.from<=t.ch:s.from<t.ch))&&(null==s.to||(c?s.to>=t.ch:s.to>t.ch))){if(i&&(D(a,"beforeCursorEnter"),a.explicitlyCleared)){if(o.markedSpans){--l;continue}break}if(!a.atomic)continue;if(r){var h=a.find(n<0?1:-1),f=void 0;if((n<0?c:u)&&(h=Oi(e,h,-n,h&&h.line==t.line?o:null)),h&&h.line==t.line&&(f=ae(h,r))&&(n<0?f<0:f>0))return Mi(e,h,t,n,i)}var d=a.find(n<0?-1:1);return(n<0?u:c)&&(d=Oi(e,d,n,d.line==t.line?o:null)),d?Mi(e,d,t,n,i):null}}return t}function Ni(e,t,r,n,i){var o=n||1,l=Mi(e,t,r,o,i)||!i&&Mi(e,t,r,o,!0)||Mi(e,t,r,-o,i)||!i&&Mi(e,t,r,-o,!0);return l?l:(e.cantEdit=!0,se(e.first,0))}function Oi(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?pe(e,se(t.line-1)):null:r>0&&t.ch==(n||J(e,t.line)).text.length?t.line<e.first+e.size-1?se(t.line+1,0):null:new se(t.line,t.ch+r)}function Ai(e){e.setSelection(se(e.firstLine(),0),se(e.lastLine()),_l)}function Di(e,t,r){var n={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return n.canceled=!0}};return r&&(n.update=function(t,r,i,o){t&&(n.from=pe(e,t)),r&&(n.to=pe(e,r)),i&&(n.text=i),void 0!==o&&(n.origin=o)}),D(e,"beforeChange",e,n),e.cm&&D(e.cm,"beforeChange",e.cm,n),n.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:n.from,to:n.to,text:n.text,origin:n.origin}}function Wi(e,t,r){if(e.cm){if(!e.cm.curOp)return yn(e.cm,Wi)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(F(e,"beforeChange")||e.cm&&F(e.cm,"beforeChange"))||(t=Di(e,t,!0))){var n=vs&&!r&&Re(e,t.from,t.to);if(n)for(var i=n.length-1;i>=0;--i)Hi(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else Hi(e,t)}}function Hi(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ae(t.from,t.to)){var r=jn(e,t);li(e,t,r,e.cm?e.cm.curOp.id:NaN),Ei(e,t,r,Ee(e,t));var n=[];Qn(e,function(e,r){r||f(n,e.history)!=-1||(Gi(e.history,t),n.push(e.history)),Ei(e,t,null,Ee(e,t))})}}function Fi(e,t,r){var n=e.cm&&e.cm.state.suppressEdits;if(!n||r){for(var i,o=e.history,l=e.sel,s="undo"==t?o.done:o.undone,a="undo"==t?o.undone:o.done,u=0;u<s.length&&(i=s[u],r?!i.ranges||i.equals(e.sel):i.ranges);u++);if(u!=s.length){for(o.lastOrigin=o.lastSelOrigin=null;;){if(i=s.pop(),!i.ranges){if(n)return void s.push(i);break}if(ui(i,a),r&&!i.equals(e.sel))return void Ci(e,i,{clearRedo:!1});l=i}var c=[];ui(l,a),a.push({changes:c,generation:o.generation}),o.generation=i.generation||++o.maxGeneration;for(var h=F(e,"beforeChange")||e.cm&&F(e.cm,"beforeChange"),d=function(r){var n=i.changes[r];if(n.origin=t,h&&!Di(e,n,!1))return s.length=0,{};c.push(ni(e,n));var o=r?jn(e,n):g(s);Ei(e,n,o,di(e,n)),!r&&e.cm&&e.cm.scrollIntoView({from:n.from,to:Vn(n)});var l=[];Qn(e,function(e,t){t||f(l,e.history)!=-1||(Gi(e.history,n),l.push(e.history)),Ei(e,n,null,di(e,n))})},p=i.changes.length-1;p>=0;--p){var v=d(p);if(v)return v.v}}}}function Pi(e,t){if(0!=t&&(e.first+=t,e.sel=new Ws(v(e.sel.ranges,function(e){return new Hs(se(e.anchor.line+t,e.anchor.ch),se(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){Tr(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Mr(e.cm,n,"gutter")}}function Ei(e,t,r,n){if(e.cm&&!e.cm.curOp)return yn(e.cm,Ei)(e,t,r,n);if(t.to.line<e.first)return void Pi(e,t.text.length-1-(t.to.line-t.from.line));if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);Pi(e,i),t={from:se(e.first,0),to:se(t.to.line+i,t.to.ch),text:[g(t.text)],origin:t.origin}}var o=e.lastLine();t.to.line>o&&(t={from:t.from,to:se(o,J(e,o).text.length),text:[t.text[0]],origin:t.origin}),t.removed=ee(e,t.from,t.to),r||(r=jn(e,t)),e.cm?Ii(e.cm,t,n):Zn(e,t,n),Si(e,r,_l),e.cantEdit&&Ni(e,se(e.firstLine(),0))&&(e.cantEdit=!1)}}function Ii(e,t,r){var n=e.doc,i=e.display,o=t.from,l=t.to,s=!1,a=o.line;e.options.lineWrapping||(a=ne($e(J(n,o.line))),n.iter(a,l.line+1,function(e){if(e==i.maxLine)return s=!0,!0})),n.sel.contains(t.from,t.to)>-1&&H(e),Zn(n,t,r,Cr(e)),e.options.lineWrapping||(n.iter(a,o.line+t.text.length,function(e){var t=nt(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,s=!1)}),s&&(e.curOp.updateMaxLine=!0)),Me(n,o.line),xn(e,400);var u=t.text.length-(l.line-o.line)-1;t.full?Tr(e):o.line!=l.line||1!=t.text.length||qn(e.doc,t)?Tr(e,o.line,l.line+1,u):Mr(e,o.line,"text");var c=F(e,"changes"),h=F(e,"change");if(h||c){var f={from:o,to:l,text:t.text,removed:t.removed,origin:t.origin};h&&wt(e,"change",e,f),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(f)}e.display.selForContextMenu=null}function Ri(e,t,r,n,i){var o;n||(n=r),ae(n,r)<0&&(o=[n,r],r=o[0],n=o[1]),"string"==typeof t&&(t=e.splitLines(t)),Wi(e,{from:r,to:n,text:t,origin:i})}function zi(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function Bi(e,t,r,n){for(var i=0;i<e.length;++i){var o=e[i],l=!0;if(o.ranges){o.copied||(o=e[i]=o.deepCopy(),o.copied=!0);for(var s=0;s<o.ranges.length;s++)zi(o.ranges[s].anchor,t,r,n),zi(o.ranges[s].head,t,r,n)}else{for(var a=0;a<o.changes.length;++a){var u=o.changes[a];if(r<u.from.line)u.from=se(u.from.line+n,u.from.ch),u.to=se(u.to.line+n,u.to.ch);else if(t<=u.to.line){l=!1;break}}l||(e.splice(0,i+1),i=0)}}}function Gi(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;Bi(e.done,r,n,i),Bi(e.undone,r,n,i)}function Ui(e,t,r,n){var i=t,o=t;return"number"==typeof t?o=J(e,de(e,t)):i=ne(t),null==i?null:(n(o,i)&&e.cm&&Mr(e.cm,i,r),o)}function Vi(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function Ki(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}function ji(e,t,r){rt(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&$r(e,r)}function Xi(e,t,r,n){var i=new Fs(e,r,n),o=e.cm;return o&&i.noHScroll&&(o.display.alignWidgets=!0),Ui(e,t,"widget",function(t){var r=t.widgets||(t.widgets=[]);if(null==i.insertAt?r.push(i):r.splice(Math.min(r.length,Math.max(0,i.insertAt)),0,i),i.line=t,o&&!et(e,t)){var n=rt(t)<e.scrollTop;re(t,t.height+Ft(i)),n&&$r(o,i.height),o.curOp.forceUpdate=!0}return!0}),o&&wt(o,"lineWidgetAdded",o,i,"number"==typeof t?t:ne(t)),i}function Yi(e,t,r,n,o){if(n&&n.shared)return _i(e,t,r,n,o);if(e.cm&&!e.cm.curOp)return yn(e.cm,Yi)(e,t,r,n,o);var l=new Es(e,o),s=ae(t,r);if(n&&c(n,l,!1),s>0||0==s&&l.clearWhenEmpty!==!1)return l;if(l.replacedWith&&(l.collapsed=!0,l.widgetNode=i("span",[l.replacedWith],"CodeMirror-widget"),n.handleMouseEvents||l.widgetNode.setAttribute("cm-ignore-events","true"),n.insertLeft&&(l.widgetNode.insertLeft=!0)),l.collapsed){if(_e(e,t.line,t,r,l)||t.line!=r.line&&_e(e,r.line,t,r,l))throw new Error("Inserting collapsed marker partially overlapping an existing one");Oe()}l.addToHistory&&li(e,{from:t,to:r,origin:"markText"},e.sel,NaN);var a,u=t.line,h=e.cm;if(e.iter(u,r.line+1,function(n){h&&l.collapsed&&!h.options.lineWrapping&&$e(n)==h.display.maxLine&&(a=!0),l.collapsed&&u!=t.line&&re(n,0),He(n,new Ae(l,u==t.line?t.ch:null,u==r.line?r.ch:null),e.cm&&e.cm.curOp),++u}),l.collapsed&&e.iter(t.line,r.line+1,function(t){et(e,t)&&re(t,0)}),l.clearOnEnter&&ns(l,"beforeCursorEnter",function(){return l.clear()}),l.readOnly&&(Ne(),(e.history.done.length||e.history.undone.length)&&e.clearHistory()),l.collapsed&&(l.id=++Ps,l.atomic=!0),h){if(a&&(h.curOp.updateMaxLine=!0),l.collapsed)Tr(h,t.line,r.line+1);else if(l.className||l.startStyle||l.endStyle||l.css||l.attributes||l.title)for(var f=t.line;f<=r.line;f++)Mr(h,f,"text");l.atomic&&ki(h.doc),wt(h,"markerAdded",h,l)}return l}function _i(e,t,r,n,i){n=c(n),n.shared=!1;var o=[Yi(e,t,r,n,i)],l=o[0],s=n.widgetNode;return Qn(e,function(e){s&&(n.widgetNode=s.cloneNode(!0)),o.push(Yi(e,pe(e,t),pe(e,r),n,i));for(var a=0;a<e.linked.length;++a)if(e.linked[a].isParent)return;l=g(o)}),new Is(o,l)}function $i(e){return e.findMarks(se(e.first,0),e.clipPos(se(e.lastLine())),function(e){return e.parent})}function qi(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),o=e.clipPos(i.from),l=e.clipPos(i.to);if(ae(o,l)){var s=Yi(e,o,l,n.primary,n.primary.type);n.markers.push(s),s.parent=n}}}function Zi(e){for(var t=function(t){var r=e[t],n=[r.primary.doc];Qn(r.primary.doc,function(e){return n.push(e)});for(var i=0;i<r.markers.length;i++){var o=r.markers[i];f(n,o.doc)==-1&&(o.parent=null,r.markers.splice(i--,1))}},r=0;r<e.length;r++)t(r)}function Qi(e){var t=this;if(to(t),!W(t,e)&&!Pt(t.display,e)){E(e),Cl&&(Bs=+new Date);var r=Lr(t,e,!0),n=e.dataTransfer.files;if(r&&!t.isReadOnly())if(n&&n.length&&window.FileReader&&window.File)for(var i=n.length,o=Array(i),l=0,s=function(){++l==i&&yn(t,function(){r=pe(t.doc,r);var e={from:r,to:r,text:t.doc.splitLines(o.filter(function(e){return null!=e}).join(t.doc.lineSeparator())),origin:"paste"};Wi(t.doc,e),xi(t.doc,Un(pe(t.doc,r),pe(t.doc,Vn(e))))})()},a=function(e,r){if(t.options.allowDropFileTypes&&f(t.options.allowDropFileTypes,e.type)==-1)return void s();var n=new FileReader;n.onerror=function(){return s()},n.onload=function(){var e=n.result;return/[\x00-\x08\x0e-\x1f]{2}/.test(e)?void s():(o[r]=e,void s())},n.readAsText(e)},u=0;u<n.length;u++)a(n[u],u);else{if(t.state.draggingText&&t.doc.sel.contains(r)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var c=e.dataTransfer.getData("Text");if(c){var h;if(t.state.draggingText&&!t.state.draggingText.copy&&(h=t.listSelections()),Si(t.doc,Un(r,r)),h)for(var d=0;d<h.length;++d)Ri(t.doc,"",h[d].anchor,h[d].head,"drag");t.replaceSelection(c,"around","paste"),t.display.input.focus()}}catch(p){}}}}function Ji(e,t){if(Cl&&(!e.state.draggingText||+new Date-Bs<100))return void z(t);if(!W(e,t)&&!Pt(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!Nl)){var r=n("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",Ml&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),Ml&&r.parentNode.removeChild(r)}}function eo(e,t){var i=Lr(e,t);if(i){var o=document.createDocumentFragment();Fr(e,i,o),e.display.dragCursor||(e.display.dragCursor=n("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),r(e.display.dragCursor,o)}}function to(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function ro(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),r=[],n=0;n<t.length;n++){var i=t[n].CodeMirror;i&&r.push(i)}r.length&&r[0].operation(function(){for(var t=0;t<r.length;t++)e(r[t])})}}function no(){Gs||(io(),Gs=!0)}function io(){var e;ns(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,ro(oo)},100))}),ns(window,"blur",function(){return ro(Gr)})}function oo(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}function lo(e){var t=e.split(/-(?!$)/);e=t[t.length-1];for(var r,n,i,o,l=0;l<t.length-1;l++){var s=t[l];if(/^(cmd|meta|m)$/i.test(s))o=!0;else if(/^a(lt)?$/i.test(s))r=!0;else if(/^(c|ctrl|control)$/i.test(s))n=!0;else{if(!/^s(hift)?$/i.test(s))throw new Error("Unrecognized modifier name: "+s);i=!0}}return r&&(e="Alt-"+e),n&&(e="Ctrl-"+e),o&&(e="Cmd-"+e),i&&(e="Shift-"+e),e}function so(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=v(r.split(" "),lo),o=0;o<i.length;o++){var l=void 0,s=void 0;o==i.length-1?(s=i.join(" "),l=n):(s=i.slice(0,o+1).join(" "),l="...");var a=t[s];if(a){if(a!=l)throw new Error("Inconsistent bindings for "+s)}else t[s]=l}delete e[r]}for(var u in t)e[u]=t[u];return e}function ao(e,t,r,n){t=fo(t);var i=t.call?t.call(e,n):t[e];if(i===!1)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return ao(e,t.fallthrough,r,n);for(var o=0;o<t.fallthrough.length;o++){var l=ao(e,t.fallthrough[o],r,n);if(l)return l}}}function uo(e){var t="string"==typeof e?e:Us[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function co(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(zl?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(zl?t.ctrlKey:t.metaKey)&&"Mod"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function ho(e,t){if(Ml&&34==e.keyCode&&e["char"])return!1;var r=Us[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),co(r,e,t))}function fo(e){return"string"==typeof e?Xs[e]:e}function po(e,t){for(var r=e.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var o=t(r[i]);n.length&&ae(o.from,g(n).to)<=0;){var l=n.pop();if(ae(l.from,o.from)<0){o.from=l.from;break}}n.push(o)}mn(e,function(){for(var t=n.length-1;t>=0;t--)Ri(e.doc,"",n[t].from,n[t].to,"+delete");qr(e)})}function go(e,t,r){var n=L(e.text,t+r,r);return n<0||n>e.text.length?null:n}function vo(e,t,r){var n=go(e,t.ch,r);return null==n?null:new se(t.line,n,r<0?"after":"before")}function mo(e,t,r,n,i){if(e){"rtl"==t.doc.direction&&(i=-i);var o=N(r,t.doc.direction);if(o){var l,s=i<0?g(o):o[0],a=i<0==(1==s.level),u=a?"after":"before";if(s.level>0||"rtl"==t.doc.direction){var c=Yt(t,r);l=i<0?r.text.length-1:0;var h=_t(t,c,l).top;l=k(function(e){return _t(t,c,e).top==h},i<0==(1==s.level)?s.from:s.to-1,l),"before"==u&&(l=go(r,l,1))}else l=i<0?s.to:s.from;return new se(n,l,u)}}return new se(n,i<0?r.text.length:0,i<0?"before":"after")}function yo(e,t,r,n){var i=N(t,e.doc.direction);if(!i)return vo(t,r,n);r.ch>=t.text.length?(r.ch=t.text.length,r.sticky="before"):r.ch<=0&&(r.ch=0,r.sticky="after");var o=M(i,r.ch,r.sticky),l=i[o];if("ltr"==e.doc.direction&&l.level%2==0&&(n>0?l.to>r.ch:l.from<r.ch))return vo(t,r,n);var s,a=function(e,r){return go(t,e instanceof se?e.ch:e,r)},u=function(r){return e.options.lineWrapping?(s=s||Yt(e,t),dr(e,t,s,r)):{begin:0,end:t.text.length}},c=u("before"==r.sticky?a(r,-1):r.ch);if("rtl"==e.doc.direction||1==l.level){var h=1==l.level==n<0,f=a(r,h?1:-1);if(null!=f&&(h?f<=l.to&&f<=c.end:f>=l.from&&f>=c.begin)){var d=h?"before":"after";return new se(r.line,f,d)}}var p=function(e,t,n){for(var o=function(e,t){return t?new se(r.line,a(e,1),"before"):new se(r.line,e,"after")};e>=0&&e<i.length;e+=t){var l=i[e],s=t>0==(1!=l.level),u=s?n.begin:a(n.end,-1);if(l.from<=u&&u<l.to)return o(u,s);if(u=s?l.from:a(l.to,-1),n.begin<=u&&u<n.end)return o(u,s)}},g=p(o+n,n,c);if(g)return g;var v=n>0?c.end:a(c.begin,-1);return null==v||n>0&&v==t.text.length||!(g=p(n>0?0:i.length-1,n,u(v)))?null:g}function bo(e,t){var r=J(e.doc,t),n=$e(r);return n!=r&&(t=ne(n)),mo(!0,e,n,t,1)}function wo(e,t){var r=J(e.doc,t),n=qe(r);return n!=r&&(t=ne(n)),mo(!0,e,r,t,-1)}function xo(e,t){var r=bo(e,t.line),n=J(e.doc,r.line),i=N(n,e.doc.direction);if(!i||0==i[0].level){var o=Math.max(r.ch,n.text.search(/\S/)),l=t.line==r.line&&t.ch<=o&&t.ch;return se(r.line,l?0:o,r.sticky)}return r}function Co(e,t,r){if("string"==typeof t&&(t=Ys[t],!t))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=Yl}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}function So(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=ao(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&ao(t,e.options.extraKeys,r,e)||ao(t,e.options.keyMap,r,e)}function Lo(e,t,r,n){var i=e.state.keySeq;if(i){if(uo(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:_s.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),ko(e,i+" "+t,r,n))return!0}return ko(e,t,r,n)}function ko(e,t,r,n){var i=So(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&wt(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(E(r),Ir(e)),!!i}function To(e,t){var r=ho(t,!0);return!!r&&(t.shiftKey&&!e.state.keySeq?Lo(e,"Shift-"+r,t,function(t){return Co(e,t,!0)})||Lo(e,r,t,function(t){if("string"==typeof t?/^go[A-Z]/.test(t):t.motion)return Co(e,t)}):Lo(e,r,t,function(t){return Co(e,t)}))}function Mo(e,t,r){return Lo(e,"'"+r+"'",t,function(t){return Co(e,t,!0)})}function No(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=l(),W(t,e)))){Cl&&Sl<11&&27==e.keyCode&&(e.returnValue=!1);var r=e.keyCode;t.display.shift=16==r||e.shiftKey;var n=To(t,e);Ml&&($s=n?r:null,!n&&88==r&&!ss&&(Fl?e.metaKey:e.ctrlKey)&&t.replaceSelection("",null,"cut")),yl&&!Fl&&!n&&46==r&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=r||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||Oo(t)}}function Oo(e){function t(e){18!=e.keyCode&&e.altKey||(Gl(r,"CodeMirror-crosshair"),A(document,"keyup",t),A(document,"mouseover",t))}var r=e.display.lineDiv;s(r,"CodeMirror-crosshair"),ns(document,"keyup",t),ns(document,"mouseover",t)}function Ao(e){16==e.keyCode&&(this.doc.sel.shift=!1),W(this,e)}function Do(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||Pt(t.display,e)||W(t,e)||e.ctrlKey&&!e.altKey||Fl&&e.metaKey)){var r=e.keyCode,n=e.charCode;if(Ml&&r==$s)return $s=null,void E(e);if(!Ml||e.which&&!(e.which<10)||!To(t,e)){var i=String.fromCharCode(null==n?r:n);"\b"!=i&&(Mo(t,e,i)||t.display.input.onKeyPress(e))}}}function Wo(e,t){var r=+new Date;return Js&&Js.compare(r,e,t)?(Qs=Js=null,"triple"):Qs&&Qs.compare(r,e,t)?(Js=new Zs(r,e,t),Qs=null,"double"):(Qs=new Zs(r,e,t),Js=null,"single")}function Ho(e){var t=this,r=t.display;if(!(W(t,e)||r.activeTouch&&r.input.supportsTouch())){if(r.input.ensurePolled(),r.shift=e.shiftKey,Pt(r,e))return void(Ll||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100)));if(!Uo(t,e)){var n=Lr(t,e),i=G(e),o=n?Wo(n,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&Fo(t,i,n,o,e)||(1==i?n?Eo(t,n,o,e):B(e)==r.scroller&&E(e):2==i?(n&&vi(t.doc,n),setTimeout(function(){return r.input.focus()},20)):3==i&&(Bl?t.display.input.onContextMenu(e):zr(t)))}}}function Fo(e,t,r,n,i){var o="Click";return"double"==n?o="Double"+o:"triple"==n&&(o="Triple"+o),o=(1==t?"Left":2==t?"Middle":"Right")+o,Lo(e,co(o,i),i,function(t){if("string"==typeof t&&(t=Ys[t]),!t)return!1;var n=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),n=t(e,r)!=Yl}finally{e.state.suppressEdits=!1}return n})}function Po(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var o=Pl?r.shiftKey&&r.metaKey:r.altKey;i.unit=o?"rectangle":"single"==t?"char":"double"==t?"word":"line"}return(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey),null==i.addNew&&(i.addNew=Fl?r.metaKey:r.ctrlKey),null==i.moveOnDrag&&(i.moveOnDrag=!(Fl?r.altKey:r.ctrlKey)),i}function Eo(e,t,r,n){Cl?setTimeout(u(Rr,e),0):e.curOp.focus=l();var i,o=Po(e,r,n),s=e.doc.sel;e.options.dragDrop&&is&&!e.isReadOnly()&&"single"==r&&(i=s.contains(t))>-1&&(ae((i=s.ranges[i]).from(),t)<0||t.xRel>0)&&(ae(i.to(),t)>0||t.xRel<0)?Io(e,n,t,o):zo(e,n,t,o)}function Io(e,t,r,n){var i=e.display,o=!1,l=yn(e,function(t){Ll&&(i.scroller.draggable=!1),e.state.draggingText=!1,e.state.delayingBlurEvent&&(e.hasFocus()?e.state.delayingBlurEvent=!1:zr(e)),A(i.wrapper.ownerDocument,"mouseup",l),A(i.wrapper.ownerDocument,"mousemove",s),A(i.scroller,"dragstart",a),A(i.scroller,"drop",l),o||(E(t),n.addNew||vi(e.doc,r,null,null,n.extend),Ll&&!Nl||Cl&&9==Sl?setTimeout(function(){i.wrapper.ownerDocument.body.focus({preventScroll:!0}),i.input.focus()},20):i.input.focus())}),s=function(e){o=o||Math.abs(t.clientX-e.clientX)+Math.abs(t.clientY-e.clientY)>=10},a=function(){return o=!0};Ll&&(i.scroller.draggable=!0),e.state.draggingText=l,l.copy=!n.moveOnDrag,ns(i.wrapper.ownerDocument,"mouseup",l),ns(i.wrapper.ownerDocument,"mousemove",s),ns(i.scroller,"dragstart",a),ns(i.scroller,"drop",l),e.state.delayingBlurEvent=!0,setTimeout(function(){return i.input.focus()},20),i.scroller.dragDrop&&i.scroller.dragDrop()}function Ro(e,t,r){if("char"==r)return new Hs(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new Hs(se(t.line,0),pe(e.doc,se(t.line+1,0)));var n=r(e,t);return new Hs(n.from,n.to)}function zo(e,t,r,n){function i(t){if(0!=ae(m,t))if(m=t,"rectangle"==n.unit){for(var i=[],o=e.options.tabSize,l=h(J(u,r.line).text,r.ch,o),s=h(J(u,t.line).text,t.ch,o),a=Math.min(l,s),g=Math.max(l,s),v=Math.min(r.line,t.line),y=Math.min(e.lastLine(),Math.max(r.line,t.line));v<=y;v++){var b=J(u,v).text,w=d(b,a,o);a==g?i.push(new Hs(se(v,w),se(v,w))):b.length>w&&i.push(new Hs(se(v,w),se(v,d(b,g,o))))}i.length||i.push(new Hs(r,r)),Ci(u,Gn(e,p.ranges.slice(0,f).concat(i),f),{origin:"*mouse",scroll:!1}),e.scrollIntoView(t)}else{var x,C=c,S=Ro(e,t,n.unit),L=C.anchor;ae(S.anchor,L)>0?(x=S.head,L=fe(C.from(),S.anchor)):(x=S.anchor,L=he(C.to(),S.head));var k=p.ranges.slice(0);k[f]=Bo(e,new Hs(pe(u,L),x)),Ci(u,Gn(e,k,f),$l)}}function o(t){var r=++b,s=Lr(e,t,!0,"rectangle"==n.unit);if(s)if(0!=ae(s,m)){e.curOp.focus=l(),i(s);var c=Kr(a,u);(s.line>=c.to||s.line<c.from)&&setTimeout(yn(e,function(){b==r&&o(t)}),150)}else{var h=t.clientY<y.top?-20:t.clientY>y.bottom?20:0;h&&setTimeout(yn(e,function(){b==r&&(a.scroller.scrollTop+=h,o(t))}),50)}}function s(t){e.state.selectingText=!1,b=1/0,t&&(E(t),a.input.focus()),A(a.wrapper.ownerDocument,"mousemove",w),A(a.wrapper.ownerDocument,"mouseup",x),u.history.lastSelOrigin=null}Cl&&zr(e);var a=e.display,u=e.doc;E(t);var c,f,p=u.sel,g=p.ranges;if(n.addNew&&!n.extend?(f=u.sel.contains(r),c=f>-1?g[f]:new Hs(r,r)):(c=u.sel.primary(),f=u.sel.primIndex),"rectangle"==n.unit)n.addNew||(c=new Hs(r,r)),r=Lr(e,t,!0,!0),f=-1;else{var v=Ro(e,r,n.unit);c=n.extend?gi(c,v.anchor,v.head,n.extend):v}n.addNew?f==-1?(f=g.length,Ci(u,Gn(e,g.concat([c]),f),{scroll:!1,origin:"*mouse"})):g.length>1&&g[f].empty()&&"char"==n.unit&&!n.extend?(Ci(u,Gn(e,g.slice(0,f).concat(g.slice(f+1)),0),{scroll:!1,origin:"*mouse"}),p=u.sel):yi(u,f,c,$l):(f=0,Ci(u,new Ws([c],0),$l),p=u.sel);var m=r,y=a.wrapper.getBoundingClientRect(),b=0,w=yn(e,function(e){0!==e.buttons&&G(e)?o(e):s(e)}),x=yn(e,s);e.state.selectingText=x,ns(a.wrapper.ownerDocument,"mousemove",w),ns(a.wrapper.ownerDocument,"mouseup",x)}function Bo(e,t){var r=t.anchor,n=t.head,i=J(e.doc,r.line);if(0==ae(r,n)&&r.sticky==n.sticky)return t;var o=N(i);if(!o)return t;var l=M(o,r.ch,r.sticky),s=o[l];if(s.from!=r.ch&&s.to!=r.ch)return t;var a=l+(s.from==r.ch==(1!=s.level)?0:1);if(0==a||a==o.length)return t;var u;if(n.line!=r.line)u=(n.line-r.line)*("ltr"==e.doc.direction?1:-1)>0;else{var c=M(o,n.ch,n.sticky),h=c-l||(n.ch-r.ch)*(1==s.level?-1:1);u=c==a-1||c==a?h<0:h>0}var f=o[a+(u?-1:0)],d=u==(1==f.level),p=d?f.from:f.to,g=d?"after":"before";return r.ch==p&&r.sticky==g?t:new Hs(new se(r.line,p,g),n)}function Go(e,t,r,n){var i,o;if(t.touches)i=t.touches[0].clientX,o=t.touches[0].clientY;else try{i=t.clientX,o=t.clientY}catch(l){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&E(t);var s=e.display,a=s.lineDiv.getBoundingClientRect();if(o>a.bottom||!F(e,r))return R(t);o-=a.top-s.viewOffset;for(var u=0;u<e.display.gutterSpecs.length;++u){var c=s.gutters.childNodes[u];if(c&&c.getBoundingClientRect().right>=i){var h=ie(e.doc,o),f=e.display.gutterSpecs[u];return D(e,r,e,h,f.className,t),R(t)}}}function Uo(e,t){return Go(e,t,"gutterClick",!0)}function Vo(e,t){Pt(e.display,t)||Ko(e,t)||W(e,t,"contextmenu")||Bl||e.display.input.onContextMenu(t);
}function Ko(e,t){return!!F(e,"gutterContextMenu")&&Go(e,t,"gutterContextMenu",!1)}function jo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),tr(e)}function Xo(e){function t(t,n,i,o){e.defaults[t]=n,i&&(r[t]=o?function(e,t,r){r!=ea&&i(e,t,r)}:i)}var r=e.optionHandlers;e.defineOption=t,e.Init=ea,t("value","",function(e,t){return e.setValue(t)},!0),t("mode",null,function(e,t){e.doc.modeOption=t,_n(e)},!0),t("indentUnit",2,_n,!0),t("indentWithTabs",!1),t("smartIndent",!0),t("tabSize",4,function(e){$n(e),tr(e),Tr(e)},!0),t("lineSeparator",null,function(e,t){if(e.doc.lineSep=t,t){var r=[],n=e.doc.first;e.doc.iter(function(e){for(var i=0;;){var o=e.text.indexOf(t,i);if(o==-1)break;i=o+t.length,r.push(se(n,o))}n++});for(var i=r.length-1;i>=0;i--)Ri(e.doc,t,r[i],se(r[i].line,r[i].ch+t.length))}}),t("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=ea&&e.refresh()}),t("specialCharPlaceholder",ut,function(e){return e.refresh()},!0),t("electricChars",!0),t("inputStyle",Hl?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),t("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),t("autocorrect",!1,function(e,t){return e.getInputField().autocorrect=t},!0),t("autocapitalize",!1,function(e,t){return e.getInputField().autocapitalize=t},!0),t("rtlMoveVisually",!El),t("wholeLineUpdateBefore",!0),t("theme","default",function(e){jo(e),En(e)},!0),t("keyMap","default",function(e,t,r){var n=fo(t),i=r!=ea&&fo(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)}),t("extraKeys",null),t("configureMouse",null),t("lineWrapping",!1,_o,!0),t("gutters",[],function(e,t){e.display.gutterSpecs=Fn(t,e.options.lineNumbers),En(e)},!0),t("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?xr(e.display)+"px":"0",e.refresh()},!0),t("coverGutterNextToScrollbar",!1,function(e){return ln(e)},!0),t("scrollbarStyle","native",function(e){an(e),ln(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),t("lineNumbers",!1,function(e,t){e.display.gutterSpecs=Fn(e.options.gutters,t),En(e)},!0),t("firstLineNumber",1,En,!0),t("lineNumberFormatter",function(e){return e},En,!0),t("showCursorWhenSelecting",!1,Wr,!0),t("resetSelectionOnContextMenu",!0),t("lineWiseCopyCut",!0),t("pasteLinesPerSelection",!0),t("selectionsMayTouch",!1),t("readOnly",!1,function(e,t){"nocursor"==t&&(Gr(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),t("screenReaderLabel",null,function(e,t){t=""===t?null:t,e.display.input.screenReaderLabelChanged(t)}),t("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),t("dragDrop",!0,Yo),t("allowDropFileTypes",null),t("cursorBlinkRate",530),t("cursorScrollMargin",0),t("cursorHeight",1,Wr,!0),t("singleCursorHeightPerLine",!0,Wr,!0),t("workTime",100),t("workDelay",100),t("flattenSpans",!0,$n,!0),t("addModeClass",!1,$n,!0),t("pollInterval",100),t("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),t("historyEventDelay",1250),t("viewportMargin",10,function(e){return e.refresh()},!0),t("maxHighlightLength",1e4,$n,!0),t("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),t("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),t("autofocus",null),t("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),t("phrases",null)}function Yo(e,t,r){var n=r&&r!=ea;if(!t!=!n){var i=e.display.dragFunctions,o=t?ns:A;o(e.display.scroller,"dragstart",i.start),o(e.display.scroller,"dragenter",i.enter),o(e.display.scroller,"dragover",i.over),o(e.display.scroller,"dragleave",i.leave),o(e.display.scroller,"drop",i.drop)}}function _o(e){e.options.lineWrapping?(s(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Gl(e.display.wrapper,"CodeMirror-wrap"),it(e)),Sr(e),Tr(e),tr(e),setTimeout(function(){return ln(e)},100)}function $o(e,t){var r=this;if(!(this instanceof $o))return new $o(e,t);this.options=t=t?c(t):{},c(ta,t,!1);var n=t.value;"string"==typeof n?n=new zs(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new $o.inputStyles[t.inputStyle](this),o=this.display=new In(e,n,i,t);o.wrapper.CodeMirror=this,jo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),an(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new Vl,keySeq:null,specialChars:null},t.autofocus&&!Hl&&o.input.focus(),Cl&&Sl<11&&setTimeout(function(){return r.display.input.reset(!0)},20),qo(this),no(),un(this),this.curOp.forceUpdate=!0,Jn(this,n),t.autofocus&&!Hl||this.hasFocus()?setTimeout(function(){r.hasFocus()&&!r.state.focused&&Br(r)},20):Gr(this);for(var l in ra)ra.hasOwnProperty(l)&&ra[l](this,t[l],ea);Hn(this),t.finishInit&&t.finishInit(this);for(var s=0;s<na.length;++s)na[s](this);cn(this),Ll&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(o.lineDiv).textRendering&&(o.lineDiv.style.textRendering="auto")}function qo(e){function t(){i.activeTouch&&(o=setTimeout(function(){return i.activeTouch=null},1e3),l=i.activeTouch,l.end=+new Date)}function r(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}function n(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return r*r+n*n>400}var i=e.display;ns(i.scroller,"mousedown",yn(e,Ho)),Cl&&Sl<11?ns(i.scroller,"dblclick",yn(e,function(t){if(!W(e,t)){var r=Lr(e,t);if(r&&!Uo(e,t)&&!Pt(e.display,t)){E(t);var n=e.findWordAt(r);vi(e.doc,n.anchor,n.head)}}})):ns(i.scroller,"dblclick",function(t){return W(e,t)||E(t)}),ns(i.scroller,"contextmenu",function(t){return Vo(e,t)}),ns(i.input.getField(),"contextmenu",function(t){i.scroller.contains(t.target)||Vo(e,t)});var o,l={end:0};ns(i.scroller,"touchstart",function(t){if(!W(e,t)&&!r(t)&&!Uo(e,t)){i.input.ensurePolled(),clearTimeout(o);var n=+new Date;i.activeTouch={start:n,moved:!1,prev:n-l.end<=300?l:null},1==t.touches.length&&(i.activeTouch.left=t.touches[0].pageX,i.activeTouch.top=t.touches[0].pageY)}}),ns(i.scroller,"touchmove",function(){i.activeTouch&&(i.activeTouch.moved=!0)}),ns(i.scroller,"touchend",function(r){var o=i.activeTouch;if(o&&!Pt(i,r)&&null!=o.left&&!o.moved&&new Date-o.start<300){var l,s=e.coordsChar(i.activeTouch,"page");l=!o.prev||n(o,o.prev)?new Hs(s,s):!o.prev.prev||n(o,o.prev.prev)?e.findWordAt(s):new Hs(se(s.line,0),pe(e.doc,se(s.line+1,0))),e.setSelection(l.anchor,l.head),e.focus(),E(r)}t()}),ns(i.scroller,"touchcancel",t),ns(i.scroller,"scroll",function(){i.scroller.clientHeight&&(tn(e,i.scroller.scrollTop),nn(e,i.scroller.scrollLeft,!0),D(e,"scroll",e))}),ns(i.scroller,"mousewheel",function(t){return Bn(e,t)}),ns(i.scroller,"DOMMouseScroll",function(t){return Bn(e,t)}),ns(i.wrapper,"scroll",function(){return i.wrapper.scrollTop=i.wrapper.scrollLeft=0}),i.dragFunctions={enter:function(t){W(e,t)||z(t)},over:function(t){W(e,t)||(eo(e,t),z(t))},start:function(t){return Ji(e,t)},drop:yn(e,Qi),leave:function(t){W(e,t)||to(e)}};var s=i.input.getField();ns(s,"keyup",function(t){return Ao.call(e,t)}),ns(s,"keydown",yn(e,No)),ns(s,"keypress",yn(e,Do)),ns(s,"focus",function(t){return Br(e,t)}),ns(s,"blur",function(t){return Gr(e,t)})}function Zo(e,t,r,n){var i,o=e.doc;null==r&&(r="add"),"smart"==r&&(o.mode.indent?i=be(e,t).state:r="prev");var l=e.options.tabSize,s=J(o,t),a=h(s.text,null,l);s.stateAfter&&(s.stateAfter=null);var u,c=s.text.match(/^\s*/)[0];if(n||/\S/.test(s.text)){if("smart"==r&&(u=o.mode.indent(i,s.text.slice(c.length),s.text),u==Yl||u>150)){if(!n)return;r="prev"}}else u=0,r="not";"prev"==r?u=t>o.first?h(J(o,t-1).text,null,l):0:"add"==r?u=a+e.options.indentUnit:"subtract"==r?u=a-e.options.indentUnit:"number"==typeof r&&(u=a+r),u=Math.max(0,u);var f="",d=0;if(e.options.indentWithTabs)for(var g=Math.floor(u/l);g;--g)d+=l,f+="\t";if(d<u&&(f+=p(u-d)),f!=c)return Ri(o,f,se(t,0),se(t,c.length),"+input"),s.stateAfter=null,!0;for(var v=0;v<o.sel.ranges.length;v++){var m=o.sel.ranges[v];if(m.head.line==t&&m.head.ch<c.length){var y=se(t,c.length);yi(o,v,new Hs(y,y));break}}}function Qo(e){ia=e}function Jo(e,t,r,n,i){var o=e.doc;e.display.shift=!1,n||(n=o.sel);var l=+new Date-200,s="paste"==i||e.state.pasteIncoming>l,a=os(t),u=null;if(s&&n.ranges.length>1)if(ia&&ia.text.join("\n")==t){if(n.ranges.length%ia.text.length==0){u=[];for(var c=0;c<ia.text.length;c++)u.push(o.splitLines(ia.text[c]))}}else a.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(u=v(a,function(e){return[e]}));for(var h=e.curOp.updateInput,f=n.ranges.length-1;f>=0;f--){var d=n.ranges[f],p=d.from(),m=d.to();d.empty()&&(r&&r>0?p=se(p.line,p.ch-r):e.state.overwrite&&!s?m=se(m.line,Math.min(J(o,m.line).text.length,m.ch+g(a).length)):s&&ia&&ia.lineWise&&ia.text.join("\n")==a.join("\n")&&(p=m=se(p.line,0)));var y={from:p,to:m,text:u?u[f%u.length]:a,origin:i||(s?"paste":e.state.cutIncoming>l?"cut":"+input")};Wi(e.doc,y),wt(e,"inputRead",e,y)}t&&!s&&tl(e,t),qr(e),e.curOp.updateInput<2&&(e.curOp.updateInput=h),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function el(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||mn(t,function(){return Jo(t,r,0,null,"paste")}),!0}function tl(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;n>=0;n--){var i=r.ranges[n];if(!(i.head.ch>100||n&&r.ranges[n-1].head.line==i.head.line)){var o=e.getModeAt(i.head),l=!1;if(o.electricChars){for(var s=0;s<o.electricChars.length;s++)if(t.indexOf(o.electricChars.charAt(s))>-1){l=Zo(e,i.head.line,"smart");break}}else o.electricInput&&o.electricInput.test(J(e.doc,i.head.line).text.slice(0,i.head.ch))&&(l=Zo(e,i.head.line,"smart"));l&&wt(e,"electricInput",e,i.head.line)}}}function rl(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,o={anchor:se(i,0),head:se(i+1,0)};r.push(o),t.push(e.getRange(o.anchor,o.head))}return{text:t,ranges:r}}function nl(e,t,r,n){e.setAttribute("autocorrect",r?"":"off"),e.setAttribute("autocapitalize",n?"":"off"),e.setAttribute("spellcheck",!!t)}function il(){var e=n("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),t=n("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return Ll?e.style.width="1000px":e.setAttribute("wrap","off"),Dl&&(e.style.border="1px solid black"),nl(e),t}function ol(e){var t=e.optionHandlers,r=e.helpers={};e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,r){var n=this.options,i=n[e];n[e]==r&&"mode"!=e||(n[e]=r,t.hasOwnProperty(e)&&yn(this,t[e])(this,r,i),D(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](fo(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:bn(function(t,r){var n=t.token?t:e.getMode(this.options,t);if(n.startState)throw new Error("Overlays may not be stateful.");m(this.state.overlays,{mode:n,modeSpec:t,opaque:r&&r.opaque,priority:r&&r.priority||0},function(e){return e.priority}),this.state.modeGen++,Tr(this)}),removeOverlay:bn(function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void Tr(this)}}),indentLine:bn(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),oe(this.doc,e)&&Zo(this,e,t,r)}),indentSelection:bn(function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(Zo(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&qr(this));else{var o=i.from(),l=i.to(),s=Math.max(r,o.line);r=Math.min(this.lastLine(),l.line-(l.ch?0:1))+1;for(var a=s;a<r;++a)Zo(this,a,e);var u=this.doc.sel.ranges;0==o.ch&&t.length==u.length&&u[n].from().ch>0&&yi(this.doc,n,new Hs(o,u[n].to()),_l)}}}),getTokenAt:function(e,t){return Se(this,e,t)},getLineTokens:function(e,t){return Se(this,se(e),t,!0)},getTokenTypeAt:function(e){e=pe(this.doc,e);var t,r=ye(this,J(this.doc,e.line)),n=0,i=(r.length-1)/2,o=e.ch;if(0==o)t=r[2];else for(;;){var l=n+i>>1;if((l?r[2*l-1]:0)>=o)i=l;else{if(!(r[2*l+1]<o)){t=r[2*l+2];break}n=l+1}}var s=t?t.indexOf("overlay "):-1;return s<0?t:0==s?null:t.slice(0,s-1)},getModeAt:function(t){var r=this.doc.mode;return r.innerMode?e.innerMode(r,this.getTokenAt(t).state).mode:r},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var n=[];if(!r.hasOwnProperty(t))return n;var i=r[t],o=this.getModeAt(e);if("string"==typeof o[t])i[o[t]]&&n.push(i[o[t]]);else if(o[t])for(var l=0;l<o[t].length;l++){var s=i[o[t][l]];s&&n.push(s)}else o.helperType&&i[o.helperType]?n.push(i[o.helperType]):i[o.name]&&n.push(i[o.name]);for(var a=0;a<i._global.length;a++){var u=i._global[a];u.pred(o,this)&&f(n,u.val)==-1&&n.push(u.val)}return n},getStateAfter:function(e,t){var r=this.doc;return e=de(r,null==e?r.first+r.size-1:e),be(this,e+1,t).state},cursorCoords:function(e,t){var r,n=this.doc.sel.primary();return r=null==e?n.head:"object"==typeof e?pe(this.doc,e):e?n.from():n.to(),ar(this,r,t||"page")},charCoords:function(e,t){return sr(this,pe(this.doc,e),t||"page")},coordsChar:function(e,t){return e=lr(this,e,t||"page"),hr(this,e.left,e.top)},lineAtHeight:function(e,t){return e=lr(this,{top:e,left:0},t||"page").top,ie(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var o=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:e>o&&(e=o,i=!0),n=J(this.doc,e)}else n=e;return or(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-rt(n):0)},defaultTextHeight:function(){return yr(this.display)},defaultCharWidth:function(){return br(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var o=this.display;e=ar(this,pe(this.doc,e));var l=e.bottom,s=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),o.sizer.appendChild(t),"over"==n)l=e.top;else if("above"==n||"near"==n){var a=Math.max(o.wrapper.clientHeight,this.doc.height),u=Math.max(o.sizer.clientWidth,o.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>a)&&e.top>t.offsetHeight?l=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=a&&(l=e.bottom),s+t.offsetWidth>u&&(s=u-t.offsetWidth)}t.style.top=l+"px",t.style.left=t.style.right="","right"==i?(s=o.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?s=0:"middle"==i&&(s=(o.sizer.clientWidth-t.offsetWidth)/2),t.style.left=s+"px"),r&&Yr(this,{left:s,top:l,right:s+t.offsetWidth,bottom:l+t.offsetHeight})},triggerOnKeyDown:bn(No),triggerOnKeyPress:bn(Do),triggerOnKeyUp:Ao,triggerOnMouseDown:bn(Ho),execCommand:function(e){if(Ys.hasOwnProperty(e))return Ys[e].call(null,this)},triggerElectric:bn(function(e){tl(this,e)}),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var o=pe(this.doc,e),l=0;l<t&&(o=ll(this.doc,o,i,r,n),!o.hitSide);++l);return o},moveH:bn(function(e,t){var r=this;this.extendSelectionsBy(function(n){return r.display.shift||r.doc.extend||n.empty()?ll(r.doc,n.head,e,t,r.options.rtlMoveVisually):e<0?n.from():n.to()},ql)}),deleteH:bn(function(e,t){var r=this.doc.sel,n=this.doc;r.somethingSelected()?n.replaceSelection("",null,"+delete"):po(this,function(r){var i=ll(n,r.head,e,t,!1);return e<0?{from:i,to:r.head}:{from:r.head,to:i}})}),findPosV:function(e,t,r,n){var i=1,o=n;t<0&&(i=-1,t=-t);for(var l=pe(this.doc,e),s=0;s<t;++s){var a=ar(this,l,"div");if(null==o?o=a.left:a.left=o,l=sl(this,a,i,r),l.hitSide)break}return l},moveV:bn(function(e,t){var r=this,n=this.doc,i=[],o=!this.display.shift&&!n.extend&&n.sel.somethingSelected();if(n.extendSelectionsBy(function(l){if(o)return e<0?l.from():l.to();var s=ar(r,l.head,"div");null!=l.goalColumn&&(s.left=l.goalColumn),i.push(s.left);var a=sl(r,s,e,t);return"page"==t&&l==n.sel.primary()&&$r(r,sr(r,a,"div").top-s.top),a},ql),i.length)for(var l=0;l<n.sel.ranges.length;l++)n.sel.ranges[l].goalColumn=i[l]}),findWordAt:function(e){var t=this.doc,r=J(t,e.line).text,n=e.ch,i=e.ch;if(r){var o=this.getHelper(e,"wordChars");"before"!=e.sticky&&i!=r.length||!n?++i:--n;for(var l=r.charAt(n),s=x(l,o)?function(e){return x(e,o)}:/\s/.test(l)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!x(e)};n>0&&s(r.charAt(n-1));)--n;for(;i<r.length&&s(r.charAt(i));)++i}return new Hs(se(e.line,n),se(e.line,i))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?s(this.display.cursorDiv,"CodeMirror-overwrite"):Gl(this.display.cursorDiv,"CodeMirror-overwrite"),D(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==l()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:bn(function(e,t){Zr(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-zt(this)-this.display.barHeight,width:e.scrollWidth-zt(this)-this.display.barWidth,clientHeight:Gt(this),clientWidth:Bt(this)}},scrollIntoView:bn(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:se(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?Qr(this,e):en(this,e.from,e.to,e.margin)}),setSize:bn(function(e,t){var r=this,n=function(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e};null!=e&&(this.display.wrapper.style.width=n(e)),null!=t&&(this.display.wrapper.style.height=n(t)),this.options.lineWrapping&&er(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Mr(r,i,"widget");break}++i}),this.curOp.forceUpdate=!0,D(this,"refresh",this)}),operation:function(e){return mn(this,e)},startOperation:function(){return un(this)},endOperation:function(){return cn(this)},refresh:bn(function(){var e=this.display.cachedTextHeight;Tr(this),this.curOp.forceUpdate=!0,tr(this),Zr(this,this.doc.scrollLeft,this.doc.scrollTop),An(this.display),(null==e||Math.abs(e-yr(this.display))>.5||this.options.lineWrapping)&&Sr(this),D(this,"refresh",this)}),swapDoc:bn(function(e){var t=this.doc;return t.cm=null,this.state.selectingText&&this.state.selectingText(),Jn(this,e),tr(this),this.display.input.reset(),Zr(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,wt(this,"swapDoc",this,t),t}),phrase:function(e){var t=this.options.phrases;return t&&Object.prototype.hasOwnProperty.call(t,e)?t[e]:e},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},P(e),e.registerHelper=function(t,n,i){r.hasOwnProperty(t)||(r[t]=e[t]={_global:[]}),r[t][n]=i},e.registerGlobalHelper=function(t,n,i,o){e.registerHelper(t,n,o),r[t]._global.push({pred:i,val:o})}}function ll(e,t,r,n,i){function o(){var r=t.line+c;return!(r<e.first||r>=e.first+e.size)&&(t=new se(r,t.ch,t.sticky),u=J(e,r))}function l(l){var s;if("codepoint"==n){var a=u.text.charCodeAt(t.ch+(r>0?0:-1));if(isNaN(a))s=null;else{var h=r>0?a>=55296&&a<56320:a>=56320&&a<57343;s=new se(t.line,Math.max(0,Math.min(u.text.length,t.ch+r*(h?2:1))),(-r))}}else s=i?yo(e.cm,u,t,r):vo(u,t,r);if(null==s){if(l||!o())return!1;t=mo(i,e.cm,u,t.line,c)}else t=s;return!0}var s=t,a=r,u=J(e,t.line),c=i&&"rtl"==e.direction?-r:r;if("char"==n||"codepoint"==n)l();else if("column"==n)l(!0);else if("word"==n||"group"==n)for(var h=null,f="group"==n,d=e.cm&&e.cm.getHelper(t,"wordChars"),p=!0;!(r<0)||l(!p);p=!1){var g=u.text.charAt(t.ch)||"\n",v=x(g,d)?"w":f&&"\n"==g?"n":!f||/\s/.test(g)?null:"p";if(!f||p||v||(v="s"),h&&h!=v){r<0&&(r=1,l(),t.sticky="after");break}if(v&&(h=v),r>0&&!l(!p))break}var m=Ni(e,t,s,a,!0);return ue(s,m)&&(m.hitSide=!0),m}function sl(e,t,r,n){var i,o=e.doc,l=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),a=Math.max(s-.5*yr(e.display),3);i=(r>0?t.bottom:t.top)+r*a}else"line"==n&&(i=r>0?t.bottom+3:t.top-3);for(var u;u=hr(e,l,i),u.outside;){if(r<0?i<=0:i>=o.height){u.hitSide=!0;break}i+=5*r}return u}function al(e,t){var r=Xt(e,t.line);if(!r||r.hidden)return null;var n=J(e.doc,t.line),i=Vt(r,n,t.line),o=N(n,e.doc.direction),l="left";if(o){var s=M(o,t.ch);l=s%2?"right":"left"}var a=$t(i.map,t.ch,l);return a.offset="right"==a.collapse?a.end:a.start,a}function ul(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}function cl(e,t){return t&&(e.bad=!0),e}function hl(e,t,r,n,i){function o(e){return function(t){return t.id==e}}function l(){c&&(u+=h,f&&(u+=h),c=f=!1)}function s(e){e&&(l(),u+=e)}function a(t){if(1==t.nodeType){var r=t.getAttribute("cm-text");if(r)return void s(r);var u,d=t.getAttribute("cm-marker");if(d){var p=e.findMarks(se(n,0),se(i+1,0),o(+d));return void(p.length&&(u=p[0].find(0))&&s(ee(e.doc,u.from,u.to).join(h)))}if("false"==t.getAttribute("contenteditable"))return;var g=/^(pre|div|p|li|table|br)$/i.test(t.nodeName);if(!/^br$/i.test(t.nodeName)&&0==t.textContent.length)return;g&&l();for(var v=0;v<t.childNodes.length;v++)a(t.childNodes[v]);/^(pre|p)$/i.test(t.nodeName)&&(f=!0),g&&(c=!0)}else 3==t.nodeType&&s(t.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(var u="",c=!1,h=e.doc.lineSeparator(),f=!1;a(t),t!=r;)t=t.nextSibling,f=!1;return u}function fl(e,t,r){var n;if(t==e.display.lineDiv){if(n=e.display.lineDiv.childNodes[r],!n)return cl(e.clipPos(se(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var o=e.display.view[i];if(o.node==n)return dl(o,t,r)}}function dl(e,t,r){function n(t,r,n){for(var i=-1;i<(h?h.length:0);i++)for(var o=i<0?c.map:h[i],l=0;l<o.length;l+=3){var s=o[l+2];if(s==t||s==r){var a=ne(i<0?e.line:e.rest[i]),u=o[l]+n;return(n<0||s!=t)&&(u=o[l+(n?1:0)]),se(a,u)}}}var i=e.text.firstChild,l=!1;if(!t||!o(i,t))return cl(se(ne(e.line),0),!0);if(t==i&&(l=!0,t=i.childNodes[r],r=0,!t)){var s=e.rest?g(e.rest):e.line;return cl(se(ne(s),s.text.length),l)}var a=3==t.nodeType?t:null,u=t;for(a||1!=t.childNodes.length||3!=t.firstChild.nodeType||(a=t.firstChild,r&&(r=a.nodeValue.length));u.parentNode!=i;)u=u.parentNode;var c=e.measure,h=c.maps,f=n(a,u,r);if(f)return cl(f,l);for(var d=u.nextSibling,p=a?a.nodeValue.length-r:0;d;d=d.nextSibling){if(f=n(d,d.firstChild,0))return cl(se(f.line,f.ch-p),l);p+=d.textContent.length}for(var v=u.previousSibling,m=r;v;v=v.previousSibling){if(f=n(v,v.firstChild,-1))return cl(se(f.line,f.ch+m),l);m+=v.textContent.length}}function pl(e,t){function r(){e.value=u.getValue()}if(t=t?c(t):{},t.value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var n=l();t.autofocus=n==e||null!=e.getAttribute("autofocus")&&n==document.body}var i;if(e.form&&(ns(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var o=e.form;i=o.submit;try{var s=o.submit=function(){r(),o.submit=i,o.submit(),o.submit=s}}catch(a){}}t.finishInit=function(n){n.save=r,n.getTextArea=function(){return e},n.toTextArea=function(){n.toTextArea=isNaN,r(),e.parentNode.removeChild(n.getWrapperElement()),e.style.display="",e.form&&(A(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=i))}},e.style.display="none";var u=$o(function(t){return e.parentNode.insertBefore(t,e.nextSibling)},t);return u}function gl(e){e.off=A,e.on=ns,e.wheelEventPixels=zn,e.Doc=zs,e.splitLines=os,e.countColumn=h,e.findColumn=d,e.isWordChar=w,e.Pass=Yl,e.signal=D,e.Line=ys,e.changeEnd=Vn,e.scrollbarModel=Ms,e.Pos=se,e.cmpPos=ae,e.modes=us,e.mimeModes=cs,e.resolveMode=Y,e.getMode=_,e.modeExtensions=hs,e.extendMode=$,e.copyState=q,e.startState=Q,e.innerMode=Z,e.commands=Ys,e.keyMap=Xs,e.keyName=ho,e.isModifierKey=uo,e.lookupKey=ao,e.normalizeKeyMap=so,e.StringStream=fs,e.SharedTextMarker=Is,e.TextMarker=Es,e.LineWidget=Fs,e.e_preventDefault=E,e.e_stopPropagation=I,e.e_stop=z,e.addClass=s,e.contains=o,e.rmClass=Gl,e.keyNames=Us}var vl=navigator.userAgent,ml=navigator.platform,yl=/gecko\/\d/i.test(vl),bl=/MSIE \d/.test(vl),wl=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(vl),xl=/Edge\/(\d+)/.exec(vl),Cl=bl||wl||xl,Sl=Cl&&(bl?document.documentMode||6:+(xl||wl)[1]),Ll=!xl&&/WebKit\//.test(vl),kl=Ll&&/Qt\/\d+\.\d+/.test(vl),Tl=!xl&&/Chrome\//.test(vl),Ml=/Opera\//.test(vl),Nl=/Apple Computer/.test(navigator.vendor),Ol=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(vl),Al=/PhantomJS/.test(vl),Dl=Nl&&(/Mobile\/\w+/.test(vl)||navigator.maxTouchPoints>2),Wl=/Android/.test(vl),Hl=Dl||Wl||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(vl),Fl=Dl||/Mac/.test(ml),Pl=/\bCrOS\b/.test(vl),El=/win/i.test(ml),Il=Ml&&vl.match(/Version\/(\d*\.\d*)/);Il&&(Il=Number(Il[1])),Il&&Il>=15&&(Ml=!1,Ll=!0);var Rl,zl=Fl&&(kl||Ml&&(null==Il||Il<12.11)),Bl=yl||Cl&&Sl>=9,Gl=function(t,r){var n=t.className,i=e(r).exec(n);if(i){var o=n.slice(i.index+i[0].length);t.className=n.slice(0,i.index)+(o?i[1]+o:"")}};Rl=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(i){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var Ul=function(e){e.select()};Dl?Ul=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:Cl&&(Ul=function(e){try{e.select()}catch(t){}});var Vl=function(){this.id=null,this.f=null,this.time=0,this.handler=u(this.onTimeout,this)};Vl.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},Vl.prototype.set=function(e,t){this.f=t;var r=+new Date+e;(!this.id||r<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=r)};var Kl,jl,Xl=50,Yl={toString:function(){return"CodeMirror.Pass"}},_l={scroll:!1},$l={origin:"*mouse"},ql={origin:"+move"},Zl=[""],Ql=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,Jl=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/,es=null,ts=function(){function e(e){return e<=247?r.charAt(e):1424<=e&&e<=1524?"R":1536<=e&&e<=1785?n.charAt(e-1536):1774<=e&&e<=2220?"r":8192<=e&&e<=8203?"w":8204==e?"b":"L"}function t(e,t,r){this.level=e,this.from=t,this.to=r}var r="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",n="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",i=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,o=/[stwN]/,l=/[LRr]/,s=/[Lb1n]/,a=/[1n]/;return function(r,n){var u="ltr"==n?"L":"R";if(0==r.length||"ltr"==n&&!i.test(r))return!1;for(var c=r.length,h=[],f=0;f<c;++f)h.push(e(r.charCodeAt(f)));for(var d=0,p=u;d<c;++d){var v=h[d];"m"==v?h[d]=p:p=v}for(var m=0,y=u;m<c;++m){var b=h[m];"1"==b&&"r"==y?h[m]="n":l.test(b)&&(y=b,"r"==b&&(h[m]="R"))}for(var w=1,x=h[0];w<c-1;++w){var C=h[w];"+"==C&&"1"==x&&"1"==h[w+1]?h[w]="1":","!=C||x!=h[w+1]||"1"!=x&&"n"!=x||(h[w]=x),x=C}for(var S=0;S<c;++S){var L=h[S];if(","==L)h[S]="N";else if("%"==L){var k=void 0;for(k=S+1;k<c&&"%"==h[k];++k);for(var T=S&&"!"==h[S-1]||k<c&&"1"==h[k]?"1":"N",M=S;M<k;++M)h[M]=T;S=k-1}}for(var N=0,O=u;N<c;++N){var A=h[N];"L"==O&&"1"==A?h[N]="L":l.test(A)&&(O=A)}for(var D=0;D<c;++D)if(o.test(h[D])){var W=void 0;for(W=D+1;W<c&&o.test(h[W]);++W);for(var H="L"==(D?h[D-1]:u),F="L"==(W<c?h[W]:u),P=H==F?H?"L":"R":u,E=D;E<W;++E)h[E]=P;D=W-1}for(var I,R=[],z=0;z<c;)if(s.test(h[z])){var B=z;for(++z;z<c&&s.test(h[z]);++z);R.push(new t(0,B,z))}else{var G=z,U=R.length,V="rtl"==n?1:0;for(++z;z<c&&"L"!=h[z];++z);for(var K=G;K<z;)if(a.test(h[K])){G<K&&(R.splice(U,0,new t(1,G,K)),U+=V);var j=K;for(++K;K<z&&a.test(h[K]);++K);R.splice(U,0,new t(2,j,K)),U+=V,G=K}else++K;G<z&&R.splice(U,0,new t(1,G,z))}return"ltr"==n&&(1==R[0].level&&(I=r.match(/^\s+/))&&(R[0].from=I[0].length,R.unshift(new t(0,0,I[0].length))),1==g(R).level&&(I=r.match(/\s+$/))&&(g(R).to-=I[0].length,R.push(new t(0,c-I[0].length,c)))),"rtl"==n?R.reverse():R}}(),rs=[],ns=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||rs).concat(r)}},is=function(){if(Cl&&Sl<9)return!1;var e=n("div");return"draggable"in e||"dragDrop"in e}(),os=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);i==-1&&(i=e.length);var o=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),l=o.indexOf("\r");l!=-1?(r.push(o.slice(0,l)),t+=l+1):(r.push(o),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},ls=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(r){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t);
},ss=function(){var e=n("div");return"oncopy"in e||(e.setAttribute("oncopy","return;"),"function"==typeof e.oncopy)}(),as=null,us={},cs={},hs={},fs=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};fs.prototype.eol=function(){return this.pos>=this.string.length},fs.prototype.sol=function(){return this.pos==this.lineStart},fs.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},fs.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},fs.prototype.eat=function(e){var t,r=this.string.charAt(this.pos);if(t="string"==typeof e?r==e:r&&(e.test?e.test(r):e(r)))return++this.pos,r},fs.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},fs.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},fs.prototype.skipToEnd=function(){this.pos=this.string.length},fs.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},fs.prototype.backUp=function(e){this.pos-=e},fs.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=h(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)},fs.prototype.indentation=function(){return h(this.string,null,this.tabSize)-(this.lineStart?h(this.string,this.lineStart,this.tabSize):0)},fs.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&n.index>0?null:(n&&t!==!1&&(this.pos+=n[0].length),n)}var i=function(e){return r?e.toLowerCase():e},o=this.string.substr(this.pos,e.length);if(i(o)==i(e))return t!==!1&&(this.pos+=e.length),!0},fs.prototype.current=function(){return this.string.slice(this.start,this.pos)},fs.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},fs.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},fs.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var ds=function(e,t){this.state=e,this.lookAhead=t},ps=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};ps.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},ps.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},ps.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ps.fromSaved=function(e,t,r){return t instanceof ds?new ps(e,q(e.mode,t.state),r,t.lookAhead):new ps(e,q(e.mode,t),r)},ps.prototype.save=function(e){var t=e!==!1?q(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new ds(t,this.maxLookAhead):t};var gs=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r},vs=!1,ms=!1,ys=function(e,t,r){this.text=e,Be(this,t),this.height=r?r(this):1};ys.prototype.lineNo=function(){return ne(this)},P(ys);var bs,ws={},xs={},Cs=null,Ss=null,Ls={left:0,right:0,top:0,bottom:0},ks=function(e,t,r){this.cm=r;var i=this.vert=n("div",[n("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),o=this.horiz=n("div",[n("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");i.tabIndex=o.tabIndex=-1,e(i),e(o),ns(i,"scroll",function(){i.clientHeight&&t(i.scrollTop,"vertical")}),ns(o,"scroll",function(){o.clientWidth&&t(o.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,Cl&&Sl<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};ks.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var o=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+o)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&e.clientHeight>0&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},ks.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},ks.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},ks.prototype.zeroWidthHack=function(){var e=Fl&&!Ol?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new Vl,this.disableVert=new Vl},ks.prototype.enableZeroWidthBar=function(e,t,r){function n(){var i=e.getBoundingClientRect(),o="vert"==r?document.elementFromPoint(i.right-1,(i.top+i.bottom)/2):document.elementFromPoint((i.right+i.left)/2,i.bottom-1);o!=e?e.style.pointerEvents="none":t.set(1e3,n)}e.style.pointerEvents="auto",t.set(1e3,n)},ks.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ts=function(){};Ts.prototype.update=function(){return{bottom:0,right:0}},Ts.prototype.setScrollLeft=function(){},Ts.prototype.setScrollTop=function(){},Ts.prototype.clear=function(){};var Ms={"native":ks,"null":Ts},Ns=0,Os=function(e,t,r){var n=e.display;this.viewport=t,this.visible=Kr(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=Bt(e),this.force=r,this.dims=wr(e),this.events=[]};Os.prototype.signal=function(e,t){F(e,t)&&this.events.push(arguments)},Os.prototype.finish=function(){for(var e=0;e<this.events.length;e++)D.apply(null,this.events[e])};var As=0,Ds=null;Cl?Ds=-.53:yl?Ds=15:Tl?Ds=-.7:Nl&&(Ds=-1/3);var Ws=function(e,t){this.ranges=e,this.primIndex=t};Ws.prototype.primary=function(){return this.ranges[this.primIndex]},Ws.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!ue(r.anchor,n.anchor)||!ue(r.head,n.head))return!1}return!0},Ws.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Hs(ce(this.ranges[t].anchor),ce(this.ranges[t].head));return new Ws(e,this.primIndex)},Ws.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},Ws.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(ae(t,n.from())>=0&&ae(e,n.to())<=0)return r}return-1};var Hs=function(e,t){this.anchor=e,this.head=t};Hs.prototype.from=function(){return fe(this.anchor,this.head)},Hs.prototype.to=function(){return he(this.anchor,this.head)},Hs.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Vi.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r=e,n=e+t;r<n;++r){var i=this.lines[r];this.height-=i.height,lt(i),wt(i,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},Ki.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var o=Math.min(t,i-e),l=n.height;if(n.removeInner(e,o),this.height-=l-n.height,i==o&&(this.children.splice(r--,1),n.parent=null),0==(t-=o))break;e=0}else e-=i}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Vi))){var s=[];this.collapse(s),this.children=[new Vi(s)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<=o){if(i.insertInner(e,t,r),i.lines&&i.lines.length>50){for(var l=i.lines.length%25+25,s=l;s<i.lines.length;){var a=new Vi(i.lines.slice(s,s+=25));i.height-=a.height,this.children.splice(++n,0,a),a.parent=this}i.lines=i.lines.slice(0,l),this.maybeSpill()}break}e-=o}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=e.children.splice(e.children.length-5,5),r=new Ki(t);if(e.parent){e.size-=r.size,e.height-=r.height;var n=f(e.parent.children,e);e.parent.children.splice(n+1,0,r)}else{var i=new Ki(e.children);i.parent=e,e.children=[i,r],e=i}r.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],o=i.chunkSize();if(e<o){var l=Math.min(t,o-e);if(i.iterN(e,l,r))return!0;if(0==(t-=l))break;e=0}else e-=o}}};var Fs=function(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t};Fs.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=ne(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var o=Ft(this);re(r,Math.max(0,r.height-o)),e&&(mn(e,function(){ji(e,r,-o),Mr(e,n,"widget")}),wt(e,"lineWidgetCleared",e,this,n))}},Fs.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=Ft(this)-t;i&&(et(this.doc,n)||re(n,n.height+i),r&&mn(r,function(){r.curOp.forceUpdate=!0,ji(r,n,i),wt(r,"lineWidgetChanged",r,e,ne(n))}))},P(Fs);var Ps=0,Es=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++Ps};Es.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&un(e),F(this,"clear")){var r=this.find();r&&wt(this,"clear",r.from,r.to)}for(var n=null,i=null,o=0;o<this.lines.length;++o){var l=this.lines[o],s=De(l.markedSpans,this);e&&!this.collapsed?Mr(e,ne(l),"text"):e&&(null!=s.to&&(i=ne(l)),null!=s.from&&(n=ne(l))),l.markedSpans=We(l.markedSpans,s),null==s.from&&this.collapsed&&!et(this.doc,l)&&e&&re(l,yr(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var a=0;a<this.lines.length;++a){var u=$e(this.lines[a]),c=nt(u);c>e.display.maxLineLength&&(e.display.maxLine=u,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&Tr(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&ki(e.doc)),e&&wt(e,"markerCleared",e,this,n,i),t&&cn(e),this.parent&&this.parent.clear()}},Es.prototype.find=function(e,t){null==e&&"bookmark"==this.type&&(e=1);for(var r,n,i=0;i<this.lines.length;++i){var o=this.lines[i],l=De(o.markedSpans,this);if(null!=l.from&&(r=se(t?o:ne(o),l.from),e==-1))return r;if(null!=l.to&&(n=se(t?o:ne(o),l.to),1==e))return n}return r&&{from:r,to:n}},Es.prototype.changed=function(){var e=this,t=this.find(-1,!0),r=this,n=this.doc.cm;t&&n&&mn(n,function(){var i=t.line,o=ne(t.line),l=Xt(n,o);if(l&&(Jt(l),n.curOp.selectionChanged=n.curOp.forceUpdate=!0),n.curOp.updateMaxLine=!0,!et(r.doc,i)&&null!=r.height){var s=r.height;r.height=null;var a=Ft(r)-s;a&&re(i,i.height+a)}wt(n,"markerChanged",n,e)})},Es.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&f(t.maybeHiddenMarkers,this)!=-1||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Es.prototype.detachLine=function(e){if(this.lines.splice(f(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},P(Es);var Is=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};Is.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();wt(this,"clear")}},Is.prototype.find=function(e,t){return this.primary.find(e,t)},P(Is);var Rs=0,zs=function(e,t,r,n,i){if(!(this instanceof zs))return new zs(e,t,r,n,i);null==r&&(r=0),Ki.call(this,[new Vi([new ys("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var o=se(r,0);this.sel=Un(o),this.history=new ri(null),this.id=++Rs,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Zn(this,{from:o,to:o,text:e}),Ci(this,Un(o),_l)};zs.prototype=b(Ki.prototype,{constructor:zs,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=te(this,this.first,this.first+this.size);return e===!1?t:t.join(e||this.lineSeparator())},setValue:wn(function(e){var t=se(this.first,0),r=this.first+this.size-1;Wi(this,{from:t,to:se(r,J(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Zr(this.cm,0,0),Ci(this,Un(t),_l)}),replaceRange:function(e,t,r,n){t=pe(this,t),r=r?pe(this,r):t,Ri(this,e,t,r,n)},getRange:function(e,t,r){var n=ee(this,pe(this,e),pe(this,t));return r===!1?n:""===r?n.join(""):n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(oe(this,e))return J(this,e)},getLineNumber:function(e){return ne(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=J(this,e)),$e(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return pe(this,e)},getCursor:function(e){var t,r=this.sel.primary();return t=null==e||"head"==e?r.head:"anchor"==e?r.anchor:"end"==e||"to"==e||e===!1?r.to():r.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:wn(function(e,t,r){bi(this,pe(this,"number"==typeof e?se(e,t||0):e),null,r)}),setSelection:wn(function(e,t,r){bi(this,pe(this,e),pe(this,t||e),r)}),extendSelection:wn(function(e,t,r){vi(this,pe(this,e),t&&pe(this,t),r)}),extendSelections:wn(function(e,t){mi(this,ve(this,e),t)}),extendSelectionsBy:wn(function(e,t){var r=v(this.sel.ranges,e);mi(this,ve(this,r),t)}),setSelections:wn(function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new Hs(pe(this,e[i].anchor),pe(this,e[i].head||e[i].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),Ci(this,Gn(this.cm,n,t),r)}}),addSelection:wn(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Hs(pe(this,e),pe(this,t||e))),Ci(this,Gn(this.cm,n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=ee(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return e===!1?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=ee(this,r[n].from(),r[n].to());e!==!1&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:wn(function(e,t,r){for(var n=[],i=this.sel,o=0;o<i.ranges.length;o++){var l=i.ranges[o];n[o]={from:l.from(),to:l.to(),text:this.splitLines(e[o]),origin:r}}for(var s=t&&"end"!=t&&Yn(this,n,t),a=n.length-1;a>=0;a--)Wi(this,n[a]);s?xi(this,s):this.cm&&qr(this.cm)}),undo:wn(function(){Fi(this,"undo")}),redo:wn(function(){Fi(this,"redo")}),undoSelection:wn(function(){Fi(this,"undo",!0)}),redoSelection:wn(function(){Fi(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){var e=this;this.history=new ri(this.history),Qn(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:pi(this.history.done),undone:pi(this.history.undone)}},setHistory:function(e){var t=this.history=new ri(this.history);t.done=pi(e.done.slice(0),null,!0),t.undone=pi(e.undone.slice(0),null,!0)},setGutterMarker:wn(function(e,t,r){return Ui(this,e,"gutter",function(e){var n=e.gutterMarkers||(e.gutterMarkers={});return n[t]=r,!r&&C(n)&&(e.gutterMarkers=null),!0})}),clearGutter:wn(function(e){var t=this;this.iter(function(r){r.gutterMarkers&&r.gutterMarkers[e]&&Ui(t,r,"gutter",function(){return r.gutterMarkers[e]=null,C(r.gutterMarkers)&&(r.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!oe(this,e))return null;if(t=e,e=J(this,e),!e)return null}else if(t=ne(e),null==t)return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:wn(function(t,r,n){return Ui(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass";if(t[i]){if(e(n).test(t[i]))return!1;t[i]+=" "+n}else t[i]=n;return!0})}),removeLineClass:wn(function(t,r,n){return Ui(this,t,"gutter"==r?"gutter":"class",function(t){var i="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass",o=t[i];if(!o)return!1;if(null==n)t[i]=null;else{var l=o.match(e(n));if(!l)return!1;var s=l.index+l[0].length;t[i]=o.slice(0,l.index)+(l.index&&s!=o.length?" ":"")+o.slice(s)||null}return!0})}),addLineWidget:wn(function(e,t,r){return Xi(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return Yi(this,pe(this,e),pe(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return e=pe(this,e),Yi(this,e,e,r,"bookmark")},findMarksAt:function(e){e=pe(this,e);var t=[],r=J(this,e.line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(e,t,r){e=pe(this,e),t=pe(this,t);var n=[],i=e.line;return this.iter(e.line,t.line+1,function(o){var l=o.markedSpans;if(l)for(var s=0;s<l.length;s++){var a=l[s];null!=a.to&&i==e.line&&e.ch>=a.to||null==a.from&&i!=e.line||null!=a.from&&i==t.line&&a.from>=t.ch||r&&!r(a.marker)||n.push(a.marker.parent||a.marker)}++i}),n},getAllMarks:function(){var e=[];return this.iter(function(t){var r=t.markedSpans;if(r)for(var n=0;n<r.length;++n)null!=r[n].from&&e.push(r[n].marker)}),e},posFromIndex:function(e){var t,r=this.first,n=this.lineSeparator().length;return this.iter(function(i){var o=i.text.length+n;return o>e?(t=e,!0):(e-=o,void++r)}),pe(this,se(r,t))},indexFromPos:function(e){e=pe(this,e);var t=e.ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new zs(te(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new zs(te(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],qi(n,$i(this)),n},unlinkDoc:function(e){if(e instanceof $o&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){var r=this.linked[t];if(r.doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Zi($i(this));break}}if(e.history==this.history){var n=[e.id];Qn(e,function(e){return n.push(e.id)},!0),e.history=new ri(null),e.history.done=pi(this.history.done,n),e.history.undone=pi(this.history.undone,n)}},iterLinkedDocs:function(e){Qn(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):os(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:wn(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&ti(this.cm))})}),zs.prototype.eachLine=zs.prototype.iter;for(var Bs=0,Gs=!1,Us={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},Vs=0;Vs<10;Vs++)Us[Vs+48]=Us[Vs+96]=String(Vs);for(var Ks=65;Ks<=90;Ks++)Us[Ks]=String.fromCharCode(Ks);for(var js=1;js<=12;js++)Us[js+111]=Us[js+63235]="F"+js;var Xs={};Xs.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Xs.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Xs.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Xs.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Xs["default"]=Fl?Xs.macDefault:Xs.pcDefault;var Ys={selectAll:Ai,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),_l)},killLine:function(e){return po(e,function(t){if(t.empty()){var r=J(e.doc,t.head.line).text.length;return t.head.ch==r&&t.head.line<e.lastLine()?{from:t.head,to:se(t.head.line+1,0)}:{from:t.head,to:se(t.head.line,r)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return po(e,function(t){return{from:se(t.from().line,0),to:pe(e.doc,se(t.to().line+1,0))}})},delLineLeft:function(e){return po(e,function(e){return{from:se(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(e){return po(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return{from:n,to:t.from()}})},delWrappedLineRight:function(e){return po(e,function(t){var r=e.charCoords(t.head,"div").top+5,n=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div");return{from:t.from(),to:n}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(se(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(se(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return bo(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return xo(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return wo(e,t.head.line)},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:r},"div")},ql)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:r},"div")},ql)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var r=e.cursorCoords(t.head,"div").top+5,n=e.coordsChar({left:0,top:r},"div");return n.ch<e.getLine(n.line).search(/\S/)?xo(e,t.head):n},ql)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var o=r[i].from(),l=h(e.getLine(o.line),o.ch,n);t.push(p(n-l%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return mn(e,function(){for(var t=e.listSelections(),r=[],n=0;n<t.length;n++)if(t[n].empty()){var i=t[n].head,o=J(e.doc,i.line).text;if(o)if(i.ch==o.length&&(i=new se(i.line,i.ch-1)),i.ch>0)i=new se(i.line,i.ch+1),e.replaceRange(o.charAt(i.ch-1)+o.charAt(i.ch-2),se(i.line,i.ch-2),i,"+transpose");else if(i.line>e.doc.first){var l=J(e.doc,i.line-1).text;l&&(i=new se(i.line,1),e.replaceRange(o.charAt(0)+e.doc.lineSeparator()+l.charAt(l.length-1),se(i.line-1,l.length-1),i,"+transpose"))}r.push(new Hs(i,i))}e.setSelections(r)})},newlineAndIndent:function(e){return mn(e,function(){for(var t=e.listSelections(),r=t.length-1;r>=0;r--)e.replaceRange(e.doc.lineSeparator(),t[r].anchor,t[r].head,"+input");t=e.listSelections();for(var n=0;n<t.length;n++)e.indentLine(t[n].from().line,null,!0);qr(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}},_s=new Vl,$s=null,qs=400,Zs=function(e,t,r){this.time=e,this.pos=t,this.button=r};Zs.prototype.compare=function(e,t,r){return this.time+qs>e&&0==ae(t,this.pos)&&r==this.button};var Qs,Js,ea={toString:function(){return"CodeMirror.Init"}},ta={},ra={};$o.defaults=ta,$o.optionHandlers=ra;var na=[];$o.defineInitHook=function(e){return na.push(e)};var ia=null,oa=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new Vl,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};oa.prototype.init=function(e){function t(e){for(var t=e.target;t;t=t.parentNode){if(t==s)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(t.className))break}return!1}function r(e){if(t(e)&&!W(o,e)){if(o.somethingSelected())Qo({lineWise:!1,text:o.getSelections()}),"cut"==e.type&&o.replaceSelection("",null,"cut");else{if(!o.options.lineWiseCopyCut)return;var r=rl(o);Qo({lineWise:!0,text:r.text}),"cut"==e.type&&o.operation(function(){o.setSelections(r.ranges,0,_l),o.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var n=ia.text.join("\n");if(e.clipboardData.setData("Text",n),e.clipboardData.getData("Text")==n)return void e.preventDefault()}var a=il(),u=a.firstChild;o.display.lineSpace.insertBefore(a,o.display.lineSpace.firstChild),u.value=ia.text.join("\n");var c=l();Ul(u),setTimeout(function(){o.display.lineSpace.removeChild(a),c.focus(),c==s&&i.showPrimarySelection()},50)}}var n=this,i=this,o=i.cm,s=i.div=e.lineDiv;s.contentEditable=!0,nl(s,o.options.spellcheck,o.options.autocorrect,o.options.autocapitalize),ns(s,"paste",function(e){!t(e)||W(o,e)||el(e,o)||Sl<=11&&setTimeout(yn(o,function(){return n.updateFromDOM()}),20)}),ns(s,"compositionstart",function(e){n.composing={data:e.data,done:!1}}),ns(s,"compositionupdate",function(e){n.composing||(n.composing={data:e.data,done:!1})}),ns(s,"compositionend",function(e){n.composing&&(e.data!=n.composing.data&&n.readFromDOMSoon(),n.composing.done=!0)}),ns(s,"touchstart",function(){return i.forceCompositionEnd()}),ns(s,"input",function(){n.composing||n.readFromDOMSoon()}),ns(s,"copy",r),ns(s,"cut",r)},oa.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},oa.prototype.prepareSelection=function(){var e=Hr(this.cm,!1);return e.focus=l()==this.div,e},oa.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},oa.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},oa.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||i.line<t.display.viewFrom)return void e.removeAllRanges();
var o=fl(t,e.anchorNode,e.anchorOffset),l=fl(t,e.focusNode,e.focusOffset);if(!o||o.bad||!l||l.bad||0!=ae(fe(o,l),n)||0!=ae(he(o,l),i)){var s=t.display.view,a=n.line>=t.display.viewFrom&&al(t,n)||{node:s[0].measure.map[2],offset:0},u=i.line<t.display.viewTo&&al(t,i);if(!u){var c=s[s.length-1].measure,h=c.maps?c.maps[c.maps.length-1]:c.map;u={node:h[h.length-1],offset:h[h.length-2]-h[h.length-3]}}if(!a||!u)return void e.removeAllRanges();var f,d=e.rangeCount&&e.getRangeAt(0);try{f=Rl(a.node,a.offset,u.offset,u.node)}catch(p){}f&&(!yl&&t.state.focused?(e.collapse(a.node,a.offset),f.collapsed||(e.removeAllRanges(),e.addRange(f))):(e.removeAllRanges(),e.addRange(f)),d&&null==e.anchorNode?e.addRange(d):yl&&this.startGracePeriod()),this.rememberSelection()}},oa.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},oa.prototype.showMultipleSelections=function(e){r(this.cm.display.cursorDiv,e.cursors),r(this.cm.display.selectionDiv,e.selection)},oa.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},oa.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return o(this.div,t)},oa.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&l()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},oa.prototype.blur=function(){this.div.blur()},oa.prototype.getField=function(){return this.div},oa.prototype.supportsTouch=function(){return!0},oa.prototype.receivedFocus=function(){function e(){r.cm.state.focused&&(r.pollSelection(),r.polling.set(r.cm.options.pollInterval,e))}var t=this,r=this;this.selectionInEditor()?setTimeout(function(){return t.pollSelection()},20):mn(this.cm,function(){return r.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,e)},oa.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},oa.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(Wl&&Tl&&this.cm.display.gutterSpecs.length&&ul(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=fl(t,e.anchorNode,e.anchorOffset),n=fl(t,e.focusNode,e.focusOffset);r&&n&&mn(t,function(){Ci(t.doc,Un(r,n),_l),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},oa.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e=this.cm,t=e.display,r=e.doc.sel.primary(),n=r.from(),i=r.to();if(0==n.ch&&n.line>e.firstLine()&&(n=se(n.line-1,J(e.doc,n.line-1).length)),i.ch==J(e.doc,i.line).text.length&&i.line<e.lastLine()&&(i=se(i.line+1,0)),n.line<t.viewFrom||i.line>t.viewTo-1)return!1;var o,l,s;n.line==t.viewFrom||0==(o=kr(e,n.line))?(l=ne(t.view[0].line),s=t.view[0].node):(l=ne(t.view[o].line),s=t.view[o-1].node.nextSibling);var a,u,c=kr(e,i.line);if(c==t.view.length-1?(a=t.viewTo-1,u=t.lineDiv.lastChild):(a=ne(t.view[c+1].line)-1,u=t.view[c+1].node.previousSibling),!s)return!1;for(var h=e.doc.splitLines(hl(e,s,u,l,a)),f=ee(e.doc,se(l,0),se(a,J(e.doc,a).text.length));h.length>1&&f.length>1;)if(g(h)==g(f))h.pop(),f.pop(),a--;else{if(h[0]!=f[0])break;h.shift(),f.shift(),l++}for(var d=0,p=0,v=h[0],m=f[0],y=Math.min(v.length,m.length);d<y&&v.charCodeAt(d)==m.charCodeAt(d);)++d;for(var b=g(h),w=g(f),x=Math.min(b.length-(1==h.length?d:0),w.length-(1==f.length?d:0));p<x&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)++p;if(1==h.length&&1==f.length&&l==n.line)for(;d&&d>n.ch&&b.charCodeAt(b.length-p-1)==w.charCodeAt(w.length-p-1);)d--,p++;h[h.length-1]=b.slice(0,b.length-p).replace(/^\u200b+/,""),h[0]=h[0].slice(d).replace(/\u200b+$/,"");var C=se(l,d),S=se(a,f.length?g(f).length-p:0);return h.length>1||h[0]||ae(C,S)?(Ri(e.doc,h,C,S,"+input"),!0):void 0},oa.prototype.ensurePolled=function(){this.forceCompositionEnd()},oa.prototype.reset=function(){this.forceCompositionEnd()},oa.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},oa.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},oa.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||mn(this.cm,function(){return Tr(e.cm)})},oa.prototype.setUneditable=function(e){e.contentEditable="false"},oa.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||yn(this.cm,Jo)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},oa.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},oa.prototype.onContextMenu=function(){},oa.prototype.resetPosition=function(){},oa.prototype.needsContentAttribute=!0;var la=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new Vl,this.hasSelection=!1,this.composing=null};la.prototype.init=function(e){function t(e){if(!W(i,e)){if(i.somethingSelected())Qo({lineWise:!1,text:i.getSelections()});else{if(!i.options.lineWiseCopyCut)return;var t=rl(i);Qo({lineWise:!0,text:t.text}),"cut"==e.type?i.setSelections(t.ranges,null,_l):(n.prevInput="",o.value=t.text.join("\n"),Ul(o))}"cut"==e.type&&(i.state.cutIncoming=+new Date)}}var r=this,n=this,i=this.cm;this.createField(e);var o=this.textarea;e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),Dl&&(o.style.width="0px"),ns(o,"input",function(){Cl&&Sl>=9&&r.hasSelection&&(r.hasSelection=null),n.poll()}),ns(o,"paste",function(e){W(i,e)||el(e,i)||(i.state.pasteIncoming=+new Date,n.fastPoll())}),ns(o,"cut",t),ns(o,"copy",t),ns(e.scroller,"paste",function(t){if(!Pt(e,t)&&!W(i,t)){if(!o.dispatchEvent)return i.state.pasteIncoming=+new Date,void n.focus();var r=new Event("paste");r.clipboardData=t.clipboardData,o.dispatchEvent(r)}}),ns(e.lineSpace,"selectstart",function(t){Pt(e,t)||E(t)}),ns(o,"compositionstart",function(){var e=i.getCursor("from");n.composing&&n.composing.range.clear(),n.composing={start:e,range:i.markText(e,i.getCursor("to"),{className:"CodeMirror-composing"})}}),ns(o,"compositionend",function(){n.composing&&(n.poll(),n.composing.range.clear(),n.composing=null)})},la.prototype.createField=function(e){this.wrapper=il(),this.textarea=this.wrapper.firstChild},la.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},la.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=Hr(e);if(e.options.moveInputWithCursor){var i=ar(e,r.sel.primary().head,"div"),o=t.wrapper.getBoundingClientRect(),l=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+l.top-o.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+l.left-o.left))}return n},la.prototype.showSelection=function(e){var t=this.cm,n=t.display;r(n.cursorDiv,e.cursors),r(n.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},la.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&Ul(this.textarea),Cl&&Sl>=9&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",Cl&&Sl>=9&&(this.hasSelection=null))}},la.prototype.getField=function(){return this.textarea},la.prototype.supportsTouch=function(){return!1},la.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!Hl||l()!=this.textarea))try{this.textarea.focus()}catch(e){}},la.prototype.blur=function(){this.textarea.blur()},la.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},la.prototype.receivedFocus=function(){this.slowPoll()},la.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},la.prototype.fastPoll=function(){function e(){var n=r.poll();n||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))}var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,e)},la.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||ls(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(Cl&&Sl>=9&&this.hasSelection===i||Fl&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var o=i.charCodeAt(0);if(8203!=o||n||(n="​"),8666==o)return this.reset(),this.cm.execCommand("undo")}for(var l=0,s=Math.min(n.length,i.length);l<s&&n.charCodeAt(l)==i.charCodeAt(l);)++l;return mn(t,function(){Jo(t,i.slice(l),n.length-l,null,e.composing?"*compose":null),i.length>1e3||i.indexOf("\n")>-1?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},la.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},la.prototype.onKeyPress=function(){Cl&&Sl>=9&&(this.hasSelection=null),this.fastPoll()},la.prototype.onContextMenu=function(e){function t(){if(null!=l.selectionStart){var e=i.somethingSelected(),t="​"+(e?l.value:"");l.value="⇚",l.value=t,n.prevInput=e?"":"​",l.selectionStart=1,l.selectionEnd=t.length,o.selForContextMenu=i.doc.sel}}function r(){if(n.contextMenuPending==r&&(n.contextMenuPending=!1,n.wrapper.style.cssText=h,l.style.cssText=c,Cl&&Sl<9&&o.scrollbars.setScrollTop(o.scroller.scrollTop=a),null!=l.selectionStart)){(!Cl||Cl&&Sl<9)&&t();var e=0,s=function(){o.selForContextMenu==i.doc.sel&&0==l.selectionStart&&l.selectionEnd>0&&"​"==n.prevInput?yn(i,Ai)(i):e++<10?o.detectingSelectAll=setTimeout(s,500):(o.selForContextMenu=null,o.input.reset())};o.detectingSelectAll=setTimeout(s,200)}}var n=this,i=n.cm,o=i.display,l=n.textarea;n.contextMenuPending&&n.contextMenuPending();var s=Lr(i,e),a=o.scroller.scrollTop;if(s&&!Ml){var u=i.options.resetSelectionOnContextMenu;u&&i.doc.sel.contains(s)==-1&&yn(i,Ci)(i.doc,Un(s),_l);var c=l.style.cssText,h=n.wrapper.style.cssText,f=n.wrapper.offsetParent.getBoundingClientRect();n.wrapper.style.cssText="position: static",l.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-f.top-5)+"px; left: "+(e.clientX-f.left-5)+"px;\n      z-index: 1000; background: "+(Cl?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";var d;if(Ll&&(d=window.scrollY),o.input.focus(),Ll&&window.scrollTo(null,d),o.input.reset(),i.somethingSelected()||(l.value=n.prevInput=" "),n.contextMenuPending=r,o.selForContextMenu=i.doc.sel,clearTimeout(o.detectingSelectAll),Cl&&Sl>=9&&t(),Bl){z(e);var p=function(){A(window,"mouseup",p),setTimeout(r,20)};ns(window,"mouseup",p)}else setTimeout(r,50)}},la.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},la.prototype.setUneditable=function(){},la.prototype.needsContentAttribute=!1,Xo($o),ol($o);var sa="iter insert remove copy getEditor constructor".split(" ");for(var aa in zs.prototype)zs.prototype.hasOwnProperty(aa)&&f(sa,aa)<0&&($o.prototype[aa]=function(e){return function(){return e.apply(this.doc,arguments)}}(zs.prototype[aa]));return P(zs),$o.inputStyles={textarea:la,contenteditable:oa},$o.defineMode=function(e){$o.defaults.mode||"null"==e||($o.defaults.mode=e),j.apply(this,arguments)},$o.defineMIME=X,$o.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),$o.defineMIME("text/plain","null"),$o.defineExtension=function(e,t){$o.prototype[e]=t},$o.defineDocExtension=function(e,t){zs.prototype[e]=t},$o.fromTextArea=pl,gl($o),$o.version="5.63.3",$o});
},{}],"form-serialize":[function(require,module,exports){
function serialize(e,s){"object"!=typeof s?s={hash:!!s}:void 0===s.hash&&(s.hash=!0);for(var a=s.hash?{}:"",r=s.serializer||(s.hash?hash_serializer:str_serialize),t=e&&e.elements?e.elements:[],i=Object.create(null),n=0;n<t.length;++n){var h=t[n];if((s.disabled||!h.disabled)&&h.name&&k_r_success_contrls.test(h.nodeName)&&!k_r_submitter.test(h.type)){var l=h.name,c=h.value;if("checkbox"!==h.type&&"radio"!==h.type||h.checked||(c=void 0),s.empty){if("checkbox"!==h.type||h.checked||(c=""),"radio"===h.type&&(i[h.name]||h.checked?h.checked&&(i[h.name]=!0):i[h.name]=!1),void 0==c&&"radio"==h.type)continue}else if(!c)continue;if("select-multiple"!==h.type)a=r(a,l,c);else{c=[];for(var u=h.options,o=!1,p=0;p<u.length;++p){var _=u[p],v=s.empty&&!_.value,f=_.value||v;_.selected&&f&&(o=!0,a=s.hash&&"[]"!==l.slice(l.length-2)?r(a,l+"[]",_.value):r(a,l,_.value))}!o&&s.empty&&(a=r(a,l,""))}}}if(s.empty)for(var l in i)i[l]||(a=r(a,l,""));return a}function parse_keys(e){var s=[],a=/^([^\[\]]*)/,r=new RegExp(brackets),t=a.exec(e);for(t[1]&&s.push(t[1]);null!==(t=r.exec(e));)s.push(t[1]);return s}function hash_assign(e,s,a){if(0===s.length)return e=a;var r=s.shift(),t=r.match(/^\[(.+?)\]$/);if("[]"===r)return e=e||[],Array.isArray(e)?e.push(hash_assign(null,s,a)):(e._values=e._values||[],e._values.push(hash_assign(null,s,a))),e;if(t){var i=t[1],n=+i;isNaN(n)?(e=e||{},e[i]=hash_assign(e[i],s,a)):(e=e||[],e[n]=hash_assign(e[n],s,a))}else e[r]=hash_assign(e[r],s,a);return e}function hash_serializer(e,s,a){var r=s.match(brackets);if(r){var t=parse_keys(s);hash_assign(e,t,a)}else{var i=e[s];i?(Array.isArray(i)||(e[s]=[i]),e[s].push(a)):e[s]=a}return e}function str_serialize(e,s,a){return a=a.replace(/(\r)?\n/g,"\r\n"),a=encodeURIComponent(a),a=a.replace(/%20/g,"+"),e+(e?"&":"")+encodeURIComponent(s)+"="+a}var k_r_submitter=/^(?:submit|button|image|reset|file)$/i,k_r_success_contrls=/^(?:input|select|textarea|keygen)/i,brackets=/(\[[^\[\]]*\])/g;module.exports=serialize;
},{}],"jquery-ui/ui/data":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(n){return function(t){return!!e.data(t,n)}}):function(n,t,r){return!!e.data(n,r[3])}})});
},{}],"jquery-ui/ui/ie":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())});
},{}],"jquery-ui/ui/plugin":[function(require,module,exports){
!function(n){"function"==typeof define&&define.amd?define(["jquery","./version"],n):n(jQuery)}(function(n){return n.ui.plugin={add:function(e,i,o){var t,u=n.ui[e].prototype;for(t in o)u.plugins[t]=u.plugins[t]||[],u.plugins[t].push([i,o[t]])},call:function(n,e,i,o){var t,u=n.plugins[e];if(u&&(o||n.element[0].parentNode&&11!==n.element[0].parentNode.nodeType))for(t=0;t<u.length;t++)n.options[u[t][0]]&&u[t][1].apply(n.element,i)}}});
},{}],"jquery-ui/ui/safe-active-element":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeActiveElement=function(e){var n;try{n=e.activeElement}catch(t){n=e.body}return n||(n=e.body),n.nodeName||(n=e.body),n}});
},{}],"jquery-ui/ui/safe-blur":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.ui.safeBlur=function(n){n&&"body"!==n.nodeName.toLowerCase()&&e(n).trigger("blur")}});
},{}],"jquery-ui/ui/scroll-parent":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","./version"],e):e(jQuery)}(function(e){return e.fn.scrollParent=function(t){var n=this.css("position"),o="absolute"===n,s=t?/(auto|scroll|hidden)/:/(auto|scroll)/,i=this.parents().filter(function(){var t=e(this);return(!o||"static"!==t.css("position"))&&s.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==n&&i.length?i:e(this[0].ownerDocument||document)}});
},{}],"jquery-ui/ui/version":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"});
},{}],"jquery-ui/ui/widgets/draggable":[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../plugin","../safe-active-element","../safe-blur","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(e){var s=this.options;return!(this.helper||s.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(s.iframeFix===!0?"iframe":s.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var s=t.ui.safeActiveElement(this.document[0]),i=t(e.target);i.closest(s).length||t.ui.safeBlur(s)},_mouseStart:function(e){var s=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(this._trigger("drag",e,i)===!1)return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var s=this,i=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(i=t.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){s._trigger("stop",e)!==!1&&s._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var s=this.options,i=t.isFunction(s.helper),o=i?t(s.helper.apply(this.element[0],[e])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),s=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==s&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,s,i,o=this.options,n=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,t(n).width()-this.helperProportions.width-this.margins.left,(t(n).height()||n.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),s=t(o.containment),i=s[0],void(i&&(e=/(scroll|auto)/.test(s.css("overflow")),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s))):void(this.containment=null)},_convertPositionTo:function(t,e){e||(e=this.position);var s="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i,o,n,r=this.options,l=this._isRootNode(this.scrollParent[0]),a=t.pageX,h=t.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(a=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(a=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-r.grid[1]:o+r.grid[1]:o,n=r.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,a=s?n-this.offset.click.left>=s[0]||n-this.offset.click.left>s[2]?n:n-this.offset.click.left>=s[0]?n-r.grid[0]:n+r.grid[0]:n),"y"===r.axis&&(a=this.originalPageX),"x"===r.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,s,i){return i=i||this._uiHash(),t.ui.plugin.call(this,e,[s,i,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,s,i){var o=t.extend({},s,{item:i.element});i.sortables=[],t(i.options.connectToSortable).each(function(){var s=t(this).sortable("instance");s&&!s.options.disabled&&(i.sortables.push(s),s.refreshPositions(),s._trigger("activate",e,o))})},stop:function(e,s,i){var o=t.extend({},s,{item:i.element});i.cancelHelperRemoval=!1,t.each(i.sortables,function(){var t=this;t.isOver?(t.isOver=0,i.cancelHelperRemoval=!0,t.cancelHelperRemoval=!1,t._storedCSS={position:t.placeholder.css("position"),top:t.placeholder.css("top"),left:t.placeholder.css("left")},t._mouseStop(e),t.options.helper=t.options._helper):(t.cancelHelperRemoval=!0,t._trigger("deactivate",e,o))})},drag:function(e,s,i){t.each(i.sortables,function(){var o=!1,n=this;n.positionAbs=i.positionAbs,n.helperProportions=i.helperProportions,n.offset.click=i.offset.click,n._intersectsWith(n.containerCache)&&(o=!0,t.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==n&&this._intersectsWith(this.containerCache)&&t.contains(n.element[0],this.element[0])&&(o=!1),o})),o?(n.isOver||(n.isOver=1,i._parent=s.helper.parent(),n.currentItem=s.helper.appendTo(n.element).data("ui-sortable-item",!0),n.options._helper=n.options.helper,n.options.helper=function(){return s.helper[0]},e.target=n.currentItem[0],n._mouseCapture(e,!0),n._mouseStart(e,!0,!0),n.offset.click.top=i.offset.click.top,n.offset.click.left=i.offset.click.left,n.offset.parent.left-=i.offset.parent.left-n.offset.parent.left,n.offset.parent.top-=i.offset.parent.top-n.offset.parent.top,i._trigger("toSortable",e),i.dropped=n.element,t.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,n.fromOutside=i),n.currentItem&&(n._mouseDrag(e),s.position=n.position)):n.isOver&&(n.isOver=0,n.cancelHelperRemoval=!0,n.options._revert=n.options.revert,n.options.revert=!1,n._trigger("out",e,n._uiHash(n)),n._mouseStop(e,!0),n.options.revert=n.options._revert,n.options.helper=n.options._helper,n.placeholder&&n.placeholder.remove(),s.helper.appendTo(i._parent),i._refreshOffsets(e),s.position=i._generatePosition(e,!0),i._trigger("fromSortable",e),i.dropped=!1,t.each(i.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,s,i){var o=t("body"),n=i.options;o.css("cursor")&&(n._cursor=o.css("cursor")),o.css("cursor",n.cursor)},stop:function(e,s,i){var o=i.options;o._cursor&&t("body").css("cursor",o._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("opacity")&&(n._opacity=o.css("opacity")),o.css("opacity",n.opacity)},stop:function(e,s,i){var o=i.options;o._opacity&&t(s.helper).css("opacity",o._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(e,s,i){var o=i.options,n=!1,r=i.scrollParentNotHidden[0],l=i.document[0];r!==l&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+r.offsetHeight-e.pageY<o.scrollSensitivity?r.scrollTop=n=r.scrollTop+o.scrollSpeed:e.pageY-i.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=n=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+r.offsetWidth-e.pageX<o.scrollSensitivity?r.scrollLeft=n=r.scrollLeft+o.scrollSpeed:e.pageX-i.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=n=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(e.pageY-t(l).scrollTop()<o.scrollSensitivity?n=t(l).scrollTop(t(l).scrollTop()-o.scrollSpeed):t(window).height()-(e.pageY-t(l).scrollTop())<o.scrollSensitivity&&(n=t(l).scrollTop(t(l).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(e.pageX-t(l).scrollLeft()<o.scrollSensitivity?n=t(l).scrollLeft(t(l).scrollLeft()-o.scrollSpeed):t(window).width()-(e.pageX-t(l).scrollLeft())<o.scrollSensitivity&&(n=t(l).scrollLeft(t(l).scrollLeft()+o.scrollSpeed)))),n!==!1&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,s,i){var o=i.options;i.snapElements=[],t(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var e=t(this),s=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:s.top,left:s.left})})},drag:function(e,s,i){var o,n,r,l,a,h,p,c,f,d,g=i.options,u=g.snapTolerance,m=s.offset.left,v=m+i.helperProportions.width,_=s.offset.top,P=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)a=i.snapElements[f].left-i.margins.left,h=a+i.snapElements[f].width,p=i.snapElements[f].top-i.margins.top,c=p+i.snapElements[f].height,v<a-u||m>h+u||P<p-u||_>c+u||!t.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==g.snapMode&&(o=Math.abs(p-P)<=u,n=Math.abs(c-_)<=u,r=Math.abs(a-v)<=u,l=Math.abs(h-m)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h}).left)),d=o||n||r||l,"outer"!==g.snapMode&&(o=Math.abs(p-_)<=u,n=Math.abs(c-P)<=u,r=Math.abs(a-m)<=u,l=Math.abs(h-v)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p,left:0}).top),n&&(s.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),r&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(o||n||r||l||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,e,t.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=o||n||r||l||d)}}),t.ui.plugin.add("draggable","stack",{start:function(e,s,i){var o,n=i.options,r=t.makeArray(t(n.stack)).sort(function(e,s){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(s).css("zIndex"),10)||0)});r.length&&(o=parseInt(t(r[0]).css("zIndex"),10)||0,t(r).each(function(e){t(this).css("zIndex",o+e)}),this.css("zIndex",o+r.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,s,i){var o=t(s.helper),n=i.options;o.css("zIndex")&&(n._zIndex=o.css("zIndex")),o.css("zIndex",n.zIndex)},stop:function(e,s,i){var o=i.options;o._zIndex&&t(s.helper).css("zIndex",o._zIndex)}}),t.ui.draggable});
},{}],"jquery-ui/ui/widgets/mouse":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery","../ie","../version","../widget"],e):e(jQuery)}(function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(i){if(!0===e.data(i.target,t.widgetName+".preventClickEvent"))return e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var s=this,o=1===i.which,n=!("string"!=typeof this.options.cancel||!i.target.nodeName)&&e(i.target).closest(this.options.cancel).length;return!(o&&!n&&this._mouseCapture(i))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===e.data(i.target,this.widgetName+".preventClickEvent")&&e.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),t=!0,!0))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(i){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,i.target===this._mouseDownEvent.target&&e.data(i.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(i)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,i.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})});
},{}],"jquery-ui/ui/widgets/sortable":[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./mouse","../data","../ie","../scroll-parent","../version","../widget"],t):t(jQuery)}(function(t){return t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var s=null,o=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,r.widgetName+"-item")===r)return s=t(this),!1}),t.data(e.target,r.widgetName+"-item")===r&&(s=t(e.target)),!!s&&(!(this.options.handle&&!i&&(t(this.options.handle,s).find("*").addBack().each(function(){this===e.target&&(o=!0)}),!o))&&(this.currentItem=s,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,s){var o,r,n=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),n.containment&&this._setContainment(),n.cursor&&"auto"!==n.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",n.cursor),this.storedStylesheet=t("<style>*{ cursor: "+n.cursor+" !important; }</style>").appendTo(r)),n.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",n.opacity)),n.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",n.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!s)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,s,o,r,n=this.options,h=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-this.overflowOffset.top<n.scrollSensitivity&&(this.scrollParent[0].scrollTop=h=this.scrollParent[0].scrollTop-n.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-this.overflowOffset.left<n.scrollSensitivity&&(this.scrollParent[0].scrollLeft=h=this.scrollParent[0].scrollLeft-n.scrollSpeed)):(e.pageY-this.document.scrollTop()<n.scrollSensitivity?h=this.document.scrollTop(this.document.scrollTop()-n.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<n.scrollSensitivity&&(h=this.document.scrollTop(this.document.scrollTop()+n.scrollSpeed)),e.pageX-this.document.scrollLeft()<n.scrollSensitivity?h=this.document.scrollLeft(this.document.scrollLeft()-n.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<n.scrollSensitivity&&(h=this.document.scrollLeft(this.document.scrollLeft()+n.scrollSpeed))),h!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=this.items[i],o=s.item[0],r=this._intersectsWithPointer(s),r&&s.instance===this.currentContainer&&!(o===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===o||t.contains(this.placeholder[0],o)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],o))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(s))break;this._rearrange(e,s),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var s=this,o=this.placeholder.offset(),r=this.options.axis,n={};r&&"x"!==r||(n.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(n.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(n,parseInt(this.options.revert,10)||500,function(){s._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&s.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!s.length&&e.key&&s.push(e.key+"="),s.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),s=[];return e=e||{},i.each(function(){s.push(t(e.item||this).attr(e.attribute||"id")||"")}),s},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,s=this.positionAbs.top,o=s+this.helperProportions.height,r=t.left,n=r+t.width,h=t.top,a=h+t.height,l=this.offset.click.top,c=this.offset.click.left,p="x"===this.options.axis||s+l>h&&s+l<a,f="y"===this.options.axis||e+c>r&&e+c<n,u=p&&f;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?u:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<n&&h<s+this.helperProportions.height/2&&o-this.helperProportions.height/2<a},_intersectsWithPointer:function(t){var e,i,s="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),o="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width),r=s&&o;return!!r&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:s&&("down"===s&&e||"up"===s&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){function i(){h.push(this)}var s,o,r,n,h=[],a=[],l=this._connectWith();if(l&&e)for(s=l.length-1;s>=0;s--)for(r=t(l[s],this.document[0]),o=r.length-1;o>=0;o--)n=t.data(r[o],this.widgetFullName),n&&n!==this&&!n.options.disabled&&a.push([t.isFunction(n.options.items)?n.options.items.call(n.element):t(n.options.items,n.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),n]);for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),s=a.length-1;s>=0;s--)a[s][0].each(i);return t(h)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,s,o,r,n,h,a,l,c=this.items,p=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],f=this._connectWith();if(f&&this.ready)for(i=f.length-1;i>=0;i--)for(o=t(f[i],this.document[0]),s=o.length-1;s>=0;s--)r=t.data(o[s],this.widgetFullName),r&&r!==this&&!r.options.disabled&&(p.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(i=p.length-1;i>=0;i--)for(n=p[i][1],h=p[i][0],s=0,l=h.length;s<l;s++)a=t(h[s]),a.data(this.widgetName+"-item",n),c.push({item:a,instance:n,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,s,o,r;for(i=this.items.length-1;i>=0;i--)s=this.items[i],s.instance!==this.currentContainer&&this.currentContainer&&s.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?t(this.options.toleranceElement,s.item):s.item,e||(s.width=o.outerWidth(),s.height=o.outerHeight()),r=o.offset(),s.left=r.left,s.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,s=e.options;s.placeholder&&s.placeholder.constructor!==String||(i=s.placeholder,s.placeholder={element:function(){var s=e.currentItem[0].nodeName.toLowerCase(),o=t("<"+s+">",e.document[0]);return e._addClass(o,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(o,"ui-sortable-helper"),"tbody"===s?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(o)):"tr"===s?e._createTrPlaceholder(e.currentItem,o):"img"===s&&o.attr("src",e.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(t,o){i&&!s.forcePlaceholderSize||(o.height()||o.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(s.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),s.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var s=this;e.children().each(function(){t("<td>&#160;</td>",s.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,s,o,r,n,h,a,l,c,p,f=null,u=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(f&&t.contains(this.containers[i].element[0],f.element[0]))continue;f=this.containers[i],u=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[u].containerCache.over||(this.containers[u]._trigger("over",e,this._uiHash(this)),this.containers[u].containerCache.over=1);else{for(o=1e4,r=null,c=f.floating||this._isFloating(this.currentItem),n=c?"left":"top",h=c?"width":"height",p=c?"pageX":"pageY",s=this.items.length-1;s>=0;s--)t.contains(this.containers[u].element[0],this.items[s].item[0])&&this.items[s].item[0]!==this.currentItem[0]&&(a=this.items[s].item.offset()[n],l=!1,e[p]-a>this.items[s][h]/2&&(l=!0),Math.abs(e[p]-a)<o&&(o=Math.abs(e[p]-a),r=this.items[s],this.direction=l?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[u])return void(this.currentContainer.containerCache.over||(this.containers[u]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[u].element,!0),this._trigger("change",e,this._uiHash()),this.containers[u]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[u],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[u]._trigger("over",e,this._uiHash(this)),this.containers[u].containerCache.over=1}},_createHelper:function(e){var i=this.options,s=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return s.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(s[0]),s[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),s[0].style.width&&!i.forceHelperSize||s.width(this.currentItem.width()),s[0].style.height&&!i.forceHelperSize||s.height(this.currentItem.height()),s},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,s,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),"document"!==o.containment&&"window"!==o.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(e=t(o.containment)[0],i=t(o.containment).offset(),s="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(s?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(s?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var s="absolute"===e?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:o.scrollTop())*s,left:i.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:o.scrollLeft())*s}},_generatePosition:function(e){var i,s,o=this.options,r=e.pageX,n=e.pageY,h="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(h[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(n=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(n=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((n-this.originalPageY)/o.grid[1])*o.grid[1],n=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,s=this.originalPageX+Math.round((r-this.originalPageX)/o.grid[0])*o.grid[0],r=this.containment?s-this.offset.click.left>=this.containment[0]&&s-this.offset.click.left<=this.containment[2]?s:s-this.offset.click.left>=this.containment[0]?s-o.grid[0]:s+o.grid[0]:s)),{top:n-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:h.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:h.scrollLeft())}},_rearrange:function(t,e,i,s){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!s)})},_clear:function(t,e){function i(t,e,i){return function(s){i._trigger(t,s,e._uiHash(e))}}this.reverting=!1;var s,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(s in this._storedCSS)"auto"!==this._storedCSS[s]&&"static"!==this._storedCSS[s]||(this._storedCSS[s]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&o.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||o.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(o.push(function(t){this._trigger("remove",t,this._uiHash())}),o.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),s=this.containers.length-1;s>=0;s--)e||o.push(i("deactivate",this,this.containers[s])),this.containers[s].containerCache.over&&(o.push(i("out",this,this.containers[s])),this.containers[s].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(s=0;s<o.length;s++)o[s].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})});
},{}],"jquery-ui/ui/widget":[function(require,module,exports){
!function(t){"function"==typeof define&&define.amd?define(["jquery","./version"],t):t(jQuery)}(function(t){var e=0,i=Array.prototype.slice;return t.cleanData=function(e){return function(i){var s,n,o;for(o=0;null!=(n=i[o]);o++)try{s=t._data(n,"events"),s&&s.remove&&t(n).triggerHandler("remove")}catch(a){}e(i)}}(t.cleanData),t.widget=function(e,i,s){var n,o,a,r={},l=e.split(".")[0];e=e.split(".")[1];var u=l+"-"+e;return s||(s=i,i=t.Widget),t.isArray(s)&&(s=t.extend.apply(null,[{}].concat(s))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},n=t[l][e],o=t[l][e]=function(t,e){return this._createWidget?void(arguments.length&&this._createWidget(t,e)):new o(t,e)},t.extend(o,n,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),a=new i,a.options=t.widget.extend({},a.options),t.each(s,function(e,s){return t.isFunction(s)?void(r[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function n(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,o=this._superApply;return this._super=t,this._superApply=n,e=s.apply(this,arguments),this._super=i,this._superApply=o,e}}()):void(r[e]=s)}),o.prototype=t.widget.extend(a,{widgetEventPrefix:n?a.widgetEventPrefix||e:e},r,{constructor:o,namespace:l,widgetName:e,widgetFullName:u}),n?(t.each(n._childConstructors,function(e,i){var s=i.prototype;t.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),t.widget.bridge(e,o),o},t.widget.extend=function(e){for(var s,n,o=i.call(arguments,1),a=0,r=o.length;a<r;a++)for(s in o[a])n=o[a][s],o[a].hasOwnProperty(s)&&void 0!==n&&(t.isPlainObject(n)?e[s]=t.isPlainObject(e[s])?t.widget.extend({},e[s],n):t.widget.extend({},n):e[s]=n);return e},t.widget.bridge=function(e,s){var n=s.prototype.widgetFullName||e;t.fn[e]=function(o){var a="string"==typeof o,r=i.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var i,s=t.data(this,n);return"instance"===o?(l=s,!1):s?t.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r),i!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):t.error("no such method '"+o+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(r.length&&(o=t.widget.extend.apply(null,[o].concat(r))),this.each(function(){var e=t.data(this,n);e?(e.option(o||{}),e._init&&e._init()):t.data(this,n,new s(o,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(i,s){s=t(s||this.defaultElement||this)[0],this.element=t(s),this.uuid=e++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},s!==this&&(t.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=t(s.style?s.ownerDocument:s.document||s),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),i),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var s,n,o,a=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(a={},s=e.split("."),e=s.shift(),s.length){for(n=a[e]=t.widget.extend({},this.options[e]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(e=s.pop(),1===arguments.length)return void 0===n[e]?null:n[e];n[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];a[e]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,s,n;for(i in e)n=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&n&&n.length&&(s=t(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){function i(i,o){var a,r;for(r=0;r<i.length;r++)a=n.classesElementLookup[i[r]]||t(),a=t(e.add?t.unique(a.get().concat(e.element.get())):a.not(e.element).get()),n.classesElementLookup[i[r]]=a,s.push(i[r]),o&&e.classes[i[r]]&&s.push(e.classes[i[r]])}var s=[],n=this;return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&i(e.keys.match(/\S+/g)||[],!0),e.extra&&i(e.extra.match(/\S+/g)||[]),s.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(s,n){t.inArray(e.target,n)!==-1&&(i.classesElementLookup[s]=t(n.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(e,i,s){var n,o=this;"boolean"!=typeof e&&(s=i,i=e,e=!1),s?(i=n=t(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),t.each(s,function(s,a){function r(){if(e||o.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||t.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?n.on(u,h,r):i.on(u,r)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){function i(){return("string"==typeof t?s[t]:t).apply(s,arguments)}var s=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,s){var n,o,a=this.options[e];if(s=s||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(s))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(s,n,o){"string"==typeof n&&(n={effect:n});var a,r=n?n===!0||"number"==typeof n?i:n.effect||i:e;n=n||{},"number"==typeof n&&(n={duration:n}),a=!t.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&t.effects&&t.effects.effect[r]?s[e](n):r!==e&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){t(this)[e](),o&&o.call(s[0]),i()})}}),t.widget});
},{}],"jquery.cookie":[function(require,module,exports){
!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function o(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function r(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return e=decodeURIComponent(e.replace(c," ")),u.json?JSON.parse(e):e}catch(n){}}function t(n,o){var i=u.raw?n:r(n);return e.isFunction(o)?o(i):i}var c=/\+/g,u=e.cookie=function(r,c,f){if(void 0!==c&&!e.isFunction(c)){if(f=e.extend({},u.defaults,f),"number"==typeof f.expires){var a=f.expires,d=f.expires=new Date;d.setTime(+d+864e5*a)}return document.cookie=[n(r),"=",i(c),f.expires?"; expires="+f.expires.toUTCString():"",f.path?"; path="+f.path:"",f.domain?"; domain="+f.domain:"",f.secure?"; secure":""].join("")}for(var p=r?void 0:{},s=document.cookie?document.cookie.split("; "):[],m=0,x=s.length;m<x;m++){var v=s[m].split("="),k=o(v.shift()),l=v.join("=");if(r&&r===k){p=t(l,c);break}r||void 0===(l=t(l))||(p[k]=l)}return p};u.defaults={},e.removeCookie=function(n,o){return void 0!==e.cookie(n)&&(e.cookie(n,"",e.extend({},o,{expires:-1})),!e.cookie(n))}});
},{"jquery":"jquery"}],"jquery":[function(require,module,exports){
!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){"use strict";function n(e,t,n){n=n||we;var r,i,o=n.createElement("script");if(o.text=e,t)for(r in Te)i=t[r]||t.getAttribute&&t.getAttribute(r),i&&o.setAttribute(r,i);n.head.appendChild(o).parentNode.removeChild(o)}function r(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?de[he.call(e)]||"object":typeof e}function i(e){var t=!!e&&"length"in e&&e.length,n=r(e);return!xe(e)&&!be(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}function o(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}function a(e,t,n){return xe(t)?Ee.grep(e,function(e,r){return!!t.call(e,r,e)!==n}):t.nodeType?Ee.grep(e,function(e){return e===t!==n}):"string"!=typeof t?Ee.grep(e,function(e){return pe.call(t,e)>-1!==n}):Ee.filter(t,e,n)}function s(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function u(e){var t={};return Ee.each(e.match(Pe)||[],function(e,n){t[n]=!0}),t}function l(e){return e}function c(e){throw e}function f(e,t,n,r){var i;try{e&&xe(i=e.promise)?i.call(e).done(t).fail(n):e&&xe(i=e.then)?i.call(e,t,n):t.apply(void 0,[e].slice(r))}catch(e){n.apply(void 0,[e])}}function p(){we.removeEventListener("DOMContentLoaded",p),e.removeEventListener("load",p),Ee.ready()}function d(e,t){return t.toUpperCase()}function h(e){return e.replace(We,"ms-").replace(Fe,d)}function g(){this.expando=Ee.expando+g.uid++}function v(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ze.test(e)?JSON.parse(e):e)}function y(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(Ue,"-$&").toLowerCase(),n=e.getAttribute(r),"string"==typeof n){try{n=v(n)}catch(i){}_e.set(e,t,n)}else n=void 0;return n}function m(e,t,n,r){var i,o,a=20,s=r?function(){return r.cur()}:function(){return Ee.css(e,t,"")},u=s(),l=n&&n[3]||(Ee.cssNumber[t]?"":"px"),c=e.nodeType&&(Ee.cssNumber[t]||"px"!==l&&+u)&&Ve.exec(Ee.css(e,t));if(c&&c[3]!==l){for(u/=2,l=l||c[3],c=+u||1;a--;)Ee.style(e,t,c+l),(1-o)*(1-(o=s()/u||.5))<=0&&(a=0),c/=o;c=2*c,Ee.style(e,t,c+l),n=n||[]}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}function x(e){var t,n=e.ownerDocument,r=e.nodeName,i=Ze[r];return i?i:(t=n.body.appendChild(n.createElement(r)),i=Ee.css(t,"display"),t.parentNode.removeChild(t),"none"===i&&(i="block"),Ze[r]=i,i)}function b(e,t){for(var n,r,i=[],o=0,a=e.length;o<a;o++)r=e[o],r.style&&(n=r.style.display,t?("none"===n&&(i[o]=$e.get(r,"display")||null,i[o]||(r.style.display="")),""===r.style.display&&Ke(r)&&(i[o]=x(r))):"none"!==n&&(i[o]="none",$e.set(r,"display",n)));for(o=0;o<a;o++)null!=i[o]&&(e[o].style.display=i[o]);return e}function w(e,t){var n;return n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t||"*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&o(e,t)?Ee.merge([e],n):n}function T(e,t){for(var n=0,r=e.length;n<r;n++)$e.set(e[n],"globalEval",!t||$e.get(t[n],"globalEval"))}function C(e,t,n,i,o){for(var a,s,u,l,c,f,p=t.createDocumentFragment(),d=[],h=0,g=e.length;h<g;h++)if(a=e[h],a||0===a)if("object"===r(a))Ee.merge(d,a.nodeType?[a]:a);else if(it.test(a)){for(s=s||p.appendChild(t.createElement("div")),u=(tt.exec(a)||["",""])[1].toLowerCase(),l=rt[u]||rt._default,s.innerHTML=l[1]+Ee.htmlPrefilter(a)+l[2],f=l[0];f--;)s=s.lastChild;Ee.merge(d,s.childNodes),s=p.firstChild,s.textContent=""}else d.push(t.createTextNode(a));for(p.textContent="",h=0;a=d[h++];)if(i&&Ee.inArray(a,i)>-1)o&&o.push(a);else if(c=Qe(a),s=w(p.appendChild(a),"script"),c&&T(s),n)for(f=0;a=s[f++];)nt.test(a.type||"")&&n.push(a);return p}function E(){return!0}function S(){return!1}function k(e,t){return e===A()==("focus"===t)}function A(){try{return we.activeElement}catch(e){}}function N(e,t,n,r,i,o){var a,s;if("object"==typeof t){"string"!=typeof n&&(r=r||n,n=void 0);for(s in t)N(e,s,n,r,t[s],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),i===!1)i=S;else if(!i)return e;return 1===o&&(a=i,i=function(e){return Ee().off(e),a.apply(this,arguments)},i.guid=a.guid||(a.guid=Ee.guid++)),e.each(function(){Ee.event.add(this,t,i,r,n)})}function j(e,t,n){return n?($e.set(e,t,!1),void Ee.event.add(e,t,{namespace:!1,handler:function(e){var r,i,o=$e.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(Ee.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=le.call(arguments),$e.set(this,t,o),r=n(this,t),this[t](),i=$e.get(this,t),o!==i||r?$e.set(this,t,!1):i={},o!==i)return e.stopImmediatePropagation(),e.preventDefault(),i&&i.value}else o.length&&($e.set(this,t,{value:Ee.event.trigger(Ee.extend(o[0],Ee.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void(void 0===$e.get(e,t)&&Ee.event.add(e,t,E))}function D(e,t){return o(e,"table")&&o(11!==t.nodeType?t:t.firstChild,"tr")?Ee(e).children("tbody")[0]||e:e}function q(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function L(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function H(e,t){var n,r,i,o,a,s,u;if(1===t.nodeType){if($e.hasData(e)&&(o=$e.get(e),u=o.events)){$e.remove(t,"handle events");for(i in u)for(n=0,r=u[i].length;n<r;n++)Ee.event.add(t,i,u[i][n])}_e.hasData(e)&&(a=_e.access(e),s=Ee.extend({},a),_e.set(t,s))}}function O(e,t){var n=t.nodeName.toLowerCase();"input"===n&&et.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function P(e,t,r,i){t=ce(t);var o,a,s,u,l,c,f=0,p=e.length,d=p-1,h=t[0],g=xe(h);if(g||p>1&&"string"==typeof h&&!me.checkClone&&st.test(h))return e.each(function(n){var o=e.eq(n);g&&(t[0]=h.call(this,n,o.html())),P(o,t,r,i)});if(p&&(o=C(t,e[0].ownerDocument,!1,e,i),a=o.firstChild,1===o.childNodes.length&&(o=a),a||i)){for(s=Ee.map(w(o,"script"),q),u=s.length;f<p;f++)l=o,f!==d&&(l=Ee.clone(l,!0,!0),u&&Ee.merge(s,w(l,"script"))),r.call(e[f],l,f);if(u)for(c=s[s.length-1].ownerDocument,Ee.map(s,L),f=0;f<u;f++)l=s[f],nt.test(l.type||"")&&!$e.access(l,"globalEval")&&Ee.contains(c,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?Ee._evalUrl&&!l.noModule&&Ee._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},c):n(l.textContent.replace(ut,""),l,c))}return e}function R(e,t,n){for(var r,i=t?Ee.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||Ee.cleanData(w(r)),r.parentNode&&(n&&Qe(r)&&T(w(r,"script")),r.parentNode.removeChild(r));return e}function M(e,t,n){var r,i,o,a,s=e.style;return n=n||ct(e),n&&(a=n.getPropertyValue(t)||n[t],""!==a||Qe(e)||(a=Ee.style(e,t)),!me.pixelBoxStyles()&&lt.test(a)&&pt.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function I(e,t){return{get:function(){return e()?void delete this.get:(this.get=t).apply(this,arguments)}}}function W(e){for(var t=e[0].toUpperCase()+e.slice(1),n=dt.length;n--;)if(e=dt[n]+t,e in ht)return e}function F(e){var t=Ee.cssProps[e]||gt[e];return t?t:e in ht?e:gt[e]=W(e)||e}function B(e,t,n){var r=Ve.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function $(e,t,n,r,i,o){var a="width"===t?1:0,s=0,u=0;if(n===(r?"border":"content"))return 0;for(;a<4;a+=2)"margin"===n&&(u+=Ee.css(e,n+Ge[a],!0,i)),r?("content"===n&&(u-=Ee.css(e,"padding"+Ge[a],!0,i)),"margin"!==n&&(u-=Ee.css(e,"border"+Ge[a]+"Width",!0,i))):(u+=Ee.css(e,"padding"+Ge[a],!0,i),"padding"!==n?u+=Ee.css(e,"border"+Ge[a]+"Width",!0,i):s+=Ee.css(e,"border"+Ge[a]+"Width",!0,i));return!r&&o>=0&&(u+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-u-s-.5))||0),u}function _(e,t,n){var r=ct(e),i=!me.boxSizingReliable()||n,a=i&&"border-box"===Ee.css(e,"boxSizing",!1,r),s=a,u=M(e,t,r),l="offset"+t[0].toUpperCase()+t.slice(1);if(lt.test(u)){if(!n)return u;u="auto"}return(!me.boxSizingReliable()&&a||!me.reliableTrDimensions()&&o(e,"tr")||"auto"===u||!parseFloat(u)&&"inline"===Ee.css(e,"display",!1,r))&&e.getClientRects().length&&(a="border-box"===Ee.css(e,"boxSizing",!1,r),s=l in e,s&&(u=e[l])),u=parseFloat(u)||0,u+$(e,t,n||(a?"border":"content"),s,r,u)+"px"}function z(e,t,n,r,i){return new z.prototype.init(e,t,n,r,i)}function U(){wt&&(we.hidden===!1&&e.requestAnimationFrame?e.requestAnimationFrame(U):e.setTimeout(U,Ee.fx.interval),Ee.fx.tick())}function X(){return e.setTimeout(function(){bt=void 0}),bt=Date.now()}function V(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)n=Ge[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function G(e,t,n){for(var r,i=(J.tweeners[t]||[]).concat(J.tweeners["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Y(e,t,n){var r,i,o,a,s,u,l,c,f="width"in t||"height"in t,p=this,d={},h=e.style,g=e.nodeType&&Ke(e),v=$e.get(e,"fxshow");n.queue||(a=Ee._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,s=a.empty.fire,a.empty.fire=function(){a.unqueued||s()}),a.unqueued++,p.always(function(){p.always(function(){a.unqueued--,Ee.queue(e,"fx").length||a.empty.fire()})}));for(r in t)if(i=t[r],Tt.test(i)){if(delete t[r],o=o||"toggle"===i,i===(g?"hide":"show")){if("show"!==i||!v||void 0===v[r])continue;g=!0}d[r]=v&&v[r]||Ee.style(e,r)}if(u=!Ee.isEmptyObject(t),u||!Ee.isEmptyObject(d)){f&&1===e.nodeType&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],l=v&&v.display,null==l&&(l=$e.get(e,"display")),c=Ee.css(e,"display"),"none"===c&&(l?c=l:(b([e],!0),l=e.style.display||l,c=Ee.css(e,"display"),b([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===Ee.css(e,"float")&&(u||(p.done(function(){h.display=l}),null==l&&(c=h.display,l="none"===c?"":c)),h.display="inline-block")),n.overflow&&(h.overflow="hidden",p.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]})),u=!1;for(r in d)u||(v?"hidden"in v&&(g=v.hidden):v=$e.access(e,"fxshow",{display:l}),o&&(v.hidden=!g),g&&b([e],!0),p.done(function(){g||b([e]),$e.remove(e,"fxshow");for(r in d)Ee.style(e,r,d[r])})),u=G(g?v[r]:0,r,p),r in v||(v[r]=u.start,g&&(u.end=u.start,u.start=0))}}function Q(e,t){var n,r,i,o,a;for(n in e)if(r=h(n),i=t[r],o=e[n],Array.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),a=Ee.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete e[r];for(n in o)n in e||(e[n]=o[n],t[n]=i)}else t[r]=i}function J(e,t,n){var r,i,o=0,a=J.prefilters.length,s=Ee.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=bt||X(),n=Math.max(0,l.startTime+l.duration-t),r=n/l.duration||0,o=1-r,a=0,u=l.tweens.length;a<u;a++)l.tweens[a].run(o);return s.notifyWith(e,[l,o,n]),o<1&&u?n:(u||s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l]),!1)},l=s.promise({elem:e,props:Ee.extend({},t),opts:Ee.extend(!0,{specialEasing:{},easing:Ee.easing._default},n),originalProperties:t,originalOptions:n,startTime:bt||X(),duration:n.duration,tweens:[],createTween:function(t,n){var r=Ee.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(s.notifyWith(e,[l,1,0]),s.resolveWith(e,[l,t])):s.rejectWith(e,[l,t]),this}}),c=l.props;for(Q(c,l.opts.specialEasing);o<a;o++)if(r=J.prefilters[o].call(l,e,c,l.opts))return xe(r.stop)&&(Ee._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return Ee.map(c,G,l),xe(l.opts.start)&&l.opts.start.call(e,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),Ee.fx.timer(Ee.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l}function K(e){var t=e.match(Pe)||[];return t.join(" ")}function Z(e){return e.getAttribute&&e.getAttribute("class")||""}function ee(e){return Array.isArray(e)?e:"string"==typeof e?e.match(Pe)||[]:[]}function te(e,t,n,i){var o;if(Array.isArray(t))Ee.each(t,function(t,r){n||Ot.test(e)?i(e,r):te(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==r(t))i(e,t);else for(o in t)te(e+"["+o+"]",t[o],n,i)}function ne(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(Pe)||[];if(xe(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function re(e,t,n,r){function i(s){var u;return o[s]=!0,Ee.each(e[s]||[],function(e,s){var l=s(t,n,r);return"string"!=typeof l||a||o[l]?a?!(u=l):void 0:(t.dataTypes.unshift(l),i(l),!1)}),u}var o={},a=e===Xt;return i(t.dataTypes[0])||!o["*"]&&i("*")}function ie(e,t){var n,r,i=Ee.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&Ee.extend(!0,e,r),e}function oe(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}function ae(e,t,n,r){var i,o,a,s,u,l={},c=e.dataTypes.slice();if(c[1])for(a in e.converters)l[a.toLowerCase()]=e.converters[a];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(a=l[u+" "+o]||l["* "+o],!a)for(i in l)if(s=i.split(" "),s[1]===o&&(a=l[u+" "+s[0]]||l["* "+s[0]])){a===!0?a=l[i]:l[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&e["throws"])t=a(t);else try{t=a(t)}catch(f){return{state:"parsererror",error:a?f:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}var se=[],ue=Object.getPrototypeOf,le=se.slice,ce=se.flat?function(e){return se.flat.call(e)}:function(e){return se.concat.apply([],e)},fe=se.push,pe=se.indexOf,de={},he=de.toString,ge=de.hasOwnProperty,ve=ge.toString,ye=ve.call(Object),me={},xe=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType&&"function"!=typeof e.item},be=function(e){return null!=e&&e===e.window},we=e.document,Te={type:!0,src:!0,nonce:!0,noModule:!0},Ce="3.6.0",Ee=function(e,t){return new Ee.fn.init(e,t)};Ee.fn=Ee.prototype={jquery:Ce,constructor:Ee,length:0,toArray:function(){return le.call(this)},get:function(e){return null==e?le.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=Ee.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return Ee.each(this,e)},map:function(e){return this.pushStack(Ee.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(le.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(Ee.grep(this,function(e,t){return(t+1)%2}))},odd:function(){return this.pushStack(Ee.grep(this,function(e,t){return t%2}))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:fe,sort:se.sort,splice:se.splice},Ee.extend=Ee.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,l=!1;for("boolean"==typeof a&&(l=a,a=arguments[s]||{},s++),"object"==typeof a||xe(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)r=e[t],"__proto__"!==t&&a!==r&&(l&&r&&(Ee.isPlainObject(r)||(i=Array.isArray(r)))?(n=a[t],o=i&&!Array.isArray(n)?[]:i||Ee.isPlainObject(n)?n:{},i=!1,a[t]=Ee.extend(l,o,r)):void 0!==r&&(a[t]=r));return a},Ee.extend({expando:"jQuery"+(Ce+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==he.call(e))&&(!(t=ue(e))||(n=ge.call(t,"constructor")&&t.constructor,"function"==typeof n&&ve.call(n)===ye))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,r){n(e,{nonce:t&&t.nonce},r)},each:function(e,t){var n,r=0;if(i(e))for(n=e.length;r<n&&t.call(e[r],r,e[r])!==!1;r++);else for(r in e)if(t.call(e[r],r,e[r])===!1)break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?Ee.merge(n,"string"==typeof e?[e]:e):fe.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:pe.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r,i=[],o=0,a=e.length,s=!n;o<a;o++)r=!t(e[o],o),r!==s&&i.push(e[o]);return i},map:function(e,t,n){var r,o,a=0,s=[];if(i(e))for(r=e.length;a<r;a++)o=t(e[a],a,n),null!=o&&s.push(o);else for(a in e)o=t(e[a],a,n),null!=o&&s.push(o);return ce(s)},guid:1,support:me}),"function"==typeof Symbol&&(Ee.fn[Symbol.iterator]=se[Symbol.iterator]),Ee.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){de["[object "+t+"]"]=t.toLowerCase()});var Se=function(e){function t(e,t,n,r){var i,o,a,s,u,l,c,p=t&&t.ownerDocument,h=t?t.nodeType:9;if(n=n||[],"string"!=typeof e||!e||1!==h&&9!==h&&11!==h)return n;if(!r&&(L(t),t=t||H,P)){if(11!==h&&(u=xe.exec(e)))if(i=u[1]){if(9===h){if(!(a=t.getElementById(i)))return n;if(a.id===i)return n.push(a),n}else if(p&&(a=p.getElementById(i))&&W(t,a)&&a.id===i)return n.push(a),n}else{if(u[2])return Z.apply(n,t.getElementsByTagName(e)),n;if((i=u[3])&&T.getElementsByClassName&&t.getElementsByClassName)return Z.apply(n,t.getElementsByClassName(i)),n}if(T.qsa&&!V[e+" "]&&(!R||!R.test(e))&&(1!==h||"object"!==t.nodeName.toLowerCase())){if(c=e,p=t,1===h&&(fe.test(e)||ce.test(e))){for(p=be.test(e)&&f(t.parentNode)||t,p===t&&T.scope||((s=t.getAttribute("id"))?s=s.replace(Ce,Ee):t.setAttribute("id",s=F)),l=k(e),o=l.length;o--;)l[o]=(s?"#"+s:":scope")+" "+d(l[o]);c=l.join(",")}try{return Z.apply(n,p.querySelectorAll(c)),n}catch(g){V(e,!0)}finally{s===F&&t.removeAttribute("id")}}}return N(e.replace(ue,"$1"),t,n,r)}function n(){function e(n,r){return t.push(n+" ")>C.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[F]=!0,e}function i(e){var t=H.createElement("fieldset");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function o(e,t){for(var n=e.split("|"),r=n.length;r--;)C.attrHandle[n[r]]=t}function a(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function s(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function u(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function l(e){return function(t){return"form"in t?t.parentNode&&t.disabled===!1?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&ke(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function c(e){return r(function(t){return t=+t,r(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function f(e){return e&&"undefined"!=typeof e.getElementsByTagName&&e}function p(){}function d(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function h(e,t,n){var r=t.dir,i=t.next,o=i||r,a=n&&"parentNode"===o,s=_++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||a)return e(t,n,i);return!1}:function(t,n,u){var l,c,f,p=[$,s];if(u){for(;t=t[r];)if((1===t.nodeType||a)&&e(t,n,u))return!0}else for(;t=t[r];)if(1===t.nodeType||a)if(f=t[F]||(t[F]={}),c=f[t.uniqueID]||(f[t.uniqueID]={}),i&&i===t.nodeName.toLowerCase())t=t[r]||t;else{if((l=c[o])&&l[0]===$&&l[1]===s)return p[2]=l[2];if(c[o]=p,p[2]=e(t,n,u))return!0}return!1}}function g(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function v(e,n,r){for(var i=0,o=n.length;i<o;i++)t(e,n[i],r);return r}function y(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,l=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),l&&t.push(s)));return a}function m(e,t,n,i,o,a){return i&&!i[F]&&(i=m(i)),o&&!o[F]&&(o=m(o,a)),r(function(r,a,s,u){var l,c,f,p=[],d=[],h=a.length,g=r||v(t||"*",s.nodeType?[s]:s,[]),m=!e||!r&&t?g:y(g,p,e,s,u),x=n?o||(r?e:h||i)?[]:a:m;if(n&&n(m,x,s,u),i)for(l=y(x,d),i(l,[],s,u),c=l.length;c--;)(f=l[c])&&(x[d[c]]=!(m[d[c]]=f));if(r){if(o||e){if(o){for(l=[],c=x.length;c--;)(f=x[c])&&l.push(m[c]=f);o(null,x=[],l,u)}for(c=x.length;c--;)(f=x[c])&&(l=o?te(r,f):p[c])>-1&&(r[l]=!(a[l]=f))}}else x=y(x===a?x.splice(h,x.length):x),o?o(null,a,x,u):Z.apply(a,x)})}function x(e){for(var t,n,r,i=e.length,o=C.relative[e[0].type],a=o||C.relative[" "],s=o?1:0,u=h(function(e){return e===t},a,!0),l=h(function(e){return te(t,e)>-1},a,!0),c=[function(e,n,r){var i=!o&&(r||n!==j)||((t=n).nodeType?u(e,n,r):l(e,n,r));return t=null,i}];s<i;s++)if(n=C.relative[e[s].type])c=[h(g(c),n)];else{if(n=C.filter[e[s].type].apply(null,e[s].matches),n[F]){for(r=++s;r<i&&!C.relative[e[r].type];r++);return m(s>1&&g(c),s>1&&d(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(ue,"$1"),n,s<r&&x(e.slice(s,r)),r<i&&x(e=e.slice(r)),r<i&&d(e))}c.push(n)}return g(c)}function b(e,n){var i=n.length>0,o=e.length>0,a=function(r,a,s,u,l){var c,f,p,d=0,h="0",g=r&&[],v=[],m=j,x=r||o&&C.find.TAG("*",l),b=$+=null==m?1:Math.random()||.1,w=x.length;for(l&&(j=a==H||a||l);h!==w&&null!=(c=x[h]);h++){if(o&&c){for(f=0,a||c.ownerDocument==H||(L(c),s=!P);p=e[f++];)if(p(c,a||H,s)){u.push(c);break}l&&($=b)}i&&((c=!p&&c)&&d--,r&&g.push(c))}if(d+=h,i&&h!==d){for(f=0;p=n[f++];)p(g,v,a,s);if(r){if(d>0)for(;h--;)g[h]||v[h]||(v[h]=J.call(u));v=y(v)}Z.apply(u,v),l&&!r&&v.length>0&&d+n.length>1&&t.uniqueSort(u)}return l&&($=b,j=m),g};return i?r(a):a}var w,T,C,E,S,k,A,N,j,D,q,L,H,O,P,R,M,I,W,F="sizzle"+1*new Date,B=e.document,$=0,_=0,z=n(),U=n(),X=n(),V=n(),G=function(e,t){return e===t&&(q=!0),0},Y={}.hasOwnProperty,Q=[],J=Q.pop,K=Q.push,Z=Q.push,ee=Q.slice,te=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",re="[\\x20\\t\\r\\n\\f]",ie="(?:\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",oe="\\["+re+"*("+ie+")(?:"+re+"*([*^$|!~]?=)"+re+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+ie+"))|)"+re+"*\\]",ae=":("+ie+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+oe+")*)|.*)\\)|)",se=new RegExp(re+"+","g"),ue=new RegExp("^"+re+"+|((?:^|[^\\\\])(?:\\\\.)*)"+re+"+$","g"),le=new RegExp("^"+re+"*,"+re+"*"),ce=new RegExp("^"+re+"*([>+~]|"+re+")"+re+"*"),fe=new RegExp(re+"|>"),pe=new RegExp(ae),de=new RegExp("^"+ie+"$"),he={ID:new RegExp("^#("+ie+")"),CLASS:new RegExp("^\\.("+ie+")"),TAG:new RegExp("^("+ie+"|[*])"),ATTR:new RegExp("^"+oe),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+re+"*(even|odd|(([+-]|)(\\d*)n|)"+re+"*(?:([+-]|)"+re+"*(\\d+)|))"+re+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+re+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+re+"*((?:-\\d)?\\d*)"+re+"*\\)|)(?=[^-]|$)","i")},ge=/HTML$/i,ve=/^(?:input|select|textarea|button)$/i,ye=/^h\d$/i,me=/^[^{]+\{\s*\[native \w/,xe=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,be=/[+~]/,we=new RegExp("\\\\[\\da-fA-F]{1,6}"+re+"?|\\\\([^\\r\\n\\f])","g"),Te=function(e,t){var n="0x"+e.slice(1)-65536;return t?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},Ce=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,Ee=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},Se=function(){L()},ke=h(function(e){return e.disabled===!0&&"fieldset"===e.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{Z.apply(Q=ee.call(B.childNodes),B.childNodes),Q[B.childNodes.length].nodeType}catch(Ae){Z={apply:Q.length?function(e,t){K.apply(e,ee.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}T=t.support={},S=t.isXML=function(e){var t=e&&e.namespaceURI,n=e&&(e.ownerDocument||e).documentElement;return!ge.test(t||n&&n.nodeName||"HTML")},L=t.setDocument=function(e){var t,n,r=e?e.ownerDocument||e:B;return r!=H&&9===r.nodeType&&r.documentElement?(H=r,O=H.documentElement,P=!S(H),B!=H&&(n=H.defaultView)&&n.top!==n&&(n.addEventListener?n.addEventListener("unload",Se,!1):n.attachEvent&&n.attachEvent("onunload",Se)),T.scope=i(function(e){return O.appendChild(e).appendChild(H.createElement("div")),"undefined"!=typeof e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length}),T.attributes=i(function(e){return e.className="i",!e.getAttribute("className")}),T.getElementsByTagName=i(function(e){return e.appendChild(H.createComment("")),!e.getElementsByTagName("*").length}),T.getElementsByClassName=me.test(H.getElementsByClassName),T.getById=i(function(e){return O.appendChild(e).id=F,!H.getElementsByName||!H.getElementsByName(F).length}),T.getById?(C.filter.ID=function(e){var t=e.replace(we,Te);return function(e){return e.getAttribute("id")===t}},C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n=t.getElementById(e);return n?[n]:[]}}):(C.filter.ID=function(e){var t=e.replace(we,Te);return function(e){var n="undefined"!=typeof e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},C.find.ID=function(e,t){if("undefined"!=typeof t.getElementById&&P){var n,r,i,o=t.getElementById(e);if(o){if(n=o.getAttributeNode("id"),n&&n.value===e)return[o];for(i=t.getElementsByName(e),r=0;o=i[r++];)if(n=o.getAttributeNode("id"),n&&n.value===e)return[o]}return[]}}),C.find.TAG=T.getElementsByTagName?function(e,t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName(e):T.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=T.getElementsByClassName&&function(e,t){if("undefined"!=typeof t.getElementsByClassName&&P)return t.getElementsByClassName(e)},M=[],R=[],(T.qsa=me.test(H.querySelectorAll))&&(i(function(e){var t;O.appendChild(e).innerHTML="<a id='"+F+"'></a><select id='"+F+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&R.push("[*^$]="+re+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||R.push("\\["+re+"*(?:value|"+ne+")"),e.querySelectorAll("[id~="+F+"-]").length||R.push("~="),t=H.createElement("input"),t.setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||R.push("\\["+re+"*name"+re+"*="+re+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||R.push(":checked"),e.querySelectorAll("a#"+F+"+*").length||R.push(".#.+[+~]"),e.querySelectorAll("\\\f"),R.push("[\\r\\n\\f]")}),i(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=H.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&R.push("name"+re+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&R.push(":enabled",":disabled"),O.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&R.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),R.push(",.*:")})),(T.matchesSelector=me.test(I=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(e){T.disconnectedMatch=I.call(e,"*"),I.call(e,"[s!='']:x"),M.push("!=",ae)}),R=R.length&&new RegExp(R.join("|")),M=M.length&&new RegExp(M.join("|")),t=me.test(O.compareDocumentPosition),W=t||me.test(O.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=t?function(e,t){if(e===t)return q=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!T.sortDetached&&t.compareDocumentPosition(e)===n?e==H||e.ownerDocument==B&&W(B,e)?-1:t==H||t.ownerDocument==B&&W(B,t)?1:D?te(D,e)-te(D,t):0:4&n?-1:1)}:function(e,t){if(e===t)return q=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e==H?-1:t==H?1:i?-1:o?1:D?te(D,e)-te(D,t):0;if(i===o)return a(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?a(s[r],u[r]):s[r]==B?-1:u[r]==B?1:0},H):H},t.matches=function(e,n){return t(e,null,null,n)},t.matchesSelector=function(e,n){if(L(e),T.matchesSelector&&P&&!V[n+" "]&&(!M||!M.test(n))&&(!R||!R.test(n)))try{var r=I.call(e,n);if(r||T.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(i){V(n,!0)}return t(n,H,null,[e]).length>0},t.contains=function(e,t){return(e.ownerDocument||e)!=H&&L(e),W(e,t)},t.attr=function(e,t){(e.ownerDocument||e)!=H&&L(e);var n=C.attrHandle[t.toLowerCase()],r=n&&Y.call(C.attrHandle,t.toLowerCase())?n(e,t,!P):void 0;return void 0!==r?r:T.attributes||!P?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},t.escape=function(e){return(e+"").replace(Ce,Ee)},t.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},t.uniqueSort=function(e){var t,n=[],r=0,i=0;if(q=!T.detectDuplicates,D=!T.sortStable&&e.slice(0),e.sort(G),q){for(;t=e[i++];)t===e[i]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return D=null,e},E=t.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=E(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[r++];)n+=E(t);return n},C=t.selectors={cacheLength:50,createPseudo:r,match:he,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(we,Te),e[3]=(e[3]||e[4]||e[5]||"").replace(we,Te),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||t.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&t.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return he.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&pe.test(n)&&(t=k(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(we,Te).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=z[e+" "];return t||(t=new RegExp("(^|"+re+")"+e+"("+re+"|$)"))&&z(e,function(e){return t.test("string"==typeof e.className&&e.className||"undefined"!=typeof e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,n,r){return function(i){var o=t.attr(i,e);return null==o?"!="===n:!n||(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(se," ")+" ").indexOf(r)>-1:"|="===n&&(o===r||o.slice(0,r.length+1)===r+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==a?"nextSibling":"previousSibling",v=t.parentNode,y=s&&t.nodeName.toLowerCase(),m=!u&&!s,x=!1;if(v){if(o){for(;g;){for(p=t;p=p[g];)if(s?p.nodeName.toLowerCase()===y:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?v.firstChild:v.lastChild],a&&m){for(p=v,f=p[F]||(p[F]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),l=c[e]||[],d=l[0]===$&&l[1],x=d&&l[2],p=d&&v.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[$,d,x];break}}else if(m&&(p=t,f=p[F]||(p[F]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),
l=c[e]||[],d=l[0]===$&&l[1],x=d),x===!1)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((s?p.nodeName.toLowerCase()!==y:1!==p.nodeType)||!++x||(m&&(f=p[F]||(p[F]={}),c=f[p.uniqueID]||(f[p.uniqueID]={}),c[e]=[$,x]),p!==t)););return x-=i,x===r||x%r===0&&x/r>=0}}},PSEUDO:function(e,n){var i,o=C.pseudos[e]||C.setFilters[e.toLowerCase()]||t.error("unsupported pseudo: "+e);return o[F]?o(n):o.length>1?(i=[e,e,"",n],C.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,t){for(var r,i=o(e,n),a=i.length;a--;)r=te(e,i[a]),e[r]=!(t[r]=i[a])}):function(e){return o(e,0,i)}):o}},pseudos:{not:r(function(e){var t=[],n=[],i=A(e.replace(ue,"$1"));return i[F]?r(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:r(function(e){return function(n){return t(e,n).length>0}}),contains:r(function(e){return e=e.replace(we,Te),function(t){return(t.textContent||E(t)).indexOf(e)>-1}}),lang:r(function(e){return de.test(e||"")||t.error("unsupported lang: "+e),e=e.replace(we,Te).toLowerCase(),function(t){var n;do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:l(!1),disabled:l(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!C.pseudos.empty(e)},header:function(e){return ye.test(e.nodeName)},input:function(e){return ve.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:c(function(){return[0]}),last:c(function(e,t){return[t-1]}),eq:c(function(e,t,n){return[n<0?n+t:n]}),even:c(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:c(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:c(function(e,t,n){for(var r=n<0?n+t:n>t?t:n;--r>=0;)e.push(r);return e}),gt:c(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},C.pseudos.nth=C.pseudos.eq;for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[w]=s(w);for(w in{submit:!0,reset:!0})C.pseudos[w]=u(w);return p.prototype=C.filters=C.pseudos,C.setFilters=new p,k=t.tokenize=function(e,n){var r,i,o,a,s,u,l,c=U[e+" "];if(c)return n?0:c.slice(0);for(s=e,u=[],l=C.preFilter;s;){r&&!(i=le.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),r=!1,(i=ce.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(ue," ")}),s=s.slice(r.length));for(a in C.filter)!(i=he[a].exec(s))||l[a]&&!(i=l[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?t.error(e):U(e,u).slice(0)},A=t.compile=function(e,t){var n,r=[],i=[],o=X[e+" "];if(!o){for(t||(t=k(e)),n=t.length;n--;)o=x(t[n]),o[F]?r.push(o):i.push(o);o=X(e,b(i,r)),o.selector=e}return o},N=t.select=function(e,t,n,r){var i,o,a,s,u,l="function"==typeof e&&e,c=!r&&k(e=l.selector||e);if(n=n||[],1===c.length){if(o=c[0]=c[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&9===t.nodeType&&P&&C.relative[o[1].type]){if(t=(C.find.ID(a.matches[0].replace(we,Te),t)||[])[0],!t)return n;l&&(t=t.parentNode),e=e.slice(o.shift().value.length)}for(i=he.needsContext.test(e)?0:o.length;i--&&(a=o[i],!C.relative[s=a.type]);)if((u=C.find[s])&&(r=u(a.matches[0].replace(we,Te),be.test(o[0].type)&&f(t.parentNode)||t))){if(o.splice(i,1),e=r.length&&d(o),!e)return Z.apply(n,r),n;break}}return(l||A(e,c))(r,t,!P,n,!t||be.test(e)&&f(t.parentNode)||t),n},T.sortStable=F.split("").sort(G).join("")===F,T.detectDuplicates=!!q,L(),T.sortDetached=i(function(e){return 1&e.compareDocumentPosition(H.createElement("fieldset"))}),i(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||o("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),T.attributes&&i(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||o("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),i(function(e){return null==e.getAttribute("disabled")})||o(ne,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),t}(e);Ee.find=Se,Ee.expr=Se.selectors,Ee.expr[":"]=Ee.expr.pseudos,Ee.uniqueSort=Ee.unique=Se.uniqueSort,Ee.text=Se.getText,Ee.isXMLDoc=Se.isXML,Ee.contains=Se.contains,Ee.escapeSelector=Se.escape;var ke=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&Ee(e).is(n))break;r.push(e)}return r},Ae=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},Ne=Ee.expr.match.needsContext,je=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;Ee.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?Ee.find.matchesSelector(r,e)?[r]:[]:Ee.find.matches(e,Ee.grep(t,function(e){return 1===e.nodeType}))},Ee.fn.extend({find:function(e){var t,n,r=this.length,i=this;if("string"!=typeof e)return this.pushStack(Ee(e).filter(function(){for(t=0;t<r;t++)if(Ee.contains(i[t],this))return!0}));for(n=this.pushStack([]),t=0;t<r;t++)Ee.find(e,i[t],n);return r>1?Ee.uniqueSort(n):n},filter:function(e){return this.pushStack(a(this,e||[],!1))},not:function(e){return this.pushStack(a(this,e||[],!0))},is:function(e){return!!a(this,"string"==typeof e&&Ne.test(e)?Ee(e):e||[],!1).length}});var De,qe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Le=Ee.fn.init=function(e,t,n){var r,i;if(!e)return this;if(n=n||De,"string"==typeof e){if(r="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:qe.exec(e),!r||!r[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(r[1]){if(t=t instanceof Ee?t[0]:t,Ee.merge(this,Ee.parseHTML(r[1],t&&t.nodeType?t.ownerDocument||t:we,!0)),je.test(r[1])&&Ee.isPlainObject(t))for(r in t)xe(this[r])?this[r](t[r]):this.attr(r,t[r]);return this}return i=we.getElementById(r[2]),i&&(this[0]=i,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):xe(e)?void 0!==n.ready?n.ready(e):e(Ee):Ee.makeArray(e,this)};Le.prototype=Ee.fn,De=Ee(we);var He=/^(?:parents|prev(?:Until|All))/,Oe={children:!0,contents:!0,next:!0,prev:!0};Ee.fn.extend({has:function(e){var t=Ee(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(Ee.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,o=[],a="string"!=typeof e&&Ee(e);if(!Ne.test(e))for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Ee.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?Ee.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?pe.call(Ee(e),this[0]):pe.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(Ee.uniqueSort(Ee.merge(this.get(),Ee(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Ee.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ke(e,"parentNode")},parentsUntil:function(e,t,n){return ke(e,"parentNode",n)},next:function(e){return s(e,"nextSibling")},prev:function(e){return s(e,"previousSibling")},nextAll:function(e){return ke(e,"nextSibling")},prevAll:function(e){return ke(e,"previousSibling")},nextUntil:function(e,t,n){return ke(e,"nextSibling",n)},prevUntil:function(e,t,n){return ke(e,"previousSibling",n)},siblings:function(e){return Ae((e.parentNode||{}).firstChild,e)},children:function(e){return Ae(e.firstChild)},contents:function(e){return null!=e.contentDocument&&ue(e.contentDocument)?e.contentDocument:(o(e,"template")&&(e=e.content||e),Ee.merge([],e.childNodes))}},function(e,t){Ee.fn[e]=function(n,r){var i=Ee.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Ee.filter(r,i)),this.length>1&&(Oe[e]||Ee.uniqueSort(i),He.test(e)&&i.reverse()),this.pushStack(i)}});var Pe=/[^\x20\t\r\n\f]+/g;Ee.Callbacks=function(e){e="string"==typeof e?u(e):Ee.extend({},e);var t,n,i,o,a=[],s=[],l=-1,c=function(){for(o=o||e.once,i=t=!0;s.length;l=-1)for(n=s.shift();++l<a.length;)a[l].apply(n[0],n[1])===!1&&e.stopOnFalse&&(l=a.length,n=!1);e.memory||(n=!1),t=!1,o&&(a=n?[]:"")},f={add:function(){return a&&(n&&!t&&(l=a.length-1,s.push(n)),function i(t){Ee.each(t,function(t,n){xe(n)?e.unique&&f.has(n)||a.push(n):n&&n.length&&"string"!==r(n)&&i(n)})}(arguments),n&&!t&&c()),this},remove:function(){return Ee.each(arguments,function(e,t){for(var n;(n=Ee.inArray(t,a,n))>-1;)a.splice(n,1),n<=l&&l--}),this},has:function(e){return e?Ee.inArray(e,a)>-1:a.length>0},empty:function(){return a&&(a=[]),this},disable:function(){return o=s=[],a=n="",this},disabled:function(){return!a},lock:function(){return o=s=[],n||t||(a=n=""),this},locked:function(){return!!o},fireWith:function(e,n){return o||(n=n||[],n=[e,n.slice?n.slice():n],s.push(n),t||c()),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!i}};return f},Ee.extend({Deferred:function(t){var n=[["notify","progress",Ee.Callbacks("memory"),Ee.Callbacks("memory"),2],["resolve","done",Ee.Callbacks("once memory"),Ee.Callbacks("once memory"),0,"resolved"],["reject","fail",Ee.Callbacks("once memory"),Ee.Callbacks("once memory"),1,"rejected"]],r="pending",i={state:function(){return r},always:function(){return o.done(arguments).fail(arguments),this},"catch":function(e){return i.then(null,e)},pipe:function(){var e=arguments;return Ee.Deferred(function(t){Ee.each(n,function(n,r){var i=xe(e[r[4]])&&e[r[4]];o[r[1]](function(){var e=i&&i.apply(this,arguments);e&&xe(e.promise)?e.promise().progress(t.notify).done(t.resolve).fail(t.reject):t[r[0]+"With"](this,i?[e]:arguments)})}),e=null}).promise()},then:function(t,r,i){function o(t,n,r,i){return function(){var s=this,u=arguments,f=function(){var e,f;if(!(t<a)){if(e=r.apply(s,u),e===n.promise())throw new TypeError("Thenable self-resolution");f=e&&("object"==typeof e||"function"==typeof e)&&e.then,xe(f)?i?f.call(e,o(a,n,l,i),o(a,n,c,i)):(a++,f.call(e,o(a,n,l,i),o(a,n,c,i),o(a,n,l,n.notifyWith))):(r!==l&&(s=void 0,u=[e]),(i||n.resolveWith)(s,u))}},p=i?f:function(){try{f()}catch(e){Ee.Deferred.exceptionHook&&Ee.Deferred.exceptionHook(e,p.stackTrace),t+1>=a&&(r!==c&&(s=void 0,u=[e]),n.rejectWith(s,u))}};t?p():(Ee.Deferred.getStackHook&&(p.stackTrace=Ee.Deferred.getStackHook()),e.setTimeout(p))}}var a=0;return Ee.Deferred(function(e){n[0][3].add(o(0,e,xe(i)?i:l,e.notifyWith)),n[1][3].add(o(0,e,xe(t)?t:l)),n[2][3].add(o(0,e,xe(r)?r:c))}).promise()},promise:function(e){return null!=e?Ee.extend(e,i):i}},o={};return Ee.each(n,function(e,t){var a=t[2],s=t[5];i[t[1]]=a.add,s&&a.add(function(){r=s},n[3-e][2].disable,n[3-e][3].disable,n[0][2].lock,n[0][3].lock),a.add(t[3].fire),o[t[0]]=function(){return o[t[0]+"With"](this===o?void 0:this,arguments),this},o[t[0]+"With"]=a.fireWith}),i.promise(o),t&&t.call(o,o),o},when:function(e){var t=arguments.length,n=t,r=Array(n),i=le.call(arguments),o=Ee.Deferred(),a=function(e){return function(n){r[e]=this,i[e]=arguments.length>1?le.call(arguments):n,--t||o.resolveWith(r,i)}};if(t<=1&&(f(e,o.done(a(n)).resolve,o.reject,!t),"pending"===o.state()||xe(i[n]&&i[n].then)))return o.then();for(;n--;)f(i[n],a(n),o.reject);return o.promise()}});var Re=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;Ee.Deferred.exceptionHook=function(t,n){e.console&&e.console.warn&&t&&Re.test(t.name)&&e.console.warn("jQuery.Deferred exception: "+t.message,t.stack,n)},Ee.readyException=function(t){e.setTimeout(function(){throw t})};var Me=Ee.Deferred();Ee.fn.ready=function(e){return Me.then(e)["catch"](function(e){Ee.readyException(e)}),this},Ee.extend({isReady:!1,readyWait:1,ready:function(e){(e===!0?--Ee.readyWait:Ee.isReady)||(Ee.isReady=!0,e!==!0&&--Ee.readyWait>0||Me.resolveWith(we,[Ee]))}}),Ee.ready.then=Me.then,"complete"===we.readyState||"loading"!==we.readyState&&!we.documentElement.doScroll?e.setTimeout(Ee.ready):(we.addEventListener("DOMContentLoaded",p),e.addEventListener("load",p));var Ie=function(e,t,n,i,o,a,s){var u=0,l=e.length,c=null==n;if("object"===r(n)){o=!0;for(u in n)Ie(e,t,u,n[u],!0,a,s)}else if(void 0!==i&&(o=!0,xe(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(Ee(e),n)})),t))for(;u<l;u++)t(e[u],n,s?i:i.call(e[u],u,t(e[u],n)));return o?e:c?t.call(e):l?t(e[0],n):a},We=/^-ms-/,Fe=/-([a-z])/g,Be=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};g.uid=1,g.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Be(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[h(t)]=n;else for(r in t)i[h(r)]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][h(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r=e[this.expando];if(void 0!==r){if(void 0!==t){Array.isArray(t)?t=t.map(h):(t=h(t),t=t in r?[t]:t.match(Pe)||[]),n=t.length;for(;n--;)delete r[t[n]]}(void 0===t||Ee.isEmptyObject(r))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!Ee.isEmptyObject(t)}};var $e=new g,_e=new g,ze=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ue=/[A-Z]/g;Ee.extend({hasData:function(e){return _e.hasData(e)||$e.hasData(e)},data:function(e,t,n){return _e.access(e,t,n)},removeData:function(e,t){_e.remove(e,t)},_data:function(e,t,n){return $e.access(e,t,n)},_removeData:function(e,t){$e.remove(e,t)}}),Ee.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=_e.get(o),1===o.nodeType&&!$e.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=h(r.slice(5)),y(o,r,i[r])));$e.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){_e.set(this,e)}):Ie(this,function(t){var n;if(o&&void 0===t){if(n=_e.get(o,e),void 0!==n)return n;if(n=y(o,e),void 0!==n)return n}else this.each(function(){_e.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){_e.remove(this,e)})}}),Ee.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=$e.get(e,t),n&&(!r||Array.isArray(n)?r=$e.access(e,t,Ee.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=Ee.queue(e,t),r=n.length,i=n.shift(),o=Ee._queueHooks(e,t),a=function(){Ee.dequeue(e,t)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return $e.get(e,n)||$e.access(e,n,{empty:Ee.Callbacks("once memory").add(function(){$e.remove(e,[t+"queue",n])})})}}),Ee.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?Ee.queue(this[0],e):void 0===t?this:this.each(function(){var n=Ee.queue(this,e,t);Ee._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&Ee.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Ee.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=Ee.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)n=$e.get(o[a],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var Xe=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ve=new RegExp("^(?:([+-])=|)("+Xe+")([a-z%]*)$","i"),Ge=["Top","Right","Bottom","Left"],Ye=we.documentElement,Qe=function(e){return Ee.contains(e.ownerDocument,e)},Je={composed:!0};Ye.getRootNode&&(Qe=function(e){return Ee.contains(e.ownerDocument,e)||e.getRootNode(Je)===e.ownerDocument});var Ke=function(e,t){return e=t||e,"none"===e.style.display||""===e.style.display&&Qe(e)&&"none"===Ee.css(e,"display")},Ze={};Ee.fn.extend({show:function(){return b(this,!0)},hide:function(){return b(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){Ke(this)?Ee(this).show():Ee(this).hide()})}});var et=/^(?:checkbox|radio)$/i,tt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,nt=/^$|^module$|\/(?:java|ecma)script/i;!function(){var e=we.createDocumentFragment(),t=e.appendChild(we.createElement("div")),n=we.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),t.appendChild(n),me.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",me.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue,t.innerHTML="<option></option>",me.option=!!t.lastChild}();var rt={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};rt.tbody=rt.tfoot=rt.colgroup=rt.caption=rt.thead,rt.th=rt.td,me.option||(rt.optgroup=rt.option=[1,"<select multiple='multiple'>","</select>"]);var it=/<|&#?\w+;/,ot=/^([^.]*)(?:\.(.+)|)/;Ee.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=$e.get(e);if(Be(e))for(n.handler&&(o=n,n=o.handler,i=o.selector),i&&Ee.find.matchesSelector(Ye,i),n.guid||(n.guid=Ee.guid++),(u=v.events)||(u=v.events=Object.create(null)),(a=v.handle)||(a=v.handle=function(t){return"undefined"!=typeof Ee&&Ee.event.triggered!==t.type?Ee.event.dispatch.apply(e,arguments):void 0}),t=(t||"").match(Pe)||[""],l=t.length;l--;)s=ot.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d&&(f=Ee.event.special[d]||{},d=(i?f.delegateType:f.bindType)||d,f=Ee.event.special[d]||{},c=Ee.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Ee.expr.match.needsContext.test(i),namespace:h.join(".")},o),(p=u[d])||(p=u[d]=[],p.delegateCount=0,f.setup&&f.setup.call(e,r,h,a)!==!1||e.addEventListener&&e.addEventListener(d,a)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,c):p.push(c),Ee.event.global[d]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,l,c,f,p,d,h,g,v=$e.hasData(e)&&$e.get(e);if(v&&(u=v.events)){for(t=(t||"").match(Pe)||[""],l=t.length;l--;)if(s=ot.exec(t[l])||[],d=g=s[1],h=(s[2]||"").split(".").sort(),d){for(f=Ee.event.special[d]||{},d=(r?f.delegateType:f.bindType)||d,p=u[d]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=p.length;o--;)c=p[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(p.splice(o,1),c.selector&&p.delegateCount--,f.remove&&f.remove.call(e,c));a&&!p.length&&(f.teardown&&f.teardown.call(e,h,v.handle)!==!1||Ee.removeEvent(e,d,v.handle),delete u[d])}else for(d in u)Ee.event.remove(e,d+t[l],n,r,!0);Ee.isEmptyObject(u)&&$e.remove(e,"handle events")}},dispatch:function(e){var t,n,r,i,o,a,s=new Array(arguments.length),u=Ee.event.fix(e),l=($e.get(this,"events")||Object.create(null))[u.type]||[],c=Ee.event.special[u.type]||{};for(s[0]=u,t=1;t<arguments.length;t++)s[t]=arguments[t];if(u.delegateTarget=this,!c.preDispatch||c.preDispatch.call(this,u)!==!1){for(a=Ee.event.handlers.call(this,u,l),t=0;(i=a[t++])&&!u.isPropagationStopped();)for(u.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!u.isImmediatePropagationStopped();)u.rnamespace&&o.namespace!==!1&&!u.rnamespace.test(o.namespace)||(u.handleObj=o,u.data=o.data,r=((Ee.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(u.result=r)===!1&&(u.preventDefault(),u.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,u),u.result}},handlers:function(e,t){var n,r,i,o,a,s=[],u=t.delegateCount,l=e.target;if(u&&l.nodeType&&!("click"===e.type&&e.button>=1))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||l.disabled!==!0)){for(o=[],a={},n=0;n<u;n++)r=t[n],i=r.selector+" ",void 0===a[i]&&(a[i]=r.needsContext?Ee(i,this).index(l)>-1:Ee.find(i,this,null,[l]).length),a[i]&&o.push(r);o.length&&s.push({elem:l,handlers:o})}return l=this,u<t.length&&s.push({elem:l,handlers:t.slice(u)}),s},addProp:function(e,t){Object.defineProperty(Ee.Event.prototype,e,{enumerable:!0,configurable:!0,get:xe(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[Ee.expando]?e:new Ee.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return et.test(t.type)&&t.click&&o(t,"input")&&j(t,"click",E),!1},trigger:function(e){var t=this||e;return et.test(t.type)&&t.click&&o(t,"input")&&j(t,"click"),!0},_default:function(e){var t=e.target;return et.test(t.type)&&t.click&&o(t,"input")&&$e.get(t,"click")||o(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},Ee.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},Ee.Event=function(e,t){return this instanceof Ee.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&e.returnValue===!1?E:S,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&Ee.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),void(this[Ee.expando]=!0)):new Ee.Event(e,t)},Ee.Event.prototype={constructor:Ee.Event,isDefaultPrevented:S,isPropagationStopped:S,isImmediatePropagationStopped:S,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=E,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=E,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=E,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},Ee.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,"char":!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},Ee.event.addProp),Ee.each({focus:"focusin",blur:"focusout"},function(e,t){Ee.event.special[e]={setup:function(){return j(this,e,k),!1},trigger:function(){return j(this,e),!0},_default:function(){return!0},delegateType:t}}),Ee.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){Ee.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,o=e.handleObj;return i&&(i===r||Ee.contains(r,i))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Ee.fn.extend({on:function(e,t,n,r){return N(this,e,t,n,r)},one:function(e,t,n,r){return N(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Ee(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return t!==!1&&"function"!=typeof t||(n=t,t=void 0),n===!1&&(n=S),this.each(function(){Ee.event.remove(this,e,n,t)})}});var at=/<script|<style|<link/i,st=/checked\s*(?:[^=]|=\s*.checked.)/i,ut=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;Ee.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var r,i,o,a,s=e.cloneNode(!0),u=Qe(e);if(!(me.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Ee.isXMLDoc(e)))for(a=w(s),o=w(e),r=0,i=o.length;r<i;r++)O(o[r],a[r]);if(t)if(n)for(o=o||w(e),a=a||w(s),r=0,i=o.length;r<i;r++)H(o[r],a[r]);else H(e,s);return a=w(s,"script"),a.length>0&&T(a,!u&&w(e,"script")),s},cleanData:function(e){for(var t,n,r,i=Ee.event.special,o=0;void 0!==(n=e[o]);o++)if(Be(n)){if(t=n[$e.expando]){if(t.events)for(r in t.events)i[r]?Ee.event.remove(n,r):Ee.removeEvent(n,r,t.handle);n[$e.expando]=void 0}n[_e.expando]&&(n[_e.expando]=void 0)}}}),Ee.fn.extend({detach:function(e){return R(this,e,!0)},remove:function(e){return R(this,e)},text:function(e){return Ie(this,function(e){return void 0===e?Ee.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return P(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=D(this,e);t.appendChild(e)}})},prepend:function(){return P(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=D(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return P(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return P(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(Ee.cleanData(w(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Ee.clone(this,e,t)})},html:function(e){return Ie(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!at.test(e)&&!rt[(tt.exec(e)||["",""])[1].toLowerCase()]){e=Ee.htmlPrefilter(e);try{for(;n<r;n++)t=this[n]||{},1===t.nodeType&&(Ee.cleanData(w(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return P(this,arguments,function(t){var n=this.parentNode;Ee.inArray(this,e)<0&&(Ee.cleanData(w(this)),n&&n.replaceChild(t,this))},e)}}),Ee.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Ee.fn[e]=function(e){for(var n,r=[],i=Ee(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),Ee(i[a])[t](n),fe.apply(r,n.get());return this.pushStack(r)}});var lt=new RegExp("^("+Xe+")(?!px)[a-z%]+$","i"),ct=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},ft=function(e,t,n){var r,i,o={};for(i in t)o[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=o[i];return r},pt=new RegExp(Ge.join("|"),"i");!function(){function t(){if(c){l.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Ye.appendChild(l).appendChild(c);var t=e.getComputedStyle(c);r="1%"!==t.top,u=12===n(t.marginLeft),c.style.right="60%",a=36===n(t.right),i=36===n(t.width),c.style.position="absolute",o=12===n(c.offsetWidth/3),Ye.removeChild(l),c=null}}function n(e){return Math.round(parseFloat(e))}var r,i,o,a,s,u,l=we.createElement("div"),c=we.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",me.clearCloneStyle="content-box"===c.style.backgroundClip,Ee.extend(me,{boxSizingReliable:function(){return t(),i},pixelBoxStyles:function(){return t(),a},pixelPosition:function(){return t(),r},reliableMarginLeft:function(){return t(),u},scrollboxSize:function(){return t(),o},reliableTrDimensions:function(){var t,n,r,i;return null==s&&(t=we.createElement("table"),n=we.createElement("tr"),r=we.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",n.style.cssText="border:1px solid",n.style.height="1px",r.style.height="9px",r.style.display="block",Ye.appendChild(t).appendChild(n).appendChild(r),i=e.getComputedStyle(n),s=parseInt(i.height,10)+parseInt(i.borderTopWidth,10)+parseInt(i.borderBottomWidth,10)===n.offsetHeight,Ye.removeChild(t)),s}}))}();var dt=["Webkit","Moz","ms"],ht=we.createElement("div").style,gt={},vt=/^(none|table(?!-c[ea]).+)/,yt=/^--/,mt={position:"absolute",visibility:"hidden",display:"block"},xt={letterSpacing:"0",fontWeight:"400"};Ee.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=M(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=h(t),u=yt.test(t),l=e.style;return u||(t=F(s)),a=Ee.cssHooks[t]||Ee.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:l[t]:(o=typeof n,"string"===o&&(i=Ve.exec(n))&&i[1]&&(n=m(e,t,i),o="number"),null!=n&&n===n&&("number"!==o||u||(n+=i&&i[3]||(Ee.cssNumber[s]?"":"px")),me.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u?l.setProperty(t,n):l[t]=n)),void 0)}},css:function(e,t,n,r){var i,o,a,s=h(t),u=yt.test(t);return u||(t=F(s)),a=Ee.cssHooks[t]||Ee.cssHooks[s],a&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=M(e,t,r)),"normal"===i&&t in xt&&(i=xt[t]),""===n||n?(o=parseFloat(i),n===!0||isFinite(o)?o||0:i):i}}),Ee.each(["height","width"],function(e,t){Ee.cssHooks[t]={get:function(e,n,r){if(n)return!vt.test(Ee.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?_(e,t,r):ft(e,mt,function(){return _(e,t,r)})},set:function(e,n,r){var i,o=ct(e),a=!me.scrollboxSize()&&"absolute"===o.position,s=a||r,u=s&&"border-box"===Ee.css(e,"boxSizing",!1,o),l=r?$(e,t,r,u,o):0;return u&&a&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-$(e,t,"border",!1,o)-.5)),l&&(i=Ve.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=Ee.css(e,t)),B(e,n,l)}}}),Ee.cssHooks.marginLeft=I(me.reliableMarginLeft,function(e,t){if(t)return(parseFloat(M(e,"marginLeft"))||e.getBoundingClientRect().left-ft(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),Ee.each({margin:"",padding:"",border:"Width"},function(e,t){Ee.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+Ge[r]+t]=o[r]||o[r-2]||o[0];return i}},"margin"!==e&&(Ee.cssHooks[e+t].set=B)}),Ee.fn.extend({css:function(e,t){return Ie(this,function(e,t,n){var r,i,o={},a=0;if(Array.isArray(t)){for(r=ct(e),i=t.length;a<i;a++)o[t[a]]=Ee.css(e,t[a],!1,r);return o}return void 0!==n?Ee.style(e,t,n):Ee.css(e,t)},e,t,arguments.length>1)}}),Ee.Tween=z,z.prototype={constructor:z,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||Ee.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Ee.cssNumber[n]?"":"px")},cur:function(){var e=z.propHooks[this.prop];return e&&e.get?e.get(this):z.propHooks._default.get(this)},run:function(e){var t,n=z.propHooks[this.prop];return this.options.duration?this.pos=t=Ee.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):z.propHooks._default.set(this),this}},z.prototype.init.prototype=z.prototype,z.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=Ee.css(e.elem,e.prop,""),
t&&"auto"!==t?t:0)},set:function(e){Ee.fx.step[e.prop]?Ee.fx.step[e.prop](e):1!==e.elem.nodeType||!Ee.cssHooks[e.prop]&&null==e.elem.style[F(e.prop)]?e.elem[e.prop]=e.now:Ee.style(e.elem,e.prop,e.now+e.unit)}}},z.propHooks.scrollTop=z.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Ee.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},Ee.fx=z.prototype.init,Ee.fx.step={};var bt,wt,Tt=/^(?:toggle|show|hide)$/,Ct=/queueHooks$/;Ee.Animation=Ee.extend(J,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return m(n.elem,e,Ve.exec(t),n),n}]},tweener:function(e,t){xe(e)?(t=e,e=["*"]):e=e.match(Pe);for(var n,r=0,i=e.length;r<i;r++)n=e[r],J.tweeners[n]=J.tweeners[n]||[],J.tweeners[n].unshift(t)},prefilters:[Y],prefilter:function(e,t){t?J.prefilters.unshift(e):J.prefilters.push(e)}}),Ee.speed=function(e,t,n){var r=e&&"object"==typeof e?Ee.extend({},e):{complete:n||!n&&t||xe(e)&&e,duration:e,easing:n&&t||t&&!xe(t)&&t};return Ee.fx.off?r.duration=0:"number"!=typeof r.duration&&(r.duration in Ee.fx.speeds?r.duration=Ee.fx.speeds[r.duration]:r.duration=Ee.fx.speeds._default),null!=r.queue&&r.queue!==!0||(r.queue="fx"),r.old=r.complete,r.complete=function(){xe(r.old)&&r.old.call(this),r.queue&&Ee.dequeue(this,r.queue)},r},Ee.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Ke).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=Ee.isEmptyObject(e),o=Ee.speed(t,n,r),a=function(){var t=J(this,Ee.extend({},e),o);(i||$e.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=Ee.timers,a=$e.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Ct.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||Ee.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=$e.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=Ee.timers,a=r?r.length:0;for(n.finish=!0,Ee.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),Ee.each(["toggle","show","hide"],function(e,t){var n=Ee.fn[t];Ee.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(V(t,!0),e,r,i)}}),Ee.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Ee.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),Ee.timers=[],Ee.fx.tick=function(){var e,t=0,n=Ee.timers;for(bt=Date.now();t<n.length;t++)e=n[t],e()||n[t]!==e||n.splice(t--,1);n.length||Ee.fx.stop(),bt=void 0},Ee.fx.timer=function(e){Ee.timers.push(e),Ee.fx.start()},Ee.fx.interval=13,Ee.fx.start=function(){wt||(wt=!0,U())},Ee.fx.stop=function(){wt=null},Ee.fx.speeds={slow:600,fast:200,_default:400},Ee.fn.delay=function(t,n){return t=Ee.fx?Ee.fx.speeds[t]||t:t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=we.createElement("input"),t=we.createElement("select"),n=t.appendChild(we.createElement("option"));e.type="checkbox",me.checkOn=""!==e.value,me.optSelected=n.selected,e=we.createElement("input"),e.value="t",e.type="radio",me.radioValue="t"===e.value}();var Et,St=Ee.expr.attrHandle;Ee.fn.extend({attr:function(e,t){return Ie(this,Ee.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Ee.removeAttr(this,e)})}}),Ee.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return"undefined"==typeof e.getAttribute?Ee.prop(e,t,n):(1===o&&Ee.isXMLDoc(e)||(i=Ee.attrHooks[t.toLowerCase()]||(Ee.expr.match.bool.test(t)?Et:void 0)),void 0!==n?null===n?void Ee.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:(r=Ee.find.attr(e,t),null==r?void 0:r))},attrHooks:{type:{set:function(e,t){if(!me.radioValue&&"radio"===t&&o(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r=0,i=t&&t.match(Pe);if(i&&1===e.nodeType)for(;n=i[r++];)e.removeAttribute(n)}}),Et={set:function(e,t,n){return t===!1?Ee.removeAttr(e,n):e.setAttribute(n,n),n}},Ee.each(Ee.expr.match.bool.source.match(/\w+/g),function(e,t){var n=St[t]||Ee.find.attr;St[t]=function(e,t,r){var i,o,a=t.toLowerCase();return r||(o=St[a],St[a]=i,i=null!=n(e,t,r)?a:null,St[a]=o),i}});var kt=/^(?:input|select|textarea|button)$/i,At=/^(?:a|area)$/i;Ee.fn.extend({prop:function(e,t){return Ie(this,Ee.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[Ee.propFix[e]||e]})}}),Ee.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&Ee.isXMLDoc(e)||(t=Ee.propFix[t]||t,i=Ee.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=Ee.find.attr(e,"tabindex");return t?parseInt(t,10):kt.test(e.nodeName)||At.test(e.nodeName)&&e.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),me.optSelected||(Ee.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),Ee.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ee.propFix[this.toLowerCase()]=this}),Ee.fn.extend({addClass:function(e){var t,n,r,i,o,a,s,u=0;if(xe(e))return this.each(function(t){Ee(this).addClass(e.call(this,t,Z(this)))});if(t=ee(e),t.length)for(;n=this[u++];)if(i=Z(n),r=1===n.nodeType&&" "+K(i)+" "){for(a=0;o=t[a++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");s=K(r),i!==s&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,r,i,o,a,s,u=0;if(xe(e))return this.each(function(t){Ee(this).removeClass(e.call(this,t,Z(this)))});if(!arguments.length)return this.attr("class","");if(t=ee(e),t.length)for(;n=this[u++];)if(i=Z(n),r=1===n.nodeType&&" "+K(i)+" "){for(a=0;o=t[a++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");s=K(r),i!==s&&n.setAttribute("class",s)}return this},toggleClass:function(e,t){var n=typeof e,r="string"===n||Array.isArray(e);return"boolean"==typeof t&&r?t?this.addClass(e):this.removeClass(e):xe(e)?this.each(function(n){Ee(this).toggleClass(e.call(this,n,Z(this),t),t)}):this.each(function(){var t,i,o,a;if(r)for(i=0,o=Ee(this),a=ee(e);t=a[i++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||(t=Z(this),t&&$e.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||e===!1?"":$e.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+K(Z(n))+" ").indexOf(t)>-1)return!0;return!1}});var Nt=/\r/g;Ee.fn.extend({val:function(e){var t,n,r,i=this[0];{if(arguments.length)return r=xe(e),this.each(function(n){var i;1===this.nodeType&&(i=r?e.call(this,n,Ee(this).val()):e,null==i?i="":"number"==typeof i?i+="":Array.isArray(i)&&(i=Ee.map(i,function(e){return null==e?"":e+""})),t=Ee.valHooks[this.type]||Ee.valHooks[this.nodeName.toLowerCase()],t&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))});if(i)return t=Ee.valHooks[i.type]||Ee.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(Nt,""):null==n?"":n)}}}),Ee.extend({valHooks:{option:{get:function(e){var t=Ee.find.attr(e,"value");return null!=t?t:K(Ee.text(e))}},select:{get:function(e){var t,n,r,i=e.options,a=e.selectedIndex,s="select-one"===e.type,u=s?null:[],l=s?a+1:i.length;for(r=a<0?l:s?a:0;r<l;r++)if(n=i[r],(n.selected||r===a)&&!n.disabled&&(!n.parentNode.disabled||!o(n.parentNode,"optgroup"))){if(t=Ee(n).val(),s)return t;u.push(t)}return u},set:function(e,t){for(var n,r,i=e.options,o=Ee.makeArray(t),a=i.length;a--;)r=i[a],(r.selected=Ee.inArray(Ee.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),Ee.each(["radio","checkbox"],function(){Ee.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=Ee.inArray(Ee(e).val(),t)>-1}},me.checkOn||(Ee.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),me.focusin="onfocusin"in e;var jt=/^(?:focusinfocus|focusoutblur)$/,Dt=function(e){e.stopPropagation()};Ee.extend(Ee.event,{trigger:function(t,n,r,i){var o,a,s,u,l,c,f,p,d=[r||we],h=ge.call(t,"type")?t.type:t,g=ge.call(t,"namespace")?t.namespace.split("."):[];if(a=p=s=r=r||we,3!==r.nodeType&&8!==r.nodeType&&!jt.test(h+Ee.event.triggered)&&(h.indexOf(".")>-1&&(g=h.split("."),h=g.shift(),g.sort()),l=h.indexOf(":")<0&&"on"+h,t=t[Ee.expando]?t:new Ee.Event(h,"object"==typeof t&&t),t.isTrigger=i?2:3,t.namespace=g.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:Ee.makeArray(n,[t]),f=Ee.event.special[h]||{},i||!f.trigger||f.trigger.apply(r,n)!==!1)){if(!i&&!f.noBubble&&!be(r)){for(u=f.delegateType||h,jt.test(u+h)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||we)&&d.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=d[o++])&&!t.isPropagationStopped();)p=a,t.type=o>1?u:f.bindType||h,c=($e.get(a,"events")||Object.create(null))[t.type]&&$e.get(a,"handle"),c&&c.apply(a,n),c=l&&a[l],c&&c.apply&&Be(a)&&(t.result=c.apply(a,n),t.result===!1&&t.preventDefault());return t.type=h,i||t.isDefaultPrevented()||f._default&&f._default.apply(d.pop(),n)!==!1||!Be(r)||l&&xe(r[h])&&!be(r)&&(s=r[l],s&&(r[l]=null),Ee.event.triggered=h,t.isPropagationStopped()&&p.addEventListener(h,Dt),r[h](),t.isPropagationStopped()&&p.removeEventListener(h,Dt),Ee.event.triggered=void 0,s&&(r[l]=s)),t.result}},simulate:function(e,t,n){var r=Ee.extend(new Ee.Event,n,{type:e,isSimulated:!0});Ee.event.trigger(r,null,t)}}),Ee.fn.extend({trigger:function(e,t){return this.each(function(){Ee.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return Ee.event.trigger(e,t,n,!0)}}),me.focusin||Ee.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){Ee.event.simulate(t,e.target,Ee.event.fix(e))};Ee.event.special[t]={setup:function(){var r=this.ownerDocument||this.document||this,i=$e.access(r,t);i||r.addEventListener(e,n,!0),$e.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this.document||this,i=$e.access(r,t)-1;i?$e.access(r,t,i):(r.removeEventListener(e,n,!0),$e.remove(r,t))}}});var qt=e.location,Lt={guid:Date.now()},Ht=/\?/;Ee.parseXML=function(t){var n,r;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(i){}return r=n&&n.getElementsByTagName("parsererror")[0],n&&!r||Ee.error("Invalid XML: "+(r?Ee.map(r.childNodes,function(e){return e.textContent}).join("\n"):t)),n};var Ot=/\[\]$/,Pt=/\r?\n/g,Rt=/^(?:submit|button|image|reset|file)$/i,Mt=/^(?:input|select|textarea|keygen)/i;Ee.param=function(e,t){var n,r=[],i=function(e,t){var n=xe(t)?t():t;r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!Ee.isPlainObject(e))Ee.each(e,function(){i(this.name,this.value)});else for(n in e)te(n,e[n],t,i);return r.join("&")},Ee.fn.extend({serialize:function(){return Ee.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Ee.prop(this,"elements");return e?Ee.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Ee(this).is(":disabled")&&Mt.test(this.nodeName)&&!Rt.test(e)&&(this.checked||!et.test(e))}).map(function(e,t){var n=Ee(this).val();return null==n?null:Array.isArray(n)?Ee.map(n,function(e){return{name:t.name,value:e.replace(Pt,"\r\n")}}):{name:t.name,value:n.replace(Pt,"\r\n")}}).get()}});var It=/%20/g,Wt=/#.*$/,Ft=/([?&])_=[^&]*/,Bt=/^(.*?):[ \t]*([^\r\n]*)$/gm,$t=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,_t=/^(?:GET|HEAD)$/,zt=/^\/\//,Ut={},Xt={},Vt="*/".concat("*"),Gt=we.createElement("a");Gt.href=qt.href,Ee.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:qt.href,type:"GET",isLocal:$t.test(qt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Vt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":Ee.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ie(ie(e,Ee.ajaxSettings),t):ie(Ee.ajaxSettings,e)},ajaxPrefilter:ne(Ut),ajaxTransport:ne(Xt),ajax:function(t,n){function r(t,n,r,s){var l,p,d,b,w,T=n;c||(c=!0,u&&e.clearTimeout(u),i=void 0,a=s||"",C.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=oe(h,C,r)),!l&&Ee.inArray("script",h.dataTypes)>-1&&Ee.inArray("json",h.dataTypes)<0&&(h.converters["text script"]=function(){}),b=ae(h,b,C,l),l?(h.ifModified&&(w=C.getResponseHeader("Last-Modified"),w&&(Ee.lastModified[o]=w),w=C.getResponseHeader("etag"),w&&(Ee.etag[o]=w)),204===t||"HEAD"===h.type?T="nocontent":304===t?T="notmodified":(T=b.state,p=b.data,d=b.error,l=!d)):(d=T,!t&&T||(T="error",t<0&&(t=0))),C.status=t,C.statusText=(n||T)+"",l?y.resolveWith(g,[p,T,C]):y.rejectWith(g,[C,T,d]),C.statusCode(x),x=void 0,f&&v.trigger(l?"ajaxSuccess":"ajaxError",[C,h,l?p:d]),m.fireWith(g,[C,T]),f&&(v.trigger("ajaxComplete",[C,h]),--Ee.active||Ee.event.trigger("ajaxStop")))}"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,a,s,u,l,c,f,p,d,h=Ee.ajaxSetup({},n),g=h.context||h,v=h.context&&(g.nodeType||g.jquery)?Ee(g):Ee.event,y=Ee.Deferred(),m=Ee.Callbacks("once memory"),x=h.statusCode||{},b={},w={},T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Bt.exec(a);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?a:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==c&&(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)C.always(e[C.status]);else for(t in e)x[t]=[x[t],e[t]];return this},abort:function(e){var t=e||T;return i&&i.abort(t),r(0,t),this}};if(y.promise(C),h.url=((t||h.url||qt.href)+"").replace(zt,qt.protocol+"//"),h.type=n.method||n.type||h.method||h.type,h.dataTypes=(h.dataType||"*").toLowerCase().match(Pe)||[""],null==h.crossDomain){l=we.createElement("a");try{l.href=h.url,l.href=l.href,h.crossDomain=Gt.protocol+"//"+Gt.host!=l.protocol+"//"+l.host}catch(E){h.crossDomain=!0}}if(h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Ee.param(h.data,h.traditional)),re(Ut,h,n,C),c)return C;f=Ee.event&&h.global,f&&0===Ee.active++&&Ee.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!_t.test(h.type),o=h.url.replace(Wt,""),h.hasContent?h.data&&h.processData&&0===(h.contentType||"").indexOf("application/x-www-form-urlencoded")&&(h.data=h.data.replace(It,"+")):(d=h.url.slice(o.length),h.data&&(h.processData||"string"==typeof h.data)&&(o+=(Ht.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(o=o.replace(Ft,"$1"),d=(Ht.test(o)?"&":"?")+"_="+Lt.guid++ +d),h.url=o+d),h.ifModified&&(Ee.lastModified[o]&&C.setRequestHeader("If-Modified-Since",Ee.lastModified[o]),Ee.etag[o]&&C.setRequestHeader("If-None-Match",Ee.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||n.contentType)&&C.setRequestHeader("Content-Type",h.contentType),C.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Vt+"; q=0.01":""):h.accepts["*"]);for(p in h.headers)C.setRequestHeader(p,h.headers[p]);if(h.beforeSend&&(h.beforeSend.call(g,C,h)===!1||c))return C.abort();if(T="abort",m.add(h.complete),C.done(h.success),C.fail(h.error),i=re(Xt,h,n,C)){if(C.readyState=1,f&&v.trigger("ajaxSend",[C,h]),c)return C;h.async&&h.timeout>0&&(u=e.setTimeout(function(){C.abort("timeout")},h.timeout));try{c=!1,i.send(b,r)}catch(E){if(c)throw E;r(-1,E)}}else r(-1,"No Transport");return C},getJSON:function(e,t,n){return Ee.get(e,t,n,"json")},getScript:function(e,t){return Ee.get(e,void 0,t,"script")}}),Ee.each(["get","post"],function(e,t){Ee[t]=function(e,n,r,i){return xe(n)&&(i=i||r,r=n,n=void 0),Ee.ajax(Ee.extend({url:e,type:t,dataType:i,data:n,success:r},Ee.isPlainObject(e)&&e))}}),Ee.ajaxPrefilter(function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")}),Ee._evalUrl=function(e,t,n){return Ee.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){Ee.globalEval(e,t,n)}})},Ee.fn.extend({wrapAll:function(e){var t;return this[0]&&(xe(e)&&(e=e.call(this[0])),t=Ee(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return xe(e)?this.each(function(t){Ee(this).wrapInner(e.call(this,t))}):this.each(function(){var t=Ee(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=xe(e);return this.each(function(n){Ee(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){Ee(this).replaceWith(this.childNodes)}),this}}),Ee.expr.pseudos.hidden=function(e){return!Ee.expr.pseudos.visible(e)},Ee.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},Ee.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(t){}};var Yt={0:200,1223:204},Qt=Ee.ajaxSettings.xhr();me.cors=!!Qt&&"withCredentials"in Qt,me.ajax=Qt=!!Qt,Ee.ajaxTransport(function(t){var n,r;if(me.cors||Qt&&!t.crossDomain)return{send:function(i,o){var a,s=t.xhr();if(s.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(a in t.xhrFields)s[a]=t.xhrFields[a];t.mimeType&&s.overrideMimeType&&s.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest");for(a in i)s.setRequestHeader(a,i[a]);n=function(e){return function(){n&&(n=r=s.onload=s.onerror=s.onabort=s.ontimeout=s.onreadystatechange=null,"abort"===e?s.abort():"error"===e?"number"!=typeof s.status?o(0,"error"):o(s.status,s.statusText):o(Yt[s.status]||s.status,s.statusText,"text"!==(s.responseType||"text")||"string"!=typeof s.responseText?{binary:s.response}:{text:s.responseText},s.getAllResponseHeaders()))}},s.onload=n(),r=s.onerror=s.ontimeout=n("error"),void 0!==s.onabort?s.onabort=r:s.onreadystatechange=function(){4===s.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{s.send(t.hasContent&&t.data||null)}catch(u){if(n)throw u}},abort:function(){n&&n()}}}),Ee.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),Ee.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return Ee.globalEval(e),e}}}),Ee.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),Ee.ajaxTransport("script",function(e){if(e.crossDomain||e.scriptAttrs){var t,n;return{send:function(r,i){t=Ee("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),we.head.appendChild(t[0])},abort:function(){n&&n()}}}});var Jt=[],Kt=/(=)\?(?=&|$)|\?\?/;Ee.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jt.pop()||Ee.expando+"_"+Lt.guid++;return this[e]=!0,e}}),Ee.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=t.jsonp!==!1&&(Kt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kt.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=xe(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Kt,"$1"+i):t.jsonp!==!1&&(t.url+=(Ht.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||Ee.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){void 0===o?Ee(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Jt.push(i)),a&&xe(o)&&o(a[0]),a=o=void 0}),"script"}),me.createHTMLDocument=function(){var e=we.implementation.createHTMLDocument("").body;return e.innerHTML="<form></form><form></form>",2===e.childNodes.length}(),Ee.parseHTML=function(e,t,n){if("string"!=typeof e)return[];"boolean"==typeof t&&(n=t,t=!1);var r,i,o;return t||(me.createHTMLDocument?(t=we.implementation.createHTMLDocument(""),r=t.createElement("base"),r.href=we.location.href,t.head.appendChild(r)):t=we),i=je.exec(e),o=!n&&[],i?[t.createElement(i[1])]:(i=C([e],t,o),o&&o.length&&Ee(o).remove(),Ee.merge([],i.childNodes))},Ee.fn.load=function(e,t,n){var r,i,o,a=this,s=e.indexOf(" ");return s>-1&&(r=K(e.slice(s)),e=e.slice(0,s)),xe(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&Ee.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?Ee("<div>").append(Ee.parseHTML(e)).find(r):e)}).always(n&&function(e,t){a.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},Ee.expr.pseudos.animated=function(e){return Ee.grep(Ee.timers,function(t){return e===t.elem}).length},Ee.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,l,c=Ee.css(e,"position"),f=Ee(e),p={};"static"===c&&(e.style.position="relative"),s=f.offset(),o=Ee.css(e,"top"),u=Ee.css(e,"left"),l=("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1,l?(r=f.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),xe(t)&&(t=t.call(e,n,Ee.extend({},s))),null!=t.top&&(p.top=t.top-s.top+a),null!=t.left&&(p.left=t.left-s.left+i),"using"in t?t.using.call(e,p):f.css(p)}},Ee.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){Ee.offset.setOffset(this,e,t)});var t,n,r=this[0];if(r)return r.getClientRects().length?(t=r.getBoundingClientRect(),n=r.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}},position:function(){if(this[0]){var e,t,n,r=this[0],i={top:0,left:0};if("fixed"===Ee.css(r,"position"))t=r.getBoundingClientRect();else{for(t=this.offset(),n=r.ownerDocument,e=r.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===Ee.css(e,"position");)e=e.parentNode;e&&e!==r&&1===e.nodeType&&(i=Ee(e).offset(),i.top+=Ee.css(e,"borderTopWidth",!0),i.left+=Ee.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-Ee.css(r,"marginTop",!0),left:t.left-i.left-Ee.css(r,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===Ee.css(e,"position");)e=e.offsetParent;return e||Ye})}}),Ee.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;Ee.fn[e]=function(r){return Ie(this,function(e,r,i){var o;return be(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===i?o?o[t]:e[r]:void(o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i)},e,r,arguments.length)}}),Ee.each(["top","left"],function(e,t){Ee.cssHooks[t]=I(me.pixelPosition,function(e,n){if(n)return n=M(e,t),lt.test(n)?Ee(e).position()[t]+"px":n})}),Ee.each({Height:"height",Width:"width"},function(e,t){Ee.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){Ee.fn[r]=function(i,o){var a=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||o===!0?"margin":"border");return Ie(this,function(t,n,i){var o;return be(t)?0===r.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===i?Ee.css(t,n,s):Ee.style(t,n,i,s)},t,a?i:void 0,a)}})}),Ee.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Ee.fn[t]=function(e){return this.on(t,e)}}),Ee.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Ee.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){Ee.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}});var Zt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;Ee.proxy=function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),xe(e))return r=le.call(arguments,2),i=function(){return e.apply(t||this,r.concat(le.call(arguments)))},i.guid=e.guid=e.guid||Ee.guid++,i},Ee.holdReady=function(e){e?Ee.readyWait++:Ee.ready(!0)},Ee.isArray=Array.isArray,Ee.parseJSON=JSON.parse,Ee.nodeName=o,Ee.isFunction=xe,Ee.isWindow=be,Ee.camelCase=h,Ee.type=r,Ee.now=Date.now,Ee.isNumeric=function(e){var t=Ee.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},Ee.trim=function(e){return null==e?"":(e+"").replace(Zt,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return Ee});var en=e.jQuery,tn=e.$;return Ee.noConflict=function(t){return e.$===Ee&&(e.$=tn),t&&e.jQuery===Ee&&(e.jQuery=en),Ee},"undefined"==typeof t&&(e.jQuery=e.$=Ee),Ee});
},{}],"jqvmap-novulnerability":[function(require,module,exports){
var VectorCanvas=function(t,e,i){if(this.mode=window.SVGAngle?"svg":"vml",this.params=i,"svg"===this.mode)this.createSvgNode=function(t){return document.createElementNS(this.svgns,t)};else{try{document.namespaces.rvml||document.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),this.createVmlNode=function(t){return document.createElement("<rvml:"+t+' class="rvml">')}}catch(o){this.createVmlNode=function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)")}"svg"===this.mode?this.canvas=this.createSvgNode("svg"):(this.canvas=this.createVmlNode("group"),this.canvas.style.position="absolute"),this.setSize(t,e)};VectorCanvas.prototype={svgns:"http://www.w3.org/2000/svg",mode:"svg",width:0,height:0,canvas:null};var ColorScale=function(t,e,i,o){t&&this.setColors(t),e&&this.setNormalizeFunction(e),i&&this.setMin(i),i&&this.setMax(o)};ColorScale.prototype={colors:[]};var JQVMap=function(t){t=t||{};var e,i=this,o=JQVMap.maps[t.map];if(!o)throw new Error('Invalid "'+t.map+'" map parameter. Please make sure you have loaded this map file in your HTML.');this.selectedRegions=[],this.multiSelectRegion=t.multiSelectRegion,this.container=t.container,this.defaultWidth=o.width,this.defaultHeight=o.height,this.color=t.color,this.selectedColor=t.selectedColor,this.hoverColor=t.hoverColor,this.hoverColors=t.hoverColors,this.hoverOpacity=t.hoverOpacity,this.setBackgroundColor(t.backgroundColor),this.width=t.container.width(),this.height=t.container.height(),this.resize(),jQuery(window).resize(function(){var o=t.container.width(),s=t.container.height();if(o&&s){i.width=o,i.height=s,i.resize(),i.canvas.setSize(i.width,i.height),i.applyTransform();var r=jQuery.Event("resize.jqvmap");jQuery(t.container).trigger(r,[o,s]),e&&(jQuery(".jqvmap-pin").remove(),i.pinHandlers=!1,i.placePins(e.pins,e.mode))}}),this.canvas=new VectorCanvas(this.width,this.height,t),t.container.append(this.canvas.canvas),this.makeDraggable(),this.rootGroup=this.canvas.createGroup(!0),this.index=JQVMap.mapIndex,this.label=jQuery("<div/>").addClass("jqvmap-label").appendTo(jQuery("body")).hide(),t.enableZoom&&(jQuery("<div/>").addClass("jqvmap-zoomin").text("+").appendTo(t.container),jQuery("<div/>").addClass("jqvmap-zoomout").html("&#x2212;").appendTo(t.container)),i.countries=[];for(var s in o.paths){var r=this.canvas.createPath({path:o.paths[s].path});r.setFill(this.color),r.id=i.getCountryId(s),i.countries[s]=r,"svg"===this.canvas.mode?r.setAttribute("class","jqvmap-region"):jQuery(r).addClass("jqvmap-region"),jQuery(this.rootGroup).append(r)}if(jQuery(t.container).delegate("svg"===this.canvas.mode?"path":"shape","mouseover mouseout",function(e){var s=e.target,r=e.target.id.split("_").pop(),a=jQuery.Event("labelShow.jqvmap"),n=jQuery.Event("regionMouseOver.jqvmap");r=r.toLowerCase(),"mouseover"===e.type?(jQuery(t.container).trigger(n,[r,o.paths[r].name]),n.isDefaultPrevented()||i.highlight(r,s),t.showTooltip&&(i.label.text(o.paths[r].name),jQuery(t.container).trigger(a,[i.label,r]),a.isDefaultPrevented()||(i.label.show(),i.labelWidth=i.label.width(),i.labelHeight=i.label.height()))):(i.unhighlight(r,s),i.label.hide(),jQuery(t.container).trigger("regionMouseOut.jqvmap",[r,o.paths[r].name]))}),jQuery(t.container).delegate("svg"===this.canvas.mode?"path":"shape","click",function(e){var s=e.target,r=e.target.id.split("_").pop(),a=jQuery.Event("regionClick.jqvmap");if(r=r.toLowerCase(),jQuery(t.container).trigger(a,[r,o.paths[r].name]),!t.multiSelectRegion&&!a.isDefaultPrevented())for(var n in o.paths)i.countries[n].currentFillColor=i.countries[n].getOriginalFill(),i.countries[n].setFill(i.countries[n].getOriginalFill());a.isDefaultPrevented()||(i.isSelected(r)?i.deselect(r,s):i.select(r,s))}),t.showTooltip&&t.container.mousemove(function(t){if(i.label.is(":visible")){var e=t.pageX-15-i.labelWidth,o=t.pageY-15-i.labelHeight;0>e&&(e=t.pageX+15),0>o&&(o=t.pageY+15),i.label.css({left:e,top:o})}}),this.setColors(t.colors),this.canvas.canvas.appendChild(this.rootGroup),this.applyTransform(),this.colorScale=new ColorScale(t.scaleColors,t.normalizeFunction,t.valueMin,t.valueMax),t.values&&(this.values=t.values,this.setValues(t.values)),t.selectedRegions)if(t.selectedRegions instanceof Array)for(var a in t.selectedRegions)this.select(t.selectedRegions[a].toLowerCase());else this.select(t.selectedRegions.toLowerCase());if(this.bindZoomButtons(),t.pins&&(e={pins:t.pins,mode:t.pinMode},this.pinHandlers=!1,this.placePins(t.pins,t.pinMode)),t.showLabels){this.pinHandlers=!1;var n={};for(s in i.countries)"function"!=typeof i.countries[s]&&(t.pins&&t.pins[s]||(n[s]=s.toUpperCase()));e={pins:n,mode:"content"},this.placePins(n,"content")}JQVMap.mapIndex++};JQVMap.prototype={transX:0,transY:0,scale:1,baseTransX:0,baseTransY:0,baseScale:1,width:0,height:0,countries:{},countriesColors:{},countriesData:{},zoomStep:1.4,zoomMaxStep:4,zoomCurStep:1},JQVMap.xlink="http://www.w3.org/1999/xlink",JQVMap.mapIndex=1,JQVMap.maps={},function(){var t={colors:1,values:1,backgroundColor:1,scaleColors:1,normalizeFunction:1,enableZoom:1,showTooltip:1,borderColor:1,borderWidth:1,borderOpacity:1,selectedRegions:1,multiSelectRegion:1},e={onLabelShow:"labelShow",onLoad:"load",onRegionOver:"regionMouseOver",onRegionOut:"regionMouseOut",onRegionClick:"regionClick",onRegionSelect:"regionSelect",onRegionDeselect:"regionDeselect",onResize:"resize"};jQuery.fn.vectorMap=function(i){var o={map:"world_en",backgroundColor:"#a5bfdd",color:"#f4f3f0",hoverColor:"#c9dfaf",hoverColors:{},selectedColor:"#c9dfaf",scaleColors:["#b6d6ff","#005ace"],normalizeFunction:"linear",enableZoom:!0,showTooltip:!0,borderColor:"#818181",borderWidth:1,borderOpacity:.25,selectedRegions:null,multiSelectRegion:!1},s=this.data("mapObject");if("addMap"===i)JQVMap.maps[arguments[1]]=arguments[2];else{if("set"!==i||!t[arguments[1]]){if("string"==typeof i&&"function"==typeof s[i])return s[i].apply(s,Array.prototype.slice.call(arguments,1));jQuery.extend(o,i),o.container=this,this.css({position:"relative",overflow:"hidden"}),s=new JQVMap(o),this.data("mapObject",s),this.unbind(".jqvmap");for(var r in e)o[r]&&this.bind(e[r]+".jqvmap",o[r]);var a=jQuery.Event("load.jqvmap");return jQuery(o.container).trigger(a,s),s}s["set"+arguments[1].charAt(0).toUpperCase()+arguments[1].substr(1)].apply(s,Array.prototype.slice.call(arguments,2))}}}(jQuery),ColorScale.arrayToRgb=function(t){for(var e,i="#",o=0;o<t.length;o++)e=t[o].toString(16),i+=1===e.length?"0"+e:e;return i},ColorScale.prototype.getColor=function(t){"function"==typeof this.normalize&&(t=this.normalize(t));for(var e,i=[],o=0,s=0;s<this.colors.length-1;s++)e=this.vectorLength(this.vectorSubtract(this.colors[s+1],this.colors[s])),i.push(e),o+=e;var r=(this.maxValue-this.minValue)/o;for(s=0;s<i.length;s++)i[s]*=r;for(s=0,t-=this.minValue;t-i[s]>=0;)t-=i[s],s++;var a;for(a=s===this.colors.length-1?this.vectorToNum(this.colors[s]).toString(16):this.vectorToNum(this.vectorAdd(this.colors[s],this.vectorMult(this.vectorSubtract(this.colors[s+1],this.colors[s]),t/i[s]))).toString(16);a.length<6;)a="0"+a;return"#"+a},ColorScale.rgbToArray=function(t){return t=t.substr(1),[parseInt(t.substr(0,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(4,2),16)]},ColorScale.prototype.setColors=function(t){for(var e=0;e<t.length;e++)t[e]=ColorScale.rgbToArray(t[e]);this.colors=t},ColorScale.prototype.setMax=function(t){this.clearMaxValue=t,"function"==typeof this.normalize?this.maxValue=this.normalize(t):this.maxValue=t},ColorScale.prototype.setMin=function(t){this.clearMinValue=t,"function"==typeof this.normalize?this.minValue=this.normalize(t):this.minValue=t},ColorScale.prototype.setNormalizeFunction=function(t){"polynomial"===t?this.normalize=function(t){return Math.pow(t,.2)}:"linear"===t?delete this.normalize:this.normalize=t,this.setMin(this.clearMinValue),this.setMax(this.clearMaxValue)},ColorScale.prototype.vectorAdd=function(t,e){for(var i=[],o=0;o<t.length;o++)i[o]=t[o]+e[o];return i},ColorScale.prototype.vectorLength=function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]*t[i];return Math.sqrt(e)},ColorScale.prototype.vectorMult=function(t,e){for(var i=[],o=0;o<t.length;o++)i[o]=t[o]*e;return i},ColorScale.prototype.vectorSubtract=function(t,e){for(var i=[],o=0;o<t.length;o++)i[o]=t[o]-e[o];return i},ColorScale.prototype.vectorToNum=function(t){for(var e=0,i=0;i<t.length;i++)e+=Math.round(t[i])*Math.pow(256,t.length-i-1);return e},JQVMap.prototype.applyTransform=function(){var t,e,i,o;this.defaultWidth*this.scale<=this.width?(t=(this.width-this.defaultWidth*this.scale)/(2*this.scale),i=(this.width-this.defaultWidth*this.scale)/(2*this.scale)):(t=0,i=(this.width-this.defaultWidth*this.scale)/this.scale),this.defaultHeight*this.scale<=this.height?(e=(this.height-this.defaultHeight*this.scale)/(2*this.scale),o=(this.height-this.defaultHeight*this.scale)/(2*this.scale)):(e=0,o=(this.height-this.defaultHeight*this.scale)/this.scale),this.transY>e?this.transY=e:this.transY<o&&(this.transY=o),this.transX>t?this.transX=t:this.transX<i&&(this.transX=i),this.canvas.applyTransformParams(this.scale,this.transX,this.transY)},JQVMap.prototype.bindZoomButtons=function(){var t=this;this.container.find(".jqvmap-zoomin").click(function(){t.zoomIn()}),this.container.find(".jqvmap-zoomout").click(function(){t.zoomOut()})},JQVMap.prototype.deselect=function(t,e){if(t=t.toLowerCase(),e=e||jQuery("#"+this.getCountryId(t))[0],this.isSelected(t))this.selectedRegions.splice(this.selectIndex(t),1),jQuery(this.container).trigger("regionDeselect.jqvmap",[t]),e.currentFillColor=e.getOriginalFill(),e.setFill(e.getOriginalFill());else for(var i in this.countries)this.selectedRegions.splice(this.selectedRegions.indexOf(i),1),this.countries[i].currentFillColor=this.color,this.countries[i].setFill(this.color)},JQVMap.prototype.getCountryId=function(t){return"jqvmap"+this.index+"_"+t},JQVMap.prototype.getPin=function(t){var e=jQuery("#"+this.getPinId(t));return e.html()},JQVMap.prototype.getPinId=function(t){return this.getCountryId(t)+"_pin"},JQVMap.prototype.getPins=function(){var t=this.container.find(".jqvmap-pin"),e={};return jQuery.each(t,function(t,i){i=jQuery(i);var o=i.attr("for").toLowerCase(),s=i.html();e[o]=s}),JSON.stringify(e)},JQVMap.prototype.highlight=function(t,e){e=e||jQuery("#"+this.getCountryId(t))[0],this.hoverOpacity?e.setOpacity(this.hoverOpacity):this.hoverColors&&t in this.hoverColors?(e.currentFillColor=e.getFill()+"",e.setFill(this.hoverColors[t])):this.hoverColor&&(e.currentFillColor=e.getFill()+"",e.setFill(this.hoverColor))},JQVMap.prototype.isSelected=function(t){return this.selectIndex(t)>=0},JQVMap.prototype.makeDraggable=function(){var t,e,i=!1,o=this;o.isMoving=!1,o.isMovingTimeout=!1;var s,r,a,n,l,h,c;this.container.mousemove(function(s){return i&&(o.transX-=(t-s.pageX)/o.scale,o.transY-=(e-s.pageY)/o.scale,o.applyTransform(),t=s.pageX,e=s.pageY,o.isMoving=!0,o.isMovingTimeout&&clearTimeout(o.isMovingTimeout),o.container.trigger("drag")),!1}).mousedown(function(o){return i=!0,t=o.pageX,e=o.pageY,!1}).mouseup(function(){return i=!1,clearTimeout(o.isMovingTimeout),o.isMovingTimeout=setTimeout(function(){o.isMoving=!1},100),!1}).mouseout(function(){return i&&o.isMoving?(clearTimeout(o.isMovingTimeout),o.isMovingTimeout=setTimeout(function(){i=!1,o.isMoving=!1},100),!1):void 0}),jQuery(this.container).bind("touchmove",function(t){var e,i,p,u,g=t.originalEvent.touches;if(1===g.length){if(1===s){if(h===g[0].pageX&&c===g[0].pageY)return;p=o.transX,u=o.transY,o.transX-=(h-g[0].pageX)/o.scale,o.transY-=(c-g[0].pageY)/o.scale,o.applyTransform(),(p!==o.transX||u!==o.transY)&&t.preventDefault(),o.isMoving=!0,o.isMovingTimeout&&clearTimeout(o.isMovingTimeout)}h=g[0].pageX,c=g[0].pageY}else 2===g.length&&(2===s?(i=Math.sqrt(Math.pow(g[0].pageX-g[1].pageX,2)+Math.pow(g[0].pageY-g[1].pageY,2))/n,o.setScale(l*i,r,a),t.preventDefault()):(e=jQuery(o.container).offset(),r=g[0].pageX>g[1].pageX?g[1].pageX+(g[0].pageX-g[1].pageX)/2:g[0].pageX+(g[1].pageX-g[0].pageX)/2,a=g[0].pageY>g[1].pageY?g[1].pageY+(g[0].pageY-g[1].pageY)/2:g[0].pageY+(g[1].pageY-g[0].pageY)/2,r-=e.left,a-=e.top,l=o.scale,n=Math.sqrt(Math.pow(g[0].pageX-g[1].pageX,2)+Math.pow(g[0].pageY-g[1].pageY,2))));s=g.length}),jQuery(this.container).bind("touchstart",function(){s=0}),jQuery(this.container).bind("touchend",function(){s=0})},JQVMap.prototype.placePins=function(t,e){var i=this;if((!e||"content"!==e&&"id"!==e)&&(e="content"),"content"===e?jQuery.each(t,function(t,e){if(0!==jQuery("#"+i.getCountryId(t)).length){var o=i.getPinId(t),s=jQuery("#"+o);s.length>0&&s.remove(),i.container.append('<div id="'+o+'" for="'+t+'" class="jqvmap-pin" style="position:absolute">'+e+"</div>")}}):jQuery.each(t,function(t,e){if(0!==jQuery("#"+i.getCountryId(t)).length){var o=i.getPinId(t),s=jQuery("#"+o);s.length>0&&s.remove(),i.container.append('<div id="'+o+'" for="'+t+'" class="jqvmap-pin" style="position:absolute"></div>'),s.append(jQuery("#"+e))}}),this.positionPins(),!this.pinHandlers){this.pinHandlers=!0;var o=function(){i.positionPins()};this.container.bind("zoomIn",o).bind("zoomOut",o).bind("drag",o)}},JQVMap.prototype.positionPins=function(){var t=this,e=this.container.find(".jqvmap-pin");jQuery.each(e,function(e,i){i=jQuery(i);var o=t.getCountryId(i.attr("for").toLowerCase()),s=jQuery("#"+o),r=s[0].getBBox(),a=t.scale,n=t.canvas.rootGroup.getBoundingClientRect(),l=t.container[0].getBoundingClientRect(),h={left:n.left-l.left,top:n.top-l.top},c=r.x*a+r.width*a/2,p=r.y*a+r.height*a/2;i.css({left:h.left+c-i.width()/2,top:h.top+p-i.height()/2})})},JQVMap.prototype.removePin=function(t){t=t.toLowerCase(),jQuery("#"+this.getPinId(t)).remove()},JQVMap.prototype.removePins=function(){this.container.find(".jqvmap-pin").remove()},JQVMap.prototype.reset=function(){for(var t in this.countries)this.countries[t].setFill(this.color);this.scale=this.baseScale,this.transX=this.baseTransX,this.transY=this.baseTransY,this.applyTransform()},JQVMap.prototype.resize=function(){var t=this.baseScale;this.width/this.height>this.defaultWidth/this.defaultHeight?(this.baseScale=this.height/this.defaultHeight,this.baseTransX=Math.abs(this.width-this.defaultWidth*this.baseScale)/(2*this.baseScale)):(this.baseScale=this.width/this.defaultWidth,this.baseTransY=Math.abs(this.height-this.defaultHeight*this.baseScale)/(2*this.baseScale)),this.scale*=this.baseScale/t,this.transX*=this.baseScale/t,this.transY*=this.baseScale/t},JQVMap.prototype.select=function(t,e){t=t.toLowerCase(),e=e||jQuery("#"+this.getCountryId(t))[0],this.isSelected(t)||(this.multiSelectRegion?this.selectedRegions.push(t):this.selectedRegions=[t],jQuery(this.container).trigger("regionSelect.jqvmap",[t]),this.selectedColor&&e&&(e.currentFillColor=this.selectedColor,e.setFill(this.selectedColor)))},JQVMap.prototype.selectIndex=function(t){t=t.toLowerCase();for(var e=0;e<this.selectedRegions.length;e++)if(t===this.selectedRegions[e])return e;return-1},JQVMap.prototype.setBackgroundColor=function(t){this.container.css("background-color",t)},JQVMap.prototype.setColors=function(t,e){if("string"==typeof t)this.countries[t].setFill(e),this.countries[t].setAttribute("original",e);else{var i=t;for(var o in i)this.countries[o]&&(this.countries[o].setFill(i[o]),this.countries[o].setAttribute("original",i[o]))}},JQVMap.prototype.setNormalizeFunction=function(t){this.colorScale.setNormalizeFunction(t),this.values&&this.setValues(this.values)},JQVMap.prototype.setScale=function(t){this.scale=t,this.applyTransform()},JQVMap.prototype.setScaleColors=function(t){this.colorScale.setColors(t),this.values&&this.setValues(this.values)},JQVMap.prototype.setValues=function(t){var e,i=0,o=Number.MAX_VALUE;for(var s in t)s=s.toLowerCase(),e=parseFloat(t[s]),isNaN(e)||(e>i&&(i=t[s]),o>e&&(o=e));o===i&&i++,this.colorScale.setMin(o),this.colorScale.setMax(i);var r={};for(s in t)s=s.toLowerCase(),e=parseFloat(t[s]),r[s]=isNaN(e)?this.color:this.colorScale.getColor(e);this.setColors(r),this.values=t},JQVMap.prototype.unhighlight=function(t,e){t=t.toLowerCase(),e=e||jQuery("#"+this.getCountryId(t))[0],e.setOpacity(1),e.currentFillColor&&e.setFill(e.currentFillColor)},JQVMap.prototype.zoomIn=function(){var t=this,e=(jQuery("#zoom").innerHeight()-12-30-6-7-6)/(this.zoomMaxStep-this.zoomCurStep);if(t.zoomCurStep<t.zoomMaxStep){t.transX-=(t.width/t.scale-t.width/(t.scale*t.zoomStep))/2,t.transY-=(t.height/t.scale-t.height/(t.scale*t.zoomStep))/2,t.setScale(t.scale*t.zoomStep),t.zoomCurStep++;var i=jQuery("#zoomSlider");i.css("top",parseInt(i.css("top"),10)-e),t.container.trigger("zoomIn")}},JQVMap.prototype.zoomOut=function(){var t=this,e=(jQuery("#zoom").innerHeight()-12-30-6-7-6)/(this.zoomMaxStep-this.zoomCurStep);if(t.zoomCurStep>1){t.transX+=(t.width/(t.scale/t.zoomStep)-t.width/t.scale)/2,t.transY+=(t.height/(t.scale/t.zoomStep)-t.height/t.scale)/2,t.setScale(t.scale/t.zoomStep),t.zoomCurStep--;var i=jQuery("#zoomSlider");i.css("top",parseInt(i.css("top"),10)+e),t.container.trigger("zoomOut")}},VectorCanvas.prototype.applyTransformParams=function(t,e,i){"svg"===this.mode?this.rootGroup.setAttribute("transform","scale("+t+") translate("+e+", "+i+")"):(this.rootGroup.coordorigin=this.width-e+","+(this.height-i),this.rootGroup.coordsize=this.width/t+","+this.height/t)},VectorCanvas.prototype.createGroup=function(t){var e;return"svg"===this.mode?e=this.createSvgNode("g"):(e=this.createVmlNode("group"),e.style.width=this.width+"px",e.style.height=this.height+"px",e.style.left="0px",e.style.top="0px",e.coordorigin="0 0",e.coordsize=this.width+" "+this.height),t&&(this.rootGroup=e),e},VectorCanvas.prototype.createPath=function(t){var e;if("svg"===this.mode)e=this.createSvgNode("path"),e.setAttribute("d",t.path),null!==this.params.borderColor&&e.setAttribute("stroke",this.params.borderColor),this.params.borderWidth>0&&(e.setAttribute("stroke-width",this.params.borderWidth),e.setAttribute("stroke-linecap","round"),e.setAttribute("stroke-linejoin","round")),this.params.borderOpacity>0&&e.setAttribute("stroke-opacity",this.params.borderOpacity),e.setFill=function(t){this.setAttribute("fill",t),null===this.getAttribute("original")&&this.setAttribute("original",t)},e.getFill=function(){return this.getAttribute("fill")},e.getOriginalFill=function(){return this.getAttribute("original")},e.setOpacity=function(t){this.setAttribute("fill-opacity",t)};else{e=this.createVmlNode("shape"),e.coordorigin="0 0",e.coordsize=this.width+" "+this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",e.fillcolor=JQVMap.defaultFillColor,e.stroked=!1,e.path=VectorCanvas.pathSvgToVml(t.path);var i=this.createVmlNode("skew");i.on=!0,i.matrix="0.01,0,0,0.01,0,0",i.offset="0,0",e.appendChild(i);var o=this.createVmlNode("fill");e.appendChild(o),e.setFill=function(t){this.getElementsByTagName("fill")[0].color=t,null===this.getAttribute("original")&&this.setAttribute("original",t)},e.getFill=function(){return this.getElementsByTagName("fill")[0].color},e.getOriginalFill=function(){return this.getAttribute("original")},e.setOpacity=function(t){this.getElementsByTagName("fill")[0].opacity=parseInt(100*t,10)+"%"}}return e},VectorCanvas.prototype.pathSvgToVml=function(t){var e,i,o="",s=0,r=0;return t.replace(/([MmLlHhVvCcSs])((?:-?(?:\d+)?(?:\.\d+)?,?\s?)+)/g,function(t,a,n){n=n.replace(/(\d)-/g,"$1,-").replace(/\s+/g,",").split(","),n[0]||n.shift();for(var l=0,h=n.length;h>l;l++)n[l]=Math.round(100*n[l]);switch(a){case"m":s+=n[0],r+=n[1],o="t"+n.join(",");break;case"M":s=n[0],r=n[1],o="m"+n.join(",");break;case"l":s+=n[0],r+=n[1],o="r"+n.join(",");break;case"L":s=n[0],r=n[1],o="l"+n.join(",");break;case"h":s+=n[0],o="r"+n[0]+",0";break;case"H":s=n[0],o="l"+s+","+r;break;case"v":r+=n[0],o="r0,"+n[0];break;case"V":r=n[0],o="l"+s+","+r;break;case"c":e=s+n[n.length-4],i=r+n[n.length-3],s+=n[n.length-2],r+=n[n.length-1],o="v"+n.join(",");break;case"C":e=n[n.length-4],i=n[n.length-3],s=n[n.length-2],r=n[n.length-1],o="c"+n.join(",");break;case"s":n.unshift(r-i),n.unshift(s-e),e=s+n[n.length-4],i=r+n[n.length-3],s+=n[n.length-2],r+=n[n.length-1],o="v"+n.join(",");break;case"S":n.unshift(r+r-i),n.unshift(s+s-e),e=n[n.length-4],i=n[n.length-3],s=n[n.length-2],r=n[n.length-1],o="c"+n.join(",")}return o}).replace(/z/g,"")},VectorCanvas.prototype.setSize=function(t,e){if("svg"===this.mode)this.canvas.setAttribute("width",t),this.canvas.setAttribute("height",e);else if(this.canvas.style.width=t+"px",this.canvas.style.height=e+"px",this.canvas.coordsize=t+" "+e,this.canvas.coordorigin="0 0",this.rootGroup){for(var i=this.rootGroup.getElementsByTagName("shape"),o=0,s=i.length;s>o;o++)i[o].coordsize=t+" "+e,i[o].style.width=t+"px",i[o].style.height=e+"px";this.rootGroup.coordsize=t+" "+e,this.rootGroup.style.width=t+"px",this.rootGroup.style.height=e+"px"}this.width=t,this.height=e};
},{}],"keypress.js":[function(require,module,exports){
(function(){var e,t,n,o,r,i,s,_,c,u,l,h,a,f,p,y,d,m,k,v={}.hasOwnProperty,g=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i={is_unordered:!1,is_counting:!1,is_exclusive:!1,is_solitary:!1,prevent_default:!1,prevent_repeat:!1,normalize_caps_lock:!1},m="meta alt option ctrl shift cmd".split(" "),y="ctrl",e={debug:!1};var b=function(e){var t,n;for(t in e)v.call(e,t)&&(n=e[t],!1!==n&&(this[t]=n));this.keys=this.keys||[],this.count=this.count||0};b.prototype.allows_key_repeat=function(){return!this.prevent_repeat&&"function"==typeof this.on_keydown},b.prototype.reset=function(){return this.count=0,this.keyup_fired=null};var w=function(e,t){var n,o;"undefined"!=typeof jQuery&&null!==jQuery&&e instanceof jQuery&&(1!==e.length&&p("Warning: your jQuery selector should have exactly one object."),e=e[0]),this.should_force_event_defaults=this.should_suppress_event_defaults=!1,this.sequence_delay=800,this._registered_combos=[],this._keys_down=[],this._active_combos=[],this._sequence=[],this._sequence_timer=null,this._prevent_capture=!1,this._defaults=t||{};for(n in i)v.call(i,n)&&(o=i[n],this._defaults[n]=this._defaults[n]||o);this.element=e||document.body,n=function(e,t,n){return e.addEventListener?e.addEventListener(t,n):e.attachEvent&&e.attachEvent("on"+t,n),n};var r=this;this.keydown_event=n(this.element,"keydown",function(e){return e=e||window.event,r._receive_input(e,!0),r._bug_catcher(e)});var s=this;this.keyup_event=n(this.element,"keyup",function(e){return e=e||window.event,s._receive_input(e,!1)});var _=this;this.blur_event=n(window,"blur",function(){var e,t,n,o;for(o=_._keys_down,t=0,n=o.length;t<n;t++)e=o[t],_._key_up(e,{});return _._keys_down=[]})};w.prototype.destroy=function(){var e;return e=function(e,t,n){return null!=e.removeEventListener?e.removeEventListener(t,n):null!=e.removeEvent?e.removeEvent("on"+t,n):void 0},e(this.element,"keydown",this.keydown_event),e(this.element,"keyup",this.keyup_event),e(window,"blur",this.blur_event)},w.prototype._bug_catcher=function(e){var t,n;if("cmd"===y&&0<=g.call(this._keys_down,"cmd")&&"cmd"!==(t=o(null!=(n=e.keyCode)?n:e.key))&&"shift"!==t&&"alt"!==t&&"caps"!==t&&"tab"!==t)return this._receive_input(e,!1)},w.prototype._cmd_bug_check=function(e){return!("cmd"===y&&0<=g.call(this._keys_down,"cmd")&&0>g.call(e,"cmd"))},w.prototype._prevent_default=function(e,t){if((t||this.should_suppress_event_defaults)&&!this.should_force_event_defaults&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation))return e.stopPropagation()},w.prototype._get_active_combos=function(e){var t,n;return t=[],n=s(this._keys_down,function(t){return t!==e}),n.push(e),this._match_combo_arrays(n,function(e){return function(n){if(e._cmd_bug_check(n.keys))return t.push(n)}}(this)),this._fuzzy_match_combo_arrays(n,function(e){return function(n){if(!(0<=g.call(t,n))&&!n.is_solitary&&e._cmd_bug_check(n.keys))return t.push(n)}}(this)),t},w.prototype._get_potential_combos=function(e){var t,n,o,r,i;for(n=[],i=this._registered_combos,o=0,r=i.length;o<r;o++)t=i[o],t.is_sequence||0<=g.call(t.keys,e)&&this._cmd_bug_check(t.keys)&&n.push(t);return n},w.prototype._add_to_active_combos=function(e){var t,n,o,r,i,s,_,c,u,l,h;if(s=!1,i=!0,o=!1,0<=g.call(this._active_combos,e))return!0;if(this._active_combos.length)for(r=_=0,l=this._active_combos.length;0<=l?_<l:_>l;r=0<=l?++_:--_)if((t=this._active_combos[r])&&t.is_exclusive&&e.is_exclusive){if(t=t.keys,!s)for(c=0,u=t.length;c<u;c++)if(n=t[c],s=!0,0>g.call(e.keys,n)){s=!1;break}if(i&&!s)for(h=e.keys,c=0,u=h.length;c<u;c++)if(n=h[c],i=!1,0>g.call(t,n)){i=!0;break}s&&(o?(t=this._active_combos.splice(r,1)[0],null!=t&&t.reset()):(t=this._active_combos.splice(r,1,e)[0],null!=t&&t.reset(),o=!0),i=!1)}return i&&this._active_combos.unshift(e),s||i},w.prototype._remove_from_active_combos=function(e){var t,n,o,r;for(n=o=0,r=this._active_combos.length;0<=r?o<r:o>r;n=0<=r?++o:--o)if(t=this._active_combos[n],t===e){e=this._active_combos.splice(n,1)[0],e.reset();break}},w.prototype._get_possible_sequences=function(){var e,t,n,o,r,i,_,c,u,l,h,a;for(o=[],l=this._registered_combos,i=0,u=l.length;i<u;i++)for(e=l[i],t=_=1,h=this._sequence.length;1<=h?_<=h:_>=h;t=1<=h?++_:--_)if(r=this._sequence.slice(-t),e.is_sequence){if(0>g.call(e.keys,"shift")&&(r=s(r,function(e){return"shift"!==e}),!r.length))continue;for(t=c=0,a=r.length;0<=a?c<a:c>a;t=0<=a?++c:--c){if(e.keys[t]!==r[t]){n=!1;break}n=!0}n&&o.push(e)}return o},w.prototype._add_key_to_sequence=function(e,t){var n,o,r,i;if(this._sequence.push(e),o=this._get_possible_sequences(),o.length){for(r=0,i=o.length;r<i;r++)n=o[r],this._prevent_default(t,n.prevent_default);if(this._sequence_timer&&clearTimeout(this._sequence_timer),-1<this.sequence_delay){var s=this;this._sequence_timer=setTimeout(function(){return s._sequence=[]},this.sequence_delay)}}else this._sequence=[]},w.prototype._get_sequence=function(e){var t,n,o,r,i,_,c,u,l,h,a,f;for(h=this._registered_combos,_=0,l=h.length;_<l;_++)if(t=h[_],t.is_sequence){for(n=c=1,a=this._sequence.length;1<=a?c<=a:c>=a;n=1<=a?++c:--c)if(i=s(this._sequence,function(e){return 0<=g.call(t.keys,"shift")||"shift"!==e}).slice(-n),t.keys.length===i.length)for(n=u=0,f=i.length;0<=f?u<f:u>f;n=0<=f?++u:--u)if(r=i[n],!(0>g.call(t.keys,"shift")&&"shift"===r||"shift"===e&&0>g.call(t.keys,"shift"))){if(t.keys[n]!==r){o=!1;break}o=!0}if(o)return t.is_exclusive&&(this._sequence=[]),t}return!1},w.prototype._receive_input=function(e,t){var n,r;if(this._prevent_capture)this._keys_down.length&&(this._keys_down=[]);else if(n=o(null!=(r=e.keyCode)?r:e.key),(t||this._keys_down.length||!("alt"===n||n===y))&&n)return t?this._key_down(n,e):this._key_up(n,e)},w.prototype._fire=function(e,t,n,o){if("function"==typeof t["on_"+e]&&this._prevent_default(n,!0!==t["on_"+e].call(t["this"],n,t.count,o)),"release"===e&&(t.count=0),"keyup"===e)return t.keyup_fired=!0},w.prototype._match_combo_arrays=function(e,o){var r,i,s,_,c;for(c=this._registered_combos,s=0,_=c.length;s<_;s++)i=c[s],r=e.slice(0),i.normalize_caps_lock&&0<=g.call(r,"caps")&&r.splice(r.indexOf("caps"),1),(!i.is_unordered&&n(r,i.keys)||i.is_unordered&&t(r,i.keys))&&o(i)},w.prototype._fuzzy_match_combo_arrays=function(e,t){var n,o,r,i;for(i=this._registered_combos,o=0,r=i.length;o<r;o++)n=i[o],(!n.is_unordered&&u(n.keys,e)||n.is_unordered&&c(n.keys,e))&&t(n)},w.prototype._keys_remain=function(e){var t,n,o,r;for(r=e.keys,n=0,o=r.length;n<o;n++)if(e=r[n],0<=g.call(this._keys_down,e)){t=!0;break}return t},w.prototype._key_down=function(e,t){var n,o,i,s,_;(n=r(e,t))&&(e=n),this._add_key_to_sequence(e,t),(n=this._get_sequence(e))&&this._fire("keydown",n,t);for(i in d)n=d[i],t[n]&&(i===e||0<=g.call(this._keys_down,i)||this._keys_down.push(i));for(i in d)if(n=d[i],i!==e&&0<=g.call(this._keys_down,i)&&!t[n]&&!("cmd"===i&&"cmd"!==y))for(n=o=0,s=this._keys_down.length;0<=s?o<s:o>s;n=0<=s?++o:--o)this._keys_down[n]===i&&this._keys_down.splice(n,1);for(o=this._get_active_combos(e),i=this._get_potential_combos(e),s=0,_=o.length;s<_;s++)n=o[s],this._handle_combo_down(n,i,e,t);if(i.length)for(o=0,s=i.length;o<s;o++)n=i[o],this._prevent_default(t,n.prevent_default);0>g.call(this._keys_down,e)&&this._keys_down.push(e)},w.prototype._handle_combo_down=function(e,t,n,o){var r,i,s,_,c;if(0>g.call(e.keys,n))return!1;if(this._prevent_default(o,e&&e.prevent_default),r=!1,0<=g.call(this._keys_down,n)&&(r=!0,!e.allows_key_repeat()))return!1;if(s=this._add_to_active_combos(e,n),n=e.keyup_fired=!1,e.is_exclusive)for(_=0,c=t.length;_<c;_++)if(i=t[_],i.is_exclusive&&i.keys.length>e.keys.length){n=!0;break}return!n&&(e.is_counting&&"function"==typeof e.on_keydown&&(e.count+=1),s)?this._fire("keydown",e,o,r):void 0},w.prototype._key_up=function(e,t){var n,o,i,s,_,c;if(n=e,(i=r(e,t))&&(e=i),i=f[n],t.shiftKey?i&&0<=g.call(this._keys_down,i)||(e=n):n&&0<=g.call(this._keys_down,n)||(e=i),(s=this._get_sequence(e))&&this._fire("keyup",s,t),0>g.call(this._keys_down,e))return!1;for(s=_=0,c=this._keys_down.length;0<=c?_<c:_>c;s=0<=c?++_:--_)if((o=this._keys_down[s])===e||o===i||o===n){this._keys_down.splice(s,1);break}for(o=this._active_combos.length,i=[],c=this._active_combos,s=0,_=c.length;s<_;s++)n=c[s],0<=g.call(n.keys,e)&&i.push(n);for(s=0,_=i.length;s<_;s++)n=i[s],this._handle_combo_up(n,t,e);if(1<o)for(_=this._active_combos,o=0,s=_.length;o<s;o++)n=_[o],void 0===n||0<=g.call(i,n)||this._keys_remain(n)||this._remove_from_active_combos(n)},w.prototype._handle_combo_up=function(e,n,o){var r,i;this._prevent_default(n,e&&e.prevent_default),i=this._keys_remain(e),e.keyup_fired||(r=this._keys_down.slice(),r.push(o),e.is_solitary&&!t(r,e.keys))||(this._fire("keyup",e,n),e.is_counting&&"function"==typeof e.on_keyup&&"function"!=typeof e.on_keydown&&(e.count+=1)),i||(this._fire("release",e,n),this._remove_from_active_combos(e))},w.prototype.simple_combo=function(e,t){return this.register_combo({keys:e,on_keydown:t})},w.prototype.counting_combo=function(e,t){return this.register_combo({keys:e,is_counting:!0,is_unordered:!1,on_keydown:t})},w.prototype.sequence_combo=function(e,t){return this.register_combo({keys:e,on_keydown:t,is_sequence:!0,is_exclusive:!0})},w.prototype.register_combo=function(e){var t,n,o;"string"==typeof e.keys&&(e.keys=e.keys.split(" ")),o=this._defaults;for(t in o)v.call(o,t)&&(n=o[t],void 0===e[t]&&(e[t]=n));if(e=new b(e),k(e))return this._registered_combos.push(e),e},w.prototype.register_many=function(e){var t,n,o,r;for(r=[],n=0,o=e.length;n<o;n++)t=e[n],r.push(this.register_combo(t));return r},w.prototype.unregister_combo=function(e){var o,r,i,s,_,c;if(!e)return!1;var u=this;if(r=function(e){var t,n,o,r;for(r=[],t=n=0,o=u._registered_combos.length;0<=o?n<o:n>o;t=0<=o?++n:--n){if(e===u._registered_combos[t]){u._registered_combos.splice(t,1);break}r.push(void 0)}return r},e instanceof b)return r(e);if("string"==typeof e)for(e=e.split(" "),o=i=0,s=e.length;0<=s?i<s:i>s;o=0<=s?++i:--i)"meta"===e[o]&&(e[o]=y);for(_=this._registered_combos,c=[],i=0,s=_.length;i<s;i++)o=_[i],null!=o&&(o.is_unordered&&t(e,o.keys)||!o.is_unordered&&n(e,o.keys)?c.push(r(o)):c.push(void 0));return c},w.prototype.unregister_many=function(e){var t,n,o,r;for(r=[],n=0,o=e.length;n<o;n++)t=e[n],r.push(this.unregister_combo(t));return r},w.prototype.get_registered_combos=function(){return this._registered_combos},w.prototype.reset=function(){return this._registered_combos=[]},w.prototype.listen=function(){return this._prevent_capture=!1},w.prototype.stop_listening=function(){return this._prevent_capture=!0},w.prototype.get_meta_key=function(){return y},e.Listener=w,o=function(e){return a[e]},s=function(e,t){var n;if(e.filter)return e.filter(t);var o,r,i;for(i=[],o=0,r=e.length;o<r;o++)n=e[o],t(n)&&i.push(n);return i},t=function(e,t){var n,o,r;if(e.length!==t.length)return!1;for(o=0,r=e.length;o<r;o++)if(n=e[o],!(0<=g.call(t,n)))return!1;return!0},n=function(e,t){var n,o,r;if(e.length!==t.length)return!1;for(n=o=0,r=e.length;0<=r?o<r:o>r;n=0<=r?++o:--o)if(e[n]!==t[n])return!1;return!0},c=function(e,t){var n,o,r;for(o=0,r=e.length;o<r;o++)if(n=e[o],0>g.call(t,n))return!1;return!0},_=Array.prototype.indexOf||function(e,t){var n,o,r;for(n=o=0,r=e.length;0<=r?o<=r:o>=r;n=0<=r?++o:--o)if(e[n]===t)return n;return-1},u=function(e,t){var n,o,r,i;for(r=o=0,i=e.length;r<i;r++){if(n=e[r],n=_.call(t,n),!(n>=o))return!1;o=n}return!0},p=function(){if(e.debug)return console.log.apply(console,arguments)},l=function(e){var t,n,o;t=!1;for(o in a)if(n=a[o],e===n){t=!0;break}if(!t)for(o in f)if(n=f[o],e===n){t=!0;break}return t},k=function(e){var t,n,o,r,s,c,u;for(s=!0,e.keys.length||p("You're trying to bind a combo with no keys:",e),n=c=0,u=e.keys.length;0<=u?c<u:c>u;n=0<=u?++c:--c)o=e.keys[n],(t=h[o])&&(o=e.keys[n]=t),"meta"===o&&e.keys.splice(n,1,y),"cmd"===o&&p('Warning: use the "meta" key rather than "cmd" for Windows compatibility');for(u=e.keys,t=0,c=u.length;t<c;t++)o=u[t],l(o)||(p('Do not recognize the key "'+o+'"'),s=!1);if(0<=g.call(e.keys,"meta")||0<=g.call(e.keys,"cmd")){for(t=e.keys.slice(),c=0,u=m.length;c<u;c++)o=m[c],-1<(n=_.call(t,o))&&t.splice(n,1);1<t.length&&(p("META and CMD key combos cannot have more than 1 non-modifier keys",e,t),s=!1)}for(r in e)"undefined"===i[r]&&p("The property "+r+" is not a valid combo property. Your combo has still been registered.");return s},r=function(e,t){var n;return!!t.shiftKey&&(n=f[e],null!=n&&n)},d={cmd:"metaKey",ctrl:"ctrlKey",shift:"shiftKey",alt:"altKey"},h={escape:"esc",control:"ctrl",command:"cmd","break":"pause",windows:"cmd",option:"alt",caps_lock:"caps",apostrophe:"'",semicolon:";",tilde:"~",accent:"`",scroll_lock:"scroll",num_lock:"num"},f={"/":"?",".":">",",":"<","'":'"',";":":","[":"{","]":"}","\\":"|","`":"~","=":"+","-":"_",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")"},a={0:"\\",8:"backspace",9:"tab",12:"num",13:"enter",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"caps",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",44:"print",45:"insert",46:"delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",91:"cmd",92:"cmd",93:"cmd",96:"num_0",97:"num_1",98:"num_2",99:"num_3",100:"num_4",101:"num_5",102:"num_6",103:"num_7",104:"num_8",105:"num_9",106:"num_multiply",107:"num_add",108:"num_enter",109:"num_subtract",110:"num_decimal",111:"num_divide",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",124:"print",144:"num",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",223:"`",224:"cmd",225:"alt",57392:"ctrl",63289:"num",59:";",61:"=",173:"-"},e._keycode_dictionary=a,e._is_array_in_array_sorted=u,-1!==navigator.userAgent.indexOf("Mac OS X")&&(y="cmd"),-1!==navigator.userAgent.indexOf("Opera")&&(a[17]="cmd"),"function"==typeof define&&define.amd?define([],function(){return e}):"undefined"!=typeof exports&&null!==exports?exports.keypress=e:window.keypress=e}).call(this);
},{}],"kiubi/vendor/tinymce/plugins/link/plugin.js":[function(require,module,exports){
!function(){var e={},t=function(t){for(var n=e[t],o=n.deps,l=n.defn,r=o.length,a=new Array(r),u=0;u<r;++u)a[u]=i(o[u]);var s=l.apply(null,a);if(void 0===s)throw"module ["+t+"] returned undefined";n.instance=s},n=function(t,n,i){if("string"!=typeof t)throw"module id must be a string";if(void 0===n)throw"no dependencies for "+t;if(void 0===i)throw"no definition function for "+t;e[t]={deps:n,defn:i,instance:void 0}},i=function(n){var i=e[n];if(void 0===i)throw"module ["+n+"] was undefined";return void 0===i.instance&&t(n),i.instance},o=function(e,t){for(var n=e.length,o=new Array(n),l=0;l<n;++l)o.push(i(e[l]));t.apply(null,t)},l={};l.bolt={module:{api:{define:n,require:o,demand:i}}};var r=n,a=function(e,t){r(e,[],function(){return t})};a("global!tinymce.util.Tools.resolve",tinymce.util.Tools.resolve),r("tinymce.core.PluginManager",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.PluginManager")}),r("tinymce.core.util.VK",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.VK")}),r("tinymce.core.util.Delay",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Delay")}),r("tinymce.core.util.Tools",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.Tools")}),r("tinymce.core.util.XHR",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.util.XHR")}),r("tinymce.plugins.link.core.Settings",[],function(){var e=function(e){return"boolean"==typeof e.link_assume_external_targets&&e.link_assume_external_targets},t=function(e){return"boolean"==typeof e.link_context_toolbar&&e.link_context_toolbar},n=function(e){return e.link_list},i=function(e){return"string"==typeof e.default_link_target},o=function(e){return e.default_link_target},l=function(e){return e.target_list},r=function(e,t){e.settings.target_list=t},a=function(e){return l(e)!==!1},u=function(e){return e.rel_list},s=function(e){return void 0!==u(e)},c=function(e){return e.link_class_list},f=function(e){return void 0!==c(e)},g=function(e){return e.link_title!==!1},d=function(e){return"boolean"==typeof e.allow_unsafe_link_target&&e.allow_unsafe_link_target};return{assumeExternalTargets:e,hasContextToolbar:t,getLinkList:n,hasDefaultLinkTarget:i,getDefaultLinkTarget:o,getTargetList:l,setTargetList:r,shouldShowTargetList:a,getRelList:u,hasRelList:s,getLinkClassList:c,hasLinkClassList:f,shouldShowLinkTitle:g,allowUnsafeLinkTarget:d}}),a("global!RegExp",RegExp),r("tinymce.plugins.link.core.Utils",["tinymce.core.util.Tools","tinymce.plugins.link.core.Settings","global!RegExp"],function(e,t,n){var i=function(t,n){var i=["noopener"],o=t?t.split(/\s+/):[],l=function(t){return e.trim(t.sort().join(" "))},r=function(e){return e=a(e),e.length?e.concat(i):i},a=function(t){return t.filter(function(t){return e.inArray(i,t)===-1})};return o=n?r(o):a(o),o.length?l(o):null},o=function(e){return e.replace(/\uFEFF/g,"")},l=function(e,t){return t=t||e.selection.getStart(),c(t)?e.dom.select("a[href]",t)[0]:e.dom.getParent(t,"a[href]")},r=function(e,t){var n=t?t.innerText||t.textContent:e.getContent({format:"text"});return o(n)},a=function(e){return e&&"A"===e.nodeName&&e.href},u=function(t){return e.grep(t,a).length>0},s=function(e){return!(/</.test(e)&&(!/^<a [^>]+>[^<]+<\/a>$/.test(e)||e.indexOf("href=")==-1))},c=function(e){return e&&"FIGURE"===e.nodeName&&/\bimage\b/i.test(e.className)},f=function(e,n){return function(o){e.undoManager.transact(function(){var r=e.selection.getNode(),a=l(e,r),u={href:o.href,target:o.target?o.target:null,rel:o.rel?o.rel:null,"class":o["class"]?o["class"]:null,title:o.title?o.title:null};t.hasRelList(e.settings)||t.allowUnsafeLinkTarget(e.settings)!==!1||(u.rel=i(u.rel,"_blank"==u.target)),o.href===n.href&&(n.attach(),n={}),a?(e.focus(),o.hasOwnProperty("text")&&("innerText"in a?a.innerText=o.text:a.textContent=o.text),e.dom.setAttribs(a,u),e.selection.select(a),e.undoManager.add()):c(r)?m(e,r,u):o.hasOwnProperty("text")?e.insertContent(e.dom.createHTML("a",u,e.dom.encode(o.text))):e.execCommand("mceInsertLink",!1,u)})}},g=function(e){return function(){e.undoManager.transact(function(){var t=e.selection.getNode();c(t)?d(e,t):e.execCommand("unlink")})}},d=function(e,t){var n,i;i=e.dom.select("img",t)[0],i&&(n=e.dom.getParents(i,"a[href]",t)[0],n&&(n.parentNode.insertBefore(i,n),e.dom.remove(n)))},m=function(e,t,n){var i,o;o=e.dom.select("img",t)[0],o&&(i=e.dom.create("a",n),o.parentNode.insertBefore(i,o),i.appendChild(o))};return{link:f,unlink:g,isLink:a,hasLinks:u,isOnlyTextSelected:s,getAnchorElement:l,getAnchorText:r,toggleTargetRules:i}}),r("tinymce.plugins.link.ui.Dialog",["tinymce.core.util.Delay","tinymce.core.util.Tools","tinymce.core.util.XHR","tinymce.plugins.link.core.Utils","tinymce.plugins.link.core.Settings"],function(e,t,n,i,o){var l={},r=function(e,t){var i=o.getLinkList(e.settings),l=i.types;"string"==typeof l?n.send({url:l,success:function(n){t(e,JSON.parse(n),i.pages)}}):"function"==typeof l?l(function(n){t(e,n,i.pages)}):t(e,l,i.pages)},a=function(e,n,i){var o=function(e,i){return i=i||[],t.each(e,function(e){var t={text:e.text||e.title};e.menu?t.menu=o(e.menu):(t.value=e.value,n&&n(t)),i.push(t)}),i};return o(e,i||[])},u=function(t,n,i){var o=t.selection.getRng();e.setEditorTimeout(t,function(){t.windowManager.confirm(n,function(e){t.selection.setRng(o),i(e)})})},s=function(e,n,r){var s,c,f,g,d,m,v,p,h,k,y,x,b={},T=e.selection,L=e.dom,w=function(e){var t=f.find("#text");(!t.value()||e.lastControl&&t.value()==e.lastControl.text())&&t.value(e.control.text().replace(/^\s+/,"")),f.find("#href").value(e.control.value())},C=function(e){r(e.control.value(),_)},_=function(e){v.menu&&(v.menu.remove(),v.menu=null),v.state.data.menu=v.settings.values=e},R=function(n){var i=[];if(t.each(e.dom.select("a:not([href])"),function(e){var t=e.name||e.id;t&&i.push({text:t,value:"#"+t,selected:n.indexOf("#"+t)!=-1})}),i.length)return i.unshift({text:"None",value:""}),{name:"anchor",type:"listbox",label:"Anchors",values:i,onselect:w}},S=function(){c||!g||b.text||this.parent().parent().find("#text")[0].value(this.value())},A=function(n){var i=n.meta||{};m&&m.value(e.convertURL(this.value(),"href")),t.each(n.meta,function(e,t){var n=f.find("#"+t);"text"===t?0===c.length&&(n.value(e),b.text=e):n.value(e)}),i.attach&&(l={href:this.value(),attach:i.attach}),i.text||S.call(this)},M=function(e){e.meta=f.toJSON()};g=i.isOnlyTextSelected(T.getContent()),s=i.getAnchorElement(e),b.text=c=i.getAnchorText(e.selection,s),b.href=s?L.getAttrib(s,"href"):"",s?b.target=L.getAttrib(s,"target"):o.hasDefaultLinkTarget(e.settings)&&(b.target=o.getDefaultLinkTarget(e.settings)),(x=L.getAttrib(s,"rel"))&&(b.rel=x),(x=L.getAttrib(s,"class"))&&(b["class"]=x),(x=L.getAttrib(s,"title"))&&(b.title=x),g&&(d={name:"text",type:"textbox",size:40,label:"Text to display",onchange:function(){b.text=this.value()}}),n&&(m={type:"listbox",label:"Service",values:a(n,function(t){t.value=e.convertURL(t.value||t.url,"href")},[{text:"None",value:""}]),onselect:C,onPostRender:function(){m=this}},v={type:"listbox",label:"Page",values:a([],function(t){t.value=e.convertURL(t.value||t.url,"href")},[{text:"None",value:""}]),onselect:w,value:e.convertURL(b.href,"href"),onPostRender:function(){v=this}}),o.shouldShowTargetList(e.settings)&&(void 0===o.getTargetList(e.settings)&&o.setTargetList(e,[{text:"None",value:""},{text:"New window",value:"_blank"}]),h={name:"target",type:"listbox",label:"Target",values:a(o.getTargetList(e.settings))}),o.hasRelList(e.settings)&&(p={name:"rel",type:"listbox",label:"Rel",values:a(o.getRelList(e.settings),function(t){o.allowUnsafeLinkTarget(e.settings)===!1&&(t.value=i.toggleTargetRules(t.value,"_blank"===b.target))})}),k={name:"class",type:"textbox",label:"Class",value:b["class"]},o.shouldShowLinkTitle(e.settings)&&(y={name:"title",type:"textbox",label:"Title",value:b.title}),f=e.windowManager.open({title:"Insert link",data:b,body:[{name:"href",type:"filepicker",filetype:"file",size:40,autofocus:!0,label:"Url",onchange:A,onkeyup:S,onbeforecall:M},d,y,k,R(b.href),m,v,p,h],onSubmit:function(n){var r=o.assumeExternalTargets(e.settings),a=i.link(e,l),s=i.unlink(e),f=t.extend({},b,n.data),d=f.href;return d?(g&&f.text!==c||delete f.text,d.indexOf("@")>0&&d.indexOf("//")==-1&&d.indexOf("mailto:")==-1?void u(e,"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",function(e){e&&(f.href="mailto:"+d),a(f)}):r===!0&&!/^\w+:/i.test(d)||r===!1&&/^\s*www[\.|\d\.]/i.test(d)?void u(e,"The URL you entered seems to be an external link. Do you want to add the required http:// prefix?",function(e){e&&(f.href="http://"+d),a(f)}):void a(f)):void s()}})},c=function(e){r(e,s)};return{open:c}}),r("tinymce.core.dom.DOMUtils",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.dom.DOMUtils")}),r("tinymce.core.Env",["global!tinymce.util.Tools.resolve"],function(e){return e("tinymce.Env")}),r("tinymce.plugins.link.core.OpenUrl",["tinymce.core.dom.DOMUtils","tinymce.core.Env"],function(e,t){var n=function(e,t){document.body.appendChild(e),e.dispatchEvent(t),document.body.removeChild(e)},i=function(i){if(!t.ie||t.ie>10){var o=document.createElement("a");o.target="_blank",o.href=i,o.rel="noreferrer noopener";var l=document.createEvent("MouseEvents");l.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n(o,l)}else{var r=window.open("","_blank");if(r){r.opener=null;var a=r.document;a.open(),a.write('<meta http-equiv="refresh" content="0; url='+e.DOM.encode(i)+'">'),a.close()}}};return{open:i}}),r("tinymce.plugins.link.core.Actions",["tinymce.core.util.VK","tinymce.plugins.link.ui.Dialog","tinymce.plugins.link.core.OpenUrl","tinymce.plugins.link.core.Utils","tinymce.plugins.link.core.Settings"],function(e,t,n,i,o){var l=function(e,t){return e.dom.getParent(t,"a[href]")},r=function(e){return l(e,e.selection.getStart())},a=function(e){var t=e.getAttribute("data-mce-href");return t?t:e.getAttribute("href")},u=function(e){var t=e.plugins.contextmenu;return!!t&&t.isContextMenuVisible()},s=function(e){return e.altKey===!0&&e.shiftKey===!1&&e.ctrlKey===!1&&e.metaKey===!1},c=function(e,t){if(t){var i=a(t);if(/^#/.test(i)){var o=e.$(i);o.length&&e.selection.scrollIntoView(o[0],!0)}else n.open(t.href)}},f=function(e){return function(){t.open(e)}},g=function(e){return function(){c(e,r(e))}},d=function(e){return function(t){var n,l,r;return!!(o.hasContextToolbar(e.settings)&&!u(e)&&i.isLink(t)&&(n=e.selection,l=n.getRng(),r=l.startContainer,3==r.nodeType&&n.isCollapsed()&&l.startOffset>0&&l.startOffset<r.data.length))}},m=function(t){t.on("click",function(n){var i=l(t,n.target);i&&e.metaKeyPressed(n)&&(n.preventDefault(),c(t,i))}),t.on("keydown",function(e){var n=r(t);n&&13===e.keyCode&&s(e)&&(e.preventDefault(),c(t,n))})},v=function(e){return function(){var t=this;e.on("nodechange",function(n){t.active(!e.readonly&&!!i.getAnchorElement(e,n.element))})}},p=function(e){return function(){var t=this,n=function(e){i.hasLinks(e.parents)?t.show():t.hide()};i.hasLinks(e.dom.getParents(e.selection.getStart()))||t.hide(),e.on("nodechange",n),t.on("remove",function(){e.off("nodechange",n)})}};return{openDialog:f,gotoSelectedLink:g,leftClickedOnAHref:d,setupGotoLinks:m,toggleActiveState:v,toggleViewLinkState:p}}),r("tinymce.plugins.link.ui.Controls",["tinymce.plugins.link.core.Actions","tinymce.plugins.link.core.Utils"],function(e,t){var n=function(n){n.addButton("link",{icon:"link",tooltip:"Insert/edit link",shortcut:"Meta+K",onclick:e.openDialog(n),onpostrender:e.toggleActiveState(n)}),n.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onclick:t.unlink(n),onpostrender:e.toggleActiveState(n)}),n.addContextToolbar&&n.addButton("openlink",{icon:"newtab",tooltip:"Open link",onclick:e.gotoSelectedLink(n)})},i=function(t){t.addMenuItem("openlink",{text:"Open link",icon:"newtab",onclick:e.gotoSelectedLink(t),onPostRender:e.toggleViewLinkState(t),prependToContext:!0}),t.addMenuItem("link",{icon:"link",text:"Link",shortcut:"Meta+K",onclick:e.openDialog(t),stateSelector:"a[href]",context:"insert",prependToContext:!0})},o=function(t){t.addContextToolbar&&t.addContextToolbar(e.leftClickedOnAHref(t),"openlink | link unlink")};return{setupButtons:n,setupMenuItems:i,setupContextToolbars:o}}),r("tinymce.plugins.link.Plugin",["tinymce.core.PluginManager","tinymce.plugins.link.core.Actions","tinymce.plugins.link.ui.Controls"],function(e,t,n){return e.add("link",function(e){n.setupButtons(e),n.setupMenuItems(e),n.setupContextToolbars(e),t.setupGotoLinks(e),e.addShortcut("Meta+K","",t.openDialog(e)),e.addCommand("mceLink",t.openDialog(e))}),function(){}}),i("tinymce.plugins.link.Plugin")()}();
},{}],"moment":[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function e(){return Ws.apply(null,arguments)}function t(e){Ws=e}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function s(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}function r(e){return void 0===e}function a(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function u(e,t){var n,s=[];for(n=0;n<e.length;++n)s.push(t(e[n],n));return s}function l(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var n in t)l(t,n)&&(e[n]=t[n]);return l(t,"toString")&&(e.toString=t.toString),l(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,n,s){return Yt(e,t,n,s,!0).utc()}function c(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function f(e){return null==e._pf&&(e._pf=c()),e._pf}function m(e){if(null==e._isValid){var t=f(e),n=Cs.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function _(e){var t=d(NaN);return null!=e?h(f(t),e):f(t).userInvalidated=!0,t}function y(e,t){var n,s,i;if(r(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),r(t._i)||(e._i=t._i),r(t._f)||(e._f=t._f),r(t._l)||(e._l=t._l),r(t._strict)||(e._strict=t._strict),r(t._tzm)||(e._tzm=t._tzm),r(t._isUTC)||(e._isUTC=t._isUTC),r(t._offset)||(e._offset=t._offset),r(t._pf)||(e._pf=f(t)),r(t._locale)||(e._locale=t._locale),Hs.length>0)for(n=0;n<Hs.length;n++)s=Hs[n],i=t[s],r(i)||(e[s]=i);return e}function g(t){y(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Rs===!1&&(Rs=!0,e.updateOffset(this),Rs=!1)}function p(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function w(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function v(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=w(t)),n}function M(e,t,n){var s,i=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0;for(s=0;s<i;s++)(n&&e[s]!==t[s]||!n&&v(e[s])!==v(t[s]))&&a++;return a+r}function k(t){e.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,n){var s=!0;return h(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),s){for(var i,r=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){i+="\n["+a+"] ";for(var o in arguments[0])i+=o+": "+arguments[0][o]+", ";i=i.slice(0,-2)}else i=arguments[a];r.push(i)}k(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),s=!1}return n.apply(this,arguments)},n)}function D(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Us[t]||(k(n),Us[t]=!0)}function Y(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function O(e){var t,n;for(n in e)t=e[n],Y(t)?this[n]=t:this["_"+n]=t;this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function T(e,t){var n,i=h({},e);for(n in t)l(t,n)&&(s(e[n])&&s(t[n])?(i[n]={},h(i[n],e[n]),h(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)l(e,n)&&!l(t,n)&&s(e[n])&&(i[n]=h({},i[n]));return i}function b(e){null!=e&&this.set(e)}function x(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return Y(s)?s.call(t,n):s}function P(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function W(){return this._invalidDate}function C(e){return this._ordinal.replace("%d",e)}function H(e,t,n,s){var i=this._relativeTime[n];return Y(i)?i(e,t,n,s):i.replace(/%d/i,e)}function R(e,t){var n=this._relativeTime[e>0?"future":"past"];return Y(n)?n(t):n.replace(/%s/i,t)}function U(e,t){var n=e.toLowerCase();As[n]=As[n+"s"]=As[t]=e}function F(e){return"string"==typeof e?As[e]||As[e.toLowerCase()]:void 0}function L(e){var t,n,s={};for(n in e)l(e,n)&&(t=F(n),t&&(s[t]=e[n]));return s}function N(e,t){js[e]=t}function G(e){var t=[];for(var n in e)t.push({unit:n,priority:js[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}function V(e,t,n){var s=""+Math.abs(e),i=t-s.length,r=e>=0;return(r?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}function E(e,t,n,s){var i=s;"string"==typeof s&&(i=function(){return this[s]()}),e&&(qs[e]=i),t&&(qs[t[0]]=function(){return V(i.apply(this,arguments),t[1],t[2])}),n&&(qs[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function I(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function A(e){var t,n,s=e.match(Zs);for(t=0,n=s.length;t<n;t++)qs[s[t]]?s[t]=qs[s[t]]:s[t]=I(s[t]);return function(t){var i,r="";for(i=0;i<n;i++)r+=Y(s[i])?s[i].call(t,e):s[i];return r}}function j(e,t){return e.isValid()?(t=Z(t,e.localeData()),$s[t]=$s[t]||A(t),$s[t](e)):e.localeData().invalidDate()}function Z(e,t){function n(e){return t.longDateFormat(e)||e}var s=5;for(zs.lastIndex=0;s>=0&&zs.test(e);)e=e.replace(zs,n),zs.lastIndex=0,s-=1;return e}function z(e,t,n){ci[e]=Y(t)?t:function(e,s){return e&&n?n:t}}function $(e,t){return l(ci,e)?ci[e](t._strict,t._locale):new RegExp(q(e))}function q(e){return J(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i}))}function J(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function B(e,t){var n,s=t;for("string"==typeof e&&(e=[e]),a(t)&&(s=function(e,n){n[t]=v(e)}),n=0;n<e.length;n++)fi[e[n]]=s}function Q(e,t){B(e,function(e,n,s,i){s._w=s._w||{},t(e,s._w,s,i)})}function X(e,t,n){null!=t&&l(fi,e)&&fi[e](t,n._a,n,e)}function K(e){return ee(e)?366:365}function ee(e){return e%4===0&&e%100!==0||e%400===0}function te(){return ee(this.year())}function ne(t,n){return function(s){return null!=s?(ie(this,t,s),e.updateOffset(this,n),this):se(this,t)}}function se(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function ie(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&ee(e.year())&&1===e.month()&&29===e.date()?e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),ue(n,e.month())):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function re(e){return e=F(e),Y(this[e])?this[e]():this}function ae(e,t){if("object"==typeof e){e=L(e);for(var n=G(e),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit])}else if(e=F(e),Y(this[e]))return this[e](t);return this}function oe(e,t){return(e%t+t)%t}function ue(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=oe(t,12);return e+=(t-n)/12,1===n?ee(e)?29:28:31-n%7%2}function le(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Yi).test(t)?"format":"standalone"][e.month()]:n(this._months)?this._months:this._months.standalone}function he(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Yi.test(t)?"format":"standalone"][e.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function de(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=d([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?(i=Si.call(this._shortMonthsParse,a),i!==-1?i:null):(i=Si.call(this._longMonthsParse,a),i!==-1?i:null):"MMM"===t?(i=Si.call(this._shortMonthsParse,a),i!==-1?i:(i=Si.call(this._longMonthsParse,a),i!==-1?i:null)):(i=Si.call(this._longMonthsParse,a),i!==-1?i:(i=Si.call(this._shortMonthsParse,a),i!==-1?i:null))}function ce(e,t,n){var s,i,r;if(this._monthsParseExact)return de.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=d([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}}function fe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=v(t);else if(t=e.localeData().monthsParse(t),!a(t))return e;return n=Math.min(e.date(),ue(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function me(t){return null!=t?(fe(this,t),e.updateOffset(this,!0),this):se(this,"Month")}function _e(){return ue(this.year(),this.month())}function ye(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(l(this,"_monthsShortRegex")||(this._monthsShortRegex=bi),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ge(e){return this._monthsParseExact?(l(this,"_monthsRegex")||pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(l(this,"_monthsRegex")||(this._monthsRegex=xi),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pe(){function e(e,t){return t.length-e.length}var t,n,s=[],i=[],r=[];for(t=0;t<12;t++)n=d([2e3,t]),s.push(this.monthsShort(n,"")),i.push(this.months(n,"")),r.push(this.months(n,"")),r.push(this.monthsShort(n,""));for(s.sort(e),i.sort(e),r.sort(e),t=0;t<12;t++)s[t]=J(s[t]),i[t]=J(i[t]);for(t=0;t<24;t++)r[t]=J(r[t]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function we(e,t,n,s,i,r,a){var o;return e<100&&e>=0?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o}function ve(e){var t;if(e<100&&e>=0){var n=Array.prototype.slice.call(arguments);n[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)}else t=new Date(Date.UTC.apply(null,arguments));return t}function Me(e,t,n){var s=7+t-n,i=(7+ve(e,0,s).getUTCDay()-t)%7;return-i+s-1}function ke(e,t,n,s,i){var r,a,o=(7+n-s)%7,u=Me(e,s,i),l=1+7*(t-1)+o+u;return l<=0?(r=e-1,a=K(r)+l):l>K(e)?(r=e+1,a=l-K(e)):(r=e,a=l),{year:r,dayOfYear:a}}function Se(e,t,n){var s,i,r=Me(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?(i=e.year()-1,s=a+De(i,t,n)):a>De(e.year(),t,n)?(s=a-De(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function De(e,t,n){var s=Me(e,t,n),i=Me(e+1,t,n);return(K(e)-s+i)/7}function Ye(e){return Se(e,this._week.dow,this._week.doy).week}function Oe(){return this._week.dow}function Te(){return this._week.doy}function be(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function xe(e){var t=Se(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Pe(e,t){return"string"!=typeof e?e:isNaN(e)?(e=t.weekdaysParse(e),"number"==typeof e?e:null):parseInt(e,10)}function We(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ce(e,t){return e.slice(t,7).concat(e.slice(0,t))}function He(e,t){var s=n(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?Ce(s,this._week.dow):e?s[e.day()]:s}function Re(e){return e===!0?Ce(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function Ue(e){return e===!0?Ce(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Fe(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=d([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?(i=Si.call(this._weekdaysParse,a),i!==-1?i:null):"ddd"===t?(i=Si.call(this._shortWeekdaysParse,a),i!==-1?i:null):(i=Si.call(this._minWeekdaysParse,a),i!==-1?i:null):"dddd"===t?(i=Si.call(this._weekdaysParse,a),i!==-1?i:(i=Si.call(this._shortWeekdaysParse,a),i!==-1?i:(i=Si.call(this._minWeekdaysParse,a),i!==-1?i:null))):"ddd"===t?(i=Si.call(this._shortWeekdaysParse,a),i!==-1?i:(i=Si.call(this._weekdaysParse,a),i!==-1?i:(i=Si.call(this._minWeekdaysParse,a),i!==-1?i:null))):(i=Si.call(this._minWeekdaysParse,a),i!==-1?i:(i=Si.call(this._weekdaysParse,a),i!==-1?i:(i=Si.call(this._shortWeekdaysParse,a),i!==-1?i:null)))}function Le(e,t,n){var s,i,r;if(this._weekdaysParseExact)return Fe.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=d([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}}function Ne(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Pe(e,this.localeData()),this.add(e-t,"d")):t}function Ge(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Ve(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=We(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Ee(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(l(this,"_weekdaysRegex")||(this._weekdaysRegex=Ri),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Ie(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(l(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ui),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ae(e){return this._weekdaysParseExact?(l(this,"_weekdaysRegex")||je.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(l(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Fi),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function je(){function e(e,t){return t.length-e.length}var t,n,s,i,r,a=[],o=[],u=[],l=[];for(t=0;t<7;t++)n=d([2e3,1]).day(t),s=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),r=this.weekdays(n,""),a.push(s),o.push(i),u.push(r),l.push(s),l.push(i),l.push(r);for(a.sort(e),o.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)o[t]=J(o[t]),u[t]=J(u[t]),l[t]=J(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ze(){return this.hours()%12||12}function ze(){return this.hours()||24}function $e(e,t){E(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function qe(e,t){return t._meridiemParse}function Je(e){return"p"===(e+"").toLowerCase().charAt(0)}function Be(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}function Qe(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){for(var t,n,s,i,r=0;r<e.length;){for(i=Qe(e[r]).split("-"),t=i.length,n=Qe(e[r+1]),n=n?n.split("-"):null;t>0;){if(s=Ke(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&M(i,n,!0)>=t-1)break;t--}r++}return Li}function Ke(e){var t=null;if(!Ei[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=Li._abbr;var n=require;n("./locale/"+e),et(t)}catch(s){}return Ei[e]}function et(e,t){var n;return e&&(n=r(t)?st(e):tt(e,t),n?Li=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),Li._abbr}function tt(e,t){if(null!==t){var n,s=Vi;if(t.abbr=e,null!=Ei[e])D("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=Ei[e]._config;else if(null!=t.parentLocale)if(null!=Ei[t.parentLocale])s=Ei[t.parentLocale]._config;else{if(n=Ke(t.parentLocale),null==n)return Ii[t.parentLocale]||(Ii[t.parentLocale]=[]),Ii[t.parentLocale].push({name:e,config:t}),null;s=n._config}return Ei[e]=new b(T(s,t)),Ii[e]&&Ii[e].forEach(function(e){tt(e.name,e.config)}),et(e),Ei[e]}return delete Ei[e],null}function nt(e,t){if(null!=t){var n,s,i=Vi;s=Ke(e),null!=s&&(i=s._config),t=T(i,t),n=new b(t),n.parentLocale=Ei[e],Ei[e]=n,et(e)}else null!=Ei[e]&&(null!=Ei[e].parentLocale?Ei[e]=Ei[e].parentLocale:null!=Ei[e]&&delete Ei[e]);return Ei[e]}function st(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return Li;if(!n(e)){if(t=Ke(e))return t;e=[e]}return Xe(e)}function it(){return Fs(Ei)}function rt(e){var t,n=e._a;return n&&f(e).overflow===-2&&(t=n[_i]<0||n[_i]>11?_i:n[yi]<1||n[yi]>ue(n[mi],n[_i])?yi:n[gi]<0||n[gi]>24||24===n[gi]&&(0!==n[pi]||0!==n[wi]||0!==n[vi])?gi:n[pi]<0||n[pi]>59?pi:n[wi]<0||n[wi]>59?wi:n[vi]<0||n[vi]>999?vi:-1,f(e)._overflowDayOfYear&&(t<mi||t>yi)&&(t=yi),f(e)._overflowWeeks&&t===-1&&(t=Mi),f(e)._overflowWeekday&&t===-1&&(t=ki),f(e).overflow=t),e}function at(e,t,n){return null!=e?e:null!=t?t:n}function ot(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function ut(e){var t,n,s,i,r,a=[];if(!e._d){for(s=ot(e),e._w&&null==e._a[yi]&&null==e._a[_i]&&lt(e),null!=e._dayOfYear&&(r=at(e._a[mi],s[mi]),(e._dayOfYear>K(r)||0===e._dayOfYear)&&(f(e)._overflowDayOfYear=!0),n=ve(r,0,e._dayOfYear),e._a[_i]=n.getUTCMonth(),e._a[yi]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=a[t]=s[t];for(;t<7;t++)e._a[t]=a[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[gi]&&0===e._a[pi]&&0===e._a[wi]&&0===e._a[vi]&&(e._nextDay=!0,e._a[gi]=0),e._d=(e._useUTC?ve:we).apply(null,a),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[gi]=24),e._w&&"undefined"!=typeof e._w.d&&e._w.d!==i&&(f(e).weekdayMismatch=!0)}}function lt(e){var t,n,s,i,r,a,o,u;if(t=e._w,null!=t.GG||null!=t.W||null!=t.E)r=1,a=4,n=at(t.GG,e._a[mi],Se(Ot(),1,4).year),s=at(t.W,1),i=at(t.E,1),(i<1||i>7)&&(u=!0);else{r=e._locale._week.dow,a=e._locale._week.doy;var l=Se(Ot(),r,a);n=at(t.gg,e._a[mi],l.year),s=at(t.w,l.week),null!=t.d?(i=t.d,(i<0||i>6)&&(u=!0)):null!=t.e?(i=t.e+r,(t.e<0||t.e>6)&&(u=!0)):i=r}s<1||s>De(n,r,a)?f(e)._overflowWeeks=!0:null!=u?f(e)._overflowWeekday=!0:(o=ke(n,s,i,r,a),e._a[mi]=o.year,e._dayOfYear=o.dayOfYear)}function ht(e){var t,n,s,i,r,a,o=e._i,u=Ai.exec(o)||ji.exec(o);if(u){for(f(e).iso=!0,t=0,n=zi.length;t<n;t++)if(zi[t][1].exec(u[1])){i=zi[t][0],s=zi[t][2]!==!1;break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=$i.length;t<n;t++)if($i[t][1].exec(u[3])){r=(u[2]||" ")+$i[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!Zi.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),pt(e)}else e._isValid=!1}function dt(e,t,n,s,i,r){var a=[ct(e),Ti.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}function ct(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function ft(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function mt(e,t,n){if(e){var s=Ci.indexOf(e),i=new Date(t[0],t[1],t[2]).getDay();if(s!==i)return f(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function _t(e,t,n){if(e)return Bi[e];if(t)return 0;var s=parseInt(n,10),i=s%100,r=(s-i)/100;return 60*r+i}function yt(e){var t=Ji.exec(ft(e._i));if(t){var n=dt(t[4],t[3],t[2],t[5],t[6],t[7]);if(!mt(t[1],n,e))return;e._a=n,e._tzm=_t(t[8],t[9],t[10]),e._d=ve.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),f(e).rfc2822=!0}else e._isValid=!1}function gt(t){var n=qi.exec(t._i);return null!==n?void(t._d=new Date((+n[1]))):(ht(t),void(t._isValid===!1&&(delete t._isValid,yt(t),t._isValid===!1&&(delete t._isValid,e.createFromInputFallback(t)))))}function pt(t){if(t._f===e.ISO_8601)return void ht(t);if(t._f===e.RFC_2822)return void yt(t);t._a=[],f(t).empty=!0;var n,s,i,r,a,o=""+t._i,u=o.length,l=0;for(i=Z(t._f,t._locale).match(Zs)||[],n=0;n<i.length;n++)r=i[n],s=(o.match($(r,t))||[])[0],s&&(a=o.substr(0,o.indexOf(s)),a.length>0&&f(t).unusedInput.push(a),o=o.slice(o.indexOf(s)+s.length),l+=s.length),qs[r]?(s?f(t).empty=!1:f(t).unusedTokens.push(r),X(r,s,t)):t._strict&&!s&&f(t).unusedTokens.push(r);f(t).charsLeftOver=u-l,o.length>0&&f(t).unusedInput.push(o),t._a[gi]<=12&&f(t).bigHour===!0&&t._a[gi]>0&&(f(t).bigHour=void 0),f(t).parsedDateParts=t._a.slice(0),f(t).meridiem=t._meridiem,t._a[gi]=wt(t._locale,t._a[gi],t._meridiem),ut(t),rt(t)}function wt(e,t,n){var s;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?(s=e.isPM(n),s&&t<12&&(t+=12),s||12!==t||(t=0),t):t}function vt(e){var t,n,s,i,r;if(0===e._f.length)return f(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)r=0,t=y({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],pt(t),m(t)&&(r+=f(t).charsLeftOver,r+=10*f(t).unusedTokens.length,f(t).score=r,(null==s||r<s)&&(s=r,n=t));h(e,n||t)}function Mt(e){if(!e._d){var t=L(e._i);e._a=u([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),ut(e)}}function kt(e){var t=new g(rt(St(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function St(e){var t=e._i,s=e._f;return e._locale=e._locale||st(e._l),null===t||void 0===s&&""===t?_({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),p(t)?new g(rt(t)):(o(t)?e._d=t:n(s)?vt(e):s?pt(e):Dt(e),m(e)||(e._d=null),e))}function Dt(t){var i=t._i;r(i)?t._d=new Date(e.now()):o(i)?t._d=new Date(i.valueOf()):"string"==typeof i?gt(t):n(i)?(t._a=u(i.slice(0),function(e){return parseInt(e,10)}),ut(t)):s(i)?Mt(t):a(i)?t._d=new Date(i):e.createFromInputFallback(t)}function Yt(e,t,r,a,o){var u={};return r!==!0&&r!==!1||(a=r,r=void 0),(s(e)&&i(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=o,u._l=r,u._i=e,u._f=t,u._strict=a,kt(u)}function Ot(e,t,n,s){return Yt(e,t,n,s,!1)}function Tt(e,t){var s,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Ot();for(s=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](s)||(s=t[i]);return s}function bt(){var e=[].slice.call(arguments,0);return Tt("isBefore",e)}function xt(){var e=[].slice.call(arguments,0);return Tt("isAfter",e)}function Pt(e){for(var t in e)if(Si.call(er,t)===-1||null!=e[t]&&isNaN(e[t]))return!1;for(var n=!1,s=0;s<er.length;++s)if(e[er[s]]){if(n)return!1;parseFloat(e[er[s]])!==v(e[er[s]])&&(n=!0)}return!0}function Wt(){return this._isValid}function Ct(){return Qt(NaN)}function Ht(e){var t=L(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,h=t.millisecond||0;this._isValid=Pt(t),this._milliseconds=+h+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=st(),this._bubble()}function Rt(e){return e instanceof Ht}function Ut(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Ft(e,t){E(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+V(~~(e/60),2)+t+V(~~e%60,2)})}function Lt(e,t){var n=(t||"").match(e);if(null===n)return null;var s=n[n.length-1]||[],i=(s+"").match(tr)||["-",0,0],r=+(60*i[1])+v(i[2]);return 0===r?0:"+"===i[0]?r:-r}function Nt(t,n){var s,i;return n._isUTC?(s=n.clone(),i=(p(t)||o(t)?t.valueOf():Ot(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+i),e.updateOffset(s,!1),s):Ot(t).local()}function Gt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Vt(t,n,s){var i,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(t=Lt(li,t),null===t)return this}else Math.abs(t)<16&&!s&&(t=60*t);return!this._isUTC&&n&&(i=Gt(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),r!==t&&(!n||this._changeInProgress?nn(this,Qt(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:Gt(this)}function Et(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function It(e){return this.utcOffset(0,e)}function At(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Gt(this),"m")),this}function jt(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=Lt(ui,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function Zt(e){return!!this.isValid()&&(e=e?Ot(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function zt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function $t(){if(!r(this._isDSTShifted))return this._isDSTShifted;var e={};if(y(e,this),e=St(e),e._a){var t=e._isUTC?d(e._a):Ot(e._a);this._isDSTShifted=this.isValid()&&M(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function qt(){return!!this.isValid()&&!this._isUTC}function Jt(){return!!this.isValid()&&this._isUTC}function Bt(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Qt(e,t){var n,s,i,r=e,o=null;return Rt(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:a(e)?(r={},t?r[t]=e:r.milliseconds=e):(o=nr.exec(e))?(n="-"===o[1]?-1:1,r={y:0,d:v(o[yi])*n,h:v(o[gi])*n,m:v(o[pi])*n,s:v(o[wi])*n,ms:v(Ut(1e3*o[vi]))*n}):(o=sr.exec(e))?(n="-"===o[1]?-1:1,r={y:Xt(o[2],n),M:Xt(o[3],n),w:Xt(o[4],n),d:Xt(o[5],n),h:Xt(o[6],n),m:Xt(o[7],n),s:Xt(o[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(i=en(Ot(r.from),Ot(r.to)),r={},r.ms=i.milliseconds,r.M=i.months),s=new Ht(r),Rt(e)&&l(e,"_locale")&&(s._locale=e._locale),s}function Xt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Kt(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function en(e,t){var n;return e.isValid()&&t.isValid()?(t=Nt(t,e),e.isBefore(t)?n=Kt(e,t):(n=Kt(t,e),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tn(e,t){return function(n,s){var i,r;return null===s||isNaN(+s)||(D(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),r=n,n=s,s=r),n="string"==typeof n?+n:n,i=Qt(n,s),nn(this,i,e),this}}function nn(t,n,s,i){var r=n._milliseconds,a=Ut(n._days),o=Ut(n._months);t.isValid()&&(i=null==i||i,o&&fe(t,se(t,"Month")+o*s),a&&ie(t,"Date",se(t,"Date")+a*s),r&&t._d.setTime(t._d.valueOf()+r*s),i&&e.updateOffset(t,a||o))}function sn(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(t,n){var s=t||Ot(),i=Nt(s,this).startOf("day"),r=e.calendarFormat(this,i)||"sameElse",a=n&&(Y(n[r])?n[r].call(this,s):n[r]);return this.format(a||this.localeData().calendar(r,this,Ot(s)))}function an(){return new g(this)}function on(e,t){var n=p(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&(t=F(t)||"millisecond","millisecond"===t?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function un(e,t){var n=p(e)?e:Ot(e);return!(!this.isValid()||!n.isValid())&&(t=F(t)||"millisecond","millisecond"===t?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function ln(e,t,n,s){var i=p(e)?e:Ot(e),r=p(t)?t:Ot(t);return!!(this.isValid()&&i.isValid()&&r.isValid())&&(s=s||"()",("("===s[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===s[1]?this.isBefore(r,n):!this.isAfter(r,n)))}function hn(e,t){var n,s=p(e)?e:Ot(e);return!(!this.isValid()||!s.isValid())&&(t=F(t)||"millisecond","millisecond"===t?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function dn(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function cn(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function fn(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(s=Nt(e,this),!s.isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=F(t)){case"year":r=mn(this,s)/12;break;case"month":r=mn(this,s);break;case"quarter":r=mn(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:w(r)}function mn(e,t){var n,s,i=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(i,"months");return t-r<0?(n=e.clone().add(i-1,"months"),s=(t-r)/(r-n)):(n=e.clone().add(i+1,"months"),s=(t-r)/(n-r)),-(i+s)||0}function _n(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function yn(e){if(!this.isValid())return null;var t=e!==!0,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?j(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Y(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(n,"Z")):j(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function gn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',s=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i="-MM-DD[T]HH:mm:ss.SSS",r=t+'[")]';return this.format(n+s+i+r)}function pn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=j(this,t);return this.localeData().postformat(n)}function wn(e,t){return this.isValid()&&(p(e)&&e.isValid()||Ot(e).isValid())?Qt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function vn(e){return this.from(Ot(),e)}function Mn(e,t){return this.isValid()&&(p(e)&&e.isValid()||Ot(e).isValid())?Qt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function kn(e){return this.to(Ot(),e)}function Sn(e){var t;return void 0===e?this._locale._abbr:(t=st(e),
null!=t&&(this._locale=t),this)}function Dn(){return this._locale}function Yn(e,t){return(e%t+t)%t}function On(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-hr:new Date(e,t,n).valueOf()}function Tn(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-hr:Date.UTC(e,t,n)}function bn(t){var n;if(t=F(t),void 0===t||"millisecond"===t||!this.isValid())return this;var s=this._isUTC?Tn:On;switch(t){case"year":n=s(this.year(),0,1);break;case"quarter":n=s(this.year(),this.month()-this.month()%3,1);break;case"month":n=s(this.year(),this.month(),1);break;case"week":n=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":n=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":n=s(this.year(),this.month(),this.date());break;case"hour":n=this._d.valueOf(),n-=Yn(n+(this._isUTC?0:this.utcOffset()*ur),lr);break;case"minute":n=this._d.valueOf(),n-=Yn(n,ur);break;case"second":n=this._d.valueOf(),n-=Yn(n,or)}return this._d.setTime(n),e.updateOffset(this,!0),this}function xn(t){var n;if(t=F(t),void 0===t||"millisecond"===t||!this.isValid())return this;var s=this._isUTC?Tn:On;switch(t){case"year":n=s(this.year()+1,0,1)-1;break;case"quarter":n=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":n=s(this.year(),this.month()+1,1)-1;break;case"week":n=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":n=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":n=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":n=this._d.valueOf(),n+=lr-Yn(n+(this._isUTC?0:this.utcOffset()*ur),lr)-1;break;case"minute":n=this._d.valueOf(),n+=ur-Yn(n,ur)-1;break;case"second":n=this._d.valueOf(),n+=or-Yn(n,or)-1}return this._d.setTime(n),e.updateOffset(this,!0),this}function Pn(){return this._d.valueOf()-6e4*(this._offset||0)}function Wn(){return Math.floor(this.valueOf()/1e3)}function Cn(){return new Date(this.valueOf())}function Hn(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Rn(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Un(){return this.isValid()?this.toISOString():null}function Fn(){return m(this)}function Ln(){return h({},f(this))}function Nn(){return f(this).overflow}function Gn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Vn(e,t){E(0,[e,e.length],0,t)}function En(e){return Zn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function In(e){return Zn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function An(){return De(this.year(),1,4)}function jn(){var e=this.localeData()._week;return De(this.year(),e.dow,e.doy)}function Zn(e,t,n,s,i){var r;return null==e?Se(this,s,i).year:(r=De(e,s,i),t>r&&(t=r),zn.call(this,e,t,n,s,i))}function zn(e,t,n,s,i){var r=ke(e,t,n,s,i),a=ve(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function $n(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function qn(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Jn(e,t){t[vi]=v(1e3*("0."+e))}function Bn(){return this._isUTC?"UTC":""}function Qn(){return this._isUTC?"Coordinated Universal Time":""}function Xn(e){return Ot(1e3*e)}function Kn(){return Ot.apply(null,arguments).parseZone()}function es(e){return e}function ts(e,t,n,s){var i=st(),r=d().set(s,t);return i[n](r,e)}function ns(e,t,n){if(a(e)&&(t=e,e=void 0),e=e||"",null!=t)return ts(e,t,n,"month");var s,i=[];for(s=0;s<12;s++)i[s]=ts(e,s,n,"month");return i}function ss(e,t,n,s){"boolean"==typeof e?(a(t)&&(n=t,t=void 0),t=t||""):(t=e,n=t,e=!1,a(t)&&(n=t,t=void 0),t=t||"");var i=st(),r=e?i._week.dow:0;if(null!=n)return ts(t,(n+r)%7,s,"day");var o,u=[];for(o=0;o<7;o++)u[o]=ts(t,(o+r)%7,s,"day");return u}function is(e,t){return ns(e,t,"months")}function rs(e,t){return ns(e,t,"monthsShort")}function as(e,t,n){return ss(e,t,n,"weekdays")}function os(e,t,n){return ss(e,t,n,"weekdaysShort")}function us(e,t,n){return ss(e,t,n,"weekdaysMin")}function ls(){var e=this._data;return this._milliseconds=pr(this._milliseconds),this._days=pr(this._days),this._months=pr(this._months),e.milliseconds=pr(e.milliseconds),e.seconds=pr(e.seconds),e.minutes=pr(e.minutes),e.hours=pr(e.hours),e.months=pr(e.months),e.years=pr(e.years),this}function hs(e,t,n,s){var i=Qt(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function ds(e,t){return hs(this,e,t,1)}function cs(e,t){return hs(this,e,t,-1)}function fs(e){return e<0?Math.floor(e):Math.ceil(e)}function ms(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return r>=0&&a>=0&&o>=0||r<=0&&a<=0&&o<=0||(r+=864e5*fs(ys(o)+a),a=0,o=0),u.milliseconds=r%1e3,e=w(r/1e3),u.seconds=e%60,t=w(e/60),u.minutes=t%60,n=w(t/60),u.hours=n%24,a+=w(n/24),i=w(_s(a)),o+=i,a-=fs(ys(i)),s=w(o/12),o%=12,u.days=a,u.months=o,u.years=s,this}function _s(e){return 4800*e/146097}function ys(e){return 146097*e/4800}function gs(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if(e=F(e),"month"===e||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+_s(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(ys(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}}function ps(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*v(this._months/12):NaN}function ws(e){return function(){return this.as(e)}}function vs(){return Qt(this)}function Ms(e){return e=F(e),this.isValid()?this[e+"s"]():NaN}function ks(e){return function(){return this.isValid()?this._data[e]:NaN}}function Ss(){return w(this.days()/7)}function Ds(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}function Ys(e,t,n){var s=Qt(e).abs(),i=Ur(s.as("s")),r=Ur(s.as("m")),a=Ur(s.as("h")),o=Ur(s.as("d")),u=Ur(s.as("M")),l=Ur(s.as("y")),h=i<=Fr.ss&&["s",i]||i<Fr.s&&["ss",i]||r<=1&&["m"]||r<Fr.m&&["mm",r]||a<=1&&["h"]||a<Fr.h&&["hh",a]||o<=1&&["d"]||o<Fr.d&&["dd",o]||u<=1&&["M"]||u<Fr.M&&["MM",u]||l<=1&&["y"]||["yy",l];return h[2]=t,h[3]=+e>0,h[4]=n,Ds.apply(null,h)}function Os(e){return void 0===e?Ur:"function"==typeof e&&(Ur=e,!0)}function Ts(e,t){return void 0!==Fr[e]&&(void 0===t?Fr[e]:(Fr[e]=t,"s"===e&&(Fr.ss=t-1),!0))}function bs(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),n=Ys(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)}function xs(e){return(e>0)-(e<0)||+e}function Ps(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s=Lr(this._milliseconds)/1e3,i=Lr(this._days),r=Lr(this._months);e=w(s/60),t=w(e/60),s%=60,e%=60,n=w(r/12),r%=12;var a=n,o=r,u=i,l=t,h=e,d=s?s.toFixed(3).replace(/\.?0+$/,""):"",c=this.asSeconds();if(!c)return"P0D";var f=c<0?"-":"",m=xs(this._months)!==xs(c)?"-":"",_=xs(this._days)!==xs(c)?"-":"",y=xs(this._milliseconds)!==xs(c)?"-":"";return f+"P"+(a?m+a+"Y":"")+(o?m+o+"M":"")+(u?_+u+"D":"")+(l||h||d?"T":"")+(l?y+l+"H":"")+(h?y+h+"M":"")+(d?y+d+"S":"")}var Ws,Cs;Cs=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var Hs=e.momentProperties=[],Rs=!1,Us={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var Fs;Fs=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)l(e,t)&&n.push(t);return n};var Ls={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ns={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Gs="Invalid date",Vs="%d",Es=/\d{1,2}/,Is={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},As={},js={},Zs=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,zs=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,$s={},qs={},Js=/\d/,Bs=/\d\d/,Qs=/\d{3}/,Xs=/\d{4}/,Ks=/[+-]?\d{6}/,ei=/\d\d?/,ti=/\d\d\d\d?/,ni=/\d\d\d\d\d\d?/,si=/\d{1,3}/,ii=/\d{1,4}/,ri=/[+-]?\d{1,6}/,ai=/\d+/,oi=/[+-]?\d+/,ui=/Z|[+-]\d\d:?\d\d/gi,li=/Z|[+-]\d\d(?::?\d\d)?/gi,hi=/[+-]?\d+(\.\d{1,3})?/,di=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ci={},fi={},mi=0,_i=1,yi=2,gi=3,pi=4,wi=5,vi=6,Mi=7,ki=8;E("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),E(0,["YY",2],0,function(){return this.year()%100}),E(0,["YYYY",4],0,"year"),E(0,["YYYYY",5],0,"year"),E(0,["YYYYYY",6,!0],0,"year"),U("year","y"),N("year",1),z("Y",oi),z("YY",ei,Bs),z("YYYY",ii,Xs),z("YYYYY",ri,Ks),z("YYYYYY",ri,Ks),B(["YYYYY","YYYYYY"],mi),B("YYYY",function(t,n){n[mi]=2===t.length?e.parseTwoDigitYear(t):v(t)}),B("YY",function(t,n){n[mi]=e.parseTwoDigitYear(t)}),B("Y",function(e,t){t[mi]=parseInt(e,10)}),e.parseTwoDigitYear=function(e){return v(e)+(v(e)>68?1900:2e3)};var Si,Di=ne("FullYear",!0);Si=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},E("M",["MM",2],"Mo",function(){return this.month()+1}),E("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),E("MMMM",0,0,function(e){return this.localeData().months(this,e)}),U("month","M"),N("month",8),z("M",ei),z("MM",ei,Bs),z("MMM",function(e,t){return t.monthsShortRegex(e)}),z("MMMM",function(e,t){return t.monthsRegex(e)}),B(["M","MM"],function(e,t){t[_i]=v(e)-1}),B(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[_i]=i:f(n).invalidMonth=e});var Yi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Oi="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ti="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),bi=di,xi=di;E("w",["ww",2],"wo","week"),E("W",["WW",2],"Wo","isoWeek"),U("week","w"),U("isoWeek","W"),N("week",5),N("isoWeek",5),z("w",ei),z("ww",ei,Bs),z("W",ei),z("WW",ei,Bs),Q(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=v(e)});var Pi={dow:0,doy:6};E("d",0,"do","day"),E("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),E("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),E("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),E("e",0,0,"weekday"),E("E",0,0,"isoWeekday"),U("day","d"),U("weekday","e"),U("isoWeekday","E"),N("day",11),N("weekday",11),N("isoWeekday",11),z("d",ei),z("e",ei),z("E",ei),z("dd",function(e,t){return t.weekdaysMinRegex(e)}),z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),z("dddd",function(e,t){return t.weekdaysRegex(e)}),Q(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:f(n).invalidWeekday=e}),Q(["d","e","E"],function(e,t,n,s){t[s]=v(e)});var Wi="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ci="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Hi="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ri=di,Ui=di,Fi=di;E("H",["HH",2],0,"hour"),E("h",["hh",2],0,Ze),E("k",["kk",2],0,ze),E("hmm",0,0,function(){return""+Ze.apply(this)+V(this.minutes(),2)}),E("hmmss",0,0,function(){return""+Ze.apply(this)+V(this.minutes(),2)+V(this.seconds(),2)}),E("Hmm",0,0,function(){return""+this.hours()+V(this.minutes(),2)}),E("Hmmss",0,0,function(){return""+this.hours()+V(this.minutes(),2)+V(this.seconds(),2)}),$e("a",!0),$e("A",!1),U("hour","h"),N("hour",13),z("a",qe),z("A",qe),z("H",ei),z("h",ei),z("k",ei),z("HH",ei,Bs),z("hh",ei,Bs),z("kk",ei,Bs),z("hmm",ti),z("hmmss",ni),z("Hmm",ti),z("Hmmss",ni),B(["H","HH"],gi),B(["k","kk"],function(e,t,n){var s=v(e);t[gi]=24===s?0:s}),B(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),B(["h","hh"],function(e,t,n){t[gi]=v(e),f(n).bigHour=!0}),B("hmm",function(e,t,n){var s=e.length-2;t[gi]=v(e.substr(0,s)),t[pi]=v(e.substr(s)),f(n).bigHour=!0}),B("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[gi]=v(e.substr(0,s)),t[pi]=v(e.substr(s,2)),t[wi]=v(e.substr(i)),f(n).bigHour=!0}),B("Hmm",function(e,t,n){var s=e.length-2;t[gi]=v(e.substr(0,s)),t[pi]=v(e.substr(s))}),B("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[gi]=v(e.substr(0,s)),t[pi]=v(e.substr(s,2)),t[wi]=v(e.substr(i))});var Li,Ni=/[ap]\.?m?\.?/i,Gi=ne("Hours",!0),Vi={calendar:Ls,longDateFormat:Ns,invalidDate:Gs,ordinal:Vs,dayOfMonthOrdinalParse:Es,relativeTime:Is,months:Oi,monthsShort:Ti,week:Pi,weekdays:Wi,weekdaysMin:Hi,weekdaysShort:Ci,meridiemParse:Ni},Ei={},Ii={},Ai=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ji=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zi=/Z|[+-]\d\d(?::?\d\d)?/,zi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],$i=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],qi=/^\/?Date\((\-?\d+)/i,Ji=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Bi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var Qi=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:_()}),Xi=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Ot.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:_()}),Ki=function(){return Date.now?Date.now():+new Date},er=["year","quarter","month","week","day","hour","minute","second","millisecond"];Ft("Z",":"),Ft("ZZ",""),z("Z",li),z("ZZ",li),B(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Lt(li,e)});var tr=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var nr=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,sr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Qt.fn=Ht.prototype,Qt.invalid=Ct;var ir=tn(1,"add"),rr=tn(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ar=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)}),or=1e3,ur=60*or,lr=60*ur,hr=3506328*lr;E(0,["gg",2],0,function(){return this.weekYear()%100}),E(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Vn("gggg","weekYear"),Vn("ggggg","weekYear"),Vn("GGGG","isoWeekYear"),Vn("GGGGG","isoWeekYear"),U("weekYear","gg"),U("isoWeekYear","GG"),N("weekYear",1),N("isoWeekYear",1),z("G",oi),z("g",oi),z("GG",ei,Bs),z("gg",ei,Bs),z("GGGG",ii,Xs),z("gggg",ii,Xs),z("GGGGG",ri,Ks),z("ggggg",ri,Ks),Q(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=v(e)}),Q(["gg","GG"],function(t,n,s,i){n[i]=e.parseTwoDigitYear(t)}),E("Q",0,"Qo","quarter"),U("quarter","Q"),N("quarter",7),z("Q",Js),B("Q",function(e,t){t[_i]=3*(v(e)-1)}),E("D",["DD",2],"Do","date"),U("date","D"),N("date",9),z("D",ei),z("DD",ei,Bs),z("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),B(["D","DD"],yi),B("Do",function(e,t){t[yi]=v(e.match(ei)[0])});var dr=ne("Date",!0);E("DDD",["DDDD",3],"DDDo","dayOfYear"),U("dayOfYear","DDD"),N("dayOfYear",4),z("DDD",si),z("DDDD",Qs),B(["DDD","DDDD"],function(e,t,n){n._dayOfYear=v(e)}),E("m",["mm",2],0,"minute"),U("minute","m"),N("minute",14),z("m",ei),z("mm",ei,Bs),B(["m","mm"],pi);var cr=ne("Minutes",!1);E("s",["ss",2],0,"second"),U("second","s"),N("second",15),z("s",ei),z("ss",ei,Bs),B(["s","ss"],wi);var fr=ne("Seconds",!1);E("S",0,0,function(){return~~(this.millisecond()/100)}),E(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),E(0,["SSS",3],0,"millisecond"),E(0,["SSSS",4],0,function(){return 10*this.millisecond()}),E(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),E(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),E(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),E(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),E(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),U("millisecond","ms"),N("millisecond",16),z("S",si,Js),z("SS",si,Bs),z("SSS",si,Qs);var mr;for(mr="SSSS";mr.length<=9;mr+="S")z(mr,ai);for(mr="S";mr.length<=9;mr+="S")B(mr,Jn);var _r=ne("Milliseconds",!1);E("z",0,0,"zoneAbbr"),E("zz",0,0,"zoneName");var yr=g.prototype;yr.add=ir,yr.calendar=rn,yr.clone=an,yr.diff=fn,yr.endOf=xn,yr.format=pn,yr.from=wn,yr.fromNow=vn,yr.to=Mn,yr.toNow=kn,yr.get=re,yr.invalidAt=Nn,yr.isAfter=on,yr.isBefore=un,yr.isBetween=ln,yr.isSame=hn,yr.isSameOrAfter=dn,yr.isSameOrBefore=cn,yr.isValid=Fn,yr.lang=ar,yr.locale=Sn,yr.localeData=Dn,yr.max=Xi,yr.min=Qi,yr.parsingFlags=Ln,yr.set=ae,yr.startOf=bn,yr.subtract=rr,yr.toArray=Hn,yr.toObject=Rn,yr.toDate=Cn,yr.toISOString=yn,yr.inspect=gn,yr.toJSON=Un,yr.toString=_n,yr.unix=Wn,yr.valueOf=Pn,yr.creationData=Gn,yr.year=Di,yr.isLeapYear=te,yr.weekYear=En,yr.isoWeekYear=In,yr.quarter=yr.quarters=$n,yr.month=me,yr.daysInMonth=_e,yr.week=yr.weeks=be,yr.isoWeek=yr.isoWeeks=xe,yr.weeksInYear=jn,yr.isoWeeksInYear=An,yr.date=dr,yr.day=yr.days=Ne,yr.weekday=Ge,yr.isoWeekday=Ve,yr.dayOfYear=qn,yr.hour=yr.hours=Gi,yr.minute=yr.minutes=cr,yr.second=yr.seconds=fr,yr.millisecond=yr.milliseconds=_r,yr.utcOffset=Vt,yr.utc=It,yr.local=At,yr.parseZone=jt,yr.hasAlignedHourOffset=Zt,yr.isDST=zt,yr.isLocal=qt,yr.isUtcOffset=Jt,yr.isUtc=Bt,yr.isUTC=Bt,yr.zoneAbbr=Bn,yr.zoneName=Qn,yr.dates=S("dates accessor is deprecated. Use date instead.",dr),yr.months=S("months accessor is deprecated. Use month instead",me),yr.years=S("years accessor is deprecated. Use year instead",Di),yr.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Et),yr.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",$t);var gr=b.prototype;gr.calendar=x,gr.longDateFormat=P,gr.invalidDate=W,gr.ordinal=C,gr.preparse=es,gr.postformat=es,gr.relativeTime=H,gr.pastFuture=R,gr.set=O,gr.months=le,gr.monthsShort=he,gr.monthsParse=ce,gr.monthsRegex=ge,gr.monthsShortRegex=ye,gr.week=Ye,gr.firstDayOfYear=Te,gr.firstDayOfWeek=Oe,gr.weekdays=He,gr.weekdaysMin=Ue,gr.weekdaysShort=Re,gr.weekdaysParse=Le,gr.weekdaysRegex=Ee,gr.weekdaysShortRegex=Ie,gr.weekdaysMinRegex=Ae,gr.isPM=Je,gr.meridiem=Be,et("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,n=1===v(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th";return e+n}}),e.lang=S("moment.lang is deprecated. Use moment.locale instead.",et),e.langData=S("moment.langData is deprecated. Use moment.localeData instead.",st);var pr=Math.abs,wr=ws("ms"),vr=ws("s"),Mr=ws("m"),kr=ws("h"),Sr=ws("d"),Dr=ws("w"),Yr=ws("M"),Or=ws("Q"),Tr=ws("y"),br=ks("milliseconds"),xr=ks("seconds"),Pr=ks("minutes"),Wr=ks("hours"),Cr=ks("days"),Hr=ks("months"),Rr=ks("years"),Ur=Math.round,Fr={ss:44,s:45,m:45,h:22,d:26,M:11},Lr=Math.abs,Nr=Ht.prototype;return Nr.isValid=Wt,Nr.abs=ls,Nr.add=ds,Nr.subtract=cs,Nr.as=gs,Nr.asMilliseconds=wr,Nr.asSeconds=vr,Nr.asMinutes=Mr,Nr.asHours=kr,Nr.asDays=Sr,Nr.asWeeks=Dr,Nr.asMonths=Yr,Nr.asQuarters=Or,Nr.asYears=Tr,Nr.valueOf=ps,Nr._bubble=ms,Nr.clone=vs,Nr.get=Ms,Nr.milliseconds=br,Nr.seconds=xr,Nr.minutes=Pr,Nr.hours=Wr,Nr.days=Cr,Nr.weeks=Ss,Nr.months=Hr,Nr.years=Rr,Nr.humanize=bs,Nr.toISOString=Ps,Nr.toString=Ps,Nr.toJSON=Ps,Nr.locale=Sn,Nr.localeData=Dn,Nr.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ps),Nr.lang=ar,E("X",0,0,"unix"),E("x",0,0,"valueOf"),z("x",oi),z("X",hi),B("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),B("x",function(e,t,n){n._d=new Date(v(e))}),e.version="2.24.0",t(Ot),e.fn=yr,e.min=bt,e.max=xt,e.now=Ki,e.utc=d,e.unix=Xn,e.months=is,e.isDate=o,e.locale=et,e.invalid=_,e.duration=Qt,e.isMoment=p,e.weekdays=as,e.parseZone=Kn,e.localeData=st,e.isDuration=Rt,e.monthsShort=rs,e.weekdaysMin=us,e.defineLocale=tt,e.updateLocale=nt,e.locales=it,e.weekdaysShort=os,e.normalizeUnits=F,e.relativeTimeRounding=Os,e.relativeTimeThreshold=Ts,e.calendarFormat=sn,e.prototype=yr,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},e});
},{}],"pc-bootstrap4-datetimepicker":[function(require,module,exports){
!function(e){"use strict";if("function"==typeof define&&define.amd)define(["jquery","moment"],e);else if("object"==typeof exports)module.exports=e(require("jquery"),require("moment"));else{if("undefined"==typeof jQuery)throw"bootstrap-datetimepicker requires jQuery to be loaded first";if("undefined"==typeof moment)throw"bootstrap-datetimepicker requires Moment.js to be loaded first";e(jQuery,moment)}}(function(e,t){"use strict";if(!t)throw new Error("bootstrap-datetimepicker requires Moment.js to be loaded first");var a=function(a,n){var r,i,o,d,s,l,p,c={},u=!0,f=!1,m=!1,h=0,y=[{clsName:"days",navFnc:"M",navStep:1},{clsName:"months",navFnc:"y",navStep:1},{clsName:"years",navFnc:"y",navStep:10},{clsName:"decades",navFnc:"y",navStep:100}],w=["days","months","years","decades"],b=["top","bottom","auto"],g=["left","right","auto"],v=["default","top","bottom"],k={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t","delete":46,46:"delete"},D={},C=function(){return void 0!==t.tz&&void 0!==n.timeZone&&null!==n.timeZone&&""!==n.timeZone},x=function(e){var a;return a=void 0===e||null===e?t():t.isDate(e)||t.isMoment(e)?t(e):C()?t.tz(e,l,n.useStrict,n.timeZone):t(e,l,n.useStrict),C()&&a.tz(n.timeZone),a},T=function(e){if("string"!=typeof e||e.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(e){case"y":return s.indexOf("Y")!==-1;case"M":return s.indexOf("M")!==-1;case"d":return s.toLowerCase().indexOf("d")!==-1;case"h":case"H":return s.toLowerCase().indexOf("h")!==-1;case"m":return s.indexOf("m")!==-1;case"s":return s.indexOf("s")!==-1;default:return!1}},M=function(){return T("h")||T("m")||T("s")},S=function(){return T("y")||T("M")||T("d")},O=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<i>").addClass(n.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",n.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<i>").addClass(n.icons.next)))),a=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",n.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table-condensed").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(a.clone()))]},P=function(){var t=e("<tr>"),a=e("<tr>"),r=e("<tr>");return T("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(e("<i>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:n.tooltips.pickHour}).attr("data-action","showHours"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(e("<i>").addClass(n.icons.down))))),T("m")&&(T("h")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(e("<i>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:n.tooltips.pickMinute}).attr("data-action","showMinutes"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(e("<i>").addClass(n.icons.down))))),T("s")&&(T("m")&&(t.append(e("<td>").addClass("separator")),a.append(e("<td>").addClass("separator").html(":")),r.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(e("<i>").addClass(n.icons.up)))),a.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:n.tooltips.pickSecond}).attr("data-action","showSeconds"))),r.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:n.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(e("<i>").addClass(n.icons.down))))),d||(t.append(e("<td>").addClass("separator")),a.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:n.tooltips.togglePeriod}))),r.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,a,r]))},E=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),a=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),r=[P()];return T("h")&&r.push(t),T("m")&&r.push(a),T("s")&&r.push(n),r},H=function(){var t=[];return n.showTodayButton&&t.push(e("<td>").append(e("<a>").attr({"data-action":"today",title:n.tooltips.today}).append(e("<i>").addClass(n.icons.today)))),!n.sideBySide&&S()&&M()&&t.push(e("<td>").append(e("<a>").attr({"data-action":"togglePicker",title:n.tooltips.selectTime}).append(e("<i>").addClass(n.icons.time)))),n.showClear&&t.push(e("<td>").append(e("<a>").attr({"data-action":"clear",title:n.tooltips.clear}).append(e("<i>").addClass(n.icons.clear)))),n.showClose&&t.push(e("<td>").append(e("<a>").attr({"data-action":"close",title:n.tooltips.close}).append(e("<i>").addClass(n.icons.close)))),e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},I=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),a=e("<div>").addClass("datepicker").append(O()),r=e("<div>").addClass("timepicker").append(E()),i=e("<ul>").addClass("list-unstyled"),o=e("<li>").addClass("picker-switch"+(n.collapse?" accordion-toggle":"")).append(H());return n.inline&&t.removeClass("dropdown-menu"),d&&t.addClass("usetwentyfour"),T("s")&&!d&&t.addClass("wider"),n.sideBySide&&S()&&M()?(t.addClass("timepicker-sbs"),"top"===n.toolbarPlacement&&t.append(o),t.append(e("<div>").addClass("row").append(a.addClass("col-md-6")).append(r.addClass("col-md-6"))),"bottom"===n.toolbarPlacement&&t.append(o),t):("top"===n.toolbarPlacement&&i.append(o),S()&&i.append(e("<li>").addClass(n.collapse&&M()?"collapse show":"").append(a)),"default"===n.toolbarPlacement&&i.append(o),M()&&i.append(e("<li>").addClass(n.collapse&&S()?"collapse":"").append(r)),"bottom"===n.toolbarPlacement&&i.append(o),t.append(i))},Y=function(){var t,r={};return t=a.is("input")||n.inline?a.data():a.find("input").data(),t.dateOptions&&t.dateOptions instanceof Object&&(r=e.extend(!0,r,t.dateOptions)),e.each(n,function(e){var a="date"+e.charAt(0).toUpperCase()+e.slice(1);void 0!==t[a]&&(r[e]=t[a])}),r},q=function(){var t,r=(f||a).position(),i=(f||a).offset(),o=n.widgetPositioning.vertical,d=n.widgetPositioning.horizontal;if(n.widgetParent)t=n.widgetParent.append(m);else if(a.is("input"))t=a.after(m).parent();else{if(n.inline)return void(t=a.append(m));t=a,a.children().first().after(m)}if("auto"===o&&(o=i.top+1.5*m.height()>=e(window).height()+e(window).scrollTop()&&m.height()+a.outerHeight()<i.top?"top":"bottom"),"auto"===d&&(d=t.width()<i.left+m.outerWidth()/2&&i.left+m.outerWidth()>e(window).width()?"right":"left"),"top"===o?m.addClass("top").removeClass("bottom"):m.addClass("bottom").removeClass("top"),"right"===d?m.addClass("pull-right"):m.removeClass("pull-right"),"static"===t.css("position")&&(t=t.parents().filter(function(){return"static"!==e(this).css("position")}).first()),0===t.length)throw new Error("datetimepicker component should be placed within a non-static positioned container");m.css({top:"top"===o?"auto":r.top+a.outerHeight(),bottom:"top"===o?t.outerHeight()-(t===a?0:r.top):"auto",left:"left"===d?t===a?0:r.left:"auto",right:"left"===d?"auto":t.outerWidth()-a.outerWidth()-(t===a?0:r.left)})},B=function(e){"dp.change"===e.type&&(e.date&&e.date.isSame(e.oldDate)||!e.date&&!e.oldDate)||a.trigger(e)},j=function(e){"y"===e&&(e="YYYY"),B({type:"dp.update",change:e,viewDate:i.clone()})},A=function(e){m&&(e&&(p=Math.max(h,Math.min(3,p+e))),m.find(".datepicker > div").hide().filter(".datepicker-"+y[p].clsName).show())},F=function(){var t=e("<tr>"),a=i.clone().startOf("w").startOf("d");for(n.calendarWeeks===!0&&t.append(e("<th>").addClass("cw").text("#"));a.isBefore(i.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(a.format("dd"))),a.add(1,"d");m.find(".datepicker-days thead").append(t)},L=function(e){return n.disabledDates[e.format("YYYY-MM-DD")]===!0},W=function(e){return n.enabledDates[e.format("YYYY-MM-DD")]===!0},z=function(e){return n.disabledHours[e.format("H")]===!0},N=function(e){return n.enabledHours[e.format("H")]===!0},V=function(t,a){if(!t.isValid())return!1;if(n.disabledDates&&"d"===a&&L(t))return!1;if(n.enabledDates&&"d"===a&&!W(t))return!1;if(n.minDate&&t.isBefore(n.minDate,a))return!1;if(n.maxDate&&t.isAfter(n.maxDate,a))return!1;if(n.daysOfWeekDisabled&&"d"===a&&n.daysOfWeekDisabled.indexOf(t.day())!==-1)return!1;if(n.disabledHours&&("h"===a||"m"===a||"s"===a)&&z(t))return!1;if(n.enabledHours&&("h"===a||"m"===a||"s"===a)&&!N(t))return!1;if(n.disabledTimeIntervals&&("h"===a||"m"===a||"s"===a)){var r=!1;if(e.each(n.disabledTimeIntervals,function(){if(t.isBetween(this[0],this[1]))return r=!0,!1}),r)return!1}return!0},Z=function(){for(var t=[],a=i.clone().startOf("y").startOf("d");a.isSame(i,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(a.format("MMM"))),a.add(1,"M");m.find(".datepicker-months td").empty().append(t)},R=function(){var t=m.find(".datepicker-months"),a=t.find("th"),o=t.find("tbody").find("span");a.eq(0).find("span").attr("title",n.tooltips.prevYear),a.eq(1).attr("title",n.tooltips.selectYear),a.eq(2).find("span").attr("title",n.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),V(i.clone().subtract(1,"y"),"y")||a.eq(0).addClass("disabled"),a.eq(1).text(i.year()),V(i.clone().add(1,"y"),"y")||a.eq(2).addClass("disabled"),o.removeClass("active"),r.isSame(i,"y")&&!u&&o.eq(r.month()).addClass("active"),o.each(function(t){V(i.clone().month(t),"M")||e(this).addClass("disabled")})},Q=function(){var e=m.find(".datepicker-years"),t=e.find("th"),a=i.clone().subtract(5,"y"),o=i.clone().add(6,"y"),d="";for(t.eq(0).find("span").attr("title",n.tooltips.prevDecade),t.eq(1).attr("title",n.tooltips.selectDecade),t.eq(2).find("span").attr("title",n.tooltips.nextDecade),e.find(".disabled").removeClass("disabled"),n.minDate&&n.minDate.isAfter(a,"y")&&t.eq(0).addClass("disabled"),t.eq(1).text(a.year()+"-"+o.year()),n.maxDate&&n.maxDate.isBefore(o,"y")&&t.eq(2).addClass("disabled");!a.isAfter(o,"y");)d+='<span data-action="selectYear" class="year'+(a.isSame(r,"y")&&!u?" active":"")+(V(a,"y")?"":" disabled")+'">'+a.year()+"</span>",a.add(1,"y");e.find("td").html(d)},U=function(){var e,a=m.find(".datepicker-decades"),o=a.find("th"),d=t({y:i.year()-i.year()%100-1}),s=d.clone().add(100,"y"),l=d.clone(),p=!1,c=!1,u="";for(o.eq(0).find("span").attr("title",n.tooltips.prevCentury),o.eq(2).find("span").attr("title",n.tooltips.nextCentury),a.find(".disabled").removeClass("disabled"),(d.isSame(t({y:1900}))||n.minDate&&n.minDate.isAfter(d,"y"))&&o.eq(0).addClass("disabled"),o.eq(1).text(d.year()+"-"+s.year()),(d.isSame(t({y:2e3}))||n.maxDate&&n.maxDate.isBefore(s,"y"))&&o.eq(2).addClass("disabled");!d.isAfter(s,"y");)e=d.year()+12,p=n.minDate&&n.minDate.isAfter(d,"y")&&n.minDate.year()<=e,c=n.maxDate&&n.maxDate.isAfter(d,"y")&&n.maxDate.year()<=e,u+='<span data-action="selectDecade" class="decade'+(r.isAfter(d)&&r.year()<=e?" active":"")+(V(d,"y")||p||c?"":" disabled")+'" data-selection="'+(d.year()+6)+'">'+(d.year()+1)+" - "+(d.year()+12)+"</span>",d.add(12,"y");u+="<span></span><span></span><span></span>",a.find("td").html(u),o.eq(1).text(l.year()+1+"-"+d.year())},G=function(){var t,a,o,d=m.find(".datepicker-days"),s=d.find("th"),l=[],p=[];if(S()){for(s.eq(0).find("span").attr("title",n.tooltips.prevMonth),s.eq(1).attr("title",n.tooltips.selectMonth),s.eq(2).find("span").attr("title",n.tooltips.nextMonth),d.find(".disabled").removeClass("disabled"),s.eq(1).text(i.format(n.dayViewHeaderFormat)),V(i.clone().subtract(1,"M"),"M")||s.eq(0).addClass("disabled"),V(i.clone().add(1,"M"),"M")||s.eq(2).addClass("disabled"),t=i.clone().startOf("M").startOf("w").startOf("d"),o=0;o<42;o++)0===t.weekday()&&(a=e("<tr>"),n.calendarWeeks&&a.append('<td class="cw">'+t.week()+"</td>"),l.push(a)),p=["day"],t.isBefore(i,"M")&&p.push("old"),t.isAfter(i,"M")&&p.push("new"),t.isSame(r,"d")&&!u&&p.push("active"),V(t,"d")||p.push("disabled"),t.isSame(x(),"d")&&p.push("today"),0!==t.day()&&6!==t.day()||p.push("weekend"),B({type:"dp.classify",date:t,classNames:p}),a.append('<td data-action="selectDay" data-day="'+t.format("L")+'" class="'+p.join(" ")+'">'+t.date()+"</td>"),t.add(1,"d");d.find("tbody").empty().append(l),R(),Q(),U()}},J=function(){var t=m.find(".timepicker-hours table"),a=i.clone().startOf("d"),n=[],r=e("<tr>");for(i.hour()>11&&!d&&a.hour(12);a.isSame(i,"d")&&(d||i.hour()<12&&a.hour()<12||i.hour()>11);)a.hour()%4===0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectHour" class="hour'+(V(a,"h")?"":" disabled")+'">'+a.format(d?"HH":"hh")+"</td>"),a.add(1,"h");t.empty().append(n)},K=function(){for(var t=m.find(".timepicker-minutes table"),a=i.clone().startOf("h"),r=[],o=e("<tr>"),d=1===n.stepping?5:n.stepping;i.isSame(a,"h");)a.minute()%(4*d)===0&&(o=e("<tr>"),r.push(o)),o.append('<td data-action="selectMinute" class="minute'+(V(a,"m")?"":" disabled")+'">'+a.format("mm")+"</td>"),a.add(d,"m");t.empty().append(r)},X=function(){for(var t=m.find(".timepicker-seconds table"),a=i.clone().startOf("m"),n=[],r=e("<tr>");i.isSame(a,"m");)a.second()%20===0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectSecond" class="second'+(V(a,"s")?"":" disabled")+'">'+a.format("ss")+"</td>"),a.add(5,"s");t.empty().append(n)},$=function(){var e,t,a=m.find(".timepicker span[data-time-component]");d||(e=m.find(".timepicker [data-action=togglePeriod]"),t=r.clone().add(r.hours()>=12?-12:12,"h"),e.text(r.format("A")),V(t,"h")?e.removeClass("disabled"):e.addClass("disabled")),a.filter("[data-time-component=hours]").text(r.format(d?"HH":"hh")),a.filter("[data-time-component=minutes]").text(r.format("mm")),a.filter("[data-time-component=seconds]").text(r.format("ss")),J(),K(),X()},_=function(){m&&(G(),$())},ee=function(e){var t=u?null:r;if(!e)return u=!0,o.val(""),a.data("date",""),B({type:"dp.change",date:!1,oldDate:t}),void _();if(e=e.clone().locale(n.locale),C()&&e.tz(n.timeZone),1!==n.stepping)for(e.minutes(Math.round(e.minutes()/n.stepping)*n.stepping).seconds(0);n.minDate&&e.isBefore(n.minDate);)e.add(n.stepping,"minutes");V(e)?(r=e,i=r.clone(),o.val(r.format(s)),a.data("date",r.format(s)),u=!1,_(),B({type:"dp.change",date:r.clone(),oldDate:t})):(n.keepInvalid?B({type:"dp.change",date:e,oldDate:t}):o.val(u?"":r.format(s)),B({type:"dp.error",date:e,oldDate:t}))},te=function(){var t=!1;return m?(m.find(".collapse").each(function(){var a=e(this).data("collapse");return!a||!a.transitioning||(t=!0,!1)}),t?c:(f&&f.hasClass("btn")&&f.toggleClass("active"),m.hide(),e(window).off("resize",q),m.off("click","[data-action]"),m.off("mousedown",!1),m.remove(),m=!1,B({type:"dp.hide",date:r.clone()}),o.blur(),i=r.clone(),c)):c},ae=function(){ee(null)},ne=function(e){return void 0===n.parseInputDate?(!t.isMoment(e)||e instanceof Date)&&(e=x(e)):e=n.parseInputDate(e),e},re={next:function(){var e=y[p].navFnc;i.add(y[p].navStep,e),G(),j(e)},previous:function(){var e=y[p].navFnc;i.subtract(y[p].navStep,e),G(),j(e)},pickerSwitch:function(){A(1)},selectMonth:function(t){var a=e(t.target).closest("tbody").find("span").index(e(t.target));i.month(a),p===h?(ee(r.clone().year(i.year()).month(i.month())),n.inline||te()):(A(-1),G()),j("M")},selectYear:function(t){var a=parseInt(e(t.target).text(),10)||0;i.year(a),p===h?(ee(r.clone().year(i.year())),n.inline||te()):(A(-1),G()),j("YYYY")},selectDecade:function(t){var a=parseInt(e(t.target).data("selection"),10)||0;i.year(a),p===h?(ee(r.clone().year(i.year())),n.inline||te()):(A(-1),G()),j("YYYY")},selectDay:function(t){var a=i.clone();e(t.target).is(".old")&&a.subtract(1,"M"),e(t.target).is(".new")&&a.add(1,"M"),ee(a.date(parseInt(e(t.target).text(),10))),M()||n.keepOpen||n.inline||te()},incrementHours:function(){var e=r.clone().add(1,"h");V(e,"h")&&ee(e)},incrementMinutes:function(){var e=r.clone().add(n.stepping,"m");V(e,"m")&&ee(e)},incrementSeconds:function(){var e=r.clone().add(1,"s");V(e,"s")&&ee(e)},decrementHours:function(){var e=r.clone().subtract(1,"h");V(e,"h")&&ee(e)},decrementMinutes:function(){var e=r.clone().subtract(n.stepping,"m");V(e,"m")&&ee(e)},decrementSeconds:function(){var e=r.clone().subtract(1,"s");V(e,"s")&&ee(e)},togglePeriod:function(){ee(r.clone().add(r.hours()>=12?-12:12,"h"))},togglePicker:function(t){var a,r=e(t.target),i=r.closest("ul"),o=i.find(".show"),d=i.find(".collapse:not(.show)");if(o&&o.length){if(a=o.data("collapse"),a&&a.transitioning)return;o.collapse?(o.collapse("hide"),d.collapse("show")):(o.removeClass("show"),d.addClass("show")),r.is("i")?r.toggleClass(n.icons.time+" "+n.icons.date):r.find("i").toggleClass(n.icons.time+" "+n.icons.date)}},showPicker:function(){m.find(".timepicker > div:not(.timepicker-picker)").hide(),m.find(".timepicker .timepicker-picker").show()},showHours:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-hours").show()},showMinutes:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-minutes").show()},showSeconds:function(){m.find(".timepicker .timepicker-picker").hide(),m.find(".timepicker .timepicker-seconds").show()},selectHour:function(t){var a=parseInt(e(t.target).text(),10);d||(r.hours()>=12?12!==a&&(a+=12):12===a&&(a=0)),ee(r.clone().hours(a)),re.showPicker.call(c)},selectMinute:function(t){ee(r.clone().minutes(parseInt(e(t.target).text(),10))),re.showPicker.call(c)},selectSecond:function(t){ee(r.clone().seconds(parseInt(e(t.target).text(),10))),re.showPicker.call(c)},clear:ae,today:function(){var e=x();V(e,"d")&&ee(e)},close:te},ie=function(t){return!e(t.currentTarget).is(".disabled")&&(re[e(t.currentTarget).data("action")].apply(c,arguments),!1)},oe=function(){var t,a={year:function(e){return e.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(e){return e.date(1).hours(0).seconds(0).minutes(0)},day:function(e){return e.hours(0).seconds(0).minutes(0)},hour:function(e){return e.seconds(0).minutes(0)},minute:function(e){return e.seconds(0)}};return o.prop("disabled")||!n.ignoreReadonly&&o.prop("readonly")||m?c:(void 0!==o.val()&&0!==o.val().trim().length?ee(ne(o.val().trim())):u&&n.useCurrent&&(n.inline||o.is("input")&&0===o.val().trim().length)&&(t=x(),"string"==typeof n.useCurrent&&(t=a[n.useCurrent](t)),ee(t)),m=I(),F(),Z(),m.find(".timepicker-hours").hide(),m.find(".timepicker-minutes").hide(),m.find(".timepicker-seconds").hide(),_(),A(),e(window).on("resize",q),m.on("click","[data-action]",ie),m.on("mousedown",!1),f&&f.hasClass("btn")&&f.toggleClass("active"),q(),m.show(),n.focusOnShow&&!o.is(":focus")&&o.focus(),B({type:"dp.show"}),c)},de=function(){return m?te():oe()},se=function(e){var t,a,r,i,o=null,d=[],s={},l=e.which,p="p";D[l]=p;for(t in D)D.hasOwnProperty(t)&&D[t]===p&&(d.push(t),parseInt(t,10)!==l&&(s[t]=!0));for(t in n.keyBinds)if(n.keyBinds.hasOwnProperty(t)&&"function"==typeof n.keyBinds[t]&&(r=t.split(" "),r.length===d.length&&k[l]===r[r.length-1])){for(i=!0,a=r.length-2;a>=0;a--)if(!(k[r[a]]in s)){i=!1;break}if(i){o=n.keyBinds[t];break}}o&&(o.call(c,m),e.stopPropagation(),e.preventDefault())},le=function(e){D[e.which]="r",e.stopPropagation(),e.preventDefault()},pe=function(t){var a=e(t.target).val().trim(),n=a?ne(a):null;return ee(n),t.stopImmediatePropagation(),!1},ce=function(){o.on({change:pe,blur:n.debug?"":te,keydown:se,keyup:le,focus:n.allowInputToggle?oe:""}),a.is("input")?o.on({focus:oe}):f&&(f.on("click",de),f.on("mousedown",!1))},ue=function(){o.off({change:pe,blur:blur,keydown:se,keyup:le,focus:n.allowInputToggle?te:""}),a.is("input")?o.off({focus:oe}):f&&(f.off("click",de),f.off("mousedown",!1))},fe=function(t){var a={};return e.each(t,function(){var e=ne(this);e.isValid()&&(a[e.format("YYYY-MM-DD")]=!0)}),!!Object.keys(a).length&&a},me=function(t){var a={};return e.each(t,function(){a[this]=!0}),!!Object.keys(a).length&&a},he=function(){var e=n.format||"L LT";s=e.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){var t=r.localeData().longDateFormat(e)||e;return t.replace(/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(e){return r.localeData().longDateFormat(e)||e})}),l=n.extraFormats?n.extraFormats.slice():[],l.indexOf(e)<0&&l.indexOf(s)<0&&l.push(s),d=s.toLowerCase().indexOf("a")<1&&s.replace(/\[.*?\]/g,"").indexOf("h")<1,T("y")&&(h=2),T("M")&&(h=1),T("d")&&(h=0),p=Math.max(h,p),u||ee(r)};if(c.destroy=function(){te(),ue(),a.removeData("DateTimePicker"),a.removeData("date")},c.toggle=de,c.show=oe,c.hide=te,c.disable=function(){return te(),f&&f.hasClass("btn")&&f.addClass("disabled"),o.prop("disabled",!0),c},c.enable=function(){return f&&f.hasClass("btn")&&f.removeClass("disabled"),o.prop("disabled",!1),c},c.ignoreReadonly=function(e){if(0===arguments.length)return n.ignoreReadonly;if("boolean"!=typeof e)throw new TypeError("ignoreReadonly () expects a boolean parameter");return n.ignoreReadonly=e,c},c.options=function(t){if(0===arguments.length)return e.extend(!0,{},n);if(!(t instanceof Object))throw new TypeError("options() options parameter should be an object");return e.extend(!0,n,t),e.each(n,function(e,t){if(void 0===c[e])throw new TypeError("option "+e+" is not recognized!");c[e](t)}),c},c.date=function(e){if(0===arguments.length)return u?null:r.clone();if(!(null===e||"string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");return ee(null===e?null:ne(e)),c},c.format=function(e){if(0===arguments.length)return n.format;if("string"!=typeof e&&("boolean"!=typeof e||e!==!1))throw new TypeError("format() expects a string or boolean:false parameter "+e);return n.format=e,s&&he(),c},c.timeZone=function(e){if(0===arguments.length)return n.timeZone;if("string"!=typeof e)throw new TypeError("newZone() expects a string parameter");return n.timeZone=e,c},c.dayViewHeaderFormat=function(e){if(0===arguments.length)return n.dayViewHeaderFormat;if("string"!=typeof e)throw new TypeError("dayViewHeaderFormat() expects a string parameter");return n.dayViewHeaderFormat=e,c},c.extraFormats=function(e){if(0===arguments.length)return n.extraFormats;if(e!==!1&&!(e instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");return n.extraFormats=e,l&&he(),c},c.disabledDates=function(t){if(0===arguments.length)return n.disabledDates?e.extend({},n.disabledDates):n.disabledDates;if(!t)return n.disabledDates=!1,_(),c;if(!(t instanceof Array))throw new TypeError("disabledDates() expects an array parameter");return n.disabledDates=fe(t),n.enabledDates=!1,_(),c},c.enabledDates=function(t){if(0===arguments.length)return n.enabledDates?e.extend({},n.enabledDates):n.enabledDates;if(!t)return n.enabledDates=!1,_(),c;if(!(t instanceof Array))throw new TypeError("enabledDates() expects an array parameter");return n.enabledDates=fe(t),n.disabledDates=!1,_(),c},c.daysOfWeekDisabled=function(e){if(0===arguments.length)return n.daysOfWeekDisabled.splice(0);if("boolean"==typeof e&&!e)return n.daysOfWeekDisabled=!1,_(),c;if(!(e instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(n.daysOfWeekDisabled=e.reduce(function(e,t){return t=parseInt(t,10),t>6||t<0||isNaN(t)?e:(e.indexOf(t)===-1&&e.push(t),e)},[]).sort(),n.useCurrent&&!n.keepInvalid){for(var t=0;!V(r,"d");){if(r.add(1,"d"),31===t)throw"Tried 31 times to find a valid date";t++}ee(r)}return _(),c},c.maxDate=function(e){if(0===arguments.length)return n.maxDate?n.maxDate.clone():n.maxDate;if("boolean"==typeof e&&e===!1)return n.maxDate=!1,_(),c;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=ne(e);if(!t.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+e);if(n.minDate&&t.isBefore(n.minDate))throw new TypeError("maxDate() date parameter is before options.minDate: "+t.format(s));return n.maxDate=t,n.useCurrent&&!n.keepInvalid&&r.isAfter(e)&&ee(n.maxDate),i.isAfter(t)&&(i=t.clone().subtract(n.stepping,"m")),_(),c},c.minDate=function(e){if(0===arguments.length)return n.minDate?n.minDate.clone():n.minDate;if("boolean"==typeof e&&e===!1)return n.minDate=!1,_(),c;"string"==typeof e&&("now"!==e&&"moment"!==e||(e=x()));var t=ne(e);if(!t.isValid())throw new TypeError("minDate() Could not parse date parameter: "+e);if(n.maxDate&&t.isAfter(n.maxDate))throw new TypeError("minDate() date parameter is after options.maxDate: "+t.format(s));return n.minDate=t,n.useCurrent&&!n.keepInvalid&&r.isBefore(e)&&ee(n.minDate),i.isBefore(t)&&(i=t.clone().add(n.stepping,"m")),_(),c},c.defaultDate=function(e){if(0===arguments.length)return n.defaultDate?n.defaultDate.clone():n.defaultDate;if(!e)return n.defaultDate=!1,c;"string"==typeof e&&(e="now"===e||"moment"===e?x():x(e));var t=ne(e);if(!t.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+e);if(!V(t))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");return n.defaultDate=t,(n.defaultDate&&n.inline||""===o.val().trim())&&ee(n.defaultDate),c},c.locale=function(e){if(0===arguments.length)return n.locale;if(!t.localeData(e))throw new TypeError("locale() locale "+e+" is not loaded from moment locales!");return n.locale=e,r.locale(n.locale),i.locale(n.locale),s&&he(),m&&(te(),oe()),c},c.stepping=function(e){return 0===arguments.length?n.stepping:(e=parseInt(e,10),(isNaN(e)||e<1)&&(e=1),n.stepping=e,c)},c.useCurrent=function(e){var t=["year","month","day","hour","minute"];if(0===arguments.length)return n.useCurrent;if("boolean"!=typeof e&&"string"!=typeof e)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof e&&t.indexOf(e.toLowerCase())===-1)throw new TypeError("useCurrent() expects a string parameter of "+t.join(", "));return n.useCurrent=e,c},c.collapse=function(e){if(0===arguments.length)return n.collapse;if("boolean"!=typeof e)throw new TypeError("collapse() expects a boolean parameter");return n.collapse===e?c:(n.collapse=e,m&&(te(),oe()),c)},c.icons=function(t){if(0===arguments.length)return e.extend({},n.icons);if(!(t instanceof Object))throw new TypeError("icons() expects parameter to be an Object");return e.extend(n.icons,t),m&&(te(),oe()),c},c.tooltips=function(t){if(0===arguments.length)return e.extend({},n.tooltips);if(!(t instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");return e.extend(n.tooltips,t),m&&(te(),oe()),c},c.useStrict=function(e){if(0===arguments.length)return n.useStrict;if("boolean"!=typeof e)throw new TypeError("useStrict() expects a boolean parameter");return n.useStrict=e,c},c.sideBySide=function(e){if(0===arguments.length)return n.sideBySide;if("boolean"!=typeof e)throw new TypeError("sideBySide() expects a boolean parameter");return n.sideBySide=e,m&&(te(),oe()),c},c.viewMode=function(e){if(0===arguments.length)return n.viewMode;if("string"!=typeof e)throw new TypeError("viewMode() expects a string parameter");if(w.indexOf(e)===-1)throw new TypeError("viewMode() parameter must be one of ("+w.join(", ")+") value");return n.viewMode=e,p=Math.max(w.indexOf(e),h),A(),c},c.toolbarPlacement=function(e){if(0===arguments.length)return n.toolbarPlacement;if("string"!=typeof e)throw new TypeError("toolbarPlacement() expects a string parameter");if(v.indexOf(e)===-1)throw new TypeError("toolbarPlacement() parameter must be one of ("+v.join(", ")+") value");return n.toolbarPlacement=e,m&&(te(),oe()),c},c.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},n.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),g.indexOf(t.horizontal)===-1)throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+g.join(", ")+")");n.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),b.indexOf(t.vertical)===-1)throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+b.join(", ")+")");n.widgetPositioning.vertical=t.vertical}return _(),c},c.calendarWeeks=function(e){if(0===arguments.length)return n.calendarWeeks;if("boolean"!=typeof e)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");return n.calendarWeeks=e,_(),c},c.showTodayButton=function(e){if(0===arguments.length)return n.showTodayButton;if("boolean"!=typeof e)throw new TypeError("showTodayButton() expects a boolean parameter");return n.showTodayButton=e,m&&(te(),oe()),c},c.showClear=function(e){if(0===arguments.length)return n.showClear;if("boolean"!=typeof e)throw new TypeError("showClear() expects a boolean parameter");return n.showClear=e,m&&(te(),oe()),c},c.widgetParent=function(t){if(0===arguments.length)return n.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");return n.widgetParent=t,m&&(te(),oe()),c},c.keepOpen=function(e){if(0===arguments.length)return n.keepOpen;if("boolean"!=typeof e)throw new TypeError("keepOpen() expects a boolean parameter");return n.keepOpen=e,c},c.focusOnShow=function(e){if(0===arguments.length)return n.focusOnShow;if("boolean"!=typeof e)throw new TypeError("focusOnShow() expects a boolean parameter");return n.focusOnShow=e,c},c.inline=function(e){if(0===arguments.length)return n.inline;if("boolean"!=typeof e)throw new TypeError("inline() expects a boolean parameter");return n.inline=e,c},c.clear=function(){return ae(),c},c.keyBinds=function(e){return 0===arguments.length?n.keyBinds:(n.keyBinds=e,c)},c.getMoment=function(e){return x(e)},c.debug=function(e){if("boolean"!=typeof e)throw new TypeError("debug() expects a boolean parameter");return n.debug=e,c},c.allowInputToggle=function(e){if(0===arguments.length)return n.allowInputToggle;if("boolean"!=typeof e)throw new TypeError("allowInputToggle() expects a boolean parameter");return n.allowInputToggle=e,c},c.showClose=function(e){if(0===arguments.length)return n.showClose;if("boolean"!=typeof e)throw new TypeError("showClose() expects a boolean parameter");return n.showClose=e,c},c.keepInvalid=function(e){if(0===arguments.length)return n.keepInvalid;if("boolean"!=typeof e)throw new TypeError("keepInvalid() expects a boolean parameter");
return n.keepInvalid=e,c},c.datepickerInput=function(e){if(0===arguments.length)return n.datepickerInput;if("string"!=typeof e)throw new TypeError("datepickerInput() expects a string parameter");return n.datepickerInput=e,c},c.parseInputDate=function(e){if(0===arguments.length)return n.parseInputDate;if("function"!=typeof e)throw new TypeError("parseInputDate() sholud be as function");return n.parseInputDate=e,c},c.disabledTimeIntervals=function(t){if(0===arguments.length)return n.disabledTimeIntervals?e.extend({},n.disabledTimeIntervals):n.disabledTimeIntervals;if(!t)return n.disabledTimeIntervals=!1,_(),c;if(!(t instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");return n.disabledTimeIntervals=t,_(),c},c.disabledHours=function(t){if(0===arguments.length)return n.disabledHours?e.extend({},n.disabledHours):n.disabledHours;if(!t)return n.disabledHours=!1,_(),c;if(!(t instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(n.disabledHours=me(t),n.enabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var a=0;!V(r,"h");){if(r.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}ee(r)}return _(),c},c.enabledHours=function(t){if(0===arguments.length)return n.enabledHours?e.extend({},n.enabledHours):n.enabledHours;if(!t)return n.enabledHours=!1,_(),c;if(!(t instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(n.enabledHours=me(t),n.disabledHours=!1,n.useCurrent&&!n.keepInvalid){for(var a=0;!V(r,"h");){if(r.add(1,"h"),24===a)throw"Tried 24 times to find a valid date";a++}ee(r)}return _(),c},c.viewDate=function(e){if(0===arguments.length)return i.clone();if(!e)return i=r.clone(),c;if(!("string"==typeof e||t.isMoment(e)||e instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");return i=ne(e),j(),c},a.is("input"))o=a;else if(o=a.find(n.datepickerInput),0===o.length)o=a.find("input");else if(!o.is("input"))throw new Error('CSS class "'+n.datepickerInput+'" cannot be applied to non input element');if(a.hasClass("input-group")&&(f=0===a.find(".datepickerbutton").length?a.find(".input-group-addon"):a.find(".datepickerbutton")),!n.inline&&!o.is("input"))throw new Error("Could not initialize DateTimePicker without an input element");return r=x(),i=r.clone(),e.extend(!0,n,Y()),c.options(n),he(),ce(),o.prop("disabled")&&c.disable(),o.is("input")&&0!==o.val().trim().length?ee(ne(o.val().trim())):n.defaultDate&&void 0===o.attr("placeholder")&&ee(n.defaultDate),n.inline&&oe(),c};return e.fn.datetimepicker=function(t){t=t||{};var n,r=Array.prototype.slice.call(arguments,1),i=!0,o=["destroy","hide","show","toggle"];if("object"==typeof t)return this.each(function(){var n,r=e(this);r.data("DateTimePicker")||(n=e.extend(!0,{},e.fn.datetimepicker.defaults,t),r.data("DateTimePicker",a(r,n)))});if("string"==typeof t)return this.each(function(){var a=e(this),o=a.data("DateTimePicker");if(!o)throw new Error('bootstrap-datetimepicker("'+t+'") method was called on an element that is not using DateTimePicker');n=o[t].apply(o,r),i=n===o}),i||e.inArray(t,o)>-1?this:n;throw new TypeError("Invalid arguments for DateTimePicker: "+t)},e.fn.datetimepicker.defaults={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:t.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-chevron-up",down:"fa fa-chevron-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-crosshairs",clear:"fa fa-trash-o",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",showTodayButton:!1,showClear:!1,showClose:!1,widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,datepickerInput:".datepickerinput",keyBinds:{up:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m"))}},down:function(e){if(!e)return void this.show();var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m"))},"control up":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h"))}},"control down":function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h"))}},left:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d"))}},right:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d"))}},pageUp:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M"))}},pageDown:function(e){if(e){var t=this.date()||this.getMoment();e.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M"))}},enter:function(){this.hide()},escape:function(){this.hide()},"control space":function(e){e&&e.find(".timepicker").is(":visible")&&e.find('.btn[data-action="togglePeriod"]').click()},t:function(){this.date(this.getMoment())},"delete":function(){this.clear()}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1},e.fn.datetimepicker});
},{"jquery":"jquery","moment":"moment"}],"tinymce/plugins/anchor/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=function(e){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(e)},r=function(e){var t=e.selection.getNode(),n="A"===t.tagName&&""===e.dom.getAttrib(t,"href");return n?t.id||t.name:""},o=function(e,t){var n=e.selection.getNode(),r="A"===n.tagName&&""===e.dom.getAttrib(n,"href");r?(n.removeAttribute("name"),n.id=t,e.undoManager.add()):(e.focus(),e.selection.collapse(!0),e.execCommand("mceInsertContent",!1,e.dom.createHTML("a",{id:t})))},a={isValidId:n,getId:r,insert:o},i=function(e,t){return a.isValidId(t)?(a.insert(e,t),!1):(e.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!0)},c=function(e){var t=a.getId(e);e.windowManager.open({title:"Anchor",body:{type:"textbox",name:"id",size:40,label:"Id",value:t},onsubmit:function(t){var n=t.data.id;i(e,n)&&t.preventDefault()}})},d={open:c},u=function(e){e.addCommand("mceAnchor",function(){d.open(e)})},s={register:u},l=function(e){return!e.attr("href")&&(e.attr("id")||e.attr("name"))&&!e.firstChild},f=function(e){return function(t){for(var n=0;n<t.length;n++)l(t[n])&&t[n].attr("contenteditable",e)}},m=function(e){e.on("PreInit",function(){e.parser.addNodeFilter("a",f("false")),e.serializer.addNodeFilter("a",f(null))})},h={setup:m},g=function(e){e.addButton("anchor",{icon:"anchor",tooltip:"Anchor",cmd:"mceAnchor",stateSelector:"a:not([href])"}),e.addMenuItem("anchor",{icon:"anchor",text:"Anchor",context:"insert",cmd:"mceAnchor"})},A={register:g};return t.add("anchor",function(e){h.setup(e),s.register(e),A.register(e)}),e})()}();
},{}],"tinymce/plugins/charmap/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(e,t){return e.fire("insertCustomChar",{chr:t})},a={fireInsertCustomChar:r},i=function(e,t){var r=a.fireInsertCustomChar(e,t).chr;e.execCommand("mceInsertContent",!1,r)},n={insertChar:i},o=tinymce.util.Tools.resolve("tinymce.util.Tools"),s=function(e){return e.settings.charmap},c=function(e){return e.settings.charmap_append},l={getCharMap:s,getCharMapAppend:c},u=o.isArray,m=function(){return[["160","no-break space"],["173","soft hyphen"],["34","quotation mark"],["162","cent sign"],["8364","euro sign"],["163","pound sign"],["165","yen sign"],["169","copyright sign"],["174","registered sign"],["8482","trade mark sign"],["8240","per mille sign"],["181","micro sign"],["183","middle dot"],["8226","bullet"],["8230","three dot leader"],["8242","minutes / feet"],["8243","seconds / inches"],["167","section sign"],["182","paragraph sign"],["223","sharp s / ess-zed"],["8249","single left-pointing angle quotation mark"],["8250","single right-pointing angle quotation mark"],["171","left pointing guillemet"],["187","right pointing guillemet"],["8216","left single quotation mark"],["8217","right single quotation mark"],["8220","left double quotation mark"],["8221","right double quotation mark"],["8218","single low-9 quotation mark"],["8222","double low-9 quotation mark"],["60","less-than sign"],["62","greater-than sign"],["8804","less-than or equal to"],["8805","greater-than or equal to"],["8211","en dash"],["8212","em dash"],["175","macron"],["8254","overline"],["164","currency sign"],["166","broken bar"],["168","diaeresis"],["161","inverted exclamation mark"],["191","turned question mark"],["710","circumflex accent"],["732","small tilde"],["176","degree sign"],["8722","minus sign"],["177","plus-minus sign"],["247","division sign"],["8260","fraction slash"],["215","multiplication sign"],["185","superscript one"],["178","superscript two"],["179","superscript three"],["188","fraction one quarter"],["189","fraction one half"],["190","fraction three quarters"],["402","function / florin"],["8747","integral"],["8721","n-ary sumation"],["8734","infinity"],["8730","square root"],["8764","similar to"],["8773","approximately equal to"],["8776","almost equal to"],["8800","not equal to"],["8801","identical to"],["8712","element of"],["8713","not an element of"],["8715","contains as member"],["8719","n-ary product"],["8743","logical and"],["8744","logical or"],["172","not sign"],["8745","intersection"],["8746","union"],["8706","partial differential"],["8704","for all"],["8707","there exists"],["8709","diameter"],["8711","backward difference"],["8727","asterisk operator"],["8733","proportional to"],["8736","angle"],["180","acute accent"],["184","cedilla"],["170","feminine ordinal indicator"],["186","masculine ordinal indicator"],["8224","dagger"],["8225","double dagger"],["192","A - grave"],["193","A - acute"],["194","A - circumflex"],["195","A - tilde"],["196","A - diaeresis"],["197","A - ring above"],["256","A - macron"],["198","ligature AE"],["199","C - cedilla"],["200","E - grave"],["201","E - acute"],["202","E - circumflex"],["203","E - diaeresis"],["274","E - macron"],["204","I - grave"],["205","I - acute"],["206","I - circumflex"],["207","I - diaeresis"],["298","I - macron"],["208","ETH"],["209","N - tilde"],["210","O - grave"],["211","O - acute"],["212","O - circumflex"],["213","O - tilde"],["214","O - diaeresis"],["216","O - slash"],["332","O - macron"],["338","ligature OE"],["352","S - caron"],["217","U - grave"],["218","U - acute"],["219","U - circumflex"],["220","U - diaeresis"],["362","U - macron"],["221","Y - acute"],["376","Y - diaeresis"],["562","Y - macron"],["222","THORN"],["224","a - grave"],["225","a - acute"],["226","a - circumflex"],["227","a - tilde"],["228","a - diaeresis"],["229","a - ring above"],["257","a - macron"],["230","ligature ae"],["231","c - cedilla"],["232","e - grave"],["233","e - acute"],["234","e - circumflex"],["235","e - diaeresis"],["275","e - macron"],["236","i - grave"],["237","i - acute"],["238","i - circumflex"],["239","i - diaeresis"],["299","i - macron"],["240","eth"],["241","n - tilde"],["242","o - grave"],["243","o - acute"],["244","o - circumflex"],["245","o - tilde"],["246","o - diaeresis"],["248","o slash"],["333","o macron"],["339","ligature oe"],["353","s - caron"],["249","u - grave"],["250","u - acute"],["251","u - circumflex"],["252","u - diaeresis"],["363","u - macron"],["253","y - acute"],["254","thorn"],["255","y - diaeresis"],["563","y - macron"],["913","Alpha"],["914","Beta"],["915","Gamma"],["916","Delta"],["917","Epsilon"],["918","Zeta"],["919","Eta"],["920","Theta"],["921","Iota"],["922","Kappa"],["923","Lambda"],["924","Mu"],["925","Nu"],["926","Xi"],["927","Omicron"],["928","Pi"],["929","Rho"],["931","Sigma"],["932","Tau"],["933","Upsilon"],["934","Phi"],["935","Chi"],["936","Psi"],["937","Omega"],["945","alpha"],["946","beta"],["947","gamma"],["948","delta"],["949","epsilon"],["950","zeta"],["951","eta"],["952","theta"],["953","iota"],["954","kappa"],["955","lambda"],["956","mu"],["957","nu"],["958","xi"],["959","omicron"],["960","pi"],["961","rho"],["962","final sigma"],["963","sigma"],["964","tau"],["965","upsilon"],["966","phi"],["967","chi"],["968","psi"],["969","omega"],["8501","alef symbol"],["982","pi symbol"],["8476","real part symbol"],["978","upsilon - hook symbol"],["8472","Weierstrass p"],["8465","imaginary part"],["8592","leftwards arrow"],["8593","upwards arrow"],["8594","rightwards arrow"],["8595","downwards arrow"],["8596","left right arrow"],["8629","carriage return"],["8656","leftwards double arrow"],["8657","upwards double arrow"],["8658","rightwards double arrow"],["8659","downwards double arrow"],["8660","left right double arrow"],["8756","therefore"],["8834","subset of"],["8835","superset of"],["8836","not a subset of"],["8838","subset of or equal to"],["8839","superset of or equal to"],["8853","circled plus"],["8855","circled times"],["8869","perpendicular"],["8901","dot operator"],["8968","left ceiling"],["8969","right ceiling"],["8970","left floor"],["8971","right floor"],["9001","left-pointing angle bracket"],["9002","right-pointing angle bracket"],["9674","lozenge"],["9824","black spade suit"],["9827","black club suit"],["9829","black heart suit"],["9830","black diamond suit"],["8194","en space"],["8195","em space"],["8201","thin space"],["8204","zero width non-joiner"],["8205","zero width joiner"],["8206","left-to-right mark"],["8207","right-to-left mark"]]},d=function(e){return o.grep(e,function(e){return u(e)&&2===e.length})},g=function(e){return u(e)?[].concat(d(e)):"function"==typeof e?e():[]},p=function(e,t){var r=l.getCharMap(e);r&&(t=g(r));var a=l.getCharMapAppend(e);return a?[].concat(t).concat(g(a)):t},h=function(e){return p(e,m())},f={getCharMap:h},b=function(e){var t=function(){return f.getCharMap(e)},r=function(t){n.insertChar(e,t)};return{getCharMap:t,insertChar:r}},v={get:b},w=function(e){var t,r,a,i=Math.min(e.length,25),n=Math.ceil(e.length/i);for(t='<table role="presentation" cellspacing="0" class="mce-charmap"><tbody>',a=0;a<n;a++){for(t+="<tr>",r=0;r<i;r++){var o=a*i+r;if(o<e.length){var s=e[o],c=parseInt(s[0],10),l=s?String.fromCharCode(c):"&nbsp;";t+='<td title="'+s[1]+'"><div tabindex="-1" title="'+s[1]+'" role="button" data-chr="'+c+'">'+l+"</div></td>"}else t+="<td />"}t+="</tr>"}return t+="</tbody></table>"},C={getHtml:w},y=function(e){for(;e;){if("TD"===e.nodeName)return e;e=e.parentNode}},x=function(e){var t,r={type:"container",html:C.getHtml(f.getCharMap(e)),onclick:function(r){var a=r.target;if(/^(TD|DIV)$/.test(a.nodeName)){var i=y(a).firstChild;if(i&&i.hasAttribute("data-chr")){var o=i.getAttribute("data-chr"),s=parseInt(o,10);isNaN(s)||n.insertChar(e,String.fromCharCode(s)),r.ctrlKey||t.close()}}},onmouseover:function(e){var r=y(e.target);r&&r.firstChild?(t.find("#preview").text(r.firstChild.firstChild.data),t.find("#previewTitle").text(r.title)):(t.find("#preview").text(" "),t.find("#previewTitle").text(" "))}};t=e.windowManager.open({title:"Special character",spacing:10,padding:10,items:[r,{type:"container",layout:"flex",direction:"column",align:"center",spacing:5,minWidth:160,minHeight:160,items:[{type:"label",name:"preview",text:" ",style:"font-size: 40px; text-align: center",border:1,minWidth:140,minHeight:80},{type:"spacer",minHeight:20},{type:"label",name:"previewTitle",text:" ",style:"white-space: pre-wrap;",border:1,minWidth:140}]}],buttons:[{text:"Close",onclick:function(){t.close()}}]})},k={open:x},q=function(e){e.addCommand("mceShowCharmap",function(){k.open(e)})},A={register:q},M=function(e){e.addButton("charmap",{icon:"charmap",tooltip:"Special character",cmd:"mceShowCharmap"}),e.addMenuItem("charmap",{icon:"charmap",text:"Special character",cmd:"mceShowCharmap",context:"insert"})},I={register:M};return t.add("charmap",function(e){return A.register(e),I.register(e),v.get(e)}),e})()}();
},{}],"tinymce/plugins/code/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function t(){}var e=tinymce.util.Tools.resolve("tinymce.PluginManager"),n=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),o=function(t){return t.getParam("code_dialog_width",600)},i=function(t){return t.getParam("code_dialog_height",Math.min(n.DOM.getViewPort().h-200,500))},c={getMinWidth:o,getMinHeight:i},d=function(t,e){t.focus(),t.undoManager.transact(function(){t.setContent(e)}),t.selection.setCursorLocation(),t.nodeChanged()},r=function(t){return t.getContent({source_view:!0})},u={setContent:d,getContent:r},a=function(t){var e=c.getMinWidth(t),n=c.getMinHeight(t),o=t.windowManager.open({title:"Source code",body:{type:"textbox",name:"code",multiline:!0,minWidth:e,minHeight:n,spellcheck:!1,style:"direction: ltr; text-align: left"},onSubmit:function(e){u.setContent(t,e.data.code)}});o.find("#code").value(u.getContent(t))},g={open:a},l=function(t){t.addCommand("mceCodeEditor",function(){g.open(t)})},s={register:l},f=function(t){t.addButton("code",{icon:"code",tooltip:"Source code",onclick:function(){g.open(t)}}),t.addMenuItem("code",{icon:"code",text:"Source code",onclick:function(){g.open(t)}})},m={register:f};return e.add("code",function(t){return s.register(t),m.register(t),{}}),t})()}();
},{}],"tinymce/plugins/colorpicker/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),i=tinymce.util.Tools.resolve("tinymce.util.Color"),t=function(e,n){e.find("#preview")[0].getEl().style.background=n},o=function(e,n){var o=i(n),l=o.toRgb();e.fromJSON({r:l.r,g:l.g,b:l.b,hex:o.toHex().substr(1)}),t(e,o.toHex())},l=function(e,n,i){var l=e.windowManager.open({title:"Color",items:{type:"container",layout:"flex",direction:"row",align:"stretch",padding:5,spacing:10,items:[{type:"colorpicker",value:i,onchange:function(){var e=this.rgb();l&&(l.find("#r").value(e.r),l.find("#g").value(e.g),l.find("#b").value(e.b),l.find("#hex").value(this.value().substr(1)),t(l,this.value()))}},{type:"form",padding:0,labelGap:5,defaults:{type:"textbox",size:7,value:"0",flex:1,spellcheck:!1,onchange:function(){var e,n,i=l.find("colorpicker")[0];return e=this.name(),n=this.value(),"hex"===e?(n="#"+n,o(l,n),void i.value(n)):(n={r:l.find("#r").value(),g:l.find("#g").value(),b:l.find("#b").value()},i.value(n),void o(l,n))}},items:[{name:"r",label:"R",autofocus:1},{name:"g",label:"G"},{name:"b",label:"B"},{name:"hex",label:"#",value:"000000"},{name:"preview",type:"container",border:1}]}]},onSubmit:function(){n("#"+l.toJSON().hex)}});o(l,i)},a={open:l};return n.add("colorpicker",function(e){e.settings.color_picker_callback||(e.settings.color_picker_callback=function(n,i){a.open(e,n,i)})}),e})()}();
},{}],"tinymce/plugins/contextmenu/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function t(){}var e=function(t){var n=t,o=function(){return n},u=function(t){n=t},r=function(){return e(o())};return{get:o,set:u,clone:r}},n=tinymce.util.Tools.resolve("tinymce.PluginManager"),o=function(t){var e=function(){return t.get()};return{isContextMenuVisible:e}},u={get:o},r=function(t){return t.settings.contextmenu_never_use_native},i=function(t){return t.getParam("contextmenu","link openlink image inserttable | cell row column deletetable")},c={shouldNeverUseNative:r,getContextMenu:i},s=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),l=function(t){return s.DOM.select(t.settings.ui_container)[0]},a=function(t,e){return{x:t,y:e}},f=function(t,e,n){return a(t.x+e,t.y+n)},g=function(t){return a(t.pageX,t.pageY)},m=function(t){return a(t.clientX,t.clientY)},v=function(t,e){if(t&&"static"!==s.DOM.getStyle(t,"position",!0)){var n=s.DOM.getPos(t),o=n.x-t.scrollLeft,u=n.y-t.scrollTop;return f(e,-o,-u)}return f(e,0,0)},x=function(t,e){var n=s.DOM.getPos(t);return f(e,n.x,n.y)},y=function(t,e){if(t.inline)return v(l(t),g(e));var n=x(t.getContentAreaContainer(),m(e));return v(l(t),n)},h={getPos:y},p=tinymce.util.Tools.resolve("tinymce.ui.Factory"),M=tinymce.util.Tools.resolve("tinymce.util.Tools"),d=function(t,e){var n,o,u=[];o=c.getContextMenu(t),M.each(o.split(/[ ,]/),function(e){var n=t.menuItems[e];"|"===e&&(n={text:e}),n&&(n.shortcut="",u.push(n))});for(var r=0;r<u.length;r++)"|"===u[r].text&&(0!==r&&r!==u.length-1||u.splice(r,1));return n=p.create("menu",{items:u,context:"contextmenu",classes:"contextmenu"}),n.uiContainer=l(t),n.renderTo(l(t)),n.on("hide",function(t){t.control===this&&e.set(!1)}),t.on("remove",function(){n.remove(),n=null}),n},T=function(t,e,n,o){null===o.get()?o.set(d(t,n)):o.get().show(),o.get().moveTo(e.x,e.y),n.set(!0)},C={show:T},D=function(t,e){return e.ctrlKey&&!c.shouldNeverUseNative(t)},P=function(t,e,n){t.on("contextmenu",function(o){D(t,o)||(o.preventDefault(),C.show(t,h.getPos(t,o),e,n))})},O={setup:P};return n.add("contextmenu",function(t){var n=e(null),o=e(!1);return O.setup(t,o,n),u.get(o)}),t})()}();
},{}],"tinymce/plugins/fullscreen/plugin.js":[function(require,module,exports){
!function(){(function(e){"use strict";function t(){}var n=function(e){var t=e,i=function(){return t},r=function(e){t=e},l=function(){return n(i())};return{get:i,set:r,clone:l}},i=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=function(e){return{isFullscreen:function(){return null!==e.get()}}},l={get:r},o=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),c=function(e,t){e.fire("FullscreenStateChanged",{state:t})},u={fireFullscreenStateChanged:c},s=o.DOM,d=function(){var t,n,i=e.window,r=e.document,l=r.body;return l.offsetWidth&&(t=l.offsetWidth,n=l.offsetHeight),i.innerWidth&&i.innerHeight&&(t=i.innerWidth,n=i.innerHeight),{w:t,h:n}},a=function(){var e=s.getViewPort();return{x:e.x,y:e.y}},f=function(t){e.window.scrollTo(t.x,t.y)},h=function(t,n){var i,r,l,o,c=e.document.body,h=e.document.documentElement,g=n.get(),m=function(){s.setStyle(l,"height",d().h-(r.clientHeight-l.clientHeight))},w=function(){s.unbind(e.window,"resize",m)};if(r=t.getContainer(),i=r.style,l=t.getContentAreaContainer().firstChild,o=l.style,g)o.width=g.iframeWidth,o.height=g.iframeHeight,g.containerWidth&&(i.width=g.containerWidth),g.containerHeight&&(i.height=g.containerHeight),s.removeClass(c,"mce-fullscreen"),s.removeClass(h,"mce-fullscreen"),s.removeClass(r,"mce-fullscreen"),f(g.scrollPos),s.unbind(e.window,"resize",g.resizeHandler),t.off("remove",g.removeHandler),n.set(null),u.fireFullscreenStateChanged(t,!1);else{var v={scrollPos:a(),containerWidth:i.width,containerHeight:i.height,iframeWidth:o.width,iframeHeight:o.height,resizeHandler:m,removeHandler:w};o.width=o.height="100%",i.width=i.height="",s.addClass(c,"mce-fullscreen"),s.addClass(h,"mce-fullscreen"),s.addClass(r,"mce-fullscreen"),s.bind(e.window,"resize",m),t.on("remove",w),m(),n.set(v),u.fireFullscreenStateChanged(t,!0)}},g={toggleFullscreen:h},m=function(e,t){e.addCommand("mceFullScreen",function(){g.toggleFullscreen(e,t)})},w={register:m},v=function(e){return function(t){var n=t.control;e.on("FullscreenStateChanged",function(e){n.active(e.state)})}},C=function(e){e.addMenuItem("fullscreen",{text:"Fullscreen",shortcut:"Ctrl+Shift+F",selectable:!0,cmd:"mceFullScreen",onPostRender:v(e),context:"view"}),e.addButton("fullscreen",{active:!1,tooltip:"Fullscreen",cmd:"mceFullScreen",onPostRender:v(e)})},F={register:C};return i.add("fullscreen",function(e){var t=n(null);return e.settings.inline?l.get(t):(w.register(e,t),F.register(e),e.addShortcut("Ctrl+Shift+F","","mceFullScreen"),l.get(t))}),t})(window)}();
},{}],"tinymce/plugins/image/plugin.js":[function(require,module,exports){
!function(){(function(e){"use strict";function t(){var e=L.getOrDie("FileReader");return new e}function n(){var e=L.getOrDie("XMLHttpRequest");return new e}function r(t){var r=function(r,a,i,o){var l,u;l=n(),l.open("POST",t.url),l.withCredentials=t.credentials,l.upload.onprogress=function(e){o(e.loaded/e.total*100)},l.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+l.status)},l.onload=function(){var e;return l.status<200||l.status>=300?void i("HTTP Error: "+l.status):(e=JSON.parse(l.responseText),e&&"string"==typeof e.location?void a(Qe(t.basePath,e.location)):void i("Invalid JSON: "+l.responseText))},u=new e.FormData,u.append("file",r.blob(),r.filename()),l.send(u)},a=function(e,t){return new N(function(n,r){try{t(e,n,r,Ke)}catch(a){r(a.message)}})},i=function(e){return e===r},o=function(e){return!t.url&&i(t.handler)?N.reject("Upload url missing from the settings."):a(e,t.handler)};return t=A.extend({credentials:!1,handler:r},t),{upload:o}}function a(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=t.concat(n);return e.apply(null,a)}}function i(e){function t(t){var n,r,i=Ue(e);if(t&&(r={type:"listbox",label:"Image list",name:"image-list",values:B.buildListItems(t,function(t){t.value=e.convertURL(t.value||t.url,"src")},[{text:"None",value:""}]),value:i.src&&e.convertURL(i.src,"src"),onselect:function(e){var t=n.find("#alt");(!t.value()||e.lastControl&&t.value()===e.lastControl.text())&&t.value(e.control.text()),n.find("#src").value(e.control.value()).fire("change")},onPostRender:function(){r=this}}),S.hasAdvTab(e)||S.hasUploadUrl(e)||S.hasUploadHandler(e)){var o=[Ge.makeTab(e,r)];S.hasAdvTab(e)&&o.push(_e.makeTab(e)),(S.hasUploadUrl(e)||S.hasUploadHandler(e))&&o.push(tt.makeTab(e)),n=e.windowManager.open({title:"Insert/edit image",data:i,bodyType:"tabpanel",body:o,onSubmit:a(nt,e)})}else n=e.windowManager.open({title:"Insert/edit image",data:i,body:Ge.getGeneralItems(e,r),onSubmit:a(nt,e)});He.syncSize(n)}function n(){B.createImageList(e,t)}return{open:n}}function o(){}var l=tinymce.util.Tools.resolve("tinymce.PluginManager"),u=function(e){return e.settings.image_dimensions!==!1},s=function(e){return e.settings.image_advtab===!0},c=function(e){return e.getParam("image_prepend_url","")},d=function(e){return e.getParam("image_class_list")},g=function(e){return e.settings.image_description!==!1},m=function(e){return e.settings.image_title===!0},f=function(e){return e.settings.image_caption===!0},p=function(e){return e.getParam("image_list",!1)},h=function(e){return e.getParam("images_upload_url",!1)},v=function(e){return e.getParam("images_upload_handler",!1)},b=function(e){return e.getParam("images_upload_url")},y=function(e){return e.getParam("images_upload_handler")},x=function(e){return e.getParam("images_upload_base_path")},w=function(e){return e.getParam("images_upload_credentials")},S={hasDimensions:u,hasAdvTab:s,getPrependUrl:c,getClassList:d,hasDescription:g,hasImageTitle:m,hasImageCaption:f,getImageList:p,hasUploadUrl:h,hasUploadHandler:v,getUploadUrl:b,getUploadHandler:y,getUploadBasePath:x,getUploadCredentials:w},U="undefined"!=typeof e.window?e.window:Function("return this;")(),C=function(e,t){for(var n=void 0!==t&&null!==t?t:U,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},T=function(e,t){var n=e.split(".");return C(n,t)},I=function(e,t){return T(e,t)},P=function(e,t){var n=I(e,t);if(void 0===n||null===n)throw new Error(e+" not available on this browser");return n},L={getOrDie:P},N=tinymce.util.Tools.resolve("tinymce.util.Promise"),A=tinymce.util.Tools.resolve("tinymce.util.Tools"),R=tinymce.util.Tools.resolve("tinymce.util.XHR"),_=function(e,t){return Math.max(parseInt(e,10),parseInt(t,10))},O=function(t,n){function r(e,t){a.parentNode&&a.parentNode.removeChild(a),n({width:e,height:t})}var a=e.document.createElement("img");a.onload=function(){var e=_(a.width,a.clientWidth),t=_(a.height,a.clientHeight);r(e,t)},a.onerror=function(){r(0,0)};var i=a.style;i.visibility="hidden",i.position="fixed",i.bottom=i.left="0px",i.width=i.height="auto",e.document.body.appendChild(a),a.src=t},k=function(e,t,n){function r(e,n){return n=n||[],A.each(e,function(e){var a={text:e.text||e.title};e.menu?a.menu=r(e.menu):(a.value=e.value,t(a)),n.push(a)}),n}return r(e,n||[])},D=function(e){return e&&(e=e.replace(/px$/,"")),e},z=function(e){return e.length>0&&/^[0-9]+$/.test(e)&&(e+="px"),e},M=function(e){if(e.margin){var t=e.margin.split(" ");switch(t.length){case 1:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[0],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[0];break;case 2:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[0],e["margin-left"]=e["margin-left"]||t[1];break;case 3:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[1];break;case 4:e["margin-top"]=e["margin-top"]||t[0],e["margin-right"]=e["margin-right"]||t[1],e["margin-bottom"]=e["margin-bottom"]||t[2],e["margin-left"]=e["margin-left"]||t[3]}delete e.margin}return e},E=function(e,t){var n=S.getImageList(e);"string"==typeof n?R.send({url:n,success:function(e){t(JSON.parse(e))}}):"function"==typeof n?n(t):t(n)},H=function(e,t,n){function r(){n.onload=n.onerror=null,e.selection&&(e.selection.select(n),e.nodeChanged())}n.onload=function(){t.width||t.height||!S.hasDimensions(e)||e.dom.setAttribs(n,{width:n.clientWidth,height:n.clientHeight}),r()},n.onerror=r},j=function(e){return new N(function(n,r){var a=t();a.onload=function(){n(a.result)},a.onerror=function(){r(a.error.message)},a.readAsDataURL(e)})},B={getImageSize:O,buildListItems:k,removePixelSuffix:D,addPixelSuffix:z,mergeMargins:M,createImageList:E,waitLoadImage:H,blobToDataUri:j},F=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),W=Object.prototype.hasOwnProperty,G=function(e,t){return t},J=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},a=0;a<t.length;a++){var i=t[a];for(var o in i)W.call(i,o)&&(r[o]=e(r[o],i[o]))}return r}},V=J(G),$=F.DOM,X=function(e){return e.style.marginLeft&&e.style.marginRight&&e.style.marginLeft===e.style.marginRight?B.removePixelSuffix(e.style.marginLeft):""},q=function(e){return e.style.marginTop&&e.style.marginBottom&&e.style.marginTop===e.style.marginBottom?B.removePixelSuffix(e.style.marginTop):""},K=function(e){return e.style.borderWidth?B.removePixelSuffix(e.style.borderWidth):""},Q=function(e,t){return e.hasAttribute(t)?e.getAttribute(t):""},Y=function(e,t){return e.style[t]?e.style[t]:""},Z=function(e){return null!==e.parentNode&&"FIGURE"===e.parentNode.nodeName},ee=function(e,t,n){e.setAttribute(t,n)},te=function(e){var t=$.create("figure",{"class":"image"});$.insertAfter(t,e),t.appendChild(e),t.appendChild($.create("figcaption",{contentEditable:!0},"Caption")),t.contentEditable="false"},ne=function(e){var t=e.parentNode;$.insertAfter(e,t),$.remove(t)},re=function(e){Z(e)?ne(e):te(e)},ae=function(e,t){var n=e.getAttribute("style"),r=t(null!==n?n:"");r.length>0?(e.setAttribute("style",r),e.setAttribute("data-mce-style",r)):e.removeAttribute("style")},ie=function(e,t){return function(e,n,r){e.style[n]?(e.style[n]=B.addPixelSuffix(r),ae(e,t)):ee(e,n,r)}},oe=function(e,t){return e.style[t]?B.removePixelSuffix(e.style[t]):Q(e,t)},le=function(e,t){var n=B.addPixelSuffix(t);e.style.marginLeft=n,e.style.marginRight=n},ue=function(e,t){var n=B.addPixelSuffix(t);e.style.marginTop=n,e.style.marginBottom=n},se=function(e,t){var n=B.addPixelSuffix(t);e.style.borderWidth=n},ce=function(e,t){e.style.borderStyle=t},de=function(e){return Y(e,"borderStyle")},ge=function(e){return"FIGURE"===e.nodeName},me=function(){return{src:"",alt:"",title:"",width:"",height:"","class":"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:""}},fe=function(t,n){var r=e.document.createElement("img");return ee(r,"style",n.style),(X(r)||""!==n.hspace)&&le(r,n.hspace),(q(r)||""!==n.vspace)&&ue(r,n.vspace),(K(r)||""!==n.border)&&se(r,n.border),(de(r)||""!==n.borderStyle)&&ce(r,n.borderStyle),t(r.getAttribute("style"))},pe=function(t,n){var r=e.document.createElement("img");if(ye(t,V(n,{caption:!1}),r),ee(r,"alt",n.alt),n.caption){var a=$.create("figure",{"class":"image"});return a.appendChild(r),a.appendChild($.create("figcaption",{contentEditable:!0},"Caption")),a.contentEditable="false",a}return r},he=function(e,t){return{src:Q(t,"src"),alt:Q(t,"alt"),title:Q(t,"title"),width:oe(t,"width"),height:oe(t,"height"),"class":Q(t,"class"),style:e(Q(t,"style")),caption:Z(t),hspace:X(t),vspace:q(t),border:K(t),borderStyle:Y(t,"borderStyle")}},ve=function(e,t,n,r,a){n[r]!==t[r]&&a(e,r,n[r])},be=function(e,t){return function(n,r,a){e(n,a),ae(n,t)}},ye=function(e,t,n){var r=he(e,n);ve(n,r,t,"caption",function(e,t,n){return re(e)}),ve(n,r,t,"src",ee),ve(n,r,t,"alt",ee),ve(n,r,t,"title",ee),ve(n,r,t,"width",ie("width",e)),ve(n,r,t,"height",ie("height",e)),ve(n,r,t,"class",ee),ve(n,r,t,"style",be(function(e,t){return ee(e,"style",t)},e)),ve(n,r,t,"hspace",be(le,e)),ve(n,r,t,"vspace",be(ue,e)),ve(n,r,t,"border",be(se,e)),ve(n,r,t,"borderStyle",be(ce,e))},xe=function(e,t){var n=e.dom.styles.parse(t),r=B.mergeMargins(n),a=e.dom.styles.parse(e.dom.styles.serialize(r));return e.dom.styles.serialize(a)},we=function(e){var t=e.selection.getNode(),n=e.dom.getParent(t,"figure.image");return n?e.dom.select("img",n)[0]:t&&("IMG"!==t.nodeName||t.getAttribute("data-mce-object")||t.getAttribute("data-mce-placeholder"))?null:t},Se=function(e,t){var n=e.dom,r=n.getParent(t.parentNode,function(t){return e.schema.getTextBlockElements()[t.nodeName]},e.getBody());return r?n.split(r,t):t},Ue=function(e){var t=we(e);return t?he(function(t){return xe(e,t)},t):me()},Ce=function(e,t){var n=pe(function(t){return xe(e,t)},t);e.dom.setAttrib(n,"data-mce-id","__mcenew"),e.focus(),e.selection.setContent(n.outerHTML);var r=e.dom.select('*[data-mce-id="__mcenew"]')[0];if(e.dom.setAttrib(r,"data-mce-id",null),ge(r)){var a=Se(e,r);e.selection.select(a)}else e.selection.select(r)},Te=function(e,t){e.dom.setAttrib(t,"src",t.getAttribute("src"))},Ie=function(e,t){if(t){var n=e.dom.is(t.parentNode,"figure.image")?t.parentNode:t;e.dom.remove(n),e.focus(),e.nodeChanged(),e.dom.isEmpty(e.getBody())&&(e.setContent(""),e.selection.setCursorLocation())}},Pe=function(e,t){var n=we(e);if(ye(function(t){return xe(e,t)},t,n),Te(e,n),ge(n.parentNode)){var r=n.parentNode;Se(e,r),e.selection.select(n.parentNode)}else e.selection.select(n),B.waitLoadImage(e,t,n)},Le=function(e,t){var n=we(e);n?t.src?Pe(e,t):Ie(e,n):t.src&&Ce(e,t)},Ne=function(e){return function(t){var n=e.dom,r=t.control.rootControl;if(S.hasAdvTab(e)){var a=r.toJSON(),i=n.parseStyle(a.style);r.find("#vspace").value(""),r.find("#hspace").value(""),i=B.mergeMargins(i),(i["margin-top"]&&i["margin-bottom"]||i["margin-right"]&&i["margin-left"])&&(i["margin-top"]===i["margin-bottom"]?r.find("#vspace").value(B.removePixelSuffix(i["margin-top"])):r.find("#vspace").value(""),i["margin-right"]===i["margin-left"]?r.find("#hspace").value(B.removePixelSuffix(i["margin-right"])):r.find("#hspace").value("")),i["border-width"]?r.find("#border").value(B.removePixelSuffix(i["border-width"])):r.find("#border").value(""),i["border-style"]?r.find("#borderStyle").value(i["border-style"]):r.find("#borderStyle").value(""),r.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(i))))}}},Ae=function(e,t){t.find("#style").each(function(n){var r=fe(function(t){return xe(e,t)},V(me(),t.toJSON()));n.value(r)})},Re=function(e){return{title:"Advanced",type:"form",pack:"start",items:[{label:"Style",name:"style",type:"textbox",onchange:Ne(e)},{type:"form",layout:"grid",packV:"start",columns:2,padding:0,defaults:{type:"textbox",maxWidth:50,onchange:function(t){Ae(e,t.control.rootControl)}},items:[{label:"Vertical space",name:"vspace"},{label:"Border width",name:"border"},{label:"Horizontal space",name:"hspace"},{label:"Border style",type:"listbox",name:"borderStyle",width:90,maxWidth:90,onselect:function(t){Ae(e,t.control.rootControl)},values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},_e={makeTab:Re},Oe=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},ke=function(e,t){var n=e.find("#width")[0],r=e.find("#height")[0],a=e.find("#constrain")[0];n&&r&&a&&t(n,r,a.checked())},De=function(e,t,n){var r=e.state.get("oldVal"),a=t.state.get("oldVal"),i=e.value(),o=t.value();n&&r&&a&&i&&o&&(i!==r?(o=Math.round(i/r*o),isNaN(o)||t.value(o)):(i=Math.round(o/a*i),isNaN(i)||e.value(i))),Oe(e,t)},ze=function(e){ke(e,Oe)},Me=function(e){ke(e,De)},Ee=function(){var e=function(e){Me(e.control.rootControl)};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:e,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},He={createUi:Ee,syncSize:ze,updateSize:Me},je=function(e,t){var n,r,a,i=e.meta||{},o=e.control,l=o.rootControl,u=l.find("#image-list")[0];u&&u.value(t.convertURL(o.value(),"src")),A.each(i,function(e,t){l.find("#"+t).value(e)}),i.width||i.height||(n=t.convertURL(o.value(),"src"),r=S.getPrependUrl(t),a=new RegExp("^(?:[a-z]+:)?//","i"),r&&!a.test(n)&&n.substring(0,r.length)!==r&&(n=r+n),o.value(n),B.getImageSize(t.documentBaseURI.toAbsolute(o.value()),function(e){e.width&&e.height&&S.hasDimensions(t)&&(l.find("#width").value(e.width),l.find("#height").value(e.height),He.syncSize(l))}))},Be=function(e){e.meta=e.control.rootControl.toJSON()},Fe=function(e,t){var n=[{name:"src",type:"filepicker",filetype:"image",label:"Source",autofocus:!0,onchange:function(t){je(t,e)},onbeforecall:Be},t];return S.hasDescription(e)&&n.push({name:"alt",type:"textbox",label:"Image description"}),S.hasImageTitle(e)&&n.push({name:"title",type:"textbox",label:"Image Title"}),S.hasDimensions(e)&&n.push(He.createUi()),S.getClassList(e)&&n.push({name:"class",type:"listbox",label:"Class",values:B.buildListItems(S.getClassList(e),function(t){t.value&&(t.textStyle=function(){return e.formatter.getCssText({inline:"img",classes:[t.value]})})})}),S.hasImageCaption(e)&&n.push({name:"caption",type:"checkbox",label:"Caption"}),n},We=function(e,t){return{title:"General",type:"form",items:Fe(e,t)}},Ge={makeTab:We,getGeneralItems:Fe},Je=function(){return L.getOrDie("URL")},Ve=function(e){return Je().createObjectURL(e)},$e=function(e){Je().revokeObjectURL(e)},Xe={createObjectURL:Ve,revokeObjectURL:$e},qe=tinymce.util.Tools.resolve("tinymce.ui.Factory"),Ke=function(){},Qe=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},Ye=function(e){return function(t){var n=qe.get("Throbber"),a=t.control.rootControl,i=new n(a.getEl()),o=t.control.value(),l=Xe.createObjectURL(o),u=r({url:S.getUploadUrl(e),basePath:S.getUploadBasePath(e),credentials:S.getUploadCredentials(e),handler:S.getUploadHandler(e)}),s=function(){i.hide(),Xe.revokeObjectURL(l)};return i.show(),B.blobToDataUri(o).then(function(t){var n=e.editorUpload.blobCache.create({blob:o,blobUri:l,name:o.name?o.name.replace(/\.[^\.]+$/,""):null,base64:t.split(",")[1]});return u.upload(n).then(function(e){var t=a.find("#src");return t.value(e),a.find("tabpanel")[0].activateTab(0),t.fire("change"),s(),e})})["catch"](function(t){e.windowManager.alert(t),s()})}},Ze=".jpg,.jpeg,.png,.gif",et=function(e){return{title:"Upload",type:"form",layout:"flex",direction:"column",align:"stretch",padding:"20 20 20 20",items:[{type:"container",layout:"flex",direction:"column",align:"center",spacing:10,items:[{text:"Browse for an image",type:"browsebutton",accept:Ze,onchange:Ye(e)},{text:"OR",type:"label"}]},{text:"Drop an image here",type:"dropzone",accept:Ze,height:100,onchange:Ye(e)}]}},tt={makeTab:et},nt=function(e,t){var n=t.control.getRoot();He.updateSize(n),e.undoManager.transact(function(){var t=V(Ue(e),n.toJSON());Le(e,t)}),e.editorUpload.uploadImagesAuto()},rt=function(e){e.addCommand("mceImage",i(e).open)},at={register:rt},it=function(e){var t=e.attr("class");return t&&/\bimage\b/.test(t)},ot=function(e){return function(t){for(var n,r=t.length,a=function(t){t.attr("contenteditable",e?"true":null)};r--;)n=t[r],it(n)&&(n.attr("contenteditable",e?"false":null),A.each(n.getAll("figcaption"),a))}},lt=function(e){e.on("preInit",function(){e.parser.addNodeFilter("figure",ot(!0)),e.serializer.addNodeFilter("figure",ot(!1))})},ut={setup:lt},st=function(e){e.addButton("image",{icon:"image",tooltip:"Insert/edit image",onclick:i(e).open,stateSelector:"img:not([data-mce-object],[data-mce-placeholder]),figure.image"}),e.addMenuItem("image",{icon:"image",text:"Image",onclick:i(e).open,context:"insert",prependToContext:!0})},ct={register:st};return l.add("image",function(e){ut.setup(e),ct.register(e),at.register(e)}),o})(window)}();
},{}],"tinymce/plugins/lists/plugin.js":[function(require,module,exports){
!function(){(function(e){"use strict";function t(){}var n=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),o=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),i=tinymce.util.Tools.resolve("tinymce.util.VK"),u=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),s=tinymce.util.Tools.resolve("tinymce.util.Tools"),a=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),c=function(e){return e&&3===e.nodeType},f=function(e){return e&&/^(OL|UL|DL)$/.test(e.nodeName)},d=function(e){return e&&/^(OL|UL)$/.test(e.nodeName)},l=function(e){return e&&/^(LI|DT|DD)$/.test(e.nodeName)},m=function(e){return e&&/^(DT|DD)$/.test(e.nodeName)},g=function(e){return e&&/^(TH|TD)$/.test(e.nodeName)},v=function(e){return e&&"BR"===e.nodeName},p=function(e){return e.parentNode.firstChild===e},h=function(e){return e.parentNode.lastChild===e},N=function(e,t){return t&&!!e.schema.getTextBlockElements()[t.nodeName]},y=function(e,t){return e&&e.nodeName in t},O=function(e,t){return!!v(t)&&!(!e.isBlock(t.nextSibling)||v(t.previousSibling))},C=function(e,t,n){var r=e.isEmpty(t);return!(n&&e.select("span[data-mce-type=bookmark]",t).length>0)&&r},S=function(e,t){return e.isChildOf(t,e.getRoot())},b={isTextNode:c,isListNode:f,isOlUlNode:d,isDlItemNode:m,isListItemNode:l,isTableCellNode:g,isBr:v,isFirstChild:p,isLastChild:h,isTextBlock:N,isBlock:y,isBogusBr:O,isEmpty:C,isChildOfBody:S},T=function(e,t){if(b.isTextNode(e))return{container:e,offset:t};var n=r.getNode(e,t);return b.isTextNode(n)?{container:n,offset:t>=e.childNodes.length?n.data.length:0}:n.previousSibling&&b.isTextNode(n.previousSibling)?{container:n.previousSibling,offset:n.previousSibling.data.length}:n.nextSibling&&b.isTextNode(n.nextSibling)?{container:n.nextSibling,offset:0}:{container:e,offset:t}},L=function(e){var t=e.cloneRange(),n=T(e.startContainer,e.startOffset);t.setStart(n.container,n.offset);var r=T(e.endContainer,e.endOffset);return t.setEnd(r.container,r.offset),t},k={getNormalizedPoint:T,normalizeRange:L},E=a.DOM,D=function(e){var t={},n=function(n){var r,o,i;o=e[n?"startContainer":"endContainer"],i=e[n?"startOffset":"endOffset"],1===o.nodeType&&(r=E.create("span",{"data-mce-type":"bookmark"}),o.hasChildNodes()?(i=Math.min(i,o.childNodes.length-1),n?o.insertBefore(r,o.childNodes[i]):E.insertAfter(r,o.childNodes[i])):o.appendChild(r),o=r,i=0),t[n?"startContainer":"endContainer"]=o,t[n?"startOffset":"endOffset"]=i};return n(!0),e.collapsed||n(),t},B=function(e){function t(t){var n,r,o,i=function(e){for(var t=e.parentNode.firstChild,n=0;t;){if(t===e)return n;1===t.nodeType&&"bookmark"===t.getAttribute("data-mce-type")||n++,t=t.nextSibling}return-1};n=o=e[t?"startContainer":"endContainer"],r=e[t?"startOffset":"endOffset"],n&&(1===n.nodeType&&(r=i(n),n=n.parentNode,E.remove(o),!n.hasChildNodes()&&E.isBlock(n)&&n.appendChild(E.create("br"))),e[t?"startContainer":"endContainer"]=n,e[t?"startOffset":"endOffset"]=r)}t(!0),t();var n=E.createRng();return n.setStart(e.startContainer,e.startOffset),e.endContainer&&n.setEnd(e.endContainer,e.endOffset),k.normalizeRange(n)},w={createBookmark:D,resolveBookmark:B},x=function(){},A=function(e){return function(){return e}},R=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},I=A(!1),P=A(!0),_=function(){return M},M=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:I,isSome:I,isNone:P,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:A(null),getOrUndefined:A(void 0),or:n,orThunk:t,map:_,each:x,bind:_,exists:I,forall:P,filter:_,equals:e,equals_:e,toArray:function(){return[]},toString:A("none()")};return Object.freeze&&Object.freeze(r),r}(),U=function(e){var t=A(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:P,isNone:I,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return U(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:M},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(I,function(t){return n(e,t)})}};return o},F=function(e){return null===e||void 0===e?M:U(e)},z={some:U,none:_,from:F},j=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},H=function(e){return function(t){return j(t)===e}},$=H("string"),W=H("array"),q=H("boolean"),V=H("function"),K=H("number"),Q=Array.prototype.slice,X=Array.prototype.push,Y=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},G=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},J=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},Z=function(e,t){if(0===e.length)return[];for(var n=t(e[0]),r=[],o=[],i=0,u=e.length;i<u;i++){var s=e[i],a=t(s);a!==n&&(r.push(o),o=[]),n=a,o.push(s)}return 0!==o.length&&r.push(o),r},ee=function(e,t,n){return G(e,function(e){n=t(n,e)}),n},te=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return z.some(o)}return z.none()},ne=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!W(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);X.apply(t,e[n])}return t},re=function(e,t){var n=Y(e,t);return ne(n)},oe=function(e){var t=Q.call(e,0);return t.reverse(),t},ie=function(e){return 0===e.length?z.none():z.some(e[0])},ue=function(e){return 0===e.length?z.none():z.some(e[e.length-1])},se=(V(Array.from)?Array.from:function(e){return Q.call(e)},"undefined"!=typeof e.window?e.window:Function("return this;")()),ae=function(e,t){for(var n=void 0!==t&&null!==t?t:se,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},ce=function(e,t){var n=e.split(".");return ae(n,t)},fe=function(e,t){return ce(e,t)},de=function(e,t){var n=fe(e,t);if(void 0===n||null===n)throw new Error(e+" not available on this browser");return n},le={getOrDie:de},me=function(e){return le.getOrDie("HTMLElement",e)},ge=function(e){var t=ce("ownerDocument.defaultView",e);return me(t).prototype.isPrototypeOf(e)},ve={isPrototypeOf:ge},pe=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),he=function(e){var t=e.selection.getStart(!0);return e.dom.getParent(t,"OL,UL,DL",Te(e,t))},Ne=function(e,t){return e&&1===t.length&&t[0]===e},ye=function(e){return s.grep(e.querySelectorAll("ol,ul,dl"),function(e){return b.isListNode(e)})},Oe=function(e){var t=he(e),n=e.selection.getSelectedBlocks();return Ne(t,n)?ye(t):s.grep(n,function(e){return b.isListNode(e)&&t!==e})},Ce=function(e,t){var n=s.map(t,function(t){var n=e.dom.getParent(t,"li,dd,dt",Te(e,t));return n?n:t});return pe.unique(n)},Se=function(e){var t=e.selection.getSelectedBlocks();return s.grep(Ce(e,t),function(e){return b.isListItemNode(e)})},be=function(e){return J(Se(e),b.isDlItemNode)},Te=function(e,t){var n=e.dom.getParents(t,"TD,TH"),r=n.length>0?n[0]:e.getBody();return r},Le=function(e,t){var n=e.dom.getParents(t,"ol,ul",Te(e,t));return ue(n)},ke=function(e){var t=Le(e,e.selection.getStart()),n=J(e.selection.getSelectedBlocks(),b.isOlUlNode);return t.toArray().concat(n)},Ee=function(e){var t=ke(e);return De(e,t)},De=function(e,t){var n=Y(t,function(t){return Le(e,t).getOr(t)});return pe.unique(n)},Be=function(e){var t=he(e);return ve.isPrototypeOf(t)},we={isList:Be,getParentList:he,getSelectedSubLists:Oe,getSelectedListItems:Se,getClosestListRootElm:Te,getSelectedDlItems:be,getSelectedListRoots:Ee},xe=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Ie(o.childNodes[0])},Ae=function(t,n){var r=n||e.document,o=r.createElement(t);return Ie(o)},Re=function(t,n){var r=n||e.document,o=r.createTextNode(t);return Ie(o)},Ie=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:A(e)}},Pe=function(e,t,n){var r=e.dom();return z.from(r.elementFromPoint(t,n)).map(Ie)},_e={fromHtml:xe,fromTag:Ae,fromText:Re,fromDom:Ie,fromPoint:Pe},Me=function(e,t,n){return e.isSome()&&t.isSome()?z.some(n(e.getOrDie(),t.getOrDie())):z.none()},Ue=function(t,n){var r=n||e.document,o=r.createDocumentFragment();return G(t,function(e){o.appendChild(e.dom())}),_e.fromDom(o)},Fe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return G(e,function(e,n){r[e]=A(t[n])}),r}},ze=Object.keys,je=function(e,t){for(var n=ze(e),r=0,o=n.length;r<o;r++){var i=n[r],u=e[i];t(u,i)}},He=function(){var e=le.getOrDie("Node");return e},$e=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},We=function(e,t){return $e(e,t,He().DOCUMENT_POSITION_PRECEDING)},qe=function(e,t){return $e(e,t,He().DOCUMENT_POSITION_CONTAINED_BY)},Ve={documentPositionPreceding:We,documentPositionContainedBy:qe},Ke=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Qe=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},Xe=function(e,t){var n=Qe(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return Je(r(1),r(2))},Ye=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Ge():Xe(e,n)},Ge=function(){return Je(0,0)},Je=function(e,t){return{major:e,minor:t}},Ze={nu:Je,detect:Ye,unknown:Ge},et="Edge",tt="Chrome",nt="IE",rt="Opera",ot="Firefox",it="Safari",ut=function(e,t){return function(){return t===e}},st=function(){return at({current:void 0,version:Ze.unknown()})},at=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:ut(et,t),isChrome:ut(tt,t),isIE:ut(nt,t),isOpera:ut(rt,t),isFirefox:ut(ot,t),isSafari:ut(it,t)}},ct={unknown:st,nu:at,edge:A(et),chrome:A(tt),ie:A(nt),opera:A(rt),firefox:A(ot),safari:A(it)},ft="Windows",dt="iOS",lt="Android",mt="Linux",gt="OSX",vt="Solaris",pt="FreeBSD",ht=function(e,t){return function(){return t===e}},Nt=function(){return yt({current:void 0,version:Ze.unknown()})},yt=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:ht(ft,t),isiOS:ht(dt,t),isAndroid:ht(lt,t),isOSX:ht(gt,t),isLinux:ht(mt,t),isSolaris:ht(vt,t),isFreeBSD:ht(pt,t)}},Ot={unknown:Nt,nu:yt,windows:A(ft),ios:A(dt),android:A(lt),linux:A(mt),osx:A(gt),solaris:A(vt),freebsd:A(pt)},Ct=function(e,t,n){var r=e.isiOS()&&/ipad/i.test(n)===!0,o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,u=e.isAndroid()&&4===e.version.major,s=r||i||u&&/mobile/i.test(n)===!0,a=e.isiOS()||e.isAndroid(),c=a&&!s,f=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1;return{isiPad:A(r),isiPhone:A(o),isTablet:A(s),isPhone:A(c),isTouch:A(a),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:A(f)}},St=function(e,t){var n=String(t).toLowerCase();return te(e,function(e){return e.search(n)})},bt=function(e,t){return St(e,t).map(function(e){var n=Ze.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Tt=function(e,t){return St(e,t).map(function(e){var n=Ze.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Lt={detectBrowser:bt,detectOs:Tt},kt=function(e,t){return e.indexOf(t)!==-1},Et=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Dt=function(e){return function(t){return kt(t,e)}},Bt=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return kt(e,"edge/")&&kt(e,"chrome")&&kt(e,"safari")&&kt(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Et],search:function(e){return kt(e,"chrome")&&!kt(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return kt(e,"msie")||kt(e,"trident")}},{name:"Opera",versionRegexes:[Et,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Dt("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Dt("firefox")},{name:"Safari",versionRegexes:[Et,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(kt(e,"safari")||kt(e,"mobile/"))&&kt(e,"applewebkit")}}],wt=[{name:"Windows",search:Dt("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return kt(e,"iphone")||kt(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Dt("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Dt("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Dt("linux"),versionRegexes:[]},{name:"Solaris",search:Dt("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Dt("freebsd"),versionRegexes:[]}],xt={browsers:A(Bt),oses:A(wt)},At=function(e){var t=xt.browsers(),n=xt.oses(),r=Lt.detectBrowser(t,e).fold(ct.unknown,ct.nu),o=Lt.detectOs(n,e).fold(Ot.unknown,Ot.nu),i=Ct(o,r,e);return{browser:r,os:o,deviceType:i}},Rt={detect:At},It=Ke(function(){var t=e.navigator.userAgent;return Rt.detect(t)}),Pt={detect:It},_t=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE,e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),Mt=(e.Node.TEXT_NODE,e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,_t),Ut=function(e,t){var n=e.dom();if(n.nodeType!==Mt)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Ft=function(e,t){return e.dom()===t.dom()},zt=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},jt=function(e,t){return Ve.documentPositionContainedBy(e.dom(),t.dom())},Ht=Pt.detect().browser,$t=Ht.isIE()?jt:zt,Wt=Ut,qt=function(e){return z.from(e.dom().parentNode).map(_e.fromDom)},Vt=function(e){return Y(e.dom().childNodes,_e.fromDom)},Kt=function(e,t){var n=e.dom().childNodes;return z.from(n[t]).map(_e.fromDom)},Qt=function(e){return Kt(e,0)},Xt=function(e){return Kt(e,e.dom().childNodes.length-1)},Yt=(Fe("element","offset"),function(e,t){var n=qt(e);n.each(function(n){n.dom().insertBefore(t.dom(),e.dom())})}),Gt=function(e,t){e.dom().appendChild(t.dom())},Jt=function(e,t){G(t,function(t){Yt(e,t)})},Zt=function(e,t){G(t,function(t){Gt(e,t)})},en=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},tn=function(e){var t=e.dom().nodeName;return t.toLowerCase()},nn=function(e){return e.dom().nodeType},rn=function(e){return function(t){return nn(t)===e}},on=rn(_t),un=function(t,n,r){if(!($(r)||q(r)||K(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},sn=function(e,t){var n=e.dom();je(t,function(e,t){un(n,t,e)})},an=function(e){return ee(e.dom().attributes,function(e,t){return e[t.name]=t.value,e},{})},cn=function(e){return void 0!==e.style&&V(e.style.getPropertyValue)},fn=function(t,n,r){if(!$(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);cn(t)&&t.style.setProperty(n,r)},dn=function(e,t,n){var r=e.dom();fn(r,t,n)},ln=function(e,t){return _e.fromDom(e.dom().cloneNode(t))},mn=function(e){return ln(e,!0)},gn=function(e,t){var n=_e.fromTag(t),r=an(e);return sn(n,r),n},vn=function(e,t){var n=gn(e,t);Yt(e,n);var r=Vt(e);return Zt(n,r),en(e),n},pn=function(e,t){Gt(e.item,t.list)},hn=function(e){for(var t=1;t<e.length;t++)pn(e[t-1],e[t])},Nn=function(e,t){Me(ue(e),ie(t),pn)},yn=function(e,t){var n={list:_e.fromTag(t,e),item:_e.fromTag("li",e)};return Gt(n.list,n.item),n},On=function(e,t,n){for(var r=[],o=0;o<n;o++)r.push(yn(e,t.listType));return r},Cn=function(e,t){for(var n=0;n<e.length-1;n++)dn(e[n].item,"list-style-type","none");ue(e).each(function(e){sn(e.list,t.listAttributes),sn(e.item,t.itemAttributes),Zt(e.item,t.content)})},Sn=function(e,t){tn(e.list)!==t.listType&&(e.list=vn(e.list,t.listType)),sn(e.list,t.listAttributes)},bn=function(e,t,n){var r=_e.fromTag("li",e);return sn(r,t),Zt(r,n),r},Tn=function(e,t){Gt(e.list,t),e.item=t},Ln=function(e,t,n){var r=t.slice(0,n.depth);return ue(r).each(function(t){var r=bn(e,n.itemAttributes,n.content);Tn(t,r),Sn(t,n)}),r},kn=function(e,t,n){var r=On(e,n,n.depth-t.length);return hn(r),Cn(r,n),Nn(t,r),t.concat(r)},En=function(e,t){var n=ee(t,function(t,n){return n.depth>t.length?kn(e,t,n):Ln(e,t,n)},[]);return ie(n).map(function(e){return e.list})},Dn=function(e){return Wt(e,"OL,UL")},Bn=function(e){return Qt(e).map(Dn).getOr(!1)},wn=function(e){return Xt(e).map(Dn).getOr(!1)},xn=function(e){return e.depth>0},An=function(e){return e.isSelected},Rn=function(e){var t=Vt(e),n=wn(e)?t.slice(0,-1):t;return Y(n,mn)},In=function(e,t,n){return qt(e).filter(on).map(function(r){return{depth:t,isSelected:n,content:Rn(e),itemAttributes:an(e),listAttributes:an(r),listType:tn(r)}})},Pn=function(e,t){switch(e){case"Indent":t.depth++;break;case"Outdent":t.depth--;break;case"Flatten":t.depth=0}},_n=Object.prototype.hasOwnProperty,Mn=function(e,t){return t},Un=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var u in i)_n.call(i,u)&&(r[u]=e(r[u],i[u]))}return r}},Fn=Un(Mn),zn=function(e,t){e.listType=t.listType,e.listAttributes=Fn({},t.listAttributes)},jn=function(e,t){for(var n=e[t].depth,r=t-1;r>=0;r--){if(e[r].depth===n)return z.some(e[r]);if(e[r].depth<n)break}return z.none()},Hn=function(e){G(e,function(t,n){jn(e,n).each(function(e){zn(t,e)})})},$n=function(e){var t=e,n=function(){return t},r=function(e){t=e},o=function(){return $n(n())};return{get:n,set:r,clone:o}},Wn=function(e,t,n,r){return Qt(r).filter(Dn).fold(function(){t.each(function(e){Ft(e.start,r)&&n.set(!0)});var o=In(r,e,n.get());t.each(function(e){Ft(e.end,r)&&n.set(!1)});var i=Xt(r).filter(Dn).map(function(r){return qn(e,t,n,r)}).getOr([]);return o.toArray().concat(i)},function(r){return qn(e,t,n,r)})},qn=function(e,t,n,r){return re(Vt(r),function(r){var o=Dn(r)?qn:Wn,i=e+1;return o(i,t,n,r)})},Vn=function(e,t){var n=$n(!1),r=0;return Y(e,function(e){return{sourceList:e,entries:qn(r,t,n,e)}})},Kn=tinymce.util.Tools.resolve("tinymce.Env"),Qn=function(e,t){var n,r,o,i,u=e.dom,s=e.schema.getBlockElements(),a=u.createFragment();if(e.settings.forced_root_block&&(o=e.settings.forced_root_block),o&&(r=u.create(o),r.tagName===e.settings.forced_root_block&&u.setAttribs(r,e.settings.forced_root_block_attrs),b.isBlock(t.firstChild,s)||a.appendChild(r)),t)for(;n=t.firstChild;){var c=n.nodeName;i||"SPAN"===c&&"bookmark"===n.getAttribute("data-mce-type")||(i=!0),b.isBlock(n,s)?(a.appendChild(n),r=null):o?(r||(r=u.create(o),a.appendChild(r)),r.appendChild(n)):a.appendChild(n)}return e.settings.forced_root_block?i||Kn.ie&&!(Kn.ie>10)||r.appendChild(u.create("br",{"data-mce-bogus":"1"})):a.appendChild(u.create("br")),a},Xn=function(e,t){return Y(t,function(t){var n=Ue(t.content);return _e.fromDom(Qn(e,n.dom()))})},Yn=function(e,t){return Hn(t),En(e.contentDocument,t).toArray()},Gn=function(e,t){return re(Z(t,xn),function(t){var n=ie(t).map(xn).getOr(!1);return n?Yn(e,t):Xn(e,t)})},Jn=function(e,t){G(J(e,An),function(e){return Pn(t,e)})},Zn=function(e){var t=Y(we.getSelectedListItems(e),_e.fromDom);return Me(te(t,R(Bn)),te(oe(t),R(Bn)),function(e,t){return{start:e,end:t}})},er=function(e,t,n){var r=Vn(t,Zn(e));G(r,function(t){Jn(t.entries,n),Jt(t.sourceList,Gn(e,t.entries)),en(t.sourceList)})},tr=a.DOM,nr=function(e,t,n){var r,o,i,u,a,c=function(e){s.each(i,function(t){e.parentNode.insertBefore(t,n.parentNode)}),tr.remove(e)};for(i=tr.select('span[data-mce-type="bookmark"]',t),a=Qn(e,n),r=tr.createRng(),r.setStartAfter(n),r.setEndAfter(t),o=r.extractContents(),u=o.firstChild;u;u=u.firstChild)if("LI"===u.nodeName&&e.dom.isEmpty(u)){tr.remove(u);break}e.dom.isEmpty(o)||tr.insertAfter(o,t),tr.insertAfter(a,t),b.isEmpty(e.dom,n.parentNode)&&c(n.parentNode),tr.remove(n),b.isEmpty(e.dom,t)&&tr.remove(t)},rr={splitList:nr},or=function(e,t){Wt(t,"dd")?vn(t,"dt"):Wt(t,"dt")&&qt(t).each(function(n){return rr.splitList(e,n.dom(),t.dom())})},ir=function(e){Wt(e,"dt")&&vn(e,"dd")},ur=function(e,t,n){"Indent"===t?G(n,ir):G(n,function(t){return or(e,t)})},sr=function(e,t){var n=Y(we.getSelectedListRoots(e),_e.fromDom),r=Y(we.getSelectedDlItems(e),_e.fromDom),o=!1;if(n.length||r.length){var i=e.selection.getBookmark();er(e,n,t),ur(e,t,r),e.selection.moveToBookmark(i),e.selection.setRng(k.normalizeRange(e.selection.getRng())),e.nodeChanged(),o=!0}return o},ar=function(e){return sr(e,"Indent")},cr=function(e){return sr(e,"Outdent")},fr=function(e){return sr(e,"Flatten")},dr=function(e,t,n){var r=n["list-style-type"]?n["list-style-type"]:null;e.setStyle(t,"list-style-type",r)},lr=function(e,t){s.each(t,function(t,n){e.setAttribute(n,t)})},mr=function(e,t,n){lr(t,n["list-attributes"]),s.each(e.select("li",t),function(e){lr(e,n["list-item-attributes"])})},gr=function(e,t,n){dr(e,t,n),mr(e,t,n)},vr=function(e,t,n){s.each(n,function(n){var r;return e.setStyle(t,(r={},r[n]="",r))})},pr=function(e,t,n,r){var o,i;for(o=t[n?"startContainer":"endContainer"],i=t[n?"startOffset":"endOffset"],1===o.nodeType&&(o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o),!n&&b.isBr(o.nextSibling)&&(o=o.nextSibling);o.parentNode!==r;){if(b.isTextBlock(e,o))return o;if(/^(TD|TH)$/.test(o.parentNode.nodeName))return o;o=o.parentNode}return o},hr=function(e,t,n){for(var r,o=[],i=e.dom,a=pr(e,t,!0,n),c=pr(e,t,!1,n),f=[],d=a;d&&(f.push(d),d!==c);d=d.nextSibling);return s.each(f,function(t){if(b.isTextBlock(e,t))return o.push(t),void(r=null);if(i.isBlock(t)||b.isBr(t))return b.isBr(t)&&i.remove(t),void(r=null);var s=t.nextSibling;return u.isBookmarkNode(t)&&(b.isTextBlock(e,s)||!s&&t.parentNode===n)?void(r=null):(r||(r=i.create("p"),t.parentNode.insertBefore(r,t),o.push(r)),void r.appendChild(t))}),o},Nr=function(e,t,n){var r=e.getStyle(t,"list-style-type"),o=n?n["list-style-type"]:"";return o=null===o?"":o,r===o},yr=function(e,t,n){void 0===n&&(n={});var r,o=e.selection.getRng(!0),i="LI",u=we.getClosestListRootElm(e,e.selection.getStart(!0)),a=e.dom;"false"!==a.getContentEditable(e.selection.getNode())&&(t=t.toUpperCase(),"DL"===t&&(i="DT"),r=w.createBookmark(o),s.each(hr(e,o,u),function(r){var o,u;u=r.previousSibling,u&&b.isListNode(u)&&u.nodeName===t&&Nr(a,u,n)?(o=u,r=a.rename(r,i),u.appendChild(r)):(o=a.create(t),r.parentNode.insertBefore(o,r),o.appendChild(r),r=a.rename(r,i)),vr(a,r,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),gr(a,o,n),Tr(e.dom,o)}),e.selection.setRng(w.resolveBookmark(r)))},Or=function(e,t){return e&&t&&b.isListNode(e)&&e.nodeName===t.nodeName},Cr=function(e,t,n){var r=e.getStyle(t,"list-style-type",!0),o=e.getStyle(n,"list-style-type",!0);return r===o},Sr=function(e,t){return e.className===t.className},br=function(e,t,n){return Or(t,n)&&Cr(e,t,n)&&Sr(t,n)},Tr=function(e,t){var n,r;if(n=t.nextSibling,br(e,t,n)){for(;r=n.firstChild;)t.appendChild(r);e.remove(n)}if(n=t.previousSibling,br(e,t,n)){for(;r=n.lastChild;)t.insertBefore(r,t.firstChild);e.remove(n)}},Lr=function(e,t,n,r){if(t.nodeName!==n){var o=e.rename(t,n);gr(e,o,r)}else gr(e,t,r)},kr=function(e,t,n,r,o){if(t.nodeName!==r||Er(o)){var i=w.createBookmark(e.selection.getRng(!0));s.each([t].concat(n),function(t){Lr(e.dom,t,r,o)}),e.selection.setRng(w.resolveBookmark(i))}else fr(e)},Er=function(e){return"list-style-type"in e},Dr=function(e,t,n,r){if(t!==e.getBody())if(t)if(t.nodeName!==n||Er(r)){var o=w.createBookmark(e.selection.getRng(!0));gr(e.dom,t,r),Tr(e.dom,e.dom.rename(t,n)),e.selection.setRng(w.resolveBookmark(o))}else fr(e);else yr(e,n,r)},Br=function(e,t,n){var r=we.getParentList(e),o=we.getSelectedSubLists(e);n=n?n:{},r&&o.length>0?kr(e,r,o,t,n):Dr(e,r,t,n)},wr={toggleList:Br,mergeWithAdjacentLists:Tr},xr=a.DOM,Ar=function(e,t){var n,r=t.parentNode;"LI"===r.nodeName&&r.firstChild===t&&(n=r.previousSibling,n&&"LI"===n.nodeName?(n.appendChild(t),b.isEmpty(e,r)&&xr.remove(r)):xr.setStyle(r,"listStyleType","none")),b.isListNode(r)&&(n=r.previousSibling,n&&"LI"===n.nodeName&&n.appendChild(t))},Rr=function(e,t){s.each(s.grep(e.select("ol,ul",t)),function(t){Ar(e,t)})},Ir={normalizeList:Ar,normalizeLists:Rr},Pr=function(e,t,n,i){var u,s,a=t.startContainer,c=t.startOffset;if(3===a.nodeType&&(n?c<a.data.length:c>0))return a;for(u=e.schema.getNonEmptyElements(),1===a.nodeType&&(a=r.getNode(a,c)),s=new o(a,i),n&&b.isBogusBr(e.dom,a)&&s.next();a=s[n?"next":"prev2"]();){if("LI"===a.nodeName&&!a.hasChildNodes())return a;if(u[a.nodeName])return a;if(3===a.nodeType&&a.data.length>0)return a}},_r=function(e,t){var n=t.childNodes;return 1===n.length&&!b.isListNode(n[0])&&e.isBlock(n[0])},Mr=function(e,t){_r(e,t)&&e.remove(t.firstChild,!0)},Ur=function(e,t,n){var r,o;if(o=_r(e,n)?n.firstChild:n,Mr(e,t),!b.isEmpty(e,t,!0))for(;r=t.firstChild;)o.appendChild(r)},Fr=function(e,t,n){var r,o,i=t.parentNode;if(b.isChildOfBody(e,t)&&b.isChildOfBody(e,n)){b.isListNode(n.lastChild)&&(o=n.lastChild),i===n.lastChild&&b.isBr(i.previousSibling)&&e.remove(i.previousSibling),r=n.lastChild,r&&b.isBr(r)&&t.hasChildNodes()&&e.remove(r),b.isEmpty(e,n,!0)&&e.$(n).empty(),Ur(e,t,n),o&&n.appendChild(o);var u=$t(_e.fromDom(n),_e.fromDom(t)),s=u?e.getParents(t,b.isListNode,n):[];e.remove(t),G(s,function(t){b.isEmpty(e,t)&&t!==e.getRoot()&&e.remove(t)})}},zr=function(e,t,n){e.dom.$(n).empty(),Fr(e.dom,t,n),e.selection.setCursorLocation(n)},jr=function(e,t,n,r){var o=e.dom;if(o.isEmpty(r))zr(e,n,r);else{var i=w.createBookmark(t);Fr(o,n,r),e.selection.setRng(w.resolveBookmark(i))}},Hr=function(e,t,n,r){var o=w.createBookmark(t);Fr(e.dom,n,r);var i=w.resolveBookmark(o);e.selection.setRng(i)},$r=function(e,t){var n,r,o,i=e.dom,u=e.selection,s=u.getStart(),a=we.getClosestListRootElm(e,s),c=i.getParent(u.getStart(),"LI",a);if(c){if(n=c.parentNode,n===e.getBody()&&b.isEmpty(i,n))return!0;if(r=k.normalizeRange(u.getRng(!0)),o=i.getParent(Pr(e,r,t,a),"LI",a),o&&o!==c)return t?jr(e,r,o,c):Hr(e,r,c,o),!0;if(!o&&!t)return fr(e),!0}return!1},Wr=function(e,t,n){var r=e.getParent(t.parentNode,e.isBlock,n);e.remove(t),r&&e.isEmpty(r)&&e.remove(r)},qr=function(e,t){var n=e.dom,r=e.selection.getStart(),o=we.getClosestListRootElm(e,r),i=n.getParent(r,n.isBlock,o);if(i&&n.isEmpty(i)){var u=k.normalizeRange(e.selection.getRng(!0)),s=n.getParent(Pr(e,u,t,o),"LI",o);if(s)return e.undoManager.transact(function(){Wr(n,i,o),wr.mergeWithAdjacentLists(n,s.parentNode),e.selection.select(s,!0),e.selection.collapse(t)}),!0}return!1},Vr=function(e,t){return $r(e,t)||qr(e,t)},Kr=function(e){var t=e.selection.getStart(),n=we.getClosestListRootElm(e,t),r=e.dom.getParent(t,"LI,DT,DD",n);return!!(r||we.getSelectedListItems(e).length>0)&&(e.undoManager.transact(function(){e.execCommand("Delete"),Ir.normalizeLists(e.dom,e.getBody())}),!0)},Qr=function(e,t){return e.selection.isCollapsed()?Vr(e,t):Kr(e)},Xr=function(e){e.on("keydown",function(t){t.keyCode===i.BACKSPACE?Qr(e,!1)&&t.preventDefault():t.keyCode===i.DELETE&&Qr(e,!0)&&t.preventDefault()})},Yr={setup:Xr,backspaceDelete:Qr},Gr=function(e){return{backspaceDelete:function(t){Yr.backspaceDelete(e,t)}}},Jr={get:Gr},Zr=function(e,t){return function(){var n=e.dom.getParent(e.selection.getStart(),"UL,OL,DL");return n&&n.nodeName===t}},eo=function(e){e.on("BeforeExecCommand",function(t){var n=t.command.toLowerCase();"indent"===n?ar(e):"outdent"===n&&cr(e)}),e.addCommand("InsertUnorderedList",function(t,n){wr.toggleList(e,"UL",n)}),e.addCommand("InsertOrderedList",function(t,n){wr.toggleList(e,"OL",n)}),e.addCommand("InsertDefinitionList",function(t,n){wr.toggleList(e,"DL",n)}),e.addCommand("RemoveList",function(){fr(e)}),e.addQueryStateHandler("InsertUnorderedList",Zr(e,"UL")),e.addQueryStateHandler("InsertOrderedList",Zr(e,"OL")),e.addQueryStateHandler("InsertDefinitionList",Zr(e,"DL"))},to={register:eo},no=function(e){return e.getParam("lists_indent_on_tab",!0)},ro={shouldIndentOnTab:no},oo=function(e){e.on("keydown",function(t){t.keyCode!==i.TAB||i.metaKeyPressed(t)||e.undoManager.transact(function(){(t.shiftKey?cr(e):ar(e))&&t.preventDefault()})})},io=function(e){ro.shouldIndentOnTab(e)&&oo(e),Yr.setup(e)},uo={setup:io},so=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(t(r))return n}return-1},ao=function(e,t){return function(n){var r=n.control;e.on("NodeChange",function(e){var n=so(e.parents,b.isTableCellNode),o=n!==-1?e.parents.slice(0,n):e.parents,i=s.grep(o,b.isListNode);r.active(i.length>0&&i[0].nodeName===t)})}},co=function(e){var t=function(e,t){var n=e.settings.plugins?e.settings.plugins:"";return s.inArray(n.split(/[ ,]/),t)!==-1};t(e,"advlist")||(e.addButton("numlist",{active:!1,title:"Numbered list",cmd:"InsertOrderedList",onPostRender:ao(e,"OL")}),e.addButton("bullist",{active:!1,title:"Bullet list",cmd:"InsertUnorderedList",onPostRender:ao(e,"UL")})),e.addButton("indent",{icon:"indent",title:"Increase indent",cmd:"Indent"})},fo={register:co};return n.add("lists",function(e){return uo.setup(e),fo.register(e),to.register(e),Jr.get(e)}),t})(window)}();
},{}],"tinymce/plugins/media/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function e(){}var t=tinymce.util.Tools.resolve("tinymce.PluginManager"),r=tinymce.util.Tools.resolve("tinymce.Env"),i=tinymce.util.Tools.resolve("tinymce.util.Tools"),n=function(e){return e.getParam("media_scripts")},o=function(e){return e.getParam("audio_template_callback")},a=function(e){return e.getParam("video_template_callback")},c=function(e){return e.getParam("media_live_embeds",!0)},u=function(e){return e.getParam("media_filter_html",!0)},s=function(e){return e.getParam("media_url_resolver")},l=function(e){return e.getParam("media_alt_source",!0)},m=function(e){return e.getParam("media_poster",!0)},d=function(e){return e.getParam("media_dimensions",!0)},h={getScripts:n,getAudioTemplateCallback:o,getVideoTemplateCallback:a,hasLiveEmbeds:c,shouldFilterHtml:u,getUrlResolver:s,hasAltSource:l,hasPoster:m,hasDimensions:d},f=function(e){var t=e,r=function(){return t},i=function(e){t=e},n=function(){return f(r())};return{get:r,set:i,clone:n}},p=function(){},g=function(e){return function(){return e}},v=g(!1),b=g(!0),w=function(){return y},y=function(){var e=function(e){return e.isNone()},t=function(e){return e()},r=function(e){return e},i={fold:function(e,t){return e()},is:v,isSome:v,isNone:b,getOr:r,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:g(null),getOrUndefined:g(void 0),or:r,orThunk:t,map:w,each:p,bind:w,exists:v,forall:b,filter:w,equals:e,equals_:e,toArray:function(){return[]},toString:g("none()")};return Object.freeze&&Object.freeze(i),i}(),x=function(e){var t=g(e),r=function(){return n},i=function(t){return t(e)},n={fold:function(t,r){return r(e)},is:function(t){return e===t},isSome:b,isNone:v,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:r,orThunk:r,map:function(t){return x(t(e))},each:function(t){t(e)},bind:i,exists:i,forall:i,filter:function(t){return t(e)?n:y},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,r){return t.fold(v,function(t){return r(e,t)})}};return n},S=function(e){return null===e||void 0===e?y:x(e)},O={some:x,none:w,from:S},j=Object.hasOwnProperty,T=function(e,t){return _(e,t)?O.from(e[t]):O.none()},_=function(e,t){return j.call(e,t)},k=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),z=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),C=function(e,t){if(e)for(var r=0;r<e.length;r++)if(t.indexOf(e[r].filter)!==-1)return e[r]},M={getVideoScriptMatch:C},N=k.DOM,A=function(e){return e.replace(/px$/,"")},H=function(e){var t=e.map.style,r=t?N.parseStyle(t):{};return{type:"ephox-embed-iri",source1:e.map["data-ephox-embed-iri"],source2:"",poster:"",width:T(r,"max-width").map(A).getOr(""),height:T(r,"max-height").map(A).getOr("")}},P=function(e,t){var r=f(!1),n={};return z({validate:!1,allow_conditional_comments:!0,special:"script,noscript",start:function(t,o){if(r.get());else if(_(o.map,"data-ephox-embed-iri"))r.set(!0),n=H(o);else{if(n.source1||"param"!==t||(n.source1=o.map.movie),"iframe"!==t&&"object"!==t&&"embed"!==t&&"video"!==t&&"audio"!==t||(n.type||(n.type=t),n=i.extend(o.map,n)),"script"===t){var a=M.getVideoScriptMatch(e,o.map.src);if(!a)return;n={type:"script",source1:o.map.src,width:a.width,height:a.height}}"source"===t&&(n.source1?n.source2||(n.source2=o.map.src):n.source1=o.map.src),"img"!==t||n.poster||(n.poster=o.map.src)}}}).parse(t),n.source1=n.source1||n.src||n.data,n.source2=n.source2||"",n.poster=n.poster||"",n},D={htmlToData:P},F=tinymce.util.Tools.resolve("tinymce.util.Promise"),$=function(e){var t={mp3:"audio/mpeg",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},r=e.toLowerCase().split(".").pop(),i=t[r];return i?i:""},E={guess:$},L=tinymce.util.Tools.resolve("tinymce.html.Schema"),U=tinymce.util.Tools.resolve("tinymce.html.Writer"),V=k.DOM,R=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},I=function(e,t){for(var r in t){var i=""+t[r];if(e.map[r])for(var n=e.length;n--;){var o=e[n];o.name===r&&(i?(e.map[r]=i,o.value=i):(delete e.map[r],e.splice(n,1)))}else i&&(e.push({name:r,value:i}),e.map[r]=i)}},J=function(e,t){var r=t.map.style,i=r?V.parseStyle(r):{};i["max-width"]=R(e.width),i["max-height"]=R(e.height),I(t,{style:V.serializeStyle(i)})},W=function(e,t,r){var i,n=U(),o=f(!1),a=0;return z({validate:!1,allow_conditional_comments:!0,special:"script,noscript",comment:function(e){n.comment(e)},cdata:function(e){n.cdata(e)},text:function(e,t){n.text(e,t)},start:function(e,c,u){if(o.get());else if(_(c.map,"data-ephox-embed-iri"))o.set(!0),J(t,c);else{switch(e){case"video":case"object":case"embed":case"img":case"iframe":void 0!==t.height&&void 0!==t.width&&I(c,{width:t.width,height:t.height})}if(r)switch(e){case"video":I(c,{poster:t.poster,src:""}),t.source2&&I(c,{src:""});break;case"iframe":I(c,{src:t.source1});break;case"source":if(a++,a<=2&&(I(c,{src:t["source"+a],type:t["source"+a+"mime"]}),!t["source"+a]))return;break;case"img":if(!t.poster)return;i=!0}}n.start(e,c,u)},end:function(e){if(!o.get()){if("video"===e&&r)for(var c=1;c<=2;c++)if(t["source"+c]){var u=[];u.map={},a<c&&(I(u,{src:t["source"+c],type:t["source"+c+"mime"]}),n.start("source",u,!0))}if(t.poster&&"object"===e&&r&&!i){var s=[];s.map={},I(s,{src:t.poster,width:t.width,height:t.height}),n.start("img",s,!0)}}n.end(e)}},L({})).parse(e),n.getContent()},q={updateHtml:W},B=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"//www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"//player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'//maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"//www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],G=function(e,t){for(var r=e.regex.exec(t),i=e.url,n=function(e){i=i.replace("$"+e,function(){return r[e]?r[e]:""})},o=0;o<r.length;o++)n(o);return i.replace(/\?$/,"")},K=function(e){var t=B.filter(function(t){return t.regex.test(e)});return t.length>0?i.extend({},t[0],{url:G(t[0],e)}):null},Q=function(e){var t=e.allowFullscreen?' allowFullscreen="1"':"";return'<iframe src="'+e.source1+'" width="'+e.width+'" height="'+e.height+'"'+t+"></iframe>"},X=function(e){var t='<object data="'+e.source1+'" width="'+e.width+'" height="'+e.height+'" type="application/x-shockwave-flash">';return e.poster&&(t+='<img src="'+e.poster+'" width="'+e.width+'" height="'+e.height+'" />'),t+="</object>"},Y=function(e,t){return t?t(e):'<audio controls="controls" src="'+e.source1+'">'+(e.source2?'\n<source src="'+e.source2+'"'+(e.source2mime?' type="'+e.source2mime+'"':"")+" />\n":"")+"</audio>"},Z=function(e,t){return t?t(e):'<video width="'+e.width+'" height="'+e.height+'"'+(e.poster?' poster="'+e.poster+'"':"")+' controls="controls">\n<source src="'+e.source1+'"'+(e.source1mime?' type="'+e.source1mime+'"':"")+" />\n"+(e.source2?'<source src="'+e.source2+'"'+(e.source2mime?' type="'+e.source2mime+'"':"")+" />\n":"")+"</video>"},ee=function(e){return'<script src="'+e.source1+'"></script>'},te=function(e,t){var r=i.extend({},t);if(!r.source1&&(i.extend(r,D.htmlToData(h.getScripts(e),r.embed)),!r.source1))return"";r.source2||(r.source2=""),r.poster||(r.poster=""),r.source1=e.convertURL(r.source1,"source"),r.source2=e.convertURL(r.source2,"source"),r.source1mime=E.guess(r.source1),r.source2mime=E.guess(r.source2),r.poster=e.convertURL(r.poster,"poster");var n=K(r.source1);if(n&&(r.source1=n.url,r.type=n.type,r.allowFullscreen=n.allowFullscreen,r.width=r.width||n.w,r.height=r.height||n.h),r.embed)return q.updateHtml(r.embed,r,!0);var o=M.getVideoScriptMatch(h.getScripts(e),r.source1);o&&(r.type="script",r.width=o.width,r.height=o.height);var a=h.getAudioTemplateCallback(e),c=h.getVideoTemplateCallback(e);return r.width=r.width||300,r.height=r.height||150,i.each(r,function(t,i){r[i]=e.dom.encode(t)}),"iframe"===r.type?Q(r):"application/x-shockwave-flash"===r.source1mime?X(r):r.source1mime.indexOf("audio")!==-1?Y(r,a):"script"===r.type?ee(r):Z(r,c)},re={dataToHtml:te},ie={},ne=function(e,t,r){return new F(function(i,n){var o=function(r){return r.html&&(ie[e.source1]=r),i({url:e.source1,html:r.html?r.html:t(e)})};ie[e.source1]?o(ie[e.source1]):r({url:e.source1},o,n)})},oe=function(e,t){return new F(function(r){r({html:t(e),url:e.source1})})},ae=function(e){return function(t){return re.dataToHtml(e,t)}},ce=function(e,t){var r=h.getUrlResolver(e);return r?ne(t,ae(e),r):oe(t,ae(e))},ue=function(e){return ie.hasOwnProperty(e)},se={getEmbedHtml:ce,isCached:ue},le=function(e){return e.replace(/px$/,"")},me=function(e){return/^[0-9.]+$/.test(e)?e+"px":e},de=function(e){return function(t){return t?le(t.style[e]):""}},he=function(e){return function(t,r){t&&(t.style[e]=me(r))}},fe={getMaxWidth:de("maxWidth"),getMaxHeight:de("maxHeight"),setMaxWidth:he("maxWidth"),setMaxHeight:he("maxHeight")},pe=function(e,t){e.state.set("oldVal",e.value()),t.state.set("oldVal",t.value())},ge=function(e,t){var r=e.find("#width")[0],i=e.find("#height")[0],n=e.find("#constrain")[0];r&&i&&n&&t(r,i,n.checked())},ve=function(e,t,r){var i=e.state.get("oldVal"),n=t.state.get("oldVal"),o=e.value(),a=t.value();r&&i&&n&&o&&a&&(o!==i?(a=Math.round(o/i*a),isNaN(a)||t.value(a)):(o=Math.round(a/n*o),isNaN(o)||e.value(o))),pe(e,t)},be=function(e){ge(e,pe)},we=function(e){ge(e,ve)},ye=function(e){var t=function(){e(function(e){we(e)})};return{type:"container",label:"Dimensions",layout:"flex",align:"center",spacing:5,items:[{name:"width",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Width"},{type:"label",text:"x"},{name:"height",type:"textbox",maxLength:5,size:5,onchange:t,ariaLabel:"Height"},{name:"constrain",type:"checkbox",checked:!0,text:"Constrain proportions"}]}},xe={createUi:ye,syncSize:be,updateSize:we},Se=r.ie&&r.ie<=8?"onChange":"onInput",Oe=function(e){return function(t){var r=t&&t.msg?"Media embed handler error: "+t.msg:"Media embed handler threw unknown error.";e.notificationManager.open({type:"error",text:r})}},je=function(e){var t=e.selection.getNode(),r=t.getAttribute("data-ephox-embed-iri");return r?{source1:r,"data-ephox-embed-iri":r,width:fe.getMaxWidth(t),height:fe.getMaxHeight(t)}:t.getAttribute("data-mce-object")?D.htmlToData(h.getScripts(e),e.serializer.serialize(t,{selection:!0})):{}},Te=function(e){var t=e.selection.getNode();if(t.getAttribute("data-mce-object")||t.getAttribute("data-ephox-embed-iri"))return e.selection.getContent()},_e=function(e,t){return function(r){var n=r.html,o=e.find("#embed")[0],a=i.extend(D.htmlToData(h.getScripts(t),n),{source1:r.url});e.fromJSON(a),o&&(o.value(n),xe.updateSize(e))}},ke=function(e,t){var r,i,n=e.dom.select("img[data-mce-object]");for(r=0;r<t.length;r++)for(i=n.length-1;i>=0;i--)t[r]===n[i]&&n.splice(i,1);e.selection.select(n[0])},ze=function(e,t){var r=e.dom.select("img[data-mce-object]");e.insertContent(t),ke(e,r),e.nodeChanged()},Ce=function(e,t){var r=e.toJSON();r.embed=q.updateHtml(r.embed,r),r.embed&&se.isCached(r.source1)?ze(t,r.embed):se.getEmbedHtml(t,r).then(function(e){ze(t,e.html)})["catch"](Oe(t))},Me=function(e,t){i.each(t,function(t,r){e.find("#"+r).value(t)})},Ne=function(e){var t,r,n=[{name:"source1",type:"filepicker",filetype:"media",size:40,autofocus:!0,label:"Source",onpaste:function(){setTimeout(function(){se.getEmbedHtml(e,t.toJSON()).then(_e(t,e))["catch"](Oe(e))},1)},onchange:function(r){se.getEmbedHtml(e,t.toJSON()).then(_e(t,e))["catch"](Oe(e)),Me(t,r.meta)},onbeforecall:function(e){e.meta=t.toJSON()}}],o=[],a=function(e){e(t),r=t.toJSON(),t.find("#embed").value(q.updateHtml(r.embed,r))};if(h.hasAltSource(e)&&o.push({name:"source2",type:"filepicker",filetype:"media",size:40,label:"Alternative source"}),h.hasPoster(e)&&o.push({name:"poster",type:"filepicker",filetype:"image",size:40,label:"Poster"}),h.hasDimensions(e)){var c=xe.createUi(a);n.push(c)}r=je(e);var u={id:"mcemediasource",type:"textbox",flex:1,name:"embed",value:Te(e),multiline:!0,rows:5,label:"Source"},s=function(){r=i.extend({},D.htmlToData(h.getScripts(e),this.value())),this.parent().parent().fromJSON(r)};u[Se]=s;var l=[{title:"General",type:"form",items:n},{title:"Embed",type:"container",layout:"flex",direction:"column",align:"stretch",padding:10,spacing:10,items:[{type:"label",text:"Paste your embed code below:",forId:"mcemediasource"},u]}];o.length>0&&l.push({title:"Advanced",type:"form",items:o}),t=e.windowManager.open({title:"Insert/edit media",data:r,bodyType:"tabpanel",body:l,onSubmit:function(){xe.updateSize(t),Ce(t,e)}}),xe.syncSize(t)},Ae={showDialog:Ne},He=function(e){var t=function(){Ae.showDialog(e)};return{showDialog:t}},Pe={get:He},De=function(e){var t=function(){Ae.showDialog(e)};e.addCommand("mceMedia",t)},Fe={register:De},$e=tinymce.util.Tools.resolve("tinymce.html.Node"),Ee=function(e,t){if(h.shouldFilterHtml(e)===!1)return t;var r,i=U();return z({validate:!1,allow_conditional_comments:!1,special:"script,noscript",comment:function(e){i.comment(e)},cdata:function(e){i.cdata(e)},text:function(e,t){i.text(e,t)},start:function(t,n,o){if(r=!0,"script"!==t&&"noscript"!==t&&"svg"!==t){for(var a=n.length-1;a>=0;a--){var c=n[a].name;0===c.indexOf("on")&&(delete n.map[c],n.splice(a,1)),"style"===c&&(n[a].value=e.dom.serializeStyle(e.dom.parseStyle(n[a].value),t))}i.start(t,n,o),r=!1}},end:function(e){r||i.end(e)}},L({})).parse(t),i.getContent()},Le={sanitize:Ee},Ue=function(e,t){var i,n=t.name;return i=new $e("img",1),i.shortEnded=!0,Re(e,t,i),i.attr({width:t.attr("width")||"300",height:t.attr("height")||("audio"===n?"30":"150"),style:t.attr("style"),src:r.transparentSrc,"data-mce-object":n,"class":"mce-object mce-object-"+n}),i},Ve=function(e,t){var r,i,n,o=t.name;return r=new $e("span",1),r.attr({contentEditable:"false",style:t.attr("style"),"data-mce-object":o,"class":"mce-preview-object mce-object-"+o}),Re(e,t,r),i=new $e(o,1),i.attr({src:t.attr("src"),allowfullscreen:t.attr("allowfullscreen"),style:t.attr("style"),"class":t.attr("class"),width:t.attr("width"),height:t.attr("height"),frameborder:"0"}),n=new $e("span",1),n.attr("class","mce-shim"),r.append(i),r.append(n),r},Re=function(e,t,r){var i,n,o,a,c;for(o=t.attributes,a=o.length;a--;)i=o[a].name,n=o[a].value,"width"!==i&&"height"!==i&&"style"!==i&&("data"!==i&&"src"!==i||(n=e.convertURL(n,i)),r.attr("data-mce-p-"+i,n));c=t.firstChild&&t.firstChild.value,c&&(r.attr("data-mce-html",escape(Le.sanitize(e,c))),r.firstChild=null)},Ie=function(e){for(;e=e.parent;)if(e.attr("data-ephox-embed-iri"))return!0;return!1},Je=function(e){return function(t){for(var i,n,o=t.length;o--;)i=t[o],i.parent&&(i.parent.attr("data-mce-object")||("script"!==i.name||(n=M.getVideoScriptMatch(h.getScripts(e),i.attr("src"))))&&(n&&(n.width&&i.attr("width",n.width.toString()),n.height&&i.attr("height",n.height.toString())),"iframe"===i.name&&h.hasLiveEmbeds(e)&&r.ceFalse?Ie(i)||i.replace(Ve(e,i)):Ie(i)||i.replace(Ue(e,i))))}},We={createPreviewIframeNode:Ve,createPlaceholderNode:Ue,placeHolderConverter:Je},qe=function(e){e.on("preInit",function(){var t=e.schema.getSpecialElements();i.each("video audio iframe object".split(" "),function(e){t[e]=new RegExp("</"+e+"[^>]*>","gi")});var r=e.schema.getBoolAttrs();i.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(e){r[e]={}}),e.parser.addNodeFilter("iframe,video,audio,object,embed,script",We.placeHolderConverter(e)),e.serializer.addAttributeFilter("data-mce-object",function(t,r){for(var i,n,o,a,c,u,s,l,m=t.length;m--;)if(i=t[m],i.parent){for(s=i.attr(r),n=new $e(s,1),"audio"!==s&&"script"!==s&&(l=i.attr("class"),l&&l.indexOf("mce-preview-object")!==-1?n.attr({width:i.firstChild.attr("width"),height:i.firstChild.attr("height")}):n.attr({width:i.attr("width"),height:i.attr("height")})),n.attr({style:i.attr("style")}),a=i.attributes,o=a.length;o--;){var d=a[o].name;0===d.indexOf("data-mce-p-")&&n.attr(d.substr(11),a[o].value)}"script"===s&&n.attr("type","text/javascript"),c=i.attr("data-mce-html"),c&&(u=new $e("#text",3),u.raw=!0,u.value=Le.sanitize(e,unescape(c)),n.append(u)),i.replace(n)}})}),e.on("setContent",function(){e.$("span.mce-preview-object").each(function(t,r){var i=e.$(r);0===i.find("span.mce-shim",r).length&&i.append('<span class="mce-shim"></span>')})})},Be={setup:qe},Ge=function(e){e.on("ResolveName",function(e){var t;1===e.target.nodeType&&(t=e.target.getAttribute("data-mce-object"))&&(e.name=t)})},Ke={setup:Ge},Qe=function(e){e.on("click keyup",function(){var t=e.selection.getNode();t&&e.dom.hasClass(t,"mce-preview-object")&&e.dom.getAttrib(t,"data-mce-selected")&&t.setAttribute("data-mce-selected","2")}),e.on("ObjectSelected",function(e){var t=e.target.getAttribute("data-mce-object");"audio"!==t&&"script"!==t||e.preventDefault()}),e.on("objectResized",function(e){var t,r=e.target;r.getAttribute("data-mce-object")&&(t=r.getAttribute("data-mce-html"),t&&(t=unescape(t),r.setAttribute("data-mce-html",escape(q.updateHtml(t,{width:e.width,height:e.height})))))})},Xe={setup:Qe},Ye=function(e){e.addButton("media",{tooltip:"Insert/edit media",cmd:"mceMedia",stateSelector:["img[data-mce-object]","span[data-mce-object]","div[data-ephox-embed-iri]"]}),e.addMenuItem("media",{icon:"media",text:"Media",cmd:"mceMedia",context:"insert",prependToContext:!0})},Ze={register:Ye};return t.add("media",function(e){return Fe.register(e),Ze.register(e),Ke.setup(e),Be.setup(e),Xe.setup(e),Pe.get(e)}),e})()}();
},{}],"tinymce/plugins/paste/plugin.js":[function(require,module,exports){
(function (global){
!function(){(function(t){"use strict";function e(t,e){return J.each(e,function(e){t=e.constructor===RegExp?t.replace(e,""):t.replace(e[0],e[1])}),t}function n(t){function n(t){var e=t.name,r=t;if("br"===e)return void(i+="\n");if("wbr"!==e){if(u[e]&&(i+=" "),a[e])return void(i+=" ");if(3===t.type&&(i+=t.value),!t.shortEnded&&(t=t.firstChild))do n(t);while(t=t.next);s[e]&&r.next&&(i+="\n","p"===e&&(i+="\n"))}}var r=vt(),o=mt({},r),i="",u=r.getShortEndedElements(),a=J.makeMap("script noscript style textarea video audio iframe object"," "),s=r.getBlockElements();return t=e(t,[/<!\[[^\]]+\]>/g]),n(o.parse(t)),i}function r(t){function n(t,e,n){return e||n?" ":" "}return t=e(t,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/gi,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,n],/<br class="Apple-interchange-newline">/g,/<br>$/i])}function o(t){var e=0;return function(){return t+e++}}function i(t){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^'']*\bmso-|w:WordDocument/i.test(t)||/class="OutlineElement/.test(t)||/id="?docs\-internal\-guid\-/.test(t)}function u(t){var e,n;return n=[/^[IVXLMCD]{1,2}\.[ \u00a0]/,/^[ivxlmcd]{1,2}\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/],t=t.replace(/^[\u00a0 ]+/,""),J.each(n,function(n){if(n.test(t))return e=!0,!1}),e}function a(t){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(t)}function s(t){function e(t){var n="";if(3===t.type)return t.value;if(t=t.firstChild)do n+=e(t);while(t=t.next);return n}function n(t,e){if(3===t.type&&e.test(t.value))return t.value=t.value.replace(e,""),!1;if(t=t.firstChild)do if(!n(t,e))return!1;while(t=t.next);return!0}function r(t){if(t._listIgnore)return void t.remove();if(t=t.firstChild)do r(t);while(t=t.next)}function o(t,e,o){var u=t._listLevel||c;u!==c&&(u<c?i&&(i=i.parent.parent):(s=i,i=null)),i&&i.name===e?i.append(t):(s=s||i,i=new gt(e,1),o>1&&i.attr("start",""+o),t.wrap(i)),t.name="li",u>c&&s&&s.lastChild.append(i),c=u,r(t),n(t,/^\u00a0+/),n(t,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),n(t,/^\u00a0+/)}for(var i,s,c=1,l=[],f=t.firstChild;"undefined"!=typeof f&&null!==f;)if(l.push(f),f=f.walk(),null!==f)for(;"undefined"!=typeof f&&f.parent!==t;)f=f.walk();for(var d=0;d<l.length;d++)if(t=l[d],"p"===t.name&&t.firstChild){var m=e(t);if(a(m)){o(t,"ul");continue}if(u(m)){var p=/([0-9]+)\./.exec(m),g=1;p&&(g=parseInt(p[1],10)),o(t,"ol",g);continue}if(t._listLevel){o(t,"ul",1);continue}i=null}else s=i,i=null}function c(t,e,n,r){var o,i={},u=t.dom.parseStyle(r);return J.each(u,function(u,a){switch(a){case"mso-list":o=/\w+ \w+([0-9]+)/i.exec(r),o&&(n._listLevel=parseInt(o[1],10)),/Ignore/i.test(u)&&n.firstChild&&(n._listIgnore=!0,n.firstChild._listIgnore=!0);break;case"horiz-align":a="text-align";break;case"vert-align":a="vertical-align";break;case"font-color":case"mso-foreground":a="color";break;case"mso-background":case"mso-highlight":a="background";break;case"font-weight":case"font-style":return void("normal"!==u&&(i[a]=u));case"mso-element":if(/^(comment|comment-list)$/i.test(u))return void n.remove()}return 0===a.indexOf("mso-comment")?void n.remove():void(0!==a.indexOf("mso-")&&("all"===W.getRetainStyleProps(t)||e&&e[a])&&(i[a]=u))}),/(bold)/i.test(i["font-weight"])&&(delete i["font-weight"],n.wrap(new gt("b",1))),/(italic)/i.test(i["font-style"])&&(delete i["font-style"],n.wrap(new gt("i",1))),i=t.dom.serializeStyle(i,n.name),i?i:null}function l(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}function f(t,e){t.on("PastePreProcess",function(n){n.content=e(t,n.content,n.internal,n.wordContent)})}function d(t,e){t.on("PastePostProcess",function(n){e(t,n.node)})}function m(t,e){if(!wt.isWordContent(e))return e;var n=[];J.each(t.schema.getBlockElements(),function(t,e){n.push(e)});var r=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+n.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return e=yt.filter(e,[[r,"$1"]]),e=yt.filter(e,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]])}function p(t,e,n,r){if(r||n)return e;var o,i=W.getWebkitStyles(t);if(W.shouldRemoveWebKitStyles(t)===!1||"all"===i)return e;if(i&&(o=i.split(/[, ]/)),o){var u=t.dom,a=t.selection.getNode();e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(t,e,n,r){var i=u.parseStyle(u.decode(n)),s={};if("none"===o)return e+r;for(var c=0;c<o.length;c++){var l=i[o[c]],f=u.getStyle(a,o[c],!0);/color/.test(o[c])&&(l=u.toHex(l),f=u.toHex(f)),f!==l&&(s[o[c]]=l)}return s=u.serializeStyle(s,"span"),s?e+' style="'+s+'"'+r:e+r})}else e=e.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return e=e.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(t,e,n,r){return e+' style="'+n+'"'+r})}function g(t,e){t.$("a",e).find("font,u").each(function(e,n){t.dom.remove(n,!0)})}function v(){}var h=function(t){var e=t,n=function(){return e},r=function(t){e=t},o=function(){return h(n())};return{get:n,set:r,clone:o}},y=tinymce.util.Tools.resolve("tinymce.PluginManager"),b=function(e){return!(!/(^|[ ,])powerpaste([, ]|$)/.test(e.settings.plugins)||!y.get("powerpaste"))&&("undefined"!=typeof t.window.console&&t.window.console.log&&t.window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0)},P={hasProPlugin:b},w=function(t,e){return{clipboard:t,quirks:e}},x={get:w},_=function(t,e,n,r){return t.fire("PastePreProcess",{content:e,internal:n,wordContent:r})},T=function(t,e,n,r){return t.fire("PastePostProcess",{node:e,internal:n,wordContent:r})},k=function(t,e){return t.fire("PastePlainTextToggle",{state:e})},D=function(t,e){return t.fire("paste",{ieFake:e})},C={firePastePreProcess:_,firePastePostProcess:T,firePastePlainTextToggle:k,firePaste:D},F=function(t){return t.getParam("paste_plaintext_inform",!0)},E=function(t){return t.getParam("paste_block_drop",!1)},R=function(t){return t.getParam("paste_data_images",!1)},I=function(t){return t.getParam("paste_filter_drop",!0)},O=function(t){return t.getParam("paste_preprocess")},S=function(t){return t.getParam("paste_postprocess")},A=function(t){return t.getParam("paste_webkit_styles")},M=function(t){return t.getParam("paste_remove_styles_if_webkit",!0)},j=function(t){return t.getParam("paste_merge_formats",!0)},L=function(t){return t.getParam("smart_paste",!0)},H=function(t){return t.getParam("paste_as_text",!1)},B=function(t){return t.getParam("paste_retain_style_properties")},N=function(t){var e="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return t.getParam("paste_word_valid_elements",e)},U=function(t){return t.getParam("paste_convert_word_fake_lists",!0)},$=function(t){return t.getParam("paste_enable_default_filters",!0)},W={shouldPlainTextInform:F,shouldBlockDrop:E,shouldPasteDataImages:R,shouldFilterDrop:I,getPreProcess:O,getPostProcess:S,getWebkitStyles:A,shouldRemoveWebKitStyles:M,shouldMergeFormats:j,isSmartPasteEnabled:L,isPasteAsTextEnabled:H,getRetainStyleProps:B,getWordValidElements:N,shouldConvertWordFakeLists:U,shouldUseDefaultFilters:$},z=function(t,e){return e.get()===!1&&W.shouldPlainTextInform(t)},V=function(t,e){t.notificationManager.open({text:t.translate(e),type:"info"})},K=function(t,e,n){"text"===e.pasteFormat.get()?(e.pasteFormat.set("html"),C.firePastePlainTextToggle(t,!1)):(e.pasteFormat.set("text"),C.firePastePlainTextToggle(t,!0),z(t,n)&&(V(t,"Paste is now in plain text mode. Contents will now be pasted as plain text until you toggle this option off."),n.set(!0))),t.focus()},q={togglePlainTextPaste:K},G=function(t,e,n){t.addCommand("mceTogglePlainTextPaste",function(){q.togglePlainTextPaste(t,e,n)}),t.addCommand("mceInsertClipboardContent",function(t,n){n.content&&e.pasteHtml(n.content,n.internal),n.text&&e.pasteText(n.text)})},X={register:G},Y=tinymce.util.Tools.resolve("tinymce.Env"),Z=tinymce.util.Tools.resolve("tinymce.util.Delay"),J=tinymce.util.Tools.resolve("tinymce.util.Tools"),Q=tinymce.util.Tools.resolve("tinymce.util.VK"),tt="x-tinymce/html",et="<!-- "+tt+" -->",nt=function(t){return et+t},rt=function(t){return t.replace(et,"")},ot=function(t){return t.indexOf(et)!==-1},it={mark:nt,unmark:rt,isMarked:ot,internalHtmlMime:function(){return tt}},ut=tinymce.util.Tools.resolve("tinymce.html.Entities"),at=function(t){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(t)},st=function(t){return t.replace(/\r?\n/g,"<br>")},ct=function(t,e){var n,r=[],o="<"+t;if("object"==typeof e){for(n in e)e.hasOwnProperty(n)&&r.push(n+'="'+ut.encodeAllRaw(e[n])+'"');r.length&&(o+=" "+r.join(" "))}return o+">"},lt=function(t,e,n){var r=t.split(/\n\n/),o=ct(e,n),i="</"+e+">",u=J.map(r,function(t){return t.split(/\n/).join("<br />")}),a=function(t){return o+t+i};return 1===u.length?u[0]:J.map(u,a).join("")},ft=function(t,e,n){return e?lt(t,e,n):st(t)},dt={isPlainText:at,convert:ft,toBRs:st,toBlockElements:lt},mt=tinymce.util.Tools.resolve("tinymce.html.DomParser"),pt=tinymce.util.Tools.resolve("tinymce.html.Serializer"),gt=tinymce.util.Tools.resolve("tinymce.html.Node"),vt=tinymce.util.Tools.resolve("tinymce.html.Schema"),ht=function(){return t.navigator.userAgent.indexOf(" Edge/")!==-1},yt={filter:e,innerText:n,trimHtml:r,createIdGenerator:o,isMsEdge:ht},bt=function(t,e){var n,r;n=W.getRetainStyleProps(t),n&&(r=J.makeMap(n.split(/[, ]/))),e=yt.filter(e,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi," "],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(t,e){return e.length>0?e.replace(/./," ").slice(Math.floor(e.length/2)).split("").join(" "):""}]]);var o=W.getWordValidElements(t),i=vt({valid_elements:o,valid_children:"-li[p]"});J.each(i.elements,function(t){t.attributes["class"]||(t.attributes["class"]={},t.attributesOrder.push("class")),t.attributes.style||(t.attributes.style={},t.attributesOrder.push("style"))});var u=mt({},i);u.addAttributeFilter("style",function(e){for(var n,o=e.length;o--;)n=e[o],n.attr("style",c(t,r,n,n.attr("style"))),"span"===n.name&&n.parent&&!n.attributes.length&&n.unwrap()}),u.addAttributeFilter("class",function(t){for(var e,n,r=t.length;r--;)e=t[r],n=e.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(n)&&e.remove(),e.attr("class",null)}),u.addNodeFilter("del",function(t){for(var e=t.length;e--;)t[e].remove()}),u.addNodeFilter("a",function(t){for(var e,n,r,o=t.length;o--;)if(e=t[o],n=e.attr("href"),r=e.attr("name"),n&&n.indexOf("#_msocom_")!==-1)e.remove();else if(n&&0===n.indexOf("file://")&&(n=n.split("#")[1],n&&(n="#"+n)),n||r){if(r&&!/^_?(?:toc|edn|ftn)/i.test(r)){e.unwrap();continue}e.attr({href:n,name:r})}else e.unwrap()});var a=u.parse(e);return W.shouldConvertWordFakeLists(t)&&s(a),e=pt({validate:t.settings.validate},i).serialize(a)},Pt=function(t,e){return W.shouldUseDefaultFilters(t)?bt(t,e):e},wt={preProcess:Pt,isWordContent:i},xt=function(t,e){var n=mt({},t.schema);n.addNodeFilter("meta",function(t){J.each(t,function(t){return t.remove()})});var r=n.parse(e,{forced_root_block:!1,isRootContent:!0});return pt({validate:t.settings.validate},t.schema).serialize(r)},_t=function(t,e){return{content:t,cancelled:e}},Tt=function(t,e,n,r){var o=t.dom.create("div",{style:"display:none"},e),i=C.firePastePostProcess(t,o,n,r);return _t(i.node.innerHTML,i.isDefaultPrevented())},kt=function(t,e,n,r){var o=C.firePastePreProcess(t,e,n,r),i=xt(t,o.content);return t.hasEventListeners("PastePostProcess")&&!o.isDefaultPrevented()?Tt(t,i,n,r):_t(i,o.isDefaultPrevented())},Dt=function(t,e,n){var r=wt.isWordContent(e),o=r?wt.preProcess(t,e):e;return kt(t,o,n,r)},Ct={process:Dt},Ft=function(t,e){return t.insertContent(e,{merge:W.shouldMergeFormats(t),paste:!0}),!0},Et=function(t){return/^https?:\/\/[\w\?\-\/+=.&%@~#]+$/i.test(t)},Rt=function(t){return Et(t)&&/.(gif|jpe?g|png)$/.test(t)},It=function(t,e,n){return t.undoManager.extra(function(){n(t,e)},function(){t.insertContent('<img src="'+e+'">')}),!0},Ot=function(t,e,n){return t.undoManager.extra(function(){n(t,e)},function(){t.execCommand("mceInsertLink",!1,e)}),!0},St=function(t,e,n){return!(t.selection.isCollapsed()!==!1||!Et(e))&&Ot(t,e,n)},At=function(t,e,n){return!!Rt(e)&&It(t,e,n)},Mt=function(t,e){J.each([St,At,Ft],function(n){return n(t,e,Ft)!==!0})},jt=function(t,e){W.isSmartPasteEnabled(t)===!1?Ft(t,e):Mt(t,e)},Lt={isImageUrl:Rt,isAbsoluteUrl:Et,insertContent:jt},Ht=function(){},Bt=function(t){return function(){return t}},Nt=Bt(!1),Ut=Bt(!0),$t=function(){return Wt},Wt=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:Nt,isSome:Nt,isNone:Ut,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:Bt(null),getOrUndefined:Bt(void 0),or:n,orThunk:e,map:$t,each:Ht,bind:$t,exists:Nt,forall:Ut,filter:$t,equals:t,equals_:t,toArray:function(){return[]},toString:Bt("none()")};return Object.freeze&&Object.freeze(r),r}(),zt=function(t){var e=Bt(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:Ut,isNone:Nt,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return zt(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:Wt},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(Nt,function(e){return n(t,e)})}};return o},Vt=function(t){return null===t||void 0===t?Wt:zt(t)},Kt={some:zt,none:$t,from:Vt},qt=function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},Gt=function(t){return function(e){return qt(e)===t}},Xt=Gt("function"),Yt=Array.prototype.slice,Zt=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},Jt=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},Qt=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},te=Xt(Array.from)?Array.from:function(t){return Yt.call(t)},ee={},ne={exports:ee};!function(t,e,n,r){!function(r){if("object"==typeof e&&"undefined"!=typeof n)n.exports=r();else if("function"==typeof t&&t.amd)t([],r);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,o.EphoxContactWrapper=r()}}(function(){return function(){function t(e,n,o){function i(a,s){if(!n[a]){if(!e[a]){var c="function"==typeof r&&r;if(!s&&c)return c(a,!0);if(u)return u(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return i(n||t)},f,f.exports,t,e,n,o)}return n[a].exports}for(var u="function"==typeof r&&r,a=0;a<o.length;a++)i(o[a]);return i}return t}()({1:[function(t,e,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function u(t){if(d===clearTimeout)return clearTimeout(t);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(t);try{return d(t)}catch(e){try{return d.call(null,t)}catch(e){return d.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?g=p.concat(g):h=-1,g.length&&s())}function s(){if(!v){var t=i(a);v=!0;for(var e=g.length;e;){for(p=g,g=[];++h<e;)p&&p[h].run();h=-1,e=g.length}p=null,v=!1,u(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var f,d,m=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(t){d=o}}();var p,g=[],v=!1,h=-1;m.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];g.push(new c(t,e)),1!==g.length||v||i(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=l,m.addListener=l,m.once=l,m.off=l,m.removeListener=l,m.removeAllListeners=l,m.emit=l,m.prependListener=l,m.prependOnceListener=l,m.listeners=function(t){return[]},m.binding=function(t){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(t){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},{}],2:[function(t,e,n){(function(t){!function(n){function r(){}function o(t,e){return function(){t.apply(e,arguments)}}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(t,this)}function u(t,e){for(;3===t._state;)t=t._value;return 0===t._state?void t._deferreds.push(e):(t._handled=!0,void i._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?a:s)(e.promise,t._value);var r;try{r=n(t._value)}catch(o){return void s(e.promise,o)}a(e.promise,r)}))}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void f(o(n,e),t)}t._state=1,t._value=e,c(t)}catch(r){s(t,r)}}function s(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)u(t,t._deferreds[e]);t._deferreds=null}function l(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function f(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,s(e,t))})}catch(r){if(n)return;n=!0,s(e,r)}}var d=setTimeout;i.prototype["catch"]=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(r);return u(this,new l(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function r(i,u){try{if(u&&("object"==typeof u||"function"==typeof u)){var a=u.then;if("function"==typeof a)return void a.call(u,function(t){r(i,t)},n)}e[i]=u,0===--o&&t(e)}catch(s){n(s)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){for(var r=0,o=t.length;r<o;r++)t[r].then(e,n)})},i._immediateFn="function"==typeof t?function(e){t(e)}:function(t){d(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},"undefined"!=typeof e&&e.exports?e.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,t("timers").setImmediate)},{timers:3}],3:[function(t,e,n){(function(e,r){function o(t,e){this._id=t,this._clearFn=e}var i=t("process/browser.js").nextTick,u=Function.prototype.apply,a=Array.prototype.slice,s={},c=0;n.setTimeout=function(){return new o(u.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(u.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(t){t.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},n.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},n._unrefActive=n.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n.setImmediate="function"==typeof e?e:function(t){var e=c++,r=!(arguments.length<2)&&a.call(arguments,1);return s[e]=!0,i(function(){s[e]&&(r?t.apply(null,r):t.call(null),n.clearImmediate(e))}),e},n.clearImmediate="function"==typeof r?r:function(t){delete s[t]}}).call(this,t("timers").setImmediate,t("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(t,e,n){var r=t("promise-polyfill"),o=function(){return"undefined"!=typeof window?window:Function("return this;")()}();e.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,ee,ne,void 0);var re=ne.exports.boltExport,oe=function(e){var n=Kt.none(),r=[],o=function(t){return oe(function(e){i(function(n){e(t(n))})})},i=function(t){a()?c(t):r.push(t)},u=function(t){n=Kt.some(t),s(r),r=[]},a=function(){return n.isSome()},s=function(t){Jt(t,c)},c=function(e){n.each(function(n){t.setTimeout(function(){e(n)},0)})};return e(u),{get:i,map:o,isReady:a}},ie=function(t){return oe(function(e){e(t)})},ue={nu:oe,pure:ie},ae=function(e){t.setTimeout(function(){throw e},0)},se=function(t){var e=function(e){t().then(e,ae)},n=function(e){return se(function(){return t().then(e)})},r=function(e){return se(function(){return t().then(function(t){return e(t).toPromise()})})},o=function(e){return se(function(){return t().then(function(){return e.toPromise()})})},i=function(){return ue.nu(e)},u=function(){var e=null;return se(function(){return null===e&&(e=t()),e})},a=t;return{map:n,bind:r,anonBind:o,toLazy:i,toCached:u,toPromise:a,get:e}},ce=function(t){return se(function(){return new re(t)})},le=function(t){return se(function(){return re.resolve(t)})},fe={nu:ce,pure:le},de=function(t,e){return e(function(e){var n=[],r=0,o=function(o){return function(i){n[o]=i,r++,r>=t.length&&e(n)}};0===t.length?e([]):Jt(t,function(t,e){t.get(o(e))})})},me=function(t){return de(t,fe.nu)},pe=function(t,e){return me(Zt(t,e))},ge=pe,ve=function(){var t=h(Kt.none()),e=function(){t.set(Kt.none())},n=function(e){t.set(Kt.some(e))},r=function(e){t.get().each(e)},o=function(){return t.get().isSome()};return{clear:e,set:n,isSet:o,on:r}},he=function(t,e,n){var r=n?n:it.isMarked(e),o=Ct.process(t,it.unmark(e),r);o.cancelled===!1&&Lt.insertContent(t,o.content)},ye=function(t,e){e=t.dom.encode(e).replace(/\r\n/g,"\n"),e=dt.convert(e,t.settings.forced_root_block,t.settings.forced_root_block_attrs),he(t,e,!1)},be=function(t){var e={},n="data:text/mce-internal,";if(t){if(t.getData){var r=t.getData("Text");r&&r.length>0&&r.indexOf(n)===-1&&(e["text/plain"]=r)}if(t.types)for(var o=0;o<t.types.length;o++){var i=t.types[o];try{e[i]=t.getData(i)}catch(u){e[i]=""}}}return e},Pe=function(t,e){var n=be(e.clipboardData||t.getDoc().dataTransfer);return yt.isMsEdge()?J.extend(n,{"text/html":""}):n},we=function(t,e){return e in t&&t[e].length>0},xe=function(t){return we(t,"text/html")||we(t,"text/plain")},_e=function(t){var e;return e=t.indexOf(","),e!==-1?t.substr(e+1):null},Te=function(t,e){return!t.images_dataimg_filter||t.images_dataimg_filter(e)},ke=function(t,e){var n=e.match(/([\s\S]+?)\.(?:jpeg|jpg|png|gif)$/i);return n?t.dom.encode(n[1]):null},De=yt.createIdGenerator("mceclip"),Ce=function(e,n){var r=_e(n.uri),o=De(),i=e.settings.images_reuse_filename&&n.blob.name?ke(e,n.blob.name):o,u=new t.Image;if(u.src=n.uri,Te(e.settings,u)){var a=e.editorUpload.blobCache,s=void 0,c=void 0;c=a.findFirst(function(t){return t.base64()===r}),c?s=c:(s=a.create(o,n.blob,r,i),a.add(s)),he(e,'<img src="'+s.blobUri()+'">',!1)}else he(e,'<img src="'+n.uri+'">',!1)},Fe=function(t){return"paste"===t.type},Ee=function(t){return ge(t,function(t){return fe.nu(function(e){var n=t.getAsFile?t.getAsFile():t,r=new window.FileReader;r.onload=function(){e({blob:n,uri:r.result})},r.readAsDataURL(n)})})},Re=function(t){var e=t.items?Zt(te(t.items),function(t){return t.getAsFile()}):[],n=t.files?te(t.files):[],r=Qt(e.length>0?e:n,function(t){return/^image\/(jpeg|png|gif|bmp)$/.test(t.type)});return r},Ie=function(t,e,n){var r=Fe(e)?e.clipboardData:e.dataTransfer;if(t.settings.paste_data_images&&r){var o=Re(r);if(o.length>0)return e.preventDefault(),Ee(o).get(function(e){n&&t.selection.setRng(n),Jt(e,function(e){Ce(t,e)})}),!0}return!1},Oe=function(e){var n=e.clipboardData;return t.navigator.userAgent.indexOf("Android")!==-1&&n&&n.items&&0===n.items.length},Se=function(t){return Q.metaKeyPressed(t)&&86===t.keyCode||t.shiftKey&&45===t.keyCode},Ae=function(e,n,r){function o(t,r,o,i){var u,a;return we(t,"text/html")?u=t["text/html"]:(u=n.getHtml(),i=i?i:it.isMarked(u),n.isDefaultContent(u)&&(o=!0)),u=yt.trimHtml(u),n.remove(),a=i===!1&&dt.isPlainText(u),u.length&&!a||(o=!0),o&&(u=we(t,"text/plain")&&a?t["text/plain"]:yt.innerText(u)),n.isDefaultContent(u)?void(r||e.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.")):void(o?ye(e,u):he(e,u,i))}var i,u=ve();e.on("keydown",function(r){function o(t){Se(t)&&!t.isDefaultPrevented()&&n.remove()}if(Se(r)&&!r.isDefaultPrevented()){if(i=r.shiftKey&&86===r.keyCode,i&&Y.webkit&&t.navigator.userAgent.indexOf("Version/")!==-1)return;if(r.stopImmediatePropagation(),u.set(r),window.setTimeout(function(){u.clear()},100),Y.ie&&i)return r.preventDefault(),void C.firePaste(e,!0);n.remove(),n.create(),e.once("keyup",o),e.once("paste",function(){e.off("keyup",o)})}});var a=function(){return n.getLastRng()||e.selection.getRng()};e.on("paste",function(t){var s=u.isSet(),c=Pe(e,t),l="text"===r.get()||i,f=we(c,it.internalHtmlMime());return i=!1,t.isDefaultPrevented()||Oe(t)?void n.remove():!xe(c)&&Ie(e,t,a())?void n.remove():(s||t.preventDefault(),!Y.ie||s&&!t.ieFake||we(c,"text/html")||(n.create(),e.dom.bind(n.getEl(),"paste",function(t){t.stopPropagation()}),e.getDoc().execCommand("Paste",!1,null),c["text/html"]=n.getHtml()),void(we(c,"text/html")?(t.preventDefault(),f||(f=it.isMarked(c["text/html"])),o(c,s,l,f)):Z.setEditorTimeout(e,function(){o(c,s,l,f)},0)))})},Me=function(t,e,n){Ae(t,e,n);var r;t.parser.addNodeFilter("img",function(e,n,o){var i=function(t){return t.data&&t.data.paste===!0},u=function(t){t.attr("data-mce-object")||r===Y.transparentSrc||t.remove()},a=function(t){return 0===t.indexOf("webkit-fake-url")},s=function(t){return 0===t.indexOf("data:")};if(!t.settings.paste_data_images&&i(o))for(var c=e.length;c--;)r=e[c].attributes.map.src,r&&(a(r)?u(e[c]):!t.settings.allow_html_data_urls&&s(r)&&u(e[c]))})},je=function(e){return Y.ie&&e.inline?t.document.body:e.getBody()},Le=function(t){return je(t)!==t.getBody()},He=function(t,e,n){Le(t)&&t.dom.bind(e,"paste keyup",function(e){Ke(t,n)||t.fire("paste")})},Be=function(t,e,n){var r,o=t.dom,i=t.getBody();e.set(t.selection.getRng()),r=t.dom.add(je(t),"div",{id:"mcepastebin","class":"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},n),(Y.ie||Y.gecko)&&o.setStyle(r,"left","rtl"===o.getStyle(i,"direction",!0)?65535:-65535),o.bind(r,"beforedeactivate focusin focusout",function(t){t.stopPropagation()}),He(t,r,n),r.focus(),t.selection.select(r,!0)},Ne=function(t,e){if(Ue(t)){for(var n=void 0,r=e.get();n=t.dom.get("mcepastebin");)t.dom.remove(n),t.dom.unbind(n);r&&t.selection.setRng(r)}e.set(null)},Ue=function(t){return t.dom.get("mcepastebin")},$e=function(t){var e,n,r,o,i,u=function(e,n){e.appendChild(n),t.dom.remove(n,!0)};for(n=J.grep(je(t).childNodes,function(t){return"mcepastebin"===t.id}),e=n.shift(),J.each(n,function(t){u(e,t)}),o=t.dom.select("div[id=mcepastebin]",e),r=o.length-1;r>=0;r--)i=t.dom.create("div"),e.insertBefore(i,o[r]),u(i,o[r]);return e?e.innerHTML:""},We=function(t){return t.get()},ze=function(t,e){return e===t},Ve=function(t){return t&&"mcepastebin"===t.id},Ke=function(t,e){var n=Ue(t);return Ve(n)&&ze(e,n.innerHTML)},qe=function(t){var e=h(null),n="%MCEPASTEBIN%";return{create:function(){return Be(t,e,n)},remove:function(){return Ne(t,e)},getEl:function(){return Ue(t)},getHtml:function(){return $e(t)},getLastRng:function(){return We(e)},isDefault:function(){return Ke(t,n)},isDefaultContent:function(t){return ze(n,t)}}},Ge=function(t,e){var n=qe(t);return t.on("preInit",function(){return Me(t,n,e)}),{pasteFormat:e,pasteHtml:function(e,n){return he(t,e,n)},pasteText:function(e){return ye(t,e)},pasteImageData:function(e,n){return Ie(t,e,n)},getDataTransferItems:be,hasHtmlOrText:xe,hasContentType:we}},Xe=function(){},Ye=function(t){return Y.iOS===!1&&void 0!==t&&"function"==typeof t.setData&&yt.isMsEdge()!==!0},Ze=function(t,e,n){if(!Ye(t))return!1;try{return t.clearData(),t.setData("text/html",e),t.setData("text/plain",n),t.setData(it.internalHtmlMime(),e),!0}catch(r){return!1}},Je=function(t,e,n,r){Ze(t.clipboardData,e.html,e.text)?(t.preventDefault(),r()):n(e.html,r)},Qe=function(t){return function(e,n){var r=it.mark(e),o=t.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),i=t.dom.create("div",{contenteditable:"true"},r);t.dom.setStyles(o,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),o.appendChild(i),t.dom.add(t.getBody(),o);var u=t.selection.getRng();i.focus();var a=t.dom.createRng();a.selectNodeContents(i),t.selection.setRng(a),setTimeout(function(){t.selection.setRng(u),o.parentNode.removeChild(o),n()},0)}},tn=function(t){return{html:t.selection.getContent({contextual:!0}),text:t.selection.getContent({format:"text"})}},en=function(t){return!!t.dom.getParent(t.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",t.getBody())},nn=function(t){return!t.selection.isCollapsed()||en(t)},rn=function(t){return function(e){nn(t)&&Je(e,tn(t),Qe(t),function(){setTimeout(function(){t.execCommand("Delete")},0)})}},on=function(t){return function(e){nn(t)&&Je(e,tn(t),Qe(t),Xe)}},un=function(t){t.on("cut",rn(t)),t.on("copy",on(t))},an={register:un},sn=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),cn=function(t,e){return sn.getCaretRangeFromPoint(e.clientX,e.clientY,t.getDoc())},ln=function(t){var e=t["text/plain"];return!!e&&0===e.indexOf("file://")},fn=function(t,e){t.focus(),t.selection.setRng(e)},dn=function(t,e,n){W.shouldBlockDrop(t)&&t.on("dragend dragover draggesture dragdrop drop drag",function(t){t.preventDefault(),t.stopPropagation()}),W.shouldPasteDataImages(t)||t.on("drop",function(t){var e=t.dataTransfer;e&&e.files&&e.files.length>0&&t.preventDefault()}),t.on("drop",function(r){var o,i;if(i=cn(t,r),!r.isDefaultPrevented()&&!n.get()){o=e.getDataTransferItems(r.dataTransfer);var u=e.hasContentType(o,it.internalHtmlMime());if((e.hasHtmlOrText(o)&&!ln(o)||!e.pasteImageData(r,i))&&i&&W.shouldFilterDrop(t)){var a=o["mce-internal"]||o["text/html"]||o["text/plain"];a&&(r.preventDefault(),Z.setEditorTimeout(t,function(){t.undoManager.transact(function(){o["mce-internal"]&&t.execCommand("Delete"),fn(t,i),a=yt.trimHtml(a),o["text/html"]?e.pasteHtml(a,u):e.pasteText(a)})}))}}}),t.on("dragstart",function(t){n.set(!0)}),t.on("dragover dragend",function(e){W.shouldPasteDataImages(t)&&n.get()===!1&&(e.preventDefault(),fn(t,cn(t,e))),"dragend"===e.type&&n.set(!1)})},mn={setup:dn},pn=function(t){var e=t.plugins.paste,n=W.getPreProcess(t);
n&&t.on("PastePreProcess",function(t){n.call(e,e,t)});var r=W.getPostProcess(t);r&&t.on("PastePostProcess",function(t){r.call(e,e,t)})},gn={setup:pn},vn=function(t){Y.webkit&&f(t,p),Y.ie&&(f(t,m),d(t,g))},hn={setup:vn},yn=function(t,e,n){var r=n.control;r.active("text"===e.pasteFormat.get()),t.on("PastePlainTextToggle",function(t){r.active(t.state)})},bn=function(t,e){var n=l(yn,t,e);t.addButton("pastetext",{active:!1,icon:"pastetext",tooltip:"Paste as text",cmd:"mceTogglePlainTextPaste",onPostRender:n}),t.addMenuItem("pastetext",{text:"Paste as text",selectable:!0,active:e.pasteFormat,cmd:"mceTogglePlainTextPaste",onPostRender:n})},Pn={register:bn};return y.add("paste",function(t){if(P.hasProPlugin(t)===!1){var e=h(!1),n=h(!1),r=h(W.isPasteAsTextEnabled(t)?"text":"html"),o=Ge(t,r),i=hn.setup(t);return Pn.register(t,o),X.register(t,o,e),gn.setup(t),an.register(t),mn.setup(t,o,n),x.get(o,i)}}),v})(window)}();
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],"tinymce/plugins/table/plugin.js":[function(require,module,exports){
!function(){(function(t){"use strict";function e(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=e.concat(n);return t.apply(null,o)}}function n(t,e,n,r,o){return t(n,r)?k.some(n):M(o)&&o(n)?k.none():e(n,r,o)}function r(t,e){var n=function(n){if(!t(n))throw new Error("Can only get "+e+" value of a "+e+" node");return r(n).getOr("")},r=function(e){return t(e)?k.from(e.dom().nodeValue):k.none()},o=function(n,r){if(!t(n))throw new Error("Can only set raw "+e+" value of a "+e+" node");n.dom().nodeValue=r};return{get:n,getOption:r,set:o}}function o(){var t=function(t){return Kt.fromDom(t.dom().cloneNode(!1))},e=function(t){return t.dom().ownerDocument},n=function(t){return!!Et(t)&&("body"===Tt(t)||z(Eo,Tt(t)))},r=function(t){return!!Et(t)&&z(["br","img","hr","input"],Tt(t))},o=function(t,e){return t.dom().compareDocumentPosition(e.dom())},i=function(t,e){var n=_t(t);Pt(e,n)};return{up:y({selector:tr,closest:rr,predicate:Jn,all:vn}),down:y({selector:Kn,predicate:Vn}),styles:y({get:re,getRaw:ie,set:ee,remove:ue}),attrs:y({get:It,set:Bt,remove:Mt,copyTo:i}),insert:y({before:Cn,after:Rn,afterAll:On,append:Tn,appendAll:En,prepend:Sn,wrap:Dn}),remove:y({unwrap:Bn,remove:Nn}),create:y({nu:Kt.fromTag,clone:t,text:Kt.fromText}),query:y({comparePosition:o,prevSibling:pn,nextSibling:bn}),property:y({children:wn,name:Tt,parent:hn,document:e,isText:kt,isComment:Ot,isElement:Et,getText:Fr,setText:Hr,isBoundary:n,isEmptyTag:r}),eq:an,is:dn}}function i(t,e){var n=function(e,n){if(!_(n)&&!n.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+n);var r=e.dom();zt(r)&&(r.style[t]=n+"px")},r=function(n){var r=e(n);if(r<=0||null===r){var o=re(n,t);return parseFloat(o)||0}return r},o=r,i=function(t,e){return K(e,function(e,n){var r=re(t,n),o=void 0===r?0:parseInt(r,10);return isNaN(o)?e:e+o},0)},u=function(t,e,n){var r=i(t,n),o=e>r?e-r:0;return o};return{set:n,get:r,getOuter:o,aggregate:i,max:u}}function u(t){var e=function(e){return t(e).isRtl()?Zu.rtl:Zu.ltr},n=function(t,n){return e(n).delta(t,n)},r=function(t,n){return e(n).positions(t,n)},o=function(t){return e(t).edge(t)};return{delta:n,edge:o,positions:r}}function a(e){return e.control.rootControl.find("#style")[0].getEl().isEqualNode(t.document.activeElement)}function c(t,e,n,r){function o(t,n,r){(1===e.length||r)&&u.setAttrib(t,n,r)}function i(t,n,r){(1===e.length||r)&&u.setStyle(t,n,r)}var u=t.dom;bs(t)&&$s.syncAdvancedStyleFields(t,r);var a=r.control.rootControl.toJSON();t.undoManager.transact(function(){Ls.each(e,function(e){o(e,"scope",a.scope),o(e,"style",a.style),o(e,"class",a["class"]),i(e,"height",rs(a.height)),a.type!==e.parentNode.nodeName.toLowerCase()&&od(t.dom,e,a.type),a.align!==n.align&&(qs.unApplyAlign(t,e),qs.applyAlign(t,e,a.align))}),t.focus()})}function l(t,e,n,r){if("TD"===e.tagName||"TH"===e.tagName)t.setStyle(e,n,r);else if(e.children)for(var o=0;o<e.children.length;o++)l(t,e.children[o],n,r)}function f(){var t=k.none(),e=function(){t=k.none()},n=function(e,n){var r=t.map(function(t){return e.compare(t,n)});return t=k.some(n),r},r=function(t,e){var r=e.extract(t);r.each(function(t){var r=n(e,t);r.each(function(t){o.trigger.move(t)})})},o=_d.create({move:Wd(["info"])});return{onEvent:r,reset:e,events:o.registry}}function s(){return{onEvent:b,reset:b}}function d(){var t=s(),e=f(),n=t,r=function(){n.reset(),n=e},o=function(){n.reset(),n=t},i=function(t,e){n.onEvent(t,e)},u=function(){return n===e};return{on:r,off:o,isOn:u,onEvent:i,events:e.events}}function m(t,e,n,r){var o=k.none(),i=function(){o=k.none()},u=function(t){r.clear(e),o=Zv(t.target(),n)},a=function(i){o.each(function(o){r.clear(e),Zv(i.target(),n).each(function(i){hi.identify(o,i,n).each(function(n){var u=n.boxes().getOr([]);(u.length>1||1===u.length&&!an(o,i))&&(r.selectRange(e,u,n.start(),n.finish()),t.selectContents(i))})})})},c=function(t){o.each(i)};return{mousedown:u,mouseover:a,mouseup:c}}function g(t,e){var n=gt(["mousedown","mouseover","mouseup","keyup","keydown"],[]),r=k.none(),o=Cp.byAttr(Di);t.on("init",function(i){var u=t.getWin(),a=Qf(t),c=es(t),l=function(){var e=t.selection,n=Kt.fromDom(e.getStart()),r=Kt.fromDom(e.getEnd()),i=ii.sharedOne(yr.table,[n,r]);i.fold(function(){o.clear(a)},b)},f=vp.mouse(u,a,c,o),s=vp.keyboard(u,a,c,o),d=function(t){return t.raw().shiftKey===!0},m=function(e,n){d(e)&&(n.kill()&&e.kill(),n.selection().each(function(e){var n=Xm.relative(e.start(),e.finish()),r=cg(u,n);t.selection.setRng(r)}))},g=function(e){var n=p(e);if(n.raw().shiftKey&&ap.isNavigation(n.raw().which)){var r=t.selection.getRng(),o=Kt.fromDom(r.startContainer),i=Kt.fromDom(r.endContainer);s.keyup(n,o,r.startOffset,i,r.endOffset).each(function(t){m(n,t)})}},h=function(n){var r=p(n);e().each(function(t){t.hideBars()});var o=t.selection.getRng(),i=Kt.fromDom(t.selection.getStart()),u=Kt.fromDom(o.startContainer),a=Kt.fromDom(o.endContainer),c=ls.directionAt(i).isRtl()?ap.rtl:ap.ltr;s.keydown(r,u,o.startOffset,a,o.endOffset,c).each(function(t){m(r,t)}),e().each(function(t){t.showBars()})},v=function(t){return t.hasOwnProperty("x")&&t.hasOwnProperty("y")},p=function(t){var e=Kt.fromDom(t.target),n=function(){t.stopPropagation()},r=function(){t.preventDefault()},o=w(r,n);return{target:y(e),x:y(v(t)?t.x:null),y:y(v(t)?t.y:null),stop:n,prevent:r,kill:o,raw:y(t)}},x=function(t){return 0===t.button},C=function(t){return void 0===t.buttons||(!!(ad.ie&&ad.ie>=12&&0===t.buttons)||0!==(1&t.buttons))},R=function(t){x(t)&&Rp(t)&&f.mousedown(p(t))},S=function(t){C(t)&&Rp(t)&&f.mouseover(p(t))},T=function(t){x(t)&&Rp(t)&&f.mouseup(p(t))};t.on("mousedown",R),t.on("mouseover",S),t.on("mouseup",T),t.on("keyup",g),t.on("keydown",h),t.on("nodechange",l),r=k.some(n({mousedown:R,mouseover:S,mouseup:T,keyup:g,keydown:h}))});var i=function(){r.each(function(t){})};return{clear:o.clear,destroy:i}}function h(t){var e=Rm(t),n=g(t,e.lazyResize),r=Ws(t,e.lazyWire),o=Sp(t),i=Hl(k.none());return kd.registerCommands(t,r,n,o,i),Vi.registerEvents(t,o,r,n),kp.addMenuItems(t,o),Op.addButtons(t),Op.addToolbars(t),t.on("PreInit",function(){t.serializer.addTempAttr(Di.firstSelected()),t.serializer.addTempAttr(Di.lastSelected())}),vs(t)&&t.on("keydown",function(n){oh.handle(n,t,r,e.lazyWire)}),t.on("remove",function(){e.destroy(),n.destroy()}),Pp(t,i)}function v(){}var p=tinymce.util.Tools.resolve("tinymce.PluginManager"),b=function(){},w=function(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t(e.apply(null,n))}},y=function(t){return function(){return t}},x=function(t){return t},C=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return!t.apply(null,e)}},R=function(t){return function(){throw new Error(t)}},S=y(!1),T=y(!0),D=function(){return A},A=function(){var t=function(t){return t.isNone()},e=function(t){return t()},n=function(t){return t},r={fold:function(t,e){return t()},is:S,isSome:S,isNone:T,getOr:n,getOrThunk:e,getOrDie:function(t){throw new Error(t||"error: getOrDie called on none.")},getOrNull:y(null),getOrUndefined:y(void 0),or:n,orThunk:e,map:D,each:b,bind:D,exists:S,forall:T,filter:D,equals:t,equals_:t,toArray:function(){return[]},toString:y("none()")};return Object.freeze&&Object.freeze(r),r}(),O=function(t){var e=y(t),n=function(){return o},r=function(e){return e(t)},o={fold:function(e,n){return n(t)},is:function(e){return t===e},isSome:T,isNone:S,getOr:e,getOrThunk:e,getOrDie:e,getOrNull:e,getOrUndefined:e,or:n,orThunk:n,map:function(e){return O(e(t))},each:function(e){e(t)},bind:r,exists:r,forall:r,filter:function(e){return e(t)?o:A},toArray:function(){return[t]},toString:function(){return"some("+t+")"},equals:function(e){return e.is(t)},equals_:function(e,n){return e.fold(S,function(e){return n(t,e)})}};return o},E=function(t){return null===t||void 0===t?A:O(t)},k={some:O,none:D,from:E},N=function(t){if(null===t)return"null";var e=typeof t;return"object"===e&&(Array.prototype.isPrototypeOf(t)||t.constructor&&"Array"===t.constructor.name)?"array":"object"===e&&(String.prototype.isPrototypeOf(t)||t.constructor&&"String"===t.constructor.name)?"string":e},B=function(t){return function(e){return N(e)===t}},P=B("string"),I=B("array"),W=B("boolean"),M=B("function"),_=B("number"),L=Array.prototype.slice,F=Array.prototype.indexOf,j=Array.prototype.push,H=function(t,e){return F.call(t,e)},z=function(t,e){return H(t,e)>-1},U=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return!0}return!1},q=function(t,e){for(var n=t.length,r=new Array(n),o=0;o<n;o++){var i=t[o];r[o]=e(i,o)}return r},G=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];e(o,n)}},V=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t[n];e(r,n)}},Y=function(t,e){for(var n=[],r=0,o=t.length;r<o;r++){var i=t[r];e(i,r)&&n.push(i)}return n},X=function(t,e,n){return V(t,function(t){n=e(n,t)}),n},K=function(t,e,n){return G(t,function(t){n=e(n,t)}),n},J=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return k.some(o)}return k.none()},$=function(t,e){for(var n=0,r=t.length;n<r;n++){var o=t[n];if(e(o,n))return k.some(n)}return k.none()},Q=function(t){for(var e=[],n=0,r=t.length;n<r;++n){if(!I(t[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+t);j.apply(e,t[n])}return e},Z=function(t,e){var n=q(t,e);return Q(n)},tt=function(t,e){for(var n=0,r=t.length;n<r;++n){var o=t[n];if(e(o,n)!==!0)return!1}return!0},et=function(t){var e=L.call(t,0);return e.reverse(),e},nt=function(t){return 0===t.length?k.none():k.some(t[t.length-1])},rt=(M(Array.from)?Array.from:function(t){return L.call(t)},Object.keys),ot=function(t,e){for(var n=rt(t),r=0,o=n.length;r<o;r++){var i=n[r],u=t[i];e(u,i)}},it=function(t,e){return ut(t,function(t,n){return{k:n,v:e(t,n)}})},ut=function(t,e){var n={};return ot(t,function(t,r){var o=e(t,r);n[o.k]=o.v}),n},at=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t.length!==e.length)throw new Error('Wrong number of arguments to struct. Expected "['+t.length+']", got '+e.length+" arguments");var r={};return G(t,function(t,n){r[t]=y(e[n])}),r}},ct=function(t){return t.slice(0).sort()},lt=function(t,e){throw new Error("All required keys ("+ct(t).join(", ")+") were not specified. Specified keys were: "+ct(e).join(", ")+".")},ft=function(t){throw new Error("Unsupported keys for object: "+ct(t).join(", "))},st=function(t,e){if(!I(e))throw new Error("The "+t+" fields must be an array. Was: "+e+".");G(e,function(e){if(!P(e))throw new Error("The value "+e+" in the "+t+" fields was not a string.")})},dt=function(t,e){throw new Error("All values need to be of type: "+e+". Keys ("+ct(t).join(", ")+") were not.")},mt=function(t){var e=ct(t),n=J(e,function(t,n){return n<e.length-1&&t===e[n+1]});n.each(function(t){throw new Error("The field: "+t+" occurs more than once in the combined fields: ["+e.join(", ")+"].")})},gt=function(t,e){var n=t.concat(e);if(0===n.length)throw new Error("You must specify at least one required or optional field.");return st("required",t),st("optional",e),mt(n),function(r){var o=rt(r),i=tt(t,function(t){return z(o,t)});i||lt(t,o);var u=Y(o,function(t){return!z(n,t)});u.length>0&&ft(u);var a={};return G(t,function(t){a[t]=y(r[t])}),G(e,function(t){a[t]=y(Object.prototype.hasOwnProperty.call(r,t)?k.some(r[t]):k.none())}),a}},ht=(t.Node.ATTRIBUTE_NODE,t.Node.CDATA_SECTION_NODE,t.Node.COMMENT_NODE),vt=t.Node.DOCUMENT_NODE,pt=(t.Node.DOCUMENT_TYPE_NODE,t.Node.DOCUMENT_FRAGMENT_NODE,t.Node.ELEMENT_NODE),bt=t.Node.TEXT_NODE,wt=(t.Node.PROCESSING_INSTRUCTION_NODE,t.Node.ENTITY_REFERENCE_NODE,t.Node.ENTITY_NODE,t.Node.NOTATION_NODE,"undefined"!=typeof t.window?t.window:Function("return this;")()),yt=function(t,e){for(var n=void 0!==e&&null!==e?e:wt,r=0;r<t.length&&void 0!==n&&null!==n;++r)n=n[t[r]];return n},xt=function(t,e){var n=t.split(".");return yt(n,e)},Ct=function(t,e){return xt(t,e)},Rt=function(t,e){var n=Ct(t,e);if(void 0===n||null===n)throw new Error(t+" not available on this browser");return n},St={getOrDie:Rt},Tt=function(t){var e=t.dom().nodeName;return e.toLowerCase()},Dt=function(t){return t.dom().nodeType},At=function(t){return function(e){return Dt(e)===t}},Ot=function(t){return Dt(t)===ht||"#comment"===Tt(t)},Et=At(pt),kt=At(bt),Nt=function(e,n,r){if(!(P(r)||W(r)||_(r)))throw t.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",e),new Error("Attribute value was not simple");e.setAttribute(n,r+"")},Bt=function(t,e,n){Nt(t.dom(),e,n)},Pt=function(t,e){var n=t.dom();ot(e,function(t,e){Nt(n,e,t)})},It=function(t,e){var n=t.dom().getAttribute(e);return null===n?void 0:n},Wt=function(t,e){var n=t.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(e)},Mt=function(t,e){t.dom().removeAttribute(e)},_t=function(t){return K(t.dom().attributes,function(t,e){return t[e.name]=e.value,t},{})},Lt=function(t,e,n){if(""===e)return!0;if(t.length<e.length)return!1;var r=t.substr(n,n+e.length);return r===e},Ft=function(t,e){return t.indexOf(e)!==-1},jt=function(t,e){return Lt(t,e,t.length-e.length)},Ht=function(t){return t.replace(/^\s+|\s+$/g,"")},zt=function(t){return void 0!==t.style&&M(t.style.getPropertyValue)},Ut=function(t){var e,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,e=t.apply(null,r)),e}},qt=function(e,n){var r=n||t.document,o=r.createElement("div");if(o.innerHTML=e,!o.hasChildNodes()||o.childNodes.length>1)throw t.console.error("HTML does not have a single root node",e),new Error("HTML must have a single root node");return Yt(o.childNodes[0])},Gt=function(e,n){var r=n||t.document,o=r.createElement(e);return Yt(o)},Vt=function(e,n){var r=n||t.document,o=r.createTextNode(e);return Yt(o)},Yt=function(t){if(null===t||void 0===t)throw new Error("Node cannot be null or undefined");return{dom:y(t)}},Xt=function(t,e,n){var r=t.dom();return k.from(r.elementFromPoint(e,n)).map(Yt)},Kt={fromHtml:qt,fromTag:Gt,fromText:Vt,fromDom:Yt,fromPoint:Xt},Jt=function(t){var e=kt(t)?t.dom().parentNode:t.dom();return void 0!==e&&null!==e&&e.ownerDocument.body.contains(e)},$t=Ut(function(){return Qt(Kt.fromDom(t.document))}),Qt=function(t){var e=t.dom().body;if(null===e||void 0===e)throw new Error("Body is not available yet");return Kt.fromDom(e)},Zt=function(e,n,r){if(!P(r))throw t.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",e),new Error("CSS value must be a string: "+r);zt(e)&&e.style.setProperty(n,r)},te=function(t,e){zt(t)&&t.style.removeProperty(e)},ee=function(t,e,n){var r=t.dom();Zt(r,e,n)},ne=function(t,e){var n=t.dom();ot(e,function(t,e){Zt(n,e,t)})},re=function(e,n){var r=e.dom(),o=t.window.getComputedStyle(r),i=o.getPropertyValue(n),u=""!==i||Jt(e)?i:oe(r,n);return null===u?void 0:u},oe=function(t,e){return zt(t)?t.style.getPropertyValue(e):""},ie=function(t,e){var n=t.dom(),r=oe(n,e);return k.from(r).filter(function(t){return t.length>0})},ue=function(t,e){var n=t.dom();te(n,e),Wt(t,"style")&&""===Ht(It(t,"style"))&&Mt(t,"style")},ae=function(t,e){var n=t.dom(),r=e.dom();zt(n)&&zt(r)&&(r.style.cssText=n.style.cssText)},ce=function(){var t=St.getOrDie("Node");return t},le=function(t,e,n){return 0!==(t.compareDocumentPosition(e)&n)},fe=function(t,e){return le(t,e,ce().DOCUMENT_POSITION_PRECEDING)},se=function(t,e){return le(t,e,ce().DOCUMENT_POSITION_CONTAINED_BY)},de={documentPositionPreceding:fe,documentPositionContainedBy:se},me=function(t,e){for(var n=0;n<t.length;n++){var r=t[n];if(r.test(e))return r}},ge=function(t,e){var n=me(t,e);if(!n)return{major:0,minor:0};var r=function(t){return Number(e.replace(n,"$"+t))};return pe(r(1),r(2))},he=function(t,e){var n=String(e).toLowerCase();return 0===t.length?ve():ge(t,n)},ve=function(){return pe(0,0)},pe=function(t,e){return{major:t,minor:e}},be={nu:pe,detect:he,unknown:ve},we="Edge",ye="Chrome",xe="IE",Ce="Opera",Re="Firefox",Se="Safari",Te=function(t,e){return function(){return e===t}},De=function(){return Ae({current:void 0,version:be.unknown()})},Ae=function(t){var e=t.current,n=t.version;return{current:e,version:n,isEdge:Te(we,e),isChrome:Te(ye,e),isIE:Te(xe,e),isOpera:Te(Ce,e),isFirefox:Te(Re,e),isSafari:Te(Se,e)}},Oe={unknown:De,nu:Ae,edge:y(we),chrome:y(ye),ie:y(xe),opera:y(Ce),firefox:y(Re),safari:y(Se)},Ee="Windows",ke="iOS",Ne="Android",Be="Linux",Pe="OSX",Ie="Solaris",We="FreeBSD",Me=function(t,e){return function(){return e===t}},_e=function(){return Le({current:void 0,version:be.unknown()})},Le=function(t){var e=t.current,n=t.version;return{current:e,version:n,isWindows:Me(Ee,e),isiOS:Me(ke,e),isAndroid:Me(Ne,e),isOSX:Me(Pe,e),isLinux:Me(Be,e),isSolaris:Me(Ie,e),isFreeBSD:Me(We,e)}},Fe={unknown:_e,nu:Le,windows:y(Ee),ios:y(ke),android:y(Ne),linux:y(Be),osx:y(Pe),solaris:y(Ie),freebsd:y(We)},je=function(t,e,n){var r=t.isiOS()&&/ipad/i.test(n)===!0,o=t.isiOS()&&!r,i=t.isAndroid()&&3===t.version.major,u=t.isAndroid()&&4===t.version.major,a=r||i||u&&/mobile/i.test(n)===!0,c=t.isiOS()||t.isAndroid(),l=c&&!a,f=e.isSafari()&&t.isiOS()&&/safari/i.test(n)===!1;return{isiPad:y(r),isiPhone:y(o),isTablet:y(a),isPhone:y(l),isTouch:y(c),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:y(f)}},He=function(t,e){var n=String(e).toLowerCase();return J(t,function(t){return t.search(n)})},ze=function(t,e){return He(t,e).map(function(t){var n=be.detect(t.versionRegexes,e);return{current:t.name,version:n}})},Ue=function(t,e){return He(t,e).map(function(t){var n=be.detect(t.versionRegexes,e);return{current:t.name,version:n}})},qe={detectBrowser:ze,detectOs:Ue},Ge=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Ve=function(t){return function(e){return Ft(e,t)}},Ye=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return Ft(t,"edge/")&&Ft(t,"chrome")&&Ft(t,"safari")&&Ft(t,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ge],search:function(t){return Ft(t,"chrome")&&!Ft(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return Ft(t,"msie")||Ft(t,"trident")}},{name:"Opera",versionRegexes:[Ge,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Ve("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Ve("firefox")},{name:"Safari",versionRegexes:[Ge,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(Ft(t,"safari")||Ft(t,"mobile/"))&&Ft(t,"applewebkit")}}],Xe=[{name:"Windows",search:Ve("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return Ft(t,"iphone")||Ft(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Ve("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Ve("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Ve("linux"),versionRegexes:[]},{name:"Solaris",search:Ve("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Ve("freebsd"),versionRegexes:[]}],Ke={browsers:y(Ye),oses:y(Xe)},Je=function(t){var e=Ke.browsers(),n=Ke.oses(),r=qe.detectBrowser(e,t).fold(Oe.unknown,Oe.nu),o=qe.detectOs(n,t).fold(Fe.unknown,Fe.nu),i=je(o,r,t);return{browser:r,os:o,deviceType:i}},$e={detect:Je},Qe=Ut(function(){var e=t.navigator.userAgent;return $e.detect(e)}),Ze={detect:Qe},tn=pt,en=vt,nn=function(t,e){var n=t.dom();if(n.nodeType!==tn)return!1;var r=n;if(void 0!==r.matches)return r.matches(e);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(e);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(e);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(e);throw new Error("Browser lacks native selectors")},rn=function(t){return t.nodeType!==tn&&t.nodeType!==en||0===t.childElementCount},on=function(e,n){var r=void 0===n?t.document:n.dom();return rn(r)?[]:q(r.querySelectorAll(e),Kt.fromDom)},un=function(e,n){var r=void 0===n?t.document:n.dom();return rn(r)?k.none():k.from(r.querySelector(e)).map(Kt.fromDom)},an=function(t,e){return t.dom()===e.dom()},cn=function(t,e){var n=t.dom(),r=e.dom();return n!==r&&n.contains(r)},ln=function(t,e){return de.documentPositionContainedBy(t.dom(),e.dom())},fn=Ze.detect().browser,sn=fn.isIE()?ln:cn,dn=nn,mn=function(t){return Kt.fromDom(t.dom().ownerDocument)},gn=function(t){return Kt.fromDom(t.dom().ownerDocument.defaultView)},hn=function(t){return k.from(t.dom().parentNode).map(Kt.fromDom)},vn=function(t,e){for(var n=M(e)?e:S,r=t.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,u=Kt.fromDom(i);if(o.push(u),n(u)===!0)break;r=i}return o},pn=function(t){return k.from(t.dom().previousSibling).map(Kt.fromDom)},bn=function(t){return k.from(t.dom().nextSibling).map(Kt.fromDom)},wn=function(t){return q(t.dom().childNodes,Kt.fromDom)},yn=function(t,e){var n=t.dom().childNodes;return k.from(n[e]).map(Kt.fromDom)},xn=function(t){return yn(t,0)},Cn=(at("element","offset"),function(t,e){var n=hn(t);n.each(function(n){n.dom().insertBefore(e.dom(),t.dom())})}),Rn=function(t,e){var n=bn(t);n.fold(function(){var n=hn(t);n.each(function(t){Tn(t,e)})},function(t){Cn(t,e)})},Sn=function(t,e){var n=xn(t);n.fold(function(){Tn(t,e)},function(n){t.dom().insertBefore(e.dom(),n.dom())})},Tn=function(t,e){t.dom().appendChild(e.dom())},Dn=function(t,e){Cn(t,e),Tn(e,t)},An=function(t,e){G(e,function(e){Cn(t,e)})},On=function(t,e){G(e,function(n,r){var o=0===r?t:e[r-1];Rn(o,n)})},En=function(t,e){G(e,function(e){Tn(t,e)})},kn=function(t){t.dom().textContent="",G(wn(t),function(t){Nn(t)})},Nn=function(t){var e=t.dom();null!==e.parentNode&&e.parentNode.removeChild(e)},Bn=function(t){var e=wn(t);e.length>0&&An(t,e),Nn(t)},Pn=(at("width","height"),at("width","height"),at("rows","columns")),In=at("row","column"),Wn=(at("x","y"),at("element","rowspan","colspan")),Mn=at("element","rowspan","colspan","isNew"),_n=at("element","rowspan","colspan","row","column"),Ln=at("element","cells","section"),Fn=at("element","isNew"),jn=at("element","cells","section","isNew"),Hn=at("cells","section"),zn=at("details","section"),Un=at("startRow","startCol","finishRow","finishCol"),qn=function(t,e,n){return Y(vn(t,n),e)},Gn=function(t,e){return Y(wn(t),e)},Vn=function(t,e){var n=[];return G(wn(t),function(t){e(t)&&(n=n.concat([t])),n=n.concat(Vn(t,e))}),n},Yn=function(t,e,n){return qn(t,function(t){return nn(t,e)},n)},Xn=function(t,e){return Gn(t,function(t){return nn(t,e)})},Kn=function(t,e){return on(e,t)},Jn=function(t,e,n){for(var r=t.dom(),o=M(n)?n:y(!1);r.parentNode;){r=r.parentNode;var i=Kt.fromDom(r);if(e(i))return k.some(i);if(o(i))break}return k.none()},$n=function(t,e,r){var o=function(t,e){return e(t)};return n(o,Jn,t,e,r)},Qn=function(t,e){var n=function(t){return e(Kt.fromDom(t))},r=J(t.dom().childNodes,n);return r.map(Kt.fromDom)},Zn=function(t,e){var n=function(t){for(var r=0;r<t.childNodes.length;r++){var o=Kt.fromDom(t.childNodes[r]);if(e(o))return k.some(o);var i=n(t.childNodes[r]);if(i.isSome())return i}return k.none()};return n(t.dom())},tr=function(t,e,n){return Jn(t,function(t){return nn(t,e)},n)},er=function(t,e){return Qn(t,function(t){return nn(t,e)})},nr=function(t,e){return un(e,t)},rr=function(t,e,r){return n(nn,tr,t,e,r)},or=function(t,e){return ir(t,e,y(!0))},ir=function(t,e,n){return Z(wn(t),function(t){return nn(t,e)?n(t)?[t]:[]:ir(t,e,n)})},ur={firstLayer:or,filterFirstLayer:ir},ar=function(t,e,n){if(void 0===n&&(n=S),n(e))return k.none();if(z(t,Tt(e)))return k.some(e);var r=function(t){return nn(t,"table")||n(t)};return tr(e,t.join(","),r)},cr=function(t,e){return ar(["td","th"],t,e)},lr=function(t){return ur.firstLayer(t,"th,td")},fr=function(t,e){return ar(["caption","tr","tbody","tfoot","thead"],t,e)},sr=function(t,e){return hn(e).map(function(e){return Xn(e,t)})},dr=e(sr,"th,td"),mr=e(sr,"tr"),gr=function(t){return nr(t,"th,td")},hr=function(t,e){return rr(t,"table",e)},vr=function(t,e){return ar(["tr"],t,e)},pr=function(t){return ur.firstLayer(t,"tr")},br=function(t,e){return parseInt(It(t,e),10)},wr=function(t,e,n){var r=br(t,e),o=br(t,n);return Pn(r,o)},yr={cell:cr,firstCell:gr,cells:lr,neighbourCells:dr,table:hr,row:vr,rows:pr,notCell:fr,neighbourRows:mr,attr:br,grid:wr},xr=function(t){var e=yr.rows(t);return q(e,function(t){var e=t,n=hn(e),r=n.map(function(t){var e=Tt(t);return"tfoot"===e||"thead"===e||"tbody"===e?e:"tbody"}).getOr("tbody"),o=q(yr.cells(t),function(t){var e=Wt(t,"rowspan")?parseInt(It(t,"rowspan"),10):1,n=Wt(t,"colspan")?parseInt(It(t,"colspan"),10):1;return Wn(t,e,n)});return Ln(e,o,r)})},Cr=function(t,e){return q(t,function(t){var n=q(yr.cells(t),function(t){var e=Wt(t,"rowspan")?parseInt(It(t,"rowspan"),10):1,n=Wt(t,"colspan")?parseInt(It(t,"colspan"),10):1;return Wn(t,e,n)});return Ln(t,n,e.section())})},Rr={fromTable:xr,fromPastedRows:Cr},Sr=function(t,e){return t+","+e},Tr=function(t,e,n){var r=t.access()[Sr(e,n)];return void 0!==r?k.some(r):k.none()},Dr=function(t,e,n){var r=Ar(t,function(t){return n(e,t.element())});return r.length>0?k.some(r[0]):k.none()},Ar=function(t,e){var n=Z(t.all(),function(t){return t.cells()});return Y(n,e)},Or=function(t){var e={},n=[],r=t.length,o=0;G(t,function(t,r){var i=[];G(t.cells(),function(t){for(var n=0;void 0!==e[Sr(r,n)];)n++;for(var u=_n(t.element(),t.rowspan(),t.colspan(),r,n),a=0;a<t.colspan();a++)for(var c=0;c<t.rowspan();c++){var l=r+c,f=n+a,s=Sr(l,f);e[s]=u,o=Math.max(o,f+1)}i.push(u)}),n.push(Ln(t.element(),i,t.section()))});var i=Pn(r,o);return{grid:y(i),access:y(e),all:y(n)}},Er=function(t){var e=q(t.all(),function(t){return t.cells()});return Q(e)},kr={generate:Or,getAt:Tr,findItem:Dr,filterItems:Ar,justCells:Er},Nr=at("minRow","minCol","maxRow","maxCol"),Br=function(t,e){var n=t.grid().columns(),r=t.grid().rows(),o=r,i=n,u=0,a=0;return ot(t.access(),function(t){if(e(t)){var n=t.row(),r=n+t.rowspan()-1,c=t.column(),l=c+t.colspan()-1;n<o?o=n:r>u&&(u=r),c<i?i=c:l>a&&(a=l)}}),Nr(o,i,u,a)},Pr=function(t,e,n){var r=t[n].element(),o=Kt.fromTag("td");Tn(o,Kt.fromTag("br"));var i=e?Tn:Sn;i(r,o)},Ir=function(t,e,n,r){for(var o=e.grid().columns(),i=e.grid().rows(),u=0;u<i;u++)for(var a=!1,c=0;c<o;c++)if(!(u<n.minRow()||u>n.maxRow()||c<n.minCol()||c>n.maxCol())){var l=kr.getAt(e,u,c).filter(r).isNone();l?Pr(t,a,u):a=!0}},Wr=function(t,e){var n=Y(ur.firstLayer(t,"tr"),function(t){return 0===t.dom().childElementCount});G(n,Nn),e.minCol()!==e.maxCol()&&e.minRow()!==e.maxRow()||G(ur.firstLayer(t,"th,td"),function(t){Mt(t,"rowspan"),Mt(t,"colspan")}),Mt(t,"width"),Mt(t,"height"),ue(t,"width"),ue(t,"height")},Mr=function(t,e){var n=function(t){return nn(t.element(),e)},r=Rr.fromTable(t),o=kr.generate(r),i=Br(o,n),u="th:not("+e+"),td:not("+e+")",a=ur.filterFirstLayer(t,"th,td",function(t){return nn(t,u)});return G(a,Nn),Ir(r,o,i,n),Wr(t,i),t},_r={extract:Mr},Lr=r(kt,"text"),Fr=function(t){return Lr.get(t)},jr=function(t){return Lr.getOption(t)},Hr=function(t,e){Lr.set(t,e)},zr=function(t){return"img"===Tt(t)?1:jr(t).fold(function(){return wn(t).length},function(t){return t.length})},Ur=" ",qr=function(t){return jr(t).filter(function(t){return 0!==t.trim().length||t.indexOf(Ur)>-1}).isSome()},Gr=["img","br"],Vr=function(t){var e=qr(t);return e||z(Gr,Tt(t))},Yr=function(t){return Zn(t,Vr)},Xr=function(t){return Kr(t,Vr)},Kr=function(t,e){var n=function(t){for(var r=wn(t),o=r.length-1;o>=0;o--){var i=r[o];if(e(i))return k.some(i);var u=n(i);if(u.isSome())return u}return k.none()};return n(t)},Jr=function(t,e){return Kt.fromDom(t.dom().cloneNode(e))},$r=function(t){return Jr(t,!1)},Qr=function(t){return Jr(t,!0)},Zr=function(t,e){var n=Kt.fromTag(e),r=_t(t);return Pt(n,r),n},to=function(t,e){var n=Zr(t,e),r=wn(Qr(t));return En(n,r),n},eo=function(){var t=Kt.fromTag("td");return Tn(t,Kt.fromTag("br")),t},no=function(t,e,n){var r=to(t,e);return ot(n,function(t,e){null===t?Mt(r,e):Bt(r,e,t)}),r},ro=function(t){return t},oo=function(t){return function(){return Kt.fromTag("tr",t.dom())}},io=function(t,e,n){var r=Yr(t);return r.map(function(r){var o=n.join(","),i=Yn(r,o,function(e){return an(e,t)});return X(i,function(t,e){var n=$r(e);return Mt(n,"contenteditable"),Tn(t,n),n},e)}).getOr(e)},uo=function(t,e,n){var r=function(e){var r=mn(e.element()),o=Kt.fromTag(Tt(e.element()),r.dom()),i=n.getOr(["strong","em","b","i","span","font","h1","h2","h3","h4","h5","h6","p","div"]),u=i.length>0?io(e.element(),o,i):o;return Tn(u,Kt.fromTag("br")),ae(e.element(),o),ue(o,"height"),1!==e.colspan()&&ue(e.element(),"width"),t(e.element(),o),o};return{row:oo(e),cell:r,replace:no,gap:eo}},ao=function(t){return{row:oo(t),cell:eo,replace:ro,gap:eo}},co={cellOperations:uo,paste:ao},lo=function(e,n){var r=n||t.document,o=r.createElement("div");return o.innerHTML=e,wn(Kt.fromDom(o))},fo=function(t,e){var n=e.column(),r=e.column()+e.colspan()-1,o=e.row(),i=e.row()+e.rowspan()-1;return n<=t.finishCol()&&r>=t.startCol()&&o<=t.finishRow()&&i>=t.startRow()},so=function(t,e){return e.column()>=t.startCol()&&e.column()+e.colspan()-1<=t.finishCol()&&e.row()>=t.startRow()&&e.row()+e.rowspan()-1<=t.finishRow()},mo=function(t,n){for(var r=!0,o=e(so,n),i=n.startRow();i<=n.finishRow();i++)for(var u=n.startCol();u<=n.finishCol();u++)r=r&&kr.getAt(t,i,u).exists(o);return r?k.some(n):k.none()},go={inSelection:fo,isWithin:so,isRectangular:mo},ho=function(t,e){return Un(Math.min(t.row(),e.row()),Math.min(t.column(),e.column()),Math.max(t.row()+t.rowspan()-1,e.row()+e.rowspan()-1),Math.max(t.column()+t.colspan()-1,e.column()+e.colspan()-1))},vo=function(t,e,n){var r=kr.findItem(t,e,an),o=kr.findItem(t,n,an);return r.bind(function(t){return o.map(function(e){return ho(t,e)})})},po=function(t,e,n){return vo(t,e,n).bind(function(e){return go.isRectangular(t,e)})},bo={getAnyBox:vo,getBox:po},wo=function(t,e,n,r){return kr.findItem(t,e,an).bind(function(e){var o=n>0?e.row()+e.rowspan()-1:e.row(),i=r>0?e.column()+e.colspan()-1:e.column(),u=kr.getAt(t,o+n,i+r);return u.map(function(t){return t.element()})})},yo=function(t,n,r){return bo.getAnyBox(t,n,r).map(function(n){var r=kr.filterItems(t,e(go.inSelection,n));return q(r,function(t){return t.element()})})},xo=function(t,e){var n=function(t,e){return sn(e,t)};return kr.findItem(t,e,n).map(function(t){return t.element()})},Co={moveBy:wo,intercepts:yo,parentCell:xo},Ro=function(t,e,n){return yr.table(t).bind(function(r){var o=Ao(r);return Co.moveBy(o,t,e,n)})},So=function(t,e,n){var r=Ao(t);return Co.intercepts(r,e,n)},To=function(t,e,n,r,o){var i=Ao(t),u=an(t,n)?k.some(e):Co.parentCell(i,e),a=an(t,o)?k.some(r):Co.parentCell(i,r);return u.bind(function(t){return a.bind(function(e){return Co.intercepts(i,t,e)})})},Do=function(t,e,n){var r=Ao(t);return bo.getBox(r,e,n)},Ao=function(t){var e=Rr.fromTable(t);return kr.generate(e)},Oo={moveBy:Ro,intercepts:So,nestedIntercepts:To,getBox:Do},Eo=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","li","table","thead","tbody","tfoot","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],ko=at("left","right"),No=at("first","second","splits"),Bo=function(t,n,r){var o=t.property().children(n),i=$(o,e(t.eq,r));return i.map(function(t){return{before:y(o.slice(0,t)),after:y(o.slice(t+1))}})},Po=function(t,e,n){return Bo(t,e,n).map(function(n){var r=t.create().clone(e);return t.insert().appendAll(r,n.after()),t.insert().after(e,r),ko(e,r)})},Io=function(t,e,n){return Bo(t,e,n).map(function(r){var o=t.create().clone(e);return t.insert().appendAll(o,r.before().concat([n])),t.insert().appendAll(e,r.after()),t.insert().before(e,o),ko(o,e)})},Wo=function(t,e,n,r){var o=function(e,i,u){var a=No(e,k.none(),u);return n(e)?No(e,i,u):t.property().parent(e).bind(function(i){return r(t,i,e).map(function(t){var e=[{first:t.left,second:t.right}],r=n(i)?i:t.left();return o(r,k.some(t.right()),u.concat(e))})}).getOr(a)};return o(e,k.none(),[]);
},Mo=function(t,e,n,r){var o=n[0],i=n.slice(1);return r(t,e,o,i)},_o=function(t,e,n){return n.length>0?Mo(t,e,n,Lo):k.none()},Lo=function(t,e,n,r){var o=e(t,n);return X(r,function(n,r){var o=e(t,r);return Fo(t,n,o)},o)},Fo=function(t,n,r){return n.bind(function(n){return r.filter(e(t.eq,n))})},jo=function(t,n){return e(t.eq,n)},Ho=function(t,e,n,r){var o=t.property().children(e);if(t.eq(e,n[0]))return k.some([n[0]]);if(t.eq(e,r[0]))return k.some([r[0]]);var i=function(n){var r=et(n),i=$(r,jo(t,e)).getOr(-1),u=i<r.length-1?r[i+1]:r[i];return $(o,jo(t,u))},u=i(n),a=i(r);return u.bind(function(t){return a.map(function(e){var n=Math.min(t,e),r=Math.max(t,e);return o.slice(n,r+1)})})},zo=function(t,e,n,r){void 0===r&&(r=S);var o=[e].concat(t.up().all(e)),i=[n].concat(t.up().all(n)),u=function(t){var e=$(t,r);return e.fold(function(){return t},function(e){return t.slice(0,e+1)})},a=u(o),c=u(i),l=J(a,function(e){return U(c,jo(t,e))});return{firstpath:y(a),secondpath:y(c),shared:y(l)}},Uo=function(t,e,n){var r=zo(t,e,n);return r.shared().bind(function(e){return Ho(t,e,r.firstpath(),r.secondpath())})},qo={subset:Uo,ancestors:zo},Go=_o,Vo=qo.subset,Yo=qo.ancestors,Xo=Io,Ko=Po,Jo=Wo,$o={sharedOne:Go,subset:Vo,ancestors:Yo,breakToLeft:Xo,breakToRight:Ko,breakPath:Jo},Qo=o(),Zo=function(t,e){return $o.sharedOne(Qo,function(e,n){return t(n)},e)},ti=function(t,e){return $o.subset(Qo,t,e)},ei=function(t,e,n){return $o.ancestors(Qo,t,e,n)},ni=function(t,e){return $o.breakToLeft(Qo,t,e)},ri=function(t,e){return $o.breakToRight(Qo,t,e)},oi=function(t,e,n){return $o.breakPath(Qo,t,e,function(t,e,r){return n(e,r)})},ii={sharedOne:Zo,subset:ti,ancestors:ei,breakToLeft:ni,breakToRight:ri,breakPath:oi},ui=gt(["boxes","start","finish"],[]),ai={create:ui},ci=function(t){return tr(t,"table")},li=function(t,e,n){var r=function(t){return function(e){return void 0!==n&&n(e)||an(e,t)}};return an(t,e)?k.some(ai.create({boxes:k.some([t]),start:t,finish:e})):ci(t).bind(function(o){return ci(e).bind(function(i){if(an(o,i))return k.some(ai.create({boxes:Oo.intercepts(o,t,e),start:t,finish:e}));if(sn(o,i)){var u=Yn(e,"td,th",r(o)),a=u.length>0?u[u.length-1]:e;return k.some(ai.create({boxes:Oo.nestedIntercepts(o,t,o,e,i),start:t,finish:a}))}if(sn(i,o)){var u=Yn(t,"td,th",r(i)),c=u.length>0?u[u.length-1]:t;return k.some(ai.create({boxes:Oo.nestedIntercepts(i,t,o,e,i),start:t,finish:c}))}return ii.ancestors(t,e).shared().bind(function(u){return rr(u,"table",n).bind(function(n){var u=Yn(e,"td,th",r(n)),a=u.length>0?u[u.length-1]:e,c=Yn(t,"td,th",r(n)),l=c.length>0?c[c.length-1]:t;return k.some(ai.create({boxes:Oo.nestedIntercepts(n,t,o,e,i),start:l,finish:a}))})})})})},fi=function(t,e){var n=Kn(t,e);return n.length>0?k.some(n):k.none()},si=function(t,e){return J(t,function(t){return nn(t,e)})},di=function(t,e,n){return nr(t,e).bind(function(e){return nr(t,n).bind(function(t){return ii.sharedOne(ci,[e,t]).map(function(n){return{first:y(e),last:y(t),table:y(n)}})})})},mi=function(t,e){return tr(t,"table").bind(function(n){return nr(n,e).bind(function(e){return li(e,t).bind(function(t){return t.boxes().map(function(e){return{boxes:y(e),start:y(t.start()),finish:y(t.finish())}})})})})},gi=function(t,e,n,r,o){return si(t,o).bind(function(t){return Oo.moveBy(t,e,n).bind(function(t){return mi(t,r)})})},hi={identify:li,retrieve:fi,shiftSelection:gi,getEdges:di},vi=function(t,e){return hi.retrieve(t,e)},pi=function(t,e,n){return hi.getEdges(t,e,n).bind(function(e){var n=function(e){return an(t,e)},r=tr(e.first(),"thead,tfoot,tbody,table",n),o=tr(e.last(),"thead,tfoot,tbody,table",n);return r.bind(function(t){return o.bind(function(n){return an(t,n)?Oo.getBox(e.table(),e.first(),e.last()):k.none()})})})},bi={retrieve:vi,retrieveBox:pi},wi="data-mce-selected",yi="td["+wi+"],th["+wi+"]",xi="["+wi+"]",Ci="data-mce-first-selected",Ri="td["+Ci+"],th["+Ci+"]",Si="data-mce-last-selected",Ti="td["+Si+"],th["+Si+"]",Di={selected:y(wi),selectedSelector:y(yi),attributeSelector:y(xi),firstSelected:y(Ci),firstSelectedSelector:y(Ri),lastSelected:y(Si),lastSelectedSelector:y(Ti)},Ai=function(e){if(!I(e))throw new Error("cases must be an array");if(0===e.length)throw new Error("there must be at least one case");var n=[],r={};return G(e,function(o,i){var u=rt(o);if(1!==u.length)throw new Error("one and only one name per case");var a=u[0],c=o[a];if(void 0!==r[a])throw new Error("duplicate key detected:"+a);if("cata"===a)throw new Error("cannot have a case named cata (sorry)");if(!I(c))throw new Error("case arguments must be an array");n.push(a),r[a]=function(){var r=arguments.length;if(r!==c.length)throw new Error("Wrong number of arguments to case "+a+". Expected "+c.length+" ("+c+"), got "+r);for(var o=new Array(r),u=0;u<o.length;u++)o[u]=arguments[u];var l=function(t){var e=rt(t);if(n.length!==e.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+e.join(","));var r=tt(n,function(t){return z(e,t)});if(!r)throw new Error("Not all branches were specified when using match. Specified: "+e.join(", ")+"\nRequired: "+n.join(", "));return t[a].apply(null,o)};return{fold:function(){if(arguments.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+arguments.length);var t=arguments[i];return t.apply(null,o)},match:l,log:function(e){t.console.log(e,{constructors:n,constructor:a,params:o})}}}}),r},Oi={generate:Ai},Ei=Oi.generate([{none:[]},{multiple:["elements"]},{single:["selection"]}]),ki=function(t,e,n,r){return t.fold(e,n,r)},Ni={cata:ki,none:Ei.none,multiple:Ei.multiple,single:Ei.single},Bi=function(t,e){return Ni.cata(e.get(),y([]),x,y([t]))},Pi=function(t,e){var n=function(t){return Wt(t,"rowspan")&&parseInt(It(t,"rowspan"),10)>1||Wt(t,"colspan")&&parseInt(It(t,"colspan"),10)>1},r=Bi(t,e);return r.length>0&&tt(r,n)?k.some(r):k.none()},Ii=function(t,e){return Ni.cata(e.get(),k.none,function(e,n){return 0===e.length?k.none():bi.retrieveBox(t,Di.firstSelectedSelector(),Di.lastSelectedSelector()).bind(function(t){return e.length>1?k.some({bounds:y(t),cells:y(e)}):k.none()})},k.none)},Wi={mergable:Ii,unmergable:Pi,selection:Bi},Mi=function(t){return{element:y(t),mergable:k.none,unmergable:k.none,selection:y([t])}},_i=function(t,e,n){return{element:y(n),mergable:y(Wi.mergable(e,t)),unmergable:y(Wi.unmergable(n,t)),selection:y(Wi.selection(n,t))}},Li=function(t){return Mi(t)},Fi=at("element","clipboard","generators"),ji=function(t,e,n,r,o){return{element:y(n),mergable:k.none,unmergable:k.none,selection:y(Wi.selection(n,t)),clipboard:y(r),generators:y(o)}},Hi={noMenu:Mi,forMenu:_i,notCell:Li,paste:Fi,pasteRows:ji},zi=function(t){return yr.table(t[0]).map(Qr).map(function(t){return[_r.extract(t,Di.attributeSelector())]})},Ui=function(t,e){return q(e,function(e){return t.selection.serializer.serialize(e.dom(),{})}).join("")},qi=function(t){return q(t,function(t){return t.dom().innerText}).join("")},Gi=function(t,e,n,r){t.on("BeforeGetContent",function(n){var r=function(e){n.preventDefault(),zi(e).each(function(e){n.content="text"===n.format?qi(e):Ui(t,e)})};n.selection===!0&&Ni.cata(e.get(),b,r,b)}),t.on("BeforeSetContent",function(e){if(e.selection===!0&&e.paste===!0){var o=k.from(t.dom.getParent(t.selection.getStart(),"th,td"));o.each(function(o){var i=Kt.fromDom(o);yr.table(i).each(function(o){var u=Y(lo(e.content),function(t){return"meta"!==Tt(t)});if(1===u.length&&"table"===Tt(u[0])){e.preventDefault();var a=Kt.fromDom(t.getDoc()),c=co.paste(a),l=Hi.paste(i,u[0],c);n.pasteCells(o,l).each(function(e){t.selection.setRng(e),t.focus(),r.clear(o)})}})})}})},Vi={registerEvents:Gi},Yi=i("height",function(t){var e=t.dom();return Jt(t)?e.getBoundingClientRect().height:e.offsetHeight}),Xi=function(t){return Yi.get(t)},Ki=function(t){return Yi.getOuter(t)},Ji=i("width",function(t){return t.dom().offsetWidth}),$i=function(t){return Ji.get(t)},Qi=function(t){return Ji.getOuter(t)},Zi=Ze.detect(),tu=function(){return Zi.browser.isIE()||Zi.browser.isEdge()},eu=function(t,e){var n=parseFloat(t);return isNaN(n)?e:n},nu=function(t,e,n){return eu(re(t,e),n)},ru=function(t){var e=nu(t,"padding-top",0),n=nu(t,"padding-bottom",0),r=nu(t,"border-top-width",0),o=nu(t,"border-bottom-width",0),i=t.dom().getBoundingClientRect().height,u=re(t,"box-sizing"),a=r+o;return"border-box"===u?i:i-e-n-a},ou=function(t){return nu(t,"width",$i(t))},iu=function(t){return tu()?ru(t):nu(t,"height",Xi(t))},uu={getWidth:ou,getHeight:iu},au=/(\d+(\.\d+)?)(\w|%)*/,cu=/(\d+(\.\d+)?)%/,lu=/(\d+(\.\d+)?)px|em/,fu=function(t,e){ee(t,"width",e+"px")},su=function(t,e){ee(t,"width",e+"%")},du=function(t,e){ee(t,"height",e+"px")},mu=function(t){return ie(t,"height").getOrThunk(function(){return uu.getHeight(t)+"px"})},gu=function(t,e,n,r){var o=yr.table(t).map(function(t){var r=n(t);return Math.floor(e/100*r)}).getOr(e);return r(t,o),o},hu=function(t,e,n,r){var o=parseInt(t,10);return jt(t,"%")&&"table"!==Tt(e)?gu(e,o,n,r):o},vu=function(t){var e=mu(t);return e?hu(e,t,Xi,du):Xi(t)},pu=function(t,e,n){var r=n(t),o=bu(t,e);return r/o},bu=function(t,e){return Wt(t,e)?parseInt(It(t,e),10):1},wu=function(t){var e=ie(t,"width");return e.fold(function(){return k.from(It(t,"width"))},function(t){return k.some(t)})},yu=function(t,e){return t/e.pixelWidth()*100},xu=function(t,e,n){var r=cu.exec(e);if(null!==r)return parseFloat(r[1]);var o=$i(t);return yu(o,n)},Cu=function(t,e){var n=wu(t);return n.fold(function(){var n=$i(t);return yu(n,e)},function(n){return xu(t,n,e)})},Ru=function(t,e){return t/100*e.pixelWidth()},Su=function(t,e,n){var r=lu.exec(e);if(null!==r)return parseInt(r[1],10);var o=cu.exec(e);if(null!==o){var i=parseFloat(o[1]);return Ru(i,n)}return $i(t)},Tu=function(t,e){var n=wu(t);return n.fold(function(){return $i(t)},function(n){return Su(t,n,e)})},Du=function(t){return pu(t,"rowspan",vu)},Au=function(t){var e=wu(t);return e.bind(function(t){var e=au.exec(t);return null!==e?k.some({width:y(parseFloat(e[1])),unit:y(e[3])}):k.none()})},Ou=function(t,e,n){ee(t,"width",e+n)},Eu={percentageBasedSizeRegex:y(cu),pixelBasedSizeRegex:y(lu),setPixelWidth:fu,setPercentageWidth:su,setHeight:du,getPixelWidth:Tu,getPercentageWidth:Cu,getGenericWidth:Au,setGenericWidth:Ou,getHeight:Du,getRawWidth:wu},ku=function(t,e){var n=Eu.getGenericWidth(t);n.each(function(n){var r=n.width()/2;Eu.setGenericWidth(t,r,n.unit()),Eu.setGenericWidth(e,r,n.unit())})},Nu={halve:ku},Bu=function(t,e){var n=function(n,r){return Bu(t+n,e+r)};return{left:y(t),top:y(e),translate:n}},Pu=Bu,Iu=function(t){var e=t.getBoundingClientRect();return Pu(e.left,e.top)},Wu=function(t,e){return void 0!==t?t:void 0!==e?e:0},Mu=function(t){var e=t.dom().ownerDocument,n=e.body,r=e.defaultView,o=e.documentElement,i=Wu(r.pageYOffset,o.scrollTop),u=Wu(r.pageXOffset,o.scrollLeft),a=Wu(o.clientTop,n.clientTop),c=Wu(o.clientLeft,n.clientLeft);return _u(t).translate(u-c,i-a)},_u=function(t){var e=t.dom(),n=e.ownerDocument,r=n.body;return r===e?Pu(r.offsetLeft,r.offsetTop):Jt(t)?Iu(e):Pu(0,0)},Lu=at("row","y"),Fu=at("col","x"),ju=function(t){var e=Mu(t);return e.left()+Qi(t)},Hu=function(t){return Mu(t).left()},zu=function(t,e){return Fu(t,Hu(e))},Uu=function(t,e){return Fu(t,ju(e))},qu=function(t){return Mu(t).top()},Gu=function(t,e){return Lu(t,qu(e))},Vu=function(t,e){return Lu(t,qu(e)+Ki(e))},Yu=function(t,e,n){if(0===n.length)return[];var r=q(n.slice(1),function(e,n){return e.map(function(e){return t(n,e)})}),o=n[n.length-1].map(function(t){return e(n.length-1,t)});return r.concat([o])},Xu=function(t){return-t},Ku={delta:x,positions:function(t){return Yu(Gu,Vu,t)},edge:qu},Ju={delta:x,edge:Hu,positions:function(t){return Yu(zu,Uu,t)}},$u={delta:Xu,edge:ju,positions:function(t){return Yu(Uu,zu,t)}},Qu={height:Ku,rtl:$u,ltr:Ju},Zu={ltr:Qu.ltr,rtl:Qu.rtl},ta=function(t){var e=Rr.fromTable(t),n=kr.generate(e);return n.grid()},ea={getGridSize:ta},na=function(){return na=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},na.apply(this,arguments)},ra=function(t){for(var e=[],n=function(t){e.push(t)},r=0;r<t.length;r++)t[r].each(n);return e},oa=function(t,e){for(var n=0;n<t.length;n++){var r=e(t[n],n);if(r.isSome())return r}return k.none()},ia=function(t,e,n,r){n===r?Mt(t,e):Bt(t,e,n)},ua=function(t,e){var n=[],r=[],o=function(e,o){var i=er(t,o).getOrThunk(function(){var e=Kt.fromTag(o,mn(t).dom());return Tn(t,e),e});kn(i);var u=q(e,function(t){t.isNew()&&n.push(t.element());var e=t.element();return kn(e),G(t.cells(),function(t){t.isNew()&&r.push(t.element()),ia(t.element(),"colspan",t.colspan(),1),ia(t.element(),"rowspan",t.rowspan(),1),Tn(e,t.element())}),e});En(i,u)},i=function(e){er(t,e).each(Nn)},u=function(t,e){t.length>0?o(t,e):i(e)},a=[],c=[],l=[];return G(e,function(t){switch(t.section()){case"thead":a.push(t);break;case"tbody":c.push(t);break;case"tfoot":l.push(t)}}),u(a,"thead"),u(c,"tbody"),u(l,"tfoot"),{newRows:y(n),newCells:y(r)}},aa=function(t){var e=q(t,function(t){var e=$r(t.element());return G(t.cells(),function(t){var n=Qr(t.element());ia(n,"colspan",t.colspan(),1),ia(n,"rowspan",t.rowspan(),1),Tn(e,n)}),e});return e},ca={render:ua,copy:aa},la=function(t,e){var n=It(t,e);return void 0===n||""===n?[]:n.split(" ")},fa=function(t,e,n){var r=la(t,e),o=r.concat([n]);return Bt(t,e,o.join(" ")),!0},sa=function(t,e,n){var r=Y(la(t,e),function(t){return t!==n});return r.length>0?Bt(t,e,r.join(" ")):Mt(t,e),!1},da=function(t){return void 0!==t.dom().classList},ma=function(t){return la(t,"class")},ga=function(t,e){return fa(t,"class",e)},ha=function(t,e){return sa(t,"class",e)},va=function(t,e){da(t)?t.dom().classList.add(e):ga(t,e)},pa=function(t){var e=da(t)?t.dom().classList:ma(t);0===e.length&&Mt(t,"class")},ba=function(t,e){if(da(t)){var n=t.dom().classList;n.remove(e)}else ha(t,e);pa(t)},wa=function(t,e){return da(t)&&t.dom().classList.contains(e)},ya=function(t,e){for(var n=[],r=0;r<t;r++)n.push(e(r));return n},xa=function(t,e){for(var n=[],r=t;r<e;r++)n.push(r);return n},Ca=function(t,e){if(e<0||e>=t.length-1)return k.none();var n=t[e].fold(function(){var n=et(t.slice(0,e));return oa(n,function(t,e){return t.map(function(t){return{value:t,delta:e+1}})})},function(t){return k.some({value:t,delta:0})}),r=t[e+1].fold(function(){var n=t.slice(e+1);return oa(n,function(t,e){return t.map(function(t){return{value:t,delta:e+1}})})},function(t){return k.some({value:t,delta:1})});return n.bind(function(t){return r.map(function(e){var n=e.delta+t.delta;return Math.abs(e.value-t.value)/n})})},Ra=function(t){var e=t.grid(),n=xa(0,e.columns()),r=xa(0,e.rows());return q(n,function(e){var n=function(){return Z(r,function(n){return kr.getAt(t,n,e).filter(function(t){return t.column()===e}).fold(y([]),function(t){return[t]})})},o=function(t){return 1===t.colspan()},i=function(){return kr.getAt(t,0,e)};return Sa(n,o,i)})},Sa=function(t,e,n){var r=t(),o=J(r,e),i=o.orThunk(function(){return k.from(r[0]).orThunk(n)});return i.map(function(t){return t.element()})},Ta=function(t){var e=t.grid(),n=xa(0,e.rows()),r=xa(0,e.columns());return q(n,function(e){var n=function(){return Z(r,function(n){return kr.getAt(t,e,n).filter(function(t){return t.row()===e}).fold(y([]),function(t){return[t]})})},o=function(t){return 1===t.rowspan()},i=function(){return kr.getAt(t,e,0)};return Sa(n,o,i)})},Da={columns:Ra,rows:Ta},Aa=function(t){var e=t.replace(/\./g,"-"),n=function(t){return e+"-"+t};return{resolve:n}},Oa=Aa("ephox-snooker"),Ea={resolve:Oa.resolve},ka=function(t,e,n,r,o){var i=Kt.fromTag("div");return ne(i,{position:"absolute",left:e-r/2+"px",top:n+"px",height:o+"px",width:r+"px"}),Pt(i,{"data-column":t,role:"presentation"}),i},Na=function(t,e,n,r,o){var i=Kt.fromTag("div");return ne(i,{position:"absolute",left:e+"px",top:n-o/2+"px",height:o+"px",width:r+"px"}),Pt(i,{"data-row":t,role:"presentation"}),i},Ba={col:ka,row:Na},Pa=Ea.resolve("resizer-bar"),Ia=Ea.resolve("resizer-rows"),Wa=Ea.resolve("resizer-cols"),Ma=7,_a=function(t){var e=Kn(t.parent(),"."+Pa);G(e,Nn)},La=function(t,e,n){var r=t.origin();G(e,function(e,o){e.each(function(e){var o=n(r,e);va(o,Pa),Tn(t.parent(),o)})})},Fa=function(t,e,n,r){La(t,e,function(t,e){var o=Ba.col(e.col(),e.x()-t.left(),n.top()-t.top(),Ma,r);return va(o,Wa),o})},ja=function(t,e,n,r){La(t,e,function(t,e){var o=Ba.row(e.row(),n.left()-t.left(),e.y()-t.top(),r,Ma);return va(o,Ia),o})},Ha=function(t,e,n,r,o,i){var u=Mu(e),a=n.length>0?o.positions(n,e):[];ja(t,a,u,Qi(e));var c=r.length>0?i.positions(r,e):[];Fa(t,c,u,Ki(e))},za=function(t,e,n,r){_a(t);var o=Rr.fromTable(e),i=kr.generate(o),u=Da.rows(i),a=Da.columns(i);Ha(t,e,u,a,n,r)},Ua=function(t,e){var n=Kn(t.parent(),"."+Pa);G(n,e)},qa=function(t){Ua(t,function(t){ee(t,"display","none")})},Ga=function(t){Ua(t,function(t){ee(t,"display","block")})},Va=function(t){return wa(t,Ia)},Ya=function(t){return wa(t,Wa)},Xa={refresh:za,hide:qa,show:Ga,destroy:_a,isRowBar:Va,isColBar:Ya},Ka=function(t,e,n){var r=t.cells(),o=r.slice(0,e),i=r.slice(e),u=o.concat([n]).concat(i);return $a(t,u)},Ja=function(t,e,n){var r=t.cells();r[e]=n},$a=function(t,e){return Hn(e,t.section())},Qa=function(t,e){var n=t.cells(),r=q(n,e);return Hn(r,t.section())},Za=function(t,e){return t.cells()[e]},tc=function(t,e){return Za(t,e).element()},ec=function(t){return t.cells().length},nc={addCell:Ka,setCells:$a,mutateCell:Ja,getCell:Za,getCellElement:tc,mapCells:Qa,cellLength:ec},rc=function(t,e){return q(t,function(t){return nc.getCell(t,e)})},oc=function(t,e){return t[e]},ic=function(t,e){if(0===t.length)return 0;var n=t[0],r=$(t,function(t){return!e(n.element(),t.element())});return r.fold(function(){return t.length},function(t){return t})},uc=function(t,e,n,r){var o=oc(t,e).cells().slice(n),i=ic(o,r),u=rc(t,n).slice(e),a=ic(u,r);return{colspan:y(i),rowspan:y(a)}},ac={subgrid:uc},cc=function(t,e){var n=q(t,function(t,e){return q(t.cells(),function(t,e){return!1})}),r=function(t,e,r,o){for(var i=t;i<t+r;i++)for(var u=e;u<e+o;u++)n[i][u]=!0};return q(t,function(o,i){var u=Z(o.cells(),function(o,u){if(n[i][u]===!1){var a=ac.subgrid(t,i,u,e);return r(i,u,a.rowspan(),a.colspan()),[Mn(o.element(),a.rowspan(),a.colspan(),o.isNew())]}return[]});return zn(u,o.section())})},lc=function(t,e,n){for(var r=[],o=0;o<t.grid().rows();o++){for(var i=[],u=0;u<t.grid().columns();u++){var a=kr.getAt(t,o,u).map(function(t){return Fn(t.element(),n)}).getOrThunk(function(){return Fn(e.gap(),!0)});i.push(a)}var c=Hn(i,t.all()[o].section());r.push(c)}return r},fc={toDetails:cc,toGrid:lc},sc=function(t,e){return fc.toGrid(t,e,!1)},dc=function(t,e){var n=function(t){var n=oa(t,function(t){return hn(t.element()).map(function(t){var e=hn(t).isNone();return Fn(t,e)})});return n.getOrThunk(function(){return Fn(e.row(),!0)})};return q(t,function(t){var e=n(t.details());return jn(e.element(),t.details(),t.section(),e.isNew())})},mc=function(t,e){var n=fc.toDetails(t,an);return dc(n,e)},gc=function(t,e){var n=Q(q(t.all(),function(t){return t.cells()}));return J(n,function(t){return an(e,t.element())})},hc=function(t,e,n,r,o){return function(i,u,a,c,l){var f=Rr.fromTable(u),s=kr.generate(f),d=e(s,a).map(function(e){var n=sc(s,c),r=t(n,e,an,o(c)),i=mc(r.grid(),c);return{grid:y(i),cursor:r.cursor}});return d.fold(function(){return k.none()},function(t){var e=ca.render(u,t.grid());return n(u,t.grid(),l),r(u),Xa.refresh(i,u,Qu.height,l),k.some({cursor:t.cursor,newRows:e.newRows,newCells:e.newCells})})}},vc=function(t,e){return yr.cell(e.element()).bind(function(e){return gc(t,e)})},pc=function(t,e){return yr.cell(e.element()).bind(function(n){return gc(t,n).map(function(t){var n=na(na({},t),{generators:e.generators,clipboard:e.clipboard});return n})})},bc=function(t,e){var n=q(e.selection(),function(e){return yr.cell(e).bind(function(e){return gc(t,e)})}),r=ra(n);return r.length>0?k.some({cells:r,generators:e.generators,clipboard:e.clipboard}):k.none()},wc=function(t,e){return e.mergable()},yc=function(t,e){return e.unmergable()},xc=function(t,e){var n=q(e.selection(),function(e){return yr.cell(e).bind(function(e){return gc(t,e)})}),r=ra(n);return r.length>0?k.some(r):k.none()},Cc=function(t){var e=function(e){return t===e},n=function(e){return Cc(t)},r=function(e){return Cc(t)},o=function(e){return Cc(e(t))},i=function(e){return Cc(t)},u=function(e){e(t)},a=function(e){return e(t)},c=function(e,n){return n(t)},l=function(e){return e(t)},f=function(e){return e(t)},s=function(){return k.some(t)};return{is:e,isValue:T,isError:S,getOr:y(t),getOrThunk:y(t),getOrDie:y(t),or:n,orThunk:r,fold:c,map:o,mapError:i,each:u,bind:a,exists:l,forall:f,toOption:s}},Rc=function(t){var e=function(t){return t()},n=function(){return R(String(t))()},r=function(t){return t},o=function(t){return t()},i=function(e){return Rc(t)},u=function(e){return Rc(e(t))},a=function(e){return Rc(t)},c=function(e,n){return e(t)};return{is:S,isValue:S,isError:T,getOr:x,getOrThunk:e,getOrDie:n,or:r,orThunk:o,fold:c,map:i,mapError:u,each:b,bind:a,exists:S,forall:T,toOption:k.none}},Sc=function(t,e){return t.fold(function(){return Rc(e)},Cc)},Tc={value:Cc,error:Rc,fromOption:Sc},Dc=function(t,e,n){if(t.row()>=e.length||t.column()>nc.cellLength(e[0]))return Tc.error("invalid start address out of table bounds, row: "+t.row()+", column: "+t.column());var r=e.slice(t.row()),o=r[0].cells().slice(t.column()),i=nc.cellLength(n[0]),u=n.length;return Tc.value({rowDelta:y(r.length-u),colDelta:y(o.length-i)})},Ac=function(t,e){var n=nc.cellLength(t[0]),r=nc.cellLength(e[0]);return{rowDelta:y(0),colDelta:y(n-r)}},Oc=function(t,e){return q(t,function(){return Fn(e.cell(),!0)})},Ec=function(t,e,n){return t.concat(ya(e,function(e){return nc.setCells(t[t.length-1],Oc(t[t.length-1].cells(),n))}))},kc=function(t,e,n){return q(t,function(t){return nc.setCells(t,t.cells().concat(Oc(xa(0,e),n)))})},Nc=function(t,e,n){var r=e.colDelta()<0?kc:x,o=e.rowDelta()<0?Ec:x,i=r(t,Math.abs(e.colDelta()),n),u=o(i,Math.abs(e.rowDelta()),n);return u},Bc={measure:Dc,measureWidth:Ac,tailor:Nc},Pc=function(t,e,n,r){if(0===t.length)return t;for(var o=e.startRow();o<=e.finishRow();o++)for(var i=e.startCol();i<=e.finishCol();i++)nc.mutateCell(t[o],i,Fn(r(),!1));return t},Ic=function(t,e,n,r){for(var o=!0,i=0;i<t.length;i++)for(var u=0;u<nc.cellLength(t[0]);u++){var a=nc.getCellElement(t[i],u),c=n(a,e);c===!0&&o===!1?nc.mutateCell(t[i],u,Fn(r(),!0)):c===!0&&(o=!1)}return t},Wc=function(t,e){return K(t,function(t,n){return U(t,function(t){return e(t.element(),n.element())})?t:t.concat([n])},[])},Mc=function(t,e,n,r){if(e>0&&e<t.length){var o=t[e-1].cells(),i=Wc(o,n);G(i,function(o){for(var i=k.none(),u=function(e){for(var u=function(u){var a=t[e].cells()[u],c=n(a.element(),o.element());c&&(i.isNone()&&(i=k.some(r())),i.each(function(n){nc.mutateCell(t[e],u,Fn(n,!0))}))},a=0;a<nc.cellLength(t[0]);a++)u(a)},a=e;a<t.length;a++)u(a)})}return t},_c={merge:Pc,unmerge:Ic,splitRows:Mc},Lc=function(t,n,r,o){var i=nc.getCell(t[n],r),u=e(o,i.element()),a=t[n];return t.length>1&&nc.cellLength(a)>1&&(r>0&&u(nc.getCellElement(a,r-1))||r<a.cells().length-1&&u(nc.getCellElement(a,r+1))||n>0&&u(nc.getCellElement(t[n-1],r))||n<t.length-1&&u(nc.getCellElement(t[n+1],r)))},Fc=function(t,e,n,r,o){for(var i=t.row(),u=t.column(),a=n.length,c=nc.cellLength(n[0]),l=i+a,f=u+c,s=i;s<l;s++)for(var d=u;d<f;d++){Lc(e,s,d,o)&&_c.unmerge(e,nc.getCellElement(e[s],d),o,r.cell);var m=nc.getCellElement(n[s-i],d-u),g=r.replace(m);nc.mutateCell(e[s],d,Fn(g,!0))}return e},jc=function(t,e,n,r,o){var i=Bc.measure(t,e,n);return i.map(function(i){var u=Bc.tailor(e,i,r);return Fc(t,u,n,r,o)})},Hc=function(t,e,n,r,o){_c.splitRows(e,t,o,r.cell);var i=Bc.measureWidth(n,e),u=Bc.tailor(n,i,r),a=Bc.measureWidth(e,u),c=Bc.tailor(e,a,r);return c.slice(0,t).concat(u).concat(c.slice(t,c.length))},zc={merge:jc,insert:Hc},Uc=function(t,e,n,r,o){var i=t.slice(0,e),u=t.slice(e),a=nc.mapCells(t[n],function(n,i){var u=e>0&&e<t.length&&r(nc.getCellElement(t[e-1],i),nc.getCellElement(t[e],i)),a=u?nc.getCell(t[e],i):Fn(o(n.element(),r),!0);return a});return i.concat([a]).concat(u)},qc=function(t,e,n,r,o){return q(t,function(t){var i=e>0&&e<nc.cellLength(t)&&r(nc.getCellElement(t,e-1),nc.getCellElement(t,e)),u=i?nc.getCell(t,e):Fn(o(nc.getCellElement(t,n),r),!0);return nc.addCell(t,e,u)})},Gc=function(t,e,n,r,o){var i=n+1;return q(t,function(t,u){var a=u===e,c=a?Fn(o(nc.getCellElement(t,n),r),!0):nc.getCell(t,n);return nc.addCell(t,i,c)})},Vc=function(t,e,n,r,o){var i=e+1,u=t.slice(0,i),a=t.slice(i),c=nc.mapCells(t[e],function(t,e){var i=e===n;return i?Fn(o(t.element(),r),!0):t});return u.concat([c]).concat(a)},Yc=function(t,e,n){var r=q(t,function(t){var r=t.cells().slice(0,e).concat(t.cells().slice(n+1));return Hn(r,t.section())});return Y(r,function(t){return t.cells().length>0})},Xc=function(t,e,n){return t.slice(0,e).concat(t.slice(n+1))},Kc={insertRowAt:Uc,insertColumnAt:qc,splitCellIntoColumns:Gc,splitCellIntoRows:Vc,deleteRowsAt:Xc,deleteColumnsAt:Yc},Jc=function(t,e,n,r){var o=function(t){return U(e,function(e){return n(t.element(),e.element())})};return q(t,function(t){return nc.mapCells(t,function(t){return o(t)?Fn(r(t.element(),n),!0):t})})},$c=function(t,e,n,r){return void 0!==nc.getCellElement(t[e],n)&&e>0&&r(nc.getCellElement(t[e-1],n),nc.getCellElement(t[e],n))},Qc=function(t,e,n){return e>0&&n(nc.getCellElement(t,e-1),nc.getCellElement(t,e))},Zc=function(t,e,n,r){var o=Z(t,function(r,o){var i=$c(t,o,e,n)||Qc(r,e,n);return i?[]:[nc.getCell(r,e)]});return Jc(t,o,n,r)},tl=function(t,e,n,r){var o=t[e],i=Z(o.cells(),function(r,i){var u=$c(t,e,i,n)||Qc(o,i,n);return u?[]:[r]});return Jc(t,i,n,r)},el={replaceColumn:Zc,replaceRow:tl},nl=Oi.generate([{none:[]},{only:["index"]},{left:["index","next"]},{middle:["prev","index","next"]},{right:["prev","index"]}]),rl=na({},nl),ol=function(t,e){return 0===t.length?rl.none():1===t.length?rl.only(0):0===e?rl.left(0,1):e===t.length-1?rl.right(e-1,e):e>0&&e<t.length-1?rl.middle(e-1,e,e+1):rl.none()},il=function(t,e,n,r){var o=t.slice(0),i=ol(t,e),u=function(t){return q(t,y(0))},a=y(u(o)),c=function(t){return r.singleColumnWidth(o[t],n)},l=function(t,e){if(n>=0){var i=Math.max(r.minCellWidth(),o[e]-n);return u(o.slice(0,t)).concat([n,i-o[e]]).concat(u(o.slice(e+1)))}var a=Math.max(r.minCellWidth(),o[t]+n),c=o[t]-a;return u(o.slice(0,t)).concat([a-o[t],c]).concat(u(o.slice(e+1)))},f=l,s=function(t,e,n){return l(e,n)},d=function(t,e){if(n>=0)return u(o.slice(0,e)).concat([n]);var i=Math.max(r.minCellWidth(),o[e]+n);return u(o.slice(0,e)).concat([i-o[e]])};return i.fold(a,c,f,s,d)},ul={determine:il},al=function(t,e){return Wt(t,e)&&parseInt(It(t,e),10)>1},cl=function(t){return al(t,"colspan")},ll=function(t){return al(t,"rowspan")},fl=function(t,e){return parseInt(re(t,e),10)},sl={hasColspan:cl,hasRowspan:ll,minWidth:y(10),minHeight:y(10),getInt:fl},dl=function(t,e,n){return ie(t,e).fold(function(){return n(t)+"px"},function(t){return t})},ml=function(t,e){return dl(t,"width",function(t){return Eu.getPixelWidth(t,e)})},gl=function(t){return dl(t,"height",Eu.getHeight)},hl=function(t,e,n,r,o){var i=Da.columns(t),u=q(i,function(t){return t.map(e.edge)});return q(i,function(t,e){var i=t.filter(C(sl.hasColspan));return i.fold(function(){var t=Ca(u,e);return r(t)},function(t){return n(t,o)})})},vl=function(t){return t.map(function(t){return t+"px"}).getOr("")},pl=function(t,e,n){return hl(t,e,ml,vl,n)},bl=function(t,e,n){return hl(t,e,Eu.getPercentageWidth,function(t){return t.fold(function(){return n.minCellWidth()},function(t){return t/n.pixelWidth()*100})},n)},wl=function(t,e,n){return hl(t,e,Eu.getPixelWidth,function(t){return t.getOrThunk(n.minCellWidth)},n)},yl=function(t,e,n,r){var o=Da.rows(t),i=q(o,function(t){return t.map(e.edge)});return q(o,function(t,e){var o=t.filter(C(sl.hasRowspan));return o.fold(function(){var t=Ca(i,e);return r(t)},function(t){return n(t)})})},xl=function(t,e){return yl(t,e,Eu.getHeight,function(t){return t.getOrThunk(sl.minHeight)})},Cl=function(t,e){return yl(t,e,gl,vl)},Rl={getRawWidths:pl,getPixelWidths:wl,getPercentageWidths:bl,getPixelHeights:xl,getRawHeights:Cl},Sl=function(t,e,n){for(var r=0,o=t;o<e;o++)r+=void 0!==n[o]?n[o]:0;return r},Tl=function(t,e){var n=kr.justCells(t);return q(n,function(t){var n=Sl(t.column(),t.column()+t.colspan(),e);return{element:t.element,width:y(n),colspan:t.colspan}})},Dl=function(t,e){var n=kr.justCells(t);return q(n,function(t){var n=Sl(t.row(),t.row()+t.rowspan(),e);return{element:t.element,height:y(n),rowspan:t.rowspan}})},Al=function(t,e){return q(t.all(),function(t,n){return{element:t.element,height:y(e[n])}})},Ol={recalculateWidth:Tl,recalculateHeight:Dl,matchRowHeight:Al},El=function(t,e){var n=parseFloat(t),r=$i(e),o=function(t){return t/r*100},i=function(t,e){return[100-t]},u=function(){return sl.minWidth()/r*100},a=function(t,e,r){var o=r/100,i=o*n;Eu.setPercentageWidth(t,n+i)};return{width:y(n),pixelWidth:y(r),getWidths:Rl.getPercentageWidths,getCellDelta:o,singleColumnWidth:i,minCellWidth:u,setElementWidth:Eu.setPercentageWidth,setTableWidth:a}},kl=function(t){var e=x,n=function(t,e){var n=Math.max(sl.minWidth(),t+e);return[n-t]},r=function(t,e,n){var r=X(e,function(t,e){return t+e},0);Eu.setPixelWidth(t,r)};return{width:y(t),pixelWidth:y(t),getWidths:Rl.getPixelWidths,getCellDelta:e,singleColumnWidth:n,minCellWidth:sl.minWidth,setElementWidth:Eu.setPixelWidth,setTableWidth:r}},Nl=function(t,e){var n=Eu.percentageBasedSizeRegex().exec(e);if(null!==n)return El(n[1],t);var r=Eu.pixelBasedSizeRegex().exec(e);if(null!==r){var o=parseInt(r[1],10);return kl(o)}var i=$i(t);return kl(i)},Bl=function(t){var e=Eu.getRawWidth(t);return e.fold(function(){var e=$i(t);return kl(e)},function(e){return Nl(t,e)})},Pl={getTableSize:Bl},Il=function(t){return kr.generate(t)},Wl=function(t){return X(t,function(t,e){return t+e},0)},Ml=function(t){var e=Rr.fromTable(t);return Il(e)},_l=function(t,e,n,r){var o=Pl.getTableSize(t),i=o.getCellDelta(e),u=Ml(t),a=o.getWidths(u,r,o),c=ul.determine(a,n,i,o),l=q(c,function(t,e){return t+a[e]}),f=Ol.recalculateWidth(u,l);G(f,function(t){o.setElementWidth(t.element(),t.width())}),n===u.grid().columns()-1&&o.setTableWidth(t,l,i)},Ll=function(t,e,n,r){var o=Ml(t),i=Rl.getPixelHeights(o,r),u=q(i,function(t,r){return n===r?Math.max(e+t,sl.minHeight()):t}),a=Ol.recalculateHeight(o,u),c=Ol.matchRowHeight(o,u);G(c,function(t){Eu.setHeight(t.element(),t.height())}),G(a,function(t){Eu.setHeight(t.element(),t.height())});var l=Wl(u);Eu.setHeight(t,l)},Fl=function(t,e,n){var r=Pl.getTableSize(t),o=Il(e),i=r.getWidths(o,n,r),u=Ol.recalculateWidth(o,i);G(u,function(t){r.setElementWidth(t.element(),t.width())}),u.length>0&&r.setTableWidth(t,i,r.getCellDelta(0))},jl={adjustWidth:_l,adjustHeight:Ll,adjustWidthTo:Fl},Hl=function(t){var e=t,n=function(){return e},r=function(t){e=t},o=function(){return Hl(n())};return{get:n,set:r,clone:o}},zl=function(t,e){return Ul(t,e,{validate:M,label:"function"})},Ul=function(t,e,n){if(0===e.length)throw new Error("You must specify at least one required field.");return st("required",e),mt(e),function(r){var o=rt(r),i=tt(e,function(t){return z(o,t)});i||lt(e,o),t(e,o);var u=Y(e,function(t){return!n.validate(r[t],t)});return u.length>0&&dt(u,n.label),r}},ql=function(t,e){var n=Y(e,function(e){return!z(t,e)});n.length>0&&ft(n)},Gl=function(t){return zl(ql,t)},Vl=Gl(["cell","row","replace","gap"]),Yl=function(t){var e=Wt(t,"colspan")?parseInt(It(t,"colspan"),10):1,n=Wt(t,"rowspan")?parseInt(It(t,"rowspan"),10):1;return{element:y(t),colspan:y(e),rowspan:y(n)}},Xl=function(t,e){void 0===e&&(e=Yl),Vl(t);var n=Hl(k.none()),r=function(e){return t.cell(e)},o=function(t){var n=e(t);return r(n)},i=function(t){var e=o(t);return n.get().isNone()&&n.set(k.some(e)),u=k.some({item:t,replacement:e}),e},u=k.none(),a=function(t,e){return u.fold(function(){return i(t)},function(n){return e(t,n.item)?n.replacement:i(t)})};return{getOrInit:a,cursor:n.get}},Kl=function(t,e){return function(n){
var r=Hl(k.none());Vl(n);var o=[],i=function(t,e){return J(o,function(n){return e(n.item,t)})},u=function(i){var u={scope:t},a=n.replace(i,e,u);return o.push({item:i,sub:a}),r.get().isNone()&&r.set(k.some(a)),a},a=function(t,e){return i(t,e).fold(function(){return u(t)},function(n){return e(t,n.item)?n.sub:u(t)})};return{replaceOrInit:a,cursor:r.get}}},Jl=function(t){Vl(t);var e=Hl(k.none()),n=function(n){return e.get().isNone()&&e.set(k.some(n)),function(){var e=t.cell({element:y(n),colspan:y(1),rowspan:y(1)});return ue(e,"width"),ue(n,"width"),e}};return{combine:n,cursor:e.get}},$l={modification:Xl,transform:Kl,merging:Jl},Ql=["body","p","div","article","aside","figcaption","figure","footer","header","nav","section","ol","ul","table","thead","tfoot","tbody","caption","tr","td","th","h1","h2","h3","h4","h5","h6","blockquote","pre","address"],Zl=function(t,e){var n=t.property().name(e);return z(["ol","ul"],n)},tf=function(t,e){var n=t.property().name(e);return z(Ql,n)},ef=function(t,e){var n=t.property().name(e);return z(["address","pre","p","h1","h2","h3","h4","h5","h6"],n)},nf=function(t,e){var n=t.property().name(e);return z(["h1","h2","h3","h4","h5","h6"],n)},rf=function(t,e){return z(["div","li","td","th","blockquote","body","caption"],t.property().name(e))},of=function(t,e){return z(["br","img","hr","input"],t.property().name(e))},uf=function(t,e){return"iframe"===t.property().name(e)},af=function(t,e){return!(tf(t,e)||of(t,e))&&"li"!==t.property().name(e)},cf={isBlock:tf,isList:Zl,isFormatting:ef,isHeading:nf,isContainer:rf,isEmptyTag:of,isFrame:uf,isInline:af},lf=o(),ff=function(t){return cf.isBlock(lf,t)},sf=function(t){return cf.isList(lf,t)},df=function(t){return cf.isFormatting(lf,t)},mf=function(t){return cf.isHeading(lf,t)},gf=function(t){return cf.isContainer(lf,t)},hf=function(t){return cf.isEmptyTag(lf,t)},vf=function(t){return cf.isFrame(lf,t)},pf=function(t){return cf.isInline(lf,t)},bf={isBlock:ff,isList:sf,isFormatting:df,isHeading:mf,isContainer:gf,isEmptyTag:hf,isFrame:vf,isInline:pf},wf=function(t){var e=function(t){return"br"===Tt(t)},n=function(t){return tt(t,function(t){return e(t)||kt(t)&&0===Fr(t).trim().length})},r=function(t){return"li"===Tt(t)||Jn(t,bf.isList).isSome()},o=function(t){return bn(t).map(function(t){return!!bf.isBlock(t)||!!bf.isEmptyTag(t)&&"img"!==Tt(t)}).getOr(!1)},i=function(t){return Xr(t).bind(function(n){var i=o(n);return hn(n).map(function(o){return i===!0||r(o)||e(n)||bf.isBlock(o)&&!an(t,o)?[]:[Kt.fromTag("br")]})}).getOr([])},u=function(){var e=Z(t,function(t){var e=wn(t);return n(e)?[]:e.concat(i(t))});return 0===e.length?[Kt.fromTag("br")]:e},a=u();kn(t[0]),En(t[0],a)},yf={merge:wf},xf=function(t){var e=yr.cells(t);0===e.length&&Nn(t)},Cf=at("grid","cursor"),Rf=function(t,e,n){return Sf(t,e,n).orThunk(function(){return Sf(t,0,0)})},Sf=function(t,e,n){return k.from(t[e]).bind(function(t){return k.from(t.cells()[n]).bind(function(t){return k.from(t.element())})})},Tf=function(t,e,n){return Cf(t,Sf(t,e,n))},Df=function(t){return K(t,function(t,e){return U(t,function(t){return t.row()===e.row()})?t:t.concat([e])},[]).sort(function(t,e){return t.row()-e.row()})},Af=function(t){return K(t,function(t,e){return U(t,function(t){return t.column()===e.column()})?t:t.concat([e])},[]).sort(function(t,e){return t.column()-e.column()})},Of=function(t,e,n,r){var o=e.row(),i=e.row(),u=Kc.insertRowAt(t,i,o,n,r.getOrInit);return Tf(u,i,e.column())},Ef=function(t,e,n,r){var o=e[0].row(),i=e[0].row(),u=Df(e),a=K(u,function(t,e){return Kc.insertRowAt(t,i,o,n,r.getOrInit)},t);return Tf(a,i,e[0].column())},kf=function(t,e,n,r){var o=e.row(),i=e.row()+e.rowspan(),u=Kc.insertRowAt(t,i,o,n,r.getOrInit);return Tf(u,i,e.column())},Nf=function(t,e,n,r){var o=Df(e),i=o[o.length-1].row(),u=o[o.length-1].row()+o[o.length-1].rowspan(),a=K(o,function(t,e){return Kc.insertRowAt(t,u,i,n,r.getOrInit)},t);return Tf(a,u,e[0].column())},Bf=function(t,e,n,r){var o=e.column(),i=e.column(),u=Kc.insertColumnAt(t,i,o,n,r.getOrInit);return Tf(u,e.row(),i)},Pf=function(t,e,n,r){var o=Af(e),i=o[0].column(),u=o[0].column(),a=K(o,function(t,e){return Kc.insertColumnAt(t,u,i,n,r.getOrInit)},t);return Tf(a,e[0].row(),u)},If=function(t,e,n,r){var o=e.column(),i=e.column()+e.colspan(),u=Kc.insertColumnAt(t,i,o,n,r.getOrInit);return Tf(u,e.row(),i)},Wf=function(t,e,n,r){var o=e[e.length-1].column(),i=e[e.length-1].column()+e[e.length-1].colspan(),u=Af(e),a=K(u,function(t,e){return Kc.insertColumnAt(t,i,o,n,r.getOrInit)},t);return Tf(a,e[0].row(),i)},Mf=function(t,e,n,r){var o=el.replaceRow(t,e.row(),n,r.replaceOrInit);return Tf(o,e.row(),e.column())},_f=function(t,e,n,r){var o=el.replaceColumn(t,e.column(),n,r.replaceOrInit);return Tf(o,e.row(),e.column())},Lf=function(t,e,n,r){var o=el.replaceRow(t,e.row(),n,r.replaceOrInit);return Tf(o,e.row(),e.column())},Ff=function(t,e,n,r){var o=el.replaceColumn(t,e.column(),n,r.replaceOrInit);return Tf(o,e.row(),e.column())},jf=function(t,e,n,r){var o=Kc.splitCellIntoColumns(t,e.row(),e.column(),n,r.getOrInit);return Tf(o,e.row(),e.column())},Hf=function(t,e,n,r){var o=Kc.splitCellIntoRows(t,e.row(),e.column(),n,r.getOrInit);return Tf(o,e.row(),e.column())},zf=function(t,e,n,r){var o=Af(e),i=Kc.deleteColumnsAt(t,o[0].column(),o[o.length-1].column()),u=Rf(i,e[0].row(),e[0].column());return Cf(i,u)},Uf=function(t,e,n,r){var o=Df(e),i=Kc.deleteRowsAt(t,o[0].row(),o[o.length-1].row()),u=Rf(i,e[0].row(),e[0].column());return Cf(i,u)},qf=function(t,e,n,r){var o=e.cells();yf.merge(o);var i=_c.merge(t,e.bounds(),n,y(o[0]));return Cf(i,k.from(o[0]))},Gf=function(t,e,n,r){var o=X(e,function(t,e){return _c.unmerge(t,e,n,r.combine(e))},t);return Cf(o,k.from(e[0]))},Vf=function(t,e,n,r){var o=function(t,e){var n=Rr.fromTable(t),r=kr.generate(n);return fc.toGrid(r,e,!0)},i=o(e.clipboard(),e.generators()),u=In(e.row(),e.column()),a=zc.merge(u,t,i,e.generators(),n);return a.fold(function(){return Cf(t,k.some(e.element()))},function(t){var n=Rf(t,e.row(),e.column());return Cf(t,n)})},Yf=function(t,e,n){var r=Rr.fromPastedRows(t,n),o=kr.generate(r);return fc.toGrid(o,e,!0)},Xf=function(t,e,n,r){var o=t[e.cells[0].row()],i=e.cells[0].row(),u=Yf(e.clipboard(),e.generators(),o),a=zc.insert(i,t,u,e.generators(),n),c=Rf(a,e.cells[0].row(),e.cells[0].column());return Cf(a,c)},Kf=function(t,e,n,r){var o=t[e.cells[0].row()],i=e.cells[e.cells.length-1].row()+e.cells[e.cells.length-1].rowspan(),u=Yf(e.clipboard(),e.generators(),o),a=zc.insert(i,t,u,e.generators(),n),c=Rf(a,e.cells[0].row(),e.cells[0].column());return Cf(a,c)},Jf=jl.adjustWidthTo,$f={insertRowBefore:hc(Of,vc,b,b,$l.modification),insertRowsBefore:hc(Ef,xc,b,b,$l.modification),insertRowAfter:hc(kf,vc,b,b,$l.modification),insertRowsAfter:hc(Nf,xc,b,b,$l.modification),insertColumnBefore:hc(Bf,vc,Jf,b,$l.modification),insertColumnsBefore:hc(Pf,xc,Jf,b,$l.modification),insertColumnAfter:hc(If,vc,Jf,b,$l.modification),insertColumnsAfter:hc(Wf,xc,Jf,b,$l.modification),splitCellIntoColumns:hc(jf,vc,Jf,b,$l.modification),splitCellIntoRows:hc(Hf,vc,b,b,$l.modification),eraseColumns:hc(zf,xc,Jf,xf,$l.modification),eraseRows:hc(Uf,xc,b,xf,$l.modification),makeColumnHeader:hc(_f,vc,b,b,$l.transform("row","th")),unmakeColumnHeader:hc(Ff,vc,b,b,$l.transform(null,"td")),makeRowHeader:hc(Mf,vc,b,b,$l.transform("col","th")),unmakeRowHeader:hc(Lf,vc,b,b,$l.transform(null,"td")),mergeCells:hc(qf,wc,b,b,$l.merging),unmergeCells:hc(Gf,yc,Jf,b,$l.merging),pasteCells:hc(Vf,pc,Jf,b,$l.modification),pasteRowsBefore:hc(Xf,bc,b,b,$l.modification),pasteRowsAfter:hc(Kf,bc,b,b,$l.modification)},Qf=function(t){return Kt.fromDom(t.getBody())},Zf=function(t){return t.getBoundingClientRect().width},ts=function(t){return t.getBoundingClientRect().height},es=function(t){return function(e){return an(e,Qf(t))}},ns=function(t){return t?t.replace(/px$/,""):""},rs=function(t){return/^[0-9]+$/.test(t)&&(t+="px"),t},os=function(t){var e=Kn(t,"td[data-mce-style],th[data-mce-style]");Mt(t,"data-mce-style"),G(e,function(t){Mt(t,"data-mce-style")})},is=function(t){return"rtl"===re(t,"direction")?"rtl":"ltr"},us={isRtl:y(!1)},as={isRtl:y(!0)},cs=function(t){var e=is(t);return"rtl"===e?as:us},ls={directionAt:cs},fs=["tableprops","tabledelete","|","tableinsertrowbefore","tableinsertrowafter","tabledeleterow","|","tableinsertcolbefore","tableinsertcolafter","tabledeletecol"],ss={"border-collapse":"collapse",width:"100%"},ds={border:"1"},ms=function(t){return t.getParam("table_default_attributes",ds,"object")},gs=function(t){return t.getParam("table_default_styles",ss,"object")},hs=function(t){return t.getParam("table_resize_bars",!0,"boolean")},vs=function(t){return t.getParam("table_tab_navigation",!0,"boolean")},ps=function(t){return t.getParam("table_cell_advtab",!0,"boolean")},bs=function(t){return t.getParam("table_row_advtab",!0,"boolean")},ws=function(t){return t.getParam("table_advtab",!0,"boolean")},ys=function(t){return t.getParam("table_appearance_options",!0,"boolean")},xs=function(t){return t.getParam("table_grid",!0,"boolean")},Cs=function(t){return t.getParam("table_style_by_css",!1,"boolean")},Rs=function(t){return t.getParam("table_cell_class_list",[],"array")},Ss=function(t){return t.getParam("table_row_class_list",[],"array")},Ts=function(t){return t.getParam("table_class_list",[],"array")},Ds=function(t){return t.getParam("color_picker_callback")},As=function(t){return t.getParam("table_responsive_width")===!1},Os=function(t){var e=t.getParam("table_clone_elements");return P(e)?k.some(e.split(/[ ,]/)):Array.isArray(e)?k.some(e):k.none()},Es=function(t){var e=t.getParam("object_resizing",!0);return"table"===e||e},ks=function(t){var e=t.getParam("table_toolbar",fs);return""===e||e===!1?[]:P(e)?e.split(/[ ,]/):I(e)?e:[]},Ns=function(t,e){return t.fire("newrow",{node:e})},Bs=function(t,e){return t.fire("newcell",{node:e})},Ps=function(t,e,n,r){t.fire("ObjectResizeStart",{target:e,width:n,height:r})},Is=function(t,e,n,r){t.fire("ObjectResized",{target:e,width:n,height:r})},Ws=function(t,e){var n=function(t){return"table"===Tt(Qf(t))},r=function(e){var r=ea.getGridSize(e);return n(t)===!1||r.rows()>1},o=function(e){var r=ea.getGridSize(e);return n(t)===!1||r.columns()>1},i=Os(t),a=function(e,n,r,o){return function(a,c){os(a);var l=o(),f=Kt.fromDom(t.getDoc()),s=u(ls.directionAt),d=co.cellOperations(r,f,i);return n(a)?e(l,a,c,d,s).bind(function(e){return G(e.newRows(),function(e){Ns(t,e.dom())}),G(e.newCells(),function(e){Bs(t,e.dom())}),e.cursor().map(function(e){var n=t.dom.createRng();return n.setStart(e.dom(),0),n.setEnd(e.dom(),0),n})}):k.none()}},c=a($f.eraseRows,r,b,e),l=a($f.eraseColumns,o,b,e),f=a($f.insertRowsBefore,T,b,e),s=a($f.insertRowsAfter,T,b,e),d=a($f.insertColumnsBefore,T,Nu.halve,e),m=a($f.insertColumnsAfter,T,Nu.halve,e),g=a($f.mergeCells,T,b,e),h=a($f.unmergeCells,T,b,e),v=a($f.pasteRowsBefore,T,b,e),p=a($f.pasteRowsAfter,T,b,e),w=a($f.pasteCells,T,b,e);return{deleteRow:c,deleteColumn:l,insertRowsBefore:f,insertRowsAfter:s,insertColumnsBefore:d,insertColumnsAfter:m,mergeCells:g,unmergeCells:h,pasteRowsBefore:v,pasteRowsAfter:p,pasteCells:w}},Ms=function(t,e,n){var r=Rr.fromTable(t),o=kr.generate(r),i=xc(o,e);return i.map(function(t){var e=fc.toGrid(o,n,!1),r=e.slice(t[0].row(),t[t.length-1].row()+t[t.length-1].rowspan()),i=mc(r,n);return ca.copy(i)})},_s={copyRows:Ms},Ls=tinymce.util.Tools.resolve("tinymce.util.Tools"),Fs=function(t,e,n){var r,o=t.select("td,th",e),i=function(e,r){for(var o=0;o<r.length;o++){var i=t.getStyle(r[o],n);if("undefined"==typeof e&&(e=i),e!==i)return""}return e};return r=i(r,o)},js=function(t,e,n){n&&t.formatter.apply("align"+n,{},e)},Hs=function(t,e,n){n&&t.formatter.apply("valign"+n,{},e)},zs=function(t,e){Ls.each("left center right".split(" "),function(n){t.formatter.remove("align"+n,{},e)})},Us=function(t,e){Ls.each("top middle bottom".split(" "),function(n){t.formatter.remove("valign"+n,{},e)})},qs={applyAlign:js,applyVAlign:Hs,unApplyAlign:zs,unApplyVAlign:Us,getTDTHOverallStyle:Fs},Gs=function(t,e,n){var r=function(t,n){return n=n||[],Ls.each(t,function(t){var o={text:t.text||t.title};t.menu?o.menu=r(t.menu):(o.value=t.value,e&&e(o)),n.push(o)}),n};return r(t,n||[])},Vs=function(t,e){a(e)?Xs(t,e):Ys(t,e)},Ys=function(t,e){var n=t.dom,r=e.control.rootControl,o=r.toJSON(),i=n.parseStyle(o.style);i["border-style"]=o.borderStyle,i["border-color"]=o.borderColor,i["background-color"]=o.backgroundColor,i.width=o.width?rs(o.width):"",i.height=o.height?rs(o.height):"",r.find("#style").value(n.serializeStyle(n.parseStyle(n.serializeStyle(i))))},Xs=function(t,e){var n=t.dom,r=e.control.rootControl,o=r.toJSON(),i=n.parseStyle(o.style);r.find("#borderStyle").value(i["border-style"]||""),r.find("#borderColor").value(i["border-color"]||""),r.find("#backgroundColor").value(i["background-color"]||""),r.find("#width").value(i.width||""),r.find("#height").value(i.height||"")},Ks=function(t,e){var n=t.parseStyle(t.getAttrib(e,"style")),r={};return n["border-style"]&&(r.borderStyle=n["border-style"]),n["border-color"]&&(r.borderColor=n["border-color"]),n["background-color"]&&(r.backgroundColor=n["background-color"]),r.style=t.serializeStyle(n),r},Js=function(t){var n=function(){var e=Ds(t);if(e)return function(n){return e.call(t,function(t){n.control.value(t).fire("change")},n.control.value())}};return{title:"Advanced",type:"form",defaults:{onchange:e(Ys,t)},items:[{label:"Style",name:"style",type:"textbox",onchange:e(Xs,t)},{type:"form",padding:0,formItemDefaults:{layout:"grid",alignH:["start","right"]},defaults:{size:7},items:[{label:"Border style",type:"listbox",name:"borderStyle",width:90,onselect:e(Ys,t),values:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]},{label:"Border color",type:"colorbox",name:"borderColor",onaction:n()},{label:"Background color",type:"colorbox",name:"backgroundColor",onaction:n()}]}]}},$s={createStyleForm:Js,buildListItems:Gs,updateStyleField:Ys,extractAdvancedStyles:Ks,updateAdvancedFields:Xs,syncAdvancedStyleFields:Vs},Qs=function(t,e){delete t.dataset.mceStyle,t.style.cssText+=";"+e},Zs=function(t,e){var n=t.dom,r={width:n.getStyle(e,"width")||n.getAttrib(e,"width"),height:n.getStyle(e,"height")||n.getAttrib(e,"height"),scope:n.getAttrib(e,"scope"),"class":n.getAttrib(e,"class"),type:e.nodeName.toLowerCase(),style:"",align:"",valign:""};return Ls.each("left center right".split(" "),function(n){t.formatter.matchNode(e,"align"+n)&&(r.align=n)}),Ls.each("top middle bottom".split(" "),function(n){t.formatter.matchNode(e,"valign"+n)&&(r.valign=n)}),ps(t)&&Ls.extend(r,$s.extractAdvancedStyles(n,e)),r},td=function(t,e,n){function r(t,n,r){(1===e.length||r)&&u.setAttrib(t,n,r)}function o(t,n,r){(1===e.length||r)&&u.setStyle(t,n,r)}var i,u=t.dom;ps(t)&&$s.syncAdvancedStyleFields(t,n),i=n.control.rootControl.toJSON(),t.undoManager.transact(function(){Ls.each(e,function(n){r(n,"scope",i.scope),1===e.length?r(n,"style",i.style):Qs(n,i.style),r(n,"class",i["class"]),o(n,"width",rs(i.width)),o(n,"height",rs(i.height)),i.type&&n.nodeName.toLowerCase()!==i.type&&(n=u.rename(n,i.type)),1===e.length&&(qs.unApplyAlign(t,n),qs.unApplyVAlign(t,n)),i.align&&qs.applyAlign(t,n,i.align),i.valign&&qs.applyVAlign(t,n,i.valign)}),t.focus()})},ed=function(t){var n,r,o,i=[];if(i=t.dom.select("td[data-mce-selected],th[data-mce-selected]"),n=t.dom.getParent(t.selection.getStart(),"td,th"),!i.length&&n&&i.push(n),n=n||i[0]){r=i.length>1?{width:"",height:"",scope:"","class":"",align:"",valign:"",style:"",type:n.nodeName.toLowerCase()}:Zs(t,n),Rs(t).length>0&&(o={name:"class",type:"listbox",label:"Class",values:$s.buildListItems(Rs(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"td",classes:[e.value]})})})});var u={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",layout:"grid",columns:2,labelGapCalc:!1,padding:0,defaults:{type:"textbox",maxWidth:50},items:[{label:"Width",name:"width",onchange:e($s.updateStyleField,t)},{label:"Height",name:"height",onchange:e($s.updateStyleField,t)},{label:"Cell type",name:"type",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"Cell",value:"td"},{text:"Header cell",value:"th"}]},{label:"Scope",name:"scope",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Row",value:"row"},{text:"Column",value:"col"},{text:"Row group",value:"rowgroup"},{text:"Column group",value:"colgroup"}]},{label:"H Align",name:"align",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"V Align",name:"valign",type:"listbox",text:"None",minWidth:90,maxWidth:null,values:[{text:"None",value:""},{text:"Top",value:"top"},{text:"Middle",value:"middle"},{text:"Bottom",value:"bottom"}]}]},o]};ps(t)?t.windowManager.open({title:"Cell properties",bodyType:"tabpanel",data:r,body:[{title:"General",type:"form",items:u},$s.createStyleForm(t)],onsubmit:e(td,t,i)}):t.windowManager.open({title:"Cell properties",data:r,body:u,onsubmit:e(td,t,i)})}},nd={open:ed},rd=function(t,e){var n=t.dom,r={height:n.getStyle(e,"height")||n.getAttrib(e,"height"),scope:n.getAttrib(e,"scope"),"class":n.getAttrib(e,"class"),align:"",style:"",type:e.parentNode.nodeName.toLowerCase()};return Ls.each("left center right".split(" "),function(n){t.formatter.matchNode(e,"align"+n)&&(r.align=n)}),bs(t)&&Ls.extend(r,$s.extractAdvancedStyles(n,e)),r},od=function(t,e,n){var r=t.getParent(e,"table"),o=e.parentNode,i=t.select(n,r)[0];i||(i=t.create(n),r.firstChild?"CAPTION"===r.firstChild.nodeName?t.insertAfter(i,r.firstChild):r.insertBefore(i,r.firstChild):r.appendChild(i)),i.appendChild(e),o.hasChildNodes()||t.remove(o)},id=function(t){var n,r,o,i,u,a,l=t.dom,f=[];n=l.getParent(t.selection.getStart(),"table"),r=l.getParent(t.selection.getStart(),"td,th"),Ls.each(n.rows,function(t){Ls.each(t.cells,function(e){if(l.getAttrib(e,"data-mce-selected")||e===r)return f.push(t),!1})}),o=f[0],o&&(u=f.length>1?{height:"",scope:"",style:"","class":"",align:"",type:o.parentNode.nodeName.toLowerCase()}:rd(t,o),Ss(t).length>0&&(i={name:"class",type:"listbox",label:"Class",values:$s.buildListItems(Ss(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"tr",classes:[e.value]})})})}),a={type:"form",columns:2,padding:0,defaults:{type:"textbox"},items:[{type:"listbox",name:"type",label:"Row type",text:"Header",maxWidth:null,values:[{text:"Header",value:"thead"},{text:"Body",value:"tbody"},{text:"Footer",value:"tfoot"}]},{type:"listbox",name:"align",label:"Alignment",text:"None",maxWidth:null,values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},{label:"Height",name:"height"},i]},bs(t)?t.windowManager.open({title:"Row properties",data:u,bodyType:"tabpanel",body:[{title:"General",type:"form",items:a},$s.createStyleForm(t)],onsubmit:e(c,t,f,u)}):t.windowManager.open({title:"Row properties",data:u,body:a,onsubmit:e(c,t,f,u)}))},ud={open:id},ad=tinymce.util.Tools.resolve("tinymce.Env"),cd={styles:{"border-collapse":"collapse",width:"100%"},attributes:{border:"1"},percentages:!0},ld=function(){return Kt.fromTag("table")},fd=function(){return Kt.fromTag("tbody")},sd=function(){return Kt.fromTag("tr")},dd=function(){return Kt.fromTag("th")},md=function(){return Kt.fromTag("td")},gd=function(t,e,n,r,o){void 0===o&&(o=cd);var i=ld();ne(i,o.styles),Pt(i,o.attributes);var u=fd();Tn(i,u);for(var a=[],c=0;c<t;c++){for(var l=sd(),f=0;f<e;f++){var s=c<n||f<r?dd():md();f<r&&Bt(s,"scope","row"),c<n&&Bt(s,"scope","col"),Tn(s,Kt.fromTag("br")),o.percentages&&ee(s,"width",100/e+"%"),Tn(l,s)}a.push(l)}return En(u,a),i},hd=function(t){return t.dom().innerHTML},vd=function(t){var e=Kt.fromTag("div"),n=Kt.fromDom(t.dom().cloneNode(!0));return Tn(e,n),hd(e)},pd=function(t,e){t.selection.select(e.dom(),!0),t.selection.collapse(!0)},bd=function(t,n){nr(n,"td,th").each(e(pd,t))},wd=function(t,e){G(Kn(e,"tr"),function(e){Ns(t,e.dom()),G(Kn(e,"th,td"),function(e){Bs(t,e.dom())})})},yd=function(t){return P(t)&&t.indexOf("%")!==-1},xd=function(t,e,n){var r=gs(t),o={styles:r,attributes:ms(t),percentages:yd(r.width)&&!As(t)},i=gd(n,e,0,0,o);Bt(i,"data-mce-id","__mce");var u=vd(i);return t.insertContent(u),nr(Qf(t),'table[data-mce-id="__mce"]').map(function(e){return As(t)&&ee(e,"width",re(e,"width")),Mt(e,"data-mce-id"),wd(t,e),bd(t,e),e.dom()}).getOr(null)},Cd={insert:xd},Rd=function(t,e){var n=t.dom,r={width:n.getStyle(e,"width")||n.getAttrib(e,"width"),height:n.getStyle(e,"height")||n.getAttrib(e,"height"),cellspacing:n.getStyle(e,"border-spacing")||n.getAttrib(e,"cellspacing"),cellpadding:n.getAttrib(e,"data-mce-cell-padding")||n.getAttrib(e,"cellpadding")||qs.getTDTHOverallStyle(t.dom,e,"padding"),border:n.getAttrib(e,"data-mce-border")||n.getAttrib(e,"border")||qs.getTDTHOverallStyle(t.dom,e,"border"),borderColor:n.getAttrib(e,"data-mce-border-color"),caption:!!n.select("caption",e)[0],"class":n.getAttrib(e,"class")};return Ls.each("left center right".split(" "),function(n){t.formatter.matchNode(e,"align"+n)&&(r.align=n)}),ws(t)&&Ls.extend(r,$s.extractAdvancedStyles(n,e)),r},Sd=function(t,e,n){var r=t.dom,o={},i={};if(o["class"]=n["class"],i.height=rs(n.height),r.getAttrib(e,"width")&&!Cs(t)?o.width=ns(n.width):i.width=rs(n.width),Cs(t)?(i["border-width"]=rs(n.border),i["border-spacing"]=rs(n.cellspacing),Ls.extend(o,{"data-mce-border-color":n.borderColor,"data-mce-cell-padding":n.cellpadding,"data-mce-border":n.border})):Ls.extend(o,{border:n.border,cellpadding:n.cellpadding,cellspacing:n.cellspacing}),Cs(t)&&e.children)for(var u=0;u<e.children.length;u++)l(r,e.children[u],{"border-width":rs(n.border),"border-color":n.borderColor,padding:rs(n.cellpadding)});n.style?Ls.extend(i,r.parseStyle(n.style)):i=Ls.extend({},r.parseStyle(r.getAttrib(e,"style")),i),o.style=r.serializeStyle(i),r.setAttribs(e,o)},Td=function(t,e,n){var r,o,i=t.dom;ws(t)&&$s.syncAdvancedStyleFields(t,n),o=n.control.rootControl.toJSON(),o["class"]===!1&&delete o["class"],t.undoManager.transact(function(){e||(e=Cd.insert(t,o.cols||1,o.rows||1)),Sd(t,e,o),r=i.select("caption",e)[0],r&&!o.caption&&i.remove(r),!r&&o.caption&&(r=i.create("caption"),r.innerHTML=ad.ie?" ":'<br data-mce-bogus="1"/>',e.insertBefore(r,e.firstChild)),qs.unApplyAlign(t,e),o.align&&qs.applyAlign(t,e,o.align),t.focus(),t.addVisual()})},Dd=function(t,n){var r,o,i,u,a,c=t.dom,l={};n===!0?(r=c.getParent(t.selection.getStart(),"table"),r&&(l=Rd(t,r))):(o={label:"Cols",name:"cols"},i={label:"Rows",name:"rows"}),Ts(t).length>0&&(l["class"]&&(l["class"]=l["class"].replace(/\s*mce\-item\-table\s*/g,"")),u={name:"class",type:"listbox",label:"Class",values:$s.buildListItems(Ts(t),function(e){e.value&&(e.textStyle=function(){return t.formatter.getCssText({block:"table",classes:[e.value]})})})}),a={type:"form",layout:"flex",direction:"column",labelGapCalc:"children",padding:0,items:[{type:"form",labelGapCalc:!1,padding:0,layout:"grid",columns:2,defaults:{type:"textbox",maxWidth:50},items:ys(t)?[o,i,{label:"Width",name:"width",onchange:e($s.updateStyleField,t)},{label:"Height",name:"height",onchange:e($s.updateStyleField,t)},{label:"Cell spacing",name:"cellspacing"},{label:"Cell padding",name:"cellpadding"},{label:"Border",name:"border"},{label:"Caption",name:"caption",type:"checkbox"}]:[o,i,{label:"Width",name:"width",onchange:e($s.updateStyleField,t)},{label:"Height",name:"height",onchange:e($s.updateStyleField,t)}]},{label:"Alignment",name:"align",type:"listbox",text:"None",values:[{text:"None",value:""},{text:"Left",value:"left"},{text:"Center",value:"center"},{text:"Right",value:"right"}]},u]},ws(t)?t.windowManager.open({title:"Table properties",data:l,bodyType:"tabpanel",body:[{title:"General",type:"form",items:a},$s.createStyleForm(t)],onsubmit:e(Td,t,r)}):t.windowManager.open({title:"Table properties",data:l,body:a,onsubmit:e(Td,t,r)})},Ad={open:Dd},Od=Ls.each,Ed=function(t,n,r,o,i){var u=es(t),a=function(){f().orThunk(l).each(function(e){var n=yr.table(e,u);n.filter(C(u)).each(function(e){var n=Kt.fromText("");Rn(e,n),Nn(e);var r=t.dom.createRng();r.setStart(n.dom(),0),r.setEnd(n.dom(),0),t.selection.setRng(r)})})},c=function(e){return function(){return k.from(t.dom.getParent(t.selection.getStart(),e)).map(Kt.fromDom)}},l=c("caption"),f=c("th,td"),s=function(t){return yr.table(t,u)},d=function(t){return{width:Zf(t.dom()),height:Zf(t.dom())}},m=function(t,e,n){var r=d(n);e.width===r.width&&e.height===r.height||(Ps(t,n.dom(),e.width,e.height),Is(t,n.dom(),r.width,r.height))},g=function(e){f().each(function(n){s(n).each(function(i){var u=Hi.forMenu(o,i,n),a=d(i);e(i,u).each(function(e){m(t,a,i),t.selection.setRng(e),t.focus(),r.clear(i),os(i)})})})},h=function(e){return f().bind(function(e){return s(e).bind(function(n){var r=Kt.fromDom(t.getDoc()),i=Hi.forMenu(o,n,e),u=co.cellOperations(b,r,k.none());return _s.copyRows(n,i,u)})})},v=function(e){i.get().each(function(n){var i=q(n,function(t){return Qr(t)});f().each(function(n){s(n).each(function(u){var a=Kt.fromDom(t.getDoc()),c=co.paste(a),l=Hi.pasteRows(o,u,n,i,c);e(u,l).each(function(e){t.selection.setRng(e),t.focus(),r.clear(u)})})})})};Od({mceTableSplitCells:function(){g(n.unmergeCells)},mceTableMergeCells:function(){g(n.mergeCells)},mceTableInsertRowBefore:function(){g(n.insertRowsBefore)},mceTableInsertRowAfter:function(){g(n.insertRowsAfter)},mceTableInsertColBefore:function(){g(n.insertColumnsBefore)},mceTableInsertColAfter:function(){g(n.insertColumnsAfter)},mceTableDeleteCol:function(){g(n.deleteColumn)},mceTableDeleteRow:function(){g(n.deleteRow)},mceTableCutRow:function(t){i.set(h()),g(n.deleteRow)},mceTableCopyRow:function(t){i.set(h())},mceTablePasteRowBefore:function(t){v(n.pasteRowsBefore)},mceTablePasteRowAfter:function(t){v(n.pasteRowsAfter)},mceTableDelete:a},function(e,n){t.addCommand(n,e)}),Od({mceInsertTable:e(Ad.open,t),mceTableProps:e(Ad.open,t,!0),mceTableRowProps:e(ud.open,t),mceTableCellProps:e(nd.open,t)},function(e,n){t.addCommand(n,function(t,n){e(n)})})},kd={registerCommands:Ed},Nd=function(t){var e=k.from(t.dom().documentElement).map(Kt.fromDom).getOr(t);return{parent:y(e),view:y(t),origin:y(Pu(0,0))}},Bd=function(t,e){var n=function(){return Mu(e)};return{parent:y(e),view:y(t),origin:n}},Pd=function(t,e){return{parent:y(e),view:y(t),origin:y(Pu(0,0))}},Id={only:Nd,detached:Bd,body:Pd},Wd=function(t){var e=at.apply(null,t),n=[],r=function(t){if(void 0===t)throw new Error("Event bind error: undefined handler");n.push(t)},o=function(t){n=Y(n,function(e){return e!==t})},i=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var o=e.apply(null,t);G(n,function(t){t(o)})};return{bind:r,unbind:o,trigger:i}},Md=function(t){var e=it(t,function(t){return{bind:t.bind,unbind:t.unbind}}),n=it(t,function(t){return t.trigger});return{registry:e,trigger:n}},_d={create:Md},Ld=function(t,e,n,r,o,i,u){return{target:y(t),x:y(e),y:y(n),stop:r,prevent:o,kill:i,raw:y(u)}},Fd=function(t,e){return function(n){if(t(n)){var r=Kt.fromDom(n.target),o=function(){n.stopPropagation()},i=function(){n.preventDefault()},u=w(i,o),a=Ld(r,n.clientX,n.clientY,o,i,u,n);e(a)}}},jd=function(t,n,r,o,i){var u=Fd(r,o);return t.dom().addEventListener(n,u,i),{unbind:e(zd,t,n,u,i)}},Hd=function(t,e,n,r){return jd(t,e,n,r,!1)},zd=function(t,e,n,r){t.dom().removeEventListener(e,n,r)},Ud=y(!0),qd=function(t,e,n){return Hd(t,e,Ud,n)},Gd=Object.prototype.hasOwnProperty,Vd=function(t,e){return e},Yd=function(t){return function(){for(var e=new Array(arguments.length),n=0;n<e.length;n++)e[n]=arguments[n];if(0===e.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<e.length;o++){var i=e[o];for(var u in i)Gd.call(i,u)&&(r[u]=t(r[u],i[u]))}return r}},Xd=Yd(Vd),Kd=Aa("ephox-dragster"),Jd={resolve:Kd.resolve},$d=function(t){var e=Xd({layerClass:Jd.resolve("blocker")},t),n=Kt.fromTag("div");Bt(n,"role","presentation"),ne(n,{position:"fixed",left:"0px",top:"0px",width:"100%",height:"100%"}),va(n,Jd.resolve("blocker")),va(n,e.layerClass);var r=function(){return n},o=function(){Nn(n)};return{element:r,destroy:o}},Qd=Gl(["compare","extract","mutate","sink"]),Zd=Gl(["element","start","stop","destroy"]),tm=Gl(["forceDrop","drop","move","delayDrop"]),em=function(t,e){return Pu(e.left()-t.left(),e.top()-t.top())},nm=function(t){return k.some(Pu(t.x(),t.y()))},rm=function(t,e){t.mutate(e.left(),e.top())},om=function(t,e){var n=$d(e),r=qd(n.element(),"mousedown",t.forceDrop),o=qd(n.element(),"mouseup",t.drop),i=qd(n.element(),"mousemove",t.move),u=qd(n.element(),"mouseout",t.delayDrop),a=function(){n.destroy(),o.unbind(),i.unbind(),u.unbind(),r.unbind()},c=function(t){Tn(t,n.element())},l=function(){Nn(n.element())};return Zd({element:n.element,start:c,stop:l,destroy:a})},im=Qd({compare:em,extract:nm,sink:om,mutate:rm}),um=function(e,n){var r=null,o=function(){null!==r&&(t.clearTimeout(r),r=null)},i=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&t.clearTimeout(r),r=t.setTimeout(function(){e.apply(null,o),r=null},n)};return{cancel:o,throttle:i}},am=function(t,e,n){var r=!1,o=_d.create({start:Wd([]),stop:Wd([])}),i=d(),u=function(){g.stop(),i.isOn()&&(i.off(),o.trigger.stop())},a=um(u,200),c=function(t){g.start(t),i.on(),o.trigger.start()},l=function(t){a.cancel(),i.onEvent(t,e)};i.events.move.bind(function(n){e.mutate(t,n.info())});var f=function(){r=!0},s=function(){r=!1},m=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];r&&t.apply(null,e)}},g=e.sink(tm({forceDrop:u,drop:m(u),move:m(l),delayDrop:m(a.throttle)}),n),h=function(){g.destroy()};return{element:g.element,go:c,on:f,off:s,destroy:h,events:o.registry}},cm={setup:am},lm=function(t,e){void 0===e&&(e={});var n=void 0!==e.mode?e.mode:im;return cm.setup(t,n,e)},fm={transform:lm},sm=function(){var t=_d.create({drag:Wd(["xDelta","yDelta"])}),e=function(e,n){t.trigger.drag(e,n)};return{mutate:e,events:t.registry}},dm=function(){var t=_d.create({drag:Wd(["xDelta","yDelta","target"])}),e=k.none(),n=sm();n.events.drag.bind(function(n){e.each(function(e){t.trigger.drag(n.xDelta(),n.yDelta(),e)})});var r=function(t){e=k.some(t)},o=function(){return e};return{assign:r,get:o,mutate:n.mutate,events:t.registry}},mm=function(t){return"true"===It(t,"contenteditable")},gm=function(t,e){return rr(t,"[contenteditable]",e)},hm=Ea.resolve("resizer-bar-dragging"),vm=function(t,n,r){var o=dm(),i=fm.transform(o,{}),u=k.none(),a=function(t,e){return k.from(It(t,e))};o.events.drag.bind(function(t){a(t.target(),"data-row").each(function(e){var n=sl.getInt(t.target(),"top");ee(t.target(),"top",n+t.yDelta()+"px")}),a(t.target(),"data-column").each(function(e){var n=sl.getInt(t.target(),"left");ee(t.target(),"left",n+t.xDelta()+"px")})});var c=function(t,e){var n=sl.getInt(t,e),r=parseInt(It(t,"data-initial-"+e),10);return n-r};i.events.stop.bind(function(){o.get().each(function(e){u.each(function(o){a(e,"data-row").each(function(t){var n=c(e,"top");Mt(e,"data-initial-top"),v.trigger.adjustHeight(o,n,parseInt(t,10))}),a(e,"data-column").each(function(t){var n=c(e,"left");Mt(e,"data-initial-left"),v.trigger.adjustWidth(o,n,parseInt(t,10))}),Xa.refresh(t,o,r,n)})})});var l=function(e,n){v.trigger.startAdjust(),o.assign(e),Bt(e,"data-initial-"+n,parseInt(re(e,n),10)),va(e,hm),ee(e,"opacity","0.2"),i.go(t.parent())},f=qd(t.parent(),"mousedown",function(t){Xa.isRowBar(t.target())&&l(t.target(),"top"),Xa.isColBar(t.target())&&l(t.target(),"left")}),s=function(e){return an(e,t.view())},d=function(t){return rr(t,"table",s).filter(function(t){return gm(t,s).exists(mm)})},m=qd(t.view(),"mouseover",function(e){
d(e.target()).fold(function(){Jt(e.target())&&Xa.destroy(t)},function(e){u=k.some(e),Xa.refresh(t,e,r,n)})}),g=function(){f.unbind(),m.unbind(),i.destroy(),Xa.destroy(t)},h=function(e){Xa.refresh(t,e,r,n)},v=_d.create({adjustHeight:Wd(["table","delta","row"]),adjustWidth:Wd(["table","delta","column"]),startAdjust:Wd([])});return{destroy:g,refresh:h,on:i.on,off:i.off,hideBars:e(Xa.hide,t),showBars:e(Xa.show,t),events:v.registry}},pm=function(t,e){var n=Qu.height,r=vm(t,e,n),o=_d.create({beforeResize:Wd(["table"]),afterResize:Wd(["table"]),startDrag:Wd([])});return r.events.adjustHeight.bind(function(t){o.trigger.beforeResize(t.table());var e=n.delta(t.delta(),t.table());jl.adjustHeight(t.table(),e,t.row(),n),o.trigger.afterResize(t.table())}),r.events.startAdjust.bind(function(t){o.trigger.startDrag()}),r.events.adjustWidth.bind(function(t){o.trigger.beforeResize(t.table());var n=e.delta(t.delta(),t.table());jl.adjustWidth(t.table(),n,t.column(),e),o.trigger.afterResize(t.table())}),{on:r.on,off:r.off,hideBars:r.hideBars,showBars:r.showBars,destroy:r.destroy,events:o.registry}},bm={create:pm},wm=function(){var t=Kt.fromTag("div");return ne(t,{position:"static",height:"0",width:"0",padding:"0",margin:"0",border:"0"}),Tn($t(),t),t},ym=function(t,e){return t.inline?Id.body(Qf(t),wm()):Id.only(Kt.fromDom(t.getDoc()))},xm=function(t,e){t.inline&&Nn(e.parent())},Cm={get:ym,remove:xm},Rm=function(t){var e,n,r=k.none(),o=k.none(),i=k.none(),a=/(\d+(\.\d+)?)%/,c=function(t){return"TABLE"===t.nodeName},l=function(e){return t.dom.getStyle(e,"width")||t.dom.getAttrib(e,"width")},f=function(){return o},s=function(){return i.getOr(Id.only(Kt.fromDom(t.getBody())))},d=function(){o.each(function(t){t.destroy()}),i.each(function(e){Cm.remove(t,e)})};return t.on("init",function(){var e=u(ls.directionAt),n=Cm.get(t);if(i=k.some(n),Es(t)&&hs(t)){var a=bm.create(n,e);a.on(),a.events.startDrag.bind(function(e){r=k.some(t.selection.getRng())}),a.events.beforeResize.bind(function(e){var n=e.table().dom();Ps(t,n,Zf(n),ts(n))}),a.events.afterResize.bind(function(e){var n=e.table(),o=n.dom();os(n),r.each(function(e){t.selection.setRng(e),t.focus()}),Is(t,o,Zf(o),ts(o)),t.undoManager.add()}),o=k.some(a)}}),t.on("ObjectResizeStart",function(t){var r=t.target;c(r)&&(e=t.width,n=l(r))}),t.on("ObjectResized",function(r){var o=r.target;if(c(o)){var i=o;if(a.test(n)){var u=parseFloat(a.exec(n)[1]),l=r.width*u/e;t.dom.setStyle(i,"width",l+"%")}else{var f=[];Ls.each(i.rows,function(e){Ls.each(e.cells,function(e){var n=t.dom.getStyle(e,"width",!0);f.push({cell:e,width:n})})}),Ls.each(f,function(e){t.dom.setStyle(e.cell,"width",e.width),t.dom.setAttrib(e.cell,"width",null)})}}}),{lazyResize:f,lazyWire:s,destroy:d}},Sm=Oi.generate([{none:["current"]},{first:["current"]},{middle:["current","target"]},{last:["current"]}]),Tm=function(t){return void 0===t&&(t=void 0),Sm.none(t)},Dm=na(na({},Sm),{none:Tm}),Am=function(t,e){return yr.table(t,e).bind(function(e){var n=yr.cells(e),r=$(n,function(e){return an(t,e)});return r.map(function(t){return{index:y(t),all:y(n)}})})},Om=function(t,e){var n=Am(t,e);return n.fold(function(){return Dm.none(t)},function(e){return e.index()+1<e.all().length?Dm.middle(t,e.all()[e.index()+1]):Dm.last(t)})},Em=function(t,e){var n=Am(t,e);return n.fold(function(){return Dm.none()},function(e){return e.index()-1>=0?Dm.middle(t,e.all()[e.index()-1]):Dm.first(t)})},km={next:Om,prev:Em},Nm=at("start","soffset","finish","foffset"),Bm={create:Nm},Pm=Oi.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Im=function(t,e,n,r){return t.fold(e,n,r)},Wm=function(t){return t.fold(x,x,x)},Mm=Pm.before,_m=Pm.on,Lm=Pm.after,Fm={before:Mm,on:_m,after:Lm,cata:Im,getStart:Wm},jm=Oi.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Hm=function(t){return jm.exact(t.start(),t.soffset(),t.finish(),t.foffset())},zm=function(t){return t.match({domRange:function(t){return Kt.fromDom(t.startContainer)},relative:function(t,e){return Fm.getStart(t)},exact:function(t,e,n,r){return t}})},Um=jm.domRange,qm=jm.relative,Gm=jm.exact,Vm=function(t){var e=zm(t);return gn(e)},Ym=Bm.create,Xm={domRange:Um,relative:qm,exact:Gm,exactFromRange:Hm,getWin:Vm,range:Ym},Km=function(t,e){var n=t.document.createRange();return Jm(n,e),n},Jm=function(t,e){t.selectNodeContents(e.dom())},$m=function(t,e){e.fold(function(e){t.setStartBefore(e.dom())},function(e,n){t.setStart(e.dom(),n)},function(e){t.setStartAfter(e.dom())})},Qm=function(t,e){e.fold(function(e){t.setEndBefore(e.dom())},function(e,n){t.setEnd(e.dom(),n)},function(e){t.setEndAfter(e.dom())})},Zm=function(t,e,n){var r=t.document.createRange();return $m(r,e),Qm(r,n),r},tg=function(t,e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},eg=function(t){return{left:y(t.left),top:y(t.top),right:y(t.right),bottom:y(t.bottom),width:y(t.width),height:y(t.height)}},ng=function(t){var e=t.getClientRects(),n=e.length>0?e[0]:t.getBoundingClientRect();return n.width>0||n.height>0?k.some(n).map(eg):k.none()},rg=Oi.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),og=function(t,e,n){return e(Kt.fromDom(n.startContainer),n.startOffset,Kt.fromDom(n.endContainer),n.endOffset)},ig=function(t,e){return e.match({domRange:function(t){return{ltr:y(t),rtl:k.none}},relative:function(e,n){return{ltr:Ut(function(){return Zm(t,e,n)}),rtl:Ut(function(){return k.some(Zm(t,n,e))})}},exact:function(e,n,r,o){return{ltr:Ut(function(){return tg(t,e,n,r,o)}),rtl:Ut(function(){return k.some(tg(t,r,o,e,n))})}}})},ug=function(t,e){var n=e.ltr();if(n.collapsed){var r=e.rtl().filter(function(t){return t.collapsed===!1});return r.map(function(t){return rg.rtl(Kt.fromDom(t.endContainer),t.endOffset,Kt.fromDom(t.startContainer),t.startOffset)}).getOrThunk(function(){return og(t,rg.ltr,n)})}return og(t,rg.ltr,n)},ag=function(t,e){var n=ig(t,e);return ug(t,n)},cg=function(t,e){var n=ag(t,e);return n.match({ltr:function(e,n,r,o){var i=t.document.createRange();return i.setStart(e.dom(),n),i.setEnd(r.dom(),o),i},rtl:function(e,n,r,o){var i=t.document.createRange();return i.setStart(r.dom(),o),i.setEnd(e.dom(),n),i}})},lg=function(t,e,n,r,o){if(0===o)return 0;if(e===r)return o-1;for(var i=r,u=1;u<o;u++){var a=t(u),c=Math.abs(e-a.left);if(n<=a.bottom){if(n<a.top||c>i)return u-1;i=c}}return 0},fg=function(t,e,n){return e>=t.left&&e<=t.right&&n>=t.top&&n<=t.bottom},sg=function(t,e,n,r,o){var i=function(n){var r=t.dom().createRange();return r.setStart(e.dom(),n),r.collapse(!0),r},u=function(t){var e=i(t);return e.getBoundingClientRect()},a=Fr(e).length,c=lg(u,n,r,o.right,a);return i(c)},dg=function(t,e,n,r){var o=t.dom().createRange();o.selectNode(e.dom());var i=o.getClientRects(),u=oa(i,function(t){return fg(t,n,r)?k.some(t):k.none()});return u.map(function(o){return sg(t,e,n,r,o)})},mg=function(t,e,n,r){var o=t.dom().createRange(),i=wn(e);return oa(i,function(e){return o.selectNode(e.dom()),fg(o.getBoundingClientRect(),n,r)?gg(t,e,n,r):k.none()})},gg=function(t,e,n,r){return kt(e)?dg(t,e,n,r):mg(t,e,n,r)},hg=function(t,e,n,r){var o=t.dom().createRange();o.selectNode(e.dom());var i=o.getBoundingClientRect(),u=Math.max(i.left,Math.min(i.right,n)),a=Math.max(i.top,Math.min(i.bottom,r));return gg(t,e,u,a)},vg=!0,pg=!1,bg=function(t,e){return e-t.left<t.right-e?vg:pg},wg=function(t,e,n){var r=t.dom().createRange();return r.selectNode(e.dom()),r.collapse(n),r},yg=function(t,e,n){var r=t.dom().createRange();r.selectNode(e.dom());var o=r.getBoundingClientRect(),i=bg(o,n),u=i===vg?Yr:Xr;return u(e).map(function(e){return wg(t,e,i)})},xg=function(t,e,n){var r=e.dom().getBoundingClientRect(),o=bg(r,n);return k.some(wg(t,e,o))},Cg=function(t,e,n){var r=0===wn(e).length?xg:yg;return r(t,e,n)},Rg=function(t,e,n){return k.from(t.dom().caretPositionFromPoint(e,n)).bind(function(e){if(null===e.offsetNode)return k.none();var n=t.dom().createRange();return n.setStart(e.offsetNode,e.offset),n.collapse(),k.some(n)})},Sg=function(t,e,n){return k.from(t.dom().caretRangeFromPoint(e,n))},Tg=function(t,e,n,r){var o=t.dom().createRange();o.selectNode(e.dom());var i=o.getBoundingClientRect(),u=Math.max(i.left,Math.min(i.right,n)),a=Math.max(i.top,Math.min(i.bottom,r));return hg(t,e,u,a)},Dg=function(t,e,n){return Kt.fromPoint(t,e,n).bind(function(r){var o=function(){return Cg(t,r,e)};return 0===wn(r).length?o():Tg(t,r,e,n).orThunk(o)})},Ag=document.caretPositionFromPoint?Rg:document.caretRangeFromPoint?Sg:Dg,Og=function(t,e,n){var r=Kt.fromDom(t.document);return Ag(r,e,n).map(function(t){return Bm.create(Kt.fromDom(t.startContainer),t.startOffset,Kt.fromDom(t.endContainer),t.endOffset)})},Eg=function(t,e){var n=Tt(t);return"input"===n?Fm.after(t):z(["br","img"],n)?0===e?Fm.before(t):Fm.after(t):Fm.on(t,e)},kg=function(t,e){var n=t.fold(Fm.before,Eg,Fm.after),r=e.fold(Fm.before,Eg,Fm.after);return Xm.relative(n,r)},Ng=function(t,e,n,r){var o=Eg(t,e),i=Eg(n,r);return Xm.relative(o,i)},Bg=function(t){return t.match({domRange:function(t){var e=Kt.fromDom(t.startContainer),n=Kt.fromDom(t.endContainer);return Ng(e,t.startOffset,n,t.endOffset)},relative:kg,exact:Ng})},Pg=function(t,e,n,r){var o=mn(t),i=o.dom().createRange();return i.setStart(t.dom(),e),i.setEnd(n.dom(),r),i},Ig=function(t,e,n,r){var o=Pg(t,e,n,r),i=an(t,n)&&e===r;return o.collapsed&&!i},Wg=function(t,e){k.from(t.getSelection()).each(function(t){t.removeAllRanges(),t.addRange(e)})},Mg=function(t,e,n,r,o){var i=tg(t,e,n,r,o);Wg(t,i)},_g=function(t,e,n,r,o,i){e.collapse(n.dom(),r),e.extend(o.dom(),i)},Lg=function(t,e){return ag(t,e).match({ltr:function(e,n,r,o){Mg(t,e,n,r,o)},rtl:function(e,n,r,o){var i=t.getSelection();if(i.setBaseAndExtent)i.setBaseAndExtent(e.dom(),n,r.dom(),o);else if(i.extend)try{_g(t,i,e,n,r,o)}catch(u){Mg(t,r,o,e,n)}else Mg(t,r,o,e,n)}})},Fg=function(t,e,n,r,o){var i=Ng(e,n,r,o);Lg(t,i)},jg=function(t,e,n){var r=kg(e,n);Lg(t,r)},Hg=function(t){var e=Xm.getWin(t).dom(),n=function(t,n,r,o){return tg(e,t,n,r,o)},r=Bg(t);return ag(e,r).match({ltr:n,rtl:n})},zg=function(t){if(t.rangeCount>0){var e=t.getRangeAt(0),n=t.getRangeAt(t.rangeCount-1);return k.some(Bm.create(Kt.fromDom(e.startContainer),e.startOffset,Kt.fromDom(n.endContainer),n.endOffset))}return k.none()},Ug=function(t){var e=Kt.fromDom(t.anchorNode),n=Kt.fromDom(t.focusNode);return Ig(e,t.anchorOffset,n,t.focusOffset)?k.some(Bm.create(e,t.anchorOffset,n,t.focusOffset)):zg(t)},qg=function(t,e){var n=Km(t,e);Wg(t,n)},Gg=function(t){return k.from(t.getSelection()).filter(function(t){return t.rangeCount>0}).bind(Ug)},Vg=function(t){return Gg(t).map(function(t){return Xm.exact(t.start(),t.soffset(),t.finish(),t.foffset())})},Yg=function(t,e){var n=cg(t,e);return ng(n)},Xg=function(t,e,n){return Og(t,e,n)},Kg=function(t){var e=t.getSelection();e.removeAllRanges()},Jg=tinymce.util.Tools.resolve("tinymce.util.VK"),$g=function(t,e,n,r){return eh(t,e,km.next(n),r)},Qg=function(t,e,n,r){return eh(t,e,km.prev(n),r)},Zg=function(t,e){var n=Xm.exact(e,0,e,0);return Hg(n)},th=function(t,e){var n=Kn(e,"tr");return nt(n).bind(function(e){return nr(e,"td,th").map(function(e){return Zg(t,e)})})},eh=function(t,e,n,r,o){return n.fold(k.none,k.none,function(e,n){return Yr(n).map(function(e){return Zg(t,e)})},function(n){return yr.table(n,e).bind(function(e){var o=Hi.noMenu(n);return t.undoManager.transact(function(){r.insertRowsAfter(e,o)}),th(t,e)})})},nh=["table","li","dl"],rh=function(t,e,n,r){if(t.keyCode===Jg.TAB){var o=Qf(e),i=function(t){var e=Tt(t);return an(t,o)||z(nh,e)},u=e.selection.getRng();if(u.collapsed){var a=Kt.fromDom(u.startContainer);yr.cell(a,i).each(function(o){t.preventDefault();var u=t.shiftKey?Qg:$g,a=u(e,i,o,n,r);a.each(function(t){e.selection.setRng(t)})})}}},oh={handle:rh},ih=at("selection","kill"),uh={create:ih},ah=function(t,e,n,r){return{start:y(Fm.on(t,e)),finish:y(Fm.on(n,r))}},ch={create:ah},lh=function(t,e){var n=cg(t,e);return Bm.create(Kt.fromDom(n.startContainer),n.startOffset,Kt.fromDom(n.endContainer),n.endOffset)},fh=ch.create,sh={convertToRange:lh,makeSitus:fh},dh=function(t,e,n,r,o,i,u){return an(n,o)&&r===i?k.none():rr(n,"td,th",e).bind(function(n){return rr(o,"td,th",e).bind(function(r){return mh(t,e,n,r,u)})})},mh=function(t,e,n,r,o){return an(n,r)?k.none():hi.identify(n,r,e).bind(function(e){var r=e.boxes().getOr([]);return r.length>0?(o(t,r,e.start(),e.finish()),k.some(uh.create(k.some(sh.makeSitus(n,0,n,zr(n))),!0))):k.none()})},gh=function(t,e,n,r,o){var i=function(t){return o.clear(n),o.selectRange(n,t.boxes(),t.start(),t.finish()),t.boxes()};return hi.shiftSelection(r,t,e,o.firstSelectedSelector(),o.lastSelectedSelector()).map(i)},hh={sync:dh,detect:mh,update:gh},vh=at("item","mode"),ph=function(t,e,n,r){return void 0===r&&(r=bh),t.property().parent(e).map(function(t){return vh(t,r)})},bh=function(t,e,n,r){return void 0===r&&(r=wh),n.sibling(t,e).map(function(t){return vh(t,r)})},wh=function(t,e,n,r){void 0===r&&(r=wh);var o=t.property().children(e),i=n.first(o);return i.map(function(t){return vh(t,r)})},yh=[{current:ph,next:bh,fallback:k.none()},{current:bh,next:wh,fallback:k.some(ph)},{current:wh,next:wh,fallback:k.some(bh)}],xh=function(t,e,n,r,o){void 0===o&&(o=yh);var i=J(o,function(t){return t.current===n});return i.bind(function(n){return n.current(t,e,r,n.next).orThunk(function(){return n.fallback.bind(function(n){return xh(t,e,n,r)})})})},Ch=function(){var t=function(t,e){return t.query().prevSibling(e)},e=function(t){return t.length>0?k.some(t[t.length-1]):k.none()};return{sibling:t,first:e}},Rh=function(){var t=function(t,e){return t.query().nextSibling(e)},e=function(t){return t.length>0?k.some(t[0]):k.none()};return{sibling:t,first:e}},Sh={left:Ch,right:Rh},Th=function(t,e,n,r,o,i){var u=xh(t,e,r,o);return u.bind(function(e){return i(e.item())?k.none():n(e.item())?k.some(e.item()):Th(t,e.item(),n,e.mode(),o,i)})},Dh=function(t,e,n,r){return Th(t,e,n,bh,Sh.left(),r)},Ah=function(t,e,n,r){return Th(t,e,n,bh,Sh.right(),r)},Oh=function(t){return function(e){return 0===t.property().children(e).length}},Eh=function(t,e,n){return Nh(t,e,Oh(t),n)},kh=function(t,e,n){return Bh(t,e,Oh(t),n)},Nh=Dh,Bh=Ah,Ph=o(),Ih=function(t,e){return Eh(Ph,t,e)},Wh=function(t,e){return kh(Ph,t,e)},Mh=function(t,e,n){return Nh(Ph,t,e,n)},_h=function(t,e,n){return Bh(Ph,t,e,n)},Lh=function(t,e,n){return Jn(t,e,n).isSome()},Fh=at("element","offset"),jh=(at("element","deltaOffset"),at("element","start","finish"),at("begin","end"),at("element","text"),Oi.generate([{none:["message"]},{success:[]},{failedUp:["cell"]},{failedDown:["cell"]}])),Hh=function(t,e,n){var r=t.getRect(e),o=t.getRect(n);return o.right>r.left&&o.left<r.right},zh=function(t){return rr(t,"tr")},Uh=function(t,e,n,r,o,i,u){return rr(r,"td,th",u).bind(function(n){return rr(e,"td,th",u).map(function(e){return an(n,e)?an(r,n)&&zr(n)===o?i(e):jh.none("in same cell"):ii.sharedOne(zh,[n,e]).fold(function(){return Hh(t,e,n)?jh.success():i(e)},function(t){return i(e)})})}).getOr(jh.none("default"))},qh=function(t,e,n,r,o){return t.fold(e,n,r,o)},Gh=na(na({},jh),{verify:Uh,cata:qh}),Vh=(at("ancestor","descendants","element","index"),at("parent","children","element","index")),Yh=function(t){return hn(t).bind(function(e){var n=wn(e);return Xh(n,t).map(function(r){return Vh(e,n,t,r)})})},Xh=function(t,n){return $(t,e(an,n))},Kh=function(t){return"br"===Tt(t)},Jh=function(t,e,n){return e(t,n).bind(function(t){return kt(t)&&0===Fr(t).trim().length?Jh(t,e,n):k.some(t)})},$h=function(t,e,n){return n.traverse(e).orThunk(function(){return Jh(e,n.gather,t)}).map(n.relative)},Qh=function(t,e){return yn(t,e).filter(Kh).orThunk(function(){return yn(t,e-1).filter(Kh)})},Zh=function(t,e,n,r){return Qh(e,n).bind(function(e){return r.traverse(e).fold(function(){return Jh(e,r.gather,t).map(r.relative)},function(t){return Yh(t).map(function(t){return Fm.on(t.parent(),t.index())})})})},tv=function(t,e,n,r){var o=Kh(e)?$h(t,e,r):Zh(t,e,n,r);return o.map(function(t){return{start:y(t),finish:y(t)}})},ev=function(t){return Gh.cata(t,function(t){return k.none()},function(){return k.none()},function(t){return k.some(Fh(t,0))},function(t){return k.some(Fh(t,zr(t)))})},nv={tryBr:tv,process:ev},rv=gt(["left","top","right","bottom"],[]),ov=function(t,e){return rv({left:t.left(),top:t.top()+e,right:t.right(),bottom:t.bottom()+e})},iv=function(t,e){return rv({left:t.left(),top:t.top()-e,right:t.right(),bottom:t.bottom()-e})},uv=function(t,e){var n=t.bottom()-t.top();return rv({left:t.left(),top:e-n,right:t.right(),bottom:e})},av=function(t,e){var n=t.bottom()-t.top();return rv({left:t.left(),top:e,right:t.right(),bottom:e+n})},cv=function(t,e,n){return rv({left:t.left()+e,top:t.top()+n,right:t.right()+e,bottom:t.bottom()+n})},lv=function(t){return t.top()},fv=function(t){return t.bottom()},sv=function(t){return"("+t.left()+", "+t.top()+") -> ("+t.right()+", "+t.bottom()+")"},dv={nu:rv,moveUp:iv,moveDown:ov,moveBottomTo:uv,moveTopTo:av,getTop:lv,getBottom:fv,translate:cv,toString:sv},mv=function(t,e,n){return n>=0&&n<zr(e)?t.getRangedRect(e,n,e,n+1):n>0?t.getRangedRect(e,n-1,e,n):k.none()},gv=function(t){return dv.nu({left:t.left,top:t.top,right:t.right,bottom:t.bottom})},hv=function(t,e){return k.some(t.getRect(e))},vv=function(t,e,n){return Et(e)?hv(t,e).map(gv):kt(e)?mv(t,e,n).map(gv):k.none()},pv=function(t,e){return Et(e)?hv(t,e).map(gv):kt(e)?t.getRangedRect(e,0,e,zr(e)).map(gv):k.none()},bv={getBoxAt:vv,getEntireBox:pv},wv=5,yv=100,xv=Oi.generate([{none:[]},{retry:["caret"]}]),Cv=function(t,e){return t.left()<e.left()||Math.abs(e.right()-t.left())<1||t.left()>e.right()},Rv=function(t,e,n){return $n(e,bf.isBlock).fold(y(!1),function(e){return bv.getEntireBox(t,e).exists(function(t){return Cv(n,t)})})},Sv=function(t,e,n,r,o){var i=dv.moveDown(o,wv);return Math.abs(n.bottom()-r.bottom())<1?xv.retry(i):n.top()>o.bottom()?xv.retry(i):n.top()===o.bottom()?xv.retry(dv.moveDown(o,1)):Rv(t,e,o)?xv.retry(dv.translate(i,wv,0)):xv.none()},Tv=function(t,e,n,r,o){var i=dv.moveUp(o,wv);return Math.abs(n.top()-r.top())<1?xv.retry(i):n.bottom()<o.top()?xv.retry(i):n.bottom()===o.top()?xv.retry(dv.moveUp(o,1)):Rv(t,e,o)?xv.retry(dv.translate(i,wv,0)):xv.none()},Dv={point:dv.getTop,adjuster:Tv,move:dv.moveUp,gather:Ih},Av={point:dv.getBottom,adjuster:Sv,move:dv.moveDown,gather:Wh},Ov=function(t,e,n){return t.elementFromPoint(e,n).filter(function(t){return"table"===Tt(t)}).isSome()},Ev=function(t,e,n,r,o){return kv(t,e,n,e.move(r,wv),o)},kv=function(t,e,n,r,o){return 0===o?k.some(r):Ov(t,r.left(),e.point(r))?Ev(t,e,n,r,o-1):t.situsFromPoint(r.left(),e.point(r)).bind(function(i){return i.start().fold(k.none,function(i){return bv.getEntireBox(t,i).bind(function(u){return e.adjuster(t,i,u,n,r).fold(k.none,function(r){return kv(t,e,n,r,o-1)})}).orThunk(function(){return k.some(r)})},k.none)})},Nv=function(t,e){return t.situsFromPoint(e.left(),e.bottom()+wv)},Bv=function(t,e){return t.situsFromPoint(e.left(),e.top()-wv)},Pv=function(t,e,n){return t.point(e)>n.getInnerHeight()?k.some(t.point(e)-n.getInnerHeight()):t.point(e)<0?k.some(-t.point(e)):k.none()},Iv=function(t,e,n){var r=t.move(n,wv),o=kv(e,t,n,r,yv).getOr(r);return Pv(t,o,e).fold(function(){return e.situsFromPoint(o.left(),t.point(o))},function(n){return e.scrollBy(0,n),e.situsFromPoint(o.left(),t.point(o)-n)})},Wv={tryUp:e(Iv,Dv),tryDown:e(Iv,Av),ieTryUp:Bv,ieTryDown:Nv,getJumpSize:y(wv)},Mv=20,_v=Ze.detect(),Lv=function(t,e,n){return t.getSelection().bind(function(r){return nv.tryBr(e,r.finish(),r.foffset(),n).fold(function(){return k.some(Fh(r.finish(),r.foffset()))},function(o){var i=t.fromSitus(o),u=Gh.verify(t,r.finish(),r.foffset(),i.finish(),i.foffset(),n.failure,e);return nv.process(u)})})},Fv=function(t,e,n,r,o,i){return 0===i?k.none():zv(t,e,n,r,o).bind(function(u){var a=t.fromSitus(u),c=Gh.verify(t,n,r,a.finish(),a.foffset(),o.failure,e);return Gh.cata(c,function(){return k.none()},function(){return k.some(u)},function(u){return an(n,u)&&0===r?jv(t,n,r,dv.moveUp,o):Fv(t,e,u,0,o,i-1)},function(u){return an(n,u)&&r===zr(u)?jv(t,n,r,dv.moveDown,o):Fv(t,e,u,zr(u),o,i-1)})})},jv=function(t,e,n,r,o){return bv.getBoxAt(t,e,n).bind(function(e){return Hv(t,o,r(e,Wv.getJumpSize()))})},Hv=function(t,e,n){return _v.browser.isChrome()||_v.browser.isSafari()||_v.browser.isFirefox()||_v.browser.isEdge()?e.otherRetry(t,n):_v.browser.isIE()?e.ieRetry(t,n):k.none()},zv=function(t,e,n,r,o){return bv.getBoxAt(t,n,r).bind(function(e){return Hv(t,o,e)})},Uv=function(t,e,n){return Lv(t,e,n).bind(function(r){return Fv(t,e,r.element(),r.offset(),n,Mv).map(t.fromSitus)})},qv={handle:Uv},Gv=Ze.detect(),Vv=function(t,e){return Lh(t,function(t){return hn(t).exists(function(t){return an(t,e)})})},Yv=function(t,e,n,r,o){return rr(r,"td,th",e).bind(function(r){return rr(r,"table",e).bind(function(i){return Vv(o,i)?qv.handle(t,e,n).bind(function(t){return rr(t.finish(),"td,th",e).map(function(e){return{start:y(r),finish:y(e),range:y(t)}})}):k.none()})})},Xv=function(t,e,n,r,o,i){return Gv.browser.isIE()?k.none():i(r,e).orThunk(function(){return Yv(t,e,n,r,o).map(function(t){var e=t.range();return uh.create(k.some(sh.makeSitus(e.start(),e.soffset(),e.finish(),e.foffset())),!0)})})},Kv=function(t,e){return rr(t,"tr",e).bind(function(t){return rr(t,"table",e).bind(function(n){var r=Kn(n,"tr");return an(t,r[0])?Mh(n,function(t){return Xr(t).isSome()},e).map(function(t){var e=zr(t);return uh.create(k.some(sh.makeSitus(t,e,t,e)),!0)}):k.none()})})},Jv=function(t,e){return rr(t,"tr",e).bind(function(t){return rr(t,"table",e).bind(function(n){var r=Kn(n,"tr");return an(t,r[r.length-1])?_h(n,function(t){return Yr(t).isSome()},e).map(function(t){return uh.create(k.some(sh.makeSitus(t,0,t,0)),!0)}):k.none()})})},$v=function(t,e,n,r,o,i,u){return Yv(t,n,r,o,i).bind(function(t){return hh.detect(e,n,t.start(),t.finish(),u)})},Qv={navigate:Xv,select:$v,firstUpCheck:Kv,lastDownCheck:Jv},Zv=function(t,e){return rr(t,"td,th",e)},tp={traverse:bn,gather:Wh,relative:Fm.before,otherRetry:Wv.tryDown,ieRetry:Wv.ieTryDown,failure:Gh.failedDown},ep={traverse:pn,gather:Ih,relative:Fm.before,otherRetry:Wv.tryUp,ieRetry:Wv.ieTryUp,failure:Gh.failedUp},np={down:tp,up:ep},rp=function(t){return function(e){return e===t}},op=rp(38),ip=rp(40),up=function(t){return t>=37&&t<=40},ap={ltr:{isBackward:rp(37),isForward:rp(39)},rtl:{isBackward:rp(39),isForward:rp(37)},isUp:op,isDown:ip,isNavigation:up},cp=function(t){return{left:t.left(),top:t.top(),right:t.right(),bottom:t.bottom(),width:t.width(),height:t.height()}},lp={toRaw:cp},fp=(Ze.detect().browser.isSafari(),function(e){var n=void 0!==e?e.dom():t.document,r=n.body.scrollLeft||n.documentElement.scrollLeft,o=n.body.scrollTop||n.documentElement.scrollTop;return Pu(r,o)}),sp=function(e,n,r){var o=void 0!==r?r.dom():t.document,i=o.defaultView;i.scrollBy(e,n)},dp=function(t){var e=function(e,n){return Kt.fromPoint(Kt.fromDom(t.document),e,n)},n=function(t){return t.dom().getBoundingClientRect()},r=function(e,n,r,o){var i=Xm.exact(e,n,r,o);return Yg(t,i).map(lp.toRaw)},o=function(){return Vg(t).map(function(e){return sh.convertToRange(t,e)})},i=function(e){var n=Xm.relative(e.start(),e.finish());return sh.convertToRange(t,n)},u=function(e,n){return Xg(t,e,n).map(function(t){return ch.create(t.start(),t.soffset(),t.finish(),t.foffset())})},a=function(){Kg(t)},c=function(e){qg(t,e)},l=function(e){Fg(t,e.start(),e.soffset(),e.finish(),e.foffset())},f=function(e,n){jg(t,e,n)},s=function(){return t.innerHeight},d=function(){var e=fp(Kt.fromDom(t.document));return e.top()},m=function(e,n){sp(e,n,Kt.fromDom(t.document))};return{elementFromPoint:e,getRect:n,getRangedRect:r,getSelection:o,fromSitus:i,situsFromPoint:u,clearSelection:a,setSelection:l,setRelativeSelection:f,selectContents:c,getInnerHeight:s,getScrollY:d,scrollBy:m}},mp=at("rows","cols"),gp=function(t,e,n,r){var o=dp(t),i=m(o,e,n,r);return{mousedown:i.mousedown,mouseover:i.mouseover,mouseup:i.mouseup}},hp=function(t,n,r,o){var i=dp(t),u=function(){return o.clear(n),k.none()},a=function(t,a,c,l,f,s){var d=t.raw(),m=d.which,g=d.shiftKey===!0,h=hi.retrieve(n,o.selectedSelector()).fold(function(){return ap.isDown(m)&&g?e(Qv.select,i,n,r,np.down,l,a,o.selectRange):ap.isUp(m)&&g?e(Qv.select,i,n,r,np.up,l,a,o.selectRange):ap.isDown(m)?e(Qv.navigate,i,r,np.down,l,a,Qv.lastDownCheck):ap.isUp(m)?e(Qv.navigate,i,r,np.up,l,a,Qv.firstUpCheck):k.none},function(t){var e=function(e){return function(){var r=oa(e,function(e){return hh.update(e.rows(),e.cols(),n,t,o)});return r.fold(function(){return hi.getEdges(n,o.firstSelectedSelector(),o.lastSelectedSelector()).map(function(t){var e=ap.isDown(m)||s.isForward(m)?Fm.after:Fm.before;return i.setRelativeSelection(Fm.on(t.first(),0),e(t.table())),o.clear(n),uh.create(k.none(),!0)})},function(t){return k.some(uh.create(k.none(),!0))})}};return ap.isDown(m)&&g?e([mp(1,0)]):ap.isUp(m)&&g?e([mp(-1,0)]):s.isBackward(m)&&g?e([mp(0,-1),mp(-1,0)]):s.isForward(m)&&g?e([mp(0,1),mp(1,0)]):ap.isNavigation(m)&&g===!1?u:k.none});return h()},c=function(t,e,i,u,a){return hi.retrieve(n,o.selectedSelector()).fold(function(){var c=t.raw(),l=c.which,f=c.shiftKey===!0;return f===!1?k.none():ap.isNavigation(l)?hh.sync(n,r,e,i,u,a,o.selectRange):k.none()},k.none)};return{keydown:a,keyup:c}},vp={mouse:gp,keyboard:hp},pp=function(t,e){G(e,function(e){ba(t,e)})},bp=function(t){return function(e){va(e,t)}},wp=function(t){return function(e){pp(e,t)}},yp=function(t){var e=bp(t.selected()),n=wp([t.selected(),t.lastSelected(),t.firstSelected()]),r=function(e){var r=Kn(e,t.selectedSelector());G(r,n)},o=function(n,o,i,u){r(n),G(o,e),va(i,t.firstSelected()),va(u,t.lastSelected())};return{clear:r,selectRange:o,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},xp=function(t){var e=function(e){Mt(e,t.selected()),Mt(e,t.firstSelected()),Mt(e,t.lastSelected())},n=function(e){Bt(e,t.selected(),"1")},r=function(n){var r=Kn(n,t.selectedSelector());G(r,e)},o=function(e,o,i,u){r(e),G(o,n),Bt(i,t.firstSelected(),"1"),Bt(u,t.lastSelected(),"1")};return{clear:r,selectRange:o,selectedSelector:t.selectedSelector,firstSelectedSelector:t.firstSelectedSelector,lastSelectedSelector:t.lastSelectedSelector}},Cp={byClass:yp,byAttr:xp},Rp=function(t){return wa(Kt.fromDom(t.target),"ephox-snooker-resizer-bar")===!1},Sp=function(t){var e=function(){var e=Qf(t);return bi.retrieve(e,Di.selectedSelector()).fold(function(){return void 0===t.selection.getStart()?Ni.none():Ni.single(t.selection)},function(t){return Ni.multiple(t)})};return{get:e}},Tp=Ls.each,Dp=function(t){function e(e){return function(){t.execCommand(e)}}var n=[];Tp("inserttable tableprops deletetable | cell row column".split(" "),function(e){"|"===e?n.push({text:"-"}):n.push(t.menuItems[e])}),t.addButton("table",{type:"menubutton",title:"Table",menu:n}),t.addButton("tableprops",{title:"Table properties",onclick:e("mceTableProps"),icon:"table"}),t.addButton("tabledelete",{title:"Delete table",onclick:e("mceTableDelete")}),t.addButton("tablecellprops",{title:"Cell properties",onclick:e("mceTableCellProps")}),t.addButton("tablemergecells",{title:"Merge cells",onclick:e("mceTableMergeCells")}),t.addButton("tablesplitcells",{title:"Split cell",onclick:e("mceTableSplitCells")}),t.addButton("tableinsertrowbefore",{title:"Insert row before",onclick:e("mceTableInsertRowBefore")}),t.addButton("tableinsertrowafter",{title:"Insert row after",onclick:e("mceTableInsertRowAfter")}),t.addButton("tabledeleterow",{title:"Delete row",onclick:e("mceTableDeleteRow")}),t.addButton("tablerowprops",{title:"Row properties",onclick:e("mceTableRowProps")}),t.addButton("tablecutrow",{title:"Cut row",onclick:e("mceTableCutRow")}),t.addButton("tablecopyrow",{title:"Copy row",onclick:e("mceTableCopyRow")}),t.addButton("tablepasterowbefore",{title:"Paste row before",onclick:e("mceTablePasteRowBefore")}),t.addButton("tablepasterowafter",{title:"Paste row after",onclick:e("mceTablePasteRowAfter")}),t.addButton("tableinsertcolbefore",{title:"Insert column before",onclick:e("mceTableInsertColBefore")}),t.addButton("tableinsertcolafter",{title:"Insert column after",onclick:e("mceTableInsertColAfter")}),t.addButton("tabledeletecol",{title:"Delete column",onclick:e("mceTableDeleteCol")})},Ap=function(t){var e=function(e){var n=t.dom.is(e,"table")&&t.getBody().contains(e);return n},n=ks(t);n.length>0&&t.addContextToolbar(e,n.join(" "))},Op={addButtons:Dp,addToolbars:Ap},Ep=function(t,e){function n(e){return function(){t.execCommand(e)}}var r=k.none(),o=[],i=[],u=[],a=[],c=function(t){t.disabled(!0)},l=function(t){t.disabled(!1)},f=function(){var t=this;o.push(t),r.fold(function(){c(t)},function(e){l(t)})},s=function(){var t=this;i.push(t),r.fold(function(){c(t)},function(e){l(t)})},d=function(){var t=this;u.push(t),r.fold(function(){c(t)},function(e){t.disabled(e.mergable().isNone())})},m=function(){var t=this;a.push(t),r.fold(function(){c(t)},function(e){t.disabled(e.unmergable().isNone())})},g=function(){r.fold(function(){G(o,c),G(i,c),G(u,c),G(a,c)},function(t){G(o,l),G(i,l),G(u,function(e){e.disabled(t.mergable().isNone())}),G(a,function(e){e.disabled(t.unmergable().isNone())})})};t.on("init",function(){t.on("nodechange",function(n){var o=k.from(t.dom.getParent(t.selection.getStart(),"th,td"));r=o.bind(function(t){var n=Kt.fromDom(t),r=yr.table(n);return r.map(function(t){return Hi.forMenu(e,t,n)})}),g()})});var h=function(){var t="";t='<table role="grid" class="mce-grid mce-grid-border" aria-readonly="true">';for(var e=0;e<10;e++){t+="<tr>";for(var n=0;n<10;n++)t+='<td role="gridcell" tabindex="-1"><a id="mcegrid'+(10*e+n)+'" href="#" data-mce-x="'+n+'" data-mce-y="'+e+'"></a></td>';t+="</tr>"}return t+="</table>",t+='<div class="mce-text-center" role="presentation">1 x 1</div>'},v=function(t,e,n,r){var o,i,u,a,c,l=r.getEl().getElementsByTagName("table")[0],f=r.isRtl()||"tl-tr"===r.parent().rel;for(l.nextSibling.innerHTML=e+1+" x "+(n+1),f&&(e=9-e),i=0;i<10;i++)for(o=0;o<10;o++)a=l.rows[i].childNodes[o].firstChild,c=(f?o>=e:o<=e)&&i<=n,t.dom.toggleClass(a,"mce-active",c),c&&(u=a);return u.parentNode},p=xs(t)===!1?{text:"Table",icon:"table",context:"table",onclick:n("mceInsertTable")}:{text:"Table",icon:"table",context:"table",ariaHideMenu:!0,onclick:function(e){e.aria&&(this.parent().hideAll(),e.stopImmediatePropagation(),t.execCommand("mceInsertTable"))},onshow:function(){v(t,0,0,this.menu.items()[0])},onhide:function(){var e=this.menu.items()[0].getEl().getElementsByTagName("a");t.dom.removeClass(e,"mce-active"),t.dom.addClass(e[0],"mce-active")},menu:[{type:"container",html:h(),onPostRender:function(){this.lastX=this.lastY=0},onmousemove:function(e){var n,r,o=e.target;"A"===o.tagName.toUpperCase()&&(n=parseInt(o.getAttribute("data-mce-x"),10),r=parseInt(o.getAttribute("data-mce-y"),10),(this.isRtl()||"tl-tr"===this.parent().rel)&&(n=9-n),n===this.lastX&&r===this.lastY||(v(t,n,r,e.control),this.lastX=n,this.lastY=r))},onclick:function(e){var n=this;"A"===e.target.tagName.toUpperCase()&&(e.preventDefault(),e.stopPropagation(),n.parent().cancel(),t.undoManager.transact(function(){Cd.insert(t,n.lastX+1,n.lastY+1)}),t.addVisual())}}]},b={text:"Table properties",context:"table",onPostRender:f,onclick:n("mceTableProps")},w={text:"Delete table",context:"table",onPostRender:f,cmd:"mceTableDelete"},y={text:"Row",context:"table",menu:[{text:"Insert row before",onclick:n("mceTableInsertRowBefore"),onPostRender:s},{text:"Insert row after",onclick:n("mceTableInsertRowAfter"),onPostRender:s},{text:"Delete row",onclick:n("mceTableDeleteRow"),onPostRender:s},{text:"Row properties",onclick:n("mceTableRowProps"),onPostRender:s},{text:"-"},{text:"Cut row",onclick:n("mceTableCutRow"),onPostRender:s},{text:"Copy row",onclick:n("mceTableCopyRow"),onPostRender:s},{text:"Paste row before",onclick:n("mceTablePasteRowBefore"),onPostRender:s},{text:"Paste row after",onclick:n("mceTablePasteRowAfter"),
onPostRender:s}]},x={text:"Column",context:"table",menu:[{text:"Insert column before",onclick:n("mceTableInsertColBefore"),onPostRender:s},{text:"Insert column after",onclick:n("mceTableInsertColAfter"),onPostRender:s},{text:"Delete column",onclick:n("mceTableDeleteCol"),onPostRender:s}]},C={separator:"before",text:"Cell",context:"table",menu:[{text:"Cell properties",onclick:n("mceTableCellProps"),onPostRender:s},{text:"Merge cells",onclick:n("mceTableMergeCells"),onPostRender:d},{text:"Split cell",onclick:n("mceTableSplitCells"),onPostRender:m}]};t.addMenuItem("inserttable",p),t.addMenuItem("tableprops",b),t.addMenuItem("deletetable",w),t.addMenuItem("row",y),t.addMenuItem("column",x),t.addMenuItem("cell",C)},kp={addMenuItems:Ep},Np=function(t){return t.get().fold(function(){},function(t){return q(t,function(t){return t.dom()})})},Bp=function(t,e){var n=q(t,Kt.fromDom);e.set(k.from(n))},Pp=function(t,e){return{insertTable:function(e,n){return Cd.insert(t,e,n)},setClipboardRows:function(t){return Bp(t,e)},getClipboardRows:function(){return Np(e)}}};return p.add("table",h),v})(window)}();
},{}],"tinymce/plugins/textcolor/plugin.js":[function(require,module,exports){
!function(){(function(){"use strict";function t(){}var o=tinymce.util.Tools.resolve("tinymce.PluginManager"),e=function(t,o){var e;return t.dom.getParents(t.selection.getStart(),function(t){var r;(r=t.style["forecolor"===o?"color":"background-color"])&&(e=e?e:r)}),e},r=function(t){var o,e=[];for(o=0;o<t.length;o+=2)e.push({text:t[o+1],color:"#"+t[o]});return e},n=function(t,o,e){t.undoManager.transact(function(){t.focus(),t.formatter.apply(o,{value:e}),t.nodeChanged()})},l=function(t,o){t.undoManager.transact(function(){t.focus(),t.formatter.remove(o,{value:null},null,!0),t.nodeChanged()})},a={getCurrentColor:e,mapColors:r,applyFormat:n,removeFormat:l},c=function(t){t.addCommand("mceApplyTextcolor",function(o,e){a.applyFormat(t,o,e)}),t.addCommand("mceRemoveTextcolor",function(o){a.removeFormat(t,o)})},i={register:c},u=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),s=tinymce.util.Tools.resolve("tinymce.util.Tools"),m=["000000","Black","993300","Burnt orange","333300","Dark olive","003300","Dark green","003366","Dark azure","000080","Navy Blue","333399","Indigo","333333","Very dark gray","800000","Maroon","FF6600","Orange","808000","Olive","008000","Green","008080","Teal","0000FF","Blue","666699","Grayish blue","808080","Gray","FF0000","Red","FF9900","Amber","99CC00","Yellow green","339966","Sea green","33CCCC","Turquoise","3366FF","Royal blue","800080","Purple","999999","Medium gray","FF00FF","Magenta","FFCC00","Gold","FFFF00","Yellow","00FF00","Lime","00FFFF","Aqua","00CCFF","Sky blue","993366","Red violet","FFFFFF","White","FF99CC","Pink","FFCC99","Peach","FFFF99","Light yellow","CCFFCC","Pale green","CCFFFF","Pale cyan","99CCFF","Light sky blue","CC99FF","Plum"],g=function(t){return t.getParam("textcolor_map",m)},d=function(t){return t.getParam("forecolor_map",g(t))},f=function(t){return t.getParam("backcolor_map",g(t))},C=function(t){return t.getParam("textcolor_rows",5)},F=function(t){return t.getParam("textcolor_cols",8)},b=function(t){return t.getParam("forecolor_rows",C(t))},p=function(t){return t.getParam("backcolor_rows",C(t))},y=function(t){return t.getParam("forecolor_cols",F(t))},k=function(t){return t.getParam("backcolor_cols",F(t))},v=function(t){return t.getParam("color_picker_callback",null)},h=function(t){return"function"==typeof v(t)},P={getForeColorMap:d,getBackColorMap:f,getForeColorRows:b,getBackColorRows:p,getForeColorCols:y,getBackColorCols:k,getColorPickerCallback:v,hasColorPicker:h},x=tinymce.util.Tools.resolve("tinymce.util.I18n"),B=function(t,o,e,r){var n,l,c,i,s,m,g,d=0,f=u.DOM.uniqueId("mcearia"),C=function(t,o){var e="transparent"===t;return'<td class="mce-grid-cell'+(e?" mce-colorbtn-trans":"")+'"><div id="'+f+"-"+d++ +'" data-mce-color="'+(t?t:"")+'" role="option" tabIndex="-1" style="'+(t?"background-color: "+t:"")+'" title="'+x.translate(o)+'">'+(e?"&#215;":"")+"</div></td>"};for(n=a.mapColors(e),n.push({text:x.translate("No color"),color:"transparent"}),c='<table class="mce-grid mce-grid-border mce-colorbutton-grid" role="list" cellspacing="0"><tbody>',i=n.length-1,m=0;m<o;m++){for(c+="<tr>",s=0;s<t;s++)g=m*t+s,g>i?c+="<td></td>":(l=n[g],c+=C(l.color,l.text));c+="</tr>"}if(r){for(c+='<tr><td colspan="'+t+'" class="mce-custom-color-btn"><div id="'+f+'-c" class="mce-widget mce-btn mce-btn-small mce-btn-flat" role="button" tabindex="-1" aria-labelledby="'+f+'-c" style="width: 100%"><button type="button" role="presentation" tabindex="-1">'+x.translate("Custom...")+"</button></div></td></tr>",c+="<tr>",s=0;s<t;s++)c+=C("","Custom color");c+="</tr>"}return c+="</tbody></table>"},T={getHtml:B},w=function(t,o){t.style.background=o,t.setAttribute("data-mce-color",o)},M=function(t){return function(o){var e=o.control;e._color?t.execCommand("mceApplyTextcolor",e.settings.format,e._color):t.execCommand("mceRemoveTextcolor",e.settings.format)}},_=function(t,o){return function(e){var r,n=this.parent(),l=a.getCurrentColor(t,n.settings.format),c=function(o){t.execCommand("mceApplyTextcolor",n.settings.format,o),n.hidePanel(),n.color(o)},i=function(){t.execCommand("mceRemoveTextcolor",n.settings.format),n.hidePanel(),n.resetColor()};if(u.DOM.getParent(e.target,".mce-custom-color-btn")){n.hidePanel();var m=P.getColorPickerCallback(t);m.call(t,function(t){var e,r,l,a=n.panel.getEl().getElementsByTagName("table")[0];for(e=s.map(a.rows[a.rows.length-1].childNodes,function(t){return t.firstChild}),l=0;l<e.length&&(r=e[l],r.getAttribute("data-mce-color"));l++);if(l===o)for(l=0;l<o-1;l++)w(e[l],e[l+1].getAttribute("data-mce-color"));w(r,t),c(t)},l)}r=e.target.getAttribute("data-mce-color"),r?(this.lastId&&u.DOM.get(this.lastId).setAttribute("aria-selected","false"),e.target.setAttribute("aria-selected",!0),this.lastId=e.target.id,"transparent"===r?i():c(r)):null!==r&&n.hidePanel()}},R=function(t,o){return function(){var e=o?P.getForeColorCols(t):P.getBackColorCols(t),r=o?P.getForeColorRows(t):P.getBackColorRows(t),n=o?P.getForeColorMap(t):P.getBackColorMap(t),l=P.hasColorPicker(t);return T.getHtml(e,r,n,l)}},A=function(t){t.addButton("forecolor",{type:"colorbutton",tooltip:"Text color",format:"forecolor",panel:{role:"application",ariaRemember:!0,html:R(t,!0),onclick:_(t,P.getForeColorCols(t))},onclick:M(t)}),t.addButton("backcolor",{type:"colorbutton",tooltip:"Background color",format:"hilitecolor",panel:{role:"application",ariaRemember:!0,html:R(t,!1),onclick:_(t,P.getBackColorCols(t))},onclick:M(t)})},D={register:A};return o.add("textcolor",function(t){i.register(t),D.register(t)}),t})()}();
},{}],"tinymce/themes/modern/theme.js":[function(require,module,exports){
!function(){(function(e){"use strict";function t(t,n,i){var r,o,s,a,l,u,c,d,f,h;return f=Yt(),o=It.getPos(n,Te.getUiContainer(t)),s=o.x,a=o.y,Ut(t)&&Ft(e.document.body)&&(s-=f.x,a-=f.y),r=t.getEl(),h=It.getSize(r),l=h.width,u=h.height,h=It.getSize(n),c=h.width,d=h.height,i=(i||"").split(""),"b"===i[0]&&(a+=d),"r"===i[1]&&(s+=c),"c"===i[0]&&(a+=Math.round(d/2)),"c"===i[1]&&(s+=Math.round(c/2)),"b"===i[3]&&(a-=u),"r"===i[4]&&(s-=l),"c"===i[3]&&(a-=Math.round(u/2)),"c"===i[4]&&(s-=Math.round(l/2)),{x:s,y:a,w:l,h:u}}function n(){}function i(e){this.cls=[],this.cls._map={},this.onchange=e||n,this.prefix=""}function r(e){for(var t,n=[],i=e.length;i--;)t=e[i],t.__checked||(n.push(t),t.__checked=1);for(i=n.length;i--;)delete n[i].__checked;return n}function o(e){return e.nodeType>0}function s(e,t){var n,i;if(e===t)return!0;if(null===e||null===t)return e===t;if("object"!=typeof e||"object"!=typeof t)return e===t;if(O.isArray(t)){if(e.length!==t.length)return!1;for(n=e.length;n--;)if(!s(e[n],t[n]))return!1}if(o(e)||o(t))return e===t;i={};for(n in t){if(!s(e[n],t[n]))return!1;i[n]=!0}for(n in e)if(!i[n]&&!s(e[n],t[n]))return!1;return!0}function a(e){return e._eventDispatcher||(e._eventDispatcher=new jt({scope:e,toggleEvent:function(t,n){n&&jt.isNative(t)&&(e._nativeEvents||(e._nativeEvents={}),e._nativeEvents[t]=!0,e.state.get("rendered")&&l(e))}})),e._eventDispatcher}function l(e){function t(t){var n=e.getParentCtrl(t.target);n&&n.fire(t.type,t)}function n(){var e=l._lastHoverCtrl;e&&(e.fire("mouseleave",{target:e.getEl()}),e.parents().each(function(e){e.fire("mouseleave",{target:e.getEl()})}),l._lastHoverCtrl=null)}function i(t){var n,i,r,o=e.getParentCtrl(t.target),s=l._lastHoverCtrl,a=0;if(o!==s){if(l._lastHoverCtrl=o,i=o.parents().toArray().reverse(),i.push(o),s){for(r=s.parents().toArray().reverse(),r.push(s),a=0;a<r.length&&i[a]===r[a];a++);for(n=r.length-1;n>=a;n--)s=r[n],s.fire("mouseleave",{target:s.getEl()})}for(n=a;n<i.length;n++)o=i[n],o.fire("mouseenter",{target:o.getEl()})}}function r(t){t.preventDefault(),"mousewheel"===t.type?(t.deltaY=-.025*t.wheelDelta,t.wheelDeltaX&&(t.deltaX=-.025*t.wheelDeltaX)):(t.deltaX=0,t.deltaY=t.detail),t=e.fire("wheel",t)}var o,s,a,l,u,c;if(u=e._nativeEvents){for(a=e.parents().toArray(),a.unshift(e),o=0,s=a.length;!l&&o<s;o++)l=a[o]._eventsRoot;for(l||(l=a[a.length-1]||e),e._eventsRoot=l,s=o,o=0;o<s;o++)a[o]._eventsRoot=l;var d=l._delegates;d||(d=l._delegates={});for(c in u){if(!u)return!1;"wheel"!==c||gn?("mouseenter"===c||"mouseleave"===c?l._hasMouseEnter||(zt(l.getEl()).on("mouseleave",n).on("mouseover",i),l._hasMouseEnter=1):d[c]||(zt(l.getEl()).on(c,t),d[c]=!0),u[c]=!1):mn?zt(e.getEl()).on("mousewheel",r):zt(e.getEl()).on("DOMMouseScroll",r)}}}function u(t){function n(e){return e&&1===e.nodeType}function i(e){return e=e||x,n(e)?e.getAttribute("role"):null}function r(e){for(var t,n=e||x;n=n.parentNode;)if(t=i(n))return t}function o(e){var t=x;if(n(t))return t.getAttribute("aria-"+e)}function s(e){var t=e.tagName.toUpperCase();return"INPUT"===t||"TEXTAREA"===t||"SELECT"===t}function a(e){return!(!s(e)||e.hidden)||(!!Cn(e)||!!/^(button|menuitem|checkbox|tab|menuitemcheckbox|option|gridcell|slider)$/.test(i(e)))}function l(e){function t(e){if(1===e.nodeType&&"none"!==e.style.display&&!e.disabled){a(e)&&n.push(e);for(var i=0;i<e.childNodes.length;i++)t(e.childNodes[i])}}var n=[];return t(e||_.getEl()),n}function u(e){var t,n;e=e||w,n=e.parents().toArray(),n.unshift(e);for(var i=0;i<n.length&&(t=n[i],!t.settings.ariaRoot);i++);return t}function c(e){var t=u(e),n=l(t.getEl());t.settings.ariaRemember&&"lastAriaIndex"in t?d(t.lastAriaIndex,n):d(0,n)}function d(e,t){return e<0?e=t.length-1:e>=t.length&&(e=0),t[e]&&t[e].focus(),e}function f(e,t){var n=-1,i=u();t=t||l(i.getEl());for(var r=0;r<t.length;r++)t[r]===x&&(n=r);n+=e,i.lastAriaIndex=d(n,t)}function h(){var e=r();"tablist"===e?f(-1,l(x.parentNode)):w.parent().submenu?b():f(-1)}function m(){var e=i(),t=r();"tablist"===t?f(1,l(x.parentNode)):"menuitem"===e&&"menu"===t&&o("haspopup")?y():f(1)}function g(){f(-1)}function p(){var e=i(),t=r();"menuitem"===e&&"menubar"===t?y():"button"===e&&o("haspopup")?y({key:"down"}):f(1)}function v(e){var t=r();if("tablist"===t){var n=l(w.getEl("body"))[0];n&&n.focus()}else f(e.shiftKey?-1:1)}function b(){w.fire("cancel")}function y(e){e=e||{},w.fire("click",{target:x,aria:e})}var x,w,_=t.root;try{x=e.document.activeElement}catch(R){x=e.document.body}return w=_.getParentCtrl(x),_.on("keydown",function(e){function t(e,t){s(x)||Cn(x)||"slider"!==i(x)&&t(e)!==!1&&e.preventDefault()}if(!e.isDefaultPrevented())switch(e.keyCode){case 37:t(e,h);break;case 39:t(e,m);break;case 38:t(e,g);break;case 40:t(e,p);break;case 27:b();break;case 14:case 13:case 32:t(e,y);break;case 9:v(e),e.preventDefault()}}),_.on("focusin",function(e){x=e.target,w=e.control}),{focusFirst:c}}function c(e){var t,n,i,r,o,s,a,l,u=Math.max;return t=e.documentElement,n=e.body,i=u(t.scrollWidth,n.scrollWidth),r=u(t.clientWidth,n.clientWidth),o=u(t.offsetWidth,n.offsetWidth),s=u(t.scrollHeight,n.scrollHeight),a=u(t.clientHeight,n.clientHeight),l=u(t.offsetHeight,n.offsetHeight),{width:i<o?r:i,height:s<l?a:s}}function d(e){var t,n;if(e.changedTouches)for(t="screenX screenY pageX pageY clientX clientY".split(" "),n=0;n<t.length;n++)e[t[n]]=e.changedTouches[0][t[n]]}function f(t,n){var i,r,o,s,a,l,u,f=n.document||e.document;n=n||{};var h=f.getElementById(n.handle||t);o=function(t){var o,m,g=c(f);d(t),t.preventDefault(),r=t.button,o=h,l=t.screenX,u=t.screenY,m=e.window.getComputedStyle?e.window.getComputedStyle(o,null).getPropertyValue("cursor"):o.runtimeStyle.cursor,i=zt("<div></div>").css({position:"absolute",top:0,left:0,width:g.width,height:g.height,zIndex:2147483647,opacity:1e-4,cursor:m}).appendTo(f.body),zt(f).on("mousemove touchmove",a).on("mouseup touchend",s),n.start(t)},a=function(e){return d(e),e.button!==r?s(e):(e.deltaX=e.screenX-l,e.deltaY=e.screenY-u,e.preventDefault(),void n.drag(e))},s=function(e){d(e),zt(f).off("mousemove touchmove",a).off("mouseup touchend",s),i.remove(),n.stop&&n.stop(e)},this.destroy=function(){zt(h).off()},zt(h).on("mousedown touchstart",o)}function h(e,t){for(;e;){if(e===t)return!0;e=e.parent()}}function m(e){for(var t=Mn.length;t--;){var n=Mn[t],i=n.getParentCtrl(e.target);if(n.settings.autohide){if(i&&(h(i,n)||n.parent()===i))continue;e=n.fire("autohide",{target:e.target}),e.isDefaultPrevented()||n.hide()}}}function g(){yn||(yn=function(e){2!==e.button&&m(e)},zt(e.document).on("click touchstart",yn))}function p(){xn||(xn=function(){var e;for(e=Mn.length;e--;)b(Mn[e])},zt(e.window).on("scroll",xn))}function v(){if(!wn){var t=e.document.documentElement,n=t.clientWidth,i=t.clientHeight;wn=function(){e.document.all&&n===t.clientWidth&&i===t.clientHeight||(n=t.clientWidth,i=t.clientHeight,Pn.hideAll())},zt(e.window).on("resize",wn)}}function b(e){function t(t,n){for(var i,r=0;r<Mn.length;r++)if(Mn[r]!==e)for(i=Mn[r].parent();i&&(i=i.parent());)i===e&&Mn[r].fixed(t).moveBy(0,n).repaint()}var n=It.getViewPort().y;e.settings.autofix&&(e.state.get("fixed")?e._autoFixY>n&&(e.fixed(!1).layoutRect({y:e._autoFixY}).repaint(),t(!1,e._autoFixY-n)):(e._autoFixY=e.layoutRect().y,e._autoFixY<n&&(e.fixed(!0).layoutRect({y:0}).repaint(),t(!0,n-e._autoFixY))))}function y(e,t){var n,i,r=Pn.zIndex||65535;if(e)Nn.push(t);else for(n=Nn.length;n--;)Nn[n]===t&&Nn.splice(n,1);if(Nn.length)for(n=0;n<Nn.length;n++)Nn[n].modal&&(r++,i=Nn[n]),Nn[n].getEl().style.zIndex=r,Nn[n].zIndex=r,r++;var o=zt("#"+t.classPrefix+"modal-block",t.getContainerElm())[0];i?zt(o).css("z-index",i.zIndex-1):o&&(o.parentNode.removeChild(o),_n=!1),Pn.currentZIndex=r}function x(e){var t;for(t=Mn.length;t--;)Mn[t]===e&&Mn.splice(t,1);for(t=Nn.length;t--;)Nn[t]===e&&Nn.splice(t,1)}function w(e,t){var n,i,r=this,o=Rn.classPrefix;r.show=function(s,a){function l(){n&&(zt(e).append('<div class="'+o+"throbber"+(t?" "+o+"throbber-inline":"")+'"></div>'),a&&a())}return r.hide(),n=!0,s?i=me.setTimeout(l,s):l(),r},r.hide=function(){var t=e.lastChild;return me.clearTimeout(i),t&&t.className.indexOf("throbber")!==-1&&t.parentNode.removeChild(t),n=!1,r}}function _(e){var t=function(e){return e.inline?e.getElement():e.getContentAreaContainer()},n=function(){var n=t(e);return It.getSize(n).width},i=function(e){Ze(e,function(e){e.moveTo(0,0)})},r=function(n){if(n.length>0){var i=n.slice(0,1)[0],r=t(e);i.moveRel(r,"tc-tc"),Ze(n,function(e,t){t>0&&e.moveRel(n[t-1].getEl(),"bc-tc")})}},o=function(e){i(e),r(e)},s=function(e,t){var i=O.extend(e,{maxWidth:n()}),r=new Yn(i);return r.args=i,i.timeout>0&&(r.timer=setTimeout(function(){r.close(),t()},i.timeout)),r.on("close",function(){t()}),r.renderTo(),r},a=function(e){e.close()},l=function(e){return e.args};return{open:s,close:a,reposition:o,getArgs:l}}function R(t){var n,i="width=device-width,initial-scale=1.0,user-scalable=0,minimum-scale=1.0,maximum-scale=1.0",r=zt("meta[name=viewport]")[0];yt.overrideViewPort!==!1&&(r||(r=e.document.createElement("meta"),r.setAttribute("name","viewport"),e.document.getElementsByTagName("head")[0].appendChild(r)),n=r.getAttribute("content"),n&&"undefined"!=typeof qn&&(qn=n),r.setAttribute("content",t?i:qn))}function C(t,n){E()&&n===!1&&zt([e.document.documentElement,e.document.body]).removeClass(t+"fullscreen")}function E(){for(var e=0;e<$n.length;e++)if($n[e]._fullscreen)return!0;return!1}function k(){function t(){var e,t,n=It.getWindowSize();for(e=0;e<$n.length;e++)t=$n[e].layoutRect(),$n[e].moveTo($n[e].settings.x||Math.max(0,n.w/2-t.w/2),$n[e].settings.y||Math.max(0,n.h/2-t.h/2))}if(!yt.desktop){var n={w:e.window.innerWidth,h:e.window.innerHeight};me.setInterval(function(){var t=e.window.innerWidth,i=e.window.innerHeight;n.w===t&&n.h===i||(n={w:t,h:i},zt(e.window).trigger("resize"))},100)}zt(e.window).on("resize",t)}function H(t){var n=function(t,n,i){var r;return t.title=t.title||" ",t.url=t.url||t.file,t.url&&(t.width=parseInt(t.width||320,10),t.height=parseInt(t.height||240,10)),t.body&&(t.items={defaults:t.defaults,type:t.bodyType||"form",items:t.body,data:t.data,callbacks:t.commands}),t.url||t.buttons||(t.buttons=[{text:"Ok",subtype:"primary",onclick:function(){r.find("form")[0].submit()}},{text:"Cancel",onclick:function(){r.close()}}]),r=new Xn(t),r.on("close",function(){i(r)}),t.data&&r.on("postRender",function(){this.find("*").each(function(e){var n=e.name();n in t.data&&e.value(t.data[n])})}),r.features=t||{},r.params=n||{},r=r.renderTo(e.document.body).reflow()},i=function(e,t,n){var i;return i=jn.alert(e,function(){t()}),i.on("close",function(){n(i)}),i},r=function(e,t,n){var i;return i=jn.confirm(e,function(e){t(e)}),i.on("close",function(){n(i)}),i},o=function(e){e.close()},s=function(e){return e.params},a=function(e,t){e.params=t};return{open:n,alert:i,confirm:r,close:o,getParams:s,setParams:a}}function T(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1}function S(e){var t="";if(e)for(var n=0;n<e.length;n++)t+='<option value="'+e[n]+'">'+e[n]+"</option>";return t}function M(e,t,n){return e<t&&(e=t),e>n&&(e=n),e}function N(e,t,n){e.setAttribute("aria-"+t,n)}function P(e,t){var n,i,r,o,s,a;"v"===e.settings.orientation?(o="top",r="height",i="h"):(o="left",r="width",i="w"),a=e.getEl("handle"),n=(e.layoutRect()[i]||100)-It.getSize(a)[r],s=n*((t-e._minValue)/(e._maxValue-e._minValue))+"px",a.style[o]=s,a.style.height=e.layoutRect().h+"px",N(a,"valuenow",t),N(a,"valuetext",""+e.settings.previewFilter(t)),N(a,"valuemin",e._minValue),N(a,"valuemax",e._maxValue)}function W(){}var D=tinymce.util.Tools.resolve("tinymce.ThemeManager"),B=tinymce.util.Tools.resolve("tinymce.EditorManager"),O=tinymce.util.Tools.resolve("tinymce.util.Tools"),A=function(e){return e.getParam("branding",!0,"boolean")},z=function(e){return L(e)!==!1},L=function(e){return e.getParam("menubar")},I=function(e){return e.getParam("statusbar",!0,"boolean")},F=function(e){return e.getParam("toolbar_items_size")},U=function(e){return e.getParam("readonly",!1,"boolean")},V=function(e){return e.getParam("fixed_toolbar_container")},Y=function(e){return e.getParam("inline_toolbar_position_handler")},$=function(e){return e.getParam("menu")},q=function(e){return e.getParam("removed_menuitems","")},X=function(e){return e.getParam("min_width",100,"number")},j=function(e){return e.getParam("min_height",100,"number")},J=function(e){return e.getParam("max_width",65535,"number")},G=function(e){return e.getParam("max_height",65535,"number")},K=function(e){return e.settings.skin===!1},Z=function(e){return e.getParam("inline",!1,"boolean")},Q=function(e){var t=e.getParam("resize","vertical");return t===!1?"none":"both"===t?"both":"vertical"},ee=function(e){var t=e.settings,n=t.skin,i=t.skin_url;if(n!==!1){var r=n?n:"lightgray";i=i?e.documentBaseURI.toAbsolute(i):B.baseURL+"/skins/"+r}return i},te=function(e,t){for(var n=[],i=1;i<10;i++){var r=e["toolbar"+i];if(!r)break;n.push(r)}var o=e.toolbar?[e.toolbar]:[t];return n.length>0?n:o},ne=function(e){var t=e.getParam("toolbar"),n="undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image";return t===!1?[]:O.isArray(t)?O.grep(t,function(e){return e.length>0}):te(e.settings,n)},ie=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),re=tinymce.util.Tools.resolve("tinymce.ui.Factory"),oe=tinymce.util.Tools.resolve("tinymce.util.I18n"),se=function(e){return e.fire("SkinLoaded")},ae=function(e){return e.fire("ResizeEditor")},le=function(e){return e.fire("BeforeRenderUI")},ue={fireSkinLoaded:se,fireResizeEditor:ae,fireBeforeRenderUI:le},ce=function(e,t){return function(){var n=e.find(t)[0];n&&n.focus(!0)}},de=function(e,t){e.shortcuts.add("Alt+F9","",ce(t,"menubar")),e.shortcuts.add("Alt+F10,F10","",ce(t,"toolbar")),e.shortcuts.add("Alt+F11","",ce(t,"elementpath")),t.on("cancel",function(){e.focus()})},fe={addKeys:de},he=tinymce.util.Tools.resolve("tinymce.geom.Rect"),me=tinymce.util.Tools.resolve("tinymce.util.Delay"),ge=function(){},pe=function(e){return function(){return e}},ve=pe(!1),be=pe(!0),ye=function(){return xe},xe=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},i={fold:function(e,t){return e()},is:ve,isSome:ve,isNone:be,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:pe(null),getOrUndefined:pe(void 0),or:n,orThunk:t,map:ye,each:ge,bind:ye,exists:ve,forall:be,filter:ye,equals:e,equals_:e,toArray:function(){return[]},toString:pe("none()")};return Object.freeze&&Object.freeze(i),i}(),we=function(e){var t=pe(e),n=function(){return r},i=function(t){return t(e)},r={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:be,isNone:ve,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return we(t(e))},each:function(t){t(e)},bind:i,exists:i,forall:i,filter:function(t){return t(e)?r:xe},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(ve,function(t){return n(e,t)})}};return r},_e=function(e){return null===e||void 0===e?xe:we(e)},Re={some:we,none:ye,from:_e},Ce=function(e){var t=ke(e);if(t&&"static"!==ie.DOM.getStyle(t,"position",!0)){var n=ie.DOM.getPos(t),i=t.scrollLeft-n.x,r=t.scrollTop-n.y;return Re.some({x:i,y:r})}return Re.none()},Ee=function(e,t){var n=ie.DOM.select(e.settings.ui_container)[0];t.getRoot().uiContainer=n},ke=function(e){return e?e.getRoot().uiContainer:null},He=function(e,t){return t.uiContainer=ke(e)},Te={getUiContainerDelta:Ce,setUiContainer:Ee,getUiContainer:ke,inheritUiContainer:He},Se=function(e,t,n){var i,r=[];if(t)return O.each(t.split(/[ ,]/),function(t){var o,s=function(){var n=e.selection;t.settings.stateSelector&&n.selectorChanged(t.settings.stateSelector,function(e){t.active(e)},!0),t.settings.disabledStateSelector&&n.selectorChanged(t.settings.disabledStateSelector,function(e){t.disabled(e)})};"|"===t?i=null:(i||(i={type:"buttongroup",items:[]},r.push(i)),e.buttons[t]&&(o=t,t=e.buttons[o],"function"==typeof t&&(t=t()),t.type=t.type||"button",t.size=n,t=re.create(t),i.items.push(t),e.initialized?s():e.on("init",s)))}),{type:"toolbar",layout:"flow",items:r}},Me=function(e,t){var n=[],i=function(i){i&&n.push(Se(e,i,t))};if(O.each(ne(e),function(e){i(e)}),n.length)return{type:"panel",layout:"stack",classes:"toolbar-grp",ariaRoot:!0,ariaRemember:!0,items:n}},Ne={createToolbar:Se,createToolbars:Me},Pe=ie.DOM,We=function(e){return{left:e.x,top:e.y,width:e.w,height:e.h,right:e.x+e.w,bottom:e.y+e.h}},De=function(e){O.each(e.contextToolbars,function(e){e.panel&&e.panel.hide()})},Be=function(e,t){e.moveTo(t.left,t.top)},Oe=function(e,t,n){t=t?t.substr(0,2):"",O.each({t:"down",b:"up"},function(i,r){e.classes.toggle("arrow-"+i,n(r,t.substr(0,1)))}),O.each({l:"left",r:"right"},function(i,r){e.classes.toggle("arrow-"+i,n(r,t.substr(1,1)))})},Ae=function(e,t,n,i,r,o){return o=We({x:t,y:n,w:o.w,h:o.h}),e&&(o=e({elementRect:We(i),contentAreaRect:We(r),panelRect:o})),o},ze=function(e){var t,n=function(){return e.contextToolbars||[]},i=function(t){var n,i,r;return n=Pe.getPos(e.getContentAreaContainer()),i=e.dom.getRect(t),r=e.dom.getRoot(),"BODY"===r.nodeName&&(i.x-=r.ownerDocument.documentElement.scrollLeft||r.scrollLeft,i.y-=r.ownerDocument.documentElement.scrollTop||r.scrollTop),i.x+=n.x,i.y+=n.y,i},r=function(t,n){var r,o,s,a,l,u,c,d,f=Y(e);if(!e.removed){if(!t||!t.toolbar.panel)return void De(e);c=["bc-tc","tc-bc","tl-bl","bl-tl","tr-br","br-tr"],l=t.toolbar.panel,n&&l.show(),s=i(t.element),o=Pe.getRect(l.getEl()),a=Pe.getRect(e.getContentAreaContainer()||e.getBody());var h=Te.getUiContainerDelta(l).getOr({x:0,y:0});if(s.x+=h.x,s.y+=h.y,o.x+=h.x,o.y+=h.y,a.x+=h.x,a.y+=h.y,d=25,"inline"!==Pe.getStyle(t.element,"display",!0)){var m=t.element.getBoundingClientRect();s.w=m.width,s.h=m.height}e.inline||(a.w=e.getDoc().documentElement.offsetWidth),e.selection.controlSelection.isResizable(t.element)&&s.w<d&&(s=he.inflate(s,0,8)),r=he.findBestRelativePosition(o,s,a,c),s=he.clamp(s,a),r?(u=he.relativePosition(o,s,r),Be(l,Ae(f,u.x,u.y,s,a,o))):(a.h+=o.h,s=he.intersect(a,s),s?(r=he.findBestRelativePosition(o,s,a,["bc-tc","bl-tl","br-tr"]),r?(u=he.relativePosition(o,s,r),Be(l,Ae(f,u.x,u.y,s,a,o))):Be(l,Ae(f,s.x,s.y,s,a,o))):l.hide()),Oe(l,r,function(e,t){return e===t})}},o=function(t){return function(){var n=function(){e.selection&&r(u(e.selection.getNode()),t)};me.requestAnimationFrame(n)}},s=function(n){if(!t){var i=o(!0),r=Te.getUiContainer(n);t=e.selection.getScrollContainer()||e.getWin(),Pe.bind(t,"scroll",i),Pe.bind(r,"scroll",i),e.on("remove",function(){Pe.unbind(t,"scroll",i),Pe.unbind(r,"scroll",i)})}},a=function(t){var n;return t.toolbar.panel?(t.toolbar.panel.show(),void r(t)):(n=re.create({type:"floatpanel",role:"dialog",classes:"tinymce tinymce-inline arrow",ariaLabel:"Inline toolbar",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:!0,border:1,items:Ne.createToolbar(e,t.toolbar.items),oncancel:function(){e.focus()}}),Te.setUiContainer(e,n),s(n),t.toolbar.panel=n,n.renderTo().reflow(),void r(t))},l=function(){O.each(n(),function(e){e.panel&&e.panel.hide()})},u=function(t){var i,r,o,s=n();for(o=e.$(t).parents().add(t),i=o.length-1;i>=0;i--)for(r=s.length-1;r>=0;r--)if(s[r].predicate(o[i]))return{toolbar:s[r],element:o[i]};return null};e.on("click keyup setContent ObjectResized",function(t){("setcontent"!==t.type||t.selection)&&me.setEditorTimeout(e,function(){var t;t=u(e.selection.getNode()),t?(l(),a(t)):l()})}),e.on("blur hide contextmenu",l),e.on("ObjectResizeStart",function(){var t=u(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.hide()}),e.on("ResizeEditor ResizeWindow",o(!0)),e.on("nodeChange",o(!1)),e.on("remove",function(){O.each(n(),function(e){e.panel&&e.panel.remove()}),e.contextToolbars={}}),e.shortcuts.add("ctrl+F9","",function(){var t=u(e.selection.getNode());t&&t.toolbar.panel&&t.toolbar.panel.items()[0].focus()})},Le={addContextualToolbars:ze},Ie=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},Fe=function(e){return function(t){return Ie(t)===e}},Ue=Fe("array"),Ve=Fe("function"),Ye=Fe("number"),$e=Array.prototype.slice,qe=Array.prototype.indexOf,Xe=Array.prototype.push,je=function(e,t){return qe.call(e,t)},Je=function(e,t){var n=je(e,t);return n===-1?Re.none():Re.some(n)},Ge=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(t(r,n))return!0}return!1},Ke=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;r++){var o=e[r];i[r]=t(o,r)}return i},Ze=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];t(r,n)}},Qe=function(e,t){for(var n=[],i=0,r=e.length;i<r;i++){var o=e[i];t(o,i)&&n.push(o)}return n},et=function(e,t,n){return Ze(e,function(e){n=t(n,e)}),n},tt=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(t(r,n))return Re.some(r)}return Re.none()},nt=function(e,t){for(var n=0,i=e.length;n<i;n++){var r=e[n];if(t(r,n))return Re.some(n)}return Re.none()},it=function(e){for(var t=[],n=0,i=e.length;n<i;++n){if(!Ue(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);Xe.apply(t,e[n])}return t},rt=(Ve(Array.from)?Array.from:function(e){return $e.call(e)},{file:{title:"File",items:"newdocument restoredraft | preview | print"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen"},insert:{title:"Insert",items:"image link media template codesample inserttable | charmap hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | blockformats align | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code"},table:{title:"Table"},help:{title:"Help"}}),ot=function(){return{name:"|",item:{text:"|"}}},st=function(e,t){var n=t?{name:e,item:t}:null;return"|"===e?ot():n},at=function(e,t){return nt(e,function(e){return e.name===t}).isSome()},lt=function(e){return e&&"|"===e.item.text},ut=function(e,t){var n=Qe(e,function(e){return t.hasOwnProperty(e.name)===!1}),i=Qe(n,function(e,t){return!lt(e)||!lt(n[t-1])});return Qe(i,function(e,t){return!lt(e)||t>0&&t<i.length-1})},ct=function(e,t,n,i){var r,o,s,a;return t?(o=t[i],a=!0):o=rt[i],o&&(r={text:o.title},s=[],O.each((o.items||"").split(/[ ,]/),function(t){var n=st(t,e[t]);n&&s.push(n)}),a||O.each(e,function(e,t){e.context!==i||at(s,t)||("before"===e.separator&&s.push(ot()),e.prependToContext?s.unshift(st(t,e)):s.push(st(t,e)),"after"===e.separator&&s.push(ot()))}),r.menu=Ke(ut(s,n),function(e){return e.item}),!r.menu.length)?null:r},dt=function(e){var t,n=[],i=$(e);if(i)for(t in i)n.push(t);else for(t in rt)n.push(t);return n},ft=function(e){for(var t=[],n=dt(e),i=O.makeMap(q(e).split(/[ ,]/)),r=L(e),o="string"==typeof r?r.split(/[ ,]/):n,s=0;s<o.length;s++){var a=o[s],l=ct(e.menuItems,$(e),i,a);l&&t.push(l)}return t},ht={createMenuButtons:ft},mt=ie.DOM,gt=function(e){return{width:e.clientWidth,height:e.clientHeight}},pt=function(e,t,n){var i,r,o,s;i=e.getContainer(),r=e.getContentAreaContainer().firstChild,o=gt(i),s=gt(r),null!==t&&(t=Math.max(X(e),t),t=Math.min(J(e),t),mt.setStyle(i,"width",t+(o.width-s.width)),mt.setStyle(r,"width",t)),n=Math.max(j(e),n),n=Math.min(G(e),n),mt.setStyle(r,"height",n),ue.fireResizeEditor(e)},vt=function(e,t,n){var i=e.getContentAreaContainer();pt(e,i.clientWidth+t,i.clientHeight+n)},bt={resizeTo:pt,resizeBy:vt},yt=tinymce.util.Tools.resolve("tinymce.Env"),xt=function(e){return{element:function(){return e}}},wt=function(e,t,n){var i=e.settings[n];i&&i(xt(t.getEl("body")))},_t=function(e,t,n){O.each(n,function(n){var i=t.items().filter("#"+n.name)[0];i&&i.visible()&&n.name!==e&&(wt(n,i,"onhide"),i.visible(!1))})},Rt=function(e){e.items().each(function(e){e.active(!1)})},Ct=function(e,t){return O.grep(e,function(e){return e.name===t})[0]},Et=function(e,t,n){return function(i){var r=i.control,o=r.parents().filter("panel")[0],s=o.find("#"+t)[0],a=Ct(n,t);_t(t,o,n),Rt(r.parent()),s&&s.visible()?(wt(a,s,"onhide"),s.hide(),r.active(!1)):(s?(s.show(),wt(a,s,"onshow")):(s=re.create({type:"container",name:t,layout:"stack",classes:"sidebar-panel",html:""}),o.prepend(s),wt(a,s,"onrender"),wt(a,s,"onshow")),r.active(!0)),ue.fireResizeEditor(e)}},kt=function(){return!yt.ie||yt.ie>=11},Ht=function(e){return!(!kt()||!e.sidebars)&&e.sidebars.length>0},Tt=function(e){var t=O.map(e.sidebars,function(t){var n=t.settings;return{type:"button",icon:n.icon,image:n.image,tooltip:n.tooltip,onclick:Et(e,t.name,e.sidebars)}});return{type:"panel",name:"sidebar",layout:"stack",classes:"sidebar",items:[{type:"toolbar",layout:"stack",classes:"sidebar-toolbar",items:t}]}},St={hasSidebar:Ht,createSidebar:Tt},Mt=function(e){var t=function(){e._skinLoaded=!0,ue.fireSkinLoaded(e)};return function(){e.initialized?t():e.on("init",t)}},Nt={fireSkinLoaded:Mt},Pt=ie.DOM,Wt=function(e){return function(t){e.find("*").disabled("readonly"===t.mode)}},Dt=function(e){return{type:"panel",name:"iframe",layout:"stack",classes:"edit-area",border:e,html:""}},Bt=function(e){return{type:"panel",layout:"stack",classes:"edit-aria-container",border:"1 0 0 0",items:[Dt("0"),St.createSidebar(e)]}},Ot=function(e,t,n){var i,r,o;if(K(e)===!1&&n.skinUiCss?Pt.styleSheetLoader.load(n.skinUiCss,Nt.fireSkinLoaded(e)):Nt.fireSkinLoaded(e)(),i=t.panel=re.create({type:"panel",role:"application",classes:"tinymce",style:"visibility: hidden",layout:"stack",border:1,items:[{type:"container",classes:"top-part",items:[z(e)===!1?null:{type:"menubar",border:"0 0 1 0",items:ht.createMenuButtons(e)},Ne.createToolbars(e,F(e))]},St.hasSidebar(e)?Bt(e):Dt("1 0 0 0")]}),Te.setUiContainer(e,i),"none"!==Q(e)&&(r={type:"resizehandle",direction:Q(e),onResizeStart:function(){var t=e.getContentAreaContainer().firstChild;o={width:t.clientWidth,height:t.clientHeight}},onResize:function(t){"both"===Q(e)?bt.resizeTo(e,o.width+t.deltaX,o.height+t.deltaY):bt.resizeTo(e,null,o.height+t.deltaY)}}),I(e)){var s='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce" rel="noopener" target="_blank" role="presentation" tabindex="-1">Tiny</a>',a=oe.translate(["Powered by {0}",s]),l=A(e)?{type:"label",classes:"branding",html:" "+a}:null;i.add({type:"panel",name:"statusbar",classes:"statusbar",layout:"flow",border:"1 0 0 0",ariaRoot:!0,items:[{type:"elementpath",editor:e},r,l]})}return ue.fireBeforeRenderUI(e),e.on("SwitchMode",Wt(i)),i.renderBefore(n.targetNode).reflow(),U(e)&&e.setMode("readonly"),n.width&&Pt.setStyle(i.getEl(),"width",n.width),e.on("remove",function(){i.remove(),i=null}),fe.addKeys(e,i),Le.addContextualToolbars(e),{iframeContainer:i.find("#iframe")[0].getEl(),editorContainer:i.getEl()}},At={render:Ot},zt=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),Lt=0,It={id:function(){return"mceu_"+Lt++},create:function(t,n,i){var r=e.document.createElement(t);return ie.DOM.setAttribs(r,n),"string"==typeof i?r.innerHTML=i:O.each(i,function(e){e.nodeType&&r.appendChild(e)}),r},createFragment:function(e){return ie.DOM.createFragment(e)},getWindowSize:function(){return ie.DOM.getViewPort()},getSize:function(e){var t,n;if(e.getBoundingClientRect){var i=e.getBoundingClientRect();t=Math.max(i.width||i.right-i.left,e.offsetWidth),n=Math.max(i.height||i.bottom-i.bottom,e.offsetHeight)}else t=e.offsetWidth,n=e.offsetHeight;return{width:t,height:n}},getPos:function(e,t){return ie.DOM.getPos(e,t||It.getContainer())},getContainer:function(){return yt.container?yt.container:e.document.body},getViewPort:function(e){return ie.DOM.getViewPort(e)},get:function(t){return e.document.getElementById(t)},addClass:function(e,t){return ie.DOM.addClass(e,t)},removeClass:function(e,t){return ie.DOM.removeClass(e,t)},hasClass:function(e,t){return ie.DOM.hasClass(e,t)},toggleClass:function(e,t,n){return ie.DOM.toggleClass(e,t,n)},css:function(e,t,n){return ie.DOM.setStyle(e,t,n)},getRuntimeStyle:function(e,t){return ie.DOM.getStyle(e,t,!0)},on:function(e,t,n,i){return ie.DOM.bind(e,t,n,i)},off:function(e,t,n){return ie.DOM.unbind(e,t,n)},fire:function(e,t,n){return ie.DOM.fire(e,t,n)},innerHtml:function(e,t){ie.DOM.setHTML(e,t)}},Ft=function(e){return"static"===It.getRuntimeStyle(e,"position")},Ut=function(e){return e.state.get("fixed")},Vt=function(e){return{x:0,y:0,w:e.scrollWidth-1,h:e.scrollHeight-1}},Yt=function(){var t=e.window,n=Math.max(t.pageXOffset,e.document.body.scrollLeft,e.document.documentElement.scrollLeft),i=Math.max(t.pageYOffset,e.document.body.scrollTop,e.document.documentElement.scrollTop),r=t.innerWidth||e.document.documentElement.clientWidth,o=t.innerHeight||e.document.documentElement.clientHeight;return{x:n,y:i,w:r,h:o}},$t=function(e){var t=Te.getUiContainer(e);return t&&!Ut(e)?Vt(t):Yt()},qt={testMoveRel:function(e,n){for(var i=$t(this),r=0;r<n.length;r++){var o=t(this,e,n[r]);if(Ut(this)){if(o.x>0&&o.x+o.w<i.w&&o.y>0&&o.y+o.h<i.h)return n[r]}else if(o.x>i.x&&o.x+o.w<i.w+i.x&&o.y>i.y&&o.y+o.h<i.h+i.y)return n[r]}return n[0]},moveRel:function(e,n){"string"!=typeof n&&(n=this.testMoveRel(e,n));var i=t(this,e,n);return this.moveTo(i.x,i.y)},moveBy:function(e,t){var n=this,i=n.layoutRect();return n.moveTo(i.x+e,i.y+t),n},moveTo:function(e,t){function n(e,t,n){return e<0?0:e+n>t?(e=t-n,e<0?0:e):e}var i=this;if(i.settings.constrainToViewport){var r=$t(this),o=i.layoutRect();e=n(e,r.w+r.x,o.w),t=n(t,r.h+r.y,o.h)}var s=Te.getUiContainer(i);return s&&Ft(s)&&!Ut(i)&&(e-=s.scrollLeft,t-=s.scrollTop),s&&(e+=1,t+=1),i.state.get("rendered")?i.layoutRect({x:e,y:t}).repaint():(i.settings.x=e,i.settings.y=t),i.fire("move",{x:e,y:t}),i}},Xt=tinymce.util.Tools.resolve("tinymce.util.Class"),jt=tinymce.util.Tools.resolve("tinymce.util.EventDispatcher"),Jt={parseBox:function(e){var t,n=10;if(e)return"number"==typeof e?(e=e||0,{top:e,left:e,bottom:e,right:e}):(e=e.split(" "),t=e.length,1===t?e[1]=e[2]=e[3]=e[0]:2===t?(e[2]=e[0],e[3]=e[1]):3===t&&(e[3]=e[1]),{top:parseInt(e[0],n)||0,right:parseInt(e[1],n)||0,bottom:parseInt(e[2],n)||0,left:parseInt(e[3],n)||0})},measureBox:function(e,t){function n(t){var n=e.ownerDocument.defaultView;if(n){var i=n.getComputedStyle(e,null);return i?(t=t.replace(/[A-Z]/g,function(e){return"-"+e}),i.getPropertyValue(t)):null}return e.currentStyle[t]}function i(e){var t=parseFloat(n(e));return isNaN(t)?0:t}return{top:i(t+"TopWidth"),right:i(t+"RightWidth"),bottom:i(t+"BottomWidth"),left:i(t+"LeftWidth")}}};O.extend(i.prototype,{add:function(e){return e&&!this.contains(e)&&(this.cls._map[e]=!0,this.cls.push(e),this._change()),this},remove:function(e){if(this.contains(e)){var t=void 0;for(t=0;t<this.cls.length&&this.cls[t]!==e;t++);this.cls.splice(t,1),delete this.cls._map[e],this._change()}return this},toggle:function(e,t){var n=this.contains(e);return n!==t&&(n?this.remove(e):this.add(e),this._change()),this},contains:function(e){return!!this.cls._map[e]},_change:function(){delete this.clsValue,this.onchange.call(this)}}),i.prototype.toString=function(){var e;if(this.clsValue)return this.clsValue;e="";for(var t=0;t<this.cls.length;t++)t>0&&(e+=" "),e+=this.prefix+this.cls[t];return e};var Gt,Kt,Zt,Qt=/^([\w\\*]+)?(?:#([\w\-\\]+))?(?:\.([\w\\\.]+))?(?:\[\@?([\w\\]+)([\^\$\*!~]?=)([\w\\]+)\])?(?:\:(.+))?/i,en=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,tn=/^\s*|\s*$/g,nn=Xt.extend({init:function(e){function t(e){if(e)return e=e.toLowerCase(),function(t){return"*"===e||t.type===e}}function n(e){if(e)return function(t){return t._name===e}}function i(e){if(e)return e=e.split("."),function(t){for(var n=e.length;n--;)if(!t.classes.contains(e[n]))return!1;
return!0}}function r(e,t,n){if(e)return function(i){var r=i[e]?i[e]():"";return t?"="===t?r===n:"*="===t?r.indexOf(n)>=0:"~="===t?(" "+r+" ").indexOf(" "+n+" ")>=0:"!="===t?r!==n:"^="===t?0===r.indexOf(n):"$="===t&&r.substr(r.length-n.length)===n:!!n}}function o(e){var t;if(e)return e=/(?:not\((.+)\))|(.+)/i.exec(e),e[1]?(t=a(e[1],[]),function(e){return!l(e,t)}):(e=e[2],function(t,n,i){return"first"===e?0===n:"last"===e?n===i-1:"even"===e?n%2===0:"odd"===e?n%2===1:!!t[e]&&t[e]()})}function s(e,s,a){function l(e){e&&s.push(e)}var u;return u=Qt.exec(e.replace(tn,"")),l(t(u[1])),l(n(u[2])),l(i(u[3])),l(r(u[4],u[5],u[6])),l(o(u[7])),s.pseudo=!!u[7],s.direct=a,s}function a(e,t){var n,i,r,o=[];do if(en.exec(""),i=en.exec(e),i&&(e=i[3],o.push(i[1]),i[2])){n=i[3];break}while(i);for(n&&a(n,t),e=[],r=0;r<o.length;r++)">"!==o[r]&&e.push(s(o[r],[],">"===o[r-1]));return t.push(e),t}var l=this.match;this._selectors=a(e,[])},match:function(e,t){var n,i,r,o,s,a,l,u,c,d,f,h,m;for(t=t||this._selectors,n=0,i=t.length;n<i;n++){for(s=t[n],o=s.length,m=e,h=0,r=o-1;r>=0;r--)for(u=s[r];m;){if(u.pseudo)for(f=m.parent().items(),c=d=f.length;c--&&f[c]!==m;);for(a=0,l=u.length;a<l;a++)if(!u[a](m,c,d)){a=l+1;break}if(a===l){h++;break}if(r===o-1)break;m=m.parent()}if(h===o)return!0}return!1},find:function(e){function t(e,n,i){var r,s,a,l,u,c=n[i];for(r=0,s=e.length;r<s;r++){for(u=e[r],a=0,l=c.length;a<l;a++)if(!c[a](u,r,s)){a=l+1;break}if(a===l)i===n.length-1?o.push(u):u.items&&t(u.items(),n,i+1);else if(c.direct)return;u.items&&t(u.items(),n,i)}}var n,i,o=[],s=this._selectors;if(e.items){for(n=0,i=s.length;n<i;n++)t(e.items(),s[n],0);i>1&&(o=r(o))}return Gt||(Gt=nn.Collection),new Gt(o)}}),rn=Array.prototype.push,on=Array.prototype.slice;Zt={length:0,init:function(e){e&&this.add(e)},add:function(e){var t=this;return O.isArray(e)?rn.apply(t,e):e instanceof Kt?t.add(e.toArray()):rn.call(t,e),t},set:function(e){var t,n=this,i=n.length;for(n.length=0,n.add(e),t=n.length;t<i;t++)delete n[t];return n},filter:function(e){var t,n,i,r,o=this,s=[];for("string"==typeof e?(e=new nn(e),r=function(t){return e.match(t)}):r=e,t=0,n=o.length;t<n;t++)i=o[t],r(i)&&s.push(i);return new Kt(s)},slice:function(){return new Kt(on.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},each:function(e){return O.each(this,e),this},toArray:function(){return O.toArray(this)},indexOf:function(e){for(var t=this,n=t.length;n--&&t[n]!==e;);return n},reverse:function(){return new Kt(O.toArray(this).reverse())},hasClass:function(e){return!!this[0]&&this[0].classes.contains(e)},prop:function(e,t){var n,i=this;return void 0!==t?(i.each(function(n){n[e]&&n[e](t)}),i):(n=i[0],n&&n[e]?n[e]():void 0)},exec:function(e){var t=this,n=O.toArray(arguments).slice(1);return t.each(function(t){t[e]&&t[e].apply(t,n)}),t},remove:function(){for(var e=this.length;e--;)this[e].remove();return this},addClass:function(e){return this.each(function(t){t.classes.add(e)})},removeClass:function(e){return this.each(function(t){t.classes.remove(e)})}},O.each("fire on off show hide append prepend before after reflow".split(" "),function(e){Zt[e]=function(){var t=O.toArray(arguments);return this.each(function(n){e in n&&n[e].apply(n,t)}),this}}),O.each("text name disabled active selected checked visible parent value data".split(" "),function(e){Zt[e]=function(t){return this.prop(e,t)}}),Kt=Xt.extend(Zt),nn.Collection=Kt;var sn=Kt,an=function(e){this.create=e.create};an.create=function(e,t){return new an({create:function(n,i){var r,o=function(e){n.set(i,e.value)},s=function(n){e.set(t,n.value)};return n.on("change:"+i,s),e.on("change:"+t,o),r=n._bindings,r||(r=n._bindings=[],n.on("destroy",function(){for(var e=r.length;e--;)r[e]()})),r.push(function(){e.off("change:"+t,o)}),e.get(t)}})};var ln,un,cn=tinymce.util.Tools.resolve("tinymce.util.Observable"),dn=Xt.extend({Mixins:[cn],init:function(e){var t,n;e=e||{};for(t in e)n=e[t],n instanceof an&&(e[t]=n.create(this,t));this.data=e},set:function(e,t){var n,i,r=this.data[e];if(t instanceof an&&(t=t.create(this,e)),"object"==typeof e){for(n in e)this.set(n,e[n]);return this}return s(r,t)||(this.data[e]=t,i={target:this,name:e,value:t,oldValue:r},this.fire("change:"+e,i),this.fire("change",i)),this},get:function(e){return this.data[e]},has:function(e){return e in this.data},bind:function(e){return an.create(this,e)},destroy:function(){this.fire("destroy")}}),fn={},hn={add:function(t){var n=t.parent();if(n){if(!n._layout||n._layout.isNative())return;fn[n._id]||(fn[n._id]=n),ln||(ln=!0,me.requestAnimationFrame(function(){var e,t;ln=!1;for(e in fn)t=fn[e],t.state.get("rendered")&&t.reflow();fn={}},e.document.body))}},remove:function(e){fn[e._id]&&delete fn[e._id]}},mn="onmousewheel"in e.document,gn=!1,pn="mce-",vn=0,bn={Statics:{classPrefix:pn},isRtl:function(){return un.rtl},classPrefix:pn,init:function(e){function t(e){var t;for(e=e.split(" "),t=0;t<e.length;t++)o.classes.add(e[t])}var n,r,o=this;o.settings=e=O.extend({},o.Defaults,e),o._id=e.id||"mceu_"+vn++,o._aria={role:e.role},o._elmCache={},o.$=zt,o.state=new dn({visible:!0,active:!1,disabled:!1,value:""}),o.data=new dn(e.data),o.classes=new i(function(){o.state.get("rendered")&&(o.getEl().className=this.toString())}),o.classes.prefix=o.classPrefix,n=e.classes,n&&(o.Defaults&&(r=o.Defaults.classes,r&&n!==r&&t(r)),t(n)),O.each("title text name visible disabled active value".split(" "),function(t){t in e&&o[t](e[t])}),o.on("click",function(){if(o.disabled())return!1}),o.settings=e,o.borderBox=Jt.parseBox(e.border),o.paddingBox=Jt.parseBox(e.padding),o.marginBox=Jt.parseBox(e.margin),e.hidden&&o.hide()},Properties:"parent,name",getContainerElm:function(){var e=Te.getUiContainer(this);return e?e:It.getContainer()},getParentCtrl:function(e){for(var t,n=this.getRoot().controlIdLookup;e&&n&&!(t=n[e.id]);)e=e.parentNode;return t},initLayoutRect:function(){var e,t,n,i,r,o,s,a,l,u,c=this,d=c.settings,f=c.getEl();e=c.borderBox=c.borderBox||Jt.measureBox(f,"border"),c.paddingBox=c.paddingBox||Jt.measureBox(f,"padding"),c.marginBox=c.marginBox||Jt.measureBox(f,"margin"),u=It.getSize(f),a=d.minWidth,l=d.minHeight,r=a||u.width,o=l||u.height,n=d.width,i=d.height,s=d.autoResize,s="undefined"!=typeof s?s:!n&&!i,n=n||r,i=i||o;var h=e.left+e.right,m=e.top+e.bottom,g=d.maxWidth||65535,p=d.maxHeight||65535;return c._layoutRect=t={x:d.x||0,y:d.y||0,w:n,h:i,deltaW:h,deltaH:m,contentW:n-h,contentH:i-m,innerW:n-h,innerH:i-m,startMinWidth:a||0,startMinHeight:l||0,minW:Math.min(r,g),minH:Math.min(o,p),maxW:g,maxH:p,autoResize:s,scrollW:0},c._lastLayoutRect={},t},layoutRect:function(e){var t,n,i,r,o,s=this,a=s._layoutRect;return a||(a=s.initLayoutRect()),e?(i=a.deltaW,r=a.deltaH,void 0!==e.x&&(a.x=e.x),void 0!==e.y&&(a.y=e.y),void 0!==e.minW&&(a.minW=e.minW),void 0!==e.minH&&(a.minH=e.minH),n=e.w,void 0!==n&&(n=n<a.minW?a.minW:n,n=n>a.maxW?a.maxW:n,a.w=n,a.innerW=n-i),n=e.h,void 0!==n&&(n=n<a.minH?a.minH:n,n=n>a.maxH?a.maxH:n,a.h=n,a.innerH=n-r),n=e.innerW,void 0!==n&&(n=n<a.minW-i?a.minW-i:n,n=n>a.maxW-i?a.maxW-i:n,a.innerW=n,a.w=n+i),n=e.innerH,void 0!==n&&(n=n<a.minH-r?a.minH-r:n,n=n>a.maxH-r?a.maxH-r:n,a.innerH=n,a.h=n+r),void 0!==e.contentW&&(a.contentW=e.contentW),void 0!==e.contentH&&(a.contentH=e.contentH),t=s._lastLayoutRect,t.x===a.x&&t.y===a.y&&t.w===a.w&&t.h===a.h||(o=un.repaintControls,o&&o.map&&!o.map[s._id]&&(o.push(s),o.map[s._id]=!0),t.x=a.x,t.y=a.y,t.w=a.w,t.h=a.h),s):a},repaint:function(){var t,n,i,r,o,s,a,l,u,c,d=this;u=e.document.createRange?function(e){return e}:Math.round,t=d.getEl().style,r=d._layoutRect,l=d._lastRepaintRect||{},o=d.borderBox,s=o.left+o.right,a=o.top+o.bottom,r.x!==l.x&&(t.left=u(r.x)+"px",l.x=r.x),r.y!==l.y&&(t.top=u(r.y)+"px",l.y=r.y),r.w!==l.w&&(c=u(r.w-s),t.width=(c>=0?c:0)+"px",l.w=r.w),r.h!==l.h&&(c=u(r.h-a),t.height=(c>=0?c:0)+"px",l.h=r.h),d._hasBody&&r.innerW!==l.innerW&&(c=u(r.innerW),i=d.getEl("body"),i&&(n=i.style,n.width=(c>=0?c:0)+"px"),l.innerW=r.innerW),d._hasBody&&r.innerH!==l.innerH&&(c=u(r.innerH),i=i||d.getEl("body"),i&&(n=n||i.style,n.height=(c>=0?c:0)+"px"),l.innerH=r.innerH),d._lastRepaintRect=l,d.fire("repaint",{},!1)},updateLayoutRect:function(){var e=this;e.parent()._lastRect=null,It.css(e.getEl(),{width:"",height:""}),e._layoutRect=e._lastRepaintRect=e._lastLayoutRect=null,e.initLayoutRect()},on:function(e,t){function n(e){var t,n;return"string"!=typeof e?e:function(r){return t||i.parentsAndSelf().each(function(i){var r=i.settings.callbacks;if(r&&(t=r[e]))return n=i,!1}),t?t.call(n,r):(r.action=e,void this.fire("execute",r))}}var i=this;return a(i).on(e,n(t)),i},off:function(e,t){return a(this).off(e,t),this},fire:function(e,t,n){var i=this;if(t=t||{},t.control||(t.control=i),t=a(i).fire(e,t),n!==!1&&i.parent)for(var r=i.parent();r&&!t.isPropagationStopped();)r.fire(e,t,!1),r=r.parent();return t},hasEventListeners:function(e){return a(this).has(e)},parents:function(e){var t,n=this,i=new sn;for(t=n.parent();t;t=t.parent())i.add(t);return e&&(i=i.filter(e)),i},parentsAndSelf:function(e){return new sn(this).add(this.parents(e))},next:function(){var e=this.parent().items();return e[e.indexOf(this)+1]},prev:function(){var e=this.parent().items();return e[e.indexOf(this)-1]},innerHtml:function(e){return this.$el.html(e),this},getEl:function(e){var t=e?this._id+"-"+e:this._id;return this._elmCache[t]||(this._elmCache[t]=zt("#"+t)[0]),this._elmCache[t]},show:function(){return this.visible(!0)},hide:function(){return this.visible(!1)},focus:function(){try{this.getEl().focus()}catch(e){}return this},blur:function(){return this.getEl().blur(),this},aria:function(e,t){var n=this,i=n.getEl(n.ariaTarget);return"undefined"==typeof t?n._aria[e]:(n._aria[e]=t,n.state.get("rendered")&&i.setAttribute("role"===e?e:"aria-"+e,t),n)},encode:function(e,t){return t!==!1&&(e=this.translate(e)),(e||"").replace(/[&<>"]/g,function(e){return"&#"+e.charCodeAt(0)+";"})},translate:function(e){return un.translate?un.translate(e):e},before:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t),!0),t},after:function(e){var t=this,n=t.parent();return n&&n.insert(e,n.items().indexOf(t)),t},remove:function(){var e,t,n=this,i=n.getEl(),r=n.parent();if(n.items){var o=n.items().toArray();for(t=o.length;t--;)o[t].remove()}r&&r.items&&(e=[],r.items().each(function(t){t!==n&&e.push(t)}),r.items().set(e),r._lastRect=null),n._eventsRoot&&n._eventsRoot===n&&zt(i).off();var s=n.getRoot().controlIdLookup;return s&&delete s[n._id],i&&i.parentNode&&i.parentNode.removeChild(i),n.state.set("rendered",!1),n.state.destroy(),n.fire("remove"),n},renderBefore:function(e){return zt(e).before(this.renderHtml()),this.postRender(),this},renderTo:function(e){return zt(e||this.getContainerElm()).append(this.renderHtml()),this.postRender(),this},preRender:function(){},render:function(){},renderHtml:function(){return'<div id="'+this._id+'" class="'+this.classes+'"></div>'},postRender:function(){var e,t,n,i,r,o=this,s=o.settings;o.$el=zt(o.getEl()),o.state.set("rendered",!0);for(i in s)0===i.indexOf("on")&&o.on(i.substr(2),s[i]);if(o._eventsRoot){for(n=o.parent();!r&&n;n=n.parent())r=n._eventsRoot;if(r)for(i in r._nativeEvents)o._nativeEvents[i]=!0}l(o),s.style&&(e=o.getEl(),e&&(e.setAttribute("style",s.style),e.style.cssText=s.style)),o.settings.border&&(t=o.borderBox,o.$el.css({"border-top-width":t.top,"border-right-width":t.right,"border-bottom-width":t.bottom,"border-left-width":t.left}));var a=o.getRoot();a.controlIdLookup||(a.controlIdLookup={}),a.controlIdLookup[o._id]=o;for(var u in o._aria)o.aria(u,o._aria[u]);o.state.get("visible")===!1&&(o.getEl().style.display="none"),o.bindStates(),o.state.on("change:visible",function(e){var t,n=e.value;o.state.get("rendered")&&(o.getEl().style.display=n===!1?"none":"",o.getEl().getBoundingClientRect()),t=o.parent(),t&&(t._lastRect=null),o.fire(n?"show":"hide"),hn.add(o)}),o.fire("postrender",{},!1)},bindStates:function(){},scrollIntoView:function(e){function t(e,t){var n,i,r=e;for(n=i=0;r&&r!==t&&r.nodeType;)n+=r.offsetLeft||0,i+=r.offsetTop||0,r=r.offsetParent;return{x:n,y:i}}var n,i,r,o,s,a,l=this.getEl(),u=l.parentNode,c=t(l,u);return n=c.x,i=c.y,r=l.offsetWidth,o=l.offsetHeight,s=u.clientWidth,a=u.clientHeight,"end"===e?(n-=s-r,i-=a-o):"center"===e&&(n-=s/2-r/2,i-=a/2-o/2),u.scrollLeft=n,u.scrollTop=i,this},getRoot:function(){for(var e,t=this,n=[];t;){if(t.rootControl){e=t.rootControl;break}n.push(t),e=t,t=t.parent()}e||(e=this);for(var i=n.length;i--;)n[i].rootControl=e;return e},reflow:function(){hn.remove(this);var e=this.parent();return e&&e._layout&&!e._layout.isNative()&&e.reflow(),this}};O.each("text title visible disabled active value".split(" "),function(e){bn[e]=function(t){return 0===arguments.length?this.state.get(e):("undefined"!=typeof t&&this.state.set(e,t),this)}}),un=Xt.extend(bn);var yn,xn,wn,_n,Rn=un,Cn=function(e){return!!e.getAttribute("data-mce-tabstop")},En={},kn=Rn.extend({init:function(e){var t=this;t._super(e),e=t.settings,e.fixed&&t.state.set("fixed",!0),t._items=new sn,t.isRtl()&&t.classes.add("rtl"),t.bodyClasses=new i(function(){t.state.get("rendered")&&(t.getEl("body").className=this.toString())}),t.bodyClasses.prefix=t.classPrefix,t.classes.add("container"),t.bodyClasses.add("container-body"),e.containerCls&&t.classes.add(e.containerCls),t._layout=re.create((e.layout||"")+"layout"),t.settings.items?t.add(t.settings.items):t.add(t.render()),t._hasBody=!0},items:function(){return this._items},find:function(e){return e=En[e]=En[e]||new nn(e),e.find(this)},add:function(e){var t=this;return t.items().add(t.create(e)).parent(t),t},focus:function(e){var t,n,i,r=this;return e&&(n=r.keyboardNav||r.parents().eq(-1)[0].keyboardNav)?void n.focusFirst(r):(i=r.find("*"),r.statusbar&&i.add(r.statusbar.items()),i.each(function(e){return e.settings.autofocus?(t=null,!1):void(e.canFocus&&(t=t||e))}),t&&t.focus(),r)},replace:function(e,t){for(var n,i=this.items(),r=i.length;r--;)if(i[r]===e){i[r]=t;break}r>=0&&(n=t.getEl(),n&&n.parentNode.removeChild(n),n=e.getEl(),n&&n.parentNode.removeChild(n)),t.parent(this)},create:function(e){var t,n=this,i=[];return O.isArray(e)||(e=[e]),O.each(e,function(e){e&&(e instanceof Rn||("string"==typeof e&&(e={type:e}),t=O.extend({},n.settings.defaults,e),e.type=t.type=t.type||e.type||n.settings.defaultType||(t.defaults?t.defaults.type:null),e=re.create(t)),i.push(e))}),i},renderNew:function(){var e=this;return e.items().each(function(t,n){var i;t.parent(e),t.state.get("rendered")||(i=e.getEl("body"),i.hasChildNodes()&&n<=i.childNodes.length-1?zt(i.childNodes[n]).before(t.renderHtml()):zt(i).append(t.renderHtml()),t.postRender(),hn.add(t))}),e._layout.applyClasses(e.items().filter(":visible")),e._lastRect=null,e},append:function(e){return this.add(e).renderNew()},prepend:function(e){var t=this;return t.items().set(t.create(e).concat(t.items().toArray())),t.renderNew()},insert:function(e,t,n){var i,r,o,s=this;return e=s.create(e),i=s.items(),!n&&t<i.length-1&&(t+=1),t>=0&&t<i.length&&(r=i.slice(0,t).toArray(),o=i.slice(t).toArray(),i.set(r.concat(e,o))),s.renderNew()},fromJSON:function(e){var t=this;for(var n in e)t.find("#"+n).value(e[n]);return t},toJSON:function(){var e=this,t={};return e.find("*").each(function(e){var n=e.name(),i=e.value();n&&"undefined"!=typeof i&&(t[n]=i)}),t},renderHtml:function(){var e=this,t=e._layout,n=this.settings.role;return e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"'+(n?' role="'+this.settings.role+'"':"")+'><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"},postRender:function(){var e,t=this;return t.items().exec("postRender"),t._super(),t._layout.postRender(t),t.state.set("rendered",!0),t.settings.style&&t.$el.css(t.settings.style),t.settings.border&&(e=t.borderBox,t.$el.css({"border-top-width":e.top,"border-right-width":e.right,"border-bottom-width":e.bottom,"border-left-width":e.left})),t.parent()||(t.keyboardNav=u({root:t})),t},initLayoutRect:function(){var e=this,t=e._super();return e._layout.recalc(e),t},recalc:function(){var e=this,t=e._layoutRect,n=e._lastRect;if(!n||n.w!==t.w||n.h!==t.h)return e._layout.recalc(e),t=e.layoutRect(),e._lastRect={x:t.x,y:t.y,w:t.w,h:t.h},!0},reflow:function(){var e;if(hn.remove(this),this.visible()){for(Rn.repaintControls=[],Rn.repaintControls.map={},this.recalc(),e=Rn.repaintControls.length;e--;)Rn.repaintControls[e].repaint();"flow"!==this.settings.layout&&"stack"!==this.settings.layout&&this.repaint(),Rn.repaintControls=[]}return this}}),Hn={init:function(){var e=this;e.on("repaint",e.renderScroll)},renderScroll:function(){function e(){function e(e,o,s,a,l,u){var c,d,f,h,m,g,p,v,b;if(d=n.getEl("scroll"+e)){if(v=o.toLowerCase(),b=s.toLowerCase(),zt(n.getEl("absend")).css(v,n.layoutRect()[a]-1),!l)return void zt(d).css("display","none");zt(d).css("display","block"),c=n.getEl("body"),f=n.getEl("scroll"+e+"t"),h=c["client"+s]-2*i,h-=t&&r?d["client"+u]:0,m=c["scroll"+s],g=h/m,p={},p[v]=c["offset"+o]+i,p[b]=h,zt(d).css(p),p={},p[v]=c["scroll"+o]*g,p[b]=h*g,zt(f).css(p)}}var t,r,o;o=n.getEl("body"),t=o.scrollWidth>o.clientWidth,r=o.scrollHeight>o.clientHeight,e("h","Left","Width","contentW",t,"Height"),e("v","Top","Height","contentH",r,"Width")}function t(){function e(e,t,r,o,s){var a,l=n._id+"-scroll"+e,u=n.classPrefix;zt(n.getEl()).append('<div id="'+l+'" class="'+u+"scrollbar "+u+"scrollbar-"+e+'"><div id="'+l+'t" class="'+u+'scrollbar-thumb"></div></div>'),n.draghelper=new f(l+"t",{start:function(){a=n.getEl("body")["scroll"+t],zt("#"+l).addClass(u+"active")},drag:function(l){var u,c,d,f,h=n.layoutRect();c=h.contentW>h.innerW,d=h.contentH>h.innerH,f=n.getEl("body")["client"+r]-2*i,f-=c&&d?n.getEl("scroll"+e)["client"+s]:0,u=f/n.getEl("body")["scroll"+r],n.getEl("body")["scroll"+t]=a+l["delta"+o]/u},stop:function(){zt("#"+l).removeClass(u+"active")}})}n.classes.add("scroll"),e("v","Top","Height","Y","Width"),e("h","Left","Width","X","Height")}var n=this,i=2;n.settings.autoScroll&&(n._hasScroll||(n._hasScroll=!0,t(),n.on("wheel",function(t){var i=n.getEl("body");i.scrollLeft+=10*(t.deltaX||0),i.scrollTop+=10*t.deltaY,e()}),zt(n.getEl("body")).on("scroll",e)),e())}},Tn=kn.extend({Defaults:{layout:"fit",containerCls:"panel"},Mixins:[Hn],renderHtml:function(){var e=this,t=e._layout,n=e.settings.html;return e.preRender(),t.preRender(e),"undefined"==typeof n?n='<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div>":("function"==typeof n&&(n=n.call(e)),e._hasBody=!1),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1" role="group">'+(e._preBodyHtml||"")+n+"</div>"}}),Sn={resizeToContent:function(){this._layoutRect.autoResize=!0,this._lastRect=null,this.reflow()},resizeTo:function(e,t){if(e<=1||t<=1){var n=It.getWindowSize();e=e<=1?e*n.w:e,t=t<=1?t*n.h:t}return this._layoutRect.autoResize=!1,this.layoutRect({minW:e,minH:t,w:e,h:t}).reflow()},resizeBy:function(e,t){var n=this,i=n.layoutRect();return n.resizeTo(i.w+e,i.h+t)}},Mn=[],Nn=[],Pn=Tn.extend({Mixins:[qt,Sn],init:function(e){var t=this;t._super(e),t._eventsRoot=t,t.classes.add("floatpanel"),e.autohide&&(g(),v(),Mn.push(t)),e.autofix&&(p(),t.on("move",function(){b(this)})),t.on("postrender show",function(e){if(e.control===t){var n,i=t.classPrefix;t.modal&&!_n&&(n=zt("#"+i+"modal-block",t.getContainerElm()),n[0]||(n=zt('<div id="'+i+'modal-block" class="'+i+"reset "+i+'fade"></div>').appendTo(t.getContainerElm())),me.setTimeout(function(){n.addClass(i+"in"),zt(t.getEl()).addClass(i+"in")}),_n=!0),y(!0,t)}}),t.on("show",function(){t.parents().each(function(e){if(e.state.get("fixed"))return t.fixed(!0),!1})}),e.popover&&(t._preBodyHtml='<div class="'+t.classPrefix+'arrow"></div>',t.classes.add("popover").add("bottom").add(t.isRtl()?"end":"start")),t.aria("label",e.ariaLabel),t.aria("labelledby",t._id),t.aria("describedby",t.describedBy||t._id+"-none")},fixed:function(e){var t=this;if(t.state.get("fixed")!==e){if(t.state.get("rendered")){var n=It.getViewPort();e?t.layoutRect().y-=n.y:t.layoutRect().y+=n.y}t.classes.toggle("fixed",e),t.state.set("fixed",e)}return t},show:function(){var e,t=this,n=t._super();for(e=Mn.length;e--&&Mn[e]!==t;);return e===-1&&Mn.push(t),n},hide:function(){return x(this),y(!1,this),this._super()},hideAll:function(){Pn.hideAll()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||(e.remove(),y(!1,e)),e},remove:function(){x(this),this._super()},postRender:function(){var e=this;return e.settings.bodyRole&&this.getEl("body").setAttribute("role",e.settings.bodyRole),e._super()}});Pn.hideAll=function(){for(var e=Mn.length;e--;){var t=Mn[e];t&&t.settings.autohide&&(t.hide(),Mn.splice(e,1))}};var Wn=function(e,t){return!(!e||t.settings.ui_container)},Dn=function(e,t,n){var i,r,o=ie.DOM,s=V(e);s&&(r=o.select(s)[0]);var a=function(){if(i&&i.moveRel&&i.visible()&&!i._fixed){var t=e.selection.getScrollContainer(),n=e.getBody(),r=0,s=0;if(t){var a=o.getPos(n),l=o.getPos(t);r=Math.max(0,l.x-a.x),s=Math.max(0,l.y-a.y)}i.fixed(!1).moveRel(n,e.rtl?["tr-br","br-tr"]:["tl-bl","bl-tl","tr-br"]).moveBy(r,s)}},l=function(){i&&(i.show(),a(),o.addClass(e.getBody(),"mce-edit-focus"))},u=function(){i&&(i.hide(),Pn.hideAll(),o.removeClass(e.getBody(),"mce-edit-focus"))},c=function(){return i?void(i.visible()||l()):(i=t.panel=re.create({type:r?"panel":"floatpanel",role:"application",classes:"tinymce tinymce-inline",layout:"flex",direction:"column",align:"stretch",autohide:!1,autofix:!0,fixed:Wn(r,e),border:1,items:[z(e)===!1?null:{type:"menubar",border:"0 0 1 0",items:ht.createMenuButtons(e)},Ne.createToolbars(e,F(e))]}),Te.setUiContainer(e,i),ue.fireBeforeRenderUI(e),r?i.renderTo(r).reflow():i.renderTo().reflow(),fe.addKeys(e,i),l(),Le.addContextualToolbars(e),e.on("nodeChange",a),e.on("ResizeWindow",a),e.on("activate",l),e.on("deactivate",u),void e.nodeChanged())};return e.settings.content_editable=!0,e.on("focus",function(){K(e)===!1&&n.skinUiCss?o.styleSheetLoader.load(n.skinUiCss,c,c):c()}),e.on("blur hide",u),e.on("remove",function(){i&&(i.remove(),i=null)}),K(e)===!1&&n.skinUiCss?o.styleSheetLoader.load(n.skinUiCss,Nt.fireSkinLoaded(e)):Nt.fireSkinLoaded(e)(),{}},Bn={render:Dn},On=function(e,t){var n;e.on("ProgressState",function(e){n=n||new w(t.panel.getEl("body")),e.state?n.show(e.time):n.hide()})},An={setup:On},zn=function(e,t,n){var i=ee(e);return i&&(n.skinUiCss=i+"/skin.min.css",e.contentCSS.push(i+"/content"+(e.inline?".inline":"")+".min.css")),An.setup(e,t),Z(e)?Bn.render(e,t,n):At.render(e,t,n)},Ln={renderUI:zn},In=Rn.extend({Mixins:[qt],Defaults:{classes:"widget tooltip tooltip-n"},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'" role="presentation"><div class="'+t+'tooltip-arrow"></div><div class="'+t+'tooltip-inner">'+e.encode(e.state.get("text"))+"</div></div>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().lastChild.innerHTML=e.encode(t.value)}),e._super()},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=131070}}),Fn=Rn.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.canFocus=!0,e.tooltip&&Fn.tooltips!==!1&&(t.on("mouseenter",function(n){var i=t.tooltip().moveTo(-65535);if(n.control===t){var r=i.text(e.tooltip).show().testMoveRel(t.getEl(),["bc-tc","bc-tl","bc-tr"]);i.classes.toggle("tooltip-n","bc-tc"===r),i.classes.toggle("tooltip-nw","bc-tl"===r),i.classes.toggle("tooltip-ne","bc-tr"===r),i.moveRel(t.getEl(),r)}else i.hide()}),t.on("mouseleave mousedown click",function(){t.tooltip().remove(),t._tooltip=null})),t.aria("label",e.ariaLabel||e.tooltip)},tooltip:function(){return this._tooltip||(this._tooltip=new In({type:"tooltip"}),Te.inheritUiContainer(this,this._tooltip),this._tooltip.renderTo()),this._tooltip},postRender:function(){var e=this,t=e.settings;e._super(),e.parent()||!t.width&&!t.height||(e.initLayoutRect(),e.repaint()),t.autofocus&&e.focus()},bindStates:function(){function e(e){n.aria("disabled",e),n.classes.toggle("disabled",e)}function t(e){n.aria("pressed",e),n.classes.toggle("active",e)}var n=this;return n.state.on("change:disabled",function(t){e(t.value)}),n.state.on("change:active",function(e){t(e.value)}),n.state.get("disabled")&&e(!0),n.state.get("active")&&t(!0),n._super()},remove:function(){this._super(),this._tooltip&&(this._tooltip.remove(),this._tooltip=null)}}),Un=Fn.extend({Defaults:{value:0},init:function(e){var t=this;t._super(e),t.classes.add("progress"),t.settings.filter||(t.settings.filter=function(e){return Math.round(e)})},renderHtml:function(){var e=this,t=e._id,n=this.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div class="'+n+'bar-container"><div class="'+n+'bar"></div></div><div class="'+n+'text">0%</div></div>'},postRender:function(){var e=this;return e._super(),e.value(e.settings.value),e},bindStates:function(){function e(e){e=t.settings.filter(e),t.getEl().lastChild.innerHTML=e+"%",t.getEl().firstChild.firstChild.style.width=e+"%"}var t=this;return t.state.on("change:value",function(t){e(t.value)}),e(t.state.get("value")),t._super()}}),Vn=function(e,t){e.getEl().lastChild.textContent=t+(e.progressBar?" "+e.progressBar.value()+"%":"")},Yn=Rn.extend({Mixins:[qt],Defaults:{classes:"widget notification"},init:function(e){var t=this;t._super(e),t.maxWidth=e.maxWidth,e.text&&t.text(e.text),e.icon&&(t.icon=e.icon),e.color&&(t.color=e.color),e.type&&t.classes.add("notification-"+e.type),e.timeout&&(e.timeout<0||e.timeout>0)&&!e.closeButton?t.closeButton=!1:(t.classes.add("has-close"),t.closeButton=!0),e.progressBar&&(t.progressBar=new Un),t.on("click",function(e){e.target.className.indexOf(t.classPrefix+"close")!==-1&&t.close()})},renderHtml:function(){var e=this,t=e.classPrefix,n="",i="",r="",o="";return e.icon&&(n='<i class="'+t+"ico "+t+"i-"+e.icon+'"></i>'),o=' style="max-width: '+e.maxWidth+"px;"+(e.color?"background-color: "+e.color+';"':'"'),e.closeButton&&(i='<button type="button" class="'+t+'close" aria-hidden="true">×</button>'),e.progressBar&&(r=e.progressBar.renderHtml()),'<div id="'+e._id+'" class="'+e.classes+'"'+o+' role="presentation">'+n+'<div class="'+t+'notification-inner">'+e.state.get("text")+"</div>"+r+i+'<div style="clip: rect(1px, 1px, 1px, 1px);height: 1px;overflow: hidden;position: absolute;width: 1px;" aria-live="assertive" aria-relevant="additions" aria-atomic="true"></div></div>'},postRender:function(){var e=this;return me.setTimeout(function(){e.$el.addClass(e.classPrefix+"in"),Vn(e,e.state.get("text"))},100),e._super()},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl().firstChild.innerHTML=t.value,Vn(e,t.value)}),e.progressBar&&(e.progressBar.bindStates(),e.progressBar.state.on("change:value",function(t){Vn(e,e.state.get("text"))})),e._super()},close:function(){var e=this;return e.fire("close").isDefaultPrevented()||e.remove(),e},repaint:function(){var e,t,n=this;e=n.getEl().style,t=n._layoutRect,e.left=t.x+"px",e.top=t.y+"px",e.zIndex=65534}}),$n=[],qn="",Xn=Pn.extend({modal:!0,Defaults:{border:1,layout:"flex",containerCls:"panel",role:"dialog",callbacks:{submit:function(){this.fire("submit",{data:this.toJSON()})},close:function(){this.close()}}},init:function(e){var t=this;t._super(e),t.isRtl()&&t.classes.add("rtl"),t.classes.add("window"),t.bodyClasses.add("window-body"),t.state.set("fixed",!0),e.buttons&&(t.statusbar=new Tn({layout:"flex",border:"1 0 0 0",spacing:3,padding:10,align:"center",pack:t.isRtl()?"start":"end",defaults:{type:"button"},items:e.buttons}),t.statusbar.classes.add("foot"),t.statusbar.parent(t)),t.on("click",function(e){var n=t.classPrefix+"close";(It.hasClass(e.target,n)||It.hasClass(e.target.parentNode,n))&&t.close()}),t.on("cancel",function(){t.close()}),t.on("move",function(e){e.control===t&&Pn.hideAll()}),t.aria("describedby",t.describedBy||t._id+"-none"),t.aria("label",e.title),t._fullscreen=!1},recalc:function(){var e,t,n,i,r=this,o=r.statusbar;r._fullscreen&&(r.layoutRect(It.getWindowSize()),r.layoutRect().contentH=r.layoutRect().innerH),r._super(),e=r.layoutRect(),r.settings.title&&!r._fullscreen&&(t=e.headerW,t>e.w&&(n=e.x-Math.max(0,t/2),r.layoutRect({w:t,x:n}),i=!0)),o&&(o.layoutRect({w:r.layoutRect().innerW}).recalc(),t=o.layoutRect().minW+e.deltaW,t>e.w&&(n=e.x-Math.max(0,t-e.w),r.layoutRect({w:t,x:n}),i=!0)),i&&r.recalc()},initLayoutRect:function(){var e,t=this,n=t._super(),i=0;if(t.settings.title&&!t._fullscreen){e=t.getEl("head");var r=It.getSize(e);n.headerW=r.width,n.headerH=r.height,i+=n.headerH}t.statusbar&&(i+=t.statusbar.layoutRect().h),n.deltaH+=i,n.minH+=i,n.h+=i;var o=It.getWindowSize();return n.x=t.settings.x||Math.max(0,o.w/2-n.w/2),n.y=t.settings.y||Math.max(0,o.h/2-n.h/2),n},renderHtml:function(){var e=this,t=e._layout,n=e._id,i=e.classPrefix,r=e.settings,o="",s="",a=r.html;return e.preRender(),t.preRender(e),r.title&&(o='<div id="'+n+'-head" class="'+i+'window-head"><div id="'+n+'-title" class="'+i+'title">'+e.encode(r.title)+'</div><div id="'+n+'-dragh" class="'+i+'dragh"></div><button type="button" class="'+i+'close" aria-hidden="true"><i class="mce-ico mce-i-remove"></i></button></div>'),r.url&&(a='<iframe src="'+r.url+'" tabindex="-1"></iframe>'),"undefined"==typeof a&&(a=t.renderHtml(e)),e.statusbar&&(s=e.statusbar.renderHtml()),'<div id="'+n+'" class="'+e.classes+'" hidefocus="1"><div class="'+e.classPrefix+'reset" role="application">'+o+'<div id="'+n+'-body" class="'+e.bodyClasses+'">'+a+"</div>"+s+"</div></div>"},fullscreen:function(t){var n,i,r=this,o=e.document.documentElement,s=r.classPrefix;if(t!==r._fullscreen)if(zt(e.window).on("resize",function(){var e;if(r._fullscreen)if(n)r._timer||(r._timer=me.setTimeout(function(){var e=It.getWindowSize();r.moveTo(0,0).resizeTo(e.w,e.h),r._timer=0},50));else{e=(new Date).getTime();var t=It.getWindowSize();r.moveTo(0,0).resizeTo(t.w,t.h),(new Date).getTime()-e>50&&(n=!0)}}),i=r.layoutRect(),r._fullscreen=t,t){r._initial={x:i.x,y:i.y,w:i.w,h:i.h},r.borderBox=Jt.parseBox("0"),r.getEl("head").style.display="none",i.deltaH-=i.headerH+2,zt([o,e.document.body]).addClass(s+"fullscreen"),r.classes.add("fullscreen");var a=It.getWindowSize();r.moveTo(0,0).resizeTo(a.w,a.h)}else r.borderBox=Jt.parseBox(r.settings.border),r.getEl("head").style.display="",i.deltaH+=i.headerH,zt([o,e.document.body]).removeClass(s+"fullscreen"),r.classes.remove("fullscreen"),r.moveTo(r._initial.x,r._initial.y).resizeTo(r._initial.w,r._initial.h);return r.reflow()},postRender:function(){var e,t=this;setTimeout(function(){t.classes.add("in"),t.fire("open")},0),t._super(),t.statusbar&&t.statusbar.postRender(),t.focus(),this.dragHelper=new f(t._id+"-dragh",{start:function(){e={x:t.layoutRect().x,y:t.layoutRect().y}},drag:function(n){t.moveTo(e.x+n.deltaX,e.y+n.deltaY)}}),t.on("submit",function(e){e.isDefaultPrevented()||t.close()}),$n.push(t),R(!0)},submit:function(){return this.fire("submit",{data:this.toJSON()})},remove:function(){var e,t=this;for(t.dragHelper.destroy(),t._super(),t.statusbar&&this.statusbar.remove(),C(t.classPrefix,!1),e=$n.length;e--;)$n[e]===t&&$n.splice(e,1);R($n.length>0)},getContentWindow:function(){var e=this.getEl().getElementsByTagName("iframe")[0];return e?e.contentWindow:null}});k();var jn=Xn.extend({init:function(e){e={border:1,padding:20,layout:"flex",pack:"center",align:"center",containerCls:"panel",autoScroll:!0,buttons:{type:"button",text:"Ok",action:"ok"},items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200}},this._super(e)},Statics:{OK:1,OK_CANCEL:2,YES_NO:3,YES_NO_CANCEL:4,msgBox:function(t){function n(e,t,n){return{type:"button",text:e,subtype:n?"primary":"",onClick:function(e){e.control.parents()[1].close(),r(t)}}}var i,r=t.callback||function(){};switch(t.buttons){case jn.OK_CANCEL:i=[n("Ok",!0,!0),n("Cancel",!1)];break;case jn.YES_NO:case jn.YES_NO_CANCEL:i=[n("Yes",1,!0),n("No",0)],t.buttons===jn.YES_NO_CANCEL&&i.push(n("Cancel",-1));break;default:i=[n("Ok",!0,!0)]}return new Xn({
padding:20,x:t.x,y:t.y,minWidth:300,minHeight:100,layout:"flex",pack:"center",align:"center",buttons:i,title:t.title,role:"alertdialog",items:{type:"label",multiline:!0,maxWidth:500,maxHeight:200,text:t.text},onPostRender:function(){this.aria("describedby",this.items()[0]._id)},onClose:t.onClose,onCancel:function(){r(!1)}}).renderTo(e.document.body).reflow()},alert:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,jn.msgBox(e)},confirm:function(e,t){return"string"==typeof e&&(e={text:e}),e.callback=t,e.buttons=jn.OK_CANCEL,jn.msgBox(e)}}}),Jn=function(e){var t=function(t){return Ln.renderUI(e,this,t)},n=function(t,n){return bt.resizeTo(e,t,n)},i=function(t,n){return bt.resizeBy(e,t,n)},r=function(){return _(e)},o=function(){return H()};return{renderUI:t,resizeTo:n,resizeBy:i,getNotificationManagerImpl:r,getWindowManagerImpl:o}},Gn={get:Jn},Kn=Xt.extend({Defaults:{firstControlClass:"first",lastControlClass:"last"},init:function(e){this.settings=O.extend({},this.Defaults,e)},preRender:function(e){e.bodyClasses.add(this.settings.containerClass)},applyClasses:function(e){var t,n,i,r,o=this,s=o.settings;t=s.firstControlClass,n=s.lastControlClass,e.each(function(e){e.classes.remove(t).remove(n).add(s.controlClass),e.visible()&&(i||(i=e),r=e)}),i&&i.classes.add(t),r&&r.classes.add(n)},renderHtml:function(e){var t=this,n="";return t.applyClasses(e.items()),e.items().each(function(e){n+=e.renderHtml()}),n},recalc:function(){},postRender:function(){},isNative:function(){return!1}}),Zn=Kn.extend({Defaults:{containerClass:"abs-layout",controlClass:"abs-layout-item"},recalc:function(e){e.items().filter(":visible").each(function(e){var t=e.settings;e.layoutRect({x:t.x,y:t.y,w:t.w,h:t.h}),e.recalc&&e.recalc()})},renderHtml:function(e){return'<div id="'+e._id+'-absend" class="'+e.classPrefix+'abs-end"></div>'+this._super(e)}}),Qn=Fn.extend({Defaults:{classes:"widget btn",role:"button"},init:function(e){var t,n=this;n._super(e),e=n.settings,t=n.settings.size,n.on("click mousedown",function(e){e.preventDefault()}),n.on("touchstart",function(e){n.fire("click",e),e.preventDefault()}),e.subtype&&n.classes.add(e.subtype),t&&n.classes.add("btn-"+t),e.icon&&n.icon(e.icon)},icon:function(e){return arguments.length?(this.state.set("icon",e),this):this.state.get("icon")},repaint:function(){var e,t=this.getEl().firstChild;t&&(e=t.style,e.width=e.height="100%"),this._super()},renderHtml:function(){var t,n,i=this,r=i._id,o=i.classPrefix,s=i.state.get("icon"),a=i.state.get("text"),l="",u=i.settings;return t=u.image,t?(s="none","string"!=typeof t&&(t=e.window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",a&&(i.classes.add("btn-has-text"),l='<span class="'+o+'txt">'+i.encode(a)+"</span>"),s=s?o+"ico "+o+"i-"+s:"",n="boolean"==typeof u.active?' aria-pressed="'+u.active+'"':"",'<div id="'+r+'" class="'+i.classes+'" tabindex="-1"'+n+'><button id="'+r+'-button" role="presentation" type="button" tabindex="-1">'+(s?'<i class="'+s+'"'+t+"></i>":"")+l+"</button></div>"},bindStates:function(){function t(e){var t=i("span."+r,n.getEl());e?(t[0]||(i("button:first",n.getEl()).append('<span class="'+r+'"></span>'),t=i("span."+r,n.getEl())),t.html(n.encode(e))):t.remove(),n.classes.toggle("btn-has-text",!!e)}var n=this,i=n.$,r=n.classPrefix+"txt";return n.state.on("change:text",function(e){t(e.value)}),n.state.on("change:icon",function(i){var r=i.value,o=n.classPrefix;n.settings.icon=r,r=r?o+"ico "+o+"i-"+n.settings.icon:"";var s=n.getEl().firstChild,a=s.getElementsByTagName("i")[0];r?(a&&a===s.firstChild||(a=e.document.createElement("i"),s.insertBefore(a,s.firstChild)),a.className=r):a&&s.removeChild(a),t(n.state.get("text"))}),n._super()}}),ei=Qn.extend({init:function(e){var t=this;e=O.extend({text:"Browse...",multiple:!1,accept:null},e),t._super(e),t.classes.add("browsebutton"),e.multiple&&t.classes.add("multiple")},postRender:function(){var e=this,t=It.create("input",{type:"file",id:e._id+"-browse",accept:e.settings.accept});e._super(),zt(t).on("change",function(t){var n=t.target.files;e.value=function(){return n.length?e.settings.multiple?n:n[0]:null},t.preventDefault(),n.length&&e.fire("change",t)}),zt(t).on("click",function(e){e.stopPropagation()}),zt(e.getEl("button")).on("click touchstart",function(e){e.stopPropagation(),t.click(),e.preventDefault()}),e.getEl().appendChild(t)},remove:function(){zt(this.getEl("button")).off(),zt(this.getEl("input")).off(),this._super()}}),ti=kn.extend({Defaults:{defaultType:"button",role:"group"},renderHtml:function(){var e=this,t=e._layout;return e.classes.add("btn-group"),e.preRender(),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}}),ni=Fn.extend({Defaults:{classes:"checkbox",role:"checkbox",checked:!1},init:function(e){var t=this;t._super(e),t.on("click mousedown",function(e){e.preventDefault()}),t.on("click",function(e){e.preventDefault(),t.disabled()||t.checked(!t.checked())}),t.checked(t.settings.checked)},checked:function(e){return arguments.length?(this.state.set("checked",e),this):this.state.get("checked")},value:function(e){return arguments.length?this.checked(e):this.checked()},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'" unselectable="on" aria-labelledby="'+t+'-al" tabindex="-1"><i class="'+n+"ico "+n+'i-checkbox"></i><span id="'+t+'-al" class="'+n+'label">'+e.encode(e.state.get("text"))+"</span></div>"},bindStates:function(){function t(e){n.classes.toggle("checked",e),n.aria("checked",e)}var n=this;return n.state.on("change:text",function(e){n.getEl("al").firstChild.data=n.translate(e.value)}),n.state.on("change:checked change:value",function(e){n.fire("change"),t(e.value)}),n.state.on("change:icon",function(t){var i=t.value,r=n.classPrefix;if("undefined"==typeof i)return n.settings.icon;n.settings.icon=i,i=i?r+"ico "+r+"i-"+n.settings.icon:"";var o=n.getEl().firstChild,s=o.getElementsByTagName("i")[0];i?(s&&s===o.firstChild||(s=e.document.createElement("i"),o.insertBefore(s,o.firstChild)),s.className=i):s&&o.removeChild(s)}),n.state.get("checked")&&t(!0),n._super()}}),ii=tinymce.util.Tools.resolve("tinymce.util.VK"),ri=Fn.extend({init:function(e){var t=this;t._super(e),e=t.settings,t.classes.add("combobox"),t.subinput=!0,t.ariaTarget="inp",e.menu=e.menu||e.values,e.menu&&(e.icon="caret"),t.on("click",function(n){var i=n.target,r=t.getEl();if(zt.contains(r,i)||i===r)for(;i&&i!==r;)i.id&&i.id.indexOf("-open")!==-1&&(t.fire("action"),e.menu&&(t.showMenu(),n.aria&&t.menu.items()[0].focus())),i=i.parentNode}),t.on("keydown",function(e){var n;13===e.keyCode&&"INPUT"===e.target.nodeName&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){if("INPUT"===e.target.nodeName){var n=t.state.get("value"),i=e.target.value;i!==n&&(t.state.set("value",i),t.fire("autocomplete",e))}}),t.on("mouseover",function(e){var n=t.tooltip().moveTo(-65535);if(t.statusLevel()&&e.target.className.indexOf(t.classPrefix+"status")!==-1){var i=t.statusMessage()||"Ok",r=n.text(i).show().testMoveRel(e.target,["bc-tc","bc-tl","bc-tr"]);n.classes.toggle("tooltip-n","bc-tc"===r),n.classes.toggle("tooltip-nw","bc-tl"===r),n.classes.toggle("tooltip-ne","bc-tr"===r),n.moveRel(e.target,r)}})},statusLevel:function(e){return arguments.length>0&&this.state.set("statusLevel",e),this.state.get("statusLevel")},statusMessage:function(e){return arguments.length>0&&this.state.set("statusMessage",e),this.state.get("statusMessage")},showMenu:function(){var e,t=this,n=t.settings;t.menu||(e=n.menu||[],e.length?e={type:"menu",items:e}:e.type=e.type||"menu",t.menu=re.create(e).parent(t).renderTo(t.getContainerElm()),t.fire("createmenu"),t.menu.reflow(),t.menu.on("cancel",function(e){e.control===t.menu&&t.focus()}),t.menu.on("show hide",function(e){e.control.items().each(function(e){e.active(e.value()===t.value())})}).fire("show"),t.menu.on("select",function(e){t.value(e.control.value())}),t.on("focusin",function(e){"INPUT"===e.target.tagName.toUpperCase()&&t.menu.hide()}),t.aria("expanded",!0)),t.menu.show(),t.menu.layoutRect({w:t.layoutRect().w}),t.menu.moveRel(t.getEl(),t.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},focus:function(){this.getEl("inp").focus()},repaint:function(){var t,n,i=this,r=i.getEl(),o=i.getEl("open"),s=i.layoutRect(),a=0,l=r.firstChild;i.statusLevel()&&"none"!==i.statusLevel()&&(a=parseInt(It.getRuntimeStyle(l,"padding-right"),10)-parseInt(It.getRuntimeStyle(l,"padding-left"),10)),t=o?s.w-It.getSize(o).width-10:s.w-10;var u=e.document;return u.all&&(!u.documentMode||u.documentMode<=8)&&(n=i.layoutRect().h-2+"px"),zt(l).css({width:t-a,lineHeight:n}),i._super(),i},postRender:function(){var e=this;return zt(this.getEl("inp")).on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)}),e._super()},renderHtml:function(){var e,t,n=this,i=n._id,r=n.settings,o=n.classPrefix,s=n.state.get("value")||"",a="",l="",u="";return"spellcheck"in r&&(l+=' spellcheck="'+r.spellcheck+'"'),r.maxLength&&(l+=' maxlength="'+r.maxLength+'"'),r.size&&(l+=' size="'+r.size+'"'),r.subtype&&(l+=' type="'+r.subtype+'"'),u='<i id="'+i+'-status" class="mce-status mce-ico" style="display: none"></i>',n.disabled()&&(l+=' disabled="disabled"'),e=r.icon,e&&"caret"!==e&&(e=o+"ico "+o+"i-"+r.icon),t=n.state.get("text"),(e||t)&&(a='<div id="'+i+'-open" class="'+o+"btn "+o+'open" tabIndex="-1" role="button"><button id="'+i+'-action" type="button" hidefocus="1" tabindex="-1">'+("caret"!==e?'<i class="'+e+'"></i>':'<i class="'+o+'caret"></i>')+(t?(e?" ":"")+t:"")+"</button></div>",n.classes.add("has-open")),'<div id="'+i+'" class="'+n.classes+'"><input id="'+i+'-inp" class="'+o+'textbox" value="'+n.encode(s,!1)+'" hidefocus="1"'+l+' placeholder="'+n.encode(r.placeholder)+'" />'+u+a+"</div>"},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl("inp").value),this.state.get("value"))},showAutoComplete:function(e,t){var n=this;if(0===e.length)return void n.hideMenu();var i=function(e,t){return function(){n.fire("selectitem",{title:t,value:e})}};n.menu?n.menu.items().remove():n.menu=re.create({type:"menu",classes:"combobox-menu",layout:"flow"}).parent(n).renderTo(),O.each(e,function(e){n.menu.add({text:e.title,url:e.previewUrl,match:t,classes:"menu-item-ellipsis",onclick:i(e.value,e.title)})}),n.menu.renderNew(),n.hideMenu(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()});var r=n.layoutRect().w;n.menu.layoutRect({w:r,minW:0,maxW:r}),n.menu.repaint(),n.menu.reflow(),n.menu.show(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"])},hideMenu:function(){this.menu&&this.menu.hide()},bindStates:function(){var e=this;e.state.on("change:value",function(t){e.getEl("inp").value!==t.value&&(e.getEl("inp").value=t.value)}),e.state.on("change:disabled",function(t){e.getEl("inp").disabled=t.value}),e.state.on("change:statusLevel",function(t){var n=e.getEl("status"),i=e.classPrefix,r=t.value;It.css(n,"display","none"===r?"none":""),It.toggleClass(n,i+"i-checkmark","ok"===r),It.toggleClass(n,i+"i-warning","warn"===r),It.toggleClass(n,i+"i-error","error"===r),e.classes.toggle("has-status","none"!==r),e.repaint()}),It.on(e.getEl("status"),"mouseleave",function(){e.tooltip().hide()}),e.on("cancel",function(t){e.menu&&e.menu.visible()&&(t.stopPropagation(),e.hideMenu())});var t=function(e,t){t&&t.items().length>0&&t.items().eq(e)[0].focus()};return e.on("keydown",function(n){var i=n.keyCode;"INPUT"===n.target.nodeName&&(i===ii.DOWN?(n.preventDefault(),e.fire("autocomplete"),t(0,e.menu)):i===ii.UP&&(n.preventDefault(),t(-1,e.menu)))}),e._super()},remove:function(){zt(this.getEl("inp")).off(),this.menu&&this.menu.remove(),this._super()}}),oi=ri.extend({init:function(e){var t=this;e.spellcheck=!1,e.onaction&&(e.icon="none"),t._super(e),t.classes.add("colorbox"),t.on("change keyup postrender",function(){t.repaintColor(t.value())})},repaintColor:function(e){var t=this.getEl("open"),n=t?t.getElementsByTagName("i")[0]:null;if(n)try{n.style.background=e}catch(i){}},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.state.get("rendered")&&e.repaintColor(t.value)}),e._super()}}),si=Qn.extend({showPanel:function(){var e=this,t=e.settings;if(e.classes.add("opened"),e.panel)e.panel.show();else{var n=t.panel;n.type&&(n={layout:"grid",items:n}),n.role=n.role||"dialog",n.popover=!0,n.autohide=!0,n.ariaRoot=!0,e.panel=new Pn(n).on("hide",function(){e.classes.remove("opened")}).on("cancel",function(t){t.stopPropagation(),e.focus(),e.hidePanel()}).parent(e).renderTo(e.getContainerElm()),e.panel.fire("show"),e.panel.reflow()}var i=["bc-tc","bc-tl","bc-tr"],r=["bc-tc","bc-tr","bc-tl","tc-bc","tc-br","tc-bl"],o=e.panel.testMoveRel(e.getEl(),t.popoverAlign||(e.isRtl()?i:r));e.panel.classes.toggle("start","l"===o.substr(-1)),e.panel.classes.toggle("end","r"===o.substr(-1));var s="t"===o.substr(0,1);e.panel.classes.toggle("bottom",!s),e.panel.classes.toggle("top",s),e.panel.moveRel(e.getEl(),o)},hidePanel:function(){var e=this;e.panel&&e.panel.hide()},postRender:function(){var e=this;return e.aria("haspopup",!0),e.on("click",function(t){t.control===e&&(e.panel&&e.panel.visible()?e.hidePanel():(e.showPanel(),e.panel.focus(!!t.aria)))}),e._super()},remove:function(){return this.panel&&(this.panel.remove(),this.panel=null),this._super()}}),ai=ie.DOM,li=si.extend({init:function(e){this._super(e),this.classes.add("splitbtn"),this.classes.add("colorbutton")},color:function(e){return e?(this._color=e,this.getEl("preview").style.backgroundColor=e,this):this._color},resetColor:function(){return this._color=null,this.getEl("preview").style.backgroundColor=null,this},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix,i=e.state.get("text"),r=e.settings.icon?n+"ico "+n+"i-"+e.settings.icon:"",o=e.settings.image?" style=\"background-image: url('"+e.settings.image+"')\"":"",s="";return i&&(e.classes.add("btn-has-text"),s='<span class="'+n+'txt">'+e.encode(i)+"</span>"),'<div id="'+t+'" class="'+e.classes+'" role="button" tabindex="-1" aria-haspopup="true"><button role="presentation" hidefocus="1" type="button" tabindex="-1">'+(r?'<i class="'+r+'"'+o+"></i>":"")+'<span id="'+t+'-preview" class="'+n+'preview"></span>'+s+'</button><button type="button" class="'+n+'open" hidefocus="1" tabindex="-1"> <i class="'+n+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(n){n.aria&&"down"===n.aria.key||n.control!==e||ai.getParent(n.target,"."+e.classPrefix+"open")||(n.stopImmediatePropagation(),t.call(e,n))}),delete e.settings.onclick,e._super()}}),ui=tinymce.util.Tools.resolve("tinymce.util.Color"),ci=Fn.extend({Defaults:{classes:"widget colorpicker"},init:function(e){this._super(e)},postRender:function(){function e(e,t){var n,i,r=It.getPos(e);return n=t.pageX-r.x,i=t.pageY-r.y,n=Math.max(0,Math.min(n/e.clientWidth,1)),i=Math.max(0,Math.min(i/e.clientHeight,1)),{x:n,y:i}}function t(e,t){var n=(360-e.h)/360;It.css(s,{top:100*n+"%"}),t||It.css(l,{left:e.s+"%",top:100-e.v+"%"}),a.style.background=ui({s:100,v:100,h:e.h}).toHex(),u.color().parse({s:e.s,v:e.v,h:e.h})}function n(n){var i;i=e(a,n),r.s=100*i.x,r.v=100*(1-i.y),t(r),u.fire("change")}function i(n){var i;i=e(o,n),r=c.toHsv(),r.h=360*(1-i.y),t(r,!0),u.fire("change")}var r,o,s,a,l,u=this,c=u.color();o=u.getEl("h"),s=u.getEl("hp"),a=u.getEl("sv"),l=u.getEl("svp"),u._repaint=function(){r=c.toHsv(),t(r)},u._super(),u._svdraghelper=new f(u._id+"-sv",{start:n,drag:n}),u._hdraghelper=new f(u._id+"-h",{start:i,drag:i}),u._repaint()},rgb:function(){return this.color().toRgb()},value:function(e){var t=this;return arguments.length?(t.color().parse(e),void(t._rendered&&t._repaint())):t.color().toHex()},color:function(){return this._color||(this._color=ui()),this._color},renderHtml:function(){function e(){var e,t,n,i,s="";for(n="filter:progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr=",i=o.split(","),e=0,t=i.length-1;e<t;e++)s+='<div class="'+r+'colorpicker-h-chunk" style="height:'+100/t+"%;"+n+i[e]+",endColorstr="+i[e+1]+");-ms-"+n+i[e]+",endColorstr="+i[e+1]+')"></div>';return s}var t,n=this,i=n._id,r=n.classPrefix,o="#ff0000,#ff0080,#ff00ff,#8000ff,#0000ff,#0080ff,#00ffff,#00ff80,#00ff00,#80ff00,#ffff00,#ff8000,#ff0000",s="background: -ms-linear-gradient(top,"+o+");background: linear-gradient(to bottom,"+o+");";return t='<div id="'+i+'-h" class="'+r+'colorpicker-h" style="'+s+'">'+e()+'<div id="'+i+'-hp" class="'+r+'colorpicker-h-marker"></div></div>','<div id="'+i+'" class="'+n.classes+'"><div id="'+i+'-sv" class="'+r+'colorpicker-sv"><div class="'+r+'colorpicker-overlay1"><div class="'+r+'colorpicker-overlay2"><div id="'+i+'-svp" class="'+r+'colorpicker-selector1"><div class="'+r+'colorpicker-selector2"></div></div></div></div></div>'+t+"</div>"}}),di=Fn.extend({init:function(e){var t=this;e=O.extend({height:100,text:"Drop an image here",multiple:!1,accept:null},e),t._super(e),t.classes.add("dropzone"),e.multiple&&t.classes.add("multiple")},renderHtml:function(){var e,t,n=this,i=n.settings;return e={id:n._id,hidefocus:"1"},t=It.create("div",e,"<span>"+this.translate(i.text)+"</span>"),i.height&&It.css(t,"height",i.height+"px"),i.width&&It.css(t,"width",i.width+"px"),t.className=n.classes,t.outerHTML},postRender:function(){var e=this,t=function(t){t.preventDefault(),e.classes.toggle("dragenter"),e.getEl().className=e.classes},n=function(t){var n=e.settings.accept;if("string"!=typeof n)return t;var i=new RegExp("("+n.split(/\s*,\s*/).join("|")+")$","i");return O.grep(t,function(e){return i.test(e.name)})};e._super(),e.$el.on("dragover",function(e){e.preventDefault()}),e.$el.on("dragenter",t),e.$el.on("dragleave",t),e.$el.on("drop",function(t){if(t.preventDefault(),!e.state.get("disabled")){var i=n(t.dataTransfer.files);e.value=function(){return i.length?e.settings.multiple?i:i[0]:null},i.length&&e.fire("change",t)}})},remove:function(){this.$el.off(),this._super()}}),fi=Fn.extend({init:function(e){var t=this;e.delimiter||(e.delimiter="»"),t._super(e),t.classes.add("path"),t.canFocus=!0,t.on("click",function(e){var n,i=e.target;(n=i.getAttribute("data-index"))&&t.fire("select",{value:t.row()[n],index:n})}),t.row(t.settings.row)},focus:function(){var e=this;return e.getEl().firstChild.focus(),e},row:function(e){return arguments.length?(this.state.set("row",e),this):this.state.get("row")},renderHtml:function(){var e=this;return'<div id="'+e._id+'" class="'+e.classes+'">'+e._getDataPathHtml(e.state.get("row"))+"</div>"},bindStates:function(){var e=this;return e.state.on("change:row",function(t){e.innerHtml(e._getDataPathHtml(t.value))}),e._super()},_getDataPathHtml:function(e){var t,n,i=this,r=e||[],o="",s=i.classPrefix;for(t=0,n=r.length;t<n;t++)o+=(t>0?'<div class="'+s+'divider" aria-hidden="true"> '+i.settings.delimiter+" </div>":"")+'<div role="button" class="'+s+"path-item"+(t===n-1?" "+s+"last":"")+'" data-index="'+t+'" tabindex="-1" id="'+i._id+"-"+t+'" aria-level="'+(t+1)+'">'+r[t].name+"</div>";return o||(o='<div class="'+s+'path-item"> </div>'),o}}),hi=fi.extend({postRender:function(){function e(e){if(1===e.nodeType){if("BR"===e.nodeName||e.getAttribute("data-mce-bogus"))return!0;if("bookmark"===e.getAttribute("data-mce-type"))return!0}return!1}var t=this,n=t.settings.editor;return n.settings.elementpath!==!1&&(t.on("select",function(e){n.focus(),n.selection.select(this.row()[e.index].element),n.nodeChanged()}),n.on("nodeChange",function(i){for(var r=[],o=i.parents,s=o.length;s--;)if(1===o[s].nodeType&&!e(o[s])){var a=n.fire("ResolveName",{name:o[s].nodeName.toLowerCase(),target:o[s]});if(a.isDefaultPrevented()||r.push({name:a.name,element:o[s]}),a.isPropagationStopped())break}t.row(r)})),t._super()}}),mi=kn.extend({Defaults:{layout:"flex",align:"center",defaults:{flex:1}},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.classes.add("formitem"),t.preRender(e),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<div id="'+e._id+'-title" class="'+n+'title">'+e.settings.title+"</div>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></div>"}}),gi=kn.extend({Defaults:{containerCls:"form",layout:"flex",direction:"column",align:"stretch",flex:1,padding:15,labelGap:30,spacing:10,callbacks:{submit:function(){this.submit()}}},preRender:function(){var e=this,t=e.items();e.settings.formItemDefaults||(e.settings.formItemDefaults={layout:"flex",autoResize:"overflow",defaults:{flex:1}}),t.each(function(t){var n,i=t.settings.label;i&&(n=new mi(O.extend({items:{type:"label",id:t._id+"-l",text:i,flex:0,forId:t._id,disabled:t.disabled()}},e.settings.formItemDefaults)),n.type="formitem",t.aria("labelledby",t._id+"-l"),"undefined"==typeof t.settings.flex&&(t.settings.flex=1),e.replace(t,n),n.add(t))})},submit:function(){return this.fire("submit",{data:this.toJSON()})},postRender:function(){var e=this;e._super(),e.fromJSON(e.settings.data)},bindStates:function(){function e(){var e,n,i,r=0,o=[];if(t.settings.labelGapCalc!==!1)for(i="children"===t.settings.labelGapCalc?t.find("formitem"):t.items(),i.filter("formitem").each(function(e){var t=e.items()[0],n=t.getEl().clientWidth;r=n>r?n:r,o.push(t)}),n=t.settings.labelGap||0,e=o.length;e--;)o[e].settings.minWidth=r+n}var t=this;t._super(),t.on("show",e),e()}}),pi=gi.extend({Defaults:{containerCls:"fieldset",layout:"flex",direction:"column",align:"stretch",flex:1,padding:"25 15 5 15",labelGap:30,spacing:10,border:1},renderHtml:function(){var e=this,t=e._layout,n=e.classPrefix;return e.preRender(),t.preRender(e),'<fieldset id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1">'+(e.settings.title?'<legend id="'+e._id+'-title" class="'+n+'fieldset-title">'+e.settings.title+"</legend>":"")+'<div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+(e.settings.html||"")+t.renderHtml(e)+"</div></fieldset>"}}),vi=0,bi=function(e){var t=new Date,n=t.getTime(),i=Math.floor(1e9*Math.random());return vi++,e+"_"+i+vi+String(n)},yi=function(t,n){var i=n||e.document,r=i.createElement("div");if(r.innerHTML=t,!r.hasChildNodes()||r.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return _i(r.childNodes[0])},xi=function(t,n){var i=n||e.document,r=i.createElement(t);return _i(r)},wi=function(t,n){var i=n||e.document,r=i.createTextNode(t);return _i(r)},_i=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:pe(e)}},Ri=function(e,t,n){var i=e.dom();return Re.from(i.elementFromPoint(t,n)).map(_i)},Ci={fromHtml:yi,fromTag:xi,fromText:wi,fromDom:_i,fromPoint:Ri},Ei=function(e){var t,n=!1;return function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];return n||(n=!0,t=e.apply(null,i)),t}},ki=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE),Hi=(e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),Ti=(e.Node.TEXT_NODE,e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,"undefined"!=typeof e.window?e.window:Function("return this;")()),Si=function(e,t){for(var n=void 0!==t&&null!==t?t:Ti,i=0;i<e.length&&void 0!==n&&null!==n;++i)n=n[e[i]];return n},Mi=function(e,t){var n=e.split(".");return Si(n,t)},Ni=function(e,t){return Mi(e,t)},Pi=function(e,t){var n=Ni(e,t);if(void 0===n||null===n)throw new Error(e+" not available on this browser");return n},Wi={getOrDie:Pi},Di=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var i={};return Ze(e,function(e,n){i[e]=pe(t[n])}),i}},Bi=function(){var e=Wi.getOrDie("Node");return e},Oi=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Ai=function(e,t){return Oi(e,t,Bi().DOCUMENT_POSITION_PRECEDING)},zi=function(e,t){return Oi(e,t,Bi().DOCUMENT_POSITION_CONTAINED_BY)},Li={documentPositionPreceding:Ai,documentPositionContainedBy:zi},Ii=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.test(t))return i}},Fi=function(e,t){var n=Ii(e,t);if(!n)return{major:0,minor:0};var i=function(e){return Number(t.replace(n,"$"+e))};return Yi(i(1),i(2))},Ui=function(e,t){var n=String(t).toLowerCase();return 0===e.length?Vi():Fi(e,n)},Vi=function(){return Yi(0,0)},Yi=function(e,t){return{major:e,minor:t}},$i={nu:Yi,detect:Ui,unknown:Vi},qi="Edge",Xi="Chrome",ji="IE",Ji="Opera",Gi="Firefox",Ki="Safari",Zi=function(e,t){return function(){return t===e}},Qi=function(){return er({current:void 0,version:$i.unknown()})},er=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:Zi(qi,t),isChrome:Zi(Xi,t),isIE:Zi(ji,t),isOpera:Zi(Ji,t),isFirefox:Zi(Gi,t),isSafari:Zi(Ki,t)}},tr={unknown:Qi,nu:er,edge:pe(qi),chrome:pe(Xi),ie:pe(ji),opera:pe(Ji),firefox:pe(Gi),safari:pe(Ki)},nr="Windows",ir="iOS",rr="Android",or="Linux",sr="OSX",ar="Solaris",lr="FreeBSD",ur=function(e,t){return function(){return t===e}},cr=function(){return dr({current:void 0,version:$i.unknown()})},dr=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:ur(nr,t),isiOS:ur(ir,t),isAndroid:ur(rr,t),isOSX:ur(sr,t),isLinux:ur(or,t),isSolaris:ur(ar,t),isFreeBSD:ur(lr,t)}},fr={unknown:cr,nu:dr,windows:pe(nr),ios:pe(ir),android:pe(rr),linux:pe(or),osx:pe(sr),solaris:pe(ar),freebsd:pe(lr)},hr=function(e,t,n){var i=e.isiOS()&&/ipad/i.test(n)===!0,r=e.isiOS()&&!i,o=e.isAndroid()&&3===e.version.major,s=e.isAndroid()&&4===e.version.major,a=i||o||s&&/mobile/i.test(n)===!0,l=e.isiOS()||e.isAndroid(),u=l&&!a,c=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1;return{isiPad:pe(i),isiPhone:pe(r),isTablet:pe(a),isPhone:pe(u),isTouch:pe(l),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:pe(c)}},mr=function(e,t){var n=String(t).toLowerCase();return tt(e,function(e){return e.search(n)})},gr=function(e,t){return mr(e,t).map(function(e){var n=$i.detect(e.versionRegexes,t);return{current:e.name,version:n}})},pr=function(e,t){return mr(e,t).map(function(e){var n=$i.detect(e.versionRegexes,t);return{current:e.name,version:n}})},vr={detectBrowser:gr,detectOs:pr},br=function(e,t){return e.indexOf(t)!==-1},yr=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,xr=function(e){return function(t){return br(t,e)}},wr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return br(e,"edge/")&&br(e,"chrome")&&br(e,"safari")&&br(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,yr],search:function(e){return br(e,"chrome")&&!br(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return br(e,"msie")||br(e,"trident")}},{name:"Opera",versionRegexes:[yr,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:xr("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:xr("firefox")},{name:"Safari",versionRegexes:[yr,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(br(e,"safari")||br(e,"mobile/"))&&br(e,"applewebkit")}}],_r=[{name:"Windows",search:xr("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return br(e,"iphone")||br(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:xr("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:xr("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:xr("linux"),versionRegexes:[]},{name:"Solaris",search:xr("sunos"),versionRegexes:[]},{name:"FreeBSD",search:xr("freebsd"),versionRegexes:[]}],Rr={browsers:pe(wr),oses:pe(_r)},Cr=function(e){var t=Rr.browsers(),n=Rr.oses(),i=vr.detectBrowser(t,e).fold(tr.unknown,tr.nu),r=vr.detectOs(n,e).fold(fr.unknown,fr.nu),o=hr(r,i,e);return{browser:i,os:r,deviceType:o}},Er={detect:Cr},kr=Ei(function(){var t=e.navigator.userAgent;return Er.detect(t)}),Hr={detect:kr},Tr=Hi,Sr=ki,Mr=function(e){return e.nodeType!==Tr&&e.nodeType!==Sr||0===e.childElementCount},Nr=function(t,n){var i=void 0===n?e.document:n.dom();return Mr(i)?[]:Ke(i.querySelectorAll(t),Ci.fromDom)},Pr=function(t,n){var i=void 0===n?e.document:n.dom();return Mr(i)?Re.none():Re.from(i.querySelector(t)).map(Ci.fromDom)},Wr=function(e,t){var n=e.dom(),i=t.dom();return n!==i&&n.contains(i)},Dr=function(e,t){return Li.documentPositionContainedBy(e.dom(),t.dom())},Br=Hr.detect().browser,Or=(Br.isIE()?Dr:Wr,Di("element","offset"),function(e,t){return Nr(t,e)}),Ar=O.trim,zr=function(e){return function(t){if(t&&1===t.nodeType){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},Lr=zr("true"),Ir=zr("false"),Fr=function(e,t,n,i,r){return{type:e,title:t,url:n,level:i,attach:r}},Ur=function(e){for(;e=e.parentNode;){var t=e.contentEditable;if(t&&"inherit"!==t)return Lr(e)}return!1},Vr=function(e,t){return Ke(Or(Ci.fromDom(t),e),function(e){return e.dom()})},Yr=function(e){return e.innerText||e.textContent},$r=function(e){return e.id?e.id:bi("h")},qr=function(e){return e&&"A"===e.nodeName&&(e.id||e.name)},Xr=function(e){return qr(e)&&Jr(e)},jr=function(e){return e&&/^(H[1-6])$/.test(e.nodeName)},Jr=function(e){return Ur(e)&&!Ir(e)},Gr=function(e){return jr(e)&&Jr(e)},Kr=function(e){return jr(e)?parseInt(e.nodeName.substr(1),10):0},Zr=function(e){var t=$r(e),n=function(){e.id=t};return Fr("header",Yr(e),"#"+t,Kr(e),n)},Qr=function(e){var t=e.id||e.name,n=Yr(e);return Fr("anchor",n?n:"#"+t,"#"+t,0,ge)},eo=function(e){return Ke(Qe(e,Gr),Zr)},to=function(e){return Ke(Qe(e,Xr),Qr)},no=function(e){var t=Vr("h1,h2,h3,h4,h5,h6,a:not([href])",e);return t},io=function(e){return Ar(e.title).length>0},ro=function(e){var t=no(e);return Qe(eo(t).concat(to(t)),io)},oo={find:ro},so=function(){return window.tinymce?window.tinymce.activeEditor:B.activeEditor},ao={},lo=5,uo=function(){ao={}},co=function(e){return{title:e.title,value:{title:{raw:e.title},url:e.url,attach:e.attach}}},fo=function(e){return O.map(e,co)},ho=function(e,t){return{title:e,value:{title:e,url:t,attach:ge}}},mo=function(e,t){var n=Ge(t,function(t){return t.url===e});return!n},go=function(e,t,n){var i=t in e?e[t]:n;return i===!1?null:i},po=function(e,t,n,i){var r={title:"-"},o=function(e){var i=e.hasOwnProperty(n)?e[n]:[],r=Qe(i,function(e){return mo(e,t)});return O.map(r,function(e){return{title:e,value:{title:e,url:e,attach:ge}}})},s=function(e){var n=Qe(t,function(t){return t.type===e});return fo(n)},a=function(){var e=s("anchor"),t=go(i,"anchor_top","#top"),n=go(i,"anchor_bottom","#bottom");return null!==t&&e.unshift(ho("<top>",t)),null!==n&&e.push(ho("<bottom>",n)),e},l=function(e){return et(e,function(e,t){var n=0===e.length||0===t.length;return n?e.concat(t):e.concat(r,t)},[])};return i.typeahead_urls===!1?[]:"file"===n?l([bo(e,o(ao)),bo(e,s("header")),bo(e,a())]):bo(e,o(ao))},vo=function(e,t){var n=ao[t];/^https?/.test(e)&&(n?Je(n,e).isNone()&&(ao[t]=n.slice(0,lo).concat(e)):ao[t]=[e])},bo=function(e,t){var n=e.toLowerCase(),i=O.grep(t,function(e){return e.title.toLowerCase().indexOf(n)!==-1});return 1===i.length&&i[0].title===e?[]:i},yo=function(e){var t=e.title;return t.raw?t.raw:t},xo=function(e,t,n,i){var r=function(r){var o=oo.find(n),s=po(r,o,i,t);e.showAutoComplete(s,r)};e.on("autocomplete",function(){r(e.value())}),e.on("selectitem",function(t){var n=t.value;e.value(n.url);var r=yo(n);"image"===i?e.fire("change",{meta:{alt:r,attach:n.attach}}):e.fire("change",{meta:{text:r,attach:n.attach
}}),e.focus()}),e.on("click",function(t){0===e.value().length&&"INPUT"===t.target.nodeName&&r("")}),e.on("PostRender",function(){e.getRoot().on("submit",function(t){t.isDefaultPrevented()||vo(e.value(),i)})})},wo=function(e){var t=e.status,n=e.message;return"valid"===t?{status:"ok",message:n}:"unknown"===t?{status:"warn",message:n}:"invalid"===t?{status:"warn",message:n}:{status:"none",message:""}},_o=function(e,t,n){var i=t.filepicker_validator_handler;if(i){var r=function(t){return 0===t.length?void e.statusLevel("none"):void i({url:t,type:n},function(t){var n=wo(t);e.statusMessage(n.message),e.statusLevel(n.status)})};e.state.on("change:value",function(e){r(e.value)})}},Ro=ri.extend({Statics:{clearHistory:uo},init:function(e){var t,n,i,r=this,o=so(),s=o.settings,a=e.filetype;e.spellcheck=!1,i=s.file_picker_types||s.file_browser_callback_types,i&&(i=O.makeMap(i,/[, ]/)),i&&!i[a]||(n=s.file_picker_callback,!n||i&&!i[a]?(n=s.file_browser_callback,!n||i&&!i[a]||(t=function(){n(r.getEl("inp").id,r.value(),a,window)})):t=function(){var e=r.fire("beforecall").meta;e=O.extend({filetype:a},e),n.call(o,function(e,t){r.value(e).fire("change",{meta:t})},r.value(),e)}),t&&(e.icon="browse",e.onaction=t),r._super(e),r.classes.add("filepicker"),xo(r,s,o.getBody(),a),_o(r,s,a)}}),Co=Zn.extend({recalc:function(e){var t=e.layoutRect(),n=e.paddingBox;e.items().filter(":visible").each(function(e){e.layoutRect({x:n.left,y:n.top,w:t.innerW-n.right-n.left,h:t.innerH-n.top-n.bottom}),e.recalc&&e.recalc()})}}),Eo=Zn.extend({recalc:function(e){var t,n,i,r,o,s,a,l,u,c,d,f,h,m,g,p,v,b,y,x,w,_,R,C,E,k,H,T,S,M,N,P,W,D,B,O,A,z,L=[],I=Math.max,F=Math.min;for(i=e.items().filter(":visible"),r=e.layoutRect(),o=e.paddingBox,s=e.settings,f=e.isRtl()?s.direction||"row-reversed":s.direction,a=s.align,l=e.isRtl()?s.pack||"end":s.pack,u=s.spacing||0,"row-reversed"!==f&&"column-reverse"!==f||(i=i.set(i.toArray().reverse()),f=f.split("-")[0]),"column"===f?(E="y",R="h",C="minH",k="maxH",T="innerH",H="top",S="deltaH",M="contentH",B="left",W="w",N="x",P="innerW",D="minW",O="right",A="deltaW",z="contentW"):(E="x",R="w",C="minW",k="maxW",T="innerW",H="left",S="deltaW",M="contentW",B="top",W="h",N="y",P="innerH",D="minH",O="bottom",A="deltaH",z="contentH"),d=r[T]-o[H]-o[H],_=c=0,t=0,n=i.length;t<n;t++)h=i[t],m=h.layoutRect(),g=h.settings,p=g.flex,d-=t<n-1?u:0,p>0&&(c+=p,m[k]&&L.push(h),m.flex=p),d-=m[C],v=o[B]+m[D]+o[O],v>_&&(_=v);if(x={},d<0?x[C]=r[C]-d+r[S]:x[C]=r[T]-d+r[S],x[D]=_+r[A],x[M]=r[T]-d,x[z]=_,x.minW=F(x.minW,r.maxW),x.minH=F(x.minH,r.maxH),x.minW=I(x.minW,r.startMinWidth),x.minH=I(x.minH,r.startMinHeight),!r.autoResize||x.minW===r.minW&&x.minH===r.minH){for(y=d/c,t=0,n=L.length;t<n;t++)h=L[t],m=h.layoutRect(),b=m[k],v=m[C]+m.flex*y,v>b?(d-=m[k]-m[C],c-=m.flex,m.flex=0,m.maxFlexSize=b):m.maxFlexSize=0;for(y=d/c,w=o[H],x={},0===c&&("end"===l?w=d+o[H]:"center"===l?(w=Math.round(r[T]/2-(r[T]-d)/2)+o[H],w<0&&(w=o[H])):"justify"===l&&(w=o[H],u=Math.floor(d/(i.length-1)))),x[N]=o[B],t=0,n=i.length;t<n;t++)h=i[t],m=h.layoutRect(),v=m.maxFlexSize||m[C],"center"===a?x[N]=Math.round(r[P]/2-m[W]/2):"stretch"===a?(x[W]=I(m[D]||0,r[P]-o[B]-o[O]),x[N]=o[B]):"end"===a&&(x[N]=r[P]-m[W]-o.top),m.flex>0&&(v+=m.flex*y),x[R]=v,x[E]=w,h.layoutRect(x),h.recalc&&h.recalc(),w+=v+u}else if(x.w=x.minW,x.h=x.minH,e.layoutRect(x),this.recalc(e),null===e._lastRect){var U=e.parent();U&&(U._lastRect=null,U.recalc())}}}),ko=Kn.extend({Defaults:{containerClass:"flow-layout",controlClass:"flow-layout-item",endClass:"break"},recalc:function(e){e.items().filter(":visible").each(function(e){e.recalc&&e.recalc()})},isNative:function(){return!0}}),Ho=function(e,t){return Pr(t,e)},To=function(e,t){return function(){e.execCommand("mceToggleFormat",!1,t)}},So=function(e,t,n){var i=function(e){n(e,t)};e.formatter?e.formatter.formatChanged(t,i):e.on("init",function(){e.formatter.formatChanged(t,i)})},Mo=function(e,t){return function(n){So(e,t,function(e){n.control.active(e)})}},No=function(e){var t=["alignleft","aligncenter","alignright","alignjustify"],n="alignleft",i=[{text:"Left",icon:"alignleft",onclick:To(e,"alignleft")},{text:"Center",icon:"aligncenter",onclick:To(e,"aligncenter")},{text:"Right",icon:"alignright",onclick:To(e,"alignright")},{text:"Justify",icon:"alignjustify",onclick:To(e,"alignjustify")}];e.addMenuItem("align",{text:"Align",menu:i}),e.addButton("align",{type:"menubutton",icon:n,menu:i,onShowMenu:function(n){var i=n.control.menu;O.each(t,function(t,n){i.items().eq(n).each(function(n){return n.active(e.formatter.match(t))})})},onPostRender:function(i){var r=i.control;O.each(t,function(t,i){So(e,t,function(e){r.icon(n),e&&r.icon(t)})})}}),O.each({alignleft:["Align left","JustifyLeft"],aligncenter:["Align center","JustifyCenter"],alignright:["Align right","JustifyRight"],alignjustify:["Justify","JustifyFull"],alignnone:["No alignment","JustifyNone"]},function(t,n){e.addButton(n,{active:!1,tooltip:t[0],cmd:t[1],onPostRender:Mo(e,n)})})},Po={register:No},Wo=function(e){return e?e.split(",")[0]:""},Do=function(e,t){var n,i=t?t.toLowerCase():"";return O.each(e,function(e){e.value.toLowerCase()===i&&(n=e.value)}),O.each(e,function(e){n||Wo(e.value).toLowerCase()!==Wo(i).toLowerCase()||(n=e.value)}),n},Bo=function(e,t){return function(){var n=this;n.state.set("value",null),e.on("init nodeChange",function(i){var r=e.queryCommandValue("FontName"),o=Do(t,r);n.value(o?o:null),!o&&r&&n.text(Wo(r))})}},Oo=function(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e},Ao=function(e){var t="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",n=Oo(e.settings.font_formats||t);return O.map(n,function(e){return{text:{raw:e[0]},value:e[1],textStyle:e[1].indexOf("dings")===-1?"font-family:"+e[1]:""}})},zo=function(e){e.addButton("fontselect",function(){var t=Ao(e);return{type:"listbox",text:"Font Family",tooltip:"Font Family",values:t,fixedWidth:!0,onPostRender:Bo(e,t),onselect:function(t){t.control.settings.value&&e.execCommand("FontName",!1,t.control.settings.value)}}})},Lo=function(e){zo(e)},Io={register:Lo},Fo=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},Uo=function(e,t){return/[0-9.]+px$/.test(e)?Fo(72*parseInt(e,10)/96,t||0)+"pt":e},Vo=function(e,t,n){var i;return O.each(e,function(e){e.value===n?i=n:e.value===t&&(i=t)}),i},Yo=function(e,t){return function(){var n=this;e.on("init nodeChange",function(i){var r,o,s,a;if(r=e.queryCommandValue("FontSize"))for(s=3;!a&&s>=0;s--)o=Uo(r,s),a=Vo(t,o,r);n.value(a?a:null),a||n.text(o)})}},$o=function(e){var t="8pt 10pt 12pt 14pt 18pt 24pt 36pt",n=e.settings.fontsize_formats||t;return O.map(n.split(" "),function(e){var t=e,n=e,i=e.split("=");return i.length>1&&(t=i[0],n=i[1]),{text:t,value:n}})},qo=function(e){e.addButton("fontsizeselect",function(){var t=$o(e);return{type:"listbox",text:"Font Sizes",tooltip:"Font Sizes",values:t,fixedWidth:!0,onPostRender:Yo(e,t),onclick:function(t){t.control.settings.value&&e.execCommand("FontSize",!1,t.control.settings.value)}}})},Xo=function(e){qo(e)},jo={register:Xo},Jo=function(e,t){var n=t.length;return O.each(t,function(t){t.menu&&(t.hidden=0===Jo(e,t.menu));var i=t.format;i&&(t.hidden=!e.formatter.canApply(i)),t.hidden&&n--}),n},Go=function(e,t){var n=t.items().length;return t.items().each(function(t){t.menu&&t.visible(Go(e,t.menu)>0),!t.menu&&t.settings.menu&&t.visible(Jo(e,t.settings.menu)>0);var i=t.settings.format;i&&t.visible(e.formatter.canApply(i)),t.visible()||n--}),n},Ko=function(e){var t=0,n=[],i=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",icon:"bold",format:"bold"},{title:"Italic",icon:"italic",format:"italic"},{title:"Underline",icon:"underline",format:"underline"},{title:"Strikethrough",icon:"strikethrough",format:"strikethrough"},{title:"Superscript",icon:"superscript",format:"superscript"},{title:"Subscript",icon:"subscript",format:"subscript"},{title:"Code",icon:"code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Alignment",items:[{title:"Left",icon:"alignleft",format:"alignleft"},{title:"Center",icon:"aligncenter",format:"aligncenter"},{title:"Right",icon:"alignright",format:"alignright"},{title:"Justify",icon:"alignjustify",format:"alignjustify"}]}],r=function(e){var i=[];if(e)return O.each(e,function(e){var o={text:e.title,icon:e.icon};if(e.items)o.menu=r(e.items);else{var s=e.format||"custom"+t++;e.format||(e.name=s,n.push(e)),o.format=s,o.cmd=e.cmd}i.push(o)}),i},o=function(){var t;return t=r(e.settings.style_formats_merge?e.settings.style_formats?i.concat(e.settings.style_formats):i:e.settings.style_formats||i)};return e.on("init",function(){O.each(n,function(t){e.formatter.register(t.name,t)})}),{type:"menu",items:o(),onPostRender:function(t){e.fire("renderFormatsMenu",{control:t.control})},itemDefaults:{preview:!0,textStyle:function(){if(this.settings.format)return e.formatter.getCssText(this.settings.format)},onPostRender:function(){var t=this;t.parent().on("show",function(){var n,i;n=t.settings.format,n&&(t.disabled(!e.formatter.canApply(n)),t.active(e.formatter.match(n))),i=t.settings.cmd,i&&t.active(e.queryCommandState(i))})},onclick:function(){this.settings.format&&To(e,this.settings.format)(),this.settings.cmd&&e.execCommand(this.settings.cmd)}}}},Zo=function(e,t){e.addMenuItem("formats",{text:"Formats",menu:t})},Qo=function(e,t){e.addButton("styleselect",{type:"menubutton",text:"Formats",menu:t,onShowMenu:function(){e.settings.style_formats_autohide&&Go(e,this.menu)}})},es=function(e){var t=Ko(e);Zo(e,t),Qo(e,t)},ts={register:es},ns="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",is=function(e){e=e.replace(/;$/,"").split(";");for(var t=e.length;t--;)e[t]=e[t].split("=");return e},rs=function(e,t,n){return function(){var i=this;e.on("nodeChange",function(r){var o=e.formatter,s=null;O.each(r.parents,function(e){if(O.each(t,function(t){if(n?o.matchNode(e,n,{value:t.value})&&(s=t.value):o.matchNode(e,t.value)&&(s=t.value),s)return!1}),s)return!1}),i.value(s)})}},os=function(e,t){return function(){var n=[];return O.each(t,function(t){n.push({text:t[0],value:t[1],textStyle:function(){return e.formatter.getCssText(t[1])}})}),{type:"listbox",text:t[0][0],values:n,fixedWidth:!0,onselect:function(t){if(t.control){var n=t.control.value();To(e,n)()}},onPostRender:rs(e,n)}}},ss=function(e,t){return O.map(t,function(t){return{text:t[0],onclick:To(e,t[1]),textStyle:function(){return e.formatter.getCssText(t[1])}}})},as=function(e){var t=is(e.settings.block_formats||ns);e.addMenuItem("blockformats",{text:"Blocks",menu:ss(e,t)}),e.addButton("formatselect",os(e,t))},ls={register:as},us=function(e,t){var n,i;if("string"==typeof t)i=t.split(" ");else if(O.isArray(t))return it(O.map(t,function(t){return us(e,t)}));return n=O.grep(i,function(t){return"|"===t||t in e.menuItems}),O.map(n,function(t){return"|"===t?{text:"-"}:e.menuItems[t]})},cs=function(e){return e&&"-"===e.text},ds=function(e){var t=Qe(e,function(t,n){return!cs(t)||!cs(e[n-1])});return Qe(t,function(e,n){return!cs(e)||n>0&&n<t.length-1})},fs=function(e,t){var n=[{text:"-"}],i=O.grep(e.menuItems,function(e){return e.context===t});return O.each(i,function(e){"before"===e.separator&&n.push({text:"|"}),e.prependToContext?n.unshift(e):n.push(e),"after"===e.separator&&n.push({text:"|"})}),n},hs=function(e){var t=e.settings.insert_button_items;return ds(t?us(e,t):fs(e,"insert"))},ms=function(e){e.addButton("insert",{type:"menubutton",icon:"insert",menu:[],oncreatemenu:function(){this.menu.add(hs(e)),this.menu.renderNew()}})},gs=function(e){ms(e)},ps={register:gs},vs=function(e){O.each({bold:"Bold",italic:"Italic",underline:"Underline",strikethrough:"Strikethrough",subscript:"Subscript",superscript:"Superscript"},function(t,n){e.addButton(n,{active:!1,tooltip:t,onPostRender:Mo(e,n),onclick:To(e,n)})})},bs=function(e){O.each({outdent:["Decrease indent","Outdent"],indent:["Increase indent","Indent"],cut:["Cut","Cut"],copy:["Copy","Copy"],paste:["Paste","Paste"],help:["Help","mceHelp"],selectall:["Select all","SelectAll"],visualaid:["Visual aids","mceToggleVisualAid"],newdocument:["New document","mceNewDocument"],removeformat:["Clear formatting","RemoveFormat"],remove:["Remove","Delete"]},function(t,n){e.addButton(n,{tooltip:t[0],cmd:t[1]})})},ys=function(e){O.each({blockquote:["Blockquote","mceBlockQuote"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"]},function(t,n){e.addButton(n,{active:!1,tooltip:t[0],cmd:t[1],onPostRender:Mo(e,n)})})},xs=function(e){vs(e),bs(e),ys(e)},ws=function(e){O.each({bold:["Bold","Bold","Meta+B"],italic:["Italic","Italic","Meta+I"],underline:["Underline","Underline","Meta+U"],strikethrough:["Strikethrough","Strikethrough"],subscript:["Subscript","Subscript"],superscript:["Superscript","Superscript"],removeformat:["Clear formatting","RemoveFormat"],newdocument:["New document","mceNewDocument"],cut:["Cut","Cut","Meta+X"],copy:["Copy","Copy","Meta+C"],paste:["Paste","Paste","Meta+V"],selectall:["Select all","SelectAll","Meta+A"]},function(t,n){e.addMenuItem(n,{text:t[0],icon:n,shortcut:t[2],cmd:t[1]})}),e.addMenuItem("codeformat",{text:"Code",icon:"code",onclick:To(e,"code")})},_s=function(e){xs(e),ws(e)},Rs={register:_s},Cs=function(e,t){return function(){var n=this,i=function(){var n="redo"===t?"hasRedo":"hasUndo";return!!e.undoManager&&e.undoManager[n]()};n.disabled(!i()),e.on("Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(){n.disabled(e.readonly||!i())})}},Es=function(e){e.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onPostRender:Cs(e,"undo"),cmd:"undo"}),e.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onPostRender:Cs(e,"redo"),cmd:"redo"})},ks=function(e){e.addButton("undo",{tooltip:"Undo",onPostRender:Cs(e,"undo"),cmd:"undo"}),e.addButton("redo",{tooltip:"Redo",onPostRender:Cs(e,"redo"),cmd:"redo"})},Hs=function(e){Es(e),ks(e)},Ts={register:Hs},Ss=function(e){return function(){var t=this;e.on("VisualAid",function(e){t.active(e.hasVisual)}),t.active(e.hasVisual)}},Ms=function(e){e.addMenuItem("visualaid",{text:"Visual aids",selectable:!0,onPostRender:Ss(e),cmd:"mceToggleVisualAid"})},Ns=function(e){Ms(e)},Ps={register:Ns},Ws=function(){Fn.tooltips=!yt.iOS,Rn.translate=function(e){return B.translate(e)}},Ds=function(t){t.settings.ui_container&&(yt.container=Ho(Ci.fromDom(e.document.body),t.settings.ui_container).fold(pe(null),function(e){return e.dom()}))},Bs=function(e){e.rtl&&(Rn.rtl=!0)},Os=function(e){e.on("mousedown progressstate",function(){Pn.hideAll()})},As=function(e){Bs(e),Os(e),Ds(e),Ws(),ls.register(e),Po.register(e),Rs.register(e),Ts.register(e),jo.register(e),Io.register(e),ts.register(e),Ps.register(e),ps.register(e)},zs={setup:As},Ls=Zn.extend({recalc:function(e){var t,n,i,r,o,s,a,l,u,c,d,f,h,m,g,p,v,b,y,x,w,_,R,C,E,k,H,T,S,M=[],N=[];t=e.settings,r=e.items().filter(":visible"),o=e.layoutRect(),i=t.columns||Math.ceil(Math.sqrt(r.length)),n=Math.ceil(r.length/i),b=t.spacingH||t.spacing||0,y=t.spacingV||t.spacing||0,x=t.alignH||t.align,w=t.alignV||t.align,p=e.paddingBox,T="reverseRows"in t?t.reverseRows:e.isRtl(),x&&"string"==typeof x&&(x=[x]),w&&"string"==typeof w&&(w=[w]);for(d=0;d<i;d++)M.push(0);for(f=0;f<n;f++)N.push(0);for(f=0;f<n;f++)for(d=0;d<i&&(c=r[f*i+d],c);d++)u=c.layoutRect(),C=u.minW,E=u.minH,M[d]=C>M[d]?C:M[d],N[f]=E>N[f]?E:N[f];for(k=o.innerW-p.left-p.right,_=0,d=0;d<i;d++)_+=M[d]+(d>0?b:0),k-=(d>0?b:0)+M[d];for(H=o.innerH-p.top-p.bottom,R=0,f=0;f<n;f++)R+=N[f]+(f>0?y:0),H-=(f>0?y:0)+N[f];if(_+=p.left+p.right,R+=p.top+p.bottom,l={},l.minW=_+(o.w-o.innerW),l.minH=R+(o.h-o.innerH),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH,l.minW=Math.min(l.minW,o.maxW),l.minH=Math.min(l.minH,o.maxH),l.minW=Math.max(l.minW,o.startMinWidth),l.minH=Math.max(l.minH,o.startMinHeight),!o.autoResize||l.minW===o.minW&&l.minH===o.minH){o.autoResize&&(l=e.layoutRect(l),l.contentW=l.minW-o.deltaW,l.contentH=l.minH-o.deltaH);var P;P="start"===t.packV?0:H>0?Math.floor(H/n):0;var W=0,D=t.flexWidths;if(D)for(d=0;d<D.length;d++)W+=D[d];else W=i;var B=k/W;for(d=0;d<i;d++)M[d]+=D?D[d]*B:B;for(m=p.top,f=0;f<n;f++){for(h=p.left,a=N[f]+P,d=0;d<i&&(S=T?f*i+i-1-d:f*i+d,c=r[S],c);d++)g=c.settings,u=c.layoutRect(),s=Math.max(M[d],u.startMinWidth),u.x=h,u.y=m,v=g.alignH||(x?x[d]||x[0]:null),"center"===v?u.x=h+s/2-u.w/2:"right"===v?u.x=h+s-u.w:"stretch"===v&&(u.w=s),v=g.alignV||(w?w[d]||w[0]:null),"center"===v?u.y=m+a/2-u.h/2:"bottom"===v?u.y=m+a-u.h:"stretch"===v&&(u.h=a),c.layoutRect(u),h+=s+b,c.recalc&&c.recalc();m+=a+y}}else if(l.w=l.minW,l.h=l.minH,e.layoutRect(l),this.recalc(e),null===e._lastRect){var O=e.parent();O&&(O._lastRect=null,O.recalc())}}}),Is=Fn.extend({renderHtml:function(){var e=this;return e.classes.add("iframe"),e.canFocus=!1,'<iframe id="'+e._id+'" class="'+e.classes+'" tabindex="-1" src="'+(e.settings.url||"javascript:''")+'" frameborder="0"></iframe>'},src:function(e){this.getEl().src=e},html:function(e,t){var n=this,i=this.getEl().contentWindow.document.body;return i?(i.innerHTML=e,t&&t()):me.setTimeout(function(){n.html(e)}),this}}),Fs=Fn.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("infobox"),t.canFocus=!1},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},help:function(e){this.state.set("help",e)},renderHtml:function(){var e=this,t=e.classPrefix;return'<div id="'+e._id+'" class="'+e.classes+'"><div id="'+e._id+'-body">'+e.encode(e.state.get("text"))+'<button role="button" tabindex="-1"><i class="'+t+"ico "+t+'i-help"></i></button></div></div>'},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.getEl("body").firstChild.data=e.encode(t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e.state.on("change:help",function(t){e.classes.toggle("has-help",t.value),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}}),Us=Fn.extend({init:function(e){var t=this;t._super(e),t.classes.add("widget").add("label"),t.canFocus=!1,e.multiline&&t.classes.add("autoscroll"),e.strong&&t.classes.add("strong")},initLayoutRect:function(){var e=this,t=e._super();if(e.settings.multiline){var n=It.getSize(e.getEl());n.width>t.maxW&&(t.minW=t.maxW,e.classes.add("multiline")),e.getEl().style.width=t.minW+"px",t.startMinH=t.h=t.minH=Math.min(t.maxH,It.getSize(e.getEl()).height)}return t},repaint:function(){var e=this;return e.settings.multiline||(e.getEl().style.lineHeight=e.layoutRect().h+"px"),e._super()},severity:function(e){this.classes.remove("error"),this.classes.remove("warning"),this.classes.remove("success"),this.classes.add(e)},renderHtml:function(){var e,t,n=this,i=n.settings.forId,r=n.settings.html?n.settings.html:n.encode(n.state.get("text"));return!i&&(t=n.settings.forName)&&(e=n.getRoot().find("#"+t)[0],e&&(i=e._id)),i?'<label id="'+n._id+'" class="'+n.classes+'"'+(i?' for="'+i+'"':"")+">"+r+"</label>":'<span id="'+n._id+'" class="'+n.classes+'">'+r+"</span>"},bindStates:function(){var e=this;return e.state.on("change:text",function(t){e.innerHtml(e.encode(t.value)),e.state.get("rendered")&&e.updateLayoutRect()}),e._super()}}),Vs=kn.extend({Defaults:{role:"toolbar",layout:"flow"},init:function(e){var t=this;t._super(e),t.classes.add("toolbar")},postRender:function(){var e=this;return e.items().each(function(e){e.classes.add("toolbar-item")}),e._super()}}),Ys=Vs.extend({Defaults:{role:"menubar",containerCls:"menubar",ariaRoot:!0,defaults:{type:"menubutton"}}}),$s=Qn.extend({init:function(e){var t=this;t._renderOpen=!0,t._super(e),e=t.settings,t.classes.add("menubtn"),e.fixedWidth&&t.classes.add("fixed-width"),t.aria("haspopup",!0),t.state.set("menu",e.menu||t.render())},showMenu:function(e){var t,n=this;if(n.menu&&n.menu.visible()&&e!==!1)return n.hideMenu();n.menu||(t=n.state.get("menu")||[],n.classes.add("opened"),t.length?t={type:"menu",animate:!0,items:t}:(t.type=t.type||"menu",t.animate=!0),t.renderTo?n.menu=t.parent(n).show().renderTo():n.menu=re.create(t).parent(n).renderTo(),n.fire("createmenu"),n.menu.reflow(),n.menu.on("cancel",function(e){e.control.parent()===n.menu&&(e.stopPropagation(),n.focus(),n.hideMenu())}),n.menu.on("select",function(){n.focus()}),n.menu.on("show hide",function(e){"hide"===e.type&&e.control.parent()===n&&n.classes.remove("opened-under"),e.control===n.menu&&(n.activeMenu("show"===e.type),n.classes.toggle("opened","show"===e.type)),n.aria("expanded","show"===e.type)}).fire("show")),n.menu.show(),n.menu.layoutRect({w:n.layoutRect().w}),n.menu.repaint(),n.menu.moveRel(n.getEl(),n.isRtl()?["br-tr","tr-br"]:["bl-tl","tl-bl"]);var i=n.menu.layoutRect(),r=n.$el.offset().top+n.layoutRect().h;r>i.y&&r<i.y+i.h&&n.classes.add("opened-under"),n.fire("showmenu")},hideMenu:function(){var e=this;e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide())},activeMenu:function(e){this.classes.toggle("active",e)},renderHtml:function(){var t,n=this,i=n._id,r=n.classPrefix,o=n.settings.icon,s=n.state.get("text"),a="";return t=n.settings.image,t?(o="none","string"!=typeof t&&(t=e.window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",s&&(n.classes.add("btn-has-text"),a='<span class="'+r+'txt">'+n.encode(s)+"</span>"),o=n.settings.icon?r+"ico "+r+"i-"+o:"",n.aria("role",n.parent()instanceof Ys?"menuitem":"button"),'<div id="'+i+'" class="'+n.classes+'" tabindex="-1" aria-labelledby="'+i+'"><button id="'+i+'-open" role="presentation" type="button" tabindex="-1">'+(o?'<i class="'+o+'"'+t+"></i>":"")+a+' <i class="'+r+'caret"></i></button></div>'},postRender:function(){var e=this;return e.on("click",function(t){t.control===e&&T(t.target,e.getEl())&&(e.focus(),e.showMenu(!t.aria),t.aria&&e.menu.items().filter(":visible")[0].focus())}),e.on("mouseenter",function(t){var n,i=t.control,r=e.parent();i&&r&&i instanceof $s&&i.parent()===r&&(r.items().filter("MenuButton").each(function(e){e.hideMenu&&e!==i&&(e.menu&&e.menu.visible()&&(n=!0),e.hideMenu())}),n&&(i.focus(),i.showMenu()))}),e._super()},bindStates:function(){var e=this;return e.state.on("change:menu",function(){e.menu&&e.menu.remove(),e.menu=null}),e._super()},remove:function(){this._super(),this.menu&&this.menu.remove()}}),qs=Pn.extend({Defaults:{defaultType:"menuitem",border:1,layout:"stack",role:"application",bodyRole:"menu",ariaRoot:!0},init:function(e){var t=this;if(e.autohide=!0,e.constrainToViewport=!0,"function"==typeof e.items&&(e.itemsFactory=e.items,e.items=[]),e.itemDefaults)for(var n=e.items,i=n.length;i--;)n[i]=O.extend({},e.itemDefaults,n[i]);t._super(e),t.classes.add("menu"),e.animate&&11!==yt.ie&&t.classes.add("animate")},repaint:function(){return this.classes.toggle("menu-align",!0),this._super(),this.getEl().style.height="",this.getEl("body").style.height="",this},cancel:function(){var e=this;e.hideAll(),e.fire("select")},load:function(){function e(){i.throbber&&(i.throbber.hide(),i.throbber=null)}var t,n,i=this;n=i.settings.itemsFactory,n&&(i.throbber||(i.throbber=new w(i.getEl("body"),(!0)),0===i.items().length?(i.throbber.show(),i.fire("loading")):i.throbber.show(100,function(){i.items().remove(),i.fire("loading")}),i.on("hide close",e)),i.requestTime=t=(new Date).getTime(),i.settings.itemsFactory(function(n){return 0===n.length?void i.hide():void(i.requestTime===t&&(i.getEl().style.width="",i.getEl("body").style.width="",e(),i.items().remove(),i.getEl("body").innerHTML="",i.add(n),i.renderNew(),i.fire("loaded")))}))},hideAll:function(){var e=this;return this.find("menuitem").exec("hideMenu"),e._super()},preRender:function(){var e=this;return e.items().each(function(t){var n=t.settings;if(n.icon||n.image||n.selectable)return e._hasIcons=!0,!1}),e.settings.itemsFactory&&e.on("postrender",function(){e.settings.itemsFactory&&e.load()}),e.on("show hide",function(t){t.control===e&&("show"===t.type?me.setTimeout(function(){e.classes.add("in")},0):e.classes.remove("in"))}),e._super()}}),Xs=$s.extend({init:function(e){function t(n){for(var o=0;o<n.length;o++){if(i=n[o].selected||e.value===n[o].value)return r=r||n[o].text,s.state.set("value",n[o].value),!0;if(n[o].menu&&t(n[o].menu))return!0}}var n,i,r,o,s=this;s._super(e),e=s.settings,s._values=n=e.values,n&&("undefined"!=typeof e.value&&t(n),!i&&n.length>0&&(r=n[0].text,s.state.set("value",n[0].value)),s.state.set("menu",n)),s.state.set("text",e.text||r),s.classes.add("listbox"),s.on("select",function(t){var n=t.control;o&&(t.lastControl=o),e.multiple?n.active(!n.active()):s.value(t.control.value()),o=n})},value:function(e){function t(n){return Ge(n,function(n){return n.menu?t(n.menu):n.value===e})}return 0===arguments.length?this.state.get("value"):"undefined"==typeof e?this:(this.settings.values?t(this.settings.values)?this.state.set("value",e):null===e&&this.state.set("value",null):this.state.set("value",e),this)},bindStates:function(){function e(e,t){e instanceof qs&&e.items().each(function(e){e.hasMenus()||e.active(e.value()===t)})}function t(e,n){var i;if(e)for(var r=0;r<e.length;r++){if(e[r].value===n)return e[r];if(e[r].menu&&(i=t(e[r].menu,n)))return i}}var n=this;return n.on("show",function(t){e(t.control,n.value())}),n.state.on("change:value",function(e){var i=t(n.state.get("menu"),e.value);i?n.text(i.text):n.text(n.settings.text)}),n._super()}}),js=function(e,t){var n=e._textStyle;if(n){var i=e.getEl("text");i.setAttribute("style",n),t&&(i.style.color="",i.style.backgroundColor="")}},Js=Fn.extend({Defaults:{border:0,role:"menuitem"},init:function(e){var t,n=this;n._super(e),e=n.settings,n.classes.add("menu-item"),e.menu&&n.classes.add("menu-item-expand"),e.preview&&n.classes.add("menu-item-preview"),t=n.state.get("text"),"-"!==t&&"|"!==t||(n.classes.add("menu-item-sep"),n.aria("role","separator"),n.state.set("text","-")),e.selectable&&(n.aria("role","menuitemcheckbox"),n.classes.add("menu-item-checkbox"),e.icon="selected"),e.preview||e.selectable||n.classes.add("menu-item-normal"),n.on("mousedown",function(e){e.preventDefault()}),e.menu&&!e.ariaHideMenu&&n.aria("haspopup",!0)},hasMenus:function(){return!!this.settings.menu},showMenu:function(){var e,t=this,n=t.settings,i=t.parent();if(i.items().each(function(e){e!==t&&e.hideMenu()}),n.menu){e=t.menu,e?e.show():(e=n.menu,e.length?e={type:"menu",items:e}:e.type=e.type||"menu",i.settings.itemDefaults&&(e.itemDefaults=i.settings.itemDefaults),e=t.menu=re.create(e).parent(t).renderTo(),e.reflow(),e.on("cancel",function(n){n.stopPropagation(),t.focus(),e.hide()}),e.on("show hide",function(e){e.control.items&&e.control.items().each(function(e){e.active(e.settings.selected)})}).fire("show"),e.on("hide",function(n){n.control===e&&t.classes.remove("selected")}),e.submenu=!0),e._parentMenu=i,e.classes.add("menu-sub");var r=e.testMoveRel(t.getEl(),t.isRtl()?["tl-tr","bl-br","tr-tl","br-bl"]:["tr-tl","br-bl","tl-tr","bl-br"]);e.moveRel(t.getEl(),r),e.rel=r,r="menu-sub-"+r,e.classes.remove(e._lastRel).add(r),e._lastRel=r,t.classes.add("selected"),t.aria("expanded",!0)}},hideMenu:function(){var e=this;return e.menu&&(e.menu.items().each(function(e){e.hideMenu&&e.hideMenu()}),e.menu.hide(),e.aria("expanded",!1)),e},renderHtml:function(){function e(e){var t,n,i={};for(i=yt.mac?{alt:"&#x2325;",ctrl:"&#x2318;",shift:"&#x21E7;",meta:"&#x2318;"}:{meta:"Ctrl"},e=e.split("+"),t=0;t<e.length;t++)n=i[e[t].toLowerCase()],n&&(e[t]=n);return e.join("+")}function t(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function n(e){var n=s.match||"";return n?e.replace(new RegExp(t(n),"gi"),function(e){return"!mce~match["+e+"]mce~match!"}):e}function i(e){return e.replace(new RegExp(t("!mce~match["),"g"),"<b>").replace(new RegExp(t("]mce~match!"),"g"),"</b>")}var r=this,o=r._id,s=r.settings,a=r.classPrefix,l=r.state.get("text"),u=r.settings.icon,c="",d=s.shortcut,f=r.encode(s.url),h="";return u&&r.parent().classes.add("menu-has-icons"),s.image&&(c=" style=\"background-image: url('"+s.image+"')\""),d&&(d=e(d)),u=a+"ico "+a+"i-"+(r.settings.icon||"none"),h="-"!==l?'<i class="'+u+'"'+c+"></i> ":"",l=i(r.encode(n(l))),f=i(r.encode(n(f))),'<div id="'+o+'" class="'+r.classes+'" tabindex="-1">'+h+("-"!==l?'<span id="'+o+'-text" class="'+a+'text">'+l+"</span>":"")+(d?'<div id="'+o+'-shortcut" class="'+a+'menu-shortcut">'+d+"</div>":"")+(s.menu?'<div class="'+a+'caret"></div>':"")+(f?'<div class="'+a+'menu-item-link">'+f+"</div>":"")+"</div>"},postRender:function(){var e=this,t=e.settings,n=t.textStyle;if("function"==typeof n&&(n=n.call(this)),n){var i=e.getEl("text");i&&(i.setAttribute("style",n),e._textStyle=n)}return e.on("mouseenter click",function(n){n.control===e&&(t.menu||"click"!==n.type?(e.showMenu(),n.aria&&e.menu.focus(!0)):(e.fire("select"),me.requestAnimationFrame(function(){e.parent().hideAll()})))}),e._super(),e},hover:function(){var e=this;return e.parent().items().each(function(e){e.classes.remove("selected")}),e.classes.toggle("selected",!0),e},active:function(e){return js(this,e),"undefined"!=typeof e&&this.aria("checked",e),this._super(e)},remove:function(){this._super(),this.menu&&this.menu.remove()}}),Gs=ni.extend({Defaults:{classes:"radio",role:"radio"}}),Ks=Fn.extend({renderHtml:function(){var e=this,t=e.classPrefix;return e.classes.add("resizehandle"),"both"===e.settings.direction&&e.classes.add("resizehandle-both"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"><i class="'+t+"ico "+t+'i-resize"></i></div>'},postRender:function(){var e=this;e._super(),e.resizeDragHelper=new f(this._id,{start:function(){e.fire("ResizeStart")},drag:function(t){"both"!==e.settings.direction&&(t.deltaX=0),e.fire("Resize",t)},stop:function(){e.fire("ResizeEnd")}})},remove:function(){return this.resizeDragHelper&&this.resizeDragHelper.destroy(),this._super()}}),Zs=Fn.extend({Defaults:{classes:"selectbox",role:"selectbox",options:[]},init:function(e){var t=this;t._super(e),t.settings.size&&(t.size=t.settings.size),t.settings.options&&(t._options=t.settings.options),t.on("keydown",function(e){var n;13===e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))})},options:function(e){return arguments.length?(this.state.set("options",e),this):this.state.get("options")},renderHtml:function(){var e,t=this,n="";return e=S(t._options),t.size&&(n=' size = "'+t.size+'"'),'<select id="'+t._id+'" class="'+t.classes+'"'+n+">"+e+"</select>"},bindStates:function(){var e=this;return e.state.on("change:options",function(t){e.getEl().innerHTML=S(t.value)}),e._super()}}),Qs=Fn.extend({init:function(e){var t=this;e.previewFilter||(e.previewFilter=function(e){return Math.round(100*e)/100}),t._super(e),t.classes.add("slider"),"v"===e.orientation&&t.classes.add("vertical"),t._minValue=Ye(e.minValue)?e.minValue:0,t._maxValue=Ye(e.maxValue)?e.maxValue:100,t._initValue=t.state.get("value")},renderHtml:function(){var e=this,t=e._id,n=e.classPrefix;return'<div id="'+t+'" class="'+e.classes+'"><div id="'+t+'-handle" class="'+n+'slider-handle" role="slider" tabindex="-1"></div></div>'},reset:function(){this.value(this._initValue).repaint()},postRender:function(){function e(e,t,n){return(n+e)/(t-e)}function t(e,t,n){return n*(t-e)-e;
}function n(n,i){function r(r){var o;o=c.value(),o=t(n,i,e(n,i,o)+.05*r),o=M(o,n,i),c.value(o),c.fire("dragstart",{value:o}),c.fire("drag",{value:o}),c.fire("dragend",{value:o})}c.on("keydown",function(e){switch(e.keyCode){case 37:case 38:r(-1);break;case 39:case 40:r(1)}})}function i(e,t,n){var i,r,o,d,h;c._dragHelper=new f(c._id,{handle:c._id+"-handle",start:function(e){i=e[s],r=parseInt(c.getEl("handle").style[a],10),o=(c.layoutRect()[u]||100)-It.getSize(n)[l],c.fire("dragstart",{value:h})},drag:function(l){var u=l[s]-i;d=M(r+u,0,o),n.style[a]=d+"px",h=e+d/o*(t-e),c.value(h),c.tooltip().text(""+c.settings.previewFilter(h)).show().moveRel(n,"bc tc"),c.fire("drag",{value:h})},stop:function(){c.tooltip().hide(),c.fire("dragend",{value:h})}})}var r,o,s,a,l,u,c=this;r=c._minValue,o=c._maxValue,"v"===c.settings.orientation?(s="screenY",a="top",l="height",u="h"):(s="screenX",a="left",l="width",u="w"),c._super(),n(r,o),i(r,o,c.getEl("handle"))},repaint:function(){this._super(),P(this,this.value())},bindStates:function(){var e=this;return e.state.on("change:value",function(t){P(e,t.value)}),e._super()}}),ea=Fn.extend({renderHtml:function(){var e=this;return e.classes.add("spacer"),e.canFocus=!1,'<div id="'+e._id+'" class="'+e.classes+'"></div>'}}),ta=$s.extend({Defaults:{classes:"widget btn splitbtn",role:"button"},repaint:function(){var e,t,n=this,i=n.getEl(),r=n.layoutRect();return n._super(),e=i.firstChild,t=i.lastChild,zt(e).css({width:r.w-It.getSize(t).width,height:r.h-2}),zt(t).css({height:r.h-2}),n},activeMenu:function(e){var t=this;zt(t.getEl().lastChild).toggleClass(t.classPrefix+"active",e)},renderHtml:function(){var t,n,i=this,r=i._id,o=i.classPrefix,s=i.state.get("icon"),a=i.state.get("text"),l=i.settings,u="";return t=l.image,t?(s="none","string"!=typeof t&&(t=e.window.getSelection?t[0]:t[1]),t=" style=\"background-image: url('"+t+"')\""):t="",s=l.icon?o+"ico "+o+"i-"+s:"",a&&(i.classes.add("btn-has-text"),u='<span class="'+o+'txt">'+i.encode(a)+"</span>"),n="boolean"==typeof l.active?' aria-pressed="'+l.active+'"':"",'<div id="'+r+'" class="'+i.classes+'" role="button"'+n+' tabindex="-1"><button type="button" hidefocus="1" tabindex="-1">'+(s?'<i class="'+s+'"'+t+"></i>":"")+u+'</button><button type="button" class="'+o+'open" hidefocus="1" tabindex="-1">'+(i._menuBtnText?(s?" ":"")+i._menuBtnText:"")+' <i class="'+o+'caret"></i></button></div>'},postRender:function(){var e=this,t=e.settings.onclick;return e.on("click",function(e){var n=e.target;if(e.control===this)for(;n;){if(e.aria&&"down"!==e.aria.key||"BUTTON"===n.nodeName&&n.className.indexOf("open")===-1)return e.stopImmediatePropagation(),void(t&&t.call(this,e));n=n.parentNode}}),delete e.settings.onclick,e._super()}}),na=ko.extend({Defaults:{containerClass:"stack-layout",controlClass:"stack-layout-item",endClass:"break"},isNative:function(){return!0}}),ia=Tn.extend({Defaults:{layout:"absolute",defaults:{type:"panel"}},activateTab:function(e){var t;this.activeTabId&&(t=this.getEl(this.activeTabId),zt(t).removeClass(this.classPrefix+"active"),t.setAttribute("aria-selected","false")),this.activeTabId="t"+e,t=this.getEl("t"+e),t.setAttribute("aria-selected","true"),zt(t).addClass(this.classPrefix+"active"),this.items()[e].show().fire("showtab"),this.reflow(),this.items().each(function(t,n){e!==n&&t.hide()})},renderHtml:function(){var e=this,t=e._layout,n="",i=e.classPrefix;return e.preRender(),t.preRender(e),e.items().each(function(t,r){var o=e._id+"-t"+r;t.aria("role","tabpanel"),t.aria("labelledby",o),n+='<div id="'+o+'" class="'+i+'tab" unselectable="on" role="tab" aria-controls="'+t._id+'" aria-selected="false" tabIndex="-1">'+e.encode(t.settings.title)+"</div>"}),'<div id="'+e._id+'" class="'+e.classes+'" hidefocus="1" tabindex="-1"><div id="'+e._id+'-head" class="'+i+'tabs" role="tablist">'+n+'</div><div id="'+e._id+'-body" class="'+e.bodyClasses+'">'+t.renderHtml(e)+"</div></div>"},postRender:function(){var e=this;e._super(),e.settings.activeTab=e.settings.activeTab||0,e.activateTab(e.settings.activeTab),this.on("click",function(t){var n=t.target.parentNode;if(n&&n.id===e._id+"-head")for(var i=n.childNodes.length;i--;)n.childNodes[i]===t.target&&e.activateTab(i)})},initLayoutRect:function(){var e,t,n,i=this;t=It.getSize(i.getEl("head")).width,t=t<0?0:t,n=0,i.items().each(function(e){t=Math.max(t,e.layoutRect().minW),n=Math.max(n,e.layoutRect().minH)}),i.items().each(function(e){e.settings.x=0,e.settings.y=0,e.settings.w=t,e.settings.h=n,e.layoutRect({x:0,y:0,w:t,h:n})});var r=It.getSize(i.getEl("head")).height;return i.settings.minWidth=t,i.settings.minHeight=n+r,e=i._super(),e.deltaH+=r,e.innerH=e.h-e.deltaH,e}}),ra=Fn.extend({init:function(e){var t=this;t._super(e),t.classes.add("textbox"),e.multiline?t.classes.add("multiline"):(t.on("keydown",function(e){var n;13===e.keyCode&&(e.preventDefault(),t.parents().reverse().each(function(e){if(e.toJSON)return n=e,!1}),t.fire("submit",{data:n.toJSON()}))}),t.on("keyup",function(e){t.state.set("value",e.target.value)}))},repaint:function(){var t,n,i,r,o,s=this,a=0;t=s.getEl().style,n=s._layoutRect,o=s._lastRepaintRect||{};var l=e.document;return!s.settings.multiline&&l.all&&(!l.documentMode||l.documentMode<=8)&&(t.lineHeight=n.h-a+"px"),i=s.borderBox,r=i.left+i.right+8,a=i.top+i.bottom+(s.settings.multiline?8:0),n.x!==o.x&&(t.left=n.x+"px",o.x=n.x),n.y!==o.y&&(t.top=n.y+"px",o.y=n.y),n.w!==o.w&&(t.width=n.w-r+"px",o.w=n.w),n.h!==o.h&&(t.height=n.h-a+"px",o.h=n.h),s._lastRepaintRect=o,s.fire("repaint",{},!1),s},renderHtml:function(){var e,t,n=this,i=n.settings;return e={id:n._id,hidefocus:"1"},O.each(["rows","spellcheck","maxLength","size","readonly","min","max","step","list","pattern","placeholder","required","multiple"],function(t){e[t]=i[t]}),n.disabled()&&(e.disabled="disabled"),i.subtype&&(e.type=i.subtype),t=It.create(i.multiline?"textarea":"input",e),t.value=n.state.get("value"),t.className=n.classes.toString(),t.outerHTML},value:function(e){return arguments.length?(this.state.set("value",e),this):(this.state.get("rendered")&&this.state.set("value",this.getEl().value),this.state.get("value"))},postRender:function(){var e=this;e.getEl().value=e.state.get("value"),e._super(),e.$el.on("change",function(t){e.state.set("value",t.target.value),e.fire("change",t)})},bindStates:function(){var e=this;return e.state.on("change:value",function(t){e.getEl().value!==t.value&&(e.getEl().value=t.value)}),e.state.on("change:disabled",function(t){e.getEl().disabled=t.value}),e._super()},remove:function(){this.$el.off(),this._super()}}),oa=function(){return{Selector:nn,Collection:sn,ReflowQueue:hn,Control:Rn,Factory:re,KeyboardNavigation:u,Container:kn,DragHelper:f,Scrollable:Hn,Panel:Tn,Movable:qt,Resizable:Sn,FloatPanel:Pn,Window:Xn,MessageBox:jn,Tooltip:In,Widget:Fn,Progress:Un,Notification:Yn,Layout:Kn,AbsoluteLayout:Zn,Button:Qn,ButtonGroup:ti,Checkbox:ni,ComboBox:ri,ColorBox:oi,PanelButton:si,ColorButton:li,ColorPicker:ci,Path:fi,ElementPath:hi,FormItem:mi,Form:gi,FieldSet:pi,FilePicker:Ro,FitLayout:Co,FlexLayout:Eo,FlowLayout:ko,FormatControls:zs,GridLayout:Ls,Iframe:Is,InfoBox:Fs,Label:Us,Toolbar:Vs,MenuBar:Ys,MenuButton:$s,MenuItem:Js,Throbber:w,Menu:qs,ListBox:Xs,Radio:Gs,ResizeHandle:Ks,SelectBox:Zs,Slider:Qs,Spacer:ea,SplitButton:ta,StackLayout:na,TabPanel:ia,TextBox:ra,DropZone:di,BrowseButton:ei}},sa=function(e){e.ui?O.each(oa(),function(t,n){e.ui[n]=t}):e.ui=oa()},aa=function(){O.each(oa(),function(e,t){re.add(t,e)})},la={appendTo:sa,registerToFactory:aa};return la.registerToFactory(),la.appendTo(window.tinymce?window.tinymce:{}),D.add("modern",function(e){return zs.setup(e),Gn.get(e)}),W})(window)}();
},{}],"tinymce":[function(require,module,exports){
(function (global,setImmediate){
!function(){!function(e){"use strict";function t(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=t.concat(n);return e.apply(null,o)}}function n(){function e(n,r){return t.push(n+" ")>Yt.cacheLength&&delete e[t.shift()],e[n+" "]=r}var t=[];return e}function r(e){return e[mn]=!0,e}function o(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||wn)-(~e.sourceIndex||wn);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function i(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function a(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function u(e){return r(function(t){return t=+t,r(function(n,r){for(var o,i=e([],n.length,t),a=i.length;a--;)n[o=i[a]]&&(n[o]=!(r[o]=n[o]))})})}function c(e){return e&&typeof e.getElementsByTagName!==xn&&e}function s(){}function l(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function f(e,t,n){var r=t.dir,o=n&&"parentNode"===r,i=hn++;return t.first?function(t,n,i){for(;t=t[r];)if(1===t.nodeType||o)return e(t,n,i)}:function(t,n,a){var u,c,s=[pn,i];if(a){for(;t=t[r];)if((1===t.nodeType||o)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||o){if(c=t[mn]||(t[mn]={}),(u=c[r])&&u[0]===pn&&u[1]===i)return s[2]=u[2];if(c[r]=s,s[2]=e(t,n,a))return!0}}}function d(e){return e.length>1?function(t,n,r){for(var o=e.length;o--;)if(!e[o](t,n,r))return!1;return!0}:e[0]}function m(e,t,n){for(var r=0,o=t.length;r<o;r++)Zn(e,t[r],n);return n}function g(e,t,n,r,o){for(var i,a=[],u=0,c=e.length,s=null!=t;u<c;u++)(i=e[u])&&(n&&!n(i,r,o)||(a.push(i),s&&t.push(u)));return a}function p(e,t,n,o,i,a){return o&&!o[mn]&&(o=p(o)),i&&!i[mn]&&(i=p(i,a)),r(function(r,a,u,c){var s,l,f,d=[],p=[],h=a.length,v=r||m(t||"*",u.nodeType?[u]:u,[]),y=!e||!r&&t?v:g(v,d,e,u,c),b=n?i||(r?e:h||o)?[]:a:y;if(n&&n(y,b,u,c),o)for(s=g(b,p),o(s,[],u,c),l=s.length;l--;)(f=s[l])&&(b[p[l]]=!(y[p[l]]=f));if(r){if(i||e){if(i){for(s=[],l=b.length;l--;)(f=b[l])&&s.push(y[l]=f);i(null,b=[],s,c)}for(l=b.length;l--;)(f=b[l])&&(s=i?An.call(r,f):d[l])>-1&&(r[s]=!(a[s]=f))}}else b=g(b===a?b.splice(h,b.length):b),i?i(null,a,b,c):Tn.apply(a,b)})}function h(e){for(var t,n,r,o=e.length,i=Yt.relative[e[0].type],a=i||Yt.relative[" "],u=i?1:0,c=f(function(e){return e===t},a,!0),s=f(function(e){return An.call(t,e)>-1},a,!0),m=[function(e,n,r){return!i&&(r||n!==tn)||((t=n).nodeType?c(e,n,r):s(e,n,r))}];u<o;u++)if(n=Yt.relative[e[u].type])m=[f(d(m),n)];else{if(n=Yt.filter[e[u].type].apply(null,e[u].matches),n[mn]){for(r=++u;r<o&&!Yt.relative[e[r].type];r++);return p(u>1&&d(m),u>1&&l(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(In,"$1"),n,u<r&&h(e.slice(u,r)),r<o&&h(e=e.slice(r)),r<o&&l(e))}m.push(n)}return d(m)}function v(e,t){var n=t.length>0,o=e.length>0,i=function(r,i,a,u,c){var s,l,f,d=0,m="0",p=r&&[],h=[],v=tn,y=r||o&&Yt.find.TAG("*",c),b=pn+=null==v?1:Math.random()||.1,C=y.length;for(c&&(tn=i!==an&&i);m!==C&&null!=(s=y[m]);m++){if(o&&s){for(l=0;f=e[l++];)if(f(s,i,a)){u.push(s);break}c&&(pn=b)}n&&((s=!f&&s)&&d--,r&&p.push(s))}if(d+=m,n&&m!==d){for(l=0;f=t[l++];)f(p,h,i,a);if(r){if(d>0)for(;m--;)p[m]||h[m]||(h[m]=Sn.call(u));h=g(h)}Tn.apply(u,h),c&&!r&&h.length>0&&d+t.length>1&&Zn.uniqueSort(u)}return c&&(pn=b,tn=v),p};return n?r(i):i}function y(t,n){void 0===n&&(n={});var r,o=0,i={};r=n.maxLoadTime||5e3;var a=function(e){t.getElementsByTagName("head")[0].appendChild(e)},u=function(u,c,s){var l,f,d,m,g=function(){for(var e=m.passed,t=e.length;t--;)e[t]();m.status=2,m.passed=[],m.failed=[]},p=function(){for(var e=m.failed,t=e.length;t--;)e[t]();m.status=3,m.passed=[],m.failed=[]},h=function(){var t=e.navigator.userAgent.match(/WebKit\/(\d*)/);return!!(t&&parseInt(t[1],10)<536)},v=function(e,t){e()||((new Date).getTime()-d<r?Pt.setTimeout(t):p())},y=function(){v(function(){for(var e,n,r=t.styleSheets,o=r.length;o--;)if(e=r[o],n=e.ownerNode?e.ownerNode:e.owningElement,n&&n.id===l.id)return g(),!0},y)},b=function(){v(function(){try{var e=f.sheet.cssRules;return g(),!!e}catch(t){}},b)};if(u=xr._addCacheSuffix(u),i[u]?m=i[u]:(m={passed:[],failed:[]},i[u]=m),c&&m.passed.push(c),s&&m.failed.push(s),1!==m.status){if(2===m.status)return void g();if(3===m.status)return void p();if(m.status=1,l=t.createElement("link"),l.rel="stylesheet",l.type="text/css",l.id="u"+o++,l.async=!1,l.defer=!1,d=(new Date).getTime(),n.contentCssCors&&(l.crossOrigin="anonymous"),"onload"in l&&!h())l.onload=y,l.onerror=p;else{if(e.navigator.userAgent.indexOf("Firefox")>0)return f=t.createElement("style"),f.textContent='@import "'+u+'"',b(),void a(f);y()}a(l),l.href=u}},c=function(e){return Ea.nu(function(t){u(e,ve(t,ye(Aa.value(e))),ve(t,ye(Aa.error(e))))})},s=function(e){return e.fold(be,be)},l=function(e,t,n){Sa(We(e,c)).get(function(e){var r=Xe(e,function(e){return e.isValue()});r.fail.length>0?n(r.fail.map(s)):t(r.pass.map(s))})};return{load:u,loadAll:l}}function b(e,t){var n=e,r=function(e,n,r,o){var i,a;if(e){if(!o&&e[n])return e[n];if(e!==t){if(i=e[r])return i;for(a=e.parentNode;a&&a!==t;a=a.parentNode)if(i=a[r])return i}}},o=function(e,n,r,o){var i,a,u;if(e){if(i=e[r],t&&i===t)return;if(i){if(!o)for(u=i[n];u;u=u[n])if(!u[n])return u;return i}if(a=e.parentNode,a&&a!==t)return a}};this.current=function(){return n},this.next=function(e){return n=r(n,"firstChild","nextSibling",e)},this.prev=function(e){return n=r(n,"lastChild","previousSibling",e)},this.prev2=function(e){return n=o(n,"lastChild","previousSibling",e)}}function C(e){var t,n,r,o,i,a,u,c,s,l,f,d,m,g={},p={},h=[],v={},y={},b=function(t,n,r){var o=e[t];return o?o=Mu(o,/[, ]/,Mu(o.toUpperCase(),/[, ]/)):(o=Lu[t],o||(o=Mu(n," ",Mu(n.toUpperCase()," ")),o=zu(o,r),Lu[t]=o)),o};e=e||{},r=qu(e.schema),e.verify_html===!1&&(e.valid_elements="*[*]"),t=Wu(e.valid_styles),n=Wu(e.invalid_styles,"map"),c=Wu(e.valid_classes,"map"),o=b("whitespace_elements","pre script noscript style textarea video audio iframe object code"),i=b("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),a=b("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),u=b("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),l=b("non_empty_elements","td th iframe video audio object script pre code",a),f=b("move_caret_before_on_enter_elements","table",l),d=b("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),s=b("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",d),m=b("text_inline_elements","span strong b em i font strike u var cite dfn code mark q sup sub samp"),Uu((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(e){y[e]=new RegExp("</"+e+"[^>]*>","gi")});var C=function(e){return new RegExp("^"+e.replace(/([?+*])/g,".$1")+"$")},x=function(e){var t,n,r,o,i,a,u,c,s,l,f,d,m,p,v,y,b,x,w,E=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)\])?$/,N=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,S=/[*?+]/;if(e)for(e=Hu(e,","),g["@"]&&(y=g["@"].attributes,b=g["@"].attributesOrder),t=0,n=e.length;t<n;t++)if(i=E.exec(e[t])){if(p=i[1],s=i[2],v=i[3],c=i[5],d={},m=[],a={attributes:d,attributesOrder:m},"#"===p&&(a.paddEmpty=!0),"-"===p&&(a.removeEmpty=!0),"!"===i[4]&&(a.removeEmptyAttrs=!0),y){for(x in y)d[x]=y[x];m.push.apply(m,b)}if(c)for(c=Hu(c,"|"),r=0,o=c.length;r<o;r++)if(i=N.exec(c[r])){if(u={},f=i[1],l=i[2].replace(/[\\:]:/g,":"),p=i[3],w=i[4],"!"===f&&(a.attributesRequired=a.attributesRequired||[],a.attributesRequired.push(l),u.required=!0),"-"===f){delete d[l],m.splice(ju(m,l),1);continue}p&&("="===p&&(a.attributesDefault=a.attributesDefault||[],a.attributesDefault.push({name:l,value:w}),u.defaultValue=w),":"===p&&(a.attributesForced=a.attributesForced||[],a.attributesForced.push({name:l,value:w}),u.forcedValue=w),"<"===p&&(u.validValues=Mu(w,"?"))),S.test(l)?(a.attributePatterns=a.attributePatterns||[],u.pattern=C(l),a.attributePatterns.push(u)):(d[l]||m.push(l),d[l]=u)}y||"@"!==s||(y=d,b=m),v&&(a.outputName=s,g[v]=a),S.test(s)?(a.pattern=C(s),h.push(a)):g[s]=a}},w=function(e){g={},h=[],x(e),Uu(r,function(e,t){p[t]=e.children})},E=function(e){var t=/^(~)?(.+)$/;e&&(Lu.text_block_elements=Lu.block_elements=null,Uu(Hu(e,","),function(e){var n=t.exec(e),r="~"===n[1],o=r?"span":"div",i=n[2];if(p[i]=p[o],v[i]=o,r||(s[i.toUpperCase()]={},s[i]={}),!g[i]){var a=g[o];a=zu({},a),delete a.removeEmptyAttrs,delete a.removeEmpty,g[i]=a}Uu(p,function(e,t){e[o]&&(p[t]=e=zu({},p[t]),e[i]=e[o])})}))},N=function(t){var n=/^([+\-]?)(\w+)\[([^\]]+)\]$/;Lu[e.schema]=null,t&&Uu(Hu(t,","),function(e){var t,r,o=n.exec(e);o&&(r=o[1],t=r?p[o[2]]:p[o[2]]={"#comment":{}},t=p[o[2]],Uu(Hu(o[3],"|"),function(e){"-"===r?delete t[e]:t[e]={}}))})},S=function(e){var t,n=g[e];if(n)return n;for(t=h.length;t--;)if(n=h[t],n.pattern.test(e))return n};e.valid_elements?w(e.valid_elements):(Uu(r,function(e,t){g[t]={attributes:e.attributes,attributesOrder:e.attributesOrder},p[t]=e.children}),"html5"!==e.schema&&Uu(Hu("strong/b em/i"),function(e){e=Hu(e,"/"),g[e[1]].outputName=e[0]}),Uu(Hu("ol ul sub sup blockquote span font a table tbody tr strong em b i"),function(e){g[e]&&(g[e].removeEmpty=!0)}),Uu(Hu("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(e){g[e].paddEmpty=!0}),Uu(Hu("span"),function(e){g[e].removeEmptyAttrs=!0})),E(e.custom_elements),N(e.valid_children),x(e.extended_valid_elements),N("+ol[ul|ol],+ul[ul|ol]"),Uu({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(e,t){g[t]&&(g[t].parentsRequired=Hu(e))}),e.invalid_elements&&Uu(Vu(e.invalid_elements),function(e){g[e]&&delete g[e]}),S("span")||x("span[!data-mce-type|*]");var k=function(){return t},T=function(){return n},R=function(){return c},A=function(){return u},B=function(){return s},D=function(){return d},_=function(){return m},O=function(){return a},P=function(){return i},I=function(){return l},L=function(){return f},F=function(){return o},M=function(){return y},U=function(e,t){var n=p[e.toLowerCase()];return!(!n||!n[t.toLowerCase()])},z=function(e,t){var n,r,o=S(e);if(o){if(!t)return!0;if(o.attributes[t])return!0;if(n=o.attributePatterns)for(r=n.length;r--;)if(n[r].pattern.test(e))return!0}return!1},V=function(){return v};return{children:p,elements:g,getValidStyles:k,getValidClasses:R,getBlockElements:B,getInvalidStyles:T,getShortEndedElements:O,getTextBlockElements:D,getTextInlineElements:_,getBoolAttrs:A,getElementRule:S,getSelfClosingElements:P,getNonEmptyElements:I,getMoveCaretBeforeOnEnterElements:L,getWhiteSpaceElements:F,getSpecialElements:M,isValidChild:U,isValid:z,getCustomElements:V,addValidElements:x,setValidElements:w,addCustomElements:E,addValidChildren:N}}function x(e,t){var n,r,o,i,a=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,u=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,c=/\s*([^:]+):\s*([^;]+);?/g,s=/\s+$/,l={},f="\ufeff";for(e=e||{},t&&(o=t.getValidStyles(),i=t.getInvalidStyles()),r=("\\\" \\' \\; \\: ; : "+f).split(" "),n=0;n<r.length;n++)l[r[n]]=f+n,l[f+n]=r[n];return{toHex:function(e){return e.replace(a,$u)},parse:function(t){var r,o,i,d,m={},g=e.url_converter,p=e.url_converter_scope||this,h=function(e,t,r){var o,i,a,u;if(o=m[e+"-top"+t],o&&(i=m[e+"-right"+t],i&&(a=m[e+"-bottom"+t],a&&(u=m[e+"-left"+t])))){var c=[o,i,a,u];for(n=c.length-1;n--&&c[n]===c[n+1];);n>-1&&r||(m[e+t]=n===-1?c[0]:c.join(" "),delete m[e+"-top"+t],delete m[e+"-right"+t],delete m[e+"-bottom"+t],delete m[e+"-left"+t])}},v=function(e){var t,n=m[e];if(n){for(n=n.split(" "),t=n.length;t--;)if(n[t]!==n[0])return!1;return m[e]=n[0],!0}},y=function(e,t,n,r){v(t)&&v(n)&&v(r)&&(m[e]=m[t]+" "+m[n]+" "+m[r],delete m[t],delete m[n],delete m[r])},b=function(e){return d=!0,l[e]},C=function(e,t){return d&&(e=e.replace(/\uFEFF[0-9]/g,function(e){return l[e]})),t||(e=e.replace(/\\([\'\";:])/g,"$1")),e},x=function(e){return String.fromCharCode(parseInt(e.slice(1),16))},w=function(e){return e.replace(/\\[0-9a-f]+/gi,x)},E=function(t,n,r,o,i,a){if(i=i||a)return i=C(i),"'"+i.replace(/\'/g,"\\'")+"'";if(n=C(n||r||o),!e.allow_script_urls){var u=n.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(u))return"";if(!e.allow_svg_data_urls&&/^data:image\/svg/i.test(u))return""}return g&&(n=g.call(p,n,"style")),"url('"+n.replace(/\'/g,"\\'")+"')"};if(t){for(t=t.replace(/[\u0000-\u001F]/g,""),t=t.replace(/\\[\"\';:\uFEFF]/g,b).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(e){return e.replace(/[;:]/g,b)});r=c.exec(t);)if(c.lastIndex=r.index+r[0].length,o=r[1].replace(s,"").toLowerCase(),i=r[2].replace(s,""),o&&i){if(o=w(o),i=w(i),o.indexOf(f)!==-1||o.indexOf('"')!==-1)continue;if(!e.allow_script_urls&&("behavior"===o||/expression\s*\(|\/\*|\*\//.test(i)))continue;"font-weight"===o&&"700"===i?i="bold":"color"!==o&&"background-color"!==o||(i=i.toLowerCase()),i=i.replace(a,$u),i=i.replace(u,E),m[o]=d?C(i,!0):i}h("border","",!0),h("border","-width"),h("border","-color"),h("border","-style"),h("padding",""),h("margin",""),y("border","border-width","border-style","border-color"),"medium none"===m.border&&delete m.border,"none"===m["border-image"]&&delete m["border-image"]}return m},serialize:function(e,t){var n,r,a="",u=function(t){var n,r,i,u;if(n=o[t])for(r=0,i=n.length;r<i;r++)t=n[r],u=e[t],u&&(a+=(a.length>0?" ":"")+t+": "+u+";")},c=function(e,t){var n;return n=i["*"],(!n||!n[e])&&(n=i[t],!n||!n[e])};if(t&&o)u("*"),u(t);else for(n in e)r=e[n],!r||i&&!c(n,t)||(a+=(a.length>0?" ":"")+n+": "+r+";");return a}}}function w(t,n){var r=this;void 0===n&&(n={});var o,i={},a=e.window,u={},c=0,s=!0,l=!0,f=y(t,{contentCssCors:n.contentCssCors}),d=[],m=n.schema?n.schema:C({}),g=x({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),p=n.ownEvents?new $t(n.proxy):$t.Event,h=m.getBlockElements(),v=Vr.overrideDefaults(function(){return{context:t,element:_e.getRoot()}}),E=function(e){if("string"==typeof e)return!!h[e];if(e){var t=e.nodeType;if(t)return!(1!==t||!h[e.nodeName])}return!1},N=function(e){if(e&&t&&"string"==typeof e){var n=t.getElementById(e);return n&&n.id!==e?t.getElementsByName(e)[1]:n}return e},S=function(e){return"string"==typeof e&&(e=N(e)),v(e)},k=function(e,t,n){var r,i,a=S(e);return a.length&&(r=o[t],i=r&&r.get?r.get(a,t):a.attr(t)),"undefined"==typeof i&&(i=n||""),i},T=function(e){var t=N(e);return t?t.attributes:[]},R=function(e,t,r){var i,a;""===r&&(r=null);var u=S(e);i=u.attr(t),u.length&&(a=o[t],a&&a.set?a.set(u,r,t):u.attr(t,r),i!==r&&n.onSetAttrib&&n.onSetAttrib({attrElm:u,attrName:t,attrValue:r}))},A=function(e,n){if(!Yu||1!==e.nodeType||n)return e.cloneNode(n);if(!n){var r=t.createElement(e.nodeName);return Ku(T(e),function(t){R(r,t.nodeName,k(e,t.nodeName))}),r}return null},B=function(){return n.root_element||t.body},D=function(e){var t=e?e:a,n=t.document,r=n.documentElement;return{x:t.pageXOffset||r.scrollLeft,y:t.pageYOffset||r.scrollTop,w:t.innerWidth||r.clientWidth,h:t.innerHeight||r.clientHeight}},_=function(e,n){return sa.getPos(t.body,N(e),n)},O=function(e,t,r){var o=S(e).css(t,r);n.update_styles&&Qu(g,o)},P=function(e,t){var r=S(e).css(t);n.update_styles&&Qu(g,r)},I=function(e,t,n){var r=S(e);return n?r.css(t):(t=t.replace(/-(\D)/g,function(e,t){return t.toUpperCase()}),"float"===t&&(t=St.ie&&St.ie<12?"styleFloat":"cssFloat"),r[0]&&r[0].style?r[0].style[t]:void 0)},L=function(e){var t,n;return e=N(e),t=I(e,"width"),n=I(e,"height"),t.indexOf("px")===-1&&(t=0),n.indexOf("px")===-1&&(n=0),{w:parseInt(t,10)||e.offsetWidth||e.clientWidth,h:parseInt(n,10)||e.offsetHeight||e.clientHeight}},F=function(e){var t,n;return e=N(e),t=_(e),n=L(e),{x:t.x,y:t.y,w:n.w,h:n.h}},M=function(e,t){var n;if(!e)return!1;if(!Array.isArray(e)){if("*"===t)return 1===e.nodeType;if(Gu.test(t)){var r=t.toLowerCase().split(/,/),o=e.nodeName.toLowerCase();for(n=r.length-1;n>=0;n--)if(r[n]===o)return!0;return!1}if(e.nodeType&&1!==e.nodeType)return!1}var i=Array.isArray(e)?e:[e];return Zn(t,i[0].ownerDocument||i[0],null,i).length>0},U=function(e,t,n,r){var o,i=[],a=N(e);for(r=void 0===r,n=n||("BODY"!==B().nodeName?B().parentNode:null),xr.is(t,"string")&&(o=t,t="*"===t?function(e){return 1===e.nodeType}:function(e){return M(e,o)});a&&a!==n&&a.nodeType&&9!==a.nodeType;){if(!t||"function"==typeof t&&t(a)){if(!r)return[a];i.push(a)}a=a.parentNode}return r?i:null},z=function(e,t,n){var r=U(e,t,n,!1);return r&&r.length>0?r[0]:null},V=function(e,t,n){var r=t;if(e)for("string"==typeof t&&(r=function(e){return M(e,t)}),e=e[n];e;e=e[n])if("function"==typeof r&&r(e))return e;return null},j=function(e,t){return V(e,t,"nextSibling")},H=function(e,t){return V(e,t,"previousSibling")},q=function(e,r){return Zn(e,N(r)||n.root_element||t,[])},W=function(e,t,n){var o,i="string"==typeof e?N(e):e;if(!i)return!1;if(xr.isArray(i)&&(i.length||0===i.length))return o=[],Ku(i,function(e,r){e&&("string"==typeof e&&(e=N(e)),o.push(t.call(n,e,r)))}),o;var a=n?n:r;return t.call(a,i)},$=function(e,t){S(e).each(function(e,n){Ku(t,function(e,t){R(n,t,e)})})},K=function(e,t){var n=S(e);Yu?n.each(function(e,n){if(n.canHaveHTML!==!1){for(;n.firstChild;)n.removeChild(n.firstChild);try{n.innerHTML="<br>"+t,n.removeChild(n.firstChild)}catch(r){Vr("<div></div>").html("<br>"+t).contents().slice(1).appendTo(n)}return t}}):n.html(t)},X=function(e,n,r,o,i){return W(e,function(e){var a="string"==typeof n?t.createElement(n):n;return $(a,r),o&&("string"!=typeof o&&o.nodeType?a.appendChild(o):"string"==typeof o&&K(a,o)),i?a:e.appendChild(a)})},Y=function(e,n,r){return X(t.createElement(e),e,n,r,!0)},G=Iu.decode,Z=Iu.encodeAllRaw,J=function(e,t,n){var r,o="";o+="<"+e;for(r in t)t.hasOwnProperty(r)&&null!==t[r]&&"undefined"!=typeof t[r]&&(o+=" "+r+'="'+Z(t[r])+'"');return"undefined"!=typeof n?o+">"+n+"</"+e+">":o+" />"},Q=function(e){var n,r=t.createElement("div"),o=t.createDocumentFragment();for(o.appendChild(r),e&&(r.innerHTML=e);n=r.firstChild;)o.appendChild(n);return o.removeChild(r),o},ee=function(e,t){var n=S(e);return t?n.each(function(){for(var e;e=this.firstChild;)3===e.nodeType&&0===e.data.length?this.removeChild(e):this.parentNode.insertBefore(e,this)}).remove():n.remove(),n.length>1?n.toArray():n[0]},te=function(e){return W(e,function(e){var t,n=e.attributes;for(t=n.length-1;t>=0;t--)e.removeAttributeNode(n.item(t))})},ne=function(e){return g.parse(e)},re=function(e,t){return g.serialize(e,t)},oe=function(n){var r,o;if(_e!==w.DOM&&t===e.document){if(i[n])return;i[n]=!0}o=t.getElementById("mceDefaultStyles"),o||(o=t.createElement("style"),o.id="mceDefaultStyles",o.type="text/css",r=t.getElementsByTagName("head")[0],r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o)),o.styleSheet?o.styleSheet.cssText+=n:o.appendChild(t.createTextNode(n))},ie=function(n){var r;return _e!==w.DOM&&t===e.document?void w.DOM.loadCSS(n):(n||(n=""),r=t.getElementsByTagName("head")[0],void Ku(n.split(","),function(e){var t;e=xr._addCacheSuffix(e),u[e]||(u[e]=!0,t=Y("link",{rel:"stylesheet",href:e}),r.appendChild(t))}))},ae=function(e,t,n){S(e).toggleClass(t,n).each(function(){""===this.className&&Vr(this).attr("class",null)})},ue=function(e,t){S(e).addClass(t)},ce=function(e,t){ae(e,t,!1)},se=function(e,t){return S(e).hasClass(t)},le=function(e){S(e).show()},fe=function(e){S(e).hide()},de=function(e){return"none"===S(e).css("display")},me=function(e){return(e?e:"mce_")+c++},ge=function(e){var t="string"==typeof e?N(e):e;return hu.isElement(t)?t.outerHTML:Vr("<div></div>").append(Vr(t).clone()).html()},pe=function(e,t){S(e).each(function(){try{if("outerHTML"in this)return void(this.outerHTML=t)}catch(e){}ee(Vr(this).html(t),!0)})},he=function(e,t){var n=N(t);return W(e,function(e){var t,r;return t=n.parentNode,r=n.nextSibling,r?t.insertBefore(e,r):t.appendChild(e),e})},ve=function(e,t,n){return W(t,function(t){return xr.is(t,"array")&&(e=e.cloneNode(!0)),n&&Ku(Xu(t.childNodes),function(t){e.appendChild(t)}),t.parentNode.replaceChild(e,t)})},ye=function(e,t){var n;return e.nodeName!==t.toUpperCase()&&(n=Y(t),Ku(T(e),function(t){R(n,t.nodeName,k(e,t.nodeName))}),ve(n,e,!0)),n||e},be=function(e,t){for(var n,r=e;r;){for(n=t;n&&r!==n;)n=n.parentNode;if(r===n)break;r=r.parentNode}return!r&&e.ownerDocument?e.ownerDocument.documentElement:r},Ce=function(e){return g.toHex(xr.trim(e))},xe=function(e,t){var n,r,o,i,a,u,c=0;if(e=e.firstChild){a=new b(e,e.parentNode),t=t||(m?m.getNonEmptyElements():null),i=m?m.getWhiteSpaceElements():{};do{if(o=e.nodeType,hu.isElement(e)){var s=e.getAttribute("data-mce-bogus");if(s){e=a.next("all"===s);continue}if(u=e.nodeName.toLowerCase(),t&&t[u]){if("br"===u){c++,e=a.next();continue}return!1}for(r=T(e),n=r.length;n--;)if(u=r[n].nodeName,"name"===u||"data-mce-bookmark"===u)return!1}if(8===o)return!1;if(3===o&&!Zu.test(e.nodeValue))return!1;if(3===o&&e.parentNode&&i[e.parentNode.nodeName]&&Zu.test(e.nodeValue))return!1;e=a.next()}while(e)}return c<=1},we=function(){return t.createRange()},Ee=function(e,t,n){var r,o,i,a=we();if(e&&t)return a.setStart(e.parentNode,ec(e)),a.setEnd(t.parentNode,ec(t)),r=a.extractContents(),a=we(),a.setStart(t.parentNode,ec(t)+1),a.setEnd(e.parentNode,ec(e)+1),o=a.extractContents(),i=e.parentNode,i.insertBefore(Cu.trimNode(_e,r),e),n?i.insertBefore(n,e):i.insertBefore(t,e),i.insertBefore(Cu.trimNode(_e,o),e),ee(e),n||t},Ne=function(e,r,o,i){if(xr.isArray(e)){for(var u=e.length;u--;)e[u]=Ne(e[u],r,o,i);return e}return!n.collect||e!==t&&e!==a||d.push([e,r,o,i]),p.bind(e,r,o,i||_e)},Se=function(e,n,r){var o;if(xr.isArray(e)){for(o=e.length;o--;)e[o]=Se(e[o],n,r);return e}if(d&&(e===t||e===a))for(o=d.length;o--;){var i=d[o];e!==i[0]||n&&n!==i[1]||r&&r!==i[2]||p.unbind(i[0],i[1],i[2])}return p.unbind(e,n,r)},ke=function(e,t,n){return p.fire(e,t,n)},Te=function(e){if(e&&hu.isElement(e)){var t=e.getAttribute("data-mce-contenteditable");return t&&"inherit"!==t?t:"inherit"!==e.contentEditable?e.contentEditable:null}return null},Re=function(e){for(var t=B(),n=null;e&&e!==t&&(n=Te(e),null===n);e=e.parentNode);return n},Ae=function(){if(d)for(var e=d.length;e--;){var t=d[e];p.unbind(t[0],t[1],t[2])}Zn.setDocument&&Zn.setDocument()},Be=function(e,t){for(;e;){if(t===e)return!0;e=e.parentNode}return!1},De=function(e){return"startContainer: "+e.startContainer.nodeName+", startOffset: "+e.startOffset+", endContainer: "+e.endContainer.nodeName+", endOffset: "+e.endOffset},_e={doc:t,settings:n,win:a,files:u,stdMode:s,boxModel:l,styleSheetLoader:f,boundEvents:d,styles:g,schema:m,events:p,isBlock:E,$:v,$$:S,root:null,clone:A,getRoot:B,getViewPort:D,getRect:F,getSize:L,getParent:z,getParents:U,get:N,getNext:j,getPrev:H,select:q,is:M,add:X,create:Y,createHTML:J,createFragment:Q,remove:ee,setStyle:O,getStyle:I,setStyles:P,removeAllAttribs:te,setAttrib:R,setAttribs:$,getAttrib:k,getPos:_,parseStyle:ne,serializeStyle:re,addStyle:oe,loadCSS:ie,addClass:ue,removeClass:ce,hasClass:se,toggleClass:ae,show:le,hide:fe,isHidden:de,uniqueId:me,setHTML:K,getOuterHTML:ge,setOuterHTML:pe,decode:G,encode:Z,insertAfter:he,replace:ve,rename:ye,findCommonAncestor:be,toHex:Ce,run:W,getAttribs:T,isEmpty:xe,createRng:we,nodeIndex:ec,split:Ee,bind:Ne,unbind:Se,fire:ke,getContentEditable:Te,getContentEditableParent:Re,destroy:Ae,isChildOf:Be,dumpRng:De};return o=Ju(g,n,function(){return _e}),_e}function E(){var e=this,t=[],n={},r={},o=[],i=function(e){if(r[e])return r[e].instance},a=function(e){var t;return r[e]&&(t=r[e].dependencies),t||[]},u=function(e,t){var r=E.language;if(r&&E.languageLoad!==!1){if(t)if(t=","+t+",",t.indexOf(","+r.substr(0,2)+",")!==-1)r=r.substr(0,2);else if(t.indexOf(","+r+",")===-1)return;ac.ScriptLoader.add(n[e]+"/langs/"+r+".js")}},c=function(e,n,i){t.push(n),r[e]={instance:n,dependencies:i};var a=Xe(o,function(t){return t.name===e});return o=a.fail,uc(a.pass,function(e){e.callback()}),n},s=function(e){delete n[e],delete r[e]},l=function(e,t){return"object"==typeof t?t:"string"==typeof e?{prefix:"",resource:t,suffix:""}:{prefix:e.prefix,resource:t,suffix:e.suffix}},f=function(t,n){var r=e.urls[t];uc(n,function(e){ac.ScriptLoader.add(r+"/"+e)})},d=function(e,t,n,r){var o=a(e);uc(o,function(e){var n=l(t,e);m(n.resource,n,void 0,void 0)}),n&&(r?n.call(r):n.call(ac))},m=function(e,t,o,i,a){if(!n[e]){var u="string"==typeof t?t:t.prefix+t.resource+t.suffix;0!==u.indexOf("/")&&u.indexOf("://")===-1&&(u=E.baseURL+"/"+u),n[e]=u.substring(0,u.lastIndexOf("/")),r[e]?d(e,t,o,i):ac.ScriptLoader.add(u,function(){return d(e,t,o,i)},i,a)}},g=function(e,t){r.hasOwnProperty(e)?t():o.push({name:e,callback:t})};return{items:t,urls:n,lookup:r,_listeners:o,get:i,dependencies:a,requireLangPack:u,add:c,remove:s,createUrl:l,addComponents:f,load:m,waitFor:g}}function N(e,t,n,r,o){return e(n,r)?Re.some(n):Le(o)&&o(n)?Re.none():t(n,r,o)}function S(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function k(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function T(e,t,n){var r=function(){return ml(e)?0===t:0===t},o=function(){return ml(e)?t>=e.data.length:t>=e.childNodes.length},i=function(){var n;return n=vl(e.ownerDocument),n.setStart(e,t),n.setEnd(e,t),n},a=function(){return n||(n=kl(T(e,t))),n},u=function(){return a().length>0},c=function(n){return n&&e===n.container()&&t===n.offset()},s=function(n){return hl(e,n?t-1:t)};return{container:ye(e),offset:ye(t),toRange:i,getClientRects:a,isVisible:u,isAtStart:r,isAtEnd:o,isEqual:c,getNode:s}}function R(e,t){var n=function(n){if(!e(n))throw new Error("Can only get "+t+" value of a "+t+" node");return r(n).getOr("")},r=function(t){return e(t)?Re.from(t.dom().nodeValue):Re.none()},o=function(n,r){if(!e(n))throw new Error("Can only set raw "+t+" value of a "+t+" node");n.dom().nodeValue=r};return{get:n,getOption:r,set:o}}function A(e){var t=Xc();Kc(e,t);var n=$c(e);return{register:function(e,n){t.register(e,n)},annotate:function(n,r){t.lookup(n).each(function(t){qm(e,n,t,r)})},annotationChanged:function(e,t){n.addListener(e,t)},remove:function(t){jc(e,Re.some(t)).each(function(e){var t=e.elements;$e(t,vc)})},getAll:function(t){var n=Wc(e,t);return ci(n,function(e){return We(e,function(e){return e.dom()})})}}}function B(e){var t,n,r,o,i,a=[];return e=e||{},t=e.indent,n=wg(e.indent_before||""),r=wg(e.indent_after||""),o=Iu.getEncodeFunc(e.entity_encoding||"raw",e.entities),i="html"===e.element_format,{start:function(e,u,c){var s,l,f,d;if(t&&n[e]&&a.length>0&&(d=a[a.length-1],d.length>0&&"\n"!==d&&a.push("\n")),a.push("<",e),u)for(s=0,l=u.length;s<l;s++)f=u[s],a.push(" ",f.name,'="',o(f.value,!0),'"');!c||i?a[a.length]=">":a[a.length]=" />",c&&t&&r[e]&&a.length>0&&(d=a[a.length-1],d.length>0&&"\n"!==d&&a.push("\n"))},end:function(e){var n;a.push("</",e,">"),t&&r[e]&&a.length>0&&(n=a[a.length-1],n.length>0&&"\n"!==n&&a.push("\n"))},text:function(e,t){e.length>0&&(a[a.length]=t?e:o(e))},cdata:function(e){a.push("<![CDATA[",e,"]]>")},comment:function(e){a.push("<!--",e,"-->")},pi:function(e,n){n?a.push("<?",e," ",o(n),"?>"):a.push("<?",e,"?>"),t&&a.push("\n")},doctype:function(e){a.push("<!DOCTYPE",e,">",t?"\n":"")},reset:function(){a.length=0},getContent:function(){return a.join("").replace(/\n$/,"")}}}function D(e,t){void 0===t&&(t=C());var n=B(e);e=e||{},e.validate=!("validate"in e)||e.validate;var r=function(r){var o,i;i=e.validate,o={3:function(e){n.text(e.value,e.raw)},8:function(e){n.comment(e.value)},7:function(e){n.pi(e.name,e.value)},10:function(e){n.doctype(e.value)},4:function(e){n.cdata(e.value)},11:function(e){if(e=e.firstChild)do a(e);while(e=e.next)}},n.reset();var a=function(e){var r,u,c,s,l,f,d,m,g,p=o[e.type];if(p)p(e);else{if(r=e.name,u=e.shortEnded,c=e.attributes,i&&c&&c.length>1&&(f=[],f.map={},g=t.getElementRule(e.name))){for(d=0,m=g.attributesOrder.length;d<m;d++)s=g.attributesOrder[d],s in c.map&&(l=c.map[s],f.map[s]=l,f.push({name:s,value:l}));for(d=0,m=c.length;d<m;d++)s=c[d].name,s in f.map||(l=c.map[s],f.map[s]=l,f.push({name:s,value:l}));c=f}if(n.start(e.name,c,u),!u){if(e=e.firstChild)do a(e);while(e=e.next);n.end(r)}}};return 1!==r.type||e.inner?o[11](r):a(r),n.getContent()};return{serialize:r}}function _(e){var t,n,r,o,i={state:{},exec:{},value:{}},a=e.settings;e.on("PreInit",function(){t=e.dom,n=e.selection,a=e.settings,r=e.formatter});var u=function(t,n,r,o){var a,u,c=!1;if(!e.removed){if(/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(t)||o&&o.skip_focus?Sw.restore(e):e.focus(),o=e.fire("BeforeExecCommand",{command:t,ui:n,value:r}),o.isDefaultPrevented())return!1;if(u=t.toLowerCase(),a=i.exec[u])return a(u,n,r),e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;if(Dw(e.plugins,function(o){if(o.execCommand&&o.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),c=!0,!1}),c)return c;if(e.theme&&e.theme.execCommand&&e.theme.execCommand(t,n,r))return e.fire("ExecCommand",{command:t,ui:n,value:r}),!0;try{c=e.getDoc().execCommand(t,n,r)}catch(s){}return!!c&&(e.fire("ExecCommand",{command:t,ui:n,value:r}),!0)}},c=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=i.state[t])return n(t);try{return e.getDoc().queryCommandState(t)}catch(r){}return!1}},s=function(t){var n;if(!e.quirks.isHidden()&&!e.removed){if(t=t.toLowerCase(),n=i.value[t])return n(t);try{return e.getDoc().queryCommandValue(t)}catch(r){}}},l=function(e,t){t=t||"exec",Dw(e,function(e,n){Dw(n.toLowerCase().split(","),function(n){i[t][n]=e})})},f=function(t,n,r){t=t.toLowerCase(),i.exec[t]=function(t,o,i,a){return n.call(r||e,o,i,a)}},d=function(t){if(t=t.toLowerCase(),i.exec[t])return!0;try{return e.getDoc().queryCommandSupported(t)}catch(n){}return!1},m=function(t,n,r){t=t.toLowerCase(),i.state[t]=function(){return n.call(r||e)}},g=function(t,n,r){t=t.toLowerCase(),i.value[t]=function(){return n.call(r||e)}},p=function(e){return e=e.toLowerCase(),!!i.exec[e]};_w(this,{execCommand:u,queryCommandState:c,queryCommandValue:s,queryCommandSupported:d,addCommands:l,addCommand:f,addQueryStateHandler:m,addQueryValueHandler:g,hasCustomCommand:p});var h=function(t,n,r){return void 0===n&&(n=!1),void 0===r&&(r=null),e.getDoc().execCommand(t,n,r)},v=function(e){return r.match(e)},y=function(t,n){r.toggle(t,n?{value:n}:void 0),e.nodeChanged()},b=function(e){o=n.getBookmark(e)},C=function(){n.moveToBookmark(o)};l({"mceResetDesignMode,mceBeginUndoLevel":function(){},"mceEndUndoLevel,mceAddUndoLevel":function(){e.undoManager.add()},"Cut,Copy,Paste":function(t){var n,r=e.getDoc();try{h(t)}catch(o){n=!0}if("paste"!==t||r.queryCommandEnabled(t)||(n=!0),n||!r.queryCommandSupported(t)){var i=e.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");St.mac&&(i=i.replace(/Ctrl\+/g,"⌘+")),e.notificationManager.open({text:i,type:"error"})}},unlink:function(){if(n.isCollapsed()){var t=e.dom.getParent(e.selection.getStart(),"a");return void(t&&e.dom.remove(t,!0))}r.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(e){var t=e.substring(7);"full"===t&&(t="justify"),Dw("left,center,right,justify".split(","),function(e){t!==e&&r.remove("align"+e)}),"none"!==t&&y("align"+t)},"InsertUnorderedList,InsertOrderedList":function(e){
var r,o;h(e),r=t.getParent(n.getNode(),"ol,ul"),r&&(o=r.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(o.nodeName)&&(b(),t.split(o,r),C()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){y(e)},"ForeColor,HiliteColor":function(e,t,n){y(e,n)},FontName:function(t,n,r){mx(e,r)},FontSize:function(t,n,r){px(e,r)},RemoveFormat:function(e){r.remove(e)},mceBlockQuote:function(){y("blockquote")},FormatBlock:function(e,t,n){return y(n||"p")},mceCleanup:function(){var t=n.getBookmark();e.setContent(e.getContent()),n.moveToBookmark(t)},mceRemoveNode:function(t,r,o){var i=o||n.getNode();i!==e.getBody()&&(b(),e.dom.remove(i,!0),C())},mceSelectNodeDepth:function(r,o,i){var a=0;t.getParent(n.getNode(),function(e){if(1===e.nodeType&&a++===i)return n.select(e),!1},e.getBody())},mceSelectNode:function(e,t,r){n.select(r)},mceInsertContent:function(t,n,r){Hg.insertAtCaret(e,r)},mceInsertRawHTML:function(t,r,o){n.setContent("tiny_mce_marker");var i=e.getContent();e.setContent(i.replace(/tiny_mce_marker/g,function(){return o}))},mceToggleFormat:function(e,t,n){y(n)},mceSetContent:function(t,n,r){e.setContent(r)},"Indent,Outdent":function(t){Bw(e,t)},mceRepaint:function(){},InsertHorizontalRule:function(){e.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){e.hasVisual=!e.hasVisual,e.addVisual()},mceReplaceContent:function(t,r,o){e.execCommand("mceInsertContent",!1,o.replace(/\{\$selection\}/g,n.getContent({format:"text"})))},mceInsertLink:function(e,o,i){var a;"string"==typeof i&&(i={href:i}),a=t.getParent(n.getNode(),"a"),i.href=i.href.replace(" ","%20"),a&&i.href||r.remove("link"),i.href&&r.apply("link",i,a)},selectAll:function(){var e=t.getParent(n.getStart(),hu.isContentEditableTrue);if(e){var r=t.createRng();r.selectNodeContents(e),n.setRng(r)}},"delete":function(){tx.deleteCommand(e)},forwardDelete:function(){tx.forwardDeleteCommand(e)},mceNewDocument:function(){e.setContent("")},InsertLineBreak:function(t,n,r){return Wx.insert(e,r),!0}});var x=function(e){return function(){var o=n.isCollapsed()?[t.getParent(n.getNode(),t.isBlock)]:n.getSelectedBlocks(),i=Ow(o,function(t){return!!r.matchNode(t,e)});return Pw(i,!0)!==-1}};l({JustifyLeft:x("alignleft"),JustifyCenter:x("aligncenter"),JustifyRight:x("alignright"),JustifyFull:x("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(e){return v(e)},mceBlockQuote:function(){return v("blockquote")},Outdent:function(){var e;if(a.inline_styles){if((e=t.getParent(n.getStart(),t.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0;if((e=t.getParent(n.getEnd(),t.isBlock))&&parseInt(e.style.paddingLeft,10)>0)return!0}return c("InsertUnorderedList")||c("InsertOrderedList")||!a.inline_styles&&!!t.getParent(n.getNode(),"BLOCKQUOTE")},"InsertUnorderedList,InsertOrderedList":function(e){var r=t.getParent(n.getNode(),"ul,ol");return r&&("insertunorderedlist"===e&&"UL"===r.tagName||"insertorderedlist"===e&&"OL"===r.tagName)}},"state"),l({Undo:function(){e.undoManager.undo()},Redo:function(){e.undoManager.redo()}}),g("FontName",function(){return gx(e)},this),g("FontSize",function(){return hx(e)},this)}function O(e){var t=this,n={},r=[],o=function(e){var t,n,r={};AE(BE(e,"+"),function(e){e in _E?r[e]=!0:/^[0-9]{2,}$/.test(e)?r.keyCode=parseInt(e,10):(r.charCode=e.charCodeAt(0),r.keyCode=DE[e]||e.toUpperCase().charCodeAt(0))}),t=[r.keyCode];for(n in _E)r[n]?t.push(n):r[n]=!1;return r.id=t.join(","),r.access&&(r.alt=!0,St.mac?r.ctrl=!0:r.shift=!0),r.meta&&(St.mac?r.meta=!0:(r.ctrl=!0,r.meta=!1)),r},i=function(t,n,r,i){var a;return a=xr.map(BE(t,">"),o),a[a.length-1]=xr.extend(a[a.length-1],{func:r,scope:i||e}),xr.extend(a[0],{desc:e.translate(n),subpatterns:a.slice(1)})},a=function(e){return e.altKey||e.ctrlKey||e.metaKey},u=function(e){return"keydown"===e.type&&e.keyCode>=112&&e.keyCode<=123},c=function(e,t){return!!t&&(t.ctrl===e.ctrlKey&&t.meta===e.metaKey&&(t.alt===e.altKey&&t.shift===e.shiftKey&&(!!(e.keyCode===t.keyCode||e.charCode&&e.charCode===t.charCode)&&(e.preventDefault(),!0))))},s=function(e){return e.func?e.func.call(e.scope):null};e.on("keyup keypress keydown",function(e){!a(e)&&!u(e)||e.isDefaultPrevented()||(AE(n,function(t){if(c(e,t))return r=t.subpatterns.slice(0),"keydown"===e.type&&s(t),!0}),c(e,r[0])&&(1===r.length&&"keydown"===e.type&&s(r[0]),r.shift()))}),t.add=function(t,r,o,a){var u;return u=o,"string"==typeof o?o=function(){e.execCommand(u,!1,null)}:xr.isArray(u)&&(o=function(){e.execCommand(u[0],u[1],u[2])}),AE(BE(xr.trim(t.toLowerCase())),function(e){var t=i(e,r,o,a);n[t.id]=t}),!0},t.remove=function(e){var t=i(e);return!!n[t.id]&&(delete n[t.id],!0)}}function P(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}}function I(e){var t=[],n=function(){var t=e.theme;return t&&t.getNotificationManagerImpl?t.getNotificationManagerImpl():P()},r=function(){return Re.from(t[0])},o=function(e,t){return!(e.type!==t.type||e.text!==t.text||e.progressBar||e.timeout||t.progressBar||t.timeout)},i=function(){t.length>0&&n().reposition(t)},a=function(e){t.push(e)},u=function(e){Qe(t,function(t){return t===e}).each(function(e){t.splice(e,1)})},c=function(r){if(!e.removed&&uN.isEditorAttachedToDom(e))return Je(t,function(e){return o(n().getArgs(e),r)}).getOrThunk(function(){e.editorManager.setActive(e);var t=n().open(r,function(){u(t),i()});return a(t),i(),t})},s=function(){r().each(function(e){n().close(e),u(e),i()})},l=function(){return t},f=function(e){e.on("SkinLoaded",function(){var t=e.settings.service_message;t&&c({text:t,type:"warning",timeout:0,icon:""})}),e.on("ResizeEditor ResizeWindow",function(){Pt.requestAnimationFrame(i)}),e.on("remove",function(){$e(t.slice(),function(e){n().close(e)})})};return f(e),{open:c,close:s,getNotifications:l}}function L(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}function F(e){var t=[],n=function(){var t=e.theme;return t&&t.getWindowManagerImpl?t.getWindowManagerImpl():L()},r=function(e,t){return function(){return t?t.apply(e,arguments):void 0}},o=function(t){e.fire("OpenWindow",{win:t})},i=function(t){e.fire("CloseWindow",{win:t})},a=function(e){t.push(e),o(e)},u=function(n){Qe(t,function(e){return e===n}).each(function(r){t.splice(r,1),i(n),0===t.length&&e.focus()})},c=function(){return Re.from(t[t.length-1])},s=function(t,r){e.editorManager.setActive(e),Sw.store(e);var o=n().open(t,r,u);return a(o),o},l=function(e,t,o){var i=n().alert(e,r(o?o:this,t),u);a(i)},f=function(e,t,o){var i=n().confirm(e,r(o?o:this,t),u);a(i)},d=function(){c().each(function(e){n().close(e),u(e)})},m=function(){return c().map(n().getParams).getOr(null)},g=function(e){c().each(function(t){n().setParams(t,e)})},p=function(){return t};return e.on("remove",function(){$e(t.slice(0),function(e){n().close(e)})}),{windows:t,open:s,alert:l,confirm:f,close:d,getParams:m,setParams:g,getWindows:p}}function M(){var e=pt.getOrDie("XMLHttpRequest");return new e}function U(t,n){var r={},o=function(e,t){return e?e.replace(/\/$/,"")+"/"+t.replace(/^\//,""):t},i=function(t,r,i,a){var u,c;u=M(),u.open("POST",n.url),u.withCredentials=n.credentials,u.upload.onprogress=function(e){a(e.loaded/e.total*100)},u.onerror=function(){i("Image upload failed due to a XHR Transport error. Code: "+u.status)},u.onload=function(){var e;return u.status<200||u.status>=300?void i("HTTP Error: "+u.status):(e=JSON.parse(u.responseText),e&&"string"==typeof e.location?void r(o(n.basePath,e.location)):void i("Invalid JSON: "+u.responseText))},c=new e.FormData,c.append("file",t.blob(),t.filename()),u.send(c)},a=function(){return new Tt(function(e){e([])})},u=function(e,t){return{url:t,blobInfo:e,status:!0}},c=function(e,t){return{url:"",blobInfo:e,status:!1,error:t}},s=function(e,t){xr.each(r[e],function(e){e(t)}),delete r[e]},l=function(e,n,r){return t.markPending(e.blobUri()),new Tt(function(o){var i,a,l=function(){};try{var f=function(){i&&(i.close(),a=l)},d=function(n){f(),t.markUploaded(e.blobUri(),n),s(e.blobUri(),u(e,n)),o(u(e,n))},m=function(n){f(),t.removeFailed(e.blobUri()),s(e.blobUri(),c(e,n)),o(c(e,n))};a=function(e){e<0||e>100||(i||(i=r()),i.progressBar.value(e))},n(e,d,m,a)}catch(g){o(c(e,g.message))}})},f=function(e){return e===i},d=function(e){var t=e.blobUri();return new Tt(function(e){r[t]=r[t]||[],r[t].push(e)})},m=function(e,r){return e=xr.grep(e,function(e){return!t.isUploaded(e.blobUri())}),Tt.all(xr.map(e,function(e){return t.isPending(e.blobUri())?d(e):l(e,n.handler,r)}))},g=function(e,t){return!n.url&&f(n.handler)?a():m(e,t)};return Le(n.handler)===!1&&(n.handler=i),{upload:g}}function z(){var e=pt.getOrDie("FileReader");return new e}function V(e){var t=pt.getOrDie("Uint8Array");return new t(e)}function j(e,t){var n={},r=function(r,o){var i;o||(o=ye(!0)),i=Ye(IN(r),function(t){var n=t.src;return!!St.fileApi&&(!t.hasAttribute("data-mce-bogus")&&(!t.hasAttribute("data-mce-placeholder")&&(!(!n||n===St.transparentSrc)&&(0===n.indexOf("blob:")?!e.isUploaded(n)&&o(t):0===n.indexOf("data:")&&o(t)))))});var a=We(i,function(e){if(n[e.src])return new Tt(function(t){n[e.src].then(function(n){return"string"==typeof n?n:void t({image:e,blobInfo:n.blobInfo})})});var r=new Tt(function(n,r){PN(t,e,n,r)}).then(function(e){return delete n[e.image.src],e})["catch"](function(t){return delete n[e.src],t});return n[e.src]=r,r});return Tt.all(a)};return{findAll:r}}function H(){var e=[],t=function(e){var t={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png"};return t[e.toLowerCase()]||"dat"},n=function(e,t,n,o){if(De(e)){var i=e;return r({id:i,name:o,blob:t,base64:n})}if(_e(e))return r(e);throw new Error("Unknown input type")},r=function(e){var n,r;if(!e.blob||!e.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");return n=e.id||UN.uuid("blobid"),r=e.name||n,{id:ye(n),name:ye(r),filename:ye(r+"."+t(e.blob.type)),blob:ye(e.blob),base64:ye(e.base64),blobUri:ye(e.blobUri||bt.createObjectURL(e.blob)),uri:ye(e.uri)}},o=function(t){i(t.id())||e.push(t)},i=function(e){return a(function(t){return t.id()===e})},a=function(t){return Ye(e,t)[0]},u=function(e){return a(function(t){return t.blobUri()===e})},c=function(t){e=Ye(e,function(e){return e.blobUri()!==t||(bt.revokeObjectURL(e.blobUri()),!1)})},s=function(){$e(e,function(e){bt.revokeObjectURL(e.blobUri())}),e=[]};return{create:n,add:o,get:i,getByUri:u,findFirst:a,removeByUri:c,destroy:s}}function q(){var e=1,t=2,n={},r=function(e,t){return{status:e,resultUri:t}},o=function(e){return e in n},i=function(e){var t=n[e];return t?t.resultUri:null},a=function(t){return!!o(t)&&n[t].status===e},u=function(e){return!!o(e)&&n[e].status===t},c=function(t){n[t]=r(e,null)},s=function(e,o){n[e]=r(t,o)},l=function(e){delete n[e]},f=function(){n={}};return{hasBlobUri:o,getResultUri:i,isPending:a,isUploaded:u,markPending:c,markUploaded:s,removeFailed:l,destroy:f}}function W(e){var t,n,r=H(),o=q(),i=[],a=function(t){return function(n){return e.selection?t(n):[]}},u=function(){return"?"+(new Date).getTime()},c=function(e,t,n){var r=0;do r=e.indexOf(t,r),r!==-1&&(e=e.substring(0,r)+n+e.substr(r+t.length),r+=n.length-t.length+1);while(r!==-1);return e},s=function(e,t,n){return e=c(e,'src="'+t+'"','src="'+n+'"'),e=c(e,'data-mce-src="'+t+'"','data-mce-src="'+n+'"')},l=function(t,n){$e(e.undoManager.data,function(e){"fragmented"===e.type?e.fragments=We(e.fragments,function(e){return s(e,t,n)}):e.content=s(e.content,t,n)})},f=function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})},d=function(t,n){r.removeByUri(t.src),l(t.src,n),e.$(t).attr({src:yp.shouldReuseFileName(e)?n+u():n,"data-mce-src":e.convertURL(n,"src")})},m=function(n){return t||(t=U(o,{url:yp.getImageUploadUrl(e),basePath:yp.getImageUploadBasePath(e),credentials:yp.getImagesUploadCredentials(e),handler:yp.getImagesUploadHandler(e)})),v().then(a(function(r){var o;return o=We(r,function(e){return e.blobInfo}),t.upload(o,f).then(a(function(t){var o=We(t,function(t,n){var o=r[n].image;return t.status&&yp.shouldReplaceBlobUris(e)?d(o,t.url):t.error&&CN.uploadError(e,t.error),{element:o,status:t.status}});return n&&n(o),o}))}))},g=function(t){if(yp.isAutomaticUploadsEnabled(e))return m(t)},p=function(t){if(nt(i,function(e){return e(t)})===!1)return!1;if(0===t.getAttribute("src").indexOf("data:")){var n=yp.getImagesDataImgFilter(e);return n(t)}return!0},h=function(e){i.push(e)},v=function(){return n||(n=j(o,r)),n.findAll(e.getBody(),p).then(a(function(t){return t=Ye(t,function(t){return"string"!=typeof t||(CN.displayError(e,t),!1)}),$e(t,function(e){l(e.image.src,e.blobInfo.blobUri()),e.image.src=e.blobInfo.blobUri(),e.image.removeAttribute("data-mce-src")}),t}))},y=function(){r.destroy(),o.destroy(),n=t=null},b=function(t){return t.replace(/src="(blob:[^"]+)"/g,function(t,n){var i=o.getResultUri(n);if(i)return'src="'+i+'"';var a=r.getByUri(n);if(a||(a=Ze(e.editorManager.get(),function(e,t){return e||t.editorUpload&&t.editorUpload.blobCache.getByUri(n)},null)),a){var u=a.blob();return'src="data:'+u.type+";base64,"+a.base64()+'"'}return t})};return e.on("setContent",function(){yp.isAutomaticUploadsEnabled(e)?g():v()}),e.on("RawSaveContent",function(e){e.content=b(e.content)}),e.on("getContent",function(e){e.source_view||"raw"===e.format||(e.content=b(e.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(e){$e(e,function(e){var t=e.attr("src");if(!r.getByUri(t)){var n=o.getResultUri(t);n&&e.attr("src",n)}})})}),{blobCache:r,addFilter:h,uploadImages:m,uploadImagesAuto:g,scanForImages:v,destroy:y}}function $(e){var t,n=[],r=function(t){var r,o;if(o=e.$(t).parentsUntil(e.getBody()).add(t),o.length===n.length){for(r=o.length;r>=0&&o[r]===n[r];r--);if(r===-1)return n=o,!0}return n=o,!1};"onselectionchange"in e.getDoc()||e.on("NodeChange Click MouseUp KeyUp Focus",function(n){var r,o;r=e.selection.getRng(),o={startContainer:r.startContainer,startOffset:r.startOffset,endContainer:r.endContainer,endOffset:r.endOffset},"nodechange"!==n.type&&yx.isEq(o,t)||e.fire("SelectionChange"),t=o}),e.on("contextmenu",function(){e.fire("SelectionChange")}),e.on("SelectionChange",function(){var t=e.selection.getStart(!0);!t||!St.range&&e.selection.isCollapsed()||QN(e)&&!r(t)&&e.dom.isChildOf(t,e.getBody())&&e.nodeChanged({selectionChange:!0})}),e.on("MouseUp",function(t){!t.isDefaultPrevented()&&QN(e)&&("IMG"===e.selection.getNode().nodeName?Pt.setEditorTimeout(e,function(){e.nodeChanged()}):e.nodeChanged())}),this.nodeChanged=function(t){var n,r,o,i=e.selection;e.initialized&&i&&!e.settings.disable_nodechange&&!e.readonly&&(o=e.getBody(),n=i.getStart(!0)||o,n.ownerDocument===e.getDoc()&&e.dom.isChildOf(n,o)||(n=o),r=[],e.dom.getParent(n,function(e){return e===o||void r.push(e)}),t=t||{},t.element=n,t.parents=r,e.fire("NodeChange",t))}}function K(e,t){void 0===t&&(t=C());var n=function(){};e=e||{},e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var r=e.comment?e.comment:n,o=e.cdata?e.cdata:n,i=e.text?e.text:n,a=e.start?e.start:n,u=e.end?e.end:n,c=e.pi?e.pi:n,s=e.doctype?e.doctype:n,l=function(n){var l,f,d,m,g,p,h,v,y,b,C,x,w,E,N,S,k,T,R,A,B,D,_,O,P,I,L,F,M,U,z=0,V=[],j=0,H=Iu.decode,q=xr.makeMap("src,href,data,background,formaction,poster,xlink:href"),W=/((java|vb)script|mhtml):/i,$=function(e){var t,n;for(t=V.length;t--&&V[t].name!==e;);if(t>=0){for(n=V.length-1;n>=t;n--)e=V[n],e.valid&&u(e.name);V.length=t}},K=function(t,n,r,o,i){var a,u,c=/[\s\u0000-\u001F]+/g;if(n=n.toLowerCase(),r=n in C?n:H(r||o||i||""),w&&!v&&uk(n)===!1){if(a=T[n],!a&&R){for(u=R.length;u--&&(a=R[u],!a.pattern.test(n)););u===-1&&(a=null)}if(!a)return;if(a.validValues&&!(r in a.validValues))return}if(q[n]&&!e.allow_script_urls){var s=r.replace(c,"");try{s=decodeURIComponent(s)}catch(l){s=unescape(s)}if(W.test(s))return;if(sk(e,s))return}v&&(n in q||0===n.indexOf("on"))||(m.map[n]=r,m.push({name:n,value:r}))};for(I=new RegExp("<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:!DOCTYPE([\\w\\W]*?)>)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)((?:\\s+[^\"'>]+(?:(?:\"[^\"]*\")|(?:'[^']*')|[^>]*))*|\\/|\\s+)>))","g"),L=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,b=t.getShortEndedElements(),P=e.self_closing_elements||t.getSelfClosingElements(),C=t.getBoolAttrs(),w=e.validate,y=e.remove_internals,U=e.fix_self_closing,F=t.getSpecialElements(),_=n+">";l=I.exec(_);){if(z<l.index&&i(H(n.substr(z,l.index-z))),f=l[6])f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),$(f);else if(f=l[7]){if(l.index+l[0].length>n.length){i(H(n.substr(l.index))),z=l.index+l[0].length;continue}f=f.toLowerCase(),":"===f.charAt(0)&&(f=f.substr(1)),x=f in b,U&&P[f]&&V.length>0&&V[V.length-1].name===f&&$(f);var X=fk(L,l[8]);if(null!==X){if("all"===X){z=lk(t,n,I.lastIndex),I.lastIndex=z;continue}N=!1}if(!w||(E=t.getElementRule(f))){if(N=!0,w&&(T=E.attributes,R=E.attributePatterns),(k=l[8])?(v=k.indexOf("data-mce-type")!==-1,v&&y&&(N=!1),m=[],m.map={},k.replace(L,K)):(m=[],m.map={}),w&&!v){if(A=E.attributesRequired,B=E.attributesDefault,D=E.attributesForced,O=E.removeEmptyAttrs,O&&!m.length&&(N=!1),D)for(g=D.length;g--;)S=D[g],h=S.name,M=S.value,"{$uid}"===M&&(M="mce_"+j++),m.map[h]=M,m.push({name:h,value:M});if(B)for(g=B.length;g--;)S=B[g],h=S.name,h in m.map||(M=S.value,"{$uid}"===M&&(M="mce_"+j++),m.map[h]=M,m.push({name:h,value:M}));if(A){for(g=A.length;g--&&!(A[g]in m.map););g===-1&&(N=!1)}if(S=m.map["data-mce-bogus"]){if("all"===S){z=lk(t,n,I.lastIndex),I.lastIndex=z;continue}N=!1}}N&&a(f,m,x)}else N=!1;if(d=F[f]){d.lastIndex=z=l.index+l[0].length,(l=d.exec(n))?(N&&(p=n.substr(z,l.index-z)),z=l.index+l[0].length):(p=n.substr(z),z=n.length),N&&(p.length>0&&i(p,!0),u(f)),I.lastIndex=z;continue}x||(k&&k.indexOf("/")===k.length-1?N&&u(f):V.push({name:f,valid:N}))}else(f=l[1])?(">"===f.charAt(0)&&(f=" "+f),e.allow_conditional_comments||"[if"!==f.substr(0,3).toLowerCase()||(f=" "+f),r(f)):(f=l[2])?o(ck(f)):(f=l[3])?s(f):(f=l[4])&&c(f,l[5]);z=l.index+l[0].length}for(z<n.length&&i(H(n.substr(z))),g=V.length-1;g>=0;g--)f=V[g],f.valid&&u(f.name)};return{parse:l}}function X(e){var t,n,r=this,o=0,i=[],a=0,u=function(){return 0===a},c=function(e){u()&&(r.typing=e)},s=function(t){e.setDirty(t)},l=function(e){c(!1),r.add({},e)},f=function(){r.typing&&(c(!1),r.add())};e.on("init",function(){r.add()}),e.on("BeforeExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&(f(),r.beforeChange())}),e.on("ExecCommand",function(e){var t=e.command;"Undo"!==t&&"Redo"!==t&&"mceRepaint"!==t&&l(e)}),e.on("ObjectResizeStart Cut",function(){r.beforeChange()}),e.on("SaveContent ObjectResized blur",l),e.on("DragEnd",l),e.on("KeyUp",function(t){var o=t.keyCode;t.isDefaultPrevented()||((o>=33&&o<=36||o>=37&&o<=40||45===o||t.ctrlKey)&&(l(),e.nodeChanged()),46!==o&&8!==o||e.nodeChanged(),n&&r.typing&&jk.isEq(jk.createFromEditor(e),i[0])===!1&&(e.isDirty()===!1&&(s(!0),e.fire("change",{level:i[0],lastLevel:null})),e.fire("TypingUndo"),n=!1,e.nodeChanged()))}),e.on("KeyDown",function(e){var t=e.keyCode;if(!e.isDefaultPrevented()){if(t>=33&&t<=36||t>=37&&t<=40||45===t)return void(r.typing&&l(e));var o=e.ctrlKey&&!e.altKey||e.metaKey;!(t<16||t>20)||224===t||91===t||r.typing||o||(r.beforeChange(),c(!0),r.add({},e),n=!0)}}),e.on("MouseDown",function(e){r.typing&&l(e)});var d=function(e){return"insertReplacementText"===e.inputType},m=function(e){return"insertText"===e.inputType&&null===e.data};return e.on("input",function(e){e.inputType&&(d(e)||m(e))&&l(e)}),e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo"),e.on("AddUndo Undo Redo ClearUndos",function(t){t.isDefaultPrevented()||e.nodeChanged()}),r={data:i,typing:!1,beforeChange:function(){u()&&(t=sf.getUndoBookmark(e.selection))},add:function(n,r){var a,c,l,f=e.settings;if(l=jk.createFromEditor(e),n=n||{},n=xr.extend(n,l),u()===!1||e.removed)return null;if(c=i[o],e.fire("BeforeAddUndo",{level:n,lastLevel:c,originalEvent:r}).isDefaultPrevented())return null;if(c&&jk.isEq(c,n))return null;if(i[o]&&(i[o].beforeBookmark=t),f.custom_undo_redo_levels&&i.length>f.custom_undo_redo_levels){for(a=0;a<i.length-1;a++)i[a]=i[a+1];i.length--,o=i.length}n.bookmark=sf.getUndoBookmark(e.selection),o<i.length-1&&(i.length=o+1),i.push(n),o=i.length-1;var d={level:n,lastLevel:c,originalEvent:r};return e.fire("AddUndo",d),o>0&&(s(!0),e.fire("change",d)),n},undo:function(){var t;return r.typing&&(r.add(),r.typing=!1,c(!1)),o>0&&(t=i[--o],jk.applyToEditor(e,t,!0),s(!0),e.fire("undo",{level:t})),t},redo:function(){var t;return o<i.length-1&&(t=i[++o],jk.applyToEditor(e,t,!1),s(!0),e.fire("redo",{level:t})),t},clear:function(){i=[],o=0,r.typing=!1,r.data=i,e.fire("ClearUndos")},hasUndo:function(){return o>0||r.typing&&i[0]&&!jk.isEq(jk.createFromEditor(e),i[0])},hasRedo:function(){return o<i.length-1&&!r.typing},transact:function(e){return f(),r.beforeChange(),r.ignore(e),r.add()},ignore:function(e){try{a++,e()}finally{a--}},extra:function(t,n){var a,u;r.transact(t)&&(u=i[o].bookmark,a=i[o-1],jk.applyToEditor(e,a,!0),r.transact(n)&&(i[o-1].beforeBookmark=u))}}}function Y(e){var t={},n=function(e){return e?t[e]:t},r=function(e,n){e&&("string"!=typeof e?xr.each(e,function(e,t){r(t,e)}):(n=n.length?n:[n],xr.each(n,function(e){"undefined"==typeof e.deep&&(e.deep=!e.selector),"undefined"==typeof e.split&&(e.split=!e.selector||e.inline),"undefined"==typeof e.remove&&e.selector&&!e.inline&&(e.remove="none"),e.selector&&e.inline&&(e.mixed=!0,e.block_expand=!0),"string"==typeof e.classes&&(e.classes=e.classes.split(/\s+/))}),t[e]=n))},o=function(e){return e&&t[e]&&delete t[e],t};return r(UT.get(e.dom)),r(e.settings.formats),{get:n,register:r,unregister:o}}function G(e){var n=Y(e),r=Cc(null);return ZT.setup(e),wC(e),{get:n.get,register:n.register,unregister:n.unregister,apply:t(_T.applyFormat,e),remove:t(fT.remove,e),toggle:t(YT.toggle,e,n),match:t(nC.match,e),matchAll:t(nC.matchAll,e),matchNode:t(nC.matchNode,e),canApply:t(nC.canApply,e),formatChanged:t(FT.formatChanged,e,r),getCssText:t(KT.getCssText,e)}}function Z(e,t){void 0===t&&(t=C());var n={},r=[],o={},i={};e=e||{},e.validate=!("validate"in e)||e.validate,e.root_name=e.root_name||"body";var a=function(e){var n,r,o,i,a,c,s,l,f,d,m,g,p,h,v,y;for(g=kR("tr,td,th,tbody,thead,tfoot,table"),d=t.getNonEmptyElements(),m=t.getWhiteSpaceElements(),p=t.getTextBlockElements(),h=t.getSpecialElements(),n=0;n<e.length;n++)if(r=e[n],r.parent&&!r.fixed)if(p[r.name]&&"li"===r.parent.name){for(v=r.next;v&&p[v.name];)v.name="li",v.fixed=!0,r.parent.insert(v,r.parent),v=v.next;r.unwrap(r)}else{for(i=[r],o=r.parent;o&&!t.isValidChild(o.name,r.name)&&!g[o.name];o=o.parent)i.push(o);if(o&&i.length>1){for(i.reverse(),a=c=u(i[0].clone()),f=0;f<i.length-1;f++){for(t.isValidChild(c.name,i[f].name)?(s=u(i[f].clone()),c.append(s)):s=c,l=i[f].firstChild;l&&l!==i[f+1];)y=l.next,s.append(l),l=y;c=s}ER(t,d,m,a)?o.insert(r,i[0],!0):(o.insert(a,i[0],!0),o.insert(r,a)),o=i[0],(ER(t,d,m,o)||xR(o,"br"))&&o.empty().remove()}else if(r.parent){if("li"===r.name){if(v=r.prev,v&&("ul"===v.name||"ul"===v.name)){v.append(r);continue}if(v=r.next,v&&("ul"===v.name||"ul"===v.name)){v.insert(r,v.firstChild,!0);continue}r.wrap(u(new yR("ul",1)));continue}t.isValidChild(r.parent.name,"div")&&t.isValidChild("div",r.name)?r.wrap(u(new yR("div",1))):h[r.name]?r.empty().remove():r.unwrap()}}},u=function(e){var t,a,u;a=e.name,a in n&&(u=o[a],u?u.push(e):o[a]=[e]),t=r.length;for(;t--;)a=r[t].name,a in e.attributes.map&&(u=i[a],u?u.push(e):i[a]=[e]);return e},c=function(e,t){TR(RR(e),function(e){var r=n[e];r||(n[e]=r=[]),r.push(t)})},s=function(){var e=[];for(var t in n)n.hasOwnProperty(t)&&e.push({name:t,callbacks:n[t]});return e},l=function(e,t){TR(RR(e),function(e){var n;for(n=0;n<r.length;n++)if(r[n].name===e)return void r[n].callbacks.push(t);r.push({name:e,callbacks:[t]})})},f=function(){return[].concat(r)},d=function(u,c){var s,l,f,d,m,g,p,h,v,y,b,C=[];c=c||{},o={},i={},v=AR(kR("script,style,head,html,body,title,meta,param"),t.getBlockElements());var x=t.getNonEmptyElements(),w=t.children,E=e.validate,N="forced_root_block"in c?c.forced_root_block:e.forced_root_block,S=t.getWhiteSpaceElements(),k=/^[ \t\r\n]+/,T=/[ \t\r\n]+$/,R=/[ \t\r\n]+/g,A=/^[ \t\r\n]+$/;y=S.hasOwnProperty(c.context)||S.hasOwnProperty(e.root_name);var B=function(){var n,r,o=P.firstChild,i=function(e){e&&(o=e.firstChild,o&&3===o.type&&(o.value=o.value.replace(k,"")),o=e.lastChild,o&&3===o.type&&(o.value=o.value.replace(T,"")))};if(t.isValidChild(P.name,N.toLowerCase())){for(;o;)n=o.next,3===o.type||1===o.type&&"p"!==o.name&&!v[o.name]&&!o.attr("data-mce-type")?r?r.append(o):(r=D(N,1),r.attr(e.forced_root_block_attrs),P.insert(r,o),r.append(o)):(i(r),r=null),o=n;i(r)}},D=function(e,t){var r,i=new yR(e,t);return e in n&&(r=o[e],r?r.push(i):o[e]=[i]),i},_=function(e){var n,r,o,i,a=t.getBlockElements();for(n=e.prev;n&&3===n.type;){if(o=n.value.replace(T,""),o.length>0)return void(n.value=o);if(r=n.next){if(3===r.type&&r.value.length){n=n.prev;continue}if(!a[r.name]&&"script"!==r.name&&"style"!==r.name){n=n.prev;continue}}i=n.prev,n.remove(),n=i}},O=function(e){var t,n={};for(t in e)"li"!==t&&"p"!==t&&(n[t]=e[t]);return n};s=dk({validate:E,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,self_closing_elements:O(t.getSelfClosingElements()),cdata:function(e){b.append(D("#cdata",4)).value=e},text:function(e,t){var n;y||(e=e.replace(R," "),NR(b.lastChild,v)&&(e=e.replace(k,""))),0!==e.length&&(n=D("#text",3),n.raw=!!t,b.append(n).value=e)},comment:function(e){b.append(D("#comment",8)).value=e},pi:function(e,t){b.append(D(e,7)).value=t,_(b)},doctype:function(e){var t;t=b.append(D("#doctype",10)),t.value=e,_(b)},start:function(e,n,o){var a,u,c,s,l;if(c=E?t.getElementRule(e):{}){for(a=D(c.outputName||e,1),a.attributes=n,a.shortEnded=o,b.append(a),l=w[b.name],l&&w[a.name]&&!l[a.name]&&C.push(a),u=r.length;u--;)s=r[u].name,s in n.map&&(p=i[s],p?p.push(a):i[s]=[a]);v[e]&&_(a),o||(b=a),!y&&S[e]&&(y=!0)}},end:function(n){var r,o,i,a,u;if(o=E?t.getElementRule(n):{}){if(v[n]&&!y){if(r=b.firstChild,r&&3===r.type)if(i=r.value.replace(k,""),i.length>0)r.value=i,r=r.next;else for(a=r.next,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.next,(0===i.length||A.test(i))&&(r.remove(),r=a),r=a;if(r=b.lastChild,r&&3===r.type)if(i=r.value.replace(T,""),i.length>0)r.value=i,r=r.prev;else for(a=r.prev,r.remove(),r=a;r&&3===r.type;)i=r.value,a=r.prev,(0===i.length||A.test(i))&&(r.remove(),r=a),r=a}if(y&&S[n]&&(y=!1),o.removeEmpty&&ER(t,x,S,b)&&!b.attributes.map.name&&!b.attr("id"))return u=b.parent,v[b.name]?b.empty().remove():b.unwrap(),void(b=u);o.paddEmpty&&(CR(b)||ER(t,x,S,b))&&bR(e,c,v,b),b=b.parent}}},t);var P=b=new yR(c.context||e.root_name,11);if(s.parse(u),E&&C.length&&(c.context?c.invalid=!0:a(C)),N&&("body"===P.name||c.isRootContent)&&B(),!c.invalid){for(h in o){for(p=n[h],l=o[h],m=l.length;m--;)l[m].parent||l.splice(m,1);for(f=0,d=p.length;f<d;f++)p[f](l,h,c)}for(f=0,d=r.length;f<d;f++)if(p=r[f],p.name in i){for(l=i[p.name],m=l.length;m--;)l[m].parent||l.splice(m,1);for(m=0,g=p.callbacks.length;m<g;m++)p.callbacks[m](l,p.name,c)}}return P},m={schema:t,addAttributeFilter:l,getAttributeFilters:f,addNodeFilter:c,getNodeFilters:s,filterNode:u,parse:d};return SR(m,e),gR.register(m,e),m}function J(e,n){var r,o,i,a=["data-mce-selected"];r=n&&n.dom?n.dom:tc.DOM,o=n&&n.schema?n.schema:C(e),e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs=!("remove_trailing_brs"in e)||e.remove_trailing_brs,i=Z(e,o),oR.register(i,e,r);var u=function(t,a){var u=tR({format:"html"},a?a:{}),c=cR.process(n,t,u),s=_R(r,c,u),l=OR(i,s,u);return"tree"===u.format?l:IR(n,e,o,l,u)};return{schema:o,addNodeFilter:i.addNodeFilter,addAttributeFilter:i.addAttributeFilter,serialize:u,addRules:function(e){o.addValidElements(e)},setRules:function(e){o.setValidElements(e)},addTempAttr:t(BR,i,a),getTempAttrs:function(){return a}}}function Q(e,t){var n=J(e,t);return{schema:n.schema,addNodeFilter:n.addNodeFilter,addAttributeFilter:n.addAttributeFilter,serialize:n.serialize,addRules:n.addRules,setRules:n.setRules,addTempAttr:n.addTempAttr,getTempAttrs:n.getTempAttrs}}function ee(e){return{getBookmark:t(nm.getBookmark,e),moveToBookmark:t(nm.moveToBookmark,e)}}function te(t){var n=xr.each,r=eS.BACKSPACE,o=eS.DELETE,i=t.dom,a=t.selection,u=t.settings,c=t.parser,s=St.gecko,l=St.ie,f=St.webkit,d="data:text/mce-internal,",m=l?"Text":"URL",g=function(e,n){try{t.getDoc().execCommand(e,!1,n)}catch(r){}},p=function(e){return e.isDefaultPrevented()},h=function(e){var n,r;e.dataTransfer&&(t.selection.isCollapsed()&&"IMG"===e.target.tagName&&a.select(e.target),n=t.selection.getContent(),n.length>0&&(r=d+escape(t.id)+","+escape(n),e.dataTransfer.setData(m,r)))},v=function(e){var t;return e.dataTransfer&&(t=e.dataTransfer.getData(m),t&&t.indexOf(d)>=0)?(t=t.substr(d.length).split(","),{id:unescape(t[0]),html:unescape(t[1])}):null},y=function(e,n){t.queryCommandSupported("mceInsertClipboardContent")?t.execCommand("mceInsertClipboardContent",!1,{content:e,internal:n}):t.execCommand("mceInsertContent",!1,e)},b=function(){var e=function(e){var t=i.create("body"),n=e.cloneContents();return t.appendChild(n),a.serializer.serialize(t,{format:"html"})},n=function(n){var r=e(n),o=i.createRng();o.selectNode(t.getBody());var a=e(o);return r===a};t.on("keydown",function(e){var a,u,c=e.keyCode;if(!p(e)&&(c===o||c===r)){if(a=t.selection.isCollapsed(),u=t.getBody(),a&&!i.isEmpty(u))return;if(!a&&!n(t.selection.getRng()))return;e.preventDefault(),t.setContent(""),u.firstChild&&i.isBlock(u.firstChild)?t.selection.setCursorLocation(u.firstChild,0):t.selection.setCursorLocation(u,0),t.nodeChanged()}})},C=function(){t.shortcuts.add("meta+a",null,"SelectAll")},x=function(){t.settings.content_editable||i.bind(t.getDoc(),"mousedown mouseup",function(e){var n;if(e.target===t.getDoc().documentElement)if(n=a.getRng(),t.getBody().focus(),"mousedown"===e.type){if(ms(n.startContainer))return;a.placeCaretAt(e.clientX,e.clientY)}else a.setRng(n)})},w=function(){t.on("keydown",function(e){if(!p(e)&&e.keyCode===r){if(!t.getBody().getElementsByTagName("hr").length)return;if(a.isCollapsed()&&0===a.getRng().startOffset){var n=a.getNode(),o=n.previousSibling;if("HR"===n.nodeName)return i.remove(n),void e.preventDefault();o&&o.nodeName&&"hr"===o.nodeName.toLowerCase()&&(i.remove(o),e.preventDefault())}}})},E=function(){e.Range.prototype.getClientRects||t.on("mousedown",function(e){if(!p(e)&&"HTML"===e.target.nodeName){var n=t.getBody();n.blur(),Pt.setEditorTimeout(t,function(){n.focus()})}})},N=function(){t.on("click",function(e){var n=e.target;/^(IMG|HR)$/.test(n.nodeName)&&"false"!==i.getContentEditableParent(n)&&(e.preventDefault(),t.selection.select(n),t.nodeChanged()),"A"===n.nodeName&&i.hasClass(n,"mce-item-anchor")&&(e.preventDefault(),a.select(n))})},S=function(){var e=function(){var e=i.getAttribs(a.getStart().cloneNode(!1));return function(){var r=a.getStart();r!==t.getBody()&&(i.setAttrib(r,"style",null),n(e,function(e){r.setAttributeNode(e.cloneNode(!0))}))}},r=function(){return!a.isCollapsed()&&i.getParent(a.getStart(),i.isBlock)!==i.getParent(a.getEnd(),i.isBlock)};t.on("keypress",function(n){var o;if(!p(n)&&(8===n.keyCode||46===n.keyCode)&&r())return o=e(),t.getDoc().execCommand("delete",!1,null),o(),n.preventDefault(),!1}),i.bind(t.getDoc(),"cut",function(n){var o;!p(n)&&r()&&(o=e(),Pt.setEditorTimeout(t,function(){o()}))})},k=function(){t.on("keydown",function(e){if(!p(e)&&e.keyCode===r&&a.isCollapsed()&&0===a.getRng().startOffset){var t=a.getNode().previousSibling;if(t&&t.nodeName&&"table"===t.nodeName.toLowerCase())return e.preventDefault(),!1}})},T=function(){
t.on("keydown",function(e){var n,r,o,u,c;if(!p(e)&&e.keyCode===eS.BACKSPACE&&(n=a.getRng(),r=n.startContainer,o=n.startOffset,u=i.getRoot(),c=r,n.collapsed&&0===o)){for(;c&&c.parentNode&&c.parentNode.firstChild===c&&c.parentNode!==u;)c=c.parentNode;"BLOCKQUOTE"===c.tagName&&(t.formatter.toggle("blockquote",null,c),n=i.createRng(),n.setStart(r,0),n.setEnd(r,0),a.setRng(n))}})},R=function(){var e=function(){g("StyleWithCSS",!1),g("enableInlineTableEditing",!1),u.object_resizing||g("enableObjectResizing",!1)};u.readonly||t.on("BeforeExecCommand MouseDown",e)},A=function(){var e=function(){n(i.select("a"),function(e){var t=e.parentNode,n=i.getRoot();if(t.lastChild===e){for(;t&&!i.isBlock(t);){if(t.parentNode.lastChild!==t||t===n)return;t=t.parentNode}i.add(t,"br",{"data-mce-bogus":1})}})};t.on("SetContent ExecCommand",function(t){"setcontent"!==t.type&&"mceInsertLink"!==t.command||e()})},B=function(){u.forced_root_block&&t.on("init",function(){g("DefaultParagraphSeparator",u.forced_root_block)})},D=function(){t.on("keyup focusin mouseup",function(e){eS.modifierPressed(e)||a.normalize()},!0)},_=function(){t.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},O=function(){t.inline||t.on("keydown",function(){e.document.activeElement===e.document.body&&t.getWin().focus()})},P=function(){t.inline||(t.contentStyles.push("body {min-height: 150px}"),t.on("click",function(e){var n;if("HTML"===e.target.nodeName){if(St.ie>11)return void t.getBody().focus();n=t.selection.getRng(),t.getBody().focus(),t.selection.setRng(n),t.selection.normalize(),t.nodeChanged()}}))},I=function(){St.mac&&t.on("keydown",function(e){!eS.metaKeyPressed(e)||e.shiftKey||37!==e.keyCode&&39!==e.keyCode||(e.preventDefault(),t.selection.getSel().modify("move",37===e.keyCode?"backward":"forward","lineboundary"))})},L=function(){g("AutoUrlDetect",!1)},F=function(){t.on("click",function(e){var t=e.target;do if("A"===t.tagName)return void e.preventDefault();while(t=t.parentNode)}),t.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},M=function(){t.on("init",function(){t.dom.bind(t.getBody(),"submit",function(e){e.preventDefault()})})},U=function(){c.addNodeFilter("br",function(e){for(var t=e.length;t--;)"Apple-interchange-newline"===e[t].attr("class")&&e[t].remove()})},z=function(){t.on("dragstart",function(e){h(e)}),t.on("drop",function(e){if(!p(e)){var n=v(e);if(n&&n.id!==t.id){e.preventDefault();var r=KR.fromPoint(e.x,e.y,t.getDoc());a.setRng(r),y(n.html,!0)}}})},V=function(){},j=function(){var e;return!s||t.removed?0:(e=t.selection.getSel(),!e||!e.rangeCount||0===e.rangeCount)};return T(),b(),St.windowsPhone||D(),f&&(x(),N(),B(),M(),k(),U(),St.iOS?(O(),P(),F()):C()),St.ie>=11&&(P(),k()),St.ie&&(C(),L(),z()),s&&(w(),E(),S(),R(),A(),_(),I(),k()),{refreshContentEditable:V,isHidden:j}}function ne(e){var t=function(t,n){return Pm.walk(e,t,n)},n=iC.split,r=function(t){return Dx.normalize(e,t).fold(ye(!1),function(e){return t.setStart(e.startContainer,e.startOffset),t.setEnd(e.endContainer,e.endOffset),!0})};return{walk:t,split:n,normalize:r}}var re,oe,ie,ae,ue,ce,se,le,fe,de,me,ge,pe,he=function(){},ve=function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e(t.apply(null,n))}},ye=function(e){return function(){return e}},be=function(e){return e},Ce=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return!e.apply(null,t)}},xe=function(e){return function(){throw new Error(e)}},we=ye(!1),Ee=ye(!0),Ne=function(){return Se},Se=function(){var e=function(e){return e.isNone()},t=function(e){return e()},n=function(e){return e},r={fold:function(e,t){return e()},is:we,isSome:we,isNone:Ee,getOr:n,getOrThunk:t,getOrDie:function(e){throw new Error(e||"error: getOrDie called on none.")},getOrNull:ye(null),getOrUndefined:ye(void 0),or:n,orThunk:t,map:Ne,each:he,bind:Ne,exists:we,forall:Ee,filter:Ne,equals:e,equals_:e,toArray:function(){return[]},toString:ye("none()")};return Object.freeze&&Object.freeze(r),r}(),ke=function(e){var t=ye(e),n=function(){return o},r=function(t){return t(e)},o={fold:function(t,n){return n(e)},is:function(t){return e===t},isSome:Ee,isNone:we,getOr:t,getOrThunk:t,getOrDie:t,getOrNull:t,getOrUndefined:t,or:n,orThunk:n,map:function(t){return ke(t(e))},each:function(t){t(e)},bind:r,exists:r,forall:r,filter:function(t){return t(e)?o:Se},toArray:function(){return[e]},toString:function(){return"some("+e+")"},equals:function(t){return t.is(e)},equals_:function(t,n){return t.fold(we,function(t){return n(e,t)})}};return o},Te=function(e){return null===e||void 0===e?Se:ke(e)},Re={some:ke,none:Ne,from:Te},Ae=function(e){if(null===e)return"null";var t=typeof e;return"object"===t&&(Array.prototype.isPrototypeOf(e)||e.constructor&&"Array"===e.constructor.name)?"array":"object"===t&&(String.prototype.isPrototypeOf(e)||e.constructor&&"String"===e.constructor.name)?"string":t},Be=function(e){return function(t){return Ae(t)===e}},De=Be("string"),_e=Be("object"),Oe=Be("array"),Pe=Be("null"),Ie=Be("boolean"),Le=Be("function"),Fe=Be("number"),Me=Array.prototype.slice,Ue=Array.prototype.indexOf,ze=Array.prototype.push,Ve=function(e,t){return Ue.call(e,t)},je=function(e,t){var n=Ve(e,t);return n===-1?Re.none():Re.some(n)},He=function(e,t){return Ve(e,t)>-1},qe=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return!0}return!1},We=function(e,t){for(var n=e.length,r=new Array(n),o=0;o<n;o++){var i=e[o];r[o]=t(i,o)}return r},$e=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];t(o,n)}},Ke=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];t(r,n)}},Xe=function(e,t){for(var n=[],r=[],o=0,i=e.length;o<i;o++){var a=e[o],u=t(a,o)?n:r;u.push(a)}return{pass:n,fail:r}},Ye=function(e,t){for(var n=[],r=0,o=e.length;r<o;r++){var i=e[r];t(i,r)&&n.push(i)}return n},Ge=function(e,t,n){return Ke(e,function(e){n=t(n,e)}),n},Ze=function(e,t,n){return $e(e,function(e){n=t(n,e)}),n},Je=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return Re.some(o)}return Re.none()},Qe=function(e,t){for(var n=0,r=e.length;n<r;n++){var o=e[n];if(t(o,n))return Re.some(n)}return Re.none()},et=function(e){for(var t=[],n=0,r=e.length;n<r;++n){if(!Oe(e[n]))throw new Error("Arr.flatten item "+n+" was not an array, input: "+e);ze.apply(t,e[n])}return t},tt=function(e,t){var n=We(e,t);return et(n)},nt=function(e,t){for(var n=0,r=e.length;n<r;++n){var o=e[n];if(t(o,n)!==!0)return!1}return!0},rt=function(e){var t=Me.call(e,0);return t.reverse(),t},ot=function(e,t){return Ye(e,function(e){return!He(t,e)})},it=function(e,t){for(var n={},r=0,o=e.length;r<o;r++){var i=e[r];n[String(i)]=t(i,r)}return n},at=function(e,t){var n=Me.call(e,0);return n.sort(t),n},ut=function(e){return 0===e.length?Re.none():Re.some(e[0])},ct=function(e){return 0===e.length?Re.none():Re.some(e[e.length-1])},st=Le(Array.from)?Array.from:function(e){return Me.call(e)},lt="undefined"!=typeof e.window?e.window:Function("return this;")(),ft=function(e,t){for(var n=void 0!==t&&null!==t?t:lt,r=0;r<e.length&&void 0!==n&&null!==n;++r)n=n[e[r]];return n},dt=function(e,t){var n=e.split(".");return ft(n,t)},mt=function(e,t){return dt(e,t)},gt=function(e,t){var n=mt(e,t);if(void 0===n||null===n)throw new Error(e+" not available on this browser");return n},pt={getOrDie:gt},ht=function(){return pt.getOrDie("URL")},vt=function(e){return ht().createObjectURL(e)},yt=function(e){ht().revokeObjectURL(e)},bt={createObjectURL:vt,revokeObjectURL:yt},Ct=e.navigator,xt=Ct.userAgent,wt=function(t){return"matchMedia"in e.window&&e.matchMedia(t).matches};re=!1,fe=/Android/.test(xt),oe=/WebKit/.test(xt),ie=!oe&&!re&&/MSIE/gi.test(xt)&&/Explorer/gi.test(Ct.appName),ie=ie&&/MSIE (\w+)\./.exec(xt)[1],ae=xt.indexOf("Trident/")!==-1&&(xt.indexOf("rv:")!==-1||Ct.appName.indexOf("Netscape")!==-1)&&11,ue=xt.indexOf("Edge/")!==-1&&!ie&&!ae&&12,ie=ie||ae||ue,ce=!oe&&!ae&&/Gecko/.test(xt),se=xt.indexOf("Mac")!==-1,le=/(iPad|iPhone)/.test(xt),de="FormData"in e.window&&"FileReader"in e.window&&"URL"in e.window&&!!bt.createObjectURL,me=wt("only screen and (max-device-width: 480px)")&&(fe||le),ge=wt("only screen and (min-width: 800px)")&&(fe||le),pe=xt.indexOf("Windows Phone")!==-1,ue&&(oe=!1);var Et,Nt=!le||de||parseInt(xt.match(/AppleWebKit\/(\d*)/)[1],10)>=534,St={opera:re,webkit:oe,ie:ie,gecko:ce,mac:se,iOS:le,android:fe,contentEditable:Nt,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:8!==ie,range:e.window.getSelection&&"Range"in e.window,documentMode:ie&&!ue?e.document.documentMode||7:10,fileApi:de,ceFalse:ie===!1||ie>8,cacheSuffix:null,container:null,overrideViewPort:null,experimentalShadowDom:!1,canHaveCSP:ie===!1||ie>11,desktop:!me&&!ge,windowsPhone:pe},kt=function(){function e(e,t){return function(){e.apply(t,arguments)}}function t(e){var t=this;return null===this._state?void this._deferreds.push(e):void s(function(){var n=t._state?e.onFulfilled:e.onRejected;if(null===n)return void(t._state?e.resolve:e.reject)(t._value);var r;try{r=n(t._value)}catch(o){return void e.reject(o)}e.resolve(r)})}function n(t){try{if(t===this)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if("function"==typeof i)return void a(e(i,t),e(n,this),e(r,this))}this._state=!0,this._value=t,o.call(this)}catch(u){r.call(this,u)}}function r(e){this._state=!1,this._value=e,o.call(this)}function o(){for(var e=0,n=this._deferreds.length;e<n;e++)t.call(this,this._deferreds[e]);this._deferreds=null}function i(e,t,n,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.resolve=n,this.reject=r}function a(e,t,n){var r=!1;try{e(function(e){r||(r=!0,t(e))},function(e){r||(r=!0,n(e))})}catch(o){if(r)return;r=!0,n(o)}}var u=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},c=function(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],a(t,e(n,this),e(r,this))},s=c.immediateFn||"function"==typeof setImmediate&&setImmediate||function(e){setTimeout(e,1)};return c.prototype["catch"]=function(e){return this.then(null,e)},c.prototype.then=function(e,n){var r=this;return new c(function(o,a){t.call(r,new i(e,n,o,a))})},c.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&u(arguments[0])?arguments[0]:arguments);return new c(function(t,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},n)}e[i]=a,0===--o&&t(e)}catch(c){n(c)}}if(0===e.length)return t([]);for(var o=e.length,i=0;i<e.length;i++)r(i,e[i])})},c.resolve=function(e){return e&&"object"==typeof e&&e.constructor===c?e:new c(function(t){t(e)})},c.reject=function(e){return new c(function(t,n){n(e)})},c.race=function(e){return new c(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},c},Tt=window.Promise?window.Promise:kt(),Rt=function(t,n){var r,o=e.window.requestAnimationFrame,i=["ms","moz","webkit"],a=function(t){e.window.setTimeout(t,0)};for(r=0;r<i.length&&!o;r++)o=e.window[i[r]+"RequestAnimationFrame"];o||(o=a),o(t,n)},At=function(e,t){return"number"!=typeof t&&(t=0),setTimeout(e,t)},Bt=function(e,t){return"number"!=typeof t&&(t=1),setInterval(e,t)},Dt=function(e){return clearTimeout(e)},_t=function(e){return clearInterval(e)},Ot=function(e,t){var n,r;return r=function(){var r=arguments;clearTimeout(n),n=At(function(){e.apply(this,r)},t)},r.stop=function(){clearTimeout(n)},r},Pt={requestAnimationFrame:function(t,n){return Et?void Et.then(t):void(Et=new Tt(function(t){n||(n=e.document.body),Rt(t,n)}).then(t))},setTimeout:At,setInterval:Bt,setEditorTimeout:function(e,t,n){return At(function(){e.removed||t()},n)},setEditorInterval:function(e,t,n){var r;return r=Bt(function(){e.removed?clearInterval(r):t()},n)},debounce:Ot,throttle:Ot,clearInterval:_t,clearTimeout:Dt},It="mce-data-",Lt=/^(?:mouse|contextmenu)|click/,Ft={keyLocation:1,layerX:1,layerY:1,returnValue:1,webkitMovementX:1,webkitMovementY:1,keyIdentifier:1},Mt=function(e){return e.isDefaultPrevented===zt||e.isDefaultPrevented===Ut},Ut=function(){return!1},zt=function(){return!0},Vt=function(e,t,n,r){e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent&&e.attachEvent("on"+t,n)},jt=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r||!1):e.detachEvent&&e.detachEvent("on"+t,n)},Ht=function(e,t){if(e.composedPath){var n=e.composedPath();if(n&&n.length>0)return n[0]}return t},qt=function(t,n){var r,o=n||{};for(r in t)Ft[r]||(o[r]=t[r]);if(o.target||(o.target=o.srcElement||e.document),St.experimentalShadowDom&&(o.target=Ht(t,o.target)),t&&Lt.test(t.type)&&void 0===t.pageX&&void 0!==t.clientX){var i=o.target.ownerDocument||e.document,a=i.documentElement,u=i.body;o.pageX=t.clientX+(a&&a.scrollLeft||u&&u.scrollLeft||0)-(a&&a.clientLeft||u&&u.clientLeft||0),o.pageY=t.clientY+(a&&a.scrollTop||u&&u.scrollTop||0)-(a&&a.clientTop||u&&u.clientTop||0)}return o.preventDefault=function(){o.isDefaultPrevented=zt,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},o.stopPropagation=function(){o.isPropagationStopped=zt,t&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},o.stopImmediatePropagation=function(){o.isImmediatePropagationStopped=zt,o.stopPropagation()},Mt(o)===!1&&(o.isDefaultPrevented=Ut,o.isPropagationStopped=Ut,o.isImmediatePropagationStopped=Ut),"undefined"==typeof o.metaKey&&(o.metaKey=!1),o},Wt=function(e,t,n){var r=e.document,o={type:"ready"};if(n.domLoaded)return void t(o);var i=function(){return"complete"===r.readyState||"interactive"===r.readyState&&r.body},a=function(){n.domLoaded||(n.domLoaded=!0,t(o))},u=function(){i()&&(jt(r,"readystatechange",u),a())},c=function(){try{r.documentElement.doScroll("left")}catch(e){return void Pt.setTimeout(c)}a()};!r.addEventListener||St.ie&&St.ie<11?(Vt(r,"readystatechange",u),r.documentElement.doScroll&&e.self===e.top&&c()):i()?a():Vt(e,"DOMContentLoaded",a),Vt(e,"load",a)},$t=function(){var t,n,r,o,i,a=this,u={};n=It+(+new Date).toString(32),o="onmouseenter"in e.document.documentElement,r="onfocusin"in e.document.documentElement,i={mouseenter:"mouseover",mouseleave:"mouseout"},t=1,a.domLoaded=!1,a.events=u;var c=function(e,t){var n,r,o,i,a=u[t];if(n=a&&a[e.type])for(r=0,o=n.length;r<o;r++)if(i=n[r],i&&i.func.call(i.scope,e)===!1&&e.preventDefault(),e.isImmediatePropagationStopped())return};a.bind=function(s,l,f,d){var m,g,p,h,v,y,b,C=e.window,x=function(e){c(qt(e||C.event),m)};if(s&&3!==s.nodeType&&8!==s.nodeType){for(s[n]?m=s[n]:(m=t++,s[n]=m,u[m]={}),d=d||s,l=l.split(" "),p=l.length;p--;)h=l[p],y=x,v=b=!1,"DOMContentLoaded"===h&&(h="ready"),a.domLoaded&&"ready"===h&&"complete"===s.readyState?f.call(d,qt({type:h})):(o||(v=i[h],v&&(y=function(e){var t,n;if(t=e.currentTarget,n=e.relatedTarget,n&&t.contains)n=t.contains(n);else for(;n&&n!==t;)n=n.parentNode;n||(e=qt(e||C.event),e.type="mouseout"===e.type?"mouseleave":"mouseenter",e.target=t,c(e,m))})),r||"focusin"!==h&&"focusout"!==h||(b=!0,v="focusin"===h?"focus":"blur",y=function(e){e=qt(e||C.event),e.type="focus"===e.type?"focusin":"focusout",c(e,m)}),g=u[m][h],g?"ready"===h&&a.domLoaded?f({type:h}):g.push({func:f,scope:d}):(u[m][h]=g=[{func:f,scope:d}],g.fakeName=v,g.capture=b,g.nativeHandler=y,"ready"===h?Wt(s,y,a):Vt(s,v||h,y,b)));return s=g=0,f}},a.unbind=function(e,t,r){var o,i,c,s,l,f;if(!e||3===e.nodeType||8===e.nodeType)return a;if(o=e[n]){if(f=u[o],t){for(t=t.split(" "),c=t.length;c--;)if(l=t[c],i=f[l]){if(r)for(s=i.length;s--;)if(i[s].func===r){var d=i.nativeHandler,m=i.fakeName,g=i.capture;i=i.slice(0,s).concat(i.slice(s+1)),i.nativeHandler=d,i.fakeName=m,i.capture=g,f[l]=i}r&&0!==i.length||(delete f[l],jt(e,i.fakeName||l,i.nativeHandler,i.capture))}}else{for(l in f)i=f[l],jt(e,i.fakeName||l,i.nativeHandler,i.capture);f={}}for(l in f)return a;delete u[o];try{delete e[n]}catch(p){e[n]=null}}return a},a.fire=function(e,t,r){var o;if(!e||3===e.nodeType||8===e.nodeType)return a;r=qt(null,r),r.type=t,r.target=e;do o=e[n],o&&c(r,o),e=e.parentNode||e.ownerDocument||e.defaultView||e.parentWindow;while(e&&!r.isPropagationStopped());return a},a.clean=function(e){var t,r,o=a.unbind;if(!e||3===e.nodeType||8===e.nodeType)return a;if(e[n]&&o(e),e.getElementsByTagName||(e=e.document),e&&e.getElementsByTagName)for(o(e),r=e.getElementsByTagName("*"),t=r.length;t--;)e=r[t],e[n]&&o(e);return a},a.destroy=function(){u={}},a.cancel=function(e){return e&&(e.preventDefault(),e.stopImmediatePropagation()),!1}};$t.Event=new $t,$t.Event.bind(e.window,"ready",function(){});var Kt,Xt,Yt,Gt,Zt,Jt,Qt,en,tn,nn,rn,on,an,un,cn,sn,ln,fn,dn,mn="sizzle"+-new Date,gn=e.window.document,pn=0,hn=0,vn=n(),yn=n(),bn=n(),Cn=function(e,t){return e===t&&(rn=!0),0},xn="undefined",wn=1<<31,En={}.hasOwnProperty,Nn=[],Sn=Nn.pop,kn=Nn.push,Tn=Nn.push,Rn=Nn.slice,An=Nn.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(this[t]===e)return t;return-1},Bn="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Dn="[\\x20\\t\\r\\n\\f]",_n="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",On="\\["+Dn+"*("+_n+")(?:"+Dn+"*([*^$|!~]?=)"+Dn+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+_n+"))|)"+Dn+"*\\]",Pn=":("+_n+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+On+")*)|.*)\\)|)",In=new RegExp("^"+Dn+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Dn+"+$","g"),Ln=new RegExp("^"+Dn+"*,"+Dn+"*"),Fn=new RegExp("^"+Dn+"*([>+~]|"+Dn+")"+Dn+"*"),Mn=new RegExp("="+Dn+"*([^\\]'\"]*?)"+Dn+"*\\]","g"),Un=new RegExp(Pn),zn=new RegExp("^"+_n+"$"),Vn={ID:new RegExp("^#("+_n+")"),CLASS:new RegExp("^\\.("+_n+")"),TAG:new RegExp("^("+_n+"|[*])"),ATTR:new RegExp("^"+On),PSEUDO:new RegExp("^"+Pn),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Dn+"*(even|odd|(([+-]|)(\\d*)n|)"+Dn+"*(?:([+-]|)"+Dn+"*(\\d+)|))"+Dn+"*\\)|)","i"),bool:new RegExp("^(?:"+Bn+")$","i"),needsContext:new RegExp("^"+Dn+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Dn+"*((?:-\\d)?\\d*)"+Dn+"*\\)|)(?=[^-]|$)","i")},jn=/^(?:input|select|textarea|button)$/i,Hn=/^h\d$/i,qn=/^[^{]+\{\s*\[native \w/,Wn=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,$n=/[+~]/,Kn=/'|\\/g,Xn=new RegExp("\\\\([\\da-f]{1,6}"+Dn+"?|("+Dn+")|.)","ig"),Yn=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)};try{Tn.apply(Nn=Rn.call(gn.childNodes),gn.childNodes),Nn[gn.childNodes.length].nodeType}catch(Gn){Tn={apply:Nn.length?function(e,t){kn.apply(e,Rn.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}var Zn=function(e,t,n,r){var o,i,a,u,s,f,d,m,g,p;if((t?t.ownerDocument||t:gn)!==an&&on(t),t=t||an,n=n||[],!e||"string"!=typeof e)return n;if(1!==(u=t.nodeType)&&9!==u)return[];if(cn&&!r){if(o=Wn.exec(e))if(a=o[1]){if(9===u){if(i=t.getElementById(a),!i||!i.parentNode)return n;if(i.id===a)return n.push(i),n}else if(t.ownerDocument&&(i=t.ownerDocument.getElementById(a))&&dn(t,i)&&i.id===a)return n.push(i),n}else{if(o[2])return Tn.apply(n,t.getElementsByTagName(e)),n;if((a=o[3])&&Xt.getElementsByClassName)return Tn.apply(n,t.getElementsByClassName(a)),n}if(Xt.qsa&&(!sn||!sn.test(e))){if(m=d=mn,g=t,p=9===u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(f=Jt(e),(d=t.getAttribute("id"))?m=d.replace(Kn,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",s=f.length;s--;)f[s]=m+l(f[s]);g=$n.test(e)&&c(t.parentNode)||t,p=f.join(",")}if(p)try{return Tn.apply(n,g.querySelectorAll(p)),n}catch(h){}finally{d||t.removeAttribute("id")}}}return en(e.replace(In,"$1"),t,n,r)};Xt=Zn.support={},Zt=Zn.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},on=Zn.setDocument=function(e){function t(e){try{return e.top}catch(t){}return null}var n,r=e?e.ownerDocument||e:gn,i=r.defaultView;return r!==an&&9===r.nodeType&&r.documentElement?(an=r,un=r.documentElement,cn=!Zt(r),i&&i!==t(i)&&(i.addEventListener?i.addEventListener("unload",function(){on()},!1):i.attachEvent&&i.attachEvent("onunload",function(){on()})),Xt.attributes=!0,Xt.getElementsByTagName=!0,Xt.getElementsByClassName=qn.test(r.getElementsByClassName),Xt.getById=!0,Yt.find.ID=function(e,t){if(typeof t.getElementById!==xn&&cn){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},Yt.filter.ID=function(e){var t=e.replace(Xn,Yn);return function(e){return e.getAttribute("id")===t}},Yt.find.TAG=Xt.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==xn)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],o=0,i=t.getElementsByTagName(e);if("*"===e){for(;n=i[o++];)1===n.nodeType&&r.push(n);return r}return i},Yt.find.CLASS=Xt.getElementsByClassName&&function(e,t){if(cn)return t.getElementsByClassName(e)},ln=[],sn=[],Xt.disconnectedMatch=!0,sn=sn.length&&new RegExp(sn.join("|")),ln=ln.length&&new RegExp(ln.join("|")),n=qn.test(un.compareDocumentPosition),dn=n||qn.test(un.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Cn=n?function(e,t){if(e===t)return rn=!0,0;var n=!e.compareDocumentPosition-!t.compareDocumentPosition;return n?n:(n=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,1&n||!Xt.sortDetached&&t.compareDocumentPosition(e)===n?e===r||e.ownerDocument===gn&&dn(gn,e)?-1:t===r||t.ownerDocument===gn&&dn(gn,t)?1:nn?An.call(nn,e)-An.call(nn,t):0:4&n?-1:1)}:function(e,t){if(e===t)return rn=!0,0;var n,i=0,a=e.parentNode,u=t.parentNode,c=[e],s=[t];if(!a||!u)return e===r?-1:t===r?1:a?-1:u?1:nn?An.call(nn,e)-An.call(nn,t):0;if(a===u)return o(e,t);for(n=e;n=n.parentNode;)c.unshift(n);for(n=t;n=n.parentNode;)s.unshift(n);for(;c[i]===s[i];)i++;return i?o(c[i],s[i]):c[i]===gn?-1:s[i]===gn?1:0},r):an},Zn.matches=function(e,t){return Zn(e,null,null,t)},Zn.matchesSelector=function(e,t){if((e.ownerDocument||e)!==an&&on(e),t=t.replace(Mn,"='$1']"),Xt.matchesSelector&&cn&&(!ln||!ln.test(t))&&(!sn||!sn.test(t)))try{var n=fn.call(e,t);if(n||Xt.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(r){}return Zn(t,an,null,[e]).length>0},Zn.contains=function(e,t){return(e.ownerDocument||e)!==an&&on(e),dn(e,t)},Zn.attr=function(e,t){(e.ownerDocument||e)!==an&&on(e);var n=Yt.attrHandle[t.toLowerCase()],r=n&&En.call(Yt.attrHandle,t.toLowerCase())?n(e,t,!cn):void 0;return void 0!==r?r:Xt.attributes||!cn?e.getAttribute(t):(r=e.getAttributeNode(t))&&r.specified?r.value:null},Zn.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Zn.uniqueSort=function(e){var t,n=[],r=0,o=0;if(rn=!Xt.detectDuplicates,nn=!Xt.sortStable&&e.slice(0),e.sort(Cn),rn){for(;t=e[o++];)t===e[o]&&(r=n.push(o));for(;r--;)e.splice(n[r],1)}return nn=null,e},Gt=Zn.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=Gt(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=Gt(t);return n},Yt=Zn.selectors={cacheLength:50,createPseudo:r,match:Vn,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Xn,Yn),e[3]=(e[3]||e[4]||e[5]||"").replace(Xn,Yn),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Zn.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Zn.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Vn.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Un.test(n)&&(t=Jt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Xn,Yn).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=vn[e+" "];return t||(t=new RegExp("(^|"+Dn+")"+e+"("+Dn+"|$)"))&&vn(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==xn&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var o=Zn.attr(r,e);return null==o?"!="===t:!t||(o+="","="===t?o===n:"!="===t?o!==n:"^="===t?n&&0===o.indexOf(n):"*="===t?n&&o.indexOf(n)>-1:"$="===t?n&&o.slice(-n.length)===n:"~="===t?(" "+o+" ").indexOf(n)>-1:"|="===t&&(o===n||o.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,o){var i="nth"!==e.slice(0,3),a="last"!==e.slice(-4),u="of-type"===t;return 1===r&&0===o?function(e){return!!e.parentNode}:function(t,n,c){var s,l,f,d,m,g,p=i!==a?"nextSibling":"previousSibling",h=t.parentNode,v=u&&t.nodeName.toLowerCase(),y=!c&&!u;if(h){if(i){for(;p;){for(f=t;f=f[p];)if(u?f.nodeName.toLowerCase()===v:1===f.nodeType)return!1;g=p="only"===e&&!g&&"nextSibling"}return!0}if(g=[a?h.firstChild:h.lastChild],a&&y){for(l=h[mn]||(h[mn]={}),s=l[e]||[],m=s[0]===pn&&s[1],d=s[0]===pn&&s[2],f=m&&h.childNodes[m];f=++m&&f&&f[p]||(d=m=0)||g.pop();)if(1===f.nodeType&&++d&&f===t){l[e]=[pn,m,d];break}}else if(y&&(s=(t[mn]||(t[mn]={}))[e])&&s[0]===pn)d=s[1];else for(;(f=++m&&f&&f[p]||(d=m=0)||g.pop())&&((u?f.nodeName.toLowerCase()!==v:1!==f.nodeType)||!++d||(y&&((f[mn]||(f[mn]={}))[e]=[pn,d]),f!==t)););return d-=o,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(e,t){var n,o=Yt.pseudos[e]||Yt.setFilters[e.toLowerCase()]||Zn.error("unsupported pseudo: "+e);return o[mn]?o(t):o.length>1?(n=[e,e,"",t],Yt.setFilters.hasOwnProperty(e.toLowerCase())?r(function(e,n){for(var r,i=o(e,t),a=i.length;a--;)r=An.call(e,i[a]),e[r]=!(n[r]=i[a])}):function(e){return o(e,0,n)}):o}},pseudos:{not:r(function(e){var t=[],n=[],o=Qt(e.replace(In,"$1"));return o[mn]?r(function(e,t,n,r){for(var i,a=o(e,null,r,[]),u=e.length;u--;)(i=a[u])&&(e[u]=!(t[u]=i))}):function(e,r,i){return t[0]=e,o(t,null,i,n),!n.pop()}}),has:r(function(e){return function(t){return Zn(e,t).length>0}}),contains:r(function(e){return e=e.replace(Xn,Yn),function(t){return(t.textContent||t.innerText||Gt(t)).indexOf(e)>-1}}),lang:r(function(e){return zn.test(e||"")||Zn.error("unsupported lang: "+e),e=e.replace(Xn,Yn).toLowerCase(),function(t){var n;do if(n=cn?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.window.location&&e.window.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===un},focus:function(e){return e===an.activeElement&&(!an.hasFocus||an.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Yt.pseudos.empty(e)},header:function(e){return Hn.test(e.nodeName)},input:function(e){return jn.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,n){return[n<0?n+t:n]}),even:u(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:u(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:u(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:u(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},Yt.pseudos.nth=Yt.pseudos.eq;for(Kt in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Yt.pseudos[Kt]=i(Kt);for(Kt in{submit:!0,reset:!0})Yt.pseudos[Kt]=a(Kt);s.prototype=Yt.filters=Yt.pseudos,Yt.setFilters=new s,Jt=Zn.tokenize=function(e,t){var n,r,o,i,a,u,c,s=yn[e+" "];if(s)return t?0:s.slice(0);for(a=e,u=[],c=Yt.preFilter;a;){n&&!(r=Ln.exec(a))||(r&&(a=a.slice(r[0].length)||a),u.push(o=[])),n=!1,(r=Fn.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(In," ")}),a=a.slice(n.length));for(i in Yt.filter)!(r=Vn[i].exec(a))||c[i]&&!(r=c[i](r))||(n=r.shift(),o.push({value:n,type:i,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?Zn.error(e):yn(e,u).slice(0)},Qt=Zn.compile=function(e,t){var n,r=[],o=[],i=bn[e+" "];if(!i){for(t||(t=Jt(e)),n=t.length;n--;)i=h(t[n]),i[mn]?r.push(i):o.push(i);i=bn(e,v(o,r)),i.selector=e}return i},en=Zn.select=function(e,t,n,r){var o,i,a,u,s,f="function"==typeof e&&e,d=!r&&Jt(e=f.selector||e);if(n=n||[],1===d.length){if(i=d[0]=d[0].slice(0),i.length>2&&"ID"===(a=i[0]).type&&Xt.getById&&9===t.nodeType&&cn&&Yt.relative[i[1].type]){if(t=(Yt.find.ID(a.matches[0].replace(Xn,Yn),t)||[])[0],!t)return n;f&&(t=t.parentNode),e=e.slice(i.shift().value.length)}for(o=Vn.needsContext.test(e)?0:i.length;o--&&(a=i[o],!Yt.relative[u=a.type]);)if((s=Yt.find[u])&&(r=s(a.matches[0].replace(Xn,Yn),$n.test(i[0].type)&&c(t.parentNode)||t))){if(i.splice(o,1),e=r.length&&l(i),!e)return Tn.apply(n,r),n;break}}return(f||Qt(e,d))(r,t,!cn,n,$n.test(e)&&c(t.parentNode)||t),n},Xt.sortStable=mn.split("").sort(Cn).join("")===mn,Xt.detectDuplicates=!!rn,on(),Xt.sortDetached=!0;var Jn=Array.isArray,Qn=function(e){var t,n,r=e;if(!Jn(e))for(r=[],t=0,n=e.length;t<n;t++)r[t]=e[t];return r},er=function(e,t,n){var r,o;if(!e)return 0;if(n=n||e,void 0!==e.length){for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e)===!1)return 0}else for(r in e)if(e.hasOwnProperty(r)&&t.call(n,e[r],r,e)===!1)return 0;return 1},tr=function(e,t){var n=[];return er(e,function(r,o){n.push(t(r,o,e))}),n},nr=function(e,t){var n=[];return er(e,function(r,o){t&&!t(r,o,e)||n.push(r)}),n},rr=function(e,t){var n,r;if(e)for(n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},or=function(e,t,n,r){var o=0;for(arguments.length<3&&(n=e[0]);o<e.length;o++)n=t.call(r,n,e[o],o);return n},ir=function(e,t,n){var r,o;for(r=0,o=e.length;r<o;r++)if(t.call(n,e[r],r,e))return r;return-1},ar=function(e,t,n){var r=ir(e,t,n);if(r!==-1)return e[r]},ur=function(e){return e[e.length-1]},cr={isArray:Jn,toArray:Qn,each:er,map:tr,filter:nr,indexOf:rr,reduce:or,findIndex:ir,find:ar,last:ur},sr=/^\s*|\s*$/g,lr=function(e){return null===e||void 0===e?"":(""+e).replace(sr,"")},fr=function(e,t){return t?!("array"!==t||!cr.isArray(e))||typeof e===t:void 0!==e},dr=function(e,t,n){var r;for(e=e||[],t=t||",","string"==typeof e&&(e=e.split(t)),n=n||{},r=e.length;r--;)n[e[r]]={};return n},mr=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},gr=function(e,t,n){var r,o,i,a,u,c=this,s=0;if(e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e),i=e[3].match(/(^|\.)(\w+)$/i)[2],o=c.createNS(e[3].replace(/\.\w+$/,""),n),!o[i]){if("static"===e[2])return o[i]=t,void(this.onCreate&&this.onCreate(e[2],e[3],o[i]));t[i]||(t[i]=function(){},s=1),o[i]=t[i],c.extend(o[i].prototype,t),e[5]&&(r=c.resolve(e[5]).prototype,a=e[5].match(/\.(\w+)$/i)[1],u=o[i],s?o[i]=function(){return r[a].apply(this,arguments)}:o[i]=function(){return this.parent=r[a],u.apply(this,arguments)},o[i].prototype[i]=o[i],c.each(r,function(e,t){o[i].prototype[t]=r[t]}),c.each(t,function(e,t){r[t]?o[i].prototype[t]=function(){return this.parent=r[t],e.apply(this,arguments)}:t!==i&&(o[i].prototype[t]=e)})),c.each(t["static"],function(e,t){o[i][t]=e})}},pr=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o,i,a,u,c=arguments;for(o=1,i=c.length;o<i;o++){
t=c[o];for(a in t)t.hasOwnProperty(a)&&(u=t[a],void 0!==u&&(e[a]=u))}return e},hr=function(e,t,n,r){r=r||this,e&&(n&&(e=e[n]),cr.each(e,function(e,o){return t.call(r,e,o,n)!==!1&&void hr(e,t,n,r)}))},vr=function(t,n){var r,o;for(n=n||e.window,t=t.split("."),r=0;r<t.length;r++)o=t[r],n[o]||(n[o]={}),n=n[o];return n},yr=function(t,n){var r,o;for(n=n||e.window,t=t.split("."),r=0,o=t.length;r<o&&(n=n[t[r]],n);r++);return n},br=function(e,t){return!e||fr(e,"array")?e:cr.map(e.split(t||","),lr)},Cr=function(e){var t=St.cacheSuffix;return t&&(e+=(e.indexOf("?")===-1?"?":"&")+t),e},xr={trim:lr,isArray:cr.isArray,is:fr,toArray:cr.toArray,makeMap:dr,each:cr.each,map:cr.map,grep:cr.filter,inArray:cr.indexOf,hasOwn:mr,extend:pr,create:gr,walk:hr,createNS:vr,resolve:yr,explode:br,_addCacheSuffix:Cr},wr=e.document,Er=Array.prototype.push,Nr=Array.prototype.slice,Sr=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,kr=$t.Event,Tr=xr.makeMap("children,contents,next,prev"),Rr=function(e){return"undefined"!=typeof e},Ar=function(e){return"string"==typeof e},Br=function(e){return e&&e===e.window},Dr=function(e,t){var n,r,o;for(t=t||wr,o=t.createElement("div"),n=t.createDocumentFragment(),o.innerHTML=e;r=o.firstChild;)n.appendChild(r);return n},_r=function(e,t,n,r){var o;if(Ar(t))t=Dr(t,Kr(e[0]));else if(t.length&&!t.nodeType){if(t=Vr.makeArray(t),r)for(o=t.length-1;o>=0;o--)_r(e,t[o],n,r);else for(o=0;o<t.length;o++)_r(e,t[o],n,r);return e}if(t.nodeType)for(o=e.length;o--;)n.call(e[o],t);return e},Or=function(e,t){return e&&t&&(" "+e.className+" ").indexOf(" "+t+" ")!==-1},Pr=function(e,t,n){var r,o;return t=Vr(t)[0],e.each(function(){var e=this;n&&r===e.parentNode?o.appendChild(e):(r=e.parentNode,o=t.cloneNode(!1),e.parentNode.insertBefore(o,e),o.appendChild(e))}),e},Ir=xr.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),Lr=xr.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),Fr={"for":"htmlFor","class":"className",readonly:"readOnly"},Mr={"float":"cssFloat"},Ur={},zr={},Vr=function(e,t){return new Vr.fn.init(e,t)},jr=function(e,t){var n;if(t.indexOf)return t.indexOf(e);for(n=t.length;n--;)if(t[n]===e)return n;return-1},Hr=/^\s*|\s*$/g,qr=function(e){return null===e||void 0===e?"":(""+e).replace(Hr,"")},Wr=function(e,t){var n,r,o,i;if(e)if(n=e.length,void 0===n){for(r in e)if(e.hasOwnProperty(r)&&(i=e[r],t.call(i,r,i)===!1))break}else for(o=0;o<n&&(i=e[o],t.call(i,o,i)!==!1);o++);return e},$r=function(e,t){var n=[];return Wr(e,function(e,r){t(r,e)&&n.push(r)}),n},Kr=function(e){return e?9===e.nodeType?e:e.ownerDocument:wr};Vr.fn=Vr.prototype={constructor:Vr,selector:"",context:null,length:0,init:function(t,n){var r,o,i=this;if(!t)return i;if(t.nodeType)return i.context=i[0]=t,i.length=1,i;if(n&&n.nodeType)i.context=n;else{if(n)return Vr(t).attr(n);i.context=n=e.document}if(Ar(t)){if(i.selector=t,r="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:Sr.exec(t),!r)return Vr(n).find(t);if(r[1])for(o=Dr(t,Kr(n)).firstChild;o;)Er.call(i,o),o=o.nextSibling;else{if(o=Kr(n).getElementById(r[2]),!o)return i;if(o.id!==r[2])return i.find(t);i.length=1,i[0]=o}}else this.add(t,!1);return i},toArray:function(){return xr.toArray(this)},add:function(e,t){var n,r,o=this;if(Ar(e))return o.add(Vr(e));if(t!==!1)for(n=Vr.unique(o.toArray().concat(Vr.makeArray(e))),o.length=n.length,r=0;r<n.length;r++)o[r]=n[r];else Er.apply(o,Vr.makeArray(e));return o},attr:function(e,t){var n,r=this;if("object"==typeof e)Wr(e,function(e,t){r.attr(e,t)});else{if(!Rr(t)){if(r[0]&&1===r[0].nodeType){if(n=Ur[e],n&&n.get)return n.get(r[0],e);if(Lr[e])return r.prop(e)?e:void 0;t=r[0].getAttribute(e,2),null===t&&(t=void 0)}return t}this.each(function(){var n;if(1===this.nodeType){if(n=Ur[e],n&&n.set)return void n.set(this,t);null===t?this.removeAttribute(e,2):this.setAttribute(e,t,2)}})}return r},removeAttr:function(e){return this.attr(e,null)},prop:function(e,t){var n=this;if(e=Fr[e]||e,"object"==typeof e)Wr(e,function(e,t){n.prop(e,t)});else{if(!Rr(t))return n[0]&&n[0].nodeType&&e in n[0]?n[0][e]:t;this.each(function(){1===this.nodeType&&(this[e]=t)})}return n},css:function(e,t){var n,r,o=this,i=function(e){return e.replace(/-(\D)/g,function(e,t){return t.toUpperCase()})},a=function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e})};if("object"==typeof e)Wr(e,function(e,t){o.css(e,t)});else if(Rr(t))e=i(e),"number"!=typeof t||Ir[e]||(t=t.toString()+"px"),o.each(function(){var n=this.style;if(r=zr[e],r&&r.set)return void r.set(this,t);try{this.style[Mr[e]||e]=t}catch(o){}null!==t&&""!==t||(n.removeProperty?n.removeProperty(a(e)):n.removeAttribute(e))});else{if(n=o[0],r=zr[e],r&&r.get)return r.get(n);if(!n.ownerDocument.defaultView)return n.currentStyle?n.currentStyle[i(e)]:"";try{return n.ownerDocument.defaultView.getComputedStyle(n,null).getPropertyValue(a(e))}catch(u){return}}return o},remove:function(){for(var e,t=this,n=this.length;n--;)e=t[n],kr.clean(e),e.parentNode&&e.parentNode.removeChild(e);return this},empty:function(){for(var e,t=this,n=this.length;n--;)for(e=t[n];e.firstChild;)e.removeChild(e.firstChild);return this},html:function(e){var t,n=this;if(Rr(e)){t=n.length;try{for(;t--;)n[t].innerHTML=e}catch(r){Vr(n[t]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var t,n=this;if(Rr(e)){for(t=n.length;t--;)"innerText"in n[t]?n[t].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return _r(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.appendChild(e)})},prepend:function(){return _r(this,arguments,function(e){(1===this.nodeType||this.host&&1===this.host.nodeType)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?_r(e,arguments,function(e){this.parentNode.insertBefore(e,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?_r(e,arguments,function(e){this.parentNode.insertBefore(e,this.nextSibling)},!0):e},appendTo:function(e){return Vr(e).append(this),this},prependTo:function(e){return Vr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Pr(this,e)},wrapAll:function(e){return Pr(this,e,!0)},wrapInner:function(e){return this.each(function(){Vr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Vr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Vr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,t){var n=this;return"string"!=typeof e?n:(e.indexOf(" ")!==-1?Wr(e.split(" "),function(){n.toggleClass(this,t)}):n.each(function(n,r){var o,i;i=Or(r,e),i!==t&&(o=r.className,i?r.className=qr((" "+o+" ").replace(" "+e+" "," ")):r.className+=o?" "+e:e)}),n)},hasClass:function(e){return Or(this[0],e)},each:function(e){return Wr(this,e)},on:function(e,t){return this.each(function(){kr.bind(this,e,t)})},off:function(e,t){return this.each(function(){kr.unbind(this,e,t)})},trigger:function(e){return this.each(function(){"object"==typeof e?kr.fire(this,e.type,e):kr.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return new Vr(Nr.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var t,n,r=[];for(t=0,n=this.length;t<n;t++)Vr.find(e,this[t],r);return Vr(r)},filter:function(e){return Vr("function"==typeof e?$r(this.toArray(),function(t,n){return e(n,t)}):Vr.filter(e,this.toArray()))},closest:function(e){var t=[];return e instanceof Vr&&(e=e[0]),this.each(function(n,r){for(;r;){if("string"==typeof e&&Vr(r).is(e)){t.push(r);break}if(r===e){t.push(r);break}r=r.parentNode}}),Vr(t)},offset:function(e){var t,n,r,o,i=0,a=0;return e?this.css(e):(t=this[0],t&&(n=t.ownerDocument,r=n.documentElement,t.getBoundingClientRect&&(o=t.getBoundingClientRect(),i=o.left+(r.scrollLeft||n.body.scrollLeft)-r.clientLeft,a=o.top+(r.scrollTop||n.body.scrollTop)-r.clientTop)),{left:i,top:a})},push:Er,sort:[].sort,splice:[].splice},xr.extend(Vr,{extend:xr.extend,makeArray:function(e){return Br(e)||e.nodeType?[e]:xr.toArray(e)},inArray:jr,isArray:xr.isArray,each:Wr,trim:qr,grep:$r,find:Zn,expr:Zn.selectors,unique:Zn.uniqueSort,text:Zn.getText,contains:Zn.contains,filter:function(e,t,n){var r=t.length;for(n&&(e=":not("+e+")");r--;)1!==t[r].nodeType&&t.splice(r,1);return t=1===t.length?Vr.find.matchesSelector(t[0],e)?[t[0]]:[]:Vr.find.matches(e,t)}});var Xr=function(e,t,n){var r=[],o=e[t];for("string"!=typeof n&&n instanceof Vr&&(n=n[0]);o&&9!==o.nodeType;){if(void 0!==n){if(o===n)break;if("string"==typeof n&&Vr(o).is(n))break}1===o.nodeType&&r.push(o),o=o[t]}return r},Yr=function(e,t,n,r){var o=[];for(r instanceof Vr&&(r=r[0]);e;e=e[t])if(!n||e.nodeType===n){if(void 0!==r){if(e===r)break;if("string"==typeof r&&Vr(e).is(r))break}o.push(e)}return o},Gr=function(e,t,n){for(e=e[t];e;e=e[t])if(e.nodeType===n)return e;return null};Wr({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Xr(e,"parentNode")},next:function(e){return Gr(e,"nextSibling",1)},prev:function(e){return Gr(e,"previousSibling",1)},children:function(e){return Yr(e.firstChild,"nextSibling",1)},contents:function(e){return xr.toArray(("iframe"===e.nodeName?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,t){Vr.fn[e]=function(n){var r=this,o=[];return r.each(function(){var e=t.call(o,this,n,o);e&&(Vr.isArray(e)?o.push.apply(o,e):o.push(e))}),this.length>1&&(Tr[e]||(o=Vr.unique(o)),0===e.indexOf("parents")&&(o=o.reverse())),o=Vr(o),n?o.filter(n):o}}),Wr({parentsUntil:function(e,t){return Xr(e,"parentNode",t)},nextUntil:function(e,t){return Yr(e,"nextSibling",1,t).slice(1)},prevUntil:function(e,t){return Yr(e,"previousSibling",1,t).slice(1)}},function(e,t){Vr.fn[e]=function(n,r){var o=this,i=[];return o.each(function(){var e=t.call(i,this,n,i);e&&(Vr.isArray(e)?i.push.apply(i,e):i.push(e))}),this.length>1&&(i=Vr.unique(i),0!==e.indexOf("parents")&&"prevUntil"!==e||(i=i.reverse())),i=Vr(i),r?i.filter(r):i}}),Vr.fn.is=function(e){return!!e&&this.filter(e).length>0},Vr.fn.init.prototype=Vr.fn,Vr.overrideDefaults=function(e){var t,n=function(r,o){return t=t||e(),0===arguments.length&&(r=t.element),o||(o=t.context),new n.fn.init(r,o)};return Vr.extend(n,this),n};var Zr=function(e,t,n){Wr(n,function(n,r){e[n]=e[n]||{},e[n][t]=r})};St.ie&&St.ie<8&&(Zr(Ur,"get",{maxlength:function(e){var t=e.maxLength;if(2147483647!==t)return t},size:function(e){var t=e.size;if(20!==t)return t},"class":function(e){return e.className},style:function(e){var t=e.style.cssText;if(0!==t.length)return t}}),Zr(Ur,"set",{"class":function(e,t){e.className=t},style:function(e,t){e.style.cssText=t}})),St.ie&&St.ie<9&&(Mr["float"]="styleFloat",Zr(zr,"set",{opacity:function(e,t){var n=e.style;null===t||""===t?n.removeAttribute("filter"):(n.zoom=1,n.filter="alpha(opacity="+100*t+")")}})),Vr.attrHooks=Ur,Vr.cssHooks=zr;var Jr=function(e){var t,n=!1;return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return n||(n=!0,t=e.apply(null,r)),t}},Qr=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.test(t))return r}},eo=function(e,t){var n=Qr(e,t);if(!n)return{major:0,minor:0};var r=function(e){return Number(t.replace(n,"$"+e))};return ro(r(1),r(2))},to=function(e,t){var n=String(t).toLowerCase();return 0===e.length?no():eo(e,n)},no=function(){return ro(0,0)},ro=function(e,t){return{major:e,minor:t}},oo={nu:ro,detect:to,unknown:no},io="Edge",ao="Chrome",uo="IE",co="Opera",so="Firefox",lo="Safari",fo=function(e,t){return function(){return t===e}},mo=function(){return go({current:void 0,version:oo.unknown()})},go=function(e){var t=e.current,n=e.version;return{current:t,version:n,isEdge:fo(io,t),isChrome:fo(ao,t),isIE:fo(uo,t),isOpera:fo(co,t),isFirefox:fo(so,t),isSafari:fo(lo,t)}},po={unknown:mo,nu:go,edge:ye(io),chrome:ye(ao),ie:ye(uo),opera:ye(co),firefox:ye(so),safari:ye(lo)},ho="Windows",vo="iOS",yo="Android",bo="Linux",Co="OSX",xo="Solaris",wo="FreeBSD",Eo=function(e,t){return function(){return t===e}},No=function(){return So({current:void 0,version:oo.unknown()})},So=function(e){var t=e.current,n=e.version;return{current:t,version:n,isWindows:Eo(ho,t),isiOS:Eo(vo,t),isAndroid:Eo(yo,t),isOSX:Eo(Co,t),isLinux:Eo(bo,t),isSolaris:Eo(xo,t),isFreeBSD:Eo(wo,t)}},ko={unknown:No,nu:So,windows:ye(ho),ios:ye(vo),android:ye(yo),linux:ye(bo),osx:ye(Co),solaris:ye(xo),freebsd:ye(wo)},To=function(e,t,n){var r=e.isiOS()&&/ipad/i.test(n)===!0,o=e.isiOS()&&!r,i=e.isAndroid()&&3===e.version.major,a=e.isAndroid()&&4===e.version.major,u=r||i||a&&/mobile/i.test(n)===!0,c=e.isiOS()||e.isAndroid(),s=c&&!u,l=t.isSafari()&&e.isiOS()&&/safari/i.test(n)===!1;return{isiPad:ye(r),isiPhone:ye(o),isTablet:ye(u),isPhone:ye(s),isTouch:ye(c),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:ye(l)}},Ro=function(e,t){var n=String(t).toLowerCase();return Je(e,function(e){return e.search(n)})},Ao=function(e,t){return Ro(e,t).map(function(e){var n=oo.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Bo=function(e,t){return Ro(e,t).map(function(e){var n=oo.detect(e.versionRegexes,t);return{current:e.name,version:n}})},Do={detectBrowser:Ao,detectOs:Bo},_o=function(e,t){return e.indexOf(t)!==-1},Oo=function(e){return e.replace(/^\s+|\s+$/g,"")},Po=function(e){return e.replace(/^\s+/g,"")},Io=function(e){return e.replace(/\s+$/g,"")},Lo=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Fo=function(e){return function(t){return _o(t,e)}},Mo=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return _o(e,"edge/")&&_o(e,"chrome")&&_o(e,"safari")&&_o(e,"applewebkit")}},{name:"Chrome",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Lo],search:function(e){return _o(e,"chrome")&&!_o(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return _o(e,"msie")||_o(e,"trident")}},{name:"Opera",versionRegexes:[Lo,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Fo("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Fo("firefox")},{name:"Safari",versionRegexes:[Lo,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(_o(e,"safari")||_o(e,"mobile/"))&&_o(e,"applewebkit")}}],Uo=[{name:"Windows",search:Fo("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return _o(e,"iphone")||_o(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Fo("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Fo("os x"),versionRegexes:[/.*?os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Fo("linux"),versionRegexes:[]},{name:"Solaris",search:Fo("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Fo("freebsd"),versionRegexes:[]}],zo={browsers:ye(Mo),oses:ye(Uo)},Vo=function(e){var t=zo.browsers(),n=zo.oses(),r=Do.detectBrowser(t,e).fold(po.unknown,po.nu),o=Do.detectOs(n,e).fold(ko.unknown,ko.nu),i=To(o,r,e);return{browser:r,os:o,deviceType:i}},jo={detect:Vo},Ho=Jr(function(){var t=e.navigator.userAgent;return jo.detect(t)}),qo={detect:Ho},Wo=function(t,n){var r=n||e.document,o=r.createElement("div");if(o.innerHTML=t,!o.hasChildNodes()||o.childNodes.length>1)throw e.console.error("HTML does not have a single root node",t),new Error("HTML must have a single root node");return Xo(o.childNodes[0])},$o=function(t,n){var r=n||e.document,o=r.createElement(t);return Xo(o)},Ko=function(t,n){var r=n||e.document,o=r.createTextNode(t);return Xo(o)},Xo=function(e){if(null===e||void 0===e)throw new Error("Node cannot be null or undefined");return{dom:ye(e)}},Yo=function(e,t,n){var r=e.dom();return Re.from(r.elementFromPoint(t,n)).map(Xo)},Go={fromHtml:Wo,fromTag:$o,fromText:Ko,fromDom:Xo,fromPoint:Yo},Zo=(e.Node.ATTRIBUTE_NODE,e.Node.CDATA_SECTION_NODE,e.Node.COMMENT_NODE,e.Node.DOCUMENT_NODE),Jo=(e.Node.DOCUMENT_TYPE_NODE,e.Node.DOCUMENT_FRAGMENT_NODE,e.Node.ELEMENT_NODE),Qo=e.Node.TEXT_NODE,ei=(e.Node.PROCESSING_INSTRUCTION_NODE,e.Node.ENTITY_REFERENCE_NODE,e.Node.ENTITY_NODE,e.Node.NOTATION_NODE,function(e){var t=e.dom().nodeName;return t.toLowerCase()}),ti=function(e){return e.dom().nodeType},ni=function(e){return function(t){return ti(t)===e}},ri=ni(Jo),oi=ni(Qo),ii=Object.keys,ai=Object.hasOwnProperty,ui=function(e,t){for(var n=ii(e),r=0,o=n.length;r<o;r++){var i=n[r],a=e[i];t(a,i)}},ci=function(e,t){return si(e,function(e,n){return{k:n,v:t(e,n)}})},si=function(e,t){var n={};return ui(e,function(e,r){var o=t(e,r);n[o.k]=o.v}),n},li=function(e,t){var n={},r={};return ui(e,function(e,o){var i=t(e,o)?n:r;i[o]=e}),{t:n,f:r}},fi=function(e,t){return ai.call(e,t)},di=function(e){return void 0!==e.style&&Le(e.style.getPropertyValue)},mi=function(e){var t=oi(e)?e.dom().parentNode:e.dom();return void 0!==t&&null!==t&&t.ownerDocument.body.contains(t)},gi=function(t,n,r){if(!(De(r)||Ie(r)||Fe(r)))throw e.console.error("Invalid call to Attr.set. Key ",n,":: Value ",r,":: Element ",t),new Error("Attribute value was not simple");t.setAttribute(n,r+"")},pi=function(e,t,n){gi(e.dom(),t,n)},hi=function(e,t){var n=e.dom();ui(t,function(e,t){gi(n,t,e)})},vi=function(e,t){var n=e.dom().getAttribute(t);return null===n?void 0:n},yi=function(e,t){var n=e.dom();return!(!n||!n.hasAttribute)&&n.hasAttribute(t)},bi=function(e,t){e.dom().removeAttribute(t)},Ci=function(t,n,r){if(!De(r))throw e.console.error("Invalid call to CSS.set. Property ",n,":: Value ",r,":: Element ",t),new Error("CSS value must be a string: "+r);di(t)&&t.style.setProperty(n,r)},xi=function(e,t){var n=e.dom();ui(t,function(e,t){Ci(n,t,e)})},wi=function(t,n){var r=t.dom(),o=e.window.getComputedStyle(r),i=o.getPropertyValue(n),a=""!==i||mi(t)?i:Ei(r,n);return null===a?void 0:a},Ei=function(e,t){return di(e)?e.style.getPropertyValue(t):""},Ni=function(e,t){var n=e.dom(),r=Ei(n,t);return Re.from(r).filter(function(e){return e.length>0})},Si=function(e){var t={},n=e.dom();if(di(n))for(var r=0;r<n.style.length;r++){var o=n.style.item(r);t[o]=n.style[o]}return t},ki=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(e.length!==t.length)throw new Error('Wrong number of arguments to struct. Expected "['+e.length+']", got '+t.length+" arguments");var r={};return $e(e,function(e,n){r[e]=ye(t[n])}),r}},Ti=function(e,t){var n=[],r=function(e){return n.push(e),t(e)},o=t(e);do o=o.bind(r);while(o.isSome());return n},Ri={toArray:Ti},Ai=function(){var e=pt.getOrDie("Node");return e},Bi=function(e,t,n){return 0!==(e.compareDocumentPosition(t)&n)},Di=function(e,t){return Bi(e,t,Ai().DOCUMENT_POSITION_PRECEDING)},_i=function(e,t){return Bi(e,t,Ai().DOCUMENT_POSITION_CONTAINED_BY)},Oi={documentPositionPreceding:Di,documentPositionContainedBy:_i},Pi=Jo,Ii=Zo,Li=function(e,t){var n=e.dom();if(n.nodeType!==Pi)return!1;var r=n;if(void 0!==r.matches)return r.matches(t);if(void 0!==r.msMatchesSelector)return r.msMatchesSelector(t);if(void 0!==r.webkitMatchesSelector)return r.webkitMatchesSelector(t);if(void 0!==r.mozMatchesSelector)return r.mozMatchesSelector(t);throw new Error("Browser lacks native selectors")},Fi=function(e){return e.nodeType!==Pi&&e.nodeType!==Ii||0===e.childElementCount},Mi=function(t,n){var r=void 0===n?e.document:n.dom();return Fi(r)?[]:We(r.querySelectorAll(t),Go.fromDom)},Ui=function(t,n){var r=void 0===n?e.document:n.dom();return Fi(r)?Re.none():Re.from(r.querySelector(t)).map(Go.fromDom)},zi=function(e,t){return e.dom()===t.dom()},Vi=function(e,t){var n=e.dom(),r=t.dom();return n!==r&&n.contains(r)},ji=function(e,t){return Oi.documentPositionContainedBy(e.dom(),t.dom())},Hi=qo.detect().browser,qi=Hi.isIE()?ji:Vi,Wi=function(e){return Go.fromDom(e.dom().ownerDocument)},$i=function(e){return Go.fromDom(e.dom().ownerDocument.documentElement)},Ki=function(e){return Go.fromDom(e.dom().ownerDocument.defaultView)},Xi=function(e){return Re.from(e.dom().parentNode).map(Go.fromDom)},Yi=function(e,t){for(var n=Le(t)?t:we,r=e.dom(),o=[];null!==r.parentNode&&void 0!==r.parentNode;){var i=r.parentNode,a=Go.fromDom(i);if(o.push(a),n(a)===!0)break;r=i}return o},Gi=function(e){return Re.from(e.dom().previousSibling).map(Go.fromDom)},Zi=function(e){return Re.from(e.dom().nextSibling).map(Go.fromDom)},Ji=function(e){return rt(Ri.toArray(e,Gi))},Qi=function(e){return Ri.toArray(e,Zi)},ea=function(e){return We(e.dom().childNodes,Go.fromDom)},ta=function(e,t){var n=e.dom().childNodes;return Re.from(n[t]).map(Go.fromDom)},na=function(e){return ta(e,0)},ra=function(e){return ta(e,e.dom().childNodes.length-1)},oa=function(e){return e.dom().childNodes.length},ia=(ki("element","offset"),qo.detect().browser),aa=function(e){return Je(e,ri)},ua=function(e){return ia.isFirefox()&&"table"===ei(e)?aa(ea(e)).filter(function(e){return"caption"===ei(e)}).bind(function(e){return aa(Qi(e)).map(function(t){var n=t.dom().offsetTop,r=e.dom().offsetTop,o=e.dom().offsetHeight;return n<=r?-o:0})}).getOr(0):0},ca=function(e,t,n){var r,o,i=0,a=0,u=e.ownerDocument;if(n=n?n:e,t){if(n===e&&t.getBoundingClientRect&&"static"===wi(Go.fromDom(e),"position"))return o=t.getBoundingClientRect(),i=o.left+(u.documentElement.scrollLeft||e.scrollLeft)-u.documentElement.clientLeft,a=o.top+(u.documentElement.scrollTop||e.scrollTop)-u.documentElement.clientTop,{x:i,y:a};for(r=t;r&&r!==n&&r.nodeType;)i+=r.offsetLeft||0,a+=r.offsetTop||0,r=r.offsetParent;for(r=t.parentNode;r&&r!==n&&r.nodeType;)i-=r.scrollLeft||0,a-=r.scrollTop||0,r=r.parentNode;a+=ua(Go.fromDom(t))}return{x:i,y:a}},sa={getPos:ca},la={},fa={exports:la};!function(e,t,n,r){!function(r){if("object"==typeof t&&"undefined"!=typeof n)n.exports=r();else if("function"==typeof e&&e.amd)e([],r);else{var o;o="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,o.EphoxContactWrapper=r()}}(function(){return function(){function e(t,n,o){function i(u,c){if(!n[u]){if(!t[u]){var s="function"==typeof r&&r;if(!c&&s)return s(u,!0);if(a)return a(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var f=n[u]={exports:{}};t[u][0].call(f.exports,function(e){var n=t[u][1][e];return i(n||e)},f,f.exports,e,t,n,o)}return n[u].exports}for(var a="function"==typeof r&&r,u=0;u<o.length;u++)i(o[u]);return i}return e}()({1:[function(e,t,n){function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(f===setTimeout)return setTimeout(e,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===o||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function u(){h&&g&&(h=!1,g.length?p=g.concat(p):v=-1,p.length&&c())}function c(){if(!h){var e=i(u);h=!0;for(var t=p.length;t;){for(g=p,p=[];++v<t;)g&&g[v].run();v=-1,t=p.length}g=null,h=!1,a(e)}}function s(e,t){this.fun=e,this.array=t}function l(){}var f,d,m=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(e){f=r}try{d="function"==typeof clearTimeout?clearTimeout:o}catch(e){d=o}}();var g,p=[],h=!1,v=-1;m.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new s(e,t)),1!==p.length||h||i(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},m.title="browser",m.browser=!0,m.env={},m.argv=[],m.version="",m.versions={},m.on=l,m.addListener=l,m.once=l,m.off=l,m.removeListener=l,m.removeAllListeners=l,m.emit=l,m.prependListener=l,m.prependOnceListener=l,m.listeners=function(e){return[]},m.binding=function(e){throw new Error("process.binding is not supported")},m.cwd=function(){return"/"},m.chdir=function(e){throw new Error("process.chdir is not supported")},m.umask=function(){return 0}},{}],2:[function(e,t,n){(function(e){!function(n){function r(){}function o(e,t){return function(){e.apply(t,arguments)}}function i(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],f(e,this)}function a(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void i._immediateFn(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?u:c)(t.promise,e._value);var r;try{r=n(e._value)}catch(o){return void c(t.promise,o)}u(t.promise,r)}))}function u(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof i)return e._state=3,e._value=t,void s(e);if("function"==typeof n)return void f(o(n,t),e)}e._state=1,e._value=t,s(e)}catch(r){c(e,r)}}function c(e,t){e._state=2,e._value=t,s(e)}function s(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var t=0,n=e._deferreds.length;t<n;t++)a(e,e._deferreds[t]);e._deferreds=null}function l(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function f(e,t){var n=!1;try{e(function(e){n||(n=!0,u(t,e))},function(e){n||(n=!0,c(t,e))})}catch(r){if(n)return;n=!0,c(t,r)}}var d=setTimeout;i.prototype["catch"]=function(e){return this.then(null,e)},i.prototype.then=function(e,t){var n=new this.constructor(r);return a(this,new l(e,t,n)),n},i.all=function(e){var t=Array.prototype.slice.call(e);return new i(function(e,n){function r(i,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var u=a.then;if("function"==typeof u)return void u.call(a,function(e){r(i,e)},n)}t[i]=a,0===--o&&e(t)}catch(c){n(c)}}if(0===t.length)return e([]);for(var o=t.length,i=0;i<t.length;i++)r(i,t[i])})},i.resolve=function(e){return e&&"object"==typeof e&&e.constructor===i?e:new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})},i.race=function(e){return new i(function(t,n){for(var r=0,o=e.length;r<o;r++)e[r].then(t,n)})},i._immediateFn="function"==typeof e?function(t){e(t)}:function(e){d(e,0)},i._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},i._setImmediateFn=function(e){i._immediateFn=e},i._setUnhandledRejectionFn=function(e){i._unhandledRejectionFn=e},"undefined"!=typeof t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(this,e("timers").setImmediate)},{timers:3}],3:[function(e,t,n){(function(t,r){function o(e,t){this._id=e,this._clearFn=t}var i=e("process/browser.js").nextTick,a=Function.prototype.apply,u=Array.prototype.slice,c={},s=0;n.setTimeout=function(){return new o(a.call(setTimeout,window,arguments),clearTimeout)},n.setInterval=function(){return new o(a.call(setInterval,window,arguments),clearInterval)},n.clearTimeout=n.clearInterval=function(e){e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(window,this._id)},n.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},n.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},n._unrefActive=n.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n.setImmediate="function"==typeof t?t:function(e){var t=s++,r=!(arguments.length<2)&&u.call(arguments,1);return c[t]=!0,i(function(){c[t]&&(r?e.apply(null,r):e.call(null),n.clearImmediate(t))}),t},n.clearImmediate="function"==typeof r?r:function(e){delete c[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":1,timers:3}],4:[function(e,t,n){var r=e("promise-polyfill"),o=function(){return"undefined"!=typeof window?window:Function("return this;")()}();t.exports={boltExport:o.Promise||r}},{"promise-polyfill":2}]},{},[4])(4)})}(void 0,la,fa,void 0);var da,ma,ga,pa=fa.exports.boltExport,ha=function(t){var n=Re.none(),r=[],o=function(e){return ha(function(t){i(function(n){t(e(n))})})},i=function(e){u()?s(e):r.push(e)},a=function(e){n=Re.some(e),c(r),r=[]},u=function(){return n.isSome()},c=function(e){$e(e,s)},s=function(t){n.each(function(n){e.setTimeout(function(){t(n)},0)})};return t(a),{get:i,map:o,isReady:u}},va=function(e){return ha(function(t){t(e)})},ya={nu:ha,pure:va},ba=function(t){e.setTimeout(function(){throw t},0)},Ca=function(e){var t=function(t){e().then(t,ba)},n=function(t){return Ca(function(){return e().then(t)})},r=function(t){return Ca(function(){return e().then(function(e){return t(e).toPromise()})})},o=function(t){return Ca(function(){return e().then(function(){return t.toPromise()})})},i=function(){return ya.nu(t)},a=function(){var t=null;return Ca(function(){return null===t&&(t=e()),t})},u=e;return{map:n,bind:r,anonBind:o,toLazy:i,toCached:a,toPromise:u,get:t}},xa=function(e){return Ca(function(){return new pa(e)})},wa=function(e){return Ca(function(){return pa.resolve(e)})},Ea={nu:xa,pure:wa},Na=function(e,t){return t(function(t){var n=[],r=0,o=function(o){return function(i){n[o]=i,r++,r>=e.length&&t(n)}};0===e.length?t([]):$e(e,function(e,t){e.get(o(t))})})},Sa=function(e){return Na(e,Ea.nu)},ka=function(e){var t=function(t){return e===t},n=function(t){return ka(e)},r=function(t){return ka(e)},o=function(t){return ka(t(e))},i=function(t){return ka(e)},a=function(t){t(e)},u=function(t){return t(e)},c=function(t,n){return n(e)},s=function(t){return t(e)},l=function(t){return t(e)},f=function(){return Re.some(e)};return{is:t,isValue:Ee,isError:we,getOr:ye(e),getOrThunk:ye(e),getOrDie:ye(e),or:n,orThunk:r,fold:c,map:o,mapError:i,each:a,bind:u,exists:s,forall:l,toOption:f}},Ta=function(e){var t=function(e){return e()},n=function(){return xe(String(e))()},r=function(e){return e},o=function(e){return e()},i=function(t){return Ta(e)},a=function(t){return Ta(t(e))},u=function(t){return Ta(e)},c=function(t,n){return t(e)};return{is:we,isValue:we,isError:Ee,getOr:be,getOrThunk:t,getOrDie:n,or:r,orThunk:o,fold:c,map:i,mapError:a,each:he,bind:u,exists:we,forall:Ee,toOption:Re.none}},Ra=function(e,t){return e.fold(function(){return Ta(t)},ka)},Aa={value:ka,error:Ta,fromOption:Ra},Ba=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Da=["area","base","basefont","br","col","frame","hr","img","input","isindex","link","meta","param","embed","source","wbr","track"],_a=["td","th"],Oa=["thead","tbody","tfoot"],Pa=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],Ia=["h1","h2","h3","h4","h5","h6"],La=["li","dd","dt"],Fa=["ul","ol","dl"],Ma=["pre","script","textarea","style"],Ua=function(e){var t;return function(n){return t=t?t:it(e,ye(!0)),t.hasOwnProperty(ei(n))}},za=Ua(Ia),Va=Ua(Ba),ja=function(e){return ri(e)&&!Va(e)},Ha=function(e){return ri(e)&&"br"===ei(e)},qa=Ua(Pa),Wa=Ua(Fa),$a=Ua(La),Ka=Ua(Da),Xa=Ua(Oa),Ya=Ua(_a),Ga=Ua(Ma),Za=function(e){return function(t){return!!t&&t.nodeType===e}},Ja=function(e){
return!!e&&!Object.getPrototypeOf(e)},Qa=Za(1),eu=function(e){var t=e.toLowerCase().split(" ");return function(e){var n,r;if(e&&e.nodeType)for(r=e.nodeName.toLowerCase(),n=0;n<t.length;n++)if(r===t[n])return!0;return!1}},tu=function(e,t){var n=t.toLowerCase().split(" ");return function(t){var r,o;if(Qa(t))for(r=0;r<n.length;r++){var i=t.ownerDocument.defaultView.getComputedStyle(t,null);if(o=i?i.getPropertyValue(e):null,o===n[r])return!0}return!1}},nu=function(e,t){return function(n){return Qa(n)&&n[e]===t}},ru=function(e,t){return function(t){return Qa(t)&&t.hasAttribute(e)}},ou=function(e,t){return function(n){return Qa(n)&&n.getAttribute(e)===t}},iu=function(e){return Qa(e)&&e.hasAttribute("data-mce-bogus")},au=function(e){return Qa(e)&&"all"===e.getAttribute("data-mce-bogus")},uu=function(e){return Qa(e)&&"TABLE"===e.tagName},cu=function(e){return function(t){if(Qa(t)){if(t.contentEditable===e)return!0;if(t.getAttribute("data-mce-contenteditable")===e)return!0}return!1}},su=Za(3),lu=Za(8),fu=Za(9),du=Za(11),mu=eu("br"),gu=cu("true"),pu=cu("false"),hu={isText:su,isElement:Qa,isComment:lu,isDocument:fu,isDocumentFragment:du,isBr:mu,isContentEditableTrue:gu,isContentEditableFalse:pu,isRestrictedNode:Ja,matchNodeNames:eu,hasPropValue:nu,hasAttribute:ru,hasAttributeValue:ou,matchStyleValues:tu,isBogus:iu,isBogusAll:au,isTable:uu},vu=function(e){var t=e.previousSibling&&"SPAN"===e.previousSibling.nodeName,n=e.nextSibling&&"SPAN"===e.nextSibling.nodeName;return t&&n},yu=function(e){return e&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},bu=function(e,t){var n,r=t.childNodes;if(!hu.isElement(t)||!yu(t)){for(n=r.length-1;n>=0;n--)bu(e,r[n]);if(hu.isDocument(t)===!1){if(hu.isText(t)&&t.nodeValue.length>0){var o=xr.trim(t.nodeValue).length;if(e.isBlock(t.parentNode)||o>0)return;if(0===o&&vu(t))return}else if(hu.isElement(t)&&(r=t.childNodes,1===r.length&&yu(r[0])&&t.parentNode.insertBefore(r[0],t),r.length||Ka(Go.fromDom(t))))return;e.remove(t)}return t}},Cu={trimNode:bu},xu=xr.makeMap,wu=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Eu=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Nu=/[<>&\"\']/g,Su=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,ku={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"};ma={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},ga={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"};var Tu=function(e){var t;return t=Go.fromTag("div").dom(),t.innerHTML=e,t.textContent||t.innerText||e},Ru=function(e,t){var n,r,o,i={};if(e){for(e=e.split(","),t=t||10,n=0;n<e.length;n+=2)r=String.fromCharCode(parseInt(e[n],t)),ma[r]||(o="&"+e[n+1]+";",i[r]=o,i[o]=r);return i}};da=Ru("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32);var Au=function(e,t){return e.replace(t?wu:Eu,function(e){return ma[e]||e})},Bu=function(e){return(""+e).replace(Nu,function(e){return ma[e]||e})},Du=function(e,t){return e.replace(t?wu:Eu,function(e){return e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":ma[e]||"&#"+e.charCodeAt(0)+";"})},_u=function(e,t,n){return n=n||da,e.replace(t?wu:Eu,function(e){return ma[e]||n[e]||e})},Ou=function(e,t){var n=Ru(t)||da,r=function(e,t){return e.replace(t?wu:Eu,function(e){return void 0!==ma[e]?ma[e]:void 0!==n[e]?n[e]:e.length>1?"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";":"&#"+e.charCodeAt(0)+";"})},o=function(e,t){return _u(e,t,n)},i=xu(e.replace(/\+/g,","));return i.named&&i.numeric?r:i.named?t?o:_u:i.numeric?Du:Au},Pu=function(e){return e.replace(Su,function(e,t){return t?(t="x"===t.charAt(0).toLowerCase()?parseInt(t.substr(1),16):parseInt(t,10),t>65535?(t-=65536,String.fromCharCode(55296+(t>>10),56320+(1023&t))):ku[t]||String.fromCharCode(t)):ga[e]||da[e]||Tu(e)})},Iu={encodeRaw:Au,encodeAllRaw:Bu,encodeNumeric:Du,encodeNamed:_u,getEncodeFunc:Ou,decode:Pu},Lu={},Fu={},Mu=xr.makeMap,Uu=xr.each,zu=xr.extend,Vu=xr.explode,ju=xr.inArray,Hu=function(e,t){return e=xr.trim(e),e?e.split(t||" "):[]},qu=function(e){var t,n,r,o,i,a,u={},c=function(e,n,r){var o,i,a,c=function(e,t){var n,r,o={};for(n=0,r=e.length;n<r;n++)o[e[n]]=t||{};return o};for(r=r||[],n=n||"","string"==typeof r&&(r=Hu(r)),e=Hu(e),o=e.length;o--;)i=Hu([t,n].join(" ")),a={attributes:c(i),attributesOrder:i,children:c(r,Fu)},u[e[o]]=a},s=function(e,t){var n,r,o,i;for(e=Hu(e),n=e.length,t=Hu(t);n--;)for(r=u[e[n]],o=0,i=t.length;o<i;o++)r.attributes[t[o]]={},r.attributesOrder.push(t[o])};return Lu[e]?Lu[e]:(t="id accesskey class dir lang style tabindex title role",n="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",r="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment","html4"!==e&&(t+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",n+=" article aside details dialog figure main header footer hgroup section nav",r+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),"html5-strict"!==e&&(t+=" xml:lang",a="acronym applet basefont big font strike tt",r=[r,a].join(" "),Uu(Hu(a),function(e){c(e,"",r)}),i="center dir isindex noframes",n=[n,i].join(" "),o=[n,r].join(" "),Uu(Hu(i),function(e){c(e,"",o)})),o=o||[n,r].join(" "),c("html","manifest","head body"),c("head","","base command link meta noscript script style title"),c("title hr noscript br"),c("base","href target"),c("link","href rel media hreflang type sizes hreflang"),c("meta","name http-equiv content charset"),c("style","media type scoped"),c("script","src async defer type charset"),c("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",o),c("address dt dd div caption","",o),c("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",r),c("blockquote","cite",o),c("ol","reversed start type","li"),c("ul","","li"),c("li","value",o),c("dl","","dt dd"),c("a","href target rel media hreflang type",r),c("q","cite",r),c("ins del","cite datetime",o),c("img","src sizes srcset alt usemap ismap width height"),c("iframe","src name width height",o),c("embed","src type width height"),c("object","data type typemustmatch name usemap form width height",[o,"param"].join(" ")),c("param","name value"),c("map","name",[o,"area"].join(" ")),c("area","alt coords shape href target rel media hreflang type"),c("table","border","caption colgroup thead tfoot tbody tr"+("html4"===e?" col":"")),c("colgroup","span","col"),c("col","span"),c("tbody thead tfoot","","tr"),c("tr","","td th"),c("td","colspan rowspan headers",o),c("th","colspan rowspan headers scope abbr",o),c("form","accept-charset action autocomplete enctype method name novalidate target",o),c("fieldset","disabled form name",[o,"legend"].join(" ")),c("label","form for",r),c("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),c("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value","html4"===e?o:r),c("select","disabled form multiple name required size","option optgroup"),c("optgroup","disabled label","option"),c("option","disabled label selected value"),c("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),c("menu","type label",[o,"li"].join(" ")),c("noscript","",o),"html4"!==e&&(c("wbr"),c("ruby","",[r,"rt rp"].join(" ")),c("figcaption","",o),c("mark rt rp summary bdi","",r),c("canvas","width height",o),c("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[o,"track source"].join(" ")),c("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[o,"track source"].join(" ")),c("picture","","img source"),c("source","src srcset type media sizes"),c("track","kind src srclang label default"),c("datalist","",[r,"option"].join(" ")),c("article section nav aside main header footer","",o),c("hgroup","","h1 h2 h3 h4 h5 h6"),c("figure","",[o,"figcaption"].join(" ")),c("time","datetime",r),c("dialog","open",o),c("command","type label icon disabled checked radiogroup command"),c("output","for form name",r),c("progress","value max",r),c("meter","value min max low high optimum",r),c("details","open",[o,"summary"].join(" ")),c("keygen","autofocus challenge disabled form keytype name")),"html5-strict"!==e&&(s("script","language xml:space"),s("style","xml:space"),s("object","declare classid code codebase codetype archive standby align border hspace vspace"),s("embed","align name hspace vspace"),s("param","valuetype type"),s("a","charset name rev shape coords"),s("br","clear"),s("applet","codebase archive code object alt name width height align hspace vspace"),s("img","name longdesc align border hspace vspace"),s("iframe","longdesc frameborder marginwidth marginheight scrolling align"),s("font basefont","size color face"),s("input","usemap align"),s("select","onchange"),s("textarea"),s("h1 h2 h3 h4 h5 h6 div p legend caption","align"),s("ul","type compact"),s("li","type"),s("ol dl menu dir","compact"),s("pre","width xml:space"),s("hr","align noshade size width"),s("isindex","prompt"),s("table","summary width frame rules cellspacing cellpadding align bgcolor"),s("col","width align char charoff valign"),s("colgroup","width align char charoff valign"),s("thead","align char charoff valign"),s("tr","align char charoff valign bgcolor"),s("th","axis align char charoff valign nowrap bgcolor width height"),s("form","accept"),s("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),s("tfoot","align char charoff valign"),s("tbody","align char charoff valign"),s("area","nohref"),s("body","background bgcolor text link vlink alink")),"html4"!==e&&(s("input button select textarea","autofocus"),s("input textarea","placeholder"),s("a","download"),s("link script img","crossorigin"),s("iframe","sandbox seamless allowfullscreen")),Uu(Hu("a form meter progress dfn"),function(e){u[e]&&delete u[e].children[e]}),delete u.caption.children.table,delete u.script,Lu[e]=u,u)},Wu=function(e,t){var n;return e&&(n={},"string"==typeof e&&(e={"*":e}),Uu(e,function(e,r){n[r]=n[r.toUpperCase()]="map"===t?Mu(e,/[, ]/):Vu(e,/[, ]/)})),n},$u=function(e,t,n,r){var o=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+o(t)+o(n)+o(r)},Ku=xr.each,Xu=xr.grep,Yu=St.ie,Gu=/^([a-z0-9],?)+$/i,Zu=/^[ \t\r\n]*$/,Ju=function(e,t,n){var r={},o=t.keep_values,i={set:function(e,r,o){t.url_converter&&(r=t.url_converter.call(t.url_converter_scope||n(),r,o,e[0])),e.attr("data-mce-"+o,r).attr(o,r)},get:function(e,t){return e.attr("data-mce-"+t)||e.attr(t)}};return r={style:{set:function(e,t){return null!==t&&"object"==typeof t?void e.css(t):(o&&e.attr("data-mce-style",t),void e.attr("style",t))},get:function(t){var n=t.attr("data-mce-style")||t.attr("style");return n=e.serialize(e.parse(n),t[0].nodeName)}}},o&&(r.href=r.src=i),r},Qu=function(e,t){var n=t.attr("style"),r=e.serialize(e.parse(n),t[0].nodeName);r||(r=null),t.attr("data-mce-style",r)},ec=function(e,t){var n,r,o=0;if(e)for(n=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)r=e.nodeType,(!t||3!==r||r!==n&&e.nodeValue.length)&&(o++,n=r);return o};!function(t){t.DOM=t(e.document),t.nodeIndex=ec}(w||(w={}));var tc=w,nc=tc.DOM,rc=xr.each,oc=xr.grep,ic=function(e){return"function"==typeof e},ac=function(){var t=0,n=1,r=2,o=3,i={},a=[],u={},c=[],s=0,l=function(t,n,r){var o,i,a=nc,u=function(){a.remove(i),o&&(o.onreadystatechange=o.onload=o=null),n()},c=function(){ic(r)?r():"undefined"!=typeof console&&console.log&&console.log("Failed to load script: "+t)};i=a.uniqueId(),o=e.document.createElement("script"),o.id=i,o.type="text/javascript",o.src=xr._addCacheSuffix(t),o.onload=u,o.onerror=c,(e.document.getElementsByTagName("head")[0]||e.document.body).appendChild(o)};this.isDone=function(e){return i[e]===r},this.markDone=function(e){i[e]=r},this.add=this.load=function(e,n,r,o){var c=i[e];void 0===c&&(a.push(e),i[e]=t),n&&(u[e]||(u[e]=[]),u[e].push({success:n,failure:o,scope:r||this}))},this.remove=function(e){delete i[e],delete u[e]},this.loadQueue=function(e,t,n){this.loadScripts(a,e,t,n)},this.loadScripts=function(e,t,a,f){var d,m=[],g=function(e,t){rc(u[t],function(t){ic(t[e])&&t[e].call(t.scope)}),u[t]=void 0};c.push({success:t,failure:f,scope:a||this}),(d=function(){var t=oc(e);if(e.length=0,rc(t,function(e){return i[e]===r?void g("success",e):i[e]===o?void g("failure",e):void(i[e]!==n&&(i[e]=n,s++,l(e,function(){i[e]=r,s--,g("success",e),d()},function(){i[e]=o,s--,m.push(e),g("failure",e),d()})))}),!s){var a=c.slice(0);c.length=0,rc(a,function(e){0===m.length?ic(e.success)&&e.success.call(e.scope):ic(e.failure)&&e.failure.call(e.scope,m)})}})()}};ac.ScriptLoader=new ac;var uc=xr.each;!function(e){e.PluginManager=e(),e.ThemeManager=e()}(E||(E={}));var cc=function(e,t){var n=Xi(e);n.each(function(n){n.dom().insertBefore(t.dom(),e.dom())})},sc=function(e,t){var n=Zi(e);n.fold(function(){var n=Xi(e);n.each(function(e){fc(e,t)})},function(e){cc(e,t)})},lc=function(e,t){var n=na(e);n.fold(function(){fc(e,t)},function(n){e.dom().insertBefore(t.dom(),n.dom())})},fc=function(e,t){e.dom().appendChild(t.dom())},dc=function(e,t){cc(e,t),fc(t,e)},mc=function(e,t){$e(t,function(t){cc(e,t)})},gc=function(e,t){$e(t,function(t){fc(e,t)})},pc=function(e){e.dom().textContent="",$e(ea(e),function(e){hc(e)})},hc=function(e){var t=e.dom();null!==t.parentNode&&t.parentNode.removeChild(t)},vc=function(e){var t=ea(e);t.length>0&&mc(e,t),hc(e)},yc=function(t,n){var r=null,o=function(){null!==r&&(e.clearTimeout(r),r=null)},i=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null===r&&(r=e.setTimeout(function(){t.apply(null,o),r=null},n))};return{cancel:o,throttle:i}},bc=function(t,n){var r=null,o=function(){null!==r&&(e.clearTimeout(r),r=null)},i=function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];null!==r&&e.clearTimeout(r),r=e.setTimeout(function(){t.apply(null,o),r=null},n)};return{cancel:o,throttle:i}},Cc=function(e){var t=e,n=function(){return t},r=function(e){t=e},o=function(){return Cc(n())};return{get:n,set:r,clone:o}},xc=function(e,t){var n=vi(e,t);return void 0===n||""===n?[]:n.split(" ")},wc=function(e,t,n){var r=xc(e,t),o=r.concat([n]);return pi(e,t,o.join(" ")),!0},Ec=function(e,t,n){var r=Ye(xc(e,t),function(e){return e!==n});return r.length>0?pi(e,t,r.join(" ")):bi(e,t),!1},Nc=function(e){return void 0!==e.dom().classList},Sc=function(e){return xc(e,"class")},kc=function(e,t){return wc(e,"class",t)},Tc=function(e,t){return Ec(e,"class",t)},Rc=function(e,t){Nc(e)?e.dom().classList.add(t):kc(e,t)},Ac=function(e){var t=Nc(e)?e.dom().classList:Sc(e);0===t.length&&bi(e,"class")},Bc=function(e,t){if(Nc(e)){var n=e.dom().classList;n.remove(t)}else Tc(e,t);Ac(e)},Dc=function(e,t){return Nc(e)&&e.dom().classList.contains(t)},_c=function(e,t){var n=[];return $e(ea(e),function(e){t(e)&&(n=n.concat([e])),n=n.concat(_c(e,t))}),n},Oc=function(e,t){return Mi(t,e)},Pc=function(e,t,n){for(var r=e.dom(),o=Le(n)?n:ye(!1);r.parentNode;){r=r.parentNode;var i=Go.fromDom(r);if(t(i))return Re.some(i);if(o(i))break}return Re.none()},Ic=function(e,t,n){var r=function(e,t){return t(e)};return N(r,Pc,e,t,n)},Lc=function(e,t,n){return Pc(e,function(e){return Li(e,t)},n)},Fc=function(e,t){return Ui(t,e)},Mc=function(e,t,n){return N(Li,Lc,e,t,n)},Uc=ye("mce-annotation"),zc=ye("data-mce-annotation"),Vc=ye("data-mce-annotation-uid"),jc=function(e,t){var n=e.selection.getRng(),r=Go.fromDom(n.startContainer),o=Go.fromDom(e.getBody()),i=t.fold(function(){return"."+Uc()},function(e){return"["+zc()+'="'+e+'"]'}),a=ta(r,n.startOffset).getOr(r),u=Mc(a,i,function(e){return zi(e,o)}),c=function(e,t){return yi(e,t)?Re.some(vi(e,t)):Re.none()};return u.bind(function(t){return c(t,""+Vc()).bind(function(n){return c(t,""+zc()).map(function(t){var r=qc(e,n);return{uid:n,name:t,elements:r}})})})},Hc=function(e){return ri(e)&&Dc(e,Uc())},qc=function(e,t){var n=Go.fromDom(e.getBody());return Oc(n,"["+Vc()+'="'+t+'"]')},Wc=function(e,t){var n=Go.fromDom(e.getBody()),r=Oc(n,"["+zc()+'="'+t+'"]'),o={};return $e(r,function(e){var t=vi(e,Vc()),n=o.hasOwnProperty(t)?o[t]:[];o[t]=n.concat([e])}),o},$c=function(e,t){var n=Cc({}),r=function(){return{listeners:[],previous:Cc(Re.none())}},o=function(e,t){i(e,function(e){return t(e),e})},i=function(e,t){var o=n.get(),i=o.hasOwnProperty(e)?o[e]:r(),a=t(i);o[e]=a,n.set(o)},a=function(e,t,n){o(e,function(r){$e(r.listeners,function(r){return r(!0,e,{uid:t,nodes:We(n,function(e){return e.dom()})})})})},u=function(e){o(e,function(t){$e(t.listeners,function(t){return t(!1,e)})})},c=bc(function(){var t=n.get(),r=at(ii(t));$e(r,function(t){i(t,function(n){var r=n.previous.get();return jc(e,Re.some(t)).fold(function(){r.isSome()&&(u(t),n.previous.set(Re.none()))},function(e){var t=e.uid,o=e.name,i=e.elements;r.is(t)||(a(o,t,i),n.previous.set(Re.some(t)))}),{previous:n.previous,listeners:n.listeners}})})},30);e.on("remove",function(){c.cancel()}),e.on("nodeChange",function(){c.throttle()});var s=function(e,t){i(e,function(e){return{previous:e.previous,listeners:e.listeners.concat([t])}})};return{addListener:s}},Kc=function(e,t){var n=function(e){var n=Re.from(e.attributes.map[zc()]);return n.bind(t.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(e){$e(e,function(e){n(e).each(function(t){t.persistent===!1&&e.unwrap()})})})})},Xc=function(){var e={},t=function(t,n){e[t]={name:t,settings:n}},n=function(t){return e.hasOwnProperty(t)?Re.from(e[t]).map(function(e){return e.settings}):Re.none()};return{register:t,lookup:n}},Yc=function(){return Yc=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Yc.apply(this,arguments)},Gc=0,Zc=function(e){var t=new Date,n=t.getTime(),r=Math.floor(1e9*Math.random());return Gc++,e+"_"+r+Gc+String(n)},Jc=function(e,t){$e(t,function(t){Rc(e,t)})},Qc=function(e,t){return Go.fromDom(e.dom().cloneNode(t))},es=function(e){return Qc(e,!1)},ts=function(e){return Qc(e,!0)},ns=function(t,n){var r=n||e.document,o=r.createElement("div");return o.innerHTML=t,ea(Go.fromDom(o))},rs=function(e){return e.dom().innerHTML},os=function(e,t){var n=Wi(e),r=n.dom(),o=Go.fromDom(r.createDocumentFragment()),i=ns(t,r);gc(o,i),pc(e),fc(e,o)},is="\ufeff",as=function(e){return e===is},us=function(e){return e.replace(new RegExp(is,"g"),"")},cs={isZwsp:as,ZWSP:is,trim:us},ss=hu.isElement,ls=hu.isText,fs=function(e){return ls(e)&&(e=e.parentNode),ss(e)&&e.hasAttribute("data-mce-caret")},ds=function(e){return ls(e)&&cs.isZwsp(e.data)},ms=function(e){return fs(e)||ds(e)},gs=function(e){return e.firstChild!==e.lastChild||!hu.isBr(e.firstChild)},ps=function(e,t){var n,r,o,i;if(n=e.ownerDocument,o=n.createTextNode(cs.ZWSP),i=e.parentNode,t){if(r=e.previousSibling,ls(r)){if(ms(r))return r;if(xs(r))return r.splitText(r.data.length-1)}i.insertBefore(o,e)}else{if(r=e.nextSibling,ls(r)){if(ms(r))return r;if(Cs(r))return r.splitText(1),r}e.nextSibling?i.insertBefore(o,e.nextSibling):i.appendChild(o)}return o},hs=function(e){var t=e.container();return!(!e||!hu.isText(t))&&(t.data.charAt(e.offset())===cs.ZWSP||e.isAtStart()&&ds(t.previousSibling))},vs=function(e){var t=e.container();return!(!e||!hu.isText(t))&&(t.data.charAt(e.offset()-1)===cs.ZWSP||e.isAtEnd()&&ds(t.nextSibling))},ys=function(){var t=e.document.createElement("br");return t.setAttribute("data-mce-bogus","1"),t},bs=function(e,t,n){var r,o,i;return r=t.ownerDocument,o=r.createElement(e),o.setAttribute("data-mce-caret",n?"before":"after"),o.setAttribute("data-mce-bogus","all"),o.appendChild(ys()),i=t.parentNode,n?i.insertBefore(o,t):t.nextSibling?i.insertBefore(o,t.nextSibling):i.appendChild(o),o},Cs=function(e){return ls(e)&&e.data[0]===cs.ZWSP},xs=function(e){return ls(e)&&e.data[e.data.length-1]===cs.ZWSP},ws=function(e){var t=e.getElementsByTagName("br"),n=t[t.length-1];hu.isBogus(n)&&n.parentNode.removeChild(n)},Es=function(e){return e&&e.hasAttribute("data-mce-caret")?(ws(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},Ns=function(e){return fs(e.startContainer)},Ss=hu.isContentEditableTrue,ks=hu.isContentEditableFalse,Ts=hu.isBr,Rs=hu.isText,As=hu.matchNodeNames("script style textarea"),Bs=hu.matchNodeNames("img input textarea hr iframe video audio object"),Ds=hu.matchNodeNames("table"),_s=ms,Os=function(e){return!_s(e)&&(Rs(e)?!As(e.parentNode):Bs(e)||Ts(e)||Ds(e)||Is(e))},Ps=function(e){return hu.isElement(e)&&"true"===e.getAttribute("unselectable")},Is=function(e){return Ps(e)===!1&&ks(e)},Ls=function(e,t){for(e=e.parentNode;e&&e!==t;e=e.parentNode){if(Is(e))return!1;if(Ss(e))return!0}return!0},Fs=function(e){return!!Is(e)&&Ze(st(e.getElementsByTagName("*")),function(e,t){return e||Ss(t)},!1)!==!0},Ms=function(e){return Bs(e)||Fs(e)},Us=function(e,t){return Os(e)&&Ls(e,t)},zs=Math.round,Vs=function(e){return e?{left:zs(e.left),top:zs(e.top),bottom:zs(e.bottom),right:zs(e.right),width:zs(e.width),height:zs(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},js=function(e,t){return e=Vs(e),t?e.right=e.left:(e.left=e.left+e.width,e.right=e.left),e.width=0,e},Hs=function(e,t){return e.left===t.left&&e.top===t.top&&e.bottom===t.bottom&&e.right===t.right},qs=function(e,t,n){return e>=0&&e<=Math.min(t.height,n.height)/2},Ws=function(e,t){var n=Math.min(t.height/2,e.height/2);return e.bottom-n<t.top||!(e.top>t.bottom)&&qs(t.top-e.bottom,e,t)},$s=function(e,t){return e.top>t.bottom||!(e.bottom<t.top)&&qs(t.bottom-e.top,e,t)},Ks=function(e,t,n){return t>=e.left&&t<=e.right&&n>=e.top&&n<=e.bottom},Xs=function(e,t){return t.left>e.left&&t.right<e.right?0:t.left<e.left?t.left-e.left:t.right-e.right},Ys=function(e,t){return t.top>e.top&&t.bottom<e.bottom?0:t.top<e.top?t.top-e.top:t.bottom-e.bottom},Gs=function(e,t){return{x:Xs(e,t),y:Ys(e,t)}},Zs=function(e){var t=e.startContainer,n=e.startOffset;return t.hasChildNodes()&&e.endOffset===n+1?t.childNodes[n]:null},Js=function(e,t){return 1===e.nodeType&&e.hasChildNodes()&&(t>=e.childNodes.length&&(t=e.childNodes.length-1),e=e.childNodes[t]),e},Qs=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),el=function(e){return"string"==typeof e&&e.charCodeAt(0)>=768&&Qs.test(e)},tl=function(e,t,n){return e.isSome()&&t.isSome()?Re.some(n(e.getOrDie(),t.getOrDie())):Re.none()},nl=function(e,t,n,r){return e.isSome()&&t.isSome()&&n.isSome()?Re.some(r(e.getOrDie(),t.getOrDie(),n.getOrDie())):Re.none()},rl=[].slice,ol=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=rl.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(n[t](e))return!0;return!1}},il=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=rl.call(arguments);return function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0}},al={and:il,or:ol},ul=hu.isElement,cl=Os,sl=hu.matchStyleValues("display","block table"),ll=hu.matchStyleValues("float","left right"),fl=al.and(ul,cl,Ce(ll)),dl=Ce(hu.matchStyleValues("white-space","pre pre-line pre-wrap")),ml=hu.isText,gl=hu.isBr,pl=tc.nodeIndex,hl=Js,vl=function(e){return"createRange"in e?e.createRange():tc.DOM.createRng()},yl=function(e){return e&&/[\r\n\t ]/.test(e)},bl=function(e){return!!e.setStart&&!!e.setEnd},Cl=function(e){var t,n=e.startContainer,r=e.startOffset;return!!(yl(e.toString())&&dl(n.parentNode)&&hu.isText(n)&&(t=n.data,yl(t[r-1])||yl(t[r+1])))},xl=function(e){var t,n=e.ownerDocument,r=vl(n),o=n.createTextNode(" "),i=e.parentNode;return i.insertBefore(o,e),r.setStart(o,0),r.setEnd(o,1),t=Vs(r.getBoundingClientRect()),i.removeChild(o),t},wl=function(e){var t=e.startContainer,n=e.endContainer,r=e.startOffset,o=e.endOffset;if(t===n&&hu.isText(n)&&0===r&&1===o){var i=e.cloneRange();return i.setEndAfter(n),Nl(i)}return null},El=function(e){return 0===e.left&&0===e.right&&0===e.top&&0===e.bottom},Nl=function(e){var t,n;return n=e.getClientRects(),t=Vs(n.length>0?n[0]:e.getBoundingClientRect()),!bl(e)&&gl(e)&&El(t)?xl(e):El(t)&&bl(e)?wl(e):t},Sl=function(e,t){var n=js(e,t);return n.width=1,n.right=n.left+1,n},kl=function(e){var t,n,r=[],o=function(e){0!==e.height&&(r.length>0&&Hs(e,r[r.length-1])||r.push(e))},i=function(e,t){var n=vl(e.ownerDocument);if(t<e.data.length){if(el(e.data[t]))return r;if(el(e.data[t-1])&&(n.setStart(e,t),n.setEnd(e,t+1),!Cl(n)))return o(Sl(Nl(n),!1)),r}t>0&&(n.setStart(e,t-1),n.setEnd(e,t),Cl(n)||o(Sl(Nl(n),!1))),t<e.data.length&&(n.setStart(e,t),n.setEnd(e,t+1),Cl(n)||o(Sl(Nl(n),!0)))};if(ml(e.container()))return i(e.container(),e.offset()),r;if(ul(e.container()))if(e.isAtEnd())n=hl(e.container(),e.offset()),ml(n)&&i(n,n.data.length),fl(n)&&!gl(n)&&o(Sl(Nl(n),!1));else{if(n=hl(e.container(),e.offset()),ml(n)&&i(n,0),fl(n)&&e.isAtEnd())return o(Sl(Nl(n),!1)),r;t=hl(e.container(),e.offset()-1),fl(t)&&!gl(t)&&(sl(t)||sl(n)||!fl(n))&&o(Sl(Nl(t),!1)),fl(n)&&o(Sl(Nl(n),!0))}return r};!function(e){e.fromRangeStart=function(t){return e(t.startContainer,t.startOffset)},e.fromRangeEnd=function(t){return e(t.endContainer,t.endOffset)},e.after=function(t){return e(t.parentNode,pl(t)+1)},e.before=function(t){return e(t.parentNode,pl(t))},e.isAbove=function(e,t){return tl(ut(t.getClientRects()),ct(e.getClientRects()),Ws).getOr(!1)},e.isBelow=function(e,t){return tl(ct(t.getClientRects()),ut(e.getClientRects()),$s).getOr(!1)},e.isAtStart=function(e){return!!e&&e.isAtStart()},e.isAtEnd=function(e){return!!e&&e.isAtEnd()},e.isTextPosition=function(e){return!!e&&hu.isText(e.container())},e.isElementPosition=function(t){return e.isTextPosition(t)===!1}}(T||(T={}));var Tl,Rl=T,Al=hu.isText,Bl=hu.isBogus,Dl=tc.nodeIndex,_l=function(e){var t=e.parentNode;return Bl(t)?_l(t):t},Ol=function(e){return e?cr.reduce(e.childNodes,function(e,t){return Bl(t)&&"BR"!==t.nodeName?e=e.concat(Ol(t)):e.push(t),e},[]):[]},Pl=function(e,t){for(;(e=e.previousSibling)&&Al(e);)t+=e.data.length;return t},Il=function(e){return function(t){return e===t}},Ll=function(e){var t,n,r;return t=Ol(_l(e)),n=cr.findIndex(t,Il(e),e),t=t.slice(0,n+1),r=cr.reduce(t,function(e,n,r){return Al(n)&&Al(t[r-1])&&e++,e},0),t=cr.filter(t,hu.matchNodeNames(e.nodeName)),n=cr.findIndex(t,Il(e),e),n-r},Fl=function(e){var t;return t=Al(e)?"text()":e.nodeName.toLowerCase(),t+"["+Ll(e)+"]"},Ml=function(e,t,n){var r=[];for(t=t.parentNode;t!==e&&(!n||!n(t));t=t.parentNode)r.push(t);return r},Ul=function(e,t){var n,r,o,i,a,u=[];return n=t.container(),r=t.offset(),Al(n)?o=Pl(n,r):(i=n.childNodes,r>=i.length?(o="after",r=i.length-1):o="before",n=i[r]),u.push(Fl(n)),a=Ml(e,n),a=cr.filter(a,Ce(hu.isBogus)),u=u.concat(cr.map(a,function(e){return Fl(e)})),u.reverse().join("/")+","+o},zl=function(e,t,n){var r=Ol(e);return r=cr.filter(r,function(e,t){return!Al(e)||!Al(r[t-1])}),r=cr.filter(r,hu.matchNodeNames(t)),r[n]},Vl=function(e,t){for(var n,r=e,o=0;Al(r);){if(n=r.data.length,t>=o&&t<=o+n){e=r,t-=o;break}if(!Al(r.nextSibling)){e=r,t=n;break}o+=n,r=r.nextSibling}return Al(e)&&t>e.data.length&&(t=e.data.length),Rl(e,t)},jl=function(e,t){var n,r,o;return t?(n=t.split(","),t=n[0].split("/"),o=n.length>1?n[1]:"before",r=cr.reduce(t,function(e,t){return(t=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(t))?("text()"===t[1]&&(t[1]="#text"),zl(e,t[1],parseInt(t[2],10))):null},e),r?Al(r)?Vl(r,parseInt(o,10)):(o="after"===o?Dl(r)+1:Dl(r),Rl(r.parentNode,o)):null):null},Hl=function(e,t){hu.isText(t)&&0===t.data.length&&e.remove(t)},ql=function(e,t,n){t.insertNode(n),Hl(e,n.previousSibling),Hl(e,n.nextSibling)},Wl=function(e,t,n){var r=Re.from(n.firstChild),o=Re.from(n.lastChild);t.insertNode(n),r.each(function(t){return Hl(e,t.previousSibling)}),o.each(function(t){return Hl(e,t.nextSibling)})},$l=function(e,t,n){hu.isDocumentFragment(n)?Wl(e,t,n):ql(e,t,n)},Kl=hu.isContentEditableFalse,Xl=function(e,t,n){var r,o;for(o=e(t.data.slice(0,n)).length,r=t.previousSibling;r&&hu.isText(r);r=r.previousSibling)o+=e(r.data).length;return o},Yl=function(e,t,n,r,o){var i,a=r[o?"startContainer":"endContainer"],u=r[o?"startOffset":"endOffset"],c=[],s=0,l=e.getRoot();for(hu.isText(a)?c.push(n?Xl(t,a,u):u):(i=a.childNodes,u>=i.length&&i.length&&(s=1,u=Math.max(0,i.length-1)),c.push(e.nodeIndex(i[u],n)+s));a&&a!==l;a=a.parentNode)c.push(e.nodeIndex(a,n));return c},Gl=function(e,t,n,r){var o=t.dom,i={};return i.start=Yl(o,e,n,r,!0),t.isCollapsed()||(i.end=Yl(o,e,n,r,!1)),i},Zl=function(e,t,n){var r=0;return xr.each(e.select(t),function(e){if("all"!==e.getAttribute("data-mce-bogus"))return e!==n&&void r++}),r},Jl=function(e,t){var n,r,o,i=t?"start":"end";n=e[i+"Container"],r=e[i+"Offset"],hu.isElement(n)&&"TR"===n.nodeName&&(o=n.childNodes,n=o[Math.min(t?r:r-1,o.length-1)],n&&(r=t?0:n.childNodes.length,e["set"+(t?"Start":"End")](n,r)))},Ql=function(e){
return Jl(e,!0),Jl(e,!1),e},ef=function(e,t){var n;if(hu.isElement(e)&&(e=Js(e,t),Kl(e)))return e;if(ms(e)){if(hu.isText(e)&&fs(e)&&(e=e.parentNode),n=e.previousSibling,Kl(n))return n;if(n=e.nextSibling,Kl(n))return n}},tf=function(e){return ef(e.startContainer,e.startOffset)||ef(e.endContainer,e.endOffset)},nf=function(e,t,n){var r=n.getNode(),o=r?r.nodeName:null,i=n.getRng();if(Kl(r)||"IMG"===o)return{name:o,index:Zl(n.dom,o,r)};var a=tf(i);return a?(o=a.tagName,{name:o,index:Zl(n.dom,o,a)}):Gl(e,n,t,i)},rf=function(e){var t=e.getRng();return{start:Ul(e.dom.getRoot(),Rl.fromRangeStart(t)),end:Ul(e.dom.getRoot(),Rl.fromRangeEnd(t))}},of=function(e){return{rng:e.getRng()}},af=function(e,t,n){var r={"data-mce-type":"bookmark",id:t,style:"overflow:hidden;line-height:0px"};return n?e.create("span",r,"&#xFEFF;"):e.create("span",r)},uf=function(e,t){var n=e.dom,r=e.getRng(),o=n.uniqueId(),i=e.isCollapsed(),a=e.getNode(),u=a.nodeName;if("IMG"===u)return{name:u,index:Zl(n,u,a)};var c=Ql(r.cloneRange());if(!i){c.collapse(!1);var s=af(n,o+"_end",t);$l(n,c,s)}r=Ql(r),r.collapse(!0);var l=af(n,o+"_start",t);return $l(n,r,l),e.moveToBookmark({id:o,keep:1}),{id:o}},cf=function(e,t,n){return 2===t?nf(cs.trim,n,e):3===t?rf(e):t?of(e):uf(e,!1)},sf={getBookmark:cf,getUndoBookmark:t(nf,be,!0),getPersistentBookmark:uf},lf="_mce_caret",ff=function(e){return hu.isElement(e)&&e.id===lf},df=function(e,t){for(;t&&t!==e;){if(t.id===lf)return t;t=t.parentNode}return null},mf=hu.isElement,gf=hu.isText,pf=function(e){var t=e.parentNode;t&&t.removeChild(e)},hf=function(e){try{return e.nodeValue}catch(t){return""}},vf=function(e,t){0===t.length?pf(e):e.nodeValue=t},yf=function(e){var t=cs.trim(e);return{count:e.length-t.length,text:t}},bf=function(e,t){return Sf(e),t},Cf=function(e,t){var n=yf(e.data.substr(0,t.offset())),r=yf(e.data.substr(t.offset())),o=n.text+r.text;return o.length>0?(vf(e,o),Rl(e,t.offset()-n.count)):t},xf=function(e,t){var n=t.container(),r=je(st(n.childNodes),e).map(function(e){return e<t.offset()?Rl(n,t.offset()-1):t}).getOr(t);return Sf(e),r},wf=function(e,t){return gf(e)&&t.container()===e?Cf(e,t):bf(e,t)},Ef=function(e,t){return t.container()===e.parentNode?xf(e,t):bf(e,t)},Nf=function(e,t){return Rl.isTextPosition(t)?wf(e,t):Ef(e,t)},Sf=function(e){if(mf(e)&&ms(e)&&(gs(e)?e.removeAttribute("data-mce-caret"):pf(e)),gf(e)){var t=cs.trim(hf(e));vf(e,t)}},kf={removeAndReposition:Nf,remove:Sf},Tf=qo.detect().browser,Rf=hu.isContentEditableFalse,Af=function(e){return hu.isElement(e)&&/^(TD|TH)$/i.test(e.tagName)},Bf=function(e,t,n){var r,o,i,a,u,c=js(t.getBoundingClientRect(),n);return"BODY"===e.tagName?(r=e.ownerDocument.documentElement,o=e.scrollLeft||r.scrollLeft,i=e.scrollTop||r.scrollTop):(u=e.getBoundingClientRect(),o=e.scrollLeft-u.left,i=e.scrollTop-u.top),c.left+=o,c.right+=o,c.top+=i,c.bottom+=i,c.width=1,a=t.offsetWidth-t.clientWidth,a>0&&(n&&(a*=-1),c.left+=a,c.right+=a),c},Df=function(e){var t,n,r,o,i;for(t=Vr("*[contentEditable=false]",e),o=0;o<t.length;o++)n=t[o],r=n.previousSibling,xs(r)&&(i=r.data,1===i.length?r.parentNode.removeChild(r):r.deleteData(i.length-1,1)),r=n.nextSibling,Cs(r)&&(i=r.data,1===i.length?r.parentNode.removeChild(r):r.deleteData(0,1))},_f=function(e,t,n){var r,o,i=Cc(Re.none()),a=function(n,r){var a,s;if(u(),Af(r))return null;if(!t(r))return o=ps(r,n),s=r.ownerDocument.createRange(),Rf(o.nextSibling)?(s.setStart(o,0),s.setEnd(o,0)):(s.setStart(o,1),s.setEnd(o,1)),s;o=bs("p",r,n),a=Bf(e,r,n),Vr(o).css("top",a.top);var l=Vr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(a).appendTo(e)[0];return i.set(Re.some({caret:l,element:r,before:n})),i.get().each(function(e){n&&Vr(e.caret).addClass("mce-visual-caret-before")}),c(),s=r.ownerDocument.createRange(),s.setStart(o,0),s.setEnd(o,0),s},u=function(){Df(e),o&&(kf.remove(o),o=null),i.get().each(function(e){Vr(e.caret).remove(),i.set(Re.none())}),clearInterval(r)},c=function(){r=Pt.setInterval(function(){n()?Vr("div.mce-visual-caret",e).toggleClass("mce-visual-caret-hidden"):Vr("div.mce-visual-caret",e).addClass("mce-visual-caret-hidden")},500)},s=function(){i.get().each(function(t){var n=Bf(e,t.element,t.before);Vr(t.caret).css(n)})},l=function(){return Pt.clearInterval(r)},f=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:a,hide:u,getCss:f,reposition:s,destroy:l}},Of=function(){return Tf.isIE()||Tf.isEdge()||Tf.isFirefox()},Pf=function(e){return Rf(e)||hu.isTable(e)&&Of()},If=hu.isContentEditableFalse,Lf=hu.matchStyleValues("display","block table table-cell table-caption list-item"),Ff=ms,Mf=fs,Uf=hu.isElement,zf=Os,Vf=function(e){return e>0},jf=function(e){return e<0},Hf=function(e,t){for(var n;n=e(t);)if(!Mf(n))return n;return null},qf=function(e,t,n,r,o){var i=new b(e,r);if(jf(t)){if((If(e)||Mf(e))&&(e=Hf(i.prev,!0),n(e)))return e;for(;e=Hf(i.prev,o);)if(n(e))return e}if(Vf(t)){if((If(e)||Mf(e))&&(e=Hf(i.next,!0),n(e)))return e;for(;e=Hf(i.next,o);)if(n(e))return e}return null},Wf=function(e,t){for(;e&&e!==t;){if(Lf(e))return e;e=e.parentNode}return null},$f=function(e,t,n){return Wf(e.container(),n)===Wf(t.container(),n)},Kf=function(e,t){var n,r;return t?(n=t.container(),r=t.offset(),Uf(n)?n.childNodes[r+e]:null):null},Xf=function(e,t){var n=t.ownerDocument.createRange();return e?(n.setStartBefore(t),n.setEndBefore(t)):(n.setStartAfter(t),n.setEndAfter(t)),n},Yf=function(e,t,n){return Wf(t,e)===Wf(n,e)},Gf=function(e,t,n){var r,o;for(o=e?"previousSibling":"nextSibling";n&&n!==t;){if(r=n[o],Ff(r)&&(r=r[o]),If(r)){if(Yf(t,r,n))return r;break}if(zf(r))break;n=n.parentNode}return null},Zf=t(Xf,!0),Jf=t(Xf,!1),Qf=function(e,n,r){var o,i,a,u,c=t(Gf,!0,n),s=t(Gf,!1,n);if(i=r.startContainer,a=r.startOffset,fs(i)){if(Uf(i)||(i=i.parentNode),u=i.getAttribute("data-mce-caret"),"before"===u&&(o=i.nextSibling,Pf(o)))return Zf(o);if("after"===u&&(o=i.previousSibling,Pf(o)))return Jf(o)}if(!r.collapsed)return r;if(hu.isText(i)){if(Ff(i)){if(1===e){if(o=s(i))return Zf(o);if(o=c(i))return Jf(o)}if(e===-1){if(o=c(i))return Jf(o);if(o=s(i))return Zf(o)}return r}if(xs(i)&&a>=i.data.length-1)return 1===e&&(o=s(i))?Zf(o):r;if(Cs(i)&&a<=1)return e===-1&&(o=c(i))?Jf(o):r;if(a===i.data.length)return o=s(i),o?Zf(o):r;if(0===a)return o=c(i),o?Jf(o):r}return r},ed=function(e,t){return Re.from(Kf(e?0:-1,t)).filter(If)},td=function(e,t,n){var r=Qf(e,t,n);return e===-1?T.fromRangeStart(r):T.fromRangeEnd(r)},nd=function(e){return Re.from(e.getNode()).map(Go.fromDom)},rd=function(e){return Re.from(e.getNode(!0)).map(Go.fromDom)},od=function(e,t){for(;t=e(t);)if(t.isVisible())return t;return t},id=function(e,t){var n=$f(e,t);return!(n||!hu.isBr(e.getNode()))||n};!function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"}(Tl||(Tl={}));var ad=hu.isContentEditableFalse,ud=hu.isText,cd=hu.isElement,sd=hu.isBr,ld=Os,fd=Ms,dd=Us,md=function(e,t){for(var n=[];e&&e!==t;)n.push(e),e=e.parentNode;return n},gd=function(e,t){return e.hasChildNodes()&&t<e.childNodes.length?e.childNodes[t]:null},pd=function(e,t){if(Vf(e)){if(ld(t.previousSibling)&&!ud(t.previousSibling))return Rl.before(t);if(ud(t))return Rl(t,0)}if(jf(e)){if(ld(t.nextSibling)&&!ud(t.nextSibling))return Rl.after(t);if(ud(t))return Rl(t,t.data.length)}return jf(e)?sd(t)?Rl.before(t):Rl.after(t):Rl.before(t)},hd=function(e,t){var n=t.nextSibling;return n&&ld(n)?ud(n)?Rl(n,0):Rl.before(n):vd(Tl.Forwards,Rl.after(t),e)},vd=function(e,t,n){var r,o,i,a,u;if(!cd(n)||!t)return null;if(t.isEqual(Rl.after(n))&&n.lastChild){if(u=Rl.after(n.lastChild),jf(e)&&ld(n.lastChild)&&cd(n.lastChild))return sd(n.lastChild)?Rl.before(n.lastChild):u}else u=t;var c=u.container(),s=u.offset();if(ud(c)){if(jf(e)&&s>0)return Rl(c,--s);if(Vf(e)&&s<c.length)return Rl(c,++s);r=c}else{if(jf(e)&&s>0&&(o=gd(c,s-1),ld(o)))return!fd(o)&&(i=qf(o,e,dd,o))?ud(i)?Rl(i,i.data.length):Rl.after(i):ud(o)?Rl(o,o.data.length):Rl.before(o);if(Vf(e)&&s<c.childNodes.length&&(o=gd(c,s),ld(o)))return sd(o)?hd(n,o):!fd(o)&&(i=qf(o,e,dd,o))?ud(i)?Rl(i,0):Rl.before(i):ud(o)?Rl(o,0):Rl.after(o);r=o?o:u.getNode()}return(Vf(e)&&u.isAtEnd()||jf(e)&&u.isAtStart())&&(r=qf(r,e,ye(!0),n,!0),dd(r,n))?pd(e,r):(o=qf(r,e,dd,n),a=cr.last(Ye(md(c,n),ad)),!a||o&&a.contains(o)?o?pd(e,o):null:u=Vf(e)?Rl.after(a):Rl.before(a))},yd=function(e){return{next:function(t){return vd(Tl.Forwards,t,e)},prev:function(t){return vd(Tl.Backwards,t,e)}}},bd=function(e,t,n){var r=e?Rl.before(n):Rl.after(n);return kd(e,t,r)},Cd=function(e){return hu.isBr(e)?Rl.before(e):Rl.after(e)},xd=function(e){return Rl.isTextPosition(e)?0===e.offset():Os(e.getNode())},wd=function(e){if(Rl.isTextPosition(e)){var t=e.container();return e.offset()===t.data.length}return Os(e.getNode(!0))},Ed=function(e,t){return!Rl.isTextPosition(e)&&!Rl.isTextPosition(t)&&e.getNode()===t.getNode(!0)},Nd=function(e){return!Rl.isTextPosition(e)&&hu.isBr(e.getNode())},Sd=function(e,t,n){return e?!Ed(t,n)&&!Nd(t)&&wd(t)&&xd(n):!Ed(n,t)&&xd(t)&&wd(n)},kd=function(e,t,n){var r=yd(t);return Re.from(e?r.next(n):r.prev(n))},Td=function(e,t,n){return kd(e,t,n).bind(function(r){return $f(n,r,t)&&Sd(e,n,r)?kd(e,t,r):Re.some(r)})},Rd=function(e,t,n,r){return Td(e,t,n).bind(function(n){return r(n)?Rd(e,t,n,r):Re.some(n)})},Ad=function(e,t){var n=e?t.firstChild:t.lastChild;return hu.isText(n)?Re.some(Rl(n,e?0:n.data.length)):n?Os(n)?Re.some(e?Rl.before(n):Cd(n)):bd(e,t,n):Re.none()},Bd=t(kd,!0),Dd=t(kd,!1),_d={fromPosition:kd,nextPosition:Bd,prevPosition:Dd,navigate:Td,navigateIgnore:Rd,positionIn:Ad,firstPositionIn:t(Ad,!0),lastPositionIn:t(Ad,!1)},Od=function(e){return"string"==typeof e.start},Pd=function(e){return e.hasOwnProperty("rng")},Id=function(e){return e.hasOwnProperty("id")},Ld=function(e){return e.hasOwnProperty("name")},Fd=function(e){return xr.isArray(e.start)},Md=function(e,t){return hu.isElement(t)&&e.isBlock(t)&&!t.innerHTML&&!St.ie&&(t.innerHTML='<br data-mce-bogus="1" />'),t},Ud=function(e,t){var n,r;return n=e.createRng(),r=jl(e.getRoot(),t.start),n.setStart(r.container(),r.offset()),r=jl(e.getRoot(),t.end),n.setEnd(r.container(),r.offset()),n},zd=function(e,t){var n=e.ownerDocument.createTextNode(cs.ZWSP);e.appendChild(n),t.setStart(n,0),t.setEnd(n,0)},Vd=function(e){return e.hasChildNodes()===!1},jd=function(e,t){return _d.lastPositionIn(e).fold(function(){return!1},function(e){return t.setStart(e.container(),e.offset()),t.setEnd(e.container(),e.offset()),!0})},Hd=function(e,t,n){return!(!Vd(t)||!df(e,t))&&(zd(t,n),!0)},qd=function(e,t,n,r){var o,i,a,u,c=n[t?"start":"end"],s=e.getRoot();if(c){for(a=c[0],i=s,o=c.length-1;o>=1;o--){if(u=i.childNodes,Hd(s,i,r))return!0;if(c[o]>u.length-1)return!!Hd(s,i,r)||jd(i,r);i=u[c[o]]}3===i.nodeType&&(a=Math.min(c[0],i.nodeValue.length)),1===i.nodeType&&(a=Math.min(c[0],i.childNodes.length)),t?r.setStart(i,a):r.setEnd(i,a)}return!0},Wd=function(e){return hu.isText(e)&&e.data.length>0},$d=function(e,t,n){var r,o,i,a,u,c,s=e.get(n.id+"_"+t),l=n.keep;if(s){if(r=s.parentNode,"start"===t?(l?s.hasChildNodes()?(r=s.firstChild,o=1):Wd(s.nextSibling)?(r=s.nextSibling,o=0):Wd(s.previousSibling)?(r=s.previousSibling,o=s.previousSibling.data.length):(r=s.parentNode,o=e.nodeIndex(s)+1):o=e.nodeIndex(s),u=r,c=o):(l?s.hasChildNodes()?(r=s.firstChild,o=1):Wd(s.previousSibling)?(r=s.previousSibling,o=s.previousSibling.data.length):(r=s.parentNode,o=e.nodeIndex(s)):o=e.nodeIndex(s),u=r,c=o),!l){for(a=s.previousSibling,i=s.nextSibling,xr.each(xr.grep(s.childNodes),function(e){hu.isText(e)&&(e.nodeValue=e.nodeValue.replace(/\uFEFF/g,""))});s=e.get(n.id+"_"+t);)e.remove(s,!0);a&&i&&a.nodeType===i.nodeType&&hu.isText(a)&&!St.opera&&(o=a.nodeValue.length,a.appendData(i.nodeValue),e.remove(i),"start"===t?(u=a,c=o):(u=a,c=o))}return Re.some(Rl(u,c))}return Re.none()},Kd=function(e,t){return e.isSome()?e:t},Xd=function(e,t){var n=e.createRng();return qd(e,!0,t,n)&&qd(e,!1,t,n)?Re.some(n):Re.none()},Yd=function(e,t){var n=$d(e,"start",t),r=$d(e,"end",t);return tl(n,Kd(r,n),function(t,n){var r=e.createRng();return r.setStart(Md(e,t.container()),t.offset()),r.setEnd(Md(e,n.container()),n.offset()),r})},Gd=function(e,t){return Re.from(e.select(t.name)[t.index]).map(function(t){var n=e.createRng();return n.selectNode(t),n})},Zd=function(e,t){var n=e.dom;if(t){if(Fd(t))return Xd(n,t);if(Od(t))return Re.some(Ud(n,t));if(Id(t))return Yd(n,t);if(Ld(t))return Gd(n,t);if(Pd(t))return Re.some(t.rng)}return Re.none()},Jd={resolve:Zd},Qd=function(e,t,n){return sf.getBookmark(e,t,n)},em=function(e,t){Jd.resolve(e,t).each(function(t){e.setRng(t)})},tm=function(e){return hu.isElement(e)&&"SPAN"===e.tagName&&"bookmark"===e.getAttribute("data-mce-type")},nm={getBookmark:Qd,moveToBookmark:em,isBookmarkNode:tm},rm=function(e){return e&&/^(IMG)$/.test(e.nodeName)},om=function(e,t,n){var r,o,i,a=n.startOffset,u=n.startContainer;if((n.startContainer!==n.endContainer||!rm(n.startContainer.childNodes[n.startOffset]))&&1===u.nodeType)for(i=u.childNodes,a<i.length?(u=i[a],r=new b(u,e.getParent(u,e.isBlock))):(u=i[i.length-1],r=new b(u,e.getParent(u,e.isBlock)),r.next(!0)),o=r.current();o;o=r.next())if(3===o.nodeType&&!cm(o))return n.setStart(o,0),void t.setRng(n)},im=function(e,t,n){if(e)for(t=t?"nextSibling":"previousSibling",e=n?e:e[t];e;e=e[t])if(1===e.nodeType||!cm(e))return e},am=function(e,t){return t.nodeType&&(t=t.nodeName),!!e.schema.getTextBlockElements()[t.toLowerCase()]},um=function(e,t,n){return e.schema.isValidChild(t,n)},cm=function(e){return e&&3===e.nodeType&&/^([\t \r\n]+|)$/.test(e.nodeValue)},sm=function(e,t){return"string"!=typeof e?e=e(t):t&&(e=e.replace(/%(\w+)/g,function(e,n){return t[n]||e})),e},lm=function(e,t){return e=e||"",t=t||"",e=""+(e.nodeName||e),t=""+(t.nodeName||t),e.toLowerCase()===t.toLowerCase()},fm=function(e,t,n){return"color"!==n&&"backgroundColor"!==n||(t=e.toHex(t)),"fontWeight"===n&&700===t&&(t="bold"),"fontFamily"===n&&(t=t.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+t},dm=function(e,t,n){return fm(e,e.getStyle(t,n),n)},mm=function(e,t){var n;return e.getParent(t,function(t){return n=e.getStyle(t,"text-decoration"),n&&"none"!==n}),n},gm=function(e,t,n){return e.getParents(t,n,e.getRoot())},pm={isInlineBlock:rm,moveStart:om,getNonWhiteSpaceSibling:im,isTextBlock:am,isValid:um,isWhiteSpaceNode:cm,replaceVars:sm,isEq:lm,normalizeStyleValue:fm,getStyle:dm,getTextDecoration:mm,getParents:gm},hm=nm.isBookmarkNode,vm=pm.getParents,ym=pm.isWhiteSpaceNode,bm=pm.isTextBlock,Cm=function(e,t){for("undefined"==typeof t&&(t=3===e.nodeType?e.length:e.childNodes.length);e&&e.hasChildNodes();)e=e.childNodes[t],e&&(t=3===e.nodeType?e.length:e.childNodes.length);return{node:e,offset:t}},xm=function(e,t){var n=Cm(e,t);if(n.node){for(;n.node&&0===n.offset&&n.node.previousSibling;)n=Cm(n.node.previousSibling);n.node&&n.offset>0&&3===n.node.nodeType&&" "===n.node.nodeValue.charAt(n.offset-1)&&n.offset>1&&(e=n.node,e.splitText(n.offset-1))}return e},wm=function(e){return"BR"===e.nodeName&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},Em=function(e,t){for(var n=t;n;){if(1===n.nodeType&&e.getContentEditable(n))return"false"===e.getContentEditable(n)?n:t;n=n.parentNode}return t},Nm=function(e,t,n,r){var o,i,a=n.nodeValue;return"undefined"==typeof r&&(r=e?a.length:0),e?(o=a.lastIndexOf(" ",r),i=a.lastIndexOf(" ",r),o=o>i?o:i,o!==-1&&!t&&(o<r||!e)&&o<=a.length&&o++):(o=a.indexOf(" ",r),i=a.indexOf(" ",r),o=o!==-1&&(i===-1||o<i)?o:i),o},Sm=function(e,t,n,r,o,i){var a,u,c,s;if(3===n.nodeType){if(c=Nm(o,i,n,r),c!==-1)return{container:n,offset:c};s=n}for(a=new b(n,e.getParent(n,e.isBlock)||t);u=a[o?"prev":"next"]();)if(3!==u.nodeType||hm(u.parentNode)){if(e.isBlock(u)||pm.isEq(u,"BR"))break}else if(s=u,c=Nm(o,i,u),c!==-1)return{container:u,offset:c};if(s)return r=o?0:s.length,{container:s,offset:r}},km=function(e,t,n,r,o){var i,a,u,c;for(3===r.nodeType&&0===r.nodeValue.length&&r[o]&&(r=r[o]),i=vm(e,r),a=0;a<i.length;a++)for(u=0;u<t.length;u++)if(c=t[u],!("collapsed"in c&&c.collapsed!==n.collapsed)&&e.is(i[a],c.selector))return i[a];return r},Tm=function(e,t,n,r){var o,i=e.dom,a=i.getRoot();if(t[0].wrapper||(o=i.getParent(n,t[0].block,a)),!o){var u=i.getParent(n,"LI,TD,TH");o=i.getParent(3===n.nodeType?n.parentNode:n,function(t){return t!==a&&bm(e,t)},u)}if(o&&t[0].wrapper&&(o=vm(i,o,"ul,ol").reverse()[0]||o),!o)for(o=n;o[r]&&!i.isBlock(o[r])&&(o=o[r],!pm.isEq(o,"br")););return o||n},Rm=function(e,t,n,r,o,i,a){var u,c,s,l,f;if(u=c=a?n:o,l=a?"previousSibling":"nextSibling",f=e.getRoot(),3===u.nodeType&&!ym(u)&&(a?r>0:i<u.nodeValue.length))return u;for(;;){if(!t[0].block_expand&&e.isBlock(c))return c;for(s=c[l];s;s=s[l])if(!hm(s)&&!ym(s)&&!wm(s))return c;if(c===f||c.parentNode===f){u=c;break}c=c.parentNode}return u},Am=function(e,t,n,r){var o,i=t.startContainer,a=t.startOffset,u=t.endContainer,c=t.endOffset,s=e.dom;return 1===i.nodeType&&i.hasChildNodes()&&(i=Js(i,a),3===i.nodeType&&(a=0)),1===u.nodeType&&u.hasChildNodes()&&(u=Js(u,t.collapsed?c:c-1),3===u.nodeType&&(c=u.nodeValue.length)),i=Em(s,i),u=Em(s,u),(hm(i.parentNode)||hm(i))&&(i=hm(i)?i:i.parentNode,i=t.collapsed?i.previousSibling||i:i.nextSibling||i,3===i.nodeType&&(a=t.collapsed?i.length:0)),(hm(u.parentNode)||hm(u))&&(u=hm(u)?u:u.parentNode,u=t.collapsed?u.nextSibling||u:u.previousSibling||u,3===u.nodeType&&(c=t.collapsed?0:u.length)),t.collapsed&&(o=Sm(s,e.getBody(),i,a,!0,r),o&&(i=o.container,a=o.offset),o=Sm(s,e.getBody(),u,c,!1,r),o&&(u=o.container,c=o.offset)),n[0].inline&&(u=r?u:xm(u,c)),(n[0].inline||n[0].block_expand)&&(n[0].inline&&3===i.nodeType&&0!==a||(i=Rm(s,n,i,a,u,c,!0)),n[0].inline&&3===u.nodeType&&c!==u.nodeValue.length||(u=Rm(s,n,i,a,u,c,!1))),n[0].selector&&n[0].expand!==!1&&!n[0].inline&&(i=km(s,n,t,i,"previousSibling"),u=km(s,n,t,u,"nextSibling")),(n[0].block||n[0].selector)&&(i=Tm(e,n,i,"previousSibling"),u=Tm(e,n,u,"nextSibling"),n[0].block&&(s.isBlock(i)||(i=Rm(s,n,i,a,u,c,!0)),s.isBlock(u)||(u=Rm(s,n,i,a,u,c,!1)))),1===i.nodeType&&(a=s.nodeIndex(i),i=i.parentNode),1===u.nodeType&&(c=s.nodeIndex(u)+1,u=u.parentNode),{startContainer:i,startOffset:a,endContainer:u,endOffset:c}},Bm={expandRng:Am},Dm=xr.each,_m=function(e,t){var n=e.childNodes;return t--,t>n.length-1?t=n.length-1:t<0&&(t=0),n[t]||e},Om=function(e,t,n){var r,o,i,a,u,c,s,l=t.startContainer,f=t.startOffset,d=t.endContainer,m=t.endOffset;if(s=e.select("td[data-mce-selected],th[data-mce-selected]"),s.length>0)return void Dm(s,function(e){n([e])});var g=function(e){var t;return t=e[0],3===t.nodeType&&t===l&&f>=t.nodeValue.length&&e.splice(0,1),t=e[e.length-1],0===m&&e.length>0&&t===d&&3===t.nodeType&&e.splice(e.length-1,1),e},p=function(e,t,n){for(var r=[];e&&e!==n;e=e[t])r.push(e);return r},h=function(e,t){do{if(e.parentNode===t)return e;e=e.parentNode}while(e)},v=function(e,t,r){var o=r?"nextSibling":"previousSibling";for(a=e,u=a.parentNode;a&&a!==t;a=u)u=a.parentNode,c=p(a===e?a:a[o],o),c.length&&(r||c.reverse(),n(g(c)))};if(1===l.nodeType&&l.hasChildNodes()&&(l=l.childNodes[f]),1===d.nodeType&&d.hasChildNodes()&&(d=_m(d,m)),l===d)return n(g([l]));for(r=e.findCommonAncestor(l,d),a=l;a;a=a.parentNode){if(a===d)return v(l,r,!0);if(a===r)break}for(a=d;a;a=a.parentNode){if(a===l)return v(d,r);if(a===r)break}o=h(l,r)||l,i=h(d,r)||d,v(l,o,!0),c=p(o===l?o:o.nextSibling,"nextSibling",i===d?i.nextSibling:i),c.length&&n(g(c)),v(d,i)},Pm={walk:Om},Im=function(){return"\ufeff"},Lm=R(oi,"text"),Fm=function(e){return Lm.get(e)},Mm=function(e){return oi(e)&&Fm(e)===Im()},Um=function(e,t,n,r){return Xi(t).fold(function(){return"skipping"},function(o){return"br"===r||Mm(t)?"valid":Hc(t)?"existing":ff(t)?"caret":pm.isValid(e,n,r)&&pm.isValid(e,ei(o),n)?"valid":"invalid-child"})},zm=function(e){return 3===e.startContainer.nodeType&&e.startContainer.nodeValue.length>=e.startOffset&&" "===e.startContainer.nodeValue[e.startOffset]},Vm=function(e,t){var n=Bm.expandRng(e,t,[{inline:!0}],zm(t));t.setStart(n.startContainer,n.startOffset),t.setEnd(n.endContainer,n.endOffset),e.selection.setRng(t)},jm=function(e,t,n,r){var o=t.uid,i=void 0===o?Zc("mce-annotation"):o,a=S(t,["uid"]),u=Go.fromTag("span",e);Rc(u,Uc()),pi(u,""+Vc(),i),pi(u,""+zc(),n);var c=r(i,a),s=c.attributes,l=void 0===s?{}:s,f=c.classes,d=void 0===f?[]:f;return hi(u,l),Jc(u,d),u},Hm=function(e,t,n,r,o){var i=[],a=jm(e.getDoc(),o,n,r),u=Cc(Re.none()),c=function(){u.set(Re.none())},s=function(){return u.get().getOrThunk(function(){var e=es(a);return i.push(e),u.set(Re.some(e)),e})},l=function(e){$e(e,f)},f=function(t){var n=Um(e,t,"span",ei(t));switch(n){case"invalid-child":c();var r=ea(t);l(r),c();break;case"valid":var o=s();dc(t,o);break;case"skipping":case"existing":case"caret":}},d=function(e){var t=We(e,Go.fromDom);l(t)};return Pm.walk(e.dom,t,function(e){c(),d(e)}),i},qm=function(e,t,n,r){e.undoManager.transact(function(){var o=e.selection.getRng();if(o.collapsed&&Vm(e,o),e.selection.getRng().collapsed){var i=jm(e.getDoc(),r,t,n.decorate);os(i," "),e.selection.getRng().insertNode(i.dom()),e.selection.select(i.dom())}else{var a=sf.getPersistentBookmark(e.selection,!1),u=e.selection.getRng();Hm(e,u,t,n.decorate,r),e.selection.moveToBookmark(a)}})},Wm=function(e){return e.firstChild&&e.firstChild===e.lastChild},$m=function(e){return"br"===e.name||" "===e.value},Km=function(e,t){var n=e.getBlockElements();return n[t.name]&&Wm(t)&&$m(t.firstChild)},Xm=function(e,t){var n=e.getNonEmptyElements();return t&&(t.isEmpty(n)||Km(e,t))},Ym=function(e,t){var n=t.firstChild,r=t.lastChild;return n&&"meta"===n.name&&(n=n.next),r&&"mce_marker"===r.attr("id")&&(r=r.prev),Xm(e,r)&&(r=r.prev),!(!n||n!==r)&&("ul"===n.name||"ol"===n.name)},Gm=function(e){var t=e.firstChild,n=e.lastChild;return t&&"META"===t.nodeName&&t.parentNode.removeChild(t),n&&"mce_marker"===n.id&&n.parentNode.removeChild(n),e},Zm=function(e,t,n){var r=t.serialize(n),o=e.createFragment(r);return Gm(o)},Jm=function(e){return xr.grep(e.childNodes,function(e){return"LI"===e.nodeName})},Qm=function(e){return" "===e.data||hu.isBr(e)},eg=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&Qm(e.firstChild)},tg=function(e){return!e.firstChild||eg(e)},ng=function(e){return e.length>0&&tg(e[e.length-1])?e.slice(0,-1):e},rg=function(e,t){var n=e.getParent(t,e.isBlock);return n&&"LI"===n.nodeName?n:null},og=function(e,t){return!!rg(e,t)},ig=function(e,t){var n=t.cloneRange(),r=t.cloneRange();return n.setStartBefore(e),r.setEndAfter(e),[n.cloneContents(),r.cloneContents()]},ag=function(e,t){var n=Rl.before(e),r=yd(t),o=r.next(n);return o?o.toRange():null},ug=function(e,t){var n=Rl.after(e),r=yd(t),o=r.prev(n);return o?o.toRange():null},cg=function(e,t,n,r){var o=ig(e,r),i=e.parentNode;return i.insertBefore(o[0],e),xr.each(t,function(t){i.insertBefore(t,e)}),i.insertBefore(o[1],e),i.removeChild(e),ug(t[t.length-1],n)},sg=function(e,t,n){var r=e.parentNode;return xr.each(t,function(t){r.insertBefore(t,e)}),ag(e,n)},lg=function(e,t,n,r){return r.insertAfter(t.reverse(),e),ug(t[0],n)},fg=function(e,t,n,r){var o=Zm(t,e,r),i=rg(t,n.startContainer),a=ng(Jm(o.firstChild)),u=1,c=2,s=t.getRoot(),l=function(e){var r=Rl.fromRangeStart(n),o=yd(t.getRoot()),a=e===u?o.prev(r):o.next(r);return!a||rg(t,a.getNode())!==i};return l(u)?sg(i,a,s):l(c)?lg(i,a,s,t):cg(i,a,s,n)},dg={isListFragment:Ym,insertAtCaret:fg,isParentBlockLi:og,trimListItems:ng,listItems:Jm},mg=xr.each,gg=function(e){this.compare=function(t,n){if(t.nodeName!==n.nodeName)return!1;var r=function(t){var n={};return mg(e.getAttribs(t),function(r){var o=r.nodeName.toLowerCase();0!==o.indexOf("_")&&"style"!==o&&0!==o.indexOf("data-")&&(n[o]=e.getAttrib(t,o))}),n},o=function(e,t){var n,r;for(r in e)if(e.hasOwnProperty(r)){if(n=t[r],"undefined"==typeof n)return!1;if(e[r]!==n)return!1;delete t[r]}for(r in t)if(t.hasOwnProperty(r))return!1;return!0};return!!o(r(t),r(n))&&(!!o(e.parseStyle(e.getAttrib(t,"style")),e.parseStyle(e.getAttrib(n,"style")))&&(!nm.isBookmarkNode(t)&&!nm.isBookmarkNode(n)))}},pg=function(e){for(var t=[],n=e.dom();n;)t.push(Go.fromDom(n)),n=n.lastChild;return t},hg=function(e){var t=Oc(e,"br"),n=Ye(pg(e).slice(-1),Ha);t.length===n.length&&$e(n,hc)},vg=function(e){pc(e),fc(e,Go.fromHtml('<br data-mce-bogus="1">'))},yg=function(e){return oi(e)?" "===Fm(e):Ha(e)},bg=function(e){return 1===Ye(ea(e),yg).length},Cg=function(e){ra(e).each(function(t){Gi(t).each(function(n){Va(e)&&Ha(t)&&Va(n)&&hc(t)})})},xg={removeTrailingBr:hg,fillWithPaddingBr:vg,isPaddedElement:bg,trimBlockTrailingBr:Cg},wg=xr.makeMap,Eg=function(t,n,r,o){var i=e.document.createRange();return i.setStart(t,n),i.setEnd(r,o),i},Ng=function(e){var t=Rl.fromRangeStart(e),n=Rl.fromRangeEnd(e),r=e.commonAncestorContainer;return _d.fromPosition(!1,r,n).map(function(o){return!$f(t,n,r)&&$f(t,o,r)?Eg(t.container(),t.offset(),o.container(),o.offset()):e}).getOr(e)},Sg=function(e){return e.collapsed?e:Ng(e)},kg={normalize:Sg},Tg=function(e,t){return hu.isText(e)&&" "===e.nodeValue[t-1]},Rg=function(e,t){var n,r;n=e.startContainer,r=e.startOffset;var o=function(e){return n[e]&&3===n[e].nodeType};return 3===n.nodeType&&(r>0?t=t.replace(/^&nbsp;/," "):o("previousSibling")||(t=t.replace(/^ /,"&nbsp;")),r<n.length?t=t.replace(/&nbsp;(<br>|)$/," "):o("nextSibling")||(t=t.replace(/(&nbsp;| )(<br>|)$/,"&nbsp;"))),t},Ag=function(e,t){var n,r;return n=e.startContainer,r=e.startOffset,3===n.nodeType&&e.collapsed&&(" "===n.data[r]?(n.deleteData(r,1),/[\u00a0| ]$/.test(t)||(t+=" ")):" "===n.data[r-1]&&(n.deleteData(r-1,1),/[\u00a0| ]$/.test(t)||(t=" "+t))),t},Bg=hu.matchNodeNames("td th"),Dg=function(e,t){var n=e.selection.getRng(),r=n.startContainer,o=n.startOffset;n.collapsed&&Tg(r,o)&&hu.isText(r)&&(r.insertData(o-1," "),r.deleteData(o,1),n.setStart(r,o),n.setEnd(r,o),e.selection.setRng(n)),e.selection.setContent(t)},_g=function(e,t,n){if("all"===n.getAttribute("data-mce-bogus"))n.parentNode.insertBefore(e.dom.createFragment(t),n);else{var r=n.firstChild,o=n.lastChild;!r||r===o&&"BR"===r.nodeName?e.dom.setHTML(n,t):Dg(e,t)}},Og=function(e,t){Re.from(e.getParent(t,"td,th")).map(Go.fromDom).each(xg.trimBlockTrailingBr)},Pg=function(e,t){var n=e.schema.getTextInlineElements(),r=e.dom;if(t){var o=e.getBody(),i=new gg(r);xr.each(r.select("*[data-mce-fragment]"),function(e){for(var t=e.parentNode;t&&t!==o;t=t.parentNode)n[e.nodeName.toLowerCase()]&&i.compare(t,e)&&r.remove(e,!0)})}},Ig=function(e){for(var t=e;t=t.walk();)1===t.type&&t.attr("data-mce-fragment","1")},Lg=function(e){xr.each(e.getElementsByTagName("*"),function(e){e.removeAttribute("data-mce-fragment")})},Fg=function(e){return!!e.getAttribute("data-mce-fragment")},Mg=function(e,t){return t&&!e.schema.getShortEndedElements()[t.nodeName]},Ug=function(e,t){var n,r,o,i,a,u=e.dom,c=e.selection,s=function(t){for(var n=e.getBody();t&&t!==n;t=t.parentNode)if("false"===e.dom.getContentEditable(t))return t;return null};if(t){if(e.selection.scrollIntoView(t),n=s(t))return u.remove(t),void c.select(n);var l=u.createRng();i=t.previousSibling,i&&3===i.nodeType?(l.setStart(i,i.nodeValue.length),St.ie||(a=t.nextSibling,a&&3===a.nodeType&&(i.appendData(a.data),a.parentNode.removeChild(a)))):(l.setStartBefore(t),l.setEndBefore(t));var f=function(t){var n=Rl.fromRangeStart(t),r=yd(e.getBody());if(n=r.next(n))return n.toRange()};r=u.getParent(t,u.isBlock),u.remove(t),r&&u.isEmpty(r)&&(e.$(r).empty(),l.setStart(r,0),l.setEnd(r,0),Bg(r)||Fg(r)||!(o=f(l))?u.add(r,u.create("br",{"data-mce-bogus":"1"})):(l=o,u.remove(r))),c.setRng(l)}},zg=function(e,t,n){var r,o,i,a,u,c,s,l,f,d,m,g=e.selection,p=e.dom;if(/^ | $/.test(t)&&(t=Rg(g.getRng(),t)),r=e.parser,m=n.merge,o=D({validate:e.settings.validate},e.schema),d='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;&#x200B;</span>',c={content:t,format:"html",selection:!0,paste:n.paste},c=e.fire("BeforeSetContent",c),c.isDefaultPrevented())return void e.fire("SetContent",{content:c.content,format:"html",selection:!0,paste:n.paste});t=c.content,t.indexOf("{$caret}")===-1&&(t+="{$caret}"),t=t.replace(/\{\$caret\}/,d),l=g.getRng();var h=l.startContainer||(l.parentElement?l.parentElement():null),v=e.getBody();h===v&&g.isCollapsed()&&p.isBlock(v.firstChild)&&Mg(e,v.firstChild)&&p.isEmpty(v.firstChild)&&(l=p.createRng(),l.setStart(v.firstChild,0),l.setEnd(v.firstChild,0),g.setRng(l)),g.isCollapsed()||(e.selection.setRng(kg.normalize(e.selection.getRng())),e.getDoc().execCommand("Delete",!1,null),t=Ag(e.selection.getRng(),t)),i=g.getNode();var y={context:i.nodeName.toLowerCase(),data:n.data,insert:!0};if(u=r.parse(t,y),n.paste===!0&&dg.isListFragment(e.schema,u)&&dg.isParentBlockLi(p,i))return l=dg.insertAtCaret(o,p,e.selection.getRng(),u),e.selection.setRng(l),void e.fire("SetContent",c);if(Ig(u),f=u.lastChild,"mce_marker"===f.attr("id"))for(s=f,f=f.prev;f;f=f.walk(!0))if(3===f.type||!p.isBlock(f.name)){e.schema.isValidChild(f.parent.name,"span")&&f.parent.insert(s,f,"br"===f.name);break}if(e._selectionOverrides.showBlockCaretContainer(i),y.invalid){for(Dg(e,d),i=g.getNode(),a=e.getBody(),9===i.nodeType?i=f=a:f=i;f!==a;)i=f,f=f.parentNode;t=i===a?a.innerHTML:p.getOuterHTML(i),t=o.serialize(r.parse(t.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return o.serialize(u)}))),i===a?p.setHTML(a,t):p.setOuterHTML(i,t)}else t=o.serialize(u),_g(e,t,i);Pg(e,m),Ug(e,p.get("mce_marker")),Lg(e.getBody()),Og(e.dom,e.selection.getStart()),e.fire("SetContent",c),e.addVisual()},Vg=function(e){var t;return"string"!=typeof e?(t=xr.extend({paste:e.paste,data:{paste:e.paste}},e),{content:e.content,details:t}):{content:e,details:{}}},jg=function(e,t){var n=Vg(t);zg(e,n.content,n.details)},Hg={insertAtCaret:jg},qg=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Wg=function(e){return qg.test(e)},$g=function(e,t,n){var r=e.getParam(t,n);if(r.indexOf("=")!==-1){var o=e.getParam(t,"","hash");return o.hasOwnProperty(e.id)?o[e.id]:n}return r},Kg=function(e){return e.getParam("iframe_attrs",{})},Xg=function(e){return e.getParam("doctype","<!DOCTYPE html>")},Yg=function(e){return e.getParam("document_base_url","")},Gg=function(e){return $g(e,"body_id","tinymce")},Zg=function(e){return $g(e,"body_class","")},Jg=function(e){return e.getParam("content_security_policy","")},Qg=function(e){return e.getParam("br_in_pre",!0)},ep=function(e){if(e.getParam("force_p_newlines",!1))return"p";var t=e.getParam("forced_root_block","p");return t===!1?"":t},tp=function(e){return e.getParam("forced_root_block_attrs",{})},np=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},rp=function(e){return e.getParam("no_newline_selector","")},op=function(e){return e.getParam("keep_styles",!0)},ip=function(e){return e.getParam("end_container_on_empty_block",!1)},ap=function(e){return xr.explode(e.getParam("font_size_style_values",""))},up=function(e){return xr.explode(e.getParam("font_size_classes",""))},cp=function(e){return e.getParam("images_dataimg_filter",ye(!0),"function")},sp=function(e){return e.getParam("automatic_uploads",!0,"boolean")},lp=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},fp=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},dp=function(e){return e.getParam("images_upload_url","","string")},mp=function(e){return e.getParam("images_upload_base_path","","string")},gp=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},pp=function(e){return e.getParam("images_upload_handler",null,"function")},hp=function(e){return e.getParam("content_css_cors",!1,"boolean")},vp=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},yp={getIframeAttrs:Kg,getDocType:Xg,getDocumentBaseUrl:Yg,getBodyId:Gg,getBodyClass:Zg,getContentSecurityPolicy:Jg,shouldPutBrInPre:Qg,getForcedRootBlock:ep,getForcedRootBlockAttrs:tp,getBrNewLineSelector:np,getNoNewLineSelector:rp,shouldKeepStyles:op,shouldEndContainerOnEmptyBlock:ip,getFontStyleValues:ap,
getFontSizeClasses:up,getImagesDataImgFilter:cp,isAutomaticUploadsEnabled:sp,shouldReuseFileName:lp,shouldReplaceBlobUris:fp,getImageUploadUrl:dp,getImageUploadBasePath:mp,getImagesUploadCredentials:gp,getImagesUploadHandler:pp,shouldUseContentCssCors:hp,getInlineBoundarySelector:vp},bp=function(e,t){return Li(Go.fromDom(t),yp.getInlineBoundarySelector(e))},Cp=function(e){return"rtl"===tc.DOM.getStyle(e,"direction",!0)||Wg(e.textContent)},xp=function(e,t,n){return Ye(tc.DOM.getParents(n.container(),"*",t),e)},wp=function(e,t,n){var r=xp(e,t,n);return Re.from(r[r.length-1])},Ep=function(e,t,n){var r=Wf(t,e),o=Wf(n,e);return r&&r===o},Np=function(e){return hs(e)||vs(e)},Sp=function(e,t){if(!t)return t;var n=t.container(),r=t.offset();return e?ds(n)?hu.isText(n.nextSibling)?Rl(n.nextSibling,0):Rl.after(n):hs(t)?Rl(n,r+1):t:ds(n)?hu.isText(n.previousSibling)?Rl(n.previousSibling,n.previousSibling.data.length):Rl.before(n):vs(t)?Rl(n,r-1):t},kp=t(Sp,!0),Tp=t(Sp,!1),Rp={isInlineTarget:bp,findRootInline:wp,isRtl:Cp,isAtZwsp:Np,normalizePosition:Sp,normalizeForwards:kp,normalizeBackwards:Tp,hasSameParentBlock:Ep},Ap=function(e){return function(t){return zi(e,Go.fromDom(t.dom().parentNode))}},Bp=function(e,t){return qi(e,t)?Ic(t,function(e){return qa(e)||$a(e)},Ap(e)):Re.none()},Dp=function(e){var t=e.getBody(),n=t.firstChild&&e.dom.isBlock(t.firstChild)?t.firstChild:t;e.selection.setCursorLocation(n,0)},_p=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),Dp(e))},Op=function(e,t,n){return tl(_d.firstPositionIn(n),_d.lastPositionIn(n),function(r,o){var i=Rp.normalizePosition(!0,r),a=Rp.normalizePosition(!1,o),u=Rp.normalizePosition(!1,t);return e?_d.nextPosition(n,u).map(function(e){return e.isEqual(a)&&t.isEqual(i)}).getOr(!1):_d.prevPosition(n,u).map(function(e){return e.isEqual(i)&&t.isEqual(a)}).getOr(!1)}).getOr(!0)},Pp={getParentBlock:Bp,paddEmptyBody:_p,willDeleteLastPositionInElement:Op},Ip=function(e,t,n){return Lc(e,t,n).isSome()},Lp=function(e,n){var r=Go.fromDom(e),o=Go.fromDom(n);return Ip(o,"pre,code",t(zi,r))},Fp=function(e,t){return hu.isText(t)&&/^[ \t\r\n]*$/.test(t.data)&&Lp(e,t)===!1},Mp=function(e){return hu.isElement(e)&&"A"===e.nodeName&&e.hasAttribute("name")},Up=function(e,t){return Os(t)&&Fp(e,t)===!1||Mp(t)||zp(t)},zp=hu.hasAttribute("data-mce-bookmark"),Vp=hu.hasAttribute("data-mce-bogus"),jp=hu.hasAttributeValue("data-mce-bogus","all"),Hp=function(e){var t,n,r=0;if(Up(e,e))return!1;if(n=e.firstChild,!n)return!0;t=new b(n,e);do if(jp(n))n=t.next(!0);else if(Vp(n))n=t.next();else if(hu.isBr(n))r++,n=t.next();else{if(Up(e,n))return!1;n=t.next()}while(n);return r<=1},qp=function(e){return Hp(e.dom())},Wp={isEmpty:qp},$p=ki("block","position"),Kp=ki("from","to"),Xp=function(e,t){var n=Go.fromDom(e),r=Go.fromDom(t.container());return Pp.getParentBlock(n,r).map(function(e){return $p(e,t)})},Yp=function(e){return zi(e.from().block(),e.to().block())===!1},Gp=function(e){return Xi(e.from().block()).bind(function(t){return Xi(e.to().block()).filter(function(e){return zi(t,e)})}).isSome()},Zp=function(e){return hu.isContentEditableFalse(e.from().block().dom())===!1&&hu.isContentEditableFalse(e.to().block().dom())===!1},Jp=function(e,t,n){return hu.isBr(n.position().getNode())&&Wp.isEmpty(n.block())===!1?_d.positionIn(!1,n.block().dom()).bind(function(r){return r.isEqual(n.position())?_d.fromPosition(t,e,r).bind(function(t){return Xp(e,t)}):Re.some(n)}).getOr(n):n},Qp=function(e,t,n){var r=Xp(e,Rl.fromRangeStart(n)),o=r.bind(function(n){return _d.fromPosition(t,e,n.position()).bind(function(n){return Xp(e,n).map(function(n){return Jp(e,t,n)})})});return tl(r,o,Kp).filter(function(e){return Yp(e)&&Gp(e)&&Zp(e)})},eh=function(e,t,n){return n.collapsed?Qp(e,t,n):Re.none()},th={read:eh},nh=function(e){return e.slice(0,-1)},rh=function(e,t,n){return qi(t,e)?nh(Yi(e,function(e){return n(e)||zi(e,t)})):[]},oh=function(e,t){return rh(e,t,ye(!1))},ih=function(e,t){return[e].concat(oh(e,t))},ah={parentsUntil:rh,parents:oh,parentsAndSelf:ih},uh=function(e){var t=ea(e);return Qe(t,Va).fold(function(){return t},function(e){return t.slice(0,e)})},ch=function(e){var t=uh(e);return $e(t,hc),t},sh=function(e,t){var n=ah.parentsAndSelf(t,e);return Je(n.reverse(),Wp.isEmpty).each(hc)},lh=function(e){return 0===Ye(Ji(e),function(e){return!Wp.isEmpty(e)}).length},fh=function(e,t,n,r){if(Wp.isEmpty(n))return xg.fillWithPaddingBr(n),_d.firstPositionIn(n.dom());lh(r)&&Wp.isEmpty(t)&&cc(r,Go.fromTag("br"));var o=_d.prevPosition(n.dom(),Rl.before(r.dom()));return $e(ch(t),function(e){cc(r,e)}),sh(e,t),o},dh=function(e,t,n){if(Wp.isEmpty(n))return hc(n),Wp.isEmpty(t)&&xg.fillWithPaddingBr(t),_d.firstPositionIn(t.dom());var r=_d.lastPositionIn(n.dom());return $e(ch(t),function(e){fc(n,e)}),sh(e,t),r},mh=function(e,t){var n=ah.parentsAndSelf(t,e);return Re.from(n[n.length-1])},gh=function(e,t){return qi(t,e)?mh(t,e):Re.none()},ph=function(e,t){_d.positionIn(e,t.dom()).map(function(e){return e.getNode()}).map(Go.fromDom).filter(Ha).each(hc)},hh=function(e,n,r){return ph(!0,n),ph(!1,r),gh(n,r).fold(t(dh,e,n,r),t(fh,e,n,r))},vh=function(e,t,n,r){return t?hh(e,r,n):hh(e,n,r)},yh={mergeBlocks:vh},bh=function(e,t){var n,r=Go.fromDom(e.getBody());return n=th.read(r.dom(),t,e.selection.getRng()).bind(function(e){return yh.mergeBlocks(r,t,e.from().block(),e.to().block())}),n.each(function(t){e.selection.setRng(t.toRange())}),n.isSome()},Ch={backspaceDelete:bh},xh=function(e,t){var n=t.getRng();return tl(Pp.getParentBlock(e,Go.fromDom(n.startContainer)),Pp.getParentBlock(e,Go.fromDom(n.endContainer)),function(r,o){return zi(r,o)===!1&&(n.deleteContents(),yh.mergeBlocks(e,!0,r,o).each(function(e){t.setRng(e.toRange())}),!0)}).getOr(!1)},wh=function(e,n){var r=Go.fromDom(n),o=t(zi,e);return Pc(r,Ya,o).isSome()},Eh=function(e,t){return wh(e,t.startContainer)||wh(e,t.endContainer)},Nh=function(e,t){var n=_d.prevPosition(e.dom(),Rl.fromRangeStart(t)).isNone(),r=_d.nextPosition(e.dom(),Rl.fromRangeEnd(t)).isNone();return!Eh(e,t)&&n&&r},Sh=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},kh=function(e){var t=Go.fromDom(e.getBody()),n=e.selection.getRng();return Nh(t,n)?Sh(e):xh(t,e.selection)},Th=function(e,t){return!e.selection.isCollapsed()&&kh(e)},Rh={backspaceDelete:Th},Ah=function(t){if(!Oe(t))throw new Error("cases must be an array");if(0===t.length)throw new Error("there must be at least one case");var n=[],r={};return $e(t,function(o,i){var a=ii(o);if(1!==a.length)throw new Error("one and only one name per case");var u=a[0],c=o[u];if(void 0!==r[u])throw new Error("duplicate key detected:"+u);if("cata"===u)throw new Error("cannot have a case named cata (sorry)");if(!Oe(c))throw new Error("case arguments must be an array");n.push(u),r[u]=function(){var r=arguments.length;if(r!==c.length)throw new Error("Wrong number of arguments to case "+u+". Expected "+c.length+" ("+c+"), got "+r);for(var o=new Array(r),a=0;a<o.length;a++)o[a]=arguments[a];var s=function(e){var t=ii(e);if(n.length!==t.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+"\nActual: "+t.join(","));var r=nt(n,function(e){return He(t,e)});if(!r)throw new Error("Not all branches were specified when using match. Specified: "+t.join(", ")+"\nRequired: "+n.join(", "));return e[u].apply(null,o)};return{fold:function(){if(arguments.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+arguments.length);var e=arguments[i];return e.apply(null,o)},match:s,log:function(t){e.console.log(t,{constructors:n,constructor:u,params:o})}}}}),r},Bh={generate:Ah},Dh=function(e){return nd(e).exists(Ha)},_h=function(e,t,n){var r=Ye(ah.parentsAndSelf(Go.fromDom(n.container()),t),Va),o=ut(r).getOr(t);return _d.fromPosition(e,o.dom(),n).filter(Dh)},Oh=function(e,t){return nd(t).exists(Ha)||_h(!0,e,t).isSome()},Ph=function(e,t){return rd(t).exists(Ha)||_h(!1,e,t).isSome()},Ih=t(_h,!1),Lh=t(_h,!0),Fh=function(e){return function(t){return e===t}},Mh=Fh(" "),Uh=function(e){return/^[\r\n\t ]$/.test(e)},zh=function(e){return!Uh(e)&&!Mh(e)},Vh=function(e,t,n){return Re.from(n.container()).filter(hu.isText).exists(function(r){var o=e?0:-1;return t(r.data.charAt(n.offset()+o))})},jh=t(Vh,!0,Uh),Hh=t(Vh,!1,Uh),qh=function(e){var t=e.container();return hu.isText(t)&&0===t.data.length},Wh=function(e,t){var n=Kf(e,t);return hu.isContentEditableFalse(n)&&!hu.isBogusAll(n)},$h=t(Wh,0),Kh=t(Wh,-1),Xh=function(e,t){return hu.isTable(Kf(e,t))},Yh=t(Xh,0),Gh=t(Xh,-1),Zh=function(e){return Ya(Go.fromDom(e))||$a(Go.fromDom(e))},Jh=Bh.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),Qh=function(e,t){var n=t.getNode(e===!1),r=e?"after":"before";return hu.isElement(n)&&n.getAttribute("data-mce-caret")===r},ev=function(e,t,n,r){var o=function(t){return ja(Go.fromDom(t))&&!$f(n,r,e)};return ed(!t,n).fold(function(){return ed(t,r).fold(ye(!1),o)},o)},tv=function(e,t,n,r){var o=r.getNode(t===!1);return Pp.getParentBlock(Go.fromDom(e),Go.fromDom(n.getNode())).map(function(e){return Wp.isEmpty(e)?Jh.remove(e.dom()):Jh.moveToElement(o)}).orThunk(function(){return Re.some(Jh.moveToElement(o))})},nv=function(e,t,n){return _d.fromPosition(t,e,n).bind(function(r){return Zh(r.getNode())?Re.none():ev(e,t,n,r)?Re.none():t&&hu.isContentEditableFalse(r.getNode())?tv(e,t,n,r):t===!1&&hu.isContentEditableFalse(r.getNode(!0))?tv(e,t,n,r):t&&Kh(n)?Re.some(Jh.moveToPosition(r)):t===!1&&$h(n)?Re.some(Jh.moveToPosition(r)):Re.none()})},rv=function(e,t){return e&&hu.isContentEditableFalse(t.nextSibling)?Re.some(Jh.moveToElement(t.nextSibling)):e===!1&&hu.isContentEditableFalse(t.previousSibling)?Re.some(Jh.moveToElement(t.previousSibling)):Re.none()},ov=function(e,t,n){return n.fold(function(e){return Re.some(Jh.remove(e))},function(e){return Re.some(Jh.moveToElement(e))},function(n){return $f(t,n,e)?Re.none():Re.some(Jh.moveToPosition(n))})},iv=function(e,t,n){return Qh(t,n)?rv(t,n.getNode(t===!1)).fold(function(){return nv(e,t,n)},Re.some):nv(e,t,n).bind(function(t){return ov(e,n,t)})},av=function(e,t,n){var r=Qf(t?1:-1,e,n),o=Rl.fromRangeStart(r),i=Go.fromDom(e);return t===!1&&Kh(o)?Re.some(Jh.remove(o.getNode(!0))):t&&$h(o)?Re.some(Jh.remove(o.getNode())):t===!1&&$h(o)&&Ph(i,o)?Ih(i,o).map(function(e){return Jh.remove(e.getNode())}):t&&Kh(o)&&Oh(i,o)?Lh(i,o).map(function(e){return Jh.remove(e.getNode())}):iv(e,t,o)},uv=function(e){return" \f\n\r\t\x0B".indexOf(e)!==-1},cv=function(e,t,n){var r=Ze(e.split(""),function(r,o){return uv(o)||" "===o?r.previousCharIsSpace||""===r.str&&t||r.str.length===e.length-1&&n?{previousCharIsSpace:!1,str:r.str+" "}:{previousCharIsSpace:!0,str:r.str+" "}:{previousCharIsSpace:!1,str:r.str+o}},{previousCharIsSpace:!1,str:""});return r.str},sv=function(e,t,n){if(0!==n){var r=e.data.slice(t,t+n),o=t+n>=e.data.length,i=0===t;e.replaceData(t,n,cv(r,i,o))}},lv=function(e,t){var n=e.data.slice(t),r=n.length-Po(n).length;return sv(e,t,r)},fv=function(e,t){var n=e.data.slice(0,t),r=n.length-Io(n).length;return sv(e,t-r,r)},dv=function(e,t,n){var r=Io(e.data).length;return e.appendData(t.data),hc(Go.fromDom(t)),n&&lv(e,r),e},mv=function(e,t){var n=e.container(),r=e.offset();return Rl.isTextPosition(e)===!1&&n===t.parentNode&&r>Rl.before(t).offset()},gv=function(e,t){return mv(t,e)?Rl(t.container(),t.offset()-1):t},pv=function(e){return hu.isText(e)?Rl(e,0):Rl.before(e)},hv=function(e){return hu.isText(e)?Rl(e,e.data.length):Rl.after(e)},vv=function(e){return Os(e.previousSibling)?Re.some(hv(e.previousSibling)):e.previousSibling?_d.lastPositionIn(e.previousSibling):Re.none()},yv=function(e){return Os(e.nextSibling)?Re.some(pv(e.nextSibling)):e.nextSibling?_d.firstPositionIn(e.nextSibling):Re.none()},bv=function(e,t){var n=Rl.before(t.previousSibling?t.previousSibling:t.parentNode);return _d.prevPosition(e,n).fold(function(){return _d.nextPosition(e,Rl.after(t))},Re.some)},Cv=function(e,t){return _d.nextPosition(e,Rl.after(t)).fold(function(){return _d.prevPosition(e,Rl.before(t))},Re.some)},xv=function(e,t){return vv(t).orThunk(function(){return yv(t)}).orThunk(function(){return bv(e,t)})},wv=function(e,t){return yv(t).orThunk(function(){return vv(t)}).orThunk(function(){return Cv(e,t)})},Ev=function(e,t,n){return e?wv(t,n):xv(t,n)},Nv=function(e,n,r){return Ev(e,n,r).map(t(gv,r))},Sv=function(e,t,n){n.fold(function(){e.focus()},function(n){e.selection.setRng(n.toRange(),t)})},kv=function(e){return function(t){return t.dom()===e}},Tv=function(e,t){return t&&e.schema.getBlockElements().hasOwnProperty(ei(t))},Rv=function(e){if(Wp.isEmpty(e)){var t=Go.fromHtml('<br data-mce-bogus="1">');return pc(e),fc(e,t),Re.some(Rl.before(t.dom()))}return Re.none()},Av=function(e,t,n){var r=Gi(e).filter(oi),o=Zi(e).filter(oi);return hc(e),nl(r,o,t,function(e,t,r){var o=e.dom(),i=t.dom(),a=o.data.length;return dv(o,i,n),r.container()===i?Rl(o,a):r}).orThunk(function(){return n&&(r.each(function(e){return fv(e.dom(),e.dom().length)}),o.each(function(e){return lv(e.dom(),0)})),t})},Bv=function(e,t){return fi(e.schema.getTextInlineElements(),ei(t))},Dv=function(e,n,r,o){void 0===o&&(o=!0);var i=Nv(n,e.getBody(),r.dom()),a=Pc(r,t(Tv,e),kv(e.getBody())),u=Av(r,i,Bv(e,r));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):a.bind(Rv).fold(function(){o&&Sv(e,n,u)},function(t){o&&Sv(e,n,Re.some(t))})},_v={deleteElement:Dv},Ov=function(e,t){return function(n){return e._selectionOverrides.hideFakeCaret(),_v.deleteElement(e,t,Go.fromDom(n)),!0}},Pv=function(e,t){return function(n){var r=t?Rl.before(n):Rl.after(n);return e.selection.setRng(r.toRange()),!0}},Iv=function(e){return function(t){return e.selection.setRng(t.toRange()),!0}},Lv=function(e,t){var n=av(e.getBody(),t,e.selection.getRng()).map(function(n){return n.fold(Ov(e,t),Pv(e,t),Iv(e))});return n.getOr(!1)},Fv=function(e){$e(Oc(e,".mce-offscreen-selection"),hc)},Mv=function(e,t){var n=e.selection.getNode();return!!hu.isContentEditableFalse(n)&&(Fv(Go.fromDom(e.getBody())),_v.deleteElement(e,t,Go.fromDom(e.selection.getNode())),Pp.paddEmptyBody(e),!0)},Uv=function(e,t){for(;t&&t!==e;){if(hu.isContentEditableTrue(t)||hu.isContentEditableFalse(t))return t;t=t.parentNode}return null},zv=function(e){var t,n=Uv(e.getBody(),e.selection.getNode());return hu.isContentEditableTrue(n)&&e.dom.isBlock(n)&&e.dom.isEmpty(n)&&(t=e.dom.create("br",{"data-mce-bogus":"1"}),e.dom.setHTML(n,""),n.appendChild(t),e.selection.setRng(Rl.before(t).toRange())),!0},Vv=function(e,t){return e.selection.isCollapsed()?Lv(e,t):Mv(e,t)},jv={backspaceDelete:Vv,paddEmptyElement:zv},Hv=hu.isText,qv=function(e){return Hv(e)&&e.data[0]===cs.ZWSP},Wv=function(e){return Hv(e)&&e.data[e.data.length-1]===cs.ZWSP},$v=function(e){return e.ownerDocument.createTextNode(cs.ZWSP)},Kv=function(e){if(Hv(e.previousSibling))return Wv(e.previousSibling)?e.previousSibling:(e.previousSibling.appendData(cs.ZWSP),e.previousSibling);if(Hv(e))return qv(e)?e:(e.insertData(0,cs.ZWSP),e);var t=$v(e);return e.parentNode.insertBefore(t,e),t},Xv=function(e){if(Hv(e.nextSibling))return qv(e.nextSibling)?e.nextSibling:(e.nextSibling.insertData(0,cs.ZWSP),e.nextSibling);if(Hv(e))return Wv(e)?e:(e.appendData(cs.ZWSP),e);var t=$v(e);return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t),t},Yv=function(e,t){return e?Kv(t):Xv(t)},Gv=t(Yv,!0),Zv=t(Yv,!1),Jv=function(e,t){return hu.isText(e.container())?Yv(t,e.container()):Yv(t,e.getNode())},Qv=function(e,t){var n=t.get();return n&&e.container()===n&&ds(n)},ey=function(e,t){return t.fold(function(t){kf.remove(e.get());var n=Gv(t);return e.set(n),Re.some(Rl(n,n.length-1))},function(t){return _d.firstPositionIn(t).map(function(t){if(Qv(t,e))return Rl(e.get(),1);kf.remove(e.get());var n=Jv(t,!0);return e.set(n),Rl(n,1)})},function(t){return _d.lastPositionIn(t).map(function(t){if(Qv(t,e))return Rl(e.get(),e.get().length-1);kf.remove(e.get());var n=Jv(t,!1);return e.set(n),Rl(n,n.length-1)})},function(t){kf.remove(e.get());var n=Zv(t);return e.set(n),Re.some(Rl(n,1))})},ty={renderCaret:ey},ny=function(e,t){for(var n=0;n<e.length;n++){var r=e[n].apply(null,t);if(r.isSome())return r}return Re.none()},ry={evaluateUntil:ny},oy=Bh.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),iy=function(e,t){var n=Wf(t,e);return n?n:e},ay=function(e,n,r){var o=Rp.normalizeForwards(r),i=iy(n,o.container());return Rp.findRootInline(e,i,o).fold(function(){return _d.nextPosition(i,o).bind(t(Rp.findRootInline,e,i)).map(function(e){return oy.before(e)})},Re.none)},uy=function(e,t){return null===df(e,t)},cy=function(e,n,r){return Rp.findRootInline(e,n,r).filter(t(uy,n))},sy=function(e,t,n){var r=Rp.normalizeBackwards(n);return cy(e,t,r).bind(function(e){var t=_d.prevPosition(e,r);return t.isNone()?Re.some(oy.start(e)):Re.none()})},ly=function(e,t,n){var r=Rp.normalizeForwards(n);return cy(e,t,r).bind(function(e){var t=_d.nextPosition(e,r);return t.isNone()?Re.some(oy.end(e)):Re.none()})},fy=function(e,n,r){var o=Rp.normalizeBackwards(r),i=iy(n,o.container());return Rp.findRootInline(e,i,o).fold(function(){return _d.prevPosition(i,o).bind(t(Rp.findRootInline,e,i)).map(function(e){return oy.after(e)})},Re.none)},dy=function(e){return Rp.isRtl(gy(e))===!1},my=function(e,t,n){var r=ry.evaluateUntil([ay,sy,ly,fy],[e,t,n]);return r.filter(dy)},gy=function(e){return e.fold(be,be,be,be)},py=function(e){return e.fold(ye("before"),ye("start"),ye("end"),ye("after"))},hy=function(e){return e.fold(oy.before,oy.before,oy.after,oy.after)},vy=function(e){return e.fold(oy.start,oy.start,oy.end,oy.end)},yy=function(e,t){return py(e)===py(t)&&gy(e)===gy(t)},by=function(e,t,n,r,o,i){return tl(Rp.findRootInline(t,n,r),Rp.findRootInline(t,n,o),function(t,r){return t!==r&&Rp.hasSameParentBlock(n,t,r)?oy.after(e?t:r):i}).getOr(i)},Cy=function(e,t){return e.fold(ye(!0),function(e){return!yy(e,t)})},xy=function(e,n,r,o,i){var a=Rp.normalizePosition(e,i),u=_d.fromPosition(e,r,a).map(t(Rp.normalizePosition,e)),c=u.fold(function(){return o.map(hy)},function(i){return my(n,r,i).map(t(by,e,n,r,a,i)).filter(t(Cy,o))});return c.filter(dy)},wy=function(e,t){return e?t.fold(ve(Re.some,oy.start),Re.none,ve(Re.some,oy.after),Re.none):t.fold(Re.none,ve(Re.some,oy.before),Re.none,ve(Re.some,oy.end))},Ey=function(e,n,r,o){var i=Rp.normalizePosition(e,o),a=my(n,r,i);return my(n,r,i).bind(t(wy,e)).orThunk(function(){return xy(e,n,r,a,o)})},Ny={readLocation:my,findLocation:Ey,prevLocation:t(Ey,!1),nextLocation:t(Ey,!0),getElement:gy,outside:hy,inside:vy},Sy=function(e){return Le(e.selection.getSel().modify)},ky=function(e,t,n){var r=e?1:-1;return t.setRng(Rl(n.container(),n.offset()+r).toRange()),t.getSel().modify("move",e?"forward":"backward","word"),!0},Ty=function(e,t){var n=t.selection.getRng(),r=e?Rl.fromRangeEnd(n):Rl.fromRangeStart(n);return!!Sy(t)&&(e&&hs(r)?ky(!0,t.selection,r):!(e||!vs(r))&&ky(!1,t.selection,r))},Ry={hasSelectionModifyApi:Sy,moveByWord:Ty},Ay=function(e,t){var n=e.dom.createRng();n.setStart(t.container(),t.offset()),n.setEnd(t.container(),t.offset()),e.selection.setRng(n)},By=function(e){return e.settings.inline_boundaries!==!1},Dy=function(e,t){e?t.setAttribute("data-mce-selected","inline-boundary"):t.removeAttribute("data-mce-selected")},_y=function(e,t,n){return ty.renderCaret(t,n).map(function(t){return Ay(e,t),n})},Oy=function(e,n,r){var o=e.getBody(),i=Rl.fromRangeStart(e.selection.getRng()),a=t(Rp.isInlineTarget,e),u=Ny.findLocation(r,a,o,i);return u.bind(function(t){return _y(e,n,t)})},Py=function(e,n,r){var o=Ye(n.select('*[data-mce-selected="inline-boundary"]'),e),i=Ye(r,e);$e(ot(o,i),t(Dy,!1)),$e(ot(i,o),t(Dy,!0))},Iy=function(e,t){if(e.selection.isCollapsed()&&e.composing!==!0&&t.get()){var n=Rl.fromRangeStart(e.selection.getRng());Rl.isTextPosition(n)&&Rp.isAtZwsp(n)===!1&&(Ay(e,kf.removeAndReposition(t.get(),n)),t.set(null))}},Ly=function(e,t,n,r){if(t.selection.isCollapsed()){var o=Ye(r,e);$e(o,function(r){var o=Rl.fromRangeStart(t.selection.getRng());Ny.readLocation(e,t.getBody(),o).bind(function(e){return _y(t,n,e)})})}},Fy=function(e,t,n){return function(){return!!By(e)&&Oy(e,t,n).isSome()}},My=function(e,t,n){return function(){return!!By(t)&&Ry.moveByWord(e,t)}},Uy=function(e){var n=Cc(null),r=t(Rp.isInlineTarget,e);return e.on("NodeChange",function(t){By(e)&&(Py(r,e.dom,t.parents),Iy(e,n),Ly(r,e,n,t.parents))}),n},zy=t(My,!0),Vy=t(My,!1),jy={move:Fy,moveNextWord:zy,movePrevWord:Vy,setupSelectedState:Uy,setCaretPosition:Ay},Hy=function(e){return e.settings.inline_boundaries!==!1},qy=function(t,n){var r=e.document.createRange();return r.setStart(t.container(),t.offset()),r.setEnd(n.container(),n.offset()),r},Wy=function(e){return tl(_d.firstPositionIn(e),_d.lastPositionIn(e),function(t,n){var r=Rp.normalizePosition(!0,t),o=Rp.normalizePosition(!1,n);return _d.nextPosition(e,r).map(function(e){return e.isEqual(o)}).getOr(!0)}).getOr(!0)},$y=function(e,t){return function(n){return ty.renderCaret(t,n).map(function(t){return jy.setCaretPosition(e,t),!0}).getOr(!1)}},Ky=function(e,n,r,o){var i=e.getBody(),a=t(Rp.isInlineTarget,e);e.undoManager.ignore(function(){e.selection.setRng(qy(r,o)),e.execCommand("Delete"),Ny.readLocation(a,i,Rl.fromRangeStart(e.selection.getRng())).map(Ny.inside).map($y(e,n))}),e.nodeChanged()},Xy=function(e,t){var n=Wf(t,e);return n?n:e},Yy=function(e,n,r,o){var i=Xy(e.getBody(),o.container()),a=t(Rp.isInlineTarget,e),u=Ny.readLocation(a,i,o);return u.bind(function(e){return r?e.fold(ye(Re.some(Ny.inside(e))),Re.none,ye(Re.some(Ny.outside(e))),Re.none):e.fold(Re.none,ye(Re.some(Ny.outside(e))),Re.none,ye(Re.some(Ny.inside(e))))}).map($y(e,n)).getOrThunk(function(){var t=_d.navigate(r,i,o),c=t.bind(function(e){return Ny.readLocation(a,i,e)});return u.isSome()&&c.isSome()?Rp.findRootInline(a,i,o).map(function(t){return!!Wy(t)&&(_v.deleteElement(e,r,Go.fromDom(t)),!0)}).getOr(!1):c.bind(function(i){return t.map(function(t){return r?Ky(e,n,o,t):Ky(e,n,t,o),!0})}).getOr(!1)})},Gy=function(e,t,n){if(e.selection.isCollapsed()&&Hy(e)){var r=Rl.fromRangeStart(e.selection.getRng());return Yy(e,t,n,r)}return!1},Zy={backspaceDelete:Gy},Jy=ki("start","end"),Qy=ki("rng","table","cells"),eb=Bh.generate([{removeTable:["element"]},{emptyCells:["cells"]}]),tb=function(e){return t(zi,e)},nb=function(e,t){return Mc(Go.fromDom(e),"td,th",t)},rb=function(e,t){return Lc(e,"table",t)},ob=function(e){return zi(e.start(),e.end())===!1},ib=function(e,t){return rb(e.start(),t).bind(function(n){return rb(e.end(),t).bind(function(e){return zi(n,e)?Re.some(n):Re.none()})})},ab=function(e){return Oc(e,"td,th")},ub=function(e,t){return rb(e.start(),t).bind(function(t){return ct(ab(t)).map(function(t){return Jy(e.start(),t)})})},cb=function(e,t){var n=nb(t.startContainer,e),r=nb(t.endContainer,e);return t.collapsed?Re.none():tl(n,r,Jy).fold(function(){return n.fold(function(){return r.bind(function(t){return rb(t,e).bind(function(e){return ut(ab(e)).map(function(e){return Jy(e,t)})})})},function(t){return rb(t,e).bind(function(e){return ct(ab(e)).map(function(e){return Jy(t,e)})})})},function(t){return sb(e,t)?Re.none():ub(t,e)})},sb=function(e,t){return ib(t,e).isSome()},lb=function(e,t){var n=nb(e.startContainer,t),r=nb(e.endContainer,t);return tl(n,r,Jy).filter(ob).filter(function(e){return sb(t,e)}).orThunk(function(){return cb(t,e)})},fb=function(e,t){return ib(e,t).map(function(t){return Qy(e,t,ab(t))})},db=function(e,t){var n=tb(e);return lb(t,n).bind(function(e){return fb(e,n)})},mb=function(e,t){return Qe(e,function(e){return zi(e,t)})},gb=function(e){return tl(mb(e.cells(),e.rng().start()),mb(e.cells(),e.rng().end()),function(t,n){return e.cells().slice(t,n+1)})},pb=function(e){return gb(e).map(function(t){var n=e.cells();return t.length===n.length?eb.removeTable(e.table()):eb.emptyCells(t)})},hb=function(e){return eb.emptyCells(e)},vb=function(e,t){return db(e,t).bind(pb)},yb={getActionFromRange:vb,getActionFromCells:hb},bb=function(e){var t=[];if(e)for(var n=0;n<e.rangeCount;n++)t.push(e.getRangeAt(n));return t},Cb=function(e){return tt(e,function(e){var t=Zs(e);return t?[Go.fromDom(t)]:[]})},xb=function(e){return bb(e).length>1},wb={getRanges:bb,getSelectedNodes:Cb,hasMultipleRanges:xb},Eb=function(e){return Ye(wb.getSelectedNodes(e),Ya)},Nb=function(e){var t=Oc(e,"td[data-mce-selected],th[data-mce-selected]");return t},Sb=function(e,t){var n=Nb(t),r=Eb(e);return n.length>0?n:r},kb=function(e){return Sb(wb.getRanges(e.selection.getSel()),Go.fromDom(e.getBody()))},Tb={getCellsFromRanges:Eb,getCellsFromElement:Nb,getCellsFromElementOrRanges:Sb,getCellsFromEditor:kb},Rb=function(e,t){return $e(t,xg.fillWithPaddingBr),e.selection.setCursorLocation(t[0].dom(),0),!0},Ab=function(e,t){return _v.deleteElement(e,!1,t),!0},Bb=function(e,n,r){return yb.getActionFromRange(n,r).map(function(n){return n.fold(t(Ab,e),t(Rb,e))})},Db=function(e,t){return Fb(e,t)},_b=function(e,t,n,r){return Ib(t,r).fold(function(){return Bb(e,t,n)},function(t){return Db(e,t)}).getOr(!1)},Ob=function(e,t){var n=Go.fromDom(e.getBody()),r=e.selection.getRng(),o=Tb.getCellsFromEditor(e);return 0!==o.length?Rb(e,o):_b(e,n,r,t)},Pb=function(e,t){return Je(ah.parentsAndSelf(t,e),Ya)},Ib=function(e,t){return Je(ah.parentsAndSelf(t,e),function(e){return"caption"===ei(e)})},Lb=function(e,t,n,r,o){return _d.navigate(n,e.getBody(),o).bind(function(e){return Pb(t,Go.fromDom(e.getNode())).map(function(e){return zi(e,r)===!1})})},Fb=function(e,t){return xg.fillWithPaddingBr(t),e.selection.setCursorLocation(t.dom(),0),Re.some(!0)},Mb=function(e,t,n,r){return _d.firstPositionIn(e.dom()).bind(function(o){return _d.lastPositionIn(e.dom()).map(function(e){return t?n.isEqual(o)&&r.isEqual(e):n.isEqual(e)&&r.isEqual(o)})}).getOr(!0)},Ub=function(e,t){return Fb(e,t)},zb=function(e,t,n){return Ib(e,Go.fromDom(n.getNode())).map(function(e){return zi(e,t)===!1})},Vb=function(e,t,n,r,o){return _d.navigate(n,e.getBody(),o).bind(function(i){return Mb(r,n,o,i)?Ub(e,r):zb(t,r,i)}).or(Re.some(!0))},jb=function(e,t,n,r){var o=Rl.fromRangeStart(e.selection.getRng());return Pb(n,r).bind(function(r){return Wp.isEmpty(r)?Fb(e,r):Lb(e,n,t,r,o)})},Hb=function(e,t,n,r){var o=Rl.fromRangeStart(e.selection.getRng());return Wp.isEmpty(r)?Fb(e,r):Vb(e,n,t,r,o)},qb=function(e,t,n){var r=Go.fromDom(e.getBody());return Ib(r,n).fold(function(){return jb(e,t,r,n)},function(n){return Hb(e,t,r,n)}).getOr(!1)},Wb=function(e,t){var n=Go.fromDom(e.selection.getStart(!0)),r=Tb.getCellsFromEditor(e);return e.selection.isCollapsed()&&0===r.length?qb(e,t,n):Ob(e,n)},$b={backspaceDelete:Wb},Kb=pm.isEq,Xb=function(e,t,n){var r=e.formatter.get(n);if(r)for(var o=0;o<r.length;o++)if(r[o].inherit===!1&&e.dom.is(t,r[o].selector))return!0;return!1},Yb=function(e,t,n,r){var o=e.dom.getRoot();return t!==o&&(t=e.dom.getParent(t,function(t){return!!Xb(e,t,n)||(t.parentNode===o||!!Jb(e,t,n,r,!0))}),Jb(e,t,n,r))},Gb=function(e,t,n){return!!Kb(t,n.inline)||(!!Kb(t,n.block)||(n.selector?1===t.nodeType&&e.is(t,n.selector):void 0))},Zb=function(e,t,n,r,o,i){var a,u,c,s=n[r];if(n.onmatch)return n.onmatch(t,n,r);if(s)if("undefined"==typeof s.length){for(a in s)if(s.hasOwnProperty(a)){if(u="attributes"===r?e.getAttrib(t,a):pm.getStyle(e,t,a),o&&!u&&!n.exact)return;if((!o||n.exact)&&!Kb(u,pm.normalizeStyleValue(e,pm.replaceVars(s[a],i),a)))return}}else for(c=0;c<s.length;c++)if("attributes"===r?e.getAttrib(t,s[c]):pm.getStyle(e,t,s[c]))return n;return n},Jb=function(e,t,n,r,o){var i,a,u,c,s=e.formatter.get(n),l=e.dom;if(s&&t)for(a=0;a<s.length;a++)if(i=s[a],Gb(e.dom,t,i)&&Zb(l,t,i,"attributes",o,r)&&Zb(l,t,i,"styles",o,r)){if(c=i.classes)for(u=0;u<c.length;u++)if(!e.dom.hasClass(t,c[u]))return;return i}},Qb=function(e,t,n,r){var o;return r?Yb(e,r,t,n):(r=e.selection.getNode(),!!Yb(e,r,t,n)||(o=e.selection.getStart(),!(o===r||!Yb(e,o,t,n))))},eC=function(e,t,n){var r,o=[],i={};return r=e.selection.getStart(),e.dom.getParent(r,function(r){var a,u;for(a=0;a<t.length;a++)u=t[a],!i[u]&&Jb(e,r,u,n)&&(i[u]=!0,o.push(u))},e.dom.getRoot()),o},tC=function(e,t){var n,r,o,i,a,u=e.formatter.get(t),c=e.dom;if(u)for(n=e.selection.getStart(),r=pm.getParents(c,n),i=u.length-1;i>=0;i--){if(a=u[i].selector,!a||u[i].defaultBlock)return!0;for(o=r.length-1;o>=0;o--)if(c.is(r[o],a))return!0}return!1},nC={matchNode:Jb,matchName:Gb,match:Qb,matchAll:eC,canApply:tC,matchesUnInheritedFormatSelector:Xb},rC=function(e,t){return e.splitText(t)},oC=function(e){var t=e.startContainer,n=e.startOffset,r=e.endContainer,o=e.endOffset;return t===r&&hu.isText(t)?n>0&&n<t.nodeValue.length&&(r=rC(t,n),t=r.previousSibling,o>n?(o-=n,t=r=rC(r,o).previousSibling,o=r.nodeValue.length,n=0):o=0):(hu.isText(t)&&n>0&&n<t.nodeValue.length&&(t=rC(t,n),n=0),hu.isText(r)&&o>0&&o<r.nodeValue.length&&(r=rC(r,o).previousSibling,o=r.nodeValue.length)),{startContainer:t,startOffset:n,endContainer:r,endOffset:o}},iC={split:oC},aC=cs.ZWSP,uC="_mce_caret",cC=function(e,t){return e.importNode(t,!0)},sC=function(e){for(var t=[];e;){if(3===e.nodeType&&e.nodeValue!==aC||e.childNodes.length>1)return[];1===e.nodeType&&t.push(e),e=e.firstChild}return t},lC=function(e){return sC(e).length>0},fC=function(e){var t;if(e)for(t=new b(e,e),e=t.current();e;e=t.next())if(3===e.nodeType)return e;return null},dC=function(e){var t=Go.fromTag("span");return hi(t,{id:uC,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&fc(t,Go.fromText(aC)),t},mC=function(e){var t=fC(e);return t&&t.nodeValue.charAt(0)===aC&&t.deleteData(0,1),t},gC=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(lC(t))_v.deleteElement(e,!1,Go.fromDom(t),n);else{var i=o.getRng(),a=r.getParent(t,r.isBlock),u=mC(t);i.startContainer===u&&i.startOffset>0&&i.setStart(u,i.startOffset-1),i.endContainer===u&&i.endOffset>0&&i.setEnd(u,i.endOffset-1),r.remove(t,!0),a&&r.isEmpty(a)&&xg.fillWithPaddingBr(Go.fromDom(a)),o.setRng(i)}},pC=function(e,t,n){void 0===n&&(n=!0);var r=e.dom,o=e.selection;if(t)gC(e,t,n);else if(t=df(e.getBody(),o.getStart()),!t)for(;t=r.get(uC);)gC(e,t,!1)},hC=function(e,n,r){var o=e.dom,i=o.getParent(r,t(pm.isTextBlock,e));i&&o.isEmpty(i)?r.parentNode.replaceChild(n,r):(xg.removeTrailingBr(Go.fromDom(r)),o.isEmpty(r)?r.parentNode.replaceChild(n,r):o.insertAfter(n,r))},vC=function(e,t){return e.appendChild(t),t},yC=function(e,t){var n=Ge(e,function(e,t){return vC(e,t.cloneNode(!1))},t);return vC(n,n.ownerDocument.createTextNode(aC))},bC=function(e,t,n){var r,o,i,a,u,c,s,l=e.selection;r=l.getRng(!0),a=r.startOffset,c=r.startContainer,s=c.nodeValue,o=df(e.getBody(),l.getStart()),o&&(i=fC(o));var f=/[^\s\u00a0\u00ad\u200b\ufeff]/;s&&a>0&&a<s.length&&f.test(s.charAt(a))&&f.test(s.charAt(a-1))?(u=l.getBookmark(),r.collapse(!0),r=Bm.expandRng(e,r,e.formatter.get(t)),r=iC.split(r),e.formatter.apply(t,n,r),l.moveToBookmark(u)):(o&&i.nodeValue===aC?e.formatter.apply(t,n,o):(o=cC(e.getDoc(),dC(!0).dom()),i=o.firstChild,r.insertNode(o),a=1,e.formatter.apply(t,n,o)),l.setCursorLocation(i,a))},CC=function(e,t,n,r){var o,i,a,u,c,s,l,f=e.dom,d=e.selection,m=[],g=d.getRng();for(o=g.startContainer,i=g.startOffset,c=o,3===o.nodeType&&(i!==o.nodeValue.length&&(u=!0),c=c.parentNode);c;){if(nC.matchNode(e,c,t,n,r)){s=c;break}c.nextSibling&&(u=!0),m.push(c),c=c.parentNode}if(s)if(u){a=d.getBookmark(),g.collapse(!0);var p=Bm.expandRng(e,g,e.formatter.get(t),!0);p=iC.split(p),e.formatter.remove(t,n,p),d.moveToBookmark(a)}else{l=df(e.getBody(),s);var h=dC(!1).dom(),v=yC(m,h);l?hC(e,h,l):hC(e,h,s),gC(e,l,!1),d.setCursorLocation(v,1),f.isEmpty(s)&&f.remove(s)}},xC=function(e,t){var n=e.selection,r=e.getBody();pC(e,null,!1),8!==t&&46!==t||!n.isCollapsed()||n.getStart().innerHTML!==aC||pC(e,df(r,n.getStart())),37!==t&&39!==t||pC(e,df(r,n.getStart()))},wC=function(e){e.on("mouseup keydown",function(t){xC(e,t.keyCode)})},EC=function(e,t){var n=dC(!1),r=yC(t,n.dom());return cc(Go.fromDom(e),n),hc(Go.fromDom(e)),Rl(r,0)},NC=function(e,t){var n=e.schema.getTextInlineElements();return n.hasOwnProperty(ei(t))&&!ff(t.dom())&&!hu.isBogus(t.dom());
},SC=function(e){return ff(e.dom())&&lC(e.dom())},kC=function(e,t){var n=ah.parentsAndSelf(t,e);return Qe(n,Va).fold(ye(n),function(e){return n.slice(0,e)})},TC=function(e){return 1===ea(e).length},RC=function(e,n,r,o){var i=t(NC,n),a=We(Ye(o,i),function(e){return e.dom()});if(0===a.length)_v.deleteElement(n,e,r);else{var u=EC(r.dom(),a);n.selection.setRng(u.toRange())}},AC=function(e,t){var n=Go.fromDom(e.getBody()),r=Go.fromDom(e.selection.getStart()),o=Ye(kC(n,r),TC);return ct(o).map(function(n){var r=Rl.fromRangeStart(e.selection.getRng());return!(!Pp.willDeleteLastPositionInElement(t,r,n.dom())||SC(n))&&(RC(t,e,n,o),!0)}).getOr(!1)},BC=function(e,t){return!!e.selection.isCollapsed()&&AC(e,t)},DC={backspaceDelete:BC},_C=function(e){for(var t=0,n=0,r=e;r&&r.nodeType;)t+=r.offsetLeft||0,n+=r.offsetTop||0,r=r.offsetParent;return{x:t,y:n}},OC=function(e,t,n){var r={elm:t,alignToTop:n};return e.fire("scrollIntoView",r),r.isDefaultPrevented()},PC=function(e,t,n){var r,o,i,a,u=e.dom,c=u.getRoot(),s=0;if(!OC(e,t,n)&&hu.isElement(t)){if(n===!1&&(s=t.offsetHeight),"BODY"!==c.nodeName){var l=e.selection.getScrollContainer();if(l)return r=_C(t).y-_C(l).y+s,a=l.clientHeight,i=l.scrollTop,void((r<i||r+25>i+a)&&(l.scrollTop=r<i?r:r-a+25))}o=u.getViewPort(e.getWin()),r=u.getPos(t).y+s,i=o.y,a=o.h,(r<o.y||r+25>i+a)&&e.getWin().scrollTo(0,r<i?r:r-a+25)}},IC=function(e){if(e.inline)return e.getBody().getBoundingClientRect();var t=e.getWin();return{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight,width:t.innerWidth,height:t.innerHeight}},LC=function(e,t,n){e.inline?(e.getBody().scrollLeft+=t,e.getBody().scrollTop+=n):e.getWin().scrollBy(t,n)},FC=function(e,t){ut(T.fromRangeStart(t).getClientRects()).each(function(t){var n=IC(e),r=Gs(n,t),o=4,i=r.x>0?r.x+o:r.x-o,a=r.y>0?r.y+o:r.y-o;LC(e,0!==r.x?i:0,0!==r.y?a:0)})},MC={scrollElementIntoView:PC,scrollRangeIntoView:FC},UC=hu.isContentEditableTrue,zC=hu.isContentEditableFalse,VC=function(e,t,n,r,o){return t._selectionOverrides.showCaret(e,n,r,o)},jC=function(e){var t=e.ownerDocument.createRange();return t.selectNode(e),t},HC=function(e,t){var n=e.fire("BeforeObjectSelected",{target:t});return n.isDefaultPrevented()?null:jC(t)},qC=function(e,t,n){var r=Qf(1,e.getBody(),t),o=Rl.fromRangeStart(r),i=o.getNode();if(zC(i))return VC(1,e,i,!o.isAtEnd(),!1);var a=o.getNode(!0);if(zC(a))return VC(1,e,a,!1,!1);var u=e.dom.getParent(o.getNode(),function(e){return zC(e)||UC(e)});return zC(u)?VC(1,e,u,!1,n):null},WC=function(e,t,n){if(!t||!t.collapsed)return t;var r=qC(e,t,n);return r?r:t},$C=function(e,t){e.selection.setRng(t),MC.scrollRangeIntoView(e,e.selection.getRng())},KC=function(e,t){hu.isText(t)&&0===t.data.length&&e.remove(t)},XC=function(e,t,n,r,o,i){var a=VC(r,e,i.getNode(!o),o,!0);if(t.collapsed){var u=t.cloneRange();o?u.setEnd(a.startContainer,a.startOffset):u.setStart(a.endContainer,a.endOffset),u.deleteContents()}else t.deleteContents();return e.selection.setRng(a),KC(e.dom,n),!0},YC=function(e,n){var r=e.selection.getRng();if(!hu.isText(r.commonAncestorContainer))return!1;var o=n?Tl.Forwards:Tl.Backwards,i=yd(e.getBody()),a=t(od,i.next),u=t(od,i.prev),c=n?a:u,s=n?$h:Kh,l=td(o,e.getBody(),r),f=Rp.normalizePosition(n,c(l));if(!f)return!1;if(s(f))return XC(e,r,l.getNode(),o,n,f);var d=c(f);return!!(d&&s(d)&&id(f,d))&&XC(e,r,l.getNode(),o,n,d)},GC=function(e,t){return YC(e,t)},ZC={backspaceDelete:GC},JC=function(e,t){e.getDoc().execCommand(t,!1,null)},QC=function(e){jv.backspaceDelete(e,!1)||ZC.backspaceDelete(e,!1)||Zy.backspaceDelete(e,!1)||Ch.backspaceDelete(e,!1)||$b.backspaceDelete(e)||Rh.backspaceDelete(e,!1)||DC.backspaceDelete(e,!1)||(JC(e,"Delete"),Pp.paddEmptyBody(e))},ex=function(e){jv.backspaceDelete(e,!0)||ZC.backspaceDelete(e,!0)||Zy.backspaceDelete(e,!0)||Ch.backspaceDelete(e,!0)||$b.backspaceDelete(e)||Rh.backspaceDelete(e,!0)||DC.backspaceDelete(e,!0)||JC(e,"ForwardDelete")},tx={deleteCommand:QC,forwardDeleteCommand:ex},nx=function(e,t,n){var r=function(t){return Ni(t,e)},o=function(e){return zi(Go.fromDom(t),e)};return Ic(Go.fromDom(n),function(e){return r(e).isSome()},o).bind(r)},rx=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n},ox=function(e,t){return/[0-9.]+px$/.test(e)?rx(72*parseInt(e,10)/96,t||0)+"pt":e},ix=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},ax=function(e,t){return Re.from(tc.DOM.getStyle(t,e,!0))},ux=function(e){return function(t,n){return Re.from(n).map(Go.fromDom).filter(ri).bind(function(n){return nx(e,t,n.dom()).or(ax(e,n.dom()))}).getOr("")}},cx={getFontSize:ux("font-size"),getFontFamily:ve(ix,ux("font-family")),toPt:ox},sx=function(e){return _d.firstPositionIn(e.getBody()).map(function(e){var t=e.container();return hu.isText(t)?t.parentNode:t})},lx=function(e,t){return e.startContainer===t&&0===e.startOffset},fx=function(e){return Re.from(e.selection.getRng()).bind(function(t){var n=e.getBody();return lx(t,n)?Re.none():Re.from(e.selection.getStart(!0))})},dx=function(e,t){if(/^[0-9\.]+$/.test(t)){var n=parseInt(t,10);if(n>=1&&n<=7){var r=yp.getFontStyleValues(e),o=yp.getFontSizeClasses(e);return o?o[n-1]||t:r[n-1]||t}return t}return t},mx=function(e,t){e.formatter.toggle("fontname",{value:dx(e,t)}),e.nodeChanged()},gx=function(e){return fx(e).fold(function(){return sx(e).map(function(t){return cx.getFontFamily(e.getBody(),t)}).getOr("")},function(t){return cx.getFontFamily(e.getBody(),t)})},px=function(e,t){e.formatter.toggle("fontsize",{value:dx(e,t)}),e.nodeChanged()},hx=function(e){return fx(e).fold(function(){return sx(e).map(function(t){return cx.getFontSize(e.getBody(),t)}).getOr("")},function(t){return cx.getFontSize(e.getBody(),t)})},vx=function(e,t){return e&&t&&e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset},yx={isEq:vx},bx=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},Cx=function(e,t,n){return null!==bx(e,t,n)},xx=function(e,t,n){return Cx(e,t,function(e){return e.nodeName===n})},wx=function(e){return e&&"TABLE"===e.nodeName},Ex=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},Nx=function(e,t){return ms(e)&&Cx(e,t,ff)===!1},Sx=function(e,t,n){for(var r=new b(t,e.getParent(t.parentNode,e.isBlock)||e.getRoot());t=r[n?"prev":"next"]();)if(hu.isBr(t))return!0},kx=function(e,t){return e.previousSibling&&e.previousSibling.nodeName===t},Tx=function(e,t){for(;t&&t!==e;){if(hu.isContentEditableFalse(t))return!0;t=t.parentNode}return!1},Rx=function(e,t,n,r,o){var i,a,u,c,s=e.getRoot(),l=e.schema.getNonEmptyElements();if(u=e.getParent(o.parentNode,e.isBlock)||s,r&&hu.isBr(o)&&t&&e.isEmpty(u))return Re.some(T(o.parentNode,e.nodeIndex(o)));for(i=new b(o,u);c=i[r?"prev":"next"]();){if("false"===e.getContentEditableParent(c)||Nx(c,s))return Re.none();if(hu.isText(c)&&c.nodeValue.length>0)return xx(c,s,"A")===!1?Re.some(T(c,r?c.nodeValue.length:0)):Re.none();if(e.isBlock(c)||l[c.nodeName.toLowerCase()])return Re.none();a=c}return n&&a?Re.some(T(a,0)):Re.none()},Ax=function(e,t,n,r){var o,i,a,u,c,s,l,f=e.getRoot(),d=!1;if(o=r[(n?"start":"end")+"Container"],i=r[(n?"start":"end")+"Offset"],l=hu.isElement(o)&&i===o.childNodes.length,c=e.schema.getNonEmptyElements(),s=n,ms(o))return Re.none();if(hu.isElement(o)&&i>o.childNodes.length-1&&(s=!1),hu.isDocument(o)&&(o=f,i=0),o===f){if(s&&(u=o.childNodes[i>0?i-1:0])){if(ms(u))return Re.none();if(c[u.nodeName]||wx(u))return Re.none()}if(o.hasChildNodes()){if(i=Math.min(!s&&i>0?i-1:i,o.childNodes.length-1),o=o.childNodes[i],i=hu.isText(o)&&l?o.data.length:0,!t&&o===f.lastChild&&wx(o))return Re.none();if(Tx(f,o)||ms(o))return Re.none();if(o.hasChildNodes()&&wx(o)===!1){u=o,a=new b(o,f);do{if(hu.isContentEditableFalse(u)||ms(u)){d=!1;break}if(hu.isText(u)&&u.nodeValue.length>0){i=s?0:u.nodeValue.length,o=u,d=!0;break}if(c[u.nodeName.toLowerCase()]&&!Ex(u)){i=e.nodeIndex(u),o=u.parentNode,s||i++,d=!0;break}}while(u=s?a.next():a.prev())}}}return t&&(hu.isText(o)&&0===i&&Rx(e,l,t,!0,o).each(function(e){o=e.container(),i=e.offset(),d=!0}),hu.isElement(o)&&(u=o.childNodes[i],u||(u=o.childNodes[i-1]),!u||!hu.isBr(u)||kx(u,"A")||Sx(e,u,!1)||Sx(e,u,!0)||Rx(e,l,t,!0,u).each(function(e){o=e.container(),i=e.offset(),d=!0}))),s&&!t&&hu.isText(o)&&i===o.nodeValue.length&&Rx(e,l,t,!1,o).each(function(e){o=e.container(),i=e.offset(),d=!0}),d?Re.some(T(o,i)):Re.none()},Bx=function(e,t){var n=t.collapsed,r=t.cloneRange(),o=T.fromRangeStart(t);return Ax(e,n,!0,r).each(function(e){n&&T.isAbove(o,e)||r.setStart(e.container(),e.offset())}),n||Ax(e,n,!1,r).each(function(e){r.setEnd(e.container(),e.offset())}),n&&r.collapse(!0),yx.isEq(t,r)?Re.none():Re.some(r)},Dx={normalize:Bx},_x=function(e,t,n){for(var r,o=new b(t,n),i=e.getNonEmptyElements();r=o.next();)if(i[r.nodeName.toLowerCase()]||r.length>0)return!0},Ox=function(e,t,n){var r=e.create("span",{},"&nbsp;");n.parentNode.insertBefore(r,n),t.scrollIntoView(r),e.remove(r)},Px=function(e,t,n,r){var o=e.createRng();r?(o.setStartBefore(n),o.setEndBefore(n)):(o.setStartAfter(n),o.setEndAfter(n)),t.setRng(o)},Ix=function(e,t){var n,r,o=e.selection,i=e.dom,a=o.getRng();Dx.normalize(i,a).each(function(e){a.setStart(e.startContainer,e.startOffset),a.setEnd(e.endContainer,e.endOffset)});var u=a.startOffset,c=a.startContainer;if(1===c.nodeType&&c.hasChildNodes()){var s=u>c.childNodes.length-1;c=c.childNodes[Math.min(u,c.childNodes.length-1)]||c,u=s&&3===c.nodeType?c.nodeValue.length:0}var l=i.getParent(c,i.isBlock),f=l?i.getParent(l.parentNode,i.isBlock):null,d=f?f.nodeName.toUpperCase():"",m=t&&t.ctrlKey;"LI"!==d||m||(l=f),c&&3===c.nodeType&&u>=c.nodeValue.length&&(_x(e.schema,c,l)||(n=i.create("br"),a.insertNode(n),a.setStartAfter(n),a.setEndAfter(n),r=!0)),n=i.create("br"),$l(i,a,n),Ox(i,o,n),Px(i,o,n,r),e.undoManager.add()},Lx=function(e,t){var n=Go.fromTag("br");cc(Go.fromDom(t),n),e.undoManager.add()},Fx=function(e,t){Ux(e.getBody(),t)||sc(Go.fromDom(t),Go.fromTag("br"));var n=Go.fromTag("br");sc(Go.fromDom(t),n),Ox(e.dom,e.selection,n.dom()),Px(e.dom,e.selection,n.dom(),!1),e.undoManager.add()},Mx=function(e){return hu.isBr(e.getNode())},Ux=function(e,t){return!!Mx(Rl.after(t))||_d.nextPosition(e,Rl.after(t)).map(function(e){return hu.isBr(e.getNode())}).getOr(!1)},zx=function(e){return e&&"A"===e.nodeName&&"href"in e},Vx=function(e){return e.fold(ye(!1),zx,zx,ye(!1))},jx=function(e){var n=t(Rp.isInlineTarget,e),r=Rl.fromRangeStart(e.selection.getRng());return Ny.readLocation(n,e.getBody(),r).filter(Vx)},Hx=function(e,n){n.fold(he,t(Lx,e),t(Fx,e),he)},qx=function(e,n){var r=jx(e);r.isSome()?r.each(t(Hx,e)):Ix(e,n)},Wx={insert:qx},$x=ki("start","soffset","finish","foffset"),Kx={create:$x},Xx=Bh.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),Yx=function(e,t,n,r){return e.fold(t,n,r)},Gx=function(e){return e.fold(be,be,be)},Zx=Xx.before,Jx=Xx.on,Qx=Xx.after,ew={before:Zx,on:Jx,after:Qx,cata:Yx,getStart:Gx},tw=Bh.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),nw=function(e){return tw.exact(e.start(),e.soffset(),e.finish(),e.foffset())},rw=function(e){return e.match({domRange:function(e){return Go.fromDom(e.startContainer)},relative:function(e,t){return ew.getStart(e)},exact:function(e,t,n,r){return e}})},ow=tw.domRange,iw=tw.relative,aw=tw.exact,uw=function(e){var t=rw(e);return Ki(t)},cw=Kx.create,sw={domRange:ow,relative:iw,exact:aw,exactFromRange:nw,getWin:uw,range:cw},lw=qo.detect().browser,fw=function(e,t){var n=oi(t)?Fm(t).length:ea(t).length+1;return e>n?n:e<0?0:e},dw=function(e){return sw.range(e.start(),fw(e.soffset(),e.start()),e.finish(),fw(e.foffset(),e.finish()))},mw=function(e,t){return!hu.isRestrictedNode(t.dom())&&(qi(e,t)||zi(e,t))},gw=function(e){return function(t){return mw(e,t.start())&&mw(e,t.finish())}},pw=function(e){return e.inline===!0||lw.isIE()},hw=function(e){return sw.range(Go.fromDom(e.startContainer),e.startOffset,Go.fromDom(e.endContainer),e.endOffset)},vw=function(e){var t=e.getSelection(),n=t&&0!==t.rangeCount?Re.from(t.getRangeAt(0)):Re.none();return n.map(hw)},yw=function(e){var t=Ki(e);return vw(t.dom()).filter(gw(e))},bw=function(e,t){return Re.from(t).filter(gw(e)).map(dw)},Cw=function(t){var n=e.document.createRange();try{return n.setStart(t.start().dom(),t.soffset()),n.setEnd(t.finish().dom(),t.foffset()),Re.some(n)}catch(r){return Re.none()}},xw=function(e){var t=pw(e)?yw(Go.fromDom(e.getBody())):Re.none();e.bookmark=t.isSome()?t:e.bookmark},ww=function(e,t){var n=Go.fromDom(e.getBody()),r=pw(e)?Re.from(t):Re.none(),o=r.map(hw).filter(gw(n));e.bookmark=o.isSome()?o:e.bookmark},Ew=function(e){var n=e.bookmark?e.bookmark:Re.none();return n.bind(t(bw,Go.fromDom(e.getBody()))).bind(Cw)},Nw=function(e){Ew(e).each(function(t){e.selection.setRng(t)})},Sw={store:xw,storeNative:ww,readRange:vw,restore:Nw,getRng:Ew,getBookmark:yw,validate:bw},kw=function(e,t,n,r,o,i){if("false"!==e.getContentEditable(i)){var a=n?"margin":"padding";if(a="TABLE"===i.nodeName?"margin":a,a+="rtl"===e.getStyle(i,"direction",!0)?"Right":"Left","outdent"===t){var u=Math.max(0,parseInt(i.style[a]||0,10)-r);e.setStyle(i,a,u?u+o:"")}else{var u=parseInt(i.style[a]||0,10)+r+o;e.setStyle(i,a,u)}}},Tw=function(e){return Wa(e)||$a(e)},Rw=function(e){return Xi(e).map(Tw).getOr(!1)},Aw=function(e){return Ye(We(e.selection.getSelectedBlocks(),Go.fromDom),function(e){return!Tw(e)&&!Rw(e)})},Bw=function(e,t){var n=e.settings,r=e.dom,o=e.selection,i=e.formatter,a=/[a-z%]+$/i.exec(n.indentation)[0],u=parseInt(n.indentation,10),c=e.getParam("indent_use_margin",!1);e.queryCommandState("InsertUnorderedList")||e.queryCommandState("InsertOrderedList")||n.forced_root_block||r.getParent(o.getNode(),r.isBlock)||i.apply("div"),$e(Aw(e),function(e){kw(r,t,c,u,a,e.dom())})},Dw=xr.each,_w=xr.extend,Ow=xr.map,Pw=xr.inArray,Iw=xr.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend"," "),Lw=function(e){var t,n,r=this,o={},i=function(){return!1},a=function(){return!0};e=e||{},t=e.scope||r,n=e.toggleEvent||i;var u=function(n,r){var u,c,l,f;if(n=n.toLowerCase(),r=r||{},r.type=n,r.target||(r.target=t),r.preventDefault||(r.preventDefault=function(){r.isDefaultPrevented=a},r.stopPropagation=function(){r.isPropagationStopped=a},r.stopImmediatePropagation=function(){r.isImmediatePropagationStopped=a},r.isDefaultPrevented=i,r.isPropagationStopped=i,r.isImmediatePropagationStopped=i),e.beforeFire&&e.beforeFire(r),u=o[n])for(c=0,l=u.length;c<l;c++){if(f=u[c],f.once&&s(n,f.func),r.isImmediatePropagationStopped())return r.stopPropagation(),r;if(f.func.call(t,r)===!1)return r.preventDefault(),r}return r},c=function(e,t,a,u){var c,s,l;if(t===!1&&(t=i),t)for(t={func:t},u&&xr.extend(t,u),s=e.toLowerCase().split(" "),l=s.length;l--;)e=s[l],c=o[e],c||(c=o[e]=[],n(e,!0)),a?c.unshift(t):c.push(t);return r},s=function(e,t){var i,a,u,c,s;if(e)for(c=e.toLowerCase().split(" "),i=c.length;i--;){if(e=c[i],a=o[e],!e){for(u in o)n(u,!1),delete o[u];return r}if(a){if(t)for(s=a.length;s--;)a[s].func===t&&(a=a.slice(0,s).concat(a.slice(s+1)),o[e]=a);else a.length=0;a.length||(n(e,!1),delete o[e])}}else{for(e in o)n(e,!1);o={}}return r},l=function(e,t,n){return c(e,t,n,{once:!0})},f=function(e){return e=e.toLowerCase(),!(!o[e]||0===o[e].length)};r.fire=u,r.on=c,r.off=s,r.once=l,r.has=f};Lw.isNative=function(e){return!!Iw[e.toLowerCase()]};var Fw,Mw=function(e){return e._eventDispatcher||(e._eventDispatcher=new Lw({scope:e,toggleEvent:function(t,n){Lw.isNative(t)&&e.toggleNativeEvent&&e.toggleNativeEvent(t,n)}})),e._eventDispatcher},Uw={fire:function(e,t,n){var r=this;if(r.removed&&"remove"!==e&&"detach"!==e)return t;if(t=Mw(r).fire(e,t,n),n!==!1&&r.parent)for(var o=r.parent();o&&!t.isPropagationStopped();)o.fire(e,t,!1),o=o.parent();return t},on:function(e,t,n){return Mw(this).on(e,t,n)},off:function(e,t){return Mw(this).off(e,t)},once:function(e,t){return Mw(this).once(e,t)},hasEventListeners:function(e){return Mw(this).has(e)}},zw=function(e,t){return e.fire("PreProcess",t)},Vw=function(e,t){return e.fire("PostProcess",t)},jw=function(e){return e.fire("remove")},Hw=function(e){return e.fire("detach")},qw=function(e,t){return e.fire("SwitchMode",{mode:t})},Ww=function(e,t,n,r){e.fire("ObjectResizeStart",{target:t,width:n,height:r})},$w=function(e,t,n,r){e.fire("ObjectResized",{target:t,width:n,height:r})},Kw={firePreProcess:zw,firePostProcess:Vw,fireRemove:jw,fireDetach:Hw,fireSwitchMode:qw,fireObjectResizeStart:Ww,fireObjectResized:$w},Xw=function(e,t,n){try{e.getDoc().execCommand(t,!1,n)}catch(r){}},Yw=function(e,t,n){Dc(e,t)&&n===!1?Bc(e,t):n&&Rc(e,t)},Gw=function(e,t){Yw(Go.fromDom(e.getBody()),"mce-content-readonly",t),t?(e.selection.controlSelection.hideResizeRect(),e.readonly=!0,e.getBody().contentEditable="false"):(e.readonly=!1,e.getBody().contentEditable="true",Xw(e,"StyleWithCSS",!1),Xw(e,"enableInlineTableEditing",!1),Xw(e,"enableObjectResizing",!1),e.focus(),e.nodeChanged())},Zw=function(e,t){t!==Jw(e)&&(e.initialized?Gw(e,"readonly"===t):e.on("init",function(){Gw(e,"readonly"===t)}),Kw.fireSwitchMode(e,t))},Jw=function(e){return e.readonly?"readonly":"design"},Qw=function(e){return e.readonly===!0},eE=tc.DOM,tE=function(e,t){return"selectionchange"===t?e.getDoc():!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(t)?e.getDoc().documentElement:e.settings.event_root?(e.eventRoot||(e.eventRoot=eE.select(e.settings.event_root)[0]),e.eventRoot):e.getBody()},nE=function(e){return!e.hidden&&!e.readonly},rE=function(e,t,n){nE(e)?e.fire(t,n):Qw(e)&&n.preventDefault()},oE=function(e,t){var n,r;if(e.delegates||(e.delegates={}),!e.delegates[t]&&!e.removed)if(n=tE(e,t),e.settings.event_root){if(Fw||(Fw={},e.editorManager.on("removeEditor",function(){var t;if(!e.editorManager.activeEditor&&Fw){for(t in Fw)e.dom.unbind(tE(e,t));Fw=null}})),Fw[t])return;r=function(n){for(var r=n.target,o=e.editorManager.get(),i=o.length;i--;){var a=o[i].getBody();(a===r||eE.isChildOf(r,a))&&rE(o[i],t,n)}},Fw[t]=r,eE.bind(n,t,r)}else r=function(n){rE(e,t,n)},eE.bind(n,t,r),e.delegates[t]=r},iE={bindPendingEventDelegates:function(){var e=this;xr.each(e._pendingNativeEvents,function(t){oE(e,t)})},toggleNativeEvent:function(e,t){var n=this;"focus"!==e&&"blur"!==e&&(t?n.initialized?oE(n,e):n._pendingNativeEvents?n._pendingNativeEvents.push(e):n._pendingNativeEvents=[e]:n.initialized&&(n.dom.unbind(tE(n,e),e,n.delegates[e]),delete n.delegates[e]))},unbindAllNativeEvents:function(){var e,t=this,n=t.getBody(),r=t.dom;if(t.delegates){for(e in t.delegates)t.dom.unbind(tE(t,e),e,t.delegates[e]);delete t.delegates}!t.inline&&n&&r&&(n.onload=null,r.unbind(t.getWin()),r.unbind(t.getDoc())),r&&(r.unbind(n),r.unbind(t.getContainer()))}};iE=xr.extend({},Uw,iE);var aE,uE=iE,cE=ki("sections","settings"),sE=qo.detect(),lE=sE.deviceType.isTouch(),fE=["lists","autolink","autosave"],dE={theme:"mobile"},mE=function(e){var t=Oe(e)?e.join(" "):e,n=We(De(t)?t.split(" "):[],Oo);return Ye(n,function(e){return e.length>0})},gE=function(e){return Ye(e,t(He,fE))},pE=function(e,t){var n=li(t,function(t,n){return He(e,n)});return cE(n.t,n.f)},hE=function(e,t,n){var r=e.sections(),o=r.hasOwnProperty(t)?r[t]:{};return xr.extend({},n,o)},vE=function(e,t){return e.sections().hasOwnProperty(t)},yE=function(e,t,n){return{id:e,theme:"modern",delta_width:0,delta_height:0,popup_css:"",plugins:"",document_base_url:t,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_style_values:"xx-small,x-small,small,medium,large,x-large,xx-large",font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,render_ui:!0,indentation:"40px",inline_styles:!0,convert_fonts_to_spans:!0,indent:"simple",indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:n.convertURL,url_converter_scope:n,ie7_compat:!0}},bE=function(e,t){var n=t.external_plugins?t.external_plugins:{};return e&&e.external_plugins?xr.extend({},e.external_plugins,n):n},CE=function(e,t){return[].concat(mE(e)).concat(mE(t))},xE=function(e,t,n,r){var o=mE(n.forced_plugins),i=mE(r.plugins),a=e&&vE(t,"mobile")?gE(i):i,u=CE(o,a);return xr.extend(r,{plugins:u.join(" ")})},wE=function(e,t){var n=t.settings().inline;return e&&vE(t,"mobile")&&!n},EE=function(e,t,n,r){var o=pE(["mobile"],r),i=xr.extend(t,n,o.settings(),wE(e,o)?hE(o,"mobile",dE):{},{validate:!0,content_editable:o.settings().inline,external_plugins:bE(n,o.settings())});return xE(e,o,n,i)},NE=function(e,t,n,r,o){var i=yE(t,n,e);return EE(lE,i,r,o)},SE=function(e,t,n){return Re.from(t.settings[n]).filter(e)},kE=function(e){var t={};return"string"==typeof e?$e(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(e){var n=e.split("=");n.length>1?t[xr.trim(n[0])]=xr.trim(n[1]):t[xr.trim(n[0])]=xr.trim(n)}):t=e,t},TE=function(e){return function(t){return Oe(t)&&nt(t,e)}},RE=function(e,t,n,r){var o=t in e.settings?e.settings[t]:n;return"hash"===r?kE(o):"string"===r?SE(De,e,t).getOr(n):"number"===r?SE(Fe,e,t).getOr(n):"boolean"===r?SE(Ie,e,t).getOr(n):"object"===r?SE(_e,e,t).getOr(n):"array"===r?SE(Oe,e,t).getOr(n):"string[]"===r?SE(TE(De),e,t).getOr(n):"function"===r?SE(Le,e,t).getOr(n):o},AE=xr.each,BE=xr.explode,DE={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},_E=xr.makeMap("alt,ctrl,shift,meta,access"),OE=function(e){var t=Wi(e).dom();return e.dom()===t.activeElement},PE=function(t){var n=void 0!==t?t.dom():e.document;return Re.from(n.activeElement).map(Go.fromDom)},IE=function(e){return PE(Wi(e)).filter(function(t){return e.dom().contains(t.dom())})},LE=function(e,t){return e.dom.getParent(t,function(t){return"true"===e.dom.getContentEditable(t)})},FE=function(e){return e.collapsed?Re.from(Js(e.startContainer,e.startOffset)).map(Go.fromDom):Re.none()},ME=function(e,t){return FE(t).bind(function(t){return Xa(t)?Re.some(t):qi(e,t)===!1?Re.some(e):Re.none()})},UE=function(e,t){ME(Go.fromDom(e.getBody()),t).bind(function(e){return _d.firstPositionIn(e.dom())}).fold(function(){e.selection.normalize()},function(t){return e.selection.setRng(t.toRange())})},zE=function(e){if(e.setActive)try{e.setActive()}catch(t){e.focus()}else e.focus()},VE=function(e){return OE(e)||IE(e).isSome()},jE=function(e){return e.iframeElement&&OE(Go.fromDom(e.iframeElement))},HE=function(e){var t=e.getBody();return t&&VE(Go.fromDom(t))},qE=function(e){return e.inline?HE(e):jE(e)},WE=function(e){var t=e.selection,n=e.settings.content_editable,r=e.getBody(),o=t.getRng();e.quirks.refreshContentEditable();var i=LE(e,t.getNode());return e.$.contains(r,i)?(zE(i),UE(e,o),void $E(e)):(void 0!==e.bookmark&&qE(e)===!1&&Sw.getRng(e).each(function(t){e.selection.setRng(t),o=t}),n||(St.opera||zE(r),e.getWin().focus()),(St.gecko||n)&&(zE(r),UE(e,o)),void $E(e))},$E=function(e){return e.editorManager.setActive(e)},KE=function(e,t){e.removed||(t?$E(e):WE(e))},XE={focus:KE,hasFocus:qE},YE=function(e,t){var n=t.dom();return n[e]},GE=function(e,t){return parseInt(wi(t,e),10)},ZE=t(YE,"clientWidth"),JE=t(YE,"clientHeight"),QE=t(GE,"margin-top"),eN=t(GE,"margin-left"),tN=function(e){return e.dom().getBoundingClientRect()},nN=function(e,t,n){var r=ZE(e),o=JE(e);return t>=0&&n>=0&&t<=r&&n<=o},rN=function(e,t,n,r){var o=tN(t),i=e?o.left+t.dom().clientLeft+eN(t):0,a=e?o.top+t.dom().clientTop+QE(t):0,u=n-i,c=r-a;return{x:u,y:c}},oN=function(e,t,n){var r=Go.fromDom(e.getBody()),o=e.inline?r:$i(r),i=rN(e.inline,o,t,n);return nN(o,i.x,i.y)},iN=function(e){return Re.from(e).map(Go.fromDom)},aN=function(e){var t=e.inline?e.getBody():e.getContentAreaContainer();return iN(t).map(function(e){return qi(Wi(e),e)}).getOr(!1)},uN={isXYInContentArea:oN,isEditorAttachedToDom:aN},cN={},sN="en",lN={setCode:function(e){e&&(sN=e,this.rtl=!!this.data[e]&&"rtl"===this.data[e]._dir)},getCode:function(){return sN},rtl:!1,add:function(e,t){var n=cN[e];n||(cN[e]=n={});for(var r in t)n[r]=t[r];this.setCode(e)},translate:function(e){var t=cN[sN]||{},n=function(e){return xr.is(e,"function")?Object.prototype.toString.call(e):r(e)?"":""+e},r=function(e){return""===e||null===e||xr.is(e,"undefined")},o=function(e){return e=n(e),xr.hasOwn(t,e)?n(t[e]):e};if(r(e))return"";if(xr.is(e,"object")&&xr.hasOwn(e,"raw"))return n(e.raw);if(xr.is(e,"array")){var i=e.slice(1);e=o(e[0]).replace(/\{([0-9]+)\}/g,function(e,t){return xr.hasOwn(i,t)?n(i[t]):e})}return o(e).replace(/{context:\w+}$/,"")},data:cN},fN=E.PluginManager,dN=function(e,t){for(var n in fN.urls){var r=fN.urls[n]+"/plugin"+t+".js";if(r===e)return n}return null},mN=function(e,t){var n=dN(t,e.suffix);return n?lN.translate(["Failed to load plugin: {0} from url {1}",n,t]):lN.translate(["Failed to load plugin url: {0}",t])},gN=function(e,t){e.notificationManager.open({type:"error",text:t})},pN=function(e,t){e._skinLoaded?gN(e,t):e.on("SkinLoaded",function(){gN(e,t)})},hN=function(e,t){pN(e,lN.translate(["Failed to upload image: {0}",t]))},vN=function(e,t){pN(e,mN(e,t))},yN=function(e,t,n){var r=lN.translate(["Failed to initialize plugin: {0}",t]);bN(r,n),pN(e,r)},bN=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=e.window.console;o&&(o.error?o.error.apply(o,arguments):o.log.apply(o,arguments))},CN={pluginLoadError:vN,pluginInitError:yN,uploadError:hN,displayError:pN,initError:bN},xN=E.PluginManager,wN=E.ThemeManager,EN=function(e){var t=pt.getOrDie("requestAnimationFrame");t(e)},NN=function(e){var t=pt.getOrDie("atob");return t(e)},SN={atob:NN,requestAnimationFrame:EN},kN=function(e){return new Tt(function(t,n){var r=function(){n("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var o=M();o.open("GET",e,!0),o.responseType="blob",o.onload=function(){200===this.status?t(this.response):r()},o.onerror=r,o.send()}catch(i){r()}})},TN=function(e){var t,n,r=decodeURIComponent(e).split(",");return n=/data:([^;]+)/.exec(r[0]),n&&(t=n[1]),{type:t,data:r[1]}},RN=function(t){return new Tt(function(n){var r,o,i,a=TN(t);try{r=SN.atob(a.data)}catch(u){return void n(new e.Blob([]))}for(o=V(r.length),i=0;i<o.length;i++)o[i]=r.charCodeAt(i);n(new e.Blob([o],{type:a.type}))})},AN=function(e){return 0===e.indexOf("blob:")?kN(e):0===e.indexOf("data:")?RN(e):null},BN=function(e){return new Tt(function(t){var n=z();n.onloadend=function(){t(n.result)},n.readAsDataURL(e)})},DN={uriToBlob:AN,blobToDataUri:BN,parseDataUri:TN},_N=0,ON=function(e){return(e||"blobid")+_N++},PN=function(e,t,n,r){var o,i;return 0===t.src.indexOf("blob:")?(i=e.getByUri(t.src),void(i?n({image:t,blobInfo:i}):DN.uriToBlob(t.src).then(function(r){DN.blobToDataUri(r).then(function(a){o=DN.parseDataUri(a).data,i=e.create(ON(),r,o),e.add(i),n({image:t,blobInfo:i})})},function(e){r(e)}))):(o=DN.parseDataUri(t.src).data,i=e.findFirst(function(e){return e.base64()===o}),void(i?n({image:t,blobInfo:i}):DN.uriToBlob(t.src).then(function(r){i=e.create(ON(),r,o),e.add(i),n({image:t,blobInfo:i})},function(e){r(e)})))},IN=function(e){return e?st(e.getElementsByTagName("img")):[]},LN=0,FN=function(){var e=function(){return Math.round(4294967295*Math.random()).toString(36)},t=(new Date).getTime();return"s"+t.toString(36)+e()+e()+e()},MN=function(e){return e+LN++ +FN()},UN={uuid:MN},zN=function(e,t){return e.hasOwnProperty(t.nodeName)},VN=function(e,t){return!!hu.isText(t)||!!hu.isElement(t)&&(!zN(e,t)&&!nm.isBookmarkNode(t))},jN=function(e,t,n){return qe(ah.parents(Go.fromDom(n),Go.fromDom(t)),function(t){return zN(e,t.dom())})},HN=function(e,t){if(hu.isText(t)){if(0===t.nodeValue.length)return!0;if(/^\s+$/.test(t.nodeValue)&&(!t.nextSibling||zN(e,t.nextSibling)))return!0}return!1},qN=function(e){var t,n,r,o,i,a,u,c,s,l,f,d=e.settings,m=e.dom,g=e.selection,p=e.schema,h=p.getBlockElements(),v=g.getStart(),y=e.getBody();if(f=d.forced_root_block,v&&hu.isElement(v)&&f&&(l=y.nodeName.toLowerCase(),p.isValidChild(l,f.toLowerCase())&&!jN(h,y,v))){for(t=g.getRng(),n=t.startContainer,r=t.startOffset,o=t.endContainer,i=t.endOffset,s=XE.hasFocus(e),v=y.firstChild;v;)if(VN(h,v)){if(HN(h,v)){u=v,v=v.nextSibling,m.remove(u);continue}a||(a=m.create(f,e.settings.forced_root_block_attrs),v.parentNode.insertBefore(a,v),c=!0),u=v,v=v.nextSibling,a.appendChild(u)}else a=null,v=v.nextSibling;c&&s&&(t.setStart(n,r),t.setEnd(o,i),g.setRng(t),e.nodeChanged())}},WN=function(e){e.settings.forced_root_block&&e.on("NodeChange",t(qN,e))},$N={setup:WN},KN=function(e){var t=e.startContainer,n=e.startOffset;return hu.isText(t)?0===n?Re.some(Go.fromDom(t)):Re.none():Re.from(t.childNodes[n]).map(Go.fromDom)},XN=function(e){var t=e.endContainer,n=e.endOffset;return hu.isText(t)?n===t.data.length?Re.some(Go.fromDom(t)):Re.none():Re.from(t.childNodes[n-1]).map(Go.fromDom)},YN=function(e){return na(e).fold(ye([e]),function(t){return[e].concat(YN(t))})},GN=function(e){return ra(e).fold(ye([e]),function(t){return"br"===ei(t)?Gi(t).map(function(t){return[e].concat(GN(t))}).getOr([]):[e].concat(GN(t))})},ZN=function(e,n){return tl(KN(n),XN(n),function(n,r){var o=Je(YN(e),t(zi,n)),i=Je(GN(e),t(zi,r));return o.isSome()&&i.isSome()}).getOr(!1)},JN=function(e,t,n,r){var o=n,i=new b(n,o),a=e.schema.getNonEmptyElements();do{if(3===n.nodeType&&0!==xr.trim(n.nodeValue).length)return void(r?t.setStart(n,0):t.setEnd(n,n.nodeValue.length));if(a[n.nodeName]&&!/^(TD|TH)$/.test(n.nodeName))return void(r?t.setStartBefore(n):"BR"===n.nodeName?t.setEndBefore(n):t.setEndAfter(n));if(St.ie&&St.ie<11&&e.isBlock(n)&&e.isEmpty(n))return void(r?t.setStart(n,0):t.setEnd(n,0))}while(n=r?i.next():i.prev());"BODY"===o.nodeName&&(r?t.setStart(o,0):t.setEnd(o,o.childNodes.length))},QN=function(e){var t=e.selection.getSel();return t&&t.rangeCount>0},eS={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||this.metaKeyPressed(e)},metaKeyPressed:function(e){return St.mac?e.metaKey:e.ctrlKey&&!e.altKey}},tS=function(e){var t=function(t){return We(t,function(t){return t=Vs(t),t.node=e,t})};if(hu.isElement(e))return t(e.getClientRects());if(hu.isText(e)){var n=e.ownerDocument.createRange();return n.setStart(e,0),n.setEnd(e,e.data.length),t(n.getClientRects())}},nS=function(e){return Ze(e,function(e,t){return e.concat(tS(t))},[])};!function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"}(aE||(aE={}));var rS=function(e,t,n,r){for(;r=qf(r,e,Us,t);)if(n(r))return},oS=function(e,t,n,r,o,i){var a,u,c=0,s=[],l=function(r){var i,a,l;for(l=nS([r]),e===-1&&(l=l.reverse()),i=0;i<l.length;i++)if(a=l[i],!n(a,u)){if(s.length>0&&t(a,cr.last(s))&&c++,a.line=c,o(a))return!0;s.push(a)}};return(u=cr.last(i.getClientRects()))?(a=i.getNode(),l(a),rS(e,r,l,a),s):s},iS=function(e,t){return t.line>e},aS=function(e,t){return t.line===e},uS=t(oS,aE.Up,Ws,$s),cS=t(oS,aE.Down,$s,Ws),sS=function(e,t,n,r){var o,i,a,u,c,s,l=yd(t),f=[],d=0,m=function(t){return 1===e?cr.last(t.getClientRects()):cr.last(t.getClientRects())};1===e?(o=l.next,i=$s,a=Ws,u=Rl.after(r)):(o=l.prev,i=Ws,a=$s,u=Rl.before(r)),s=m(u);do if(u.isVisible()&&(c=m(u),!a(c,s))){if(f.length>0&&i(c,cr.last(f))&&d++,c=Vs(c),c.position=u,c.line=d,n(c))return f;f.push(c)}while(u=o(u));return f},lS=function(e){return function(t){return iS(e,t)}},fS=function(e){
return function(t){return aS(e,t)}},dS=hu.isContentEditableFalse,mS=qf,gS=function(e,t){return Math.abs(e.left-t)},pS=function(e,t){return Math.abs(e.right-t)},hS=function(e,t){return e>=t.left&&e<=t.right},vS=function(e,t){return cr.reduce(e,function(e,n){var r,o;return r=Math.min(gS(e,t),pS(e,t)),o=Math.min(gS(n,t),pS(n,t)),hS(t,n)?n:hS(t,e)?e:o===r&&dS(n.node)?n:o<r?n:e})},yS=function(e,t,n,r){for(;r=mS(r,e,Us,t);)if(n(r))return},bS=function(e,n){var r=[],o=function(e,t){var o;return o=Ye(nS([t]),function(t){return!e(t,n)}),r=r.concat(o),0===o.length};return r.push(n),yS(aE.Up,e,t(o,Ws),n.node),yS(aE.Down,e,t(o,$s),n.node),r},CS=function(e){return Ye(st(e.getElementsByTagName("*")),Pf)},xS=function(e,t){return{node:e.node,before:gS(e,t)<pS(e,t)}},wS=function(e,t,n){var r,o=nS(CS(e)),i=Ye(o,function(e){return n>=e.top&&n<=e.bottom});return r=vS(i,t),r&&(r=vS(bS(e,r),t),r&&Pf(r.node))?xS(r,t):null},ES=function(e,t,n){if(n.collapsed)return!1;if(St.ie&&St.ie<=11&&n.startOffset===n.endOffset-1&&n.startContainer===n.endContainer){var r=n.startContainer.childNodes[n.startOffset];if(hu.isElement(r))return qe(r.getClientRects(),function(n){return Ks(n,e,t)})}return qe(n.getClientRects(),function(n){return Ks(n,e,t)})},NS={isXYWithinRange:ES},SS=function(e){var t,n,r,o;return o=e.getBoundingClientRect(),t=e.ownerDocument,n=t.documentElement,r=t.defaultView,{top:o.top+r.pageYOffset-n.clientTop,left:o.left+r.pageXOffset-n.clientLeft}},kS=function(e){return e.inline?SS(e.getBody()):{left:0,top:0}},TS=function(e){var t=e.getBody();return e.inline?{left:t.scrollLeft,top:t.scrollTop}:{left:0,top:0}},RS=function(e){var t=e.getBody(),n=e.getDoc().documentElement,r={left:t.scrollLeft,top:t.scrollTop},o={left:t.scrollLeft||n.scrollLeft,top:t.scrollTop||n.scrollTop};return e.inline?r:o},AS=function(e,t){if(t.target.ownerDocument!==e.getDoc()){var n=SS(e.getContentAreaContainer()),r=RS(e);return{left:t.pageX-n.left+r.left,top:t.pageY-n.top+r.top}}return{left:t.pageX,top:t.pageY}},BS=function(e,t,n){return{pageX:n.left-e.left+t.left,pageY:n.top-e.top+t.top}},DS=function(e,t){return BS(kS(e),TS(e),AS(e,t))},_S={calc:DS},OS=hu.isContentEditableFalse,PS=hu.isContentEditableTrue,IS=function(e,t){return OS(t)&&t!==e},LS=function(e,t,n){return t!==n&&!e.dom.isChildOf(t,n)&&!OS(t)},FS=function(e){var t=e.cloneNode(!0);return t.removeAttribute("data-mce-selected"),t},MS=function(e,t,n,r){var o=t.cloneNode(!0);e.dom.setStyles(o,{width:n,height:r}),e.dom.setAttrib(o,"data-mce-selected",null);var i=e.dom.create("div",{"class":"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return e.dom.setStyles(i,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:n,height:r}),e.dom.setStyles(o,{margin:0,boxSizing:"border-box"}),i.appendChild(o),i},US=function(e,t){e.parentNode!==t&&t.appendChild(e)},zS=function(e,t,n,r,o,i){var a=0,u=0;e.style.left=t.pageX+"px",e.style.top=t.pageY+"px",t.pageX+n>o&&(a=t.pageX+n-o),t.pageY+r>i&&(u=t.pageY+r-i),e.style.width=n-a+"px",e.style.height=r-u+"px"},VS=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},jS=function(e){return 0===e.button},HS=function(e){return e.element},qS=function(e,t){return{pageX:t.pageX-e.relX,pageY:t.pageY+5}},WS=function(e,t){return function(n){if(jS(n)){var r=Je(t.dom.getParents(n.target),al.or(OS,PS)).getOr(null);if(IS(t.getBody(),r)){var o=t.dom.getPos(r),i=t.getBody(),a=t.getDoc().documentElement;e.element=r,e.screenX=n.screenX,e.screenY=n.screenY,e.maxX=(t.inline?i.scrollWidth:a.offsetWidth)-2,e.maxY=(t.inline?i.scrollHeight:a.offsetHeight)-2,e.relX=n.pageX-o.x,e.relY=n.pageY-o.y,e.width=r.offsetWidth,e.height=r.offsetHeight,e.ghost=MS(t,r,e.width,e.height)}}}},$S=function(e,t){var n=Pt.throttle(function(e,n){t._selectionOverrides.hideFakeCaret(),t.selection.placeCaretAt(e,n)},0);return function(r){var o=Math.max(Math.abs(r.screenX-e.screenX),Math.abs(r.screenY-e.screenY));if(HS(e)&&!e.dragging&&o>10){var i=t.fire("dragstart",{target:e.element});if(i.isDefaultPrevented())return;e.dragging=!0,t.focus()}if(e.dragging){var a=qS(e,_S.calc(t,r));US(e.ghost,t.getBody()),zS(e.ghost,a,e.width,e.height,e.maxX,e.maxY),n(r.clientX,r.clientY)}}},KS=function(e){var t=e.getSel().getRangeAt(0),n=t.startContainer;return 3===n.nodeType?n.parentNode:n},XS=function(e,t){return function(n){if(e.dragging&&LS(t,KS(t.selection),e.element)){var r=FS(e.element),o=t.fire("drop",{targetClone:r,clientX:n.clientX,clientY:n.clientY});o.isDefaultPrevented()||(r=o.targetClone,t.undoManager.transact(function(){VS(e.element),t.insertContent(t.dom.getOuterHTML(r)),t._selectionOverrides.hideFakeCaret()}))}GS(e)}},YS=function(e,t){return function(){e.dragging&&t.fire("dragend"),GS(e)}},GS=function(e){e.dragging=!1,e.element=null,VS(e.ghost)},ZS=function(t){var n,r,o,i,a,u,c={};n=tc.DOM,u=e.document,r=WS(c,t),o=$S(c,t),i=XS(c,t),a=YS(c,t),t.on("mousedown",r),t.on("mousemove",o),t.on("mouseup",i),n.bind(u,"mousemove",o),n.bind(u,"mouseup",a),t.on("remove",function(){n.unbind(u,"mousemove",o),n.unbind(u,"mouseup",a)})},JS=function(e){e.on("drop",function(t){var n="undefined"!=typeof t.clientX?e.getDoc().elementFromPoint(t.clientX,t.clientY):null;(OS(n)||OS(e.dom.getContentEditableParent(n)))&&t.preventDefault()})},QS=function(e){ZS(e),JS(e)},ek={init:QS},tk=function(e){var t=yc(function(){if(!e.removed){var t=e.selection.getRng();if(t.collapsed){var n=WC(e,e.selection.getRng(),!1);e.selection.setRng(n)}}},0);e.on("focus",function(){t.throttle()}),e.on("blur",function(){t.cancel()})},nk={setup:tk},rk=hu.isContentEditableTrue,ok=hu.isContentEditableFalse,ik=function(e,t){for(var n=e.getBody();t&&t!==n;){if(rk(t)||ok(t))return t;t=t.parentNode}return null},ak=function(e){var t,n=function(t){return e.dom.isBlock(t)},r=e.getBody(),o=_f(e.getBody(),n,function(){return XE.hasFocus(e)}),i="sel-"+e.dom.uniqueId(),a=function(t){return e.dom.hasClass(t,"mce-offscreen-selection")},u=function(){var t=e.dom.get(i);return t?t.getElementsByTagName("*")[0]:t},c=function(t){t&&e.selection.setRng(t)},s=function(){return e.selection.getRng()},l=function(t,n,r,i){void 0===i&&(i=!0);var a;return a=e.fire("ShowCaret",{target:n,direction:t,before:r}),a.isDefaultPrevented()?null:(i&&e.selection.scrollIntoView(n,t===-1),o.show(r,n))},f=function(e,t){return t=Qf(e,r,t),e===-1?Rl.fromRangeStart(t):Rl.fromRangeEnd(t)},d=function(t){t.hasAttribute("data-mce-caret")&&(Es(t),c(s()),e.selection.scrollIntoView(t[0]))},m=function(){e.on("mouseup",function(t){var n=s();n.collapsed&&uN.isXYInContentArea(e,t.clientX,t.clientY)&&c(qC(e,n,!1))}),e.on("click",function(t){var n;n=ik(e,t.target),n&&(ok(n)&&(t.preventDefault(),e.focus()),rk(n)&&e.dom.isChildOf(n,e.selection.getNode())&&b())}),e.on("blur NewBlock",function(){b()}),e.on("ResizeWindow FullscreenStateChanged",function(){return o.reposition()});var n=function(e){var t=!1;e.on("touchstart",function(){t=!1}),e.on("touchmove",function(){t=!0}),e.on("touchend",function(n){var r=ik(e,n.target);ok(r)&&(t||(n.preventDefault(),y(HC(e,r))))})},i=function(e){var t=yd(e);if(!e.firstChild)return!1;var n=Rl.before(e.firstChild),r=t.next(n);return r&&!$h(r)&&!Kh(r)},f=function(t,n){var r=e.dom.getParent(t,e.dom.isBlock),o=e.dom.getParent(n,e.dom.isBlock);return r===o},d=function(t,n){var r=e.dom.getParent(t,e.dom.isBlock),o=e.dom.getParent(n,e.dom.isBlock);return!(!r||!e.dom.isChildOf(r,o)||ok(ik(e,r))!==!1)||r&&!f(r,o)&&i(r)};n(e),e.on("mousedown",function(t){var n,o=t.target;if((o===r||"HTML"===o.nodeName||e.dom.isChildOf(o,r))&&uN.isXYInContentArea(e,t.clientX,t.clientY)!==!1)if(n=ik(e,o))ok(n)?(t.preventDefault(),y(HC(e,n))):(b(),rk(n)&&t.shiftKey||NS.isXYWithinRange(t.clientX,t.clientY,e.selection.getRng())||(x(),e.selection.placeCaretAt(t.clientX,t.clientY)));else if(Pf(o)===!1){b(),x();var i=wS(r,t.clientX,t.clientY);if(i&&!d(t.target,i.node)){t.preventDefault();var a=l(1,i.node,i.before,!1);e.getBody().focus(),c(a)}}}),e.on("keypress",function(t){if(!eS.modifierPressed(t))switch(t.keyCode){default:ok(e.selection.getNode())&&t.preventDefault()}}),e.on("getSelectionRange",function(e){var n=e.range;if(t){if(!t.parentNode)return void(t=null);n=n.cloneRange(),n.selectNode(t),e.range=n}}),e.on("setSelectionRange",function(e){e.range=v(e.range);var t=y(e.range,e.forward);t&&(e.range=t)});var m=function(e){return"mcepastebin"===e.id};e.on("AfterSetSelectionRange",function(e){var t=e.range;h(t)||m(t.startContainer.parentNode)||x(),a(t.startContainer.parentNode)||b()}),e.on("copy",function(e){var t=e.clipboardData;if(!e.isDefaultPrevented()&&e.clipboardData&&!St.ie){var n=u();n&&(e.preventDefault(),t.clearData(),t.setData("text/html",n.outerHTML),t.setData("text/plain",n.outerText))}}),ek.init(e),nk.setup(e)},g=function(){var t=e.contentStyles,n=".mce-content-body";t.push(o.getCss()),t.push(n+" .mce-offscreen-selection {position: absolute;left: -9999999999px;max-width: 1000000px;}"+n+" *[contentEditable=false] {cursor: default;}"+n+" *[contentEditable=true] {cursor: text;}")},p=function(e){return ms(e)||Cs(e)||xs(e)},h=function(e){return p(e.startContainer)||p(e.endContainer)},v=function(t){var n=e.schema.getShortEndedElements(),r=e.dom.createRng(),o=t.startContainer,i=t.startOffset,a=t.endContainer,u=t.endOffset;return fi(n,o.nodeName.toLowerCase())?0===i?r.setStartBefore(o):r.setStartAfter(o):r.setStart(o,i),fi(n,a.nodeName.toLowerCase())?0===u?r.setEndBefore(a):r.setEndAfter(a):r.setEnd(a,u),r},y=function(n,r){var o,a,u,c,s,d,m,g,p,v,y=e.$,b=e.dom;if(!n)return null;if(n.collapsed){if(!h(n))if(r===!1){if(g=f(-1,n),Pf(g.getNode(!0)))return l(-1,g.getNode(!0),!1,!1);if(Pf(g.getNode()))return l(-1,g.getNode(),!g.isAtEnd(),!1)}else{if(g=f(1,n),Pf(g.getNode()))return l(1,g.getNode(),!g.isAtEnd(),!1);if(Pf(g.getNode(!0)))return l(1,g.getNode(!0),!1,!1)}return null}return c=n.startContainer,s=n.startOffset,d=n.endOffset,3===c.nodeType&&0===s&&ok(c.parentNode)&&(c=c.parentNode,s=b.nodeIndex(c),c=c.parentNode),1!==c.nodeType?null:(d===s+1&&c===n.endContainer&&(o=c.childNodes[s]),ok(o)?(p=v=o.cloneNode(!0),m=e.fire("ObjectSelected",{target:o,targetClone:p}),m.isDefaultPrevented()?null:(a=Fc(Go.fromDom(e.getBody()),"#"+i).fold(function(){return y([])},function(e){return y([e.dom()])}),p=m.targetClone,0===a.length&&(a=y('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",i),a.appendTo(e.getBody())),n=e.dom.createRng(),p===v&&St.ie?(a.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(p),n.setStartAfter(a[0].firstChild.firstChild),n.setEndAfter(p)):(a.empty().append(" ").append(p).append(" "),n.setStart(a[0].firstChild,1),n.setEnd(a[0].lastChild,0)),a.css({top:b.getPos(o,e.getBody()).y}),a[0].focus(),u=e.selection.getSel(),u.removeAllRanges(),u.addRange(n),$e(Oc(Go.fromDom(e.getBody()),"*[data-mce-selected]"),function(e){bi(e,"data-mce-selected")}),o.setAttribute("data-mce-selected","1"),t=o,x(),n)):null)},b=function(){t&&(t.removeAttribute("data-mce-selected"),Fc(Go.fromDom(e.getBody()),"#"+i).each(hc),t=null),Fc(Go.fromDom(e.getBody()),"#"+i).each(hc),t=null},C=function(){o.destroy(),t=null},x=function(){o.hide()};return St.ceFalse&&(m(),g()),{showCaret:l,showBlockCaretContainer:d,hideFakeCaret:x,destroy:C}},uk=function(e){return 0===e.indexOf("data-")||0===e.indexOf("aria-")},ck=function(e){for(var t=e;/<!--|--!?>/g.test(t);)t=t.replace(/<!--|--!?>/g,"");return t},sk=function(e,t){return!e.allow_html_data_urls&&(/^data:image\//i.test(t)?e.allow_svg_data_urls===!1&&/^data:image\/svg\+xml/i.test(t):/^data:/i.test(t))},lk=function(e,t,n){var r,o,i,a,u=1;for(a=e.getShortEndedElements(),i=/<([!?\/])?([A-Za-z0-9\-_\:\.]+)((?:\s+[^"\'>]+(?:(?:"[^"]*")|(?:\'[^\']*\')|[^>]*))*|\/|\s+)>/g,i.lastIndex=r=n;o=i.exec(t);){if(r=i.lastIndex,"/"===o[1])u--;else if(!o[1]){if(o[2]in a)continue;u++}if(0===u)break}return r},fk=function(e,t){var n=e.exec(t);if(n){var r=n[1],o=n[2];return"string"==typeof r&&"data-mce-bogus"===r.toLowerCase()?o:null}return null};!function(e){e.findEndTag=lk}(K||(K={}));var dk=K,mk=function(e,t){var n=new RegExp(["\\s?("+e.join("|")+')="[^"]+"'].join("|"),"gi");return t.replace(n,"")},gk=function(e,t){var n,r,o,i,a,u=t,c=/<(\w+) [^>]*data-mce-bogus="all"[^>]*>/g,s=e.schema;for(u=mk(e.getTempAttrs(),u),a=s.getShortEndedElements();i=c.exec(u);)r=c.lastIndex,o=i[0].length,n=a[i[1]]?r:dk.findEndTag(s,u,r),u=u.substring(0,r-o)+u.substring(n),c.lastIndex=r-o;return cs.trim(u)},pk=gk,hk={trimExternal:pk,trimInternal:gk},vk=0,yk=1,bk=2,Ck=function(e,t){var n=e.length+t.length+2,r=new Array(n),o=new Array(n),i=function(e,t,n){return{start:e,end:t,diag:n}},a=function(n,r,o,i,u){var s=c(n,r,o,i);if(null===s||s.start===r&&s.diag===r-i||s.end===n&&s.diag===n-o)for(var l=n,f=o;l<r||f<i;)l<r&&f<i&&e[l]===t[f]?(u.push([vk,e[l]]),++l,++f):r-n>i-o?(u.push([bk,e[l]]),++l):(u.push([yk,t[f]]),++f);else{a(n,s.start,o,s.start-s.diag,u);for(var d=s.start;d<s.end;++d)u.push([vk,e[d]]);a(s.end,r,s.end-s.diag,i,u)}},u=function(n,r,o,a){for(var u=n;u-r<a&&u<o&&e[u]===t[u-r];)++u;return i(n,u,r)},c=function(n,i,a,c){var s=i-n,l=c-a;if(0===s||0===l)return null;var f=s-l,d=l+s,m=(d%2===0?d:d+1)/2;r[1+m]=n,o[1+m]=i+1;var g,p,h,v,y;for(g=0;g<=m;++g){for(p=-g;p<=g;p+=2){for(h=p+m,p===-g||p!==g&&r[h-1]<r[h+1]?r[h]=r[h+1]:r[h]=r[h-1]+1,v=r[h],y=v-n+a-p;v<i&&y<c&&e[v]===t[y];)r[h]=++v,++y;if(f%2!==0&&f-g<=p&&p<=f+g&&o[h-f]<=r[h])return u(o[h-f],p+n-a,i,c)}for(p=f-g;p<=f+g;p+=2){for(h=p+m-f,p===f-g||p!==f+g&&o[h+1]<=o[h-1]?o[h]=o[h+1]-1:o[h]=o[h-1],v=o[h]-1,y=v-n+a-p;v>=n&&y>=a&&e[v]===t[y];)o[h]=v--,y--;if(f%2===0&&-g<=p&&p<=g&&o[h]<=r[h+f])return u(o[h],p+n-a,i,c)}}},s=[];return a(0,e.length,0,t.length,s),s},xk={KEEP:vk,DELETE:bk,INSERT:yk,diff:Ck},wk=function(e){return hu.isElement(e)?e.outerHTML:hu.isText(e)?Iu.encodeRaw(e.data,!1):hu.isComment(e)?"<!--"+e.data+"-->":""},Ek=function(t){var n,r,o;for(o=e.document.createElement("div"),n=e.document.createDocumentFragment(),t&&(o.innerHTML=t);r=o.firstChild;)n.appendChild(r);return n},Nk=function(e,t,n){var r=Ek(t);if(e.hasChildNodes()&&n<e.childNodes.length){var o=e.childNodes[n];o.parentNode.insertBefore(r,o)}else e.appendChild(r)},Sk=function(e,t){if(e.hasChildNodes()&&t<e.childNodes.length){var n=e.childNodes[t];n.parentNode.removeChild(n)}},kk=function(e,t){var n=0;$e(e,function(e){e[0]===xk.KEEP?n++:e[0]===xk.INSERT?(Nk(t,e[1],n),n++):e[0]===xk.DELETE&&Sk(t,n)})},Tk=function(e){return Ye(We(st(e.childNodes),wk),function(e){return e.length>0})},Rk=function(e,t){var n=We(st(t.childNodes),wk);return kk(xk.diff(n,e),t),t},Ak={read:Tk,write:Rk},Bk=Cc(Re.none()),Dk=function(){return Bk.get().getOrThunk(function(){var t=e.document.implementation.createHTMLDocument("undo");return Bk.set(Re.some(t)),t})},_k=function(e){return e.indexOf("</iframe>")!==-1},Ok=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},Pk=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Ik=function(e){var t,n,r;return t=Ak.read(e.getBody()),r=tt(t,function(t){var n=hk.trimInternal(e.serializer,t);return n.length>0?[n]:[]}),n=r.join(""),_k(n)?Ok(r):Pk(n)},Lk=function(e,t,n){"fragmented"===t.type?Ak.write(t.fragments,e.getBody()):e.setContent(t.content,{format:"raw"}),e.selection.moveToBookmark(n?t.beforeBookmark:t.bookmark)},Fk=function(e){return"fragmented"===e.type?e.fragments.join(""):e.content},Mk=function(e){var t=Go.fromTag("body",Dk());return os(t,Fk(e)),$e(Oc(t,"*[data-mce-bogus]"),vc),rs(t)},Uk=function(e,t){return Fk(e)===Fk(t)},zk=function(e,t){return Mk(e)===Mk(t)},Vk=function(e,t){return!(!e||!t)&&(!!Uk(e,t)||zk(e,t))},jk={createFragmentedLevel:Ok,createCompleteLevel:Pk,createFromEditor:Ik,applyToEditor:Lk,isEq:Vk},Hk={},qk=cr.filter,Wk=cr.each,$k=function(e,t){var n=Hk[e];n||(Hk[e]=n=[]),Hk[e].push(t)},Kk=function(e,t){Wk(Hk[e],function(e){e(t)})};$k("pre",function(e){var t,n,r=e.selection.getRng(),o=function(e){return t(e.previousSibling)&&cr.indexOf(n,e.previousSibling)!==-1},i=function(e,t){Vr(t).remove(),Vr(e).append("<br><br>").append(t.childNodes)};t=hu.matchNodeNames("pre"),r.collapsed||(n=e.selection.getSelectedBlocks(),Wk(qk(qk(n,t),o),function(e){i(e.previousSibling,e)}))});var Xk={postProcess:Kk},Yk=/^(src|href|style)$/,Gk=xr.each,Zk=pm.isEq,Jk=function(e){return/^(TH|TD)$/.test(e.nodeName)},Qk=function(e,t,n){return e.isChildOf(t,n)&&t!==n&&!e.isBlock(n)},eT=function(e,t,n){var r,o,i;return r=t[n?"startContainer":"endContainer"],o=t[n?"startOffset":"endOffset"],hu.isElement(r)&&(i=r.childNodes.length-1,!n&&o&&o--,r=r.childNodes[o>i?i:o]),hu.isText(r)&&n&&o>=r.nodeValue.length&&(r=new b(r,e.getBody()).next()||r),hu.isText(r)&&!n&&0===o&&(r=new b(r,e.getBody()).prev()||r),r},tT=function(e,t,n,r){var o=e.create(n,r);return t.parentNode.insertBefore(o,t),o.appendChild(t),o},nT=function(e,t,n,r,o){var i=Go.fromDom(t),a=Go.fromDom(e.create(r,o)),u=n?Qi(i):Ji(i);return gc(a,u),n?(cc(i,a),lc(a,i)):(sc(i,a),fc(a,i)),a.dom()},rT=function(e,t,n){return!!Zk(t,n.inline)||(!!Zk(t,n.block)||(n.selector?hu.isElement(t)&&e.is(t,n.selector):void 0))},oT=function(e,t){return t.links&&"A"===e.tagName},iT=function(e,t,n,r){return t=pm.getNonWhiteSpaceSibling(t,n,r),!t||"BR"===t.nodeName||e.isBlock(t)},aT=function(e,t,n){var r,o=t.parentNode,i=e.dom,a=e.settings.forced_root_block;n.block&&(a?o===i.getRoot()&&(n.list_block&&Zk(t,n.list_block)||Gk(xr.grep(t.childNodes),function(t){pm.isValid(e,a,t.nodeName.toLowerCase())?r?r.appendChild(t):(r=tT(i,t,a),i.setAttribs(r,e.settings.forced_root_block_attrs)):r=0})):i.isBlock(t)&&!i.isBlock(o)&&(iT(i,t,!1)||iT(i,t.firstChild,!0,1)||t.insertBefore(i.create("br"),t.firstChild),iT(i,t,!0)||iT(i,t.lastChild,!1,1)||t.appendChild(i.create("br")))),n.selector&&n.inline&&!Zk(n.inline,t)||i.remove(t,1)},uT=function(e,t,n,r,o){var i,a,u,c=e.dom;if(!rT(c,r,t)&&!oT(r,t))return!1;if("all"!==t.remove)for(Gk(t.styles,function(e,i){e=pm.normalizeStyleValue(c,pm.replaceVars(e,n),i),"number"==typeof i&&(i=e,o=0),(t.remove_similar||!o||Zk(pm.getStyle(c,o,i),e))&&c.setStyle(r,i,""),u=1}),u&&""===c.getAttrib(r,"style")&&(r.removeAttribute("style"),r.removeAttribute("data-mce-style")),Gk(t.attributes,function(e,t){var i;if(e=pm.replaceVars(e,n),"number"==typeof t&&(t=e,o=0),!o||Zk(c.getAttrib(o,t),e)){if("class"===t&&(e=c.getAttrib(r,t),e&&(i="",Gk(e.split(/\s+/),function(e){/mce\-\w+/.test(e)&&(i+=(i?" ":"")+e)}),i)))return void c.setAttrib(r,t,i);"class"===t&&r.removeAttribute("className"),Yk.test(t)&&r.removeAttribute("data-mce-"+t),r.removeAttribute(t)}}),Gk(t.classes,function(e){e=pm.replaceVars(e,n),o&&!c.hasClass(o,e)||c.removeClass(r,e)}),a=c.getAttribs(r),i=0;i<a.length;i++){var s=a[i].nodeName;if(0!==s.indexOf("_")&&0!==s.indexOf("data-"))return!1}return"none"!==t.remove?(aT(e,r,t),!0):void 0},cT=function(e,t,n,r,o){var i;return Gk(pm.getParents(e.dom,t.parentNode).reverse(),function(t){var a;i||"_start"===t.id||"_end"===t.id||(a=nC.matchNode(e,t,n,r,o),a&&a.split!==!1&&(i=t))}),i},sT=function(e,t,n,r,o,i,a,u){var c,s,l,f,d,m,g=e.dom;if(n){for(m=n.parentNode,c=r.parentNode;c&&c!==m;c=c.parentNode){for(s=g.clone(c,!1),d=0;d<t.length;d++)if(uT(e,t[d],u,s,s)){s=0;break}s&&(l&&s.appendChild(l),f||(f=s),l=s)}!i||a.mixed&&g.isBlock(n)||(r=g.split(n,r)),l&&(o.parentNode.insertBefore(l,o),f.appendChild(o))}return r},lT=function(e,t,n,r,o){var i,a,u=e.formatter.get(t),c=u[0],s=!0,l=e.dom,f=e.selection,d=function(r){var i=cT(e,r,t,n,o);return sT(e,u,i,r,r,!0,c,n)},m=function(e){return nm.isBookmarkNode(e)&&hu.isElement(e)&&("_start"===e.id||"_end"===e.id)},g=function(t){var r,o,i,a,f;if(hu.isElement(t)&&l.getContentEditable(t)&&(a=s,s="true"===l.getContentEditable(t),f=!0),r=xr.grep(t.childNodes),s&&!f)for(o=0,i=u.length;o<i&&!uT(e,u[o],n,t,t);o++);if(c.deep&&r.length){for(o=0,i=r.length;o<i;o++)g(r[o]);f&&(s=a)}},p=function(e){var t=l.get(e?"_start":"_end"),n=t[e?"firstChild":"lastChild"];return m(n)&&(n=n[e?"firstChild":"lastChild"]),hu.isText(n)&&0===n.data.length&&(n=e?t.previousSibling||t.nextSibling:t.nextSibling||t.previousSibling),l.remove(t,!0),n},h=function(t){var n,r,o=t.commonAncestorContainer;if(t=Bm.expandRng(e,t,u,!0),c.split){if(t=iC.split(t),n=eT(e,t,!0),r=eT(e,t),n!==r){if(/^(TR|TH|TD)$/.test(n.nodeName)&&n.firstChild&&(n="TR"===n.nodeName?n.firstChild.firstChild||n:n.firstChild||n),o&&/^T(HEAD|BODY|FOOT|R)$/.test(o.nodeName)&&Jk(r)&&r.firstChild&&(r=r.firstChild||r),Qk(l,n,r)){var i=Re.from(n.firstChild).getOr(n);return d(nT(l,i,!0,"span",{id:"_start","data-mce-type":"bookmark"})),void p(!0)}if(Qk(l,r,n)){var i=Re.from(r.lastChild).getOr(r);return d(nT(l,i,!1,"span",{id:"_end","data-mce-type":"bookmark"})),void p(!1)}n=tT(l,n,"span",{id:"_start","data-mce-type":"bookmark"}),r=tT(l,r,"span",{id:"_end","data-mce-type":"bookmark"}),d(n),d(r),n=p(!0),r=p()}else n=r=d(n);t.startContainer=n.parentNode?n.parentNode:n,t.startOffset=l.nodeIndex(n),t.endContainer=r.parentNode?r.parentNode:r,t.endOffset=l.nodeIndex(r)+1}Pm.walk(l,t,function(t){Gk(t,function(t){g(t),hu.isElement(t)&&"underline"===e.dom.getStyle(t,"text-decoration")&&t.parentNode&&"underline"===pm.getTextDecoration(l,t.parentNode)&&uT(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:"underline"}},null,t)})})};if(r)return void(r.nodeType?(a=l.createRng(),a.setStartBefore(r),a.setEndAfter(r),h(a)):h(r));if("false"!==l.getContentEditable(f.getNode()))f.isCollapsed()&&c.inline&&!l.select("td[data-mce-selected],th[data-mce-selected]").length?CC(e,t,n,o):(i=sf.getPersistentBookmark(e.selection,!0),h(f.getRng()),f.moveToBookmark(i),c.inline&&nC.match(e,t,n,f.getStart())&&pm.moveStart(l,f,f.getRng()),e.nodeChanged());else{r=f.getNode();for(var v=0,y=u.length;v<y&&(!u[v].ceFalseOverride||!uT(e,u[v],n,r,r));v++);}},fT={removeFormat:uT,remove:lT},dT=xr.each,mT=function(e){return e&&1===e.nodeType&&!nm.isBookmarkNode(e)&&!ff(e)&&!hu.isBogus(e)},gT=function(e,t){var n;for(n=e;n;n=n[t]){if(3===n.nodeType&&0!==n.nodeValue.length)return e;if(1===n.nodeType&&!nm.isBookmarkNode(n))return n}return e},pT=function(e,t,n){var r,o,i=new gg(e);if(t&&n&&(t=gT(t,"previousSibling"),n=gT(n,"nextSibling"),i.compare(t,n))){for(r=t.nextSibling;r&&r!==n;)o=r,r=r.nextSibling,t.appendChild(o);return e.remove(n),xr.each(xr.grep(n.childNodes),function(e){t.appendChild(e)}),t}return n},hT=function(e,t,n){dT(e.childNodes,function(e){mT(e)&&(t(e)&&n(e),e.hasChildNodes()&&hT(e,t,n))})},vT=function(e,n){return t(function(t,n){return!(!n||!pm.getStyle(e,n,t))},n)},yT=function(e,n,r){return t(function(t,n,r){e.setStyle(r,t,n),""===r.getAttribute("style")&&r.removeAttribute("style"),bT(e,r)},n,r)},bT=function(e,t){"SPAN"===t.nodeName&&0===e.getAttribs(t).length&&e.remove(t,!0)},CT=function(e,t){var n;1===t.nodeType&&t.parentNode&&1===t.parentNode.nodeType&&(n=pm.getTextDecoration(e,t.parentNode),e.getStyle(t,"color")&&n?e.setStyle(t,"text-decoration",n):e.getStyle(t,"text-decoration")===n&&e.setStyle(t,"text-decoration",null))},xT=function(e,n,r,o){(n.styles.color||n.styles.textDecoration)&&(xr.walk(o,t(CT,e),"childNodes"),CT(e,o))},wT=function(e,t,n,r){t.styles&&t.styles.backgroundColor&&hT(r,vT(e,"fontSize"),yT(e,"backgroundColor",pm.replaceVars(t.styles.backgroundColor,n)))},ET=function(e,t,n,r){"sub"!==t.inline&&"sup"!==t.inline||(hT(r,vT(e,"fontSize"),yT(e,"fontSize","")),e.remove(e.select("sup"===t.inline?"sub":"sup",r),!0))},NT=function(e,t,n,r){r&&t.merge_siblings!==!1&&(r=pT(e,pm.getNonWhiteSpaceSibling(r),r),r=pT(e,r,pm.getNonWhiteSpaceSibling(r,!0)))},ST=function(e,t,n){if(t.clear_child_styles){var r=t.links?"*:not(a)":"*";dT(e.select(r,n),function(n){mT(n)&&dT(t.styles,function(t,r){e.setStyle(n,r,"")})})}},kT=function(e,t,n,r){dT(t,function(t){dT(e.dom.select(t.inline,r),function(r){mT(r)&&fT.removeFormat(e,t,n,r,t.exact?r:null)}),ST(e.dom,t,r)})},TT=function(e,t,n,r,o){nC.matchNode(e,o.parentNode,n,r)&&fT.removeFormat(e,t,r,o)||t.merge_with_parents&&e.dom.getParent(o.parentNode,function(i){if(nC.matchNode(e,i,n,r))return fT.removeFormat(e,t,r,o),!0})},RT={mergeWithChildren:kT,mergeUnderlineAndColor:xT,mergeBackgroundColorAndFontSize:wT,mergeSubSup:ET,mergeSiblings:NT,mergeWithParents:TT},AT=xr.each,BT=function(e){return e&&1===e.nodeType&&!nm.isBookmarkNode(e)&&!ff(e)&&!hu.isBogus(e)},DT=function(e,t,n,r){var o,i,a=e.formatter.get(t),u=a[0],c=!r&&e.selection.isCollapsed(),s=e.dom,l=e.selection,f=function(e,t){if(t=t||u,e){if(t.onformat&&t.onformat(e,t,n,r),AT(t.styles,function(t,r){s.setStyle(e,r,pm.replaceVars(t,n))}),t.styles){var o=s.getAttrib(e,"style");o&&e.setAttribute("data-mce-style",o)}AT(t.attributes,function(t,r){s.setAttrib(e,r,pm.replaceVars(t,n))}),AT(t.classes,function(t){t=pm.replaceVars(t,n),s.hasClass(e,t)||s.addClass(e,t)})}},d=function(e,t){var n=!1;return!!u.selector&&(AT(e,function(e){if(!("collapsed"in e&&e.collapsed!==c))return s.is(t,e.selector)&&!ff(t)?(f(t,e),n=!0,!1):void 0}),n)},m=function(r,o,i,c){var s,l,m=[],g=!0;s=u.inline||u.block,l=r.create(s),f(l),Pm.walk(r,o,function(o){var i,p=function(o){var h,v,y,b;if(b=g,h=o.nodeName.toLowerCase(),v=o.parentNode.nodeName.toLowerCase(),1===o.nodeType&&r.getContentEditable(o)&&(b=g,g="true"===r.getContentEditable(o),y=!0),pm.isEq(h,"br"))return i=0,void(u.block&&r.remove(o));if(u.wrapper&&nC.matchNode(e,o,t,n))return void(i=0);if(g&&!y&&u.block&&!u.wrapper&&pm.isTextBlock(e,h)&&pm.isValid(e,v,s))return o=r.rename(o,s),f(o),m.push(o),void(i=0);if(u.selector){var C=d(a,o);if(!u.inline||C)return void(i=0)}!g||y||!pm.isValid(e,s,h)||!pm.isValid(e,v,s)||!c&&3===o.nodeType&&1===o.nodeValue.length&&65279===o.nodeValue.charCodeAt(0)||ff(o)||u.inline&&r.isBlock(o)?(i=0,AT(xr.grep(o.childNodes),p),y&&(g=b),i=0):(i||(i=r.clone(l,!1),o.parentNode.insertBefore(i,o),m.push(i)),i.appendChild(o))};AT(o,p)}),u.links===!0&&AT(m,function(e){var t=function(e){"A"===e.nodeName&&f(e,u),AT(xr.grep(e.childNodes),t)};t(e)}),AT(m,function(o){var i,c=function(e){var t=0;return AT(e.childNodes,function(e){pm.isWhiteSpaceNode(e)||nm.isBookmarkNode(e)||t++}),t},s=function(e){var t=!1;return AT(e.childNodes,function(e){if(BT(e))return t=e,!1}),t},l=function(e){var t,n;return t=s(e),t&&!nm.isBookmarkNode(t)&&nC.matchName(r,t,u)&&(n=r.clone(t,!1),f(n),r.replace(n,e,!0),r.remove(t,1)),n||e};return i=c(o),(m.length>1||!r.isBlock(o))&&0===i?void r.remove(o,1):void((u.inline||u.wrapper)&&(u.exact||1!==i||(o=l(o)),RT.mergeWithChildren(e,a,n,o),RT.mergeWithParents(e,u,t,n,o),RT.mergeBackgroundColorAndFontSize(r,u,n,o),RT.mergeSubSup(r,u,n,o),RT.mergeSiblings(r,u,n,o)))})};if("false"!==s.getContentEditable(l.getNode())){if(u){if(r)r.nodeType?d(a,r)||(i=s.createRng(),i.setStartBefore(r),i.setEndAfter(r),m(s,Bm.expandRng(e,i,a),null,!0)):m(s,r,null,!0);else if(c&&u.inline&&!s.select("td[data-mce-selected],th[data-mce-selected]").length)bC(e,t,n);else{var g=e.selection.getNode();e.settings.forced_root_block||!a[0].defaultBlock||s.getParent(g,s.isBlock)||DT(e,a[0].defaultBlock),e.selection.setRng(kg.normalize(e.selection.getRng())),o=sf.getPersistentBookmark(e.selection,!0),m(s,Bm.expandRng(e,l.getRng(),a)),u.styles&&RT.mergeUnderlineAndColor(s,u,n,g),l.moveToBookmark(o),pm.moveStart(s,l,l.getRng()),e.nodeChanged()}Xk.postProcess(t,e)}}else{r=l.getNode();for(var p=0,h=a.length;p<h;p++)if(a[p].ceFalseOverride&&s.is(r,a[p].selector))return void f(r,a[p])}},_T={applyFormat:DT},OT=xr.each,PT=function(e,t){var n={};e.set({}),t.on("NodeChange",function(r){var o=pm.getParents(t.dom,r.element),i={};o=xr.grep(o,function(e){return 1===e.nodeType&&!e.getAttribute("data-mce-bogus")}),OT(e.get(),function(e,r){OT(o,function(a){return t.formatter.matchNode(a,r,{},e.similar)?(n[r]||(OT(e,function(e){e(!0,{node:a,format:r,parents:o})}),n[r]=e),i[r]=e,!1):!nC.matchesUnInheritedFormatSelector(t,a,r)&&void 0})}),OT(n,function(e,t){i[t]||(delete n[t],OT(e,function(e){e(!1,{node:r.element,format:t,parents:o})}))})})},IT=function(e,t,n,r){var o=e.get();OT(t.split(","),function(e){o[e]||(o[e]=[],o[e].similar=r),o[e].push(n)}),e.set(o)},LT=function(e,t,n,r,o){null===t.get()&&PT(t,e),IT(t,n,r,o)},FT={formatChanged:LT},MT=function(e){var t={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table",collapsed:!1,styles:{"float":"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all"},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all"}],italic:[{inline:"em",remove:"all"},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all"}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all"}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all"}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},fontsize_class:{inline:"span",attributes:{"class":"%value"}},blockquote:{block:"blockquote",wrapper:1,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(){return!0},onformat:function(t,n,r){xr.each(r,function(n,r){e.setAttrib(t,r,n)})}},removeformat:[{selector:"b,strong,em,i,font,u,strike,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return xr.each("p h1 h2 h3 h4 h5 h6 div address pre div dt dd samp".split(/\s/),function(e){t[e]={block:e,remove:"all"}}),t},UT={get:MT},zT=xr.each,VT=tc.DOM,jT=function(e,t){var n,r,o,i=t&&t.schema||C({}),a=function(e,t){t.classes.length&&VT.addClass(e,t.classes.join(" ")),VT.setAttribs(e,t.attrs)},u=function(e){var t;return r="string"==typeof e?{name:e,classes:[],attrs:{}}:e,t=VT.create(r.name),a(t,r),t},c=function(e,t){var n="string"!=typeof e?e.nodeName.toLowerCase():e,r=i.getElementRule(n),o=r&&r.parentsRequired;return!(!o||!o.length)&&(t&&xr.inArray(o,t)!==-1?t:o[0])},s=function(e,t,n){var r,o,i,a=t.length>0&&t[0],l=a&&a.name;if(i=c(e,l))l===i?(o=t[0],t=t.slice(1)):o=i;else if(a)o=t[0],t=t.slice(1);else if(!n)return e;return o&&(r=u(o),r.appendChild(e)),n&&(r||(r=VT.create("div"),r.appendChild(e)),xr.each(n,function(t){var n=u(t);r.insertBefore(n,e)})),s(r,t,o&&o.siblings)};return e&&e.length?(r=e[0],
n=u(r),o=VT.create("div"),o.appendChild(s(n,e.slice(1),r.siblings)),o):""},HT=function(e,t){return jT(WT(e),t)},qT=function(e){var t,n={classes:[],attrs:{}};return e=n.selector=xr.trim(e),"*"!==e&&(t=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(e,t,r,o,i){switch(t){case"#":n.attrs.id=r;break;case".":n.classes.push(r);break;case":":xr.inArray("checked disabled enabled read-only required".split(" "),r)!==-1&&(n.attrs[r]=r)}if("["===o){var a=i.match(/([\w\-]+)(?:\=\"([^\"]+))?/);a&&(n.attrs[a[1]]=a[2])}return""})),n.name=t||"div",n},WT=function(e){return e&&"string"==typeof e?(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),xr.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(e){var t=xr.map(e.split(/(?:~\+|~|\+)/),qT),n=t.pop();return t.length&&(n.siblings=t),n}).reverse()):[]},$T=function(e,t){var n,r,o,i,a,u,c="";if(u=e.settings.preview_styles,u===!1)return"";"string"!=typeof u&&(u="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow");var s=function(e){return e.replace(/%(\w+)/g,"")};if("string"==typeof t){if(t=e.formatter.get(t),!t)return;t=t[0]}return"preview"in t&&(u=t.preview,u===!1)?"":(n=t.block||t.inline||"span",i=WT(t.selector),i.length?(i[0].name||(i[0].name=n),n=t.selector,r=jT(i,e)):r=jT([n],e),o=VT.select(n,r)[0]||r.firstChild,zT(t.styles,function(e,t){e=s(e),e&&VT.setStyle(o,t,e)}),zT(t.attributes,function(e,t){e=s(e),e&&VT.setAttrib(o,t,e)}),zT(t.classes,function(e){e=s(e),VT.hasClass(o,e)||VT.addClass(o,e)}),e.fire("PreviewFormats"),VT.setStyles(r,{position:"absolute",left:-65535}),e.getBody().appendChild(r),a=VT.getStyle(e.getBody(),"fontSize",!0),a=/px$/.test(a)?parseInt(a,10):0,zT(u.split(" "),function(t){var n=VT.getStyle(o,t,!0);if(!("background-color"===t&&/transparent|rgba\s*\([^)]+,\s*0\)/.test(n)&&(n=VT.getStyle(e.getBody(),t,!0),"#ffffff"===VT.toHex(n).toLowerCase())||"color"===t&&"#000000"===VT.toHex(n).toLowerCase())){if("font-size"===t&&/em|%$/.test(n)){if(0===a)return;var r=parseFloat(n)/(/%$/.test(n)?100:1);n=r*a+"px"}"border"===t&&n&&(c+="padding:0 2px;"),c+=t+":"+n+";"}}),e.fire("AfterPreviewFormats"),VT.remove(r),c)},KT={getCssText:$T,parseSelector:WT,selectorToHtml:HT},XT=function(e,t,n,r,o){var i=t.get(n);!nC.match(e,n,r,o)||"toggle"in i[0]&&!i[0].toggle?_T.applyFormat(e,n,r,o):fT.remove(e,n,r,o)},YT={toggle:XT},GT=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var t=1;t<=6;t++)e.addShortcut("access+"+t,"",["FormatBlock",!1,"h"+t]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},ZT={setup:GT},JT=Object.prototype.hasOwnProperty,QT=function(e,t){return t},eR=function(e){return function(){for(var t=new Array(arguments.length),n=0;n<t.length;n++)t[n]=arguments[n];if(0===t.length)throw new Error("Can't merge zero objects");for(var r={},o=0;o<t.length;o++){var i=t[o];for(var a in i)JT.call(i,a)&&(r[a]=e(r[a],i[a]))}return r}},tR=eR(QT),nR=function(e,t,n){e.addAttributeFilter("data-mce-tabindex",function(e,t){for(var n,r=e.length;r--;)n=e[r],n.attr("tabindex",n.attributes.map["data-mce-tabindex"]),n.attr(t,null)}),e.addAttributeFilter("src,href,style",function(e,r){for(var o,i,a=e.length,u="data-mce-"+r,c=t.url_converter,s=t.url_converter_scope;a--;)o=e[a],i=o.attributes.map[u],void 0!==i?(o.attr(r,i.length>0?i:null),o.attr(u,null)):(i=o.attributes.map[r],"style"===r?i=n.serializeStyle(n.parseStyle(i),o.name):c&&(i=c.call(s,i,r,o.name)),o.attr(r,i.length>0?i:null))}),e.addAttributeFilter("class",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("class"),n&&(n=t.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),t.attr("class",n.length>0?n:null))}),e.addAttributeFilter("data-mce-type",function(e,t,n){for(var r,o=e.length;o--;)if(r=e[o],"bookmark"===r.attributes.map["data-mce-type"]&&!n.cleanup){var i=Re.from(r.firstChild).exists(function(e){return!cs.isZwsp(e.value)});i?r.unwrap():r.remove()}}),e.addNodeFilter("noscript",function(e){for(var t,n=e.length;n--;)t=e[n].firstChild,t&&(t.value=Iu.decode(t.value))}),e.addNodeFilter("script,style",function(e,n){for(var r,o,i,a=e.length,u=function(e){return e.replace(/(<!--\[CDATA\[|\]\]-->)/g,"\n").replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")};a--;)r=e[a],o=r.firstChild?r.firstChild.value:"","script"===n?(i=r.attr("type"),i&&r.attr("type","mce-no/type"===i?null:i.replace(/^mce\-/,"")),"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="// <![CDATA[\n"+u(o)+"\n// ]]>")):"xhtml"===t.element_format&&o.length>0&&(r.firstChild.value="<!--\n"+u(o)+"\n-->")}),e.addNodeFilter("#comment",function(e){for(var t,n=e.length;n--;)t=e[n],0===t.value.indexOf("[CDATA[")?(t.name="#cdata",t.type=4,t.value=t.value.replace(/^\[CDATA\[|\]\]$/g,"")):0===t.value.indexOf("mce:protected ")&&(t.name="#text",t.type=3,t.raw=!0,t.value=unescape(t.value).substr(14))}),e.addNodeFilter("xml:namespace,input",function(e,t){for(var n,r=e.length;r--;)n=e[r],7===n.type?n.remove():1===n.type&&("input"!==t||"type"in n.attributes.map||n.attr("type","text"))}),e.addAttributeFilter("data-mce-type",function(t){$e(t,function(t){"format-caret"===t.attr("data-mce-type")&&(t.isEmpty(e.schema.getNonEmptyElements())?t.remove():t.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize",function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)})},rR=function(e){var t,n,r=function(e){return e&&"br"===e.name};t=e.lastChild,r(t)&&(n=t.prev,r(n)&&(t.remove(),n.remove()))},oR={register:nR,trimTrailingBr:rR},iR=function(t,n,r){var o,i,a,u=t.dom;return n=n.cloneNode(!0),o=e.document.implementation,o.createHTMLDocument&&(i=o.createHTMLDocument(""),xr.each("BODY"===n.nodeName?n.childNodes:[n],function(e){i.body.appendChild(i.importNode(e,!0))}),n="BODY"!==n.nodeName?i.body.firstChild:i.body,a=u.doc,u.doc=i),Kw.firePreProcess(t,tR(r,{node:n})),a&&(u.doc=a),n},aR=function(e,t){return e&&e.hasEventListeners("PreProcess")&&!t.no_events},uR=function(e,t,n){return aR(e,n)?iR(e,t,n):t},cR={process:uR},sR=function(e,t){$e(t,function(t){e.attr(t,null)})},lR=function(e,t,n){e.addNodeFilter("font",function(e){$e(e,function(e){var r=t.parse(e.attr("style")),o=e.attr("color"),i=e.attr("face"),a=e.attr("size");o&&(r.color=o),i&&(r["font-family"]=i),a&&(r["font-size"]=n[parseInt(e.attr("size"),10)-1]),e.name="span",e.attr("style",t.serialize(r)),sR(e,["color","face","size"])})})},fR=function(e,t){e.addNodeFilter("strike",function(e){$e(e,function(e){var n=t.parse(e.attr("style"));n["text-decoration"]="line-through",e.name="span",e.attr("style",t.serialize(n))})})},dR=function(e,t){var n=x();t.convert_fonts_to_spans&&lR(e,n,xr.explode(t.font_size_legacy_values)),fR(e,n)},mR=function(e,t){t.inline_styles&&dR(e,t)},gR={register:mR},pR=/^[ \t\r\n]*$/,hR={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},vR=function(e,t,n){var r,o,i=n?"lastChild":"firstChild",a=n?"prev":"next";if(e[i])return e[i];if(e!==t){if(r=e[a])return r;for(o=e.parent;o&&o!==t;o=o.parent)if(r=o[a])return r}},yR=function(){function e(e,t){this.name=e,this.type=t,1===t&&(this.attributes=[],this.attributes.map={})}return e.create=function(t,n){var r,o;if(r=new e(t,hR[t]||1),n)for(o in n)r.attr(o,n[o]);return r},e.prototype.replace=function(e){var t=this;return e.parent&&e.remove(),t.insert(e,t),t.remove(),t},e.prototype.attr=function(e,t){var n,r,o=this;if("string"!=typeof e){for(r in e)o.attr(r,e[r]);return o}if(n=o.attributes){if(void 0!==t){if(null===t){if(e in n.map)for(delete n.map[e],r=n.length;r--;)if(n[r].name===e)return n=n.splice(r,1),o;return o}if(e in n.map){for(r=n.length;r--;)if(n[r].name===e){n[r].value=t;break}}else n.push({name:e,value:t});return n.map[e]=t,o}return n.map[e]}},e.prototype.clone=function(){var t,n,r,o,i,a=this,u=new e(a.name,a.type);if(r=a.attributes){for(i=[],i.map={},t=0,n=r.length;t<n;t++)o=r[t],"id"!==o.name&&(i[i.length]={name:o.name,value:o.value},i.map[o.name]=o.value);u.attributes=i}return u.value=a.value,u.shortEnded=a.shortEnded,u},e.prototype.wrap=function(e){var t=this;return t.parent.insert(e,t),e.append(t),t},e.prototype.unwrap=function(){var e,t,n=this;for(e=n.firstChild;e;)t=e.next,n.insert(e,n,!0),e=t;n.remove()},e.prototype.remove=function(){var e=this,t=e.parent,n=e.next,r=e.prev;return t&&(t.firstChild===e?(t.firstChild=n,n&&(n.prev=null)):r.next=n,t.lastChild===e?(t.lastChild=r,r&&(r.next=null)):n.prev=r,e.parent=e.next=e.prev=null),e},e.prototype.append=function(e){var t,n=this;return e.parent&&e.remove(),t=n.lastChild,t?(t.next=e,e.prev=t,n.lastChild=e):n.lastChild=n.firstChild=e,e.parent=n,e},e.prototype.insert=function(e,t,n){var r;return e.parent&&e.remove(),r=t.parent||this,n?(t===r.firstChild?r.firstChild=e:t.prev.next=e,e.prev=t.prev,e.next=t,t.prev=e):(t===r.lastChild?r.lastChild=e:t.next.prev=e,e.next=t.next,e.prev=t,t.next=e),e.parent=r,e},e.prototype.getAll=function(e){var t,n=this,r=[];for(t=n.firstChild;t;t=vR(t,n))t.name===e&&r.push(t);return r},e.prototype.empty=function(){var e,t,n,r=this;if(r.firstChild){for(e=[],n=r.firstChild;n;n=vR(n,r))e.push(n);for(t=e.length;t--;)n=e[t],n.parent=n.firstChild=n.lastChild=n.next=n.prev=null}return r.firstChild=r.lastChild=null,r},e.prototype.isEmpty=function(e,t,n){var r,o,i=this,a=i.firstChild;if(t=t||{},a)do{if(1===a.type){if(a.attributes.map["data-mce-bogus"])continue;if(e[a.name])return!1;for(r=a.attributes.length;r--;)if(o=a.attributes[r].name,"name"===o||0===o.indexOf("data-mce-bookmark"))return!1}if(8===a.type)return!1;if(3===a.type&&!pR.test(a.value))return!1;if(3===a.type&&a.parent&&t[a.parent.name]&&pR.test(a.value))return!1;if(n&&n(a))return!1}while(a=vR(a,i));return!0},e.prototype.walk=function(e){return vR(this,null,e)},e}(),bR=function(e,t,n,r){var o=e.padd_empty_with_br||t.insert;o&&n[r.name]?r.empty().append(new yR("br",1)).shortEnded=!0:r.empty().append(new yR("#text",3)).value=" "},CR=function(e){return xR(e,"#text")&&" "===e.firstChild.value},xR=function(e,t){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===t},wR=function(e,t){var n=e.getElementRule(t.name);return n&&n.paddEmpty},ER=function(e,t,n,r){return r.isEmpty(t,n,function(t){return wR(e,t)})},NR=function(e,t){return e&&(t[e.name]||"br"===e.name)},SR=function(e,t){var n=e.schema;t.remove_trailing_brs&&e.addNodeFilter("br",function(e,r,o){var i,a,u,c,s,l,f,d,m=e.length,g=xr.extend({},n.getBlockElements()),p=n.getNonEmptyElements(),h=n.getWhiteSpaceElements();for(g.body=1,i=0;i<m;i++)if(a=e[i],u=a.parent,g[a.parent.name]&&a===u.lastChild){for(s=a.prev;s;){if(l=s.name,"span"!==l||"bookmark"!==s.attr("data-mce-type")){if("br"!==l)break;if("br"===l){a=null;break}}s=s.prev}a&&(a.remove(),ER(n,p,h,u)&&(f=n.getElementRule(u.name),f&&(f.removeEmpty?u.remove():f.paddEmpty&&bR(t,o,g,u))))}else{for(c=a;u&&u.firstChild===c&&u.lastChild===c&&(c=u,!g[u.name]);)u=u.parent;c===u&&t.padd_empty_with_br!==!0&&(d=new yR("#text",3),d.value=" ",a.replace(d))}}),e.addAttributeFilter("href",function(e){var n,r=e.length,o=function(e){var t=e.split(" ").filter(function(e){return e.length>0});return t.concat(["noopener"]).sort().join(" ")},i=function(e){var t=e?xr.trim(e):"";return/\b(noopener)\b/g.test(t)?t:o(t)};if(!t.allow_unsafe_link_target)for(;r--;)n=e[r],"a"===n.name&&"_blank"===n.attr("target")&&n.attr("rel",i(n.attr("rel")))}),t.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(e){for(var t,n,r,o,i=e.length;i--;)if(o=e[i],"a"===o.name&&o.firstChild&&!o.attr("href")){r=o.parent,t=o.lastChild;do n=t.prev,r.insert(t,o),t=n;while(t)}}),t.fix_list_elements&&e.addNodeFilter("ul,ol",function(e){for(var t,n,r=e.length;r--;)if(t=e[r],n=t.parent,"ul"===n.name||"ol"===n.name)if(t.prev&&"li"===t.prev.name)t.prev.append(t);else{var o=new yR("li",1);o.attr("style","list-style-type: none"),t.wrap(o)}}),t.validate&&n.getValidClasses()&&e.addAttributeFilter("class",function(e){for(var t,r,o,i,a,u,c,s=e.length,l=n.getValidClasses();s--;){for(t=e[s],r=t.attr("class").split(" "),a="",o=0;o<r.length;o++)i=r[o],c=!1,u=l["*"],u&&u[i]&&(c=!0),u=l[t.name],!c&&u&&u[i]&&(c=!0),c&&(a&&(a+=" "),a+=i);a.length||(a=null),t.attr("class",a)}})},kR=xr.makeMap,TR=xr.each,RR=xr.explode,AR=xr.extend,BR=function(e,t,n){xr.inArray(t,n)===-1&&(e.addAttributeFilter(n,function(e,t){for(var n=e.length;n--;)e[n].attr(t,null)}),t.push(n))},DR=function(e,t,n){if(!t.no_events&&e){var r=Kw.firePostProcess(e,tR(t,{content:n}));return r.content}return n},_R=function(e,t,n){var r=cs.trim(n.getInner?t.innerHTML:e.getOuterHTML(t));return n.selection||Ga(Go.fromDom(t))?r:xr.trim(r)},OR=function(e,t,n){var r=n.selection?tR({forced_root_block:!1},n):n,o=e.parse(t,r);return oR.trimTrailingBr(o),o},PR=function(e,t,n){var r=D(e,t);return r.serialize(n)},IR=function(e,t,n,r,o){var i=PR(t,n,r);return DR(e,o,i)};!function(e){e.isBookmarkNode=nm.isBookmarkNode}(ee||(ee={}));var LR,FR=ee,MR=hu.isContentEditableFalse,UR=hu.isContentEditableTrue,zR=function(e,t){for(;t&&t!==e;){if(UR(t)||MR(t))return t;t=t.parentNode}return null},VR=function(t,n){var r,o,i,a,u,c,s,l,f,d,m,g,p,h,v,y,b,C=n.dom,x=xr.each,w=n.getDoc(),E=e.document,N=Math.abs,S=Math.round,k=n.getBody();a={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]};var T=".mce-content-body";n.contentStyles.push(T+" div.mce-resizehandle {position: absolute;border: 1px solid black;box-sizing: content-box;background: #FFF;width: 7px;height: 7px;z-index: 10000}"+T+" .mce-resizehandle:hover {background: #000}"+T+" img[data-mce-selected],"+T+" hr[data-mce-selected] {outline: 1px solid black;resize: none}"+T+" .mce-clonedresizable {position: absolute;"+(St.gecko?"":"outline: 1px dashed black;")+"opacity: .5;filter: alpha(opacity=50);z-index: 10000}"+T+" .mce-resize-helper {background: #555;background: rgba(0,0,0,0.75);border-radius: 3px;border: 1px;color: white;display: none;font-family: sans-serif;font-size: 12px;white-space: nowrap;line-height: 14px;margin: 5px 10px;padding: 5px;position: absolute;z-index: 10001}");var R=function(e){return e&&("IMG"===e.nodeName||n.dom.is(e,"figure.image"))},A=function(e,t){return R(e.target)&&!NS.isXYWithinRange(e.clientX,e.clientY,t)},B=function(e){var t=e.target;A(e,n.selection.getRng())&&!e.isDefaultPrevented()&&n.selection.select(t)},D=function(e){return n.dom.is(e,"figure.image")?e.querySelector("img"):e},_=function(e){var t=n.settings.object_resizing;return t!==!1&&!St.iOS&&("string"!=typeof t&&(t="table,img,figure.image,div"),"false"!==e.getAttribute("data-mce-resize")&&(e!==n.getBody()&&Li(Go.fromDom(e),t)))},O=function(e){var t,a,x,w,E;t=e.screenX-c,a=e.screenY-s,h=t*u[2]+d,v=a*u[3]+m,h=h<5?5:h,v=v<5?5:v,x=R(r)&&n.settings.resize_img_proportional!==!1?!eS.modifierPressed(e):eS.modifierPressed(e)||R(r)&&u[2]*u[3]!==0,x&&(N(t)>N(a)?(v=S(h*g),h=S(v/g)):(h=S(v/g),v=S(h*g))),C.setStyles(D(o),{width:h,height:v}),w=u.startPos.x+t,E=u.startPos.y+a,w=w>0?w:0,E=E>0?E:0,C.setStyles(i,{left:w,top:E,display:"block"}),i.innerHTML=h+" &times; "+v,u[2]<0&&o.clientWidth<=h&&C.setStyle(o,"left",l+(d-h)),u[3]<0&&o.clientHeight<=v&&C.setStyle(o,"top",f+(m-v)),t=k.scrollWidth-y,a=k.scrollHeight-b,t+a!==0&&C.setStyles(i,{left:w-t,top:E-a}),p||(Kw.fireObjectResizeStart(n,r,d,m),p=!0)},P=function(){p=!1;var e=function(e,t){t&&(r.style[e]||!n.schema.isValid(r.nodeName.toLowerCase(),e)?C.setStyle(D(r),e,t):C.setAttrib(D(r),e,t))};e("width",h),e("height",v),C.unbind(w,"mousemove",O),C.unbind(w,"mouseup",P),E!==w&&(C.unbind(E,"mousemove",O),C.unbind(E,"mouseup",P)),C.remove(o),C.remove(i),I(r),Kw.fireObjectResized(n,r,h,v),C.setAttrib(r,"style",C.getAttrib(r,"style")),n.nodeChanged()},I=function(e){var t,p,N,S,T;L(),U(),t=C.getPos(e,k),l=t.x,f=t.y,T=e.getBoundingClientRect(),p=T.width||T.right-T.left,N=T.height||T.bottom-T.top,r!==e&&(r=e,h=v=0),S=n.fire("ObjectSelected",{target:e}),_(e)&&!S.isDefaultPrevented()?x(a,function(e,t){var n,a=function(t){c=t.screenX,s=t.screenY,d=D(r).clientWidth,m=D(r).clientHeight,g=m/d,u=e,e.startPos={x:p*e[0]+l,y:N*e[1]+f},y=k.scrollWidth,b=k.scrollHeight,o=r.cloneNode(!0),C.addClass(o,"mce-clonedresizable"),C.setAttrib(o,"data-mce-bogus","all"),o.contentEditable=!1,o.unSelectabe=!0,C.setStyles(o,{left:l,top:f,margin:0}),o.removeAttribute("data-mce-selected"),k.appendChild(o),C.bind(w,"mousemove",O),C.bind(w,"mouseup",P),E!==w&&(C.bind(E,"mousemove",O),C.bind(E,"mouseup",P)),i=C.add(k,"div",{"class":"mce-resize-helper","data-mce-bogus":"all"},d+" &times; "+m)};n=C.get("mceResizeHandle"+t),n&&C.remove(n),n=C.add(k,"div",{id:"mceResizeHandle"+t,"data-mce-bogus":"all","class":"mce-resizehandle",unselectable:!0,style:"cursor:"+t+"-resize; margin:0; padding:0"}),11===St.ie&&(n.contentEditable=!1),C.bind(n,"mousedown",function(e){e.stopImmediatePropagation(),e.preventDefault(),a(e)}),e.elm=n,C.setStyles(n,{left:p*e[0]+l-n.offsetWidth/2,top:N*e[1]+f-n.offsetHeight/2})}):L(),r.setAttribute("data-mce-selected","1")},L=function(){var e,t;U(),r&&r.removeAttribute("data-mce-selected");for(e in a)t=C.get("mceResizeHandle"+e),t&&(C.unbind(t),C.remove(t))},F=function(e){var r,o,i=function(e,t){if(e)do if(e===t)return!0;while(e=e.parentNode)};if(!p&&!n.removed)return x(C.select("img[data-mce-selected],hr[data-mce-selected]"),function(e){e.removeAttribute("data-mce-selected")}),o="mousedown"===e.type?e.target:t.getNode(),o=C.$(o).closest("table,img,figure.image,hr")[0],i(o,k)&&(z(),r=t.getStart(!0),i(r,o)&&i(t.getEnd(!0),o))?void I(o):void L()},M=function(e){return MR(zR(n.getBody(),e))},U=function(){for(var e in a){var t=a[e];t.elm&&(C.unbind(t.elm),delete t.elm)}},z=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,!1)}catch(e){}};n.on("init",function(){z(),St.ie&&St.ie>=11&&(n.on("mousedown click",function(e){var t=e.target,r=t.nodeName;p||!/^(TABLE|IMG|HR)$/.test(r)||M(t)||(2!==e.button&&n.selection.select(t,"TABLE"===r),"mousedown"===e.type&&n.nodeChanged())}),n.dom.bind(k,"mscontrolselect",function(e){var t=function(e){Pt.setEditorTimeout(n,function(){n.selection.select(e)})};return M(e.target)?(e.preventDefault(),void t(e.target)):void(/^(TABLE|IMG|HR)$/.test(e.target.nodeName)&&(e.preventDefault(),"IMG"===e.target.tagName&&t(e.target)))}));var e=Pt.throttle(function(e){n.composing||F(e)});n.on("nodechange ResizeEditor ResizeWindow drop FullscreenStateChanged",e),n.on("keyup compositionend",function(t){r&&"TABLE"===r.nodeName&&e(t)}),n.on("hide blur",L),n.on("contextmenu",B)}),n.on("remove",U);var V=function(){r=o=null};return{isResizable:_,showResizeRect:I,hideResizeRect:L,updateResizeRect:F,destroy:V}},jR=function(e){return hu.isContentEditableTrue(e)||hu.isContentEditableFalse(e)},HR=function(e,t,n){for(;e&&e!==t;){if(n(e))return e;e=e.parentNode}return null},qR=function(e,t,n){var r,o,i;if(r=n.elementFromPoint(e,t),o=n.body.createTextRange(),r&&"HTML"!==r.tagName||(r=n.body),o.moveToElementText(r),i=xr.toArray(o.getClientRects()),i=i.sort(function(e,n){return e=Math.abs(Math.max(e.top-t,e.bottom-t)),n=Math.abs(Math.max(n.top-t,n.bottom-t)),e-n}),i.length>0){t=(i[0].bottom+i[0].top)/2;try{return o.moveToPoint(e,t),o.collapse(!0),o}catch(a){}}return null},WR=function(e,t){var n=e&&e.parentElement?e.parentElement():null;return hu.isContentEditableFalse(HR(n,t,jR))?null:e},$R=function(e,t,n){var r,o,i=n;if(i.caretPositionFromPoint)o=i.caretPositionFromPoint(e,t),o&&(r=n.createRange(),r.setStart(o.offsetNode,o.offset),r.collapse(!0));else if(n.caretRangeFromPoint)r=n.caretRangeFromPoint(e,t);else if(i.body.createTextRange){r=i.body.createTextRange();try{r.moveToPoint(e,t),r.collapse(!0)}catch(a){r=qR(e,t,n)}return WR(r,n.body)}return r},KR={fromPoint:$R},XR=function(e,t){return We(t,function(t){var n=e.fire("GetSelectionRange",{range:t});return n.range!==t?n.range:t})},YR={processRanges:XR},GR=function(t,n){var r=n||e.document,o=r.createDocumentFragment();return $e(t,function(e){o.appendChild(e.dom())}),Go.fromDom(o)},ZR=ki("element","width","rows"),JR=ki("element","cells"),QR=ki("x","y"),eA=function(e,t){var n=parseInt(vi(e,t),10);return isNaN(n)?1:n},tA=function(e,t,n,r,o){for(var i=eA(o,"rowspan"),a=eA(o,"colspan"),u=e.rows(),c=n;c<n+i;c++){u[c]||(u[c]=JR(ts(r),[]));for(var s=t;s<t+a;s++){var l=u[c].cells();l[s]=c===n&&s===t?o:es(o)}}},nA=function(e,t,n){var r=e.rows(),o=r[n]?r[n].cells():[];return!!o[t]},rA=function(e,t,n){for(;nA(e,t,n);)t++;return t},oA=function(e){return Ze(e,function(e,t){return t.cells().length>e?t.cells().length:e},0)},iA=function(e,t){for(var n=e.rows(),r=0;r<n.length;r++)for(var o=n[r].cells(),i=0;i<o.length;i++)if(zi(o[i],t))return Re.some(QR(i,r));return Re.none()},aA=function(e,t,n,r,o){for(var i=[],a=e.rows(),u=n;u<=o;u++){var c=a[u].cells(),s=t<r?c.slice(t,r+1):c.slice(r,t+1);i.push(JR(a[u].element(),s))}return i},uA=function(e,t,n){var r=t.x(),o=t.y(),i=n.x(),a=n.y(),u=o<a?aA(e,r,o,i,a):aA(e,r,a,i,o);return ZR(e.element(),oA(u),u)},cA=function(e,t){var n=es(e.element()),r=Go.fromTag("tbody");return gc(r,t),fc(n,r),n},sA=function(e){return We(e.rows(),function(e){var t=We(e.cells(),function(e){var t=ts(e);return bi(t,"colspan"),bi(t,"rowspan"),t}),n=es(e.element());return gc(n,t),n})},lA=function(e){var t=ZR(es(e),0,[]);return $e(Oc(e,"tr"),function(e,n){$e(Oc(e,"td,th"),function(r,o){tA(t,rA(t,o,n),n,e,r)})}),ZR(t.element(),oA(t.rows()),t.rows())},fA=function(e){return cA(e,sA(e))},dA=function(e,t,n){return iA(e,t).bind(function(t){return iA(e,n).map(function(n){return uA(e,t,n)})})},mA={fromDom:lA,toDom:fA,subsection:dA},gA=function(e){return Je(e,function(e){return"ul"===ei(e)||"ol"===ei(e)})},pA=function(e,t){return Je(e,function(e){return"li"===ei(e)&&ZN(e,t)}).fold(ye([]),function(t){return gA(e).map(function(e){return[Go.fromTag("li"),Go.fromTag(ei(e))]}).getOr([])})},hA=function(e,t){var n=Ze(t,function(e,t){return fc(t,e),t},e);return t.length>0?GR([n]):n},vA=function(e){return $a(e)?Xi(e).filter(Wa).fold(ye([]),function(t){return[e,t]}):Wa(e)?[e]:[]},yA=function(e,t){var n=Go.fromDom(t.commonAncestorContainer),r=ah.parentsAndSelf(n,e),o=Ye(r,function(e){return ja(e)||za(e)}),i=pA(r,t),a=o.concat(i.length?i:vA(n));return We(a,es)},bA=function(){return GR([])},CA=function(e,t){return hA(Go.fromDom(t.cloneContents()),yA(e,t))},xA=function(e,n){return Lc(n,"table",t(zi,e))},wA=function(e,t){return xA(e,t[0]).bind(function(e){var n=t[0],r=t[t.length-1],o=mA.fromDom(e);return mA.subsection(o,n,r).map(function(e){return GR([mA.toDom(e)])})}).getOrThunk(bA)},EA=function(e,t){return t.length>0&&t[0].collapsed?bA():CA(e,t[0])},NA=function(e,t){var n=Tb.getCellsFromElementOrRanges(t,e);return n.length>0?wA(e,n):EA(e,t)},SA={read:NA},kA=function(e){return Re.from(e.selection.getRng()).map(function(t){var n=e.dom.add(e.getBody(),"div",{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},t.cloneContents()),r=cs.trim(n.innerText);return e.dom.remove(n),r}).getOr("")},TA=function(e,t){var n,r=e.selection.getRng(),o=e.dom.create("body"),i=e.selection.getSel(),a=YR.processRanges(e,wb.getRanges(i));return n=t.contextual?SA.read(Go.fromDom(e.getBody()),a).dom():r.cloneContents(),n&&o.appendChild(n),e.selection.serializer.serialize(o,t)},RA=function(e,t){if(void 0===t&&(t={}),t.get=!0,t.format=t.format||"html",t.selection=!0,t=e.fire("BeforeGetContent",t),t.isDefaultPrevented())return e.fire("GetContent",t),t.content;if("text"===t.format)return kA(e);t.getInner=!0;var n=TA(e,t);return"tree"===t.format?n:(t.content=e.selection.isCollapsed()?"":n,e.fire("GetContent",t),t.content)},AA={getContent:RA},BA=function(e,t){return Yc(Yc({format:"html"},e),{set:!0,selection:!0,content:t})},DA=function(e,t){if("raw"!==t.format){var n=e.parser.parse(t.content,Yc({isRootContent:!0,forced_root_block:!1},t));return D({validate:e.validate},e.schema).serialize(n)}return t.content},_A=function(e,t,n){var r,o,i,a=BA(n,t),u=e.selection.getRng(),c=e.getDoc();if(!a.no_events&&(a=e.fire("BeforeSetContent",a),a.isDefaultPrevented()))return void e.fire("SetContent",a);if(t=DA(e,a),u.insertNode){t+='<span id="__caret">_</span>',u.startContainer===c&&u.endContainer===c?c.body.innerHTML=t:(u.deleteContents(),0===c.body.childNodes.length?c.body.innerHTML=t:u.createContextualFragment?u.insertNode(u.createContextualFragment(t)):(o=c.createDocumentFragment(),i=c.createElement("div"),o.appendChild(i),i.outerHTML=t,u.insertNode(o))),r=e.dom.get("__caret"),u=c.createRange(),u.setStartBefore(r),u.setEndBefore(r),e.selection.setRng(u),e.dom.remove("__caret");try{e.selection.setRng(u)}catch(s){}}else{var l=u;l.item&&(c.execCommand("Delete",!1,null),l=e.selection.getRng()),/^\s+/.test(t)?(l.pasteHTML('<span id="__mce_tmp">_</span>'+t),e.dom.remove("__mce_tmp")):l.pasteHTML(t)}a.no_events||e.fire("SetContent",a)},OA={setContent:_A},PA=function(e,t,n,r,o){var i=n?t.startContainer:t.endContainer,a=n?t.startOffset:t.endOffset;return Re.from(i).map(Go.fromDom).map(function(e){return r&&t.collapsed?e:ta(e,o(e,a)).getOr(e)}).bind(function(e){return ri(e)?Re.some(e):Xi(e)}).map(function(e){return e.dom()}).getOr(e)},IA=function(e,t,n){return PA(e,t,!0,n,function(e,t){return Math.min(oa(e),t)})},LA=function(e,t,n){return PA(e,t,!1,n,function(e,t){return t>0?t-1:t})},FA=function(e,t){for(var n=e;e&&hu.isText(e)&&0===e.length;)e=t?e.nextSibling:e.previousSibling;return e||n},MA=function(e,t){var n,r,o,i,a;return t?(r=t.startContainer,o=t.endContainer,i=t.startOffset,a=t.endOffset,n=t.commonAncestorContainer,!t.collapsed&&(r===o&&a-i<2&&r.hasChildNodes()&&(n=r.childNodes[i]),3===r.nodeType&&3===o.nodeType&&(r=r.length===i?FA(r.nextSibling,!0):r.parentNode,o=0===a?FA(o.previousSibling,!1):o.parentNode,r&&r===o))?r:n&&3===n.nodeType?n.parentNode:n):e},UA=function(e,t,n,r){var o,i,a=[];if(i=e.getRoot(),n=e.getParent(n||IA(i,t,t.collapsed),e.isBlock),r=e.getParent(r||LA(i,t,t.collapsed),e.isBlock),n&&n!==i&&a.push(n),n&&r&&n!==r){o=n;for(var u=new b(n,i);(o=u.next())&&o!==r;)e.isBlock(o)&&a.push(o)}return r&&n!==r&&r!==i&&a.push(r),a},zA=function(e,t,n){return Re.from(t).map(function(t){var r=e.nodeIndex(t),o=e.createRng();return o.setStart(t.parentNode,r),o.setEnd(t.parentNode,r+1),n&&(JN(e,o,t,!0),JN(e,o,t,!1)),o})},VA=xr.each,jA=function(e){return!!e.select},HA=function(e){return!(!e||!e.ownerDocument)&&qi(Go.fromDom(e.ownerDocument),Go.fromDom(e))},qA=function(e){return!!e&&(!!jA(e)||HA(e.startContainer)&&HA(e.endContainer))},WA=function(e,t,n,r){var o,i,a,u,c,s=function(t,n){var o=e.createRng();t?(o.setStart(t,n),o.setEnd(t,n),x(o),y(!1)):(JN(e,o,r.getBody(),!0),x(o))},l=function(e){return AA.getContent(r,e)},f=function(e,t){return OA.setContent(r,e,t)},d=function(e){return IA(r.getBody(),C(),e)},m=function(e){return LA(r.getBody(),C(),e)},g=function(e,t){return o.getBookmark(e,t)},p=function(e){return o.moveToBookmark(e)},h=function(t,n){return zA(e,t,n).each(x),t},v=function(){var e=C(),t=b();return!(!e||e.item)&&(e.compareEndPoints?0===e.compareEndPoints("StartToEnd",e):!t||e.collapsed)},y=function(e){var t=C();t.collapse(!!e),x(t)},b=function(){return t.getSelection?t.getSelection():t.document.selection},C=function(){var n,o,i,c,s=function(e,t,n){try{return t.compareBoundaryPoints(e,n)}catch(r){return-1}};if(!t)return null;if(c=t.document,"undefined"==typeof c||null===c)return null;if(void 0!==r.bookmark&&XE.hasFocus(r)===!1){var l=Sw.getRng(r);if(l.isSome())return l.map(function(e){return YR.processRanges(r,[e])[0]}).getOr(c.createRange())}try{(n=b())&&!hu.isRestrictedNode(n.anchorNode)&&(o=n.rangeCount>0?n.getRangeAt(0):n.createRange?n.createRange():c.createRange())}catch(f){}return o=YR.processRanges(r,[o])[0],o||(o=c.createRange?c.createRange():c.body.createTextRange()),o.setStart&&9===o.startContainer.nodeType&&o.collapsed&&(i=e.getRoot(),o.setStart(i,0),o.setEnd(i,0)),a&&u&&(0===s(o.START_TO_START,o,a)&&0===s(o.END_TO_END,o,a)?o=u:(a=null,u=null)),o},x=function(e,t){var n,o,i;if(qA(e)){var c=jA(e)?e:null;if(c){u=null;try{c.select()}catch(s){}}else{if(n=b(),i=r.fire("SetSelectionRange",{range:e,forward:t}),e=i.range,n){u=e;try{n.removeAllRanges(),n.addRange(e)}catch(s){}t===!1&&n.extend&&(n.collapse(e.endContainer,e.endOffset),n.extend(e.startContainer,e.startOffset)),a=n.rangeCount>0?n.getRangeAt(0):null}e.collapsed||e.startContainer!==e.endContainer||!n.setBaseAndExtent||St.ie||e.endOffset-e.startOffset<2&&e.startContainer.hasChildNodes()&&(o=e.startContainer.childNodes[e.startOffset],o&&"IMG"===o.tagName&&(n.setBaseAndExtent(e.startContainer,e.startOffset,e.endContainer,e.endOffset),n.anchorNode===e.startContainer&&n.focusNode===e.endContainer||n.setBaseAndExtent(o,0,o,1))),r.fire("AfterSetSelectionRange",{range:e,forward:t})}}},w=function(t){return f(e.getOuterHTML(t)),t},E=function(){return MA(r.getBody(),C())},N=function(t,n){return UA(e,C(),t,n)},S=function(){var t,n,r=b();return!(r&&r.anchorNode&&r.focusNode)||(t=e.createRng(),t.setStart(r.anchorNode,r.anchorOffset),t.collapse(!0),n=e.createRng(),n.setStart(r.focusNode,r.focusOffset),n.collapse(!0),t.compareBoundaryPoints(t.START_TO_START,n)<=0)},k=function(){var t=C(),n=b();if(!wb.hasMultipleRanges(n)&&QN(r)){var o=Dx.normalize(e,t);return o.each(function(e){x(e,S())}),o.getOr(t)}return t},T=function(t,n){var o;return c||(c={},o={},r.on("NodeChange",function(t){var n=t.element,r=e.getParents(n,null,e.getRoot()),i={};VA(c,function(t,n){VA(r,function(a){if(e.is(a,n))return o[n]||(VA(t,function(e){e(!0,{node:a,selector:n,parents:r})}),o[n]=t),i[n]=t,!1})}),VA(o,function(e,t){i[t]||(delete o[t],VA(e,function(e){e(!1,{node:n,selector:t,parents:r})}))})})),c[t]||(c[t]=[]),c[t].push(n),O},R=function(){for(var t,n=e.getRoot();n&&"BODY"!==n.nodeName;){if(n.scrollHeight>n.clientHeight){t=n;break}n=n.parentNode}return t},A=function(e,t){return MC.scrollElementIntoView(r,e,t)},B=function(e,t){return x(KR.fromPoint(e,t,r.getDoc()))},D=function(){var e=C();return e.collapsed?Rl.fromRangeStart(e).getClientRects()[0]:e.getBoundingClientRect()},_=function(){t=a=u=null,i.destroy()},O={bookmarkManager:null,controlSelection:null,dom:e,win:t,serializer:n,editor:r,collapse:y,setCursorLocation:s,getContent:l,setContent:f,getBookmark:g,moveToBookmark:p,select:h,isCollapsed:v,isForward:S,setNode:w,getNode:E,getSel:b,setRng:x,getRng:C,getStart:d,getEnd:m,getSelectedBlocks:N,normalize:k,selectorChanged:T,getScrollContainer:R,scrollIntoView:A,placeCaretAt:B,getBoundingClientRect:D,destroy:_};return o=FR(O),i=VR(O,r),O.bookmarkManager=o,O.controlSelection=i,O};!function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"}(LR||(LR={}));var $A=function(e,t){return e===Tl.Backwards?t.reverse():t},KA=function(e,t,n){return e===Tl.Forwards?t.next(n):t.prev(n)},XA=function(e,t,n,r){return hu.isBr(r.getNode(t===Tl.Forwards))?LR.Br:$f(n,r)===!1?LR.Block:LR.Wrap},YA=function(e,t,n,r){for(var o,i=yd(n),a=r,u=[];a&&(o=KA(t,i,a));){if(hu.isBr(o.getNode(!1)))return t===Tl.Forwards?{positions:$A(t,u).concat([o]),breakType:LR.Br,breakAt:Re.some(o)}:{positions:$A(t,u),breakType:LR.Br,breakAt:Re.some(o)};if(o.isVisible()){if(e(a,o)){var c=XA(n,t,a,o);return{positions:$A(t,u),breakType:c,breakAt:Re.some(o)}}u.push(o),a=o}else a=o}return{positions:$A(t,u),breakType:LR.Eol,breakAt:Re.none()}},GA=function(e,t,n,r){return t(n,r).breakAt.map(function(r){var o=t(n,r).positions;return e===Tl.Backwards?o.concat(r):[r].concat(o)}).getOr([])},ZA=function(e,t){return Ze(e,function(e,n){return e.fold(function(){return Re.some(n)},function(r){return tl(ut(r.getClientRects()),ut(n.getClientRects()),function(e,o){var i=Math.abs(t-e.left),a=Math.abs(t-o.left);return a<=i?n:r}).or(e)})},Re.none())},JA=function(e,t){return ut(t.getClientRects()).bind(function(t){return ZA(e,t.left)})},QA=t(YA,T.isAbove,-1),eB=t(YA,T.isBelow,1),tB=function(e,t){
return QA(e,t).breakAt.isNone()},nB=function(e,t){return eB(e,t).breakAt.isNone()},rB=t(GA,-1,QA),oB=t(GA,1,eB),iB=function(e){return _d.firstPositionIn(e).map(function(t){return[t].concat(eB(e,t).positions)}).getOr([])},aB=function(e){return _d.lastPositionIn(e).map(function(t){return QA(e,t).positions.concat(t)}).getOr([])},uB=hu.isContentEditableFalse,cB=Zs,sB=function(e,t,n,r){var o=e===Tl.Forwards,i=o?$h:Kh;if(!r.collapsed){var a=cB(r);if(uB(a))return VC(e,t,a,e===Tl.Backwards,!0)}var u=Ns(r),c=td(e,t.getBody(),r);if(i(c))return HC(t,c.getNode(!o));var s=Rp.normalizePosition(o,n(c));if(!s)return u?r:null;if(i(s))return VC(e,t,s.getNode(!o),o,!0);var l=n(s);return l&&i(l)&&id(s,l)?VC(e,t,l.getNode(!o),o,!0):u?WC(t,s.toRange(),!0):null},lB=function(e,t,n,r){var o,i,a,u,c,s,l,f,d;if(d=cB(r),o=td(e,t.getBody(),r),i=n(t.getBody(),lS(1),o),a=Ye(i,fS(1)),c=cr.last(o.getClientRects()),($h(o)||Yh(o))&&(d=o.getNode()),(Kh(o)||Gh(o))&&(d=o.getNode(!0)),!c)return null;if(s=c.left,u=vS(a,s),u&&uB(u.node))return l=Math.abs(s-u.left),f=Math.abs(s-u.right),VC(e,t,u.node,l<f,!0);if(d){var m=sS(e,t.getBody(),lS(1),d);if(u=vS(Ye(m,fS(1)),s))return WC(t,u.position.toRange(),!0);if(u=cr.last(Ye(m,fS(0))))return WC(t,u.position.toRange(),!0)}},fB=function(e){var t=e.dom.create(yp.getForcedRootBlock(e));return(!St.ie||St.ie>=11)&&(t.innerHTML='<br data-mce-bogus="1">'),t},dB=function(e,n,r){var o,i,a,u=yd(e.getBody()),c=t(od,u.next),s=t(od,u.prev);if(r.collapsed&&e.settings.forced_root_block){if(o=e.dom.getParent(r.startContainer,"PRE"),!o)return;i=1===n?c(Rl.fromRangeStart(r)):s(Rl.fromRangeStart(r)),i||(a=fB(e),1===n?e.$(o).after(a):e.$(o).before(a),e.selection.select(a,!0),e.selection.collapse())}},mB=function(e,n){var r,o=yd(e.getBody()),i=t(od,o.next),a=t(od,o.prev),u=n?Tl.Forwards:Tl.Backwards,c=n?i:a,s=e.selection.getRng();return(r=sB(u,e,c,s))?r:(r=dB(e,u,s),r?r:null)},gB=function(e,t){var n,r=t?1:-1,o=t?cS:uS,i=e.selection.getRng();return(n=lB(r,e,o,i))?n:(n=dB(e,r,i),n?n:null)},pB=function(e,t){return function(){var n=mB(e,t);return!!n&&($C(e,n),!0)}},hB=function(e,t){return function(){var n=gB(e,t);return!!n&&($C(e,n),!0)}},vB=function(e){return function(t){return e?Kh(t):$h(t)}},yB=function(e,t){return function(){var n=t?Rl.fromRangeEnd(e.selection.getRng()):Rl.fromRangeStart(e.selection.getRng()),r=t?eB(e.getBody(),n):QA(e.getBody(),n),o=t?ct(r.positions):ut(r.positions);return o.filter(vB(t)).fold(ye(!1),function(t){return e.selection.setRng(t.toRange()),!0})}},bB=function(e,t){return{left:e.left-t,top:e.top-t,right:e.right+2*t,bottom:e.bottom+2*t,width:e.width+t,height:e.height+t}},CB=function(e,t){return tt(t,function(t){var n=bB(Vs(t.getBoundingClientRect()),-1);return[{x:n.left,y:e(n),cell:t},{x:n.right,y:e(n),cell:t}]})},xB=function(e,t,n){return Ze(e,function(e,r){return e.fold(function(){return Re.some(r)},function(e){var o=Math.sqrt(Math.abs(e.x-t)+Math.abs(e.y-n)),i=Math.sqrt(Math.abs(r.x-t)+Math.abs(r.y-n));return Re.some(i<o?r:e)})},Re.none())},wB=function(e,t,n,r,o){var i=Oc(Go.fromDom(n),"td,th,caption").map(function(e){return e.dom()}),a=Ye(CB(e,i),function(e){return t(e,o)});return xB(a,r,o).map(function(e){return e.cell})},EB=function(e){return e.bottom},NB=function(e){return e.top},SB=function(e,t){return e.y<t},kB=function(e,t){return e.y>t},TB=t(wB,EB,SB),RB=t(wB,NB,kB),AB=function(e,t){return ut(t.getClientRects()).bind(function(t){return TB(e,t.left,t.top)}).bind(function(e){return JA(aB(e),t)})},BB=function(e,t){return ct(t.getClientRects()).bind(function(t){return RB(e,t.left,t.top)}).bind(function(e){return JA(iB(e),t)})},DB=function(e,t,n){return n.breakAt.map(function(n){return e(t,n).breakAt.isSome()}).getOr(!1)},_B=function(e){return e.breakType===LR.Wrap&&0===e.positions.length},OB=function(e){return e.breakType===LR.Br&&1===e.positions.length},PB=function(e,t,n){var r=e(t,n);return _B(r)||!hu.isBr(n.getNode())&&OB(r)?!DB(e,t,r):r.breakAt.isNone()},IB=t(PB,QA),LB=t(PB,eB),FB=function(e,t,n){var r=Rl.fromRangeStart(t);return _d.positionIn(!e,n).map(function(e){return e.isEqual(r)}).getOr(!1)},MB=function(e,t,n,r){var o=e.selection.getRng(),i=t?1:-1;if(Of()&&FB(t,o,n)){var a=VC(i,e,n,!t,!0);return $C(e,a),!0}return!1},UB=function(e,t,n){return AB(t,n).orThunk(function(){return ut(n.getClientRects()).bind(function(n){return ZA(rB(e,Rl.before(t)),n.left)})}).getOr(Rl.before(t))},zB=function(e,t,n){return BB(t,n).orThunk(function(){return ut(n.getClientRects()).bind(function(n){return ZA(oB(e,Rl.after(t)),n.left)})}).getOr(Rl.after(t))},VB=function(e,t){var n=t.getNode(e);return hu.isElement(n)&&"TABLE"===n.nodeName?Re.some(n):Re.none()},jB=function(e,t,n,r){var o=yp.getForcedRootBlock(t);o?t.undoManager.transact(function(){var r=Go.fromTag(o);hi(r,yp.getForcedRootBlockAttrs(t)),fc(r,Go.fromTag("br")),e?sc(Go.fromDom(n),r):cc(Go.fromDom(n),r);var i=t.dom.createRng();i.setStart(r.dom(),0),i.setEnd(r.dom(),0),$C(t,i)}):$C(t,r.toRange())},HB=function(e,t,n){var r=t?VB(!0,n):VB(!1,n),o=t===!1;r.fold(function(){return $C(e,n.toRange())},function(r){return _d.positionIn(o,e.getBody()).filter(function(e){return e.isEqual(n)}).fold(function(){return $C(e,n.toRange())},function(o){return jB(t,e,r,n)})})},qB=function(e,t,n,r){var o=e.selection.getRng(),i=Rl.fromRangeStart(o),a=e.getBody();if(!t&&IB(r,i)){var u=UB(a,n,i);return HB(e,t,u),!0}if(t&&LB(r,i)){var u=zB(a,n,i);return HB(e,t,u),!0}return!1},WB=function(e,t){return function(){return Re.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Re.from(e.dom.getParent(n,"table")).map(function(n){return MB(e,t,n)})}).getOr(!1)}},$B=function(e,t){return function(){return Re.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(n){return Re.from(e.dom.getParent(n,"table")).map(function(r){return qB(e,t,r,n)})}).getOr(!1)}},KB=function(e){return He(["figcaption"],ei(e))},XB=function(t){var n=e.document.createRange();return n.setStartBefore(t.dom()),n.setEndBefore(t.dom()),n},YB=function(e,t,n){n?fc(e,t):lc(e,t)},GB=function(e,t){var n=Go.fromTag("br");return YB(e,n,t),XB(n)},ZB=function(e,t,n,r){var o=Go.fromTag(n),i=Go.fromTag("br");return hi(o,r),fc(o,i),YB(e,o,t),XB(i)},JB=function(e,t,n,r){return""===t?GB(e,r):ZB(e,r,t,n)},QB=function(e,n){var r=t(zi,n);return Ic(Go.fromDom(e.container()),Va,r).filter(KB)},eD=function(e,t,n){return t?nB(e.dom(),n):tB(e.dom(),n)},tD=function(e,t){var n=Go.fromDom(e.getBody()),r=Rl.fromRangeStart(e.selection.getRng()),o=yp.getForcedRootBlock(e),i=yp.getForcedRootBlockAttrs(e);return QB(r,n).exists(function(){if(eD(n,t,r)){var a=JB(n,o,i,t);return e.selection.setRng(a),!0}return!1})},nD=function(e,t){return function(){return!!e.selection.isCollapsed()&&tD(e,t)}},rD=function(e){return We(e,function(e){return tR({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:he},e)})},oD=function(e,t){return t.keyCode===e.keyCode&&t.shiftKey===e.shiftKey&&t.altKey===e.altKey&&t.ctrlKey===e.ctrlKey&&t.metaKey===e.metaKey},iD=function(e,t){return tt(rD(e),function(e){return oD(e,t)?[e]:[]})},aD=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,r)}},uD=function(e,t){return Je(iD(e,t),function(e){return e.action()})},cD={match:iD,action:aD,execute:uD},sD=function(e,t,n){var r=qo.detect().os;cD.execute([{keyCode:eS.RIGHT,action:pB(e,!0)},{keyCode:eS.LEFT,action:pB(e,!1)},{keyCode:eS.UP,action:hB(e,!1)},{keyCode:eS.DOWN,action:hB(e,!0)},{keyCode:eS.RIGHT,action:WB(e,!0)},{keyCode:eS.LEFT,action:WB(e,!1)},{keyCode:eS.UP,action:$B(e,!1)},{keyCode:eS.DOWN,action:$B(e,!0)},{keyCode:eS.RIGHT,action:jy.move(e,t,!0)},{keyCode:eS.LEFT,action:jy.move(e,t,!1)},{keyCode:eS.RIGHT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:jy.moveNextWord(e,t)},{keyCode:eS.LEFT,ctrlKey:!r.isOSX(),altKey:r.isOSX(),action:jy.movePrevWord(e,t)},{keyCode:eS.UP,action:nD(e,!1)},{keyCode:eS.DOWN,action:nD(e,!0)}],n).each(function(e){n.preventDefault()})},lD=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&sD(e,t,n)})},fD={setup:lD},dD=function(e,t,n){cD.execute([{keyCode:eS.BACKSPACE,action:cD.action(jv.backspaceDelete,e,!1)},{keyCode:eS.DELETE,action:cD.action(jv.backspaceDelete,e,!0)},{keyCode:eS.BACKSPACE,action:cD.action(ZC.backspaceDelete,e,!1)},{keyCode:eS.DELETE,action:cD.action(ZC.backspaceDelete,e,!0)},{keyCode:eS.BACKSPACE,action:cD.action(Zy.backspaceDelete,e,t,!1)},{keyCode:eS.DELETE,action:cD.action(Zy.backspaceDelete,e,t,!0)},{keyCode:eS.BACKSPACE,action:cD.action($b.backspaceDelete,e,!1)},{keyCode:eS.DELETE,action:cD.action($b.backspaceDelete,e,!0)},{keyCode:eS.BACKSPACE,action:cD.action(Rh.backspaceDelete,e,!1)},{keyCode:eS.DELETE,action:cD.action(Rh.backspaceDelete,e,!0)},{keyCode:eS.BACKSPACE,action:cD.action(Ch.backspaceDelete,e,!1)},{keyCode:eS.DELETE,action:cD.action(Ch.backspaceDelete,e,!0)},{keyCode:eS.BACKSPACE,action:cD.action(DC.backspaceDelete,e,!1)},{keyCode:eS.DELETE,action:cD.action(DC.backspaceDelete,e,!0)}],n).each(function(e){n.preventDefault()})},mD=function(e,t){cD.execute([{keyCode:eS.BACKSPACE,action:cD.action(jv.paddEmptyElement,e)},{keyCode:eS.DELETE,action:cD.action(jv.paddEmptyElement,e)}],t)},gD=function(e,t){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&dD(e,t,n)}),e.on("keyup",function(t){t.isDefaultPrevented()===!1&&mD(e,t)})},pD={setup:gD},hD=function(e){for(;e;){if(1===e.nodeType||3===e.nodeType&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},vD=function(e,t){var n,r,o,i,a=t,u=e.dom,c=e.schema.getMoveCaretBeforeOnEnterElements();if(t){if(/^(LI|DT|DD)$/.test(t.nodeName)){var s=hD(t.firstChild);s&&/^(UL|OL|DL)$/.test(s.nodeName)&&t.insertBefore(u.doc.createTextNode(" "),t.firstChild)}if(o=u.createRng(),t.normalize(),t.hasChildNodes()){for(n=new b(t,t);r=n.current();){if(hu.isText(r)){o.setStart(r,0),o.setEnd(r,0);break}if(c[r.nodeName.toLowerCase()]){o.setStartBefore(r),o.setEndBefore(r);break}a=r,r=n.next()}r||(o.setStart(a,0),o.setEnd(a,0))}else hu.isBr(t)?t.nextSibling&&u.isBlock(t.nextSibling)?(o.setStartBefore(t),o.setEndBefore(t)):(o.setStartAfter(t),o.setEndAfter(t)):(o.setStart(t,0),o.setEnd(t,0));e.selection.setRng(o),u.remove(i),e.selection.scrollIntoView(t)}},yD=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},bD=function(e){return Re.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},CD=function(e){return bD(e).fold(ye(""),function(e){return e.nodeName.toUpperCase()})},xD=function(e){return bD(e).filter(function(e){return $a(Go.fromDom(e))}).isSome()},wD={moveToCaretPosition:vD,getEditableRoot:yD,getParentBlock:bD,getParentBlockName:CD,isListItemParentBlock:xD},ED=function(e,t){return e.firstChild&&e.firstChild.nodeName===t},ND=function(e,t){return e&&e.parentNode&&e.parentNode.nodeName===t},SD=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},kD=function(e){return SD(e)&&SD(e.parentNode)},TD=function(e){var t=e.parentNode;return/^(LI|DT|DD)$/.test(t.nodeName)?t:e},RD=function(e,t,n){for(var r=e[n?"firstChild":"lastChild"];r&&!hu.isElement(r);)r=r[n?"nextSibling":"previousSibling"];return r===t},AD=function(e,t,n,r,o){var i=e.dom,a=e.selection.getRng();if(n!==e.getBody()){kD(n)&&(o="LI");var u=o?t(o):i.create("BR");if(RD(n,r,!0)&&RD(n,r,!1))ND(n,"LI")?i.insertAfter(u,TD(n)):i.replace(u,n);else if(RD(n,r,!0))ND(n,"LI")?(i.insertAfter(u,TD(n)),u.appendChild(i.doc.createTextNode(" ")),u.appendChild(n)):n.parentNode.insertBefore(u,n);else if(RD(n,r,!1))i.insertAfter(u,TD(n));else{n=TD(n);var c=a.cloneRange();c.setStartAfter(r),c.setEndAfter(n);var s=c.extractContents();"LI"===o&&ED(s,"LI")?(u=s.firstChild,i.insertAfter(s,n)):(i.insertAfter(s,n),i.insertAfter(u,n))}i.remove(r),wD.moveToCaretPosition(e,u)}},BD={insert:AD},DD=function(e){$e(_c(Go.fromDom(e),oi),function(e){var t=e.dom();t.nodeValue=cs.trim(t.nodeValue)})},_D=function(e,t){return t&&"A"===t.nodeName&&e.isEmpty(t)},OD=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},PD=function(e){e.innerHTML='<br data-mce-bogus="1">'},ID=function(e,t){return e.nodeName===t||e.previousSibling&&e.previousSibling.nodeName===t},LD=function(e,t){return t&&e.isBlock(t)&&!/^(TD|TH|CAPTION|FORM)$/.test(t.nodeName)&&!/^(fixed|absolute)/i.test(t.style.position)&&"true"!==e.getContentEditable(t)},FD=function(e,t,n){var r,o=n,i=[];if(o){for(;o=o.firstChild;){if(e.isBlock(o))return;hu.isElement(o)&&!t[o.nodeName.toLowerCase()]&&i.push(o)}for(r=i.length;r--;)o=i[r],!o.hasChildNodes()||o.firstChild===o.lastChild&&""===o.firstChild.nodeValue?e.remove(o):_D(e,o)&&e.remove(o)}},MD=function(e,t,n){return hu.isText(t)===!1?n:e?1===n&&t.data.charAt(n-1)===cs.ZWSP?0:n:n===t.data.length-1&&t.data.charAt(n)===cs.ZWSP?t.data.length:n},UD=function(e){var t=e.cloneRange();return t.setStart(e.startContainer,MD(!0,e.startContainer,e.startOffset)),t.setEnd(e.endContainer,MD(!1,e.endContainer,e.endOffset)),t},zD=function(e){do hu.isText(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},VD=function(e,t){var n,r,o=e.getRoot();for(n=t;n!==o&&"false"!==e.getContentEditable(n);)"true"===e.getContentEditable(n)&&(r=n),n=n.parentNode;return n!==o?r:o},jD=function(e,t,n){Re.from(n.style).map(e.dom.parseStyle).each(function(n){var r=Si(Go.fromDom(t)),o=Yc(Yc({},r),n);e.dom.setStyles(t,o)});var r=Re.from(n["class"]).map(function(e){return e.split(/\s+/)}),o=Re.from(t.className).map(function(e){return Ye(e.split(/\s+/),function(e){return""!==e})});tl(r,o,function(n,r){var o=Ye(r,function(e){return!He(n,e)}),i=k(n,o);e.dom.setAttrib(t,"class",i.join(" "))});var i=["style","class"],a=li(n,function(e,t){return!He(i,t)}).t;e.dom.setAttribs(t,a)},HD=function(e,t){var n=yp.getForcedRootBlock(e);if(n&&n.toLowerCase()===t.tagName.toLowerCase()){var r=yp.getForcedRootBlockAttrs(e);jD(e,t,r)}},qD=function(e,t,n,r,o){var i,a,u,c,s,l,f=t||"P",d=e.dom,m=VD(d,r);if(a=d.getParent(r,d.isBlock),!a||!LD(d,a)){if(a=a||m,l=a===e.getBody()||OD(a)?a.nodeName.toLowerCase():a.parentNode.nodeName.toLowerCase(),!a.hasChildNodes())return i=d.create(f),HD(e,i),a.appendChild(i),n.setStart(i,0),n.setEnd(i,0),i;for(c=r;c.parentNode!==a;)c=c.parentNode;for(;c&&!d.isBlock(c);)u=c,c=c.previousSibling;if(u&&e.schema.isValidChild(l,f.toLowerCase())){for(i=d.create(f),HD(e,i),u.parentNode.insertBefore(i,u),c=u;c&&!d.isBlock(c);)s=c.nextSibling,i.appendChild(c),c=s;n.setStart(r,o),n.setEnd(r,o)}}return r},WD=function(e,t){var n;t.normalize(),n=t.lastChild,n&&!/^(left|right)$/gi.test(e.getStyle(n,"float",!0))||e.add(t,"br")},$D=function(e,t){var n,r,o,i,a,u,c,s,l,f,d,m,g,p=e.dom,h=e.schema,v=h.getNonEmptyElements(),y=e.selection.getRng(),C=function(t){var n,i,u,c=o,s=h.getTextInlineElements();if(n=t||"TABLE"===f||"HR"===f?p.create(t||m):a.cloneNode(!1),u=n,yp.shouldKeepStyles(e)===!1)p.setAttrib(n,"style",null),p.setAttrib(n,"class",null);else do if(s[c.nodeName]){if(ff(c)||nm.isBookmarkNode(c))continue;i=c.cloneNode(!1),p.setAttrib(i,"id",""),n.hasChildNodes()?(i.appendChild(n.firstChild),n.appendChild(i)):(u=i,n.appendChild(i))}while((c=c.parentNode)&&c!==r);return HD(e,n),PD(u),n},x=function(e){var t,n,r,u;if(u=MD(e,o,i),hu.isText(o)&&(e?u>0:u<o.nodeValue.length))return!1;if(o.parentNode===a&&g&&!e)return!0;if(e&&hu.isElement(o)&&o===a.firstChild)return!0;if(ID(o,"TABLE")||ID(o,"HR"))return g&&!e||!g&&e;for(t=new b(o,a),hu.isText(o)&&(e&&0===u?t.prev():e||u!==o.nodeValue.length||t.next());n=t.current();){if(hu.isElement(n)){if(!n.getAttribute("data-mce-bogus")&&(r=n.nodeName.toLowerCase(),v[r]&&"br"!==r))return!1}else if(hu.isText(n)&&!/^[ \t\r\n]*$/.test(n.nodeValue))return!1;e?t.prev():t.next()}return!0},w=function(){c=/^(H[1-6]|PRE|FIGURE)$/.test(f)&&"HGROUP"!==d?C(m):C(),yp.shouldEndContainerOnEmptyBlock(e)&&LD(p,l)&&p.isEmpty(a)?c=p.split(l,a):p.insertAfter(c,a),wD.moveToCaretPosition(e,c)};if(Dx.normalize(p,y).each(function(e){y.setStart(e.startContainer,e.startOffset),y.setEnd(e.endContainer,e.endOffset)}),o=y.startContainer,i=y.startOffset,m=yp.getForcedRootBlock(e),u=t.shiftKey,hu.isElement(o)&&o.hasChildNodes()&&(g=i>o.childNodes.length-1,o=o.childNodes[Math.min(i,o.childNodes.length-1)]||o,i=g&&hu.isText(o)?o.nodeValue.length:0),r=VD(p,o))return(m&&!u||!m&&u)&&(o=qD(e,m,y,o,i)),a=p.getParent(o,p.isBlock),l=a?p.getParent(a.parentNode,p.isBlock):null,f=a?a.nodeName.toUpperCase():"",d=l?l.nodeName.toUpperCase():"","LI"!==d||t.ctrlKey||(a=l,l=l.parentNode,f=d),/^(LI|DT|DD)$/.test(f)&&p.isEmpty(a)?void BD.insert(e,C,l,a,m):void(m&&a===e.getBody()||(m=m||"P",fs(a)?(c=Es(a),p.isEmpty(a)&&PD(a),HD(e,c),wD.moveToCaretPosition(e,c)):x()?w():x(!0)?(c=a.parentNode.insertBefore(C(),a),wD.moveToCaretPosition(e,ID(a,"HR")?c:a)):(n=UD(y).cloneRange(),n.setEndAfter(a),s=n.extractContents(),DD(s),zD(s),c=s.firstChild,p.insertAfter(s,a),FD(p,v,c),WD(p,a),p.isEmpty(a)&&PD(a),c.normalize(),p.isEmpty(c)?(p.remove(c),w()):(HD(e,c),wD.moveToCaretPosition(e,c))),p.setAttrib(c,"id",""),e.fire("NewBlock",{newBlock:c})))},KD={insert:$D},XD=function(e,t){return wD.getParentBlock(e).filter(function(e){return t.length>0&&Li(Go.fromDom(e),t)}).isSome()},YD=function(e){return XD(e,yp.getBrNewLineSelector(e))},GD=function(e){return XD(e,yp.getNoNewLineSelector(e))},ZD={shouldInsertBr:YD,shouldBlockNewLine:GD},JD=Bh.generate([{br:[]},{block:[]},{none:[]}]),QD=function(e,t){return ZD.shouldBlockNewLine(e)},e_=function(e){return function(t,n){var r=""===yp.getForcedRootBlock(t);return r===e}},t_=function(e){return function(t,n){return wD.isListItemParentBlock(t)===e}},n_=function(e,t){return function(n,r){var o=wD.getParentBlockName(n)===e.toUpperCase();return o===t}},r_=function(e){return n_("pre",e)},o_=function(){return n_("summary",!0)},i_=function(e){return function(t,n){return yp.shouldPutBrInPre(t)===e}},a_=function(e,t){return ZD.shouldInsertBr(e)},u_=function(e,t){return t},c_=function(e){var t=yp.getForcedRootBlock(e),n=wD.getEditableRoot(e.dom,e.selection.getStart());return n&&e.schema.isValidChild(n.nodeName,t?t:"P")},s_=function(e,t){return function(n,r){var o=Ze(e,function(e,t){return e&&t(n,r)},!0);return o?Re.some(t):Re.none()}},l_=function(e,t){return ry.evaluateUntil([s_([QD],JD.none()),s_([o_()],JD.br()),s_([r_(!0),i_(!1),u_],JD.br()),s_([r_(!0),i_(!1)],JD.block()),s_([r_(!0),i_(!0),u_],JD.block()),s_([r_(!0),i_(!0)],JD.br()),s_([t_(!0),u_],JD.br()),s_([t_(!0)],JD.block()),s_([e_(!0),u_,c_],JD.block()),s_([e_(!0)],JD.br()),s_([a_],JD.br()),s_([e_(!1),u_],JD.br()),s_([c_],JD.block())],[e,t.shiftKey]).getOr(JD.none())},f_={getAction:l_},d_=function(e,t){f_.getAction(e,t).fold(function(){Wx.insert(e,t)},function(){KD.insert(e,t)},he)},m_={insert:d_},g_=function(e){e.typing&&(e.typing=!1,e.add())},p_=function(e,t){t.isDefaultPrevented()||(t.preventDefault(),g_(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),m_.insert(e,t)}))},h_=function(e){e.on("keydown",function(t){t.keyCode===eS.ENTER&&p_(e,t)})},v_={setup:h_},y_=function(e,t){var n=t.container(),r=t.offset();return hu.isText(n)?(n.insertData(r,e),Re.some(T(n,r+e.length))):nd(t).map(function(n){var r=Go.fromText(e);return t.isAtEnd()?sc(n,r):cc(n,r),T(r.dom(),e.length)})},b_=t(y_," "),C_=t(y_," "),x_=function(e,t,n){return _d.navigateIgnore(e,t,n,qh)},w_=function(e,t){return Je(ah.parentsAndSelf(Go.fromDom(t.container()),e),Va)},E_=function(e,t,n){return x_(e,t.dom(),n).forall(function(e){return w_(t,n).fold(function(){return $f(e,n,t.dom())===!1},function(r){return $f(e,n,t.dom())===!1&&qi(r,Go.fromDom(e.container()))})})},N_=function(e,t,n){return w_(t,n).fold(function(){return x_(e,t.dom(),n).forall(function(e){return $f(e,n,t.dom())===!1})},function(t){return x_(e,t.dom(),n).isNone()})},S_=t(N_,!1),k_=t(N_,!0),T_=t(E_,!1),R_=t(E_,!0),A_=" ",B_=function(e){return T.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},D_=function(e,t){var n=Ye(ah.parentsAndSelf(Go.fromDom(t.container()),e),Va);return ut(n).getOr(e)},__=function(e,t){return B_(t)?Hh(t):Hh(t)||_d.prevPosition(D_(e,t).dom(),t).exists(Hh)},O_=function(e,t){return B_(t)?jh(t):jh(t)||_d.nextPosition(D_(e,t).dom(),t).exists(jh)},P_=function(e){return He(["pre","pre-wrap"],e)},I_=function(e){return nd(e).bind(function(e){return Ic(e,ri)}).exists(function(e){return P_(wi(e,"white-space"))})},L_=function(e,t){return _d.prevPosition(e.dom(),t).isNone()},F_=function(e,t){return _d.nextPosition(e.dom(),t).isNone()},M_=function(e,t){return L_(e,t)||F_(e,t)||S_(e,t)||k_(e,t)||Ph(e,t)||Oh(e,t)},U_=function(e,t){return!I_(t)&&(M_(e,t)||__(e,t)||O_(e,t))},z_=function(e,t){return!I_(t)&&(S_(e,t)||T_(e,t)||Ph(e,t)||__(e,t))},V_=function(e){var t=e.container(),n=e.offset();return hu.isText(t)&&n<t.data.length?T(t,n+1):e},j_=function(e,t){var n=V_(t);return!I_(n)&&(k_(e,n)||R_(e,n)||Oh(e,n)||O_(e,n))},H_=function(e,t){return z_(e,t)||j_(e,t)},q_=function(e,t){return Mh(e.charAt(t))},W_=function(e){var t=e.container();return hu.isText(t)&&_o(t.data,A_)},$_=function(e){var t=e.split("");return We(t,function(e,n){return Mh(e)&&n>0&&n<t.length-1&&zh(t[n-1])&&zh(t[n+1])?" ":e}).join("")},K_=function(e,t){var n=t.data,r=T(t,0);return!(!q_(n,0)||H_(e,r))&&(t.data=" "+n.slice(1),!0)},X_=function(e){var t=e.data,n=$_(t);return n!==t&&(e.data=n,!0)},Y_=function(e,t){var n=t.data,r=T(t,n.length-1);return!(!q_(n,n.length-1)||H_(e,r))&&(t.data=n.slice(0,-1)+" ",!0)},G_=function(e,t){return Re.some(t).filter(W_).bind(function(t){var n=t.container(),r=K_(e,n)||X_(n)||Y_(e,n);return r?Re.some(t):Re.none()})},Z_=function(e){var t=Go.fromDom(e.getBody());e.selection.isCollapsed()&&G_(t,T.fromRangeStart(e.selection.getRng())).each(function(t){e.selection.setRng(t.toRange())})},J_=function(e){return function(t){return t.fold(function(t){return _d.prevPosition(e.dom(),Rl.before(t))},function(e){return _d.firstPositionIn(e)},function(e){return _d.lastPositionIn(e)},function(t){return _d.nextPosition(e.dom(),Rl.after(t))})}},Q_=function(e,t){return function(n){return U_(e,n)?b_(t):C_(t)}},eO=function(e){return function(t){return e.selection.setRng(t.toRange()),e.nodeChanged(),!0}},tO=function(e){var n=Rl.fromRangeStart(e.selection.getRng()),r=Go.fromDom(e.getBody());if(e.selection.isCollapsed()){var o=t(Rp.isInlineTarget,e),i=Rl.fromRangeStart(e.selection.getRng());return Ny.readLocation(o,e.getBody(),i).bind(J_(r)).bind(Q_(r,n)).exists(eO(e))}return!1},nO=function(e,t){cD.execute([{keyCode:eS.SPACEBAR,action:cD.action(tO,e)}],t).each(function(e){t.preventDefault()})},rO=function(e){e.on("keydown",function(t){t.isDefaultPrevented()===!1&&nO(e,t)})},oO={setup:rO},iO=function(e){return Fc(Go.fromDom(e.getBody()),"*[data-mce-caret]").fold(ye(null),function(e){return e.dom()})},aO=function(e){e.selection.setRng(e.selection.getRng())},uO=function(e,t){t.hasAttribute("data-mce-caret")&&(Es(t),aO(e),e.selection.scrollIntoView(t))},cO=function(e,t){var n=iO(e);if(n)return"compositionstart"===t.type?(t.preventDefault(),t.stopPropagation(),void uO(e,n)):void(gs(n)&&(uO(e,n),e.undoManager.add()))},sO=function(e){e.on("keyup compositionstart",t(cO,e))},lO={setup:sO},fO=qo.detect().browser,dO=function(e){var t=yc(function(){e.composing||Z_(e)},0);fO.isIE()&&(e.on("keypress",function(e){t.throttle()}),e.on("remove",function(e){t.cancel()}))},mO=function(e){dO(e),e.on("input",function(t){t.isComposing===!1&&Z_(e)})},gO=function(e,t){cD.execute([{keyCode:eS.END,action:yB(e,!0)},{keyCode:eS.HOME,action:yB(e,!1)}],t).each(function(e){t.preventDefault()})},pO=function(e){e.on("keydown",function(t){t.isDefaultPrevented()===!1&&gO(e,t)})},hO={setup:pO},vO=function(e){var t=jy.setupSelectedState(e);lO.setup(e),fD.setup(e,t),pD.setup(e,t),v_.setup(e),oO.setup(e),mO(e),hO.setup(e)},yO={setup:vO},bO=function(e){return hu.isElement(e)&&qa(Go.fromDom(e))},CO=function(e){var t=e.selection.getRng(),n=T.fromRangeStart(t),r=T.fromRangeEnd(t);if(T.isElementPosition(n)){var o=n.container();bO(o)&&_d.firstPositionIn(o).each(function(e){return t.setStart(e.container(),e.offset())})}if(T.isElementPosition(r)){var o=n.container();bO(o)&&_d.lastPositionIn(o).each(function(e){return t.setEnd(e.container(),e.offset())})}e.selection.setRng(kg.normalize(t))},xO=function(e){e.on("click",function(t){t.detail>=3&&CO(e)})},wO=function(e){e.on("click",function(t){e.dom.getParent(t.target,"details")&&t.preventDefault()})},EO=function(e){e.parser.addNodeFilter("details",function(e){$e(e,function(e){e.attr("data-mce-open",e.attr("open")),e.attr("open","open")})}),e.serializer.addNodeFilter("details",function(e){$e(e,function(e){var t=e.attr("data-mce-open");e.attr("open",De(t)?t:null),e.attr("data-mce-open",null)})})},NO=function(e){wO(e),EO(e)},SO=tc.DOM,kO=function(e,t){var n=Go.fromDom(e.getDoc().head),r=Go.fromTag("style");pi(r,"type","text/css"),fc(r,Go.fromText(t)),fc(n,r)},TO=function(e){var t=Z(e.settings,e.schema);return t.addAttributeFilter("src,href,style,tabindex",function(t,n){for(var r,o,i,a=t.length,u=e.dom;a--;)if(r=t[a],o=r.attr(n),i="data-mce-"+n,!r.attributes.map[i]){if(0===o.indexOf("data:")||0===o.indexOf("blob:"))continue;"style"===n?(o=u.serializeStyle(u.parseStyle(o),r.name),o.length||(o=null),r.attr(i,o),r.attr(n,o)):"tabindex"===n?(r.attr(i,o),r.attr(n,null)):r.attr(i,e.convertURL(o,n,r.name))}}),t.addNodeFilter("script",function(e){for(var t,n,r=e.length;r--;)t=e[r],n=t.attr("type")||"no/type",0!==n.indexOf("mce-")&&t.attr("type","mce-"+n)}),t.addNodeFilter("#cdata",function(e){for(var t,n=e.length;n--;)t=e[n],t.type=8,t.name="#comment",t.value="[CDATA["+t.value+"]]"}),t.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(t){for(var n,r=t.length,o=e.schema.getNonEmptyElements();r--;)n=t[r],n.isEmpty(o)&&0===n.getAll("br").length&&(n.append(new yR("br",1)).shortEnded=!0)}),t},RO=function(e){e.settings.auto_focus&&Pt.setEditorTimeout(e,function(){var t;t=e.settings.auto_focus===!0?e:e.editorManager.get(e.settings.auto_focus),t.destroyed||t.focus()},100)},AO=function(e){e.bindPendingEventDelegates(),e.initialized=!0,e.fire("init"),e.focus(!0),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),RO(e)},BO=function(e){return e.inline?SO.styleSheetLoader:e.dom.styleSheetLoader},DO=function(t,n){var r,o,i=t.settings,a=t.getElement(),u=t.getDoc();i.inline||(t.getElement().style.visibility=t.orgVisibility),n||i.content_editable||(u.open(),u.write(t.iframeHTML),u.close()),i.content_editable&&(t.on("remove",function(){var e=this.getBody();SO.removeClass(e,"mce-content-body"),SO.removeClass(e,"mce-edit-focus"),SO.setAttrib(e,"contentEditable",null)}),SO.addClass(a,"mce-content-body"),t.contentDocument=u=i.content_document||e.document,t.contentWindow=i.content_window||e.window,t.bodyElement=a,i.content_document=i.content_window=null,i.root_name=a.nodeName.toLowerCase()),r=t.getBody(),r.disabled=!0,t.readonly=i.readonly,t.readonly||(t.inline&&"static"===SO.getStyle(r,"position",!0)&&(r.style.position="relative"),r.contentEditable=t.getParam("content_editable_state",!0)),r.disabled=!1,t.editorUpload=W(t),t.schema=C(i),t.dom=tc(u,{keep_values:!0,url_converter:t.convertURL,url_converter_scope:t,hex_colors:i.force_hex_style_colors,class_filter:i.class_filter,update_styles:!0,root_element:t.inline?t.getBody():null,collect:i.content_editable,schema:t.schema,contentCssCors:yp.shouldUseContentCssCors(t),onSetAttrib:function(e){t.fire("SetAttrib",e)}}),t.parser=TO(t),t.serializer=Q(i,t),t.selection=WA(t.dom,t.getWin(),t.serializer,t),t.annotator=A(t),t.formatter=G(t),t.undoManager=X(t),t._nodeChangeDispatcher=new $(t),t._selectionOverrides=ak(t),NO(t),xO(t),yO.setup(t),$N.setup(t),t.fire("PreInit"),i.browser_spellcheck||i.gecko_spellcheck||(u.body.spellcheck=!1,SO.setAttrib(r,"spellcheck","false")),t.quirks=te(t),t.fire("PostRender"),i.directionality&&(r.dir=i.directionality),i.nowrap&&(r.style.whiteSpace="nowrap"),i.protect&&t.on("BeforeSetContent",function(e){xr.each(i.protect,function(t){e.content=e.content.replace(t,function(e){return"<!--mce:protected "+escape(e)+"-->"})})}),t.on("SetContent",function(){t.addVisual(t.getBody())}),t.load({initial:!0,format:"html"}),t.startContent=t.getContent({format:"raw"}),t.on("compositionstart compositionend",function(e){t.composing="compositionstart"===e.type}),t.contentStyles.length>0&&(o="",xr.each(t.contentStyles,function(e){o+=e+"\r\n"}),t.dom.addStyle(o)),BO(t).loadAll(t.contentCSS,function(e){AO(t)},function(e){AO(t)}),i.content_style&&kO(t,i.content_style)},_O={initContentBody:DO},OO=tc.DOM,PO=function(t,n){if(e.document.domain!==e.window.location.hostname&&St.ie&&St.ie<12){var r=UN.uuid("mce");t[r]=function(){_O.initContentBody(t)};var o='javascript:(function(){document.open();document.domain="'+e.document.domain+'";var ed = window.parent.tinymce.get("'+t.id+'");document.write(ed.iframeHTML);document.close();ed.'+r+"(true);})()";return OO.setAttrib(n,"src",o),!0}return!1},IO=function(e){var t="number"==typeof e?e+"px":e;return t?t:""},LO=function(e,t,n,r){var o=Go.fromTag("iframe");return hi(o,r),hi(o,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:t}),xi(o,{width:"100%",height:IO(n),display:"block"}),o},FO=function(e){var t,n,r;return r=yp.getDocType(e)+"<html><head>",yp.getDocumentBaseUrl(e)!==e.documentBaseUrl&&(r+='<base href="'+e.documentBaseURI.getURI()+'" />'),r+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />',t=yp.getBodyId(e),n=yp.getBodyClass(e),yp.getContentSecurityPolicy(e)&&(r+='<meta http-equiv="Content-Security-Policy" content="'+yp.getContentSecurityPolicy(e)+'" />'),r+='</head><body id="'+t+'" class="mce-content-body '+n+'" data-id="'+e.id+'"><br></body></html>'},MO=function(e,t){var n=e.editorManager.translate("Rich Text Area. Press ALT-F9 for menu. Press ALT-F10 for toolbar. Press ALT-0 for help"),r=LO(e.id,n,t.height,yp.getIframeAttrs(e)).dom();r.onload=function(){r.onload=null,e.fire("load")};var o=PO(e,r);return e.contentAreaContainer=t.iframeContainer,e.iframeElement=r,e.iframeHTML=FO(e),OO.add(t.iframeContainer,r),o},UO=function(e,t){var n=MO(e,t);t.editorContainer&&(OO.get(t.editorContainer).style.display=e.orgDisplay,e.hidden=OO.isHidden(t.editorContainer)),e.getElement().style.display="none",OO.setAttrib(e.id,"aria-hidden","true"),n||_O.initContentBody(e)},zO={init:UO},VO=tc.DOM,jO=function(e,t,n){var r=xN.get(n),o=xN.urls[n]||e.documentBaseUrl.replace(/\/$/,"");if(n=xr.trim(n),r&&xr.inArray(t,n)===-1){if(xr.each(xN.dependencies(n),function(n){jO(e,t,n)}),e.plugins[n])return;try{var i=new r(e,o,e.$);e.plugins[n]=i,i.init&&(i.init(e,o),t.push(n))}catch(a){CN.pluginInitError(e,n,a)}}},HO=function(e){return e.replace(/^\-/,"")},qO=function(e){var t=[];xr.each(e.settings.plugins.split(/[ ,]/),function(n){jO(e,t,HO(n))})},WO=function(e){var t,n=e.settings.theme;De(n)?(e.settings.theme=HO(n),t=wN.get(n),e.theme=new t(e,wN.urls[n]),e.theme.init&&e.theme.init(e,wN.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)):e.theme={}},$O=function(e){var t,n,r,o,i,a=e.settings,u=e.getElement();return t=a.width||VO.getStyle(u,"width")||"100%",n=a.height||VO.getStyle(u,"height")||u.offsetHeight,r=a.min_height||100,o=/^[0-9\.]+(|px)$/i,o.test(""+t)&&(t=Math.max(parseInt(t,10),100)),o.test(""+n)&&(n=Math.max(parseInt(n,10),r)),i=e.theme.renderUI({targetNode:u,width:t,height:n,deltaWidth:a.delta_width,deltaHeight:a.delta_height}),a.content_editable||(n=(i.iframeHeight||n)+("number"==typeof n?i.deltaHeight||0:""),n<r&&(n=r)),i.height=n,i},KO=function(e){var t,n=e.getElement();return t=e.settings.theme(e,n),t.editorContainer.nodeType&&(t.editorContainer.id=t.editorContainer.id||e.id+"_parent"),t.iframeContainer&&t.iframeContainer.nodeType&&(t.iframeContainer.id=t.iframeContainer.id||e.id+"_iframecontainer"),t.height=t.iframeHeight?t.iframeHeight:n.offsetHeight,t},XO=function(e){return{editorContainer:e,iframeContainer:e}},YO=function(e){var t=VO.create("div");return VO.insertAfter(t,e),XO(t)},GO=function(e){var t=e.getElement();return e.inline?XO(null):YO(t)},ZO=function(e){var t=e.settings,n=e.getElement();
return e.orgDisplay=n.style.display,De(t.theme)?$O(e):Le(t.theme)?KO(e):GO(e)},JO=function(e){var t,n=e.settings,r=e.getElement();return e.rtl=n.rtl_ui||e.editorManager.i18n.rtl,e.editorManager.i18n.setCode(n.language),n.aria_label=n.aria_label||VO.getAttrib(r,"aria-label",e.getLang("aria.rich_text_area")),e.fire("ScriptsLoaded"),WO(e),qO(e),t=ZO(e),e.editorContainer=t.editorContainer?t.editorContainer:null,n.content_css&&xr.each(xr.explode(n.content_css),function(t){e.contentCSS.push(e.documentBaseURI.toAbsolute(t))}),n.content_editable?_O.initContentBody(e):zO.init(e,t)},QO={init:JO},eP=tc.DOM,tP=function(e){return"-"===e.charAt(0)},nP=function(e,t){var n=t.settings;n.language&&"en"!==n.language&&!n.language_url&&(n.language_url=t.editorManager.baseURL+"/langs/"+n.language+".js"),n.language_url&&!t.editorManager.i18n.data[n.language]&&e.add(n.language_url)},rP=function(e,t,n,r){var o=t.settings,i=o.theme;if(De(i)){if(!tP(i)&&!wN.urls.hasOwnProperty(i)){var a=o.theme_url;a?wN.load(i,t.documentBaseURI.toAbsolute(a)):wN.load(i,"themes/"+i+"/theme"+n+".js")}e.loadQueue(function(){wN.waitFor(i,r)})}else r()},oP=function(e,t){xr.isArray(e.plugins)&&(e.plugins=e.plugins.join(" ")),xr.each(e.external_plugins,function(t,n){xN.load(n,t),e.plugins+=" "+n}),xr.each(e.plugins.split(/[ ,]/),function(e){if(e=xr.trim(e),e&&!xN.urls[e])if(tP(e)){e=e.substr(1,e.length);var n=xN.dependencies(e);xr.each(n,function(e){var n={prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"};e=xN.createUrl(n,e),xN.load(e.resource,e)})}else xN.load(e,{prefix:"plugins/",resource:e,suffix:"/plugin"+t+".js"})})},iP=function(e,t){var n=ac.ScriptLoader;rP(n,e,t,function(){nP(n,e),oP(e.settings,t),n.loadQueue(function(){e.removed||QO.init(e)},e,function(t){CN.pluginLoadError(e,t[0]),e.removed||QO.init(e)})})},aP=function(t){var n=t.settings,r=t.id,o=function(){eP.unbind(e.window,"ready",o),t.render()};if(!$t.Event.domLoaded)return void eP.bind(e.window,"ready",o);if(t.getElement()&&St.contentEditable){n.inline?t.inline=!0:(t.orgVisibility=t.getElement().style.visibility,t.getElement().style.visibility="hidden");var i=t.getElement().form||eP.getParent(r,"form");i&&(t.formElement=i,n.hidden_input&&!/TEXTAREA|INPUT/i.test(t.getElement().nodeName)&&(eP.insertAfter(eP.create("input",{type:"hidden",name:r}),r),t.hasHiddenInput=!0),t.formEventDelegate=function(e){t.fire(e.type,e)},eP.bind(i,"submit reset",t.formEventDelegate),t.on("reset",function(){t.setContent(t.startContent,{format:"raw"})}),!n.submit_patch||i.submit.nodeType||i.submit.length||i._mceOldSubmit||(i._mceOldSubmit=i.submit,i.submit=function(){return t.editorManager.triggerSave(),t.setDirty(!1),i._mceOldSubmit(i)})),t.windowManager=F(t),t.notificationManager=I(t),"xml"===n.encoding&&t.on("GetContent",function(e){e.save&&(e.content=eP.encode(e.content))}),n.add_form_submit_trigger&&t.on("submit",function(){t.initialized&&t.save()}),n.add_unload_trigger&&(t._beforeUnload=function(){!t.initialized||t.destroyed||t.isHidden()||t.save({format:"raw",no_events:!0,set_dirty:!1})},t.editorManager.on("BeforeUnload",t._beforeUnload)),t.editorManager.add(t),iP(t,t.suffix)}},uP={render:aP},cP=function(e,t,n){var r=e.sidebars?e.sidebars:[];r.push({name:t,settings:n}),e.sidebars=r},sP={add:cP},lP=xr.each,fP=xr.trim,dP="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),mP={ftp:21,http:80,https:443,mailto:25},gP=function(t,n){var r,o,i=this;if(t=fP(t),n=i.settings=n||{},r=n.base_uri,/^([\w\-]+):([^\/]{2})/i.test(t)||/^\s*#/.test(t))return void(i.source=t);var a=0===t.indexOf("//");0!==t.indexOf("/")||a||(t=(r?r.protocol||"http":"http")+"://mce_host"+t),/^[\w\-]*:?\/\//.test(t)||(o=n.base_uri?n.base_uri.path:new gP(e.document.location.href).directory,""==n.base_uri.protocol?t="//mce_host"+i.toAbsPath(o,t):(t=/([^#?]*)([#?]?.*)/.exec(t),t=(r&&r.protocol||"http")+"://mce_host"+i.toAbsPath(o,t[1])+t[2])),t=t.replace(/@@/g,"(mce_at)"),t=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(t),lP(dP,function(e,n){var r=t[n];r&&(r=r.replace(/\(mce_at\)/g,"@@")),i[e]=r}),r&&(i.protocol||(i.protocol=r.protocol),i.userInfo||(i.userInfo=r.userInfo),i.port||"mce_host"!==i.host||(i.port=r.port),i.host&&"mce_host"!==i.host||(i.host=r.host),i.source=""),a&&(i.protocol="")};gP.prototype={setPath:function(e){var t=this;e=/^(.*?)\/?(\w+)?$/.exec(e),t.path=e[0],t.directory=e[1],t.file=e[2],t.source="",t.getURI()},toRelative:function(e){var t,n=this;if("./"===e)return e;if(e=new gP(e,{base_uri:n}),"mce_host"!==e.host&&n.host!==e.host&&e.host||n.port!==e.port||n.protocol!==e.protocol&&""!==e.protocol)return e.getURI();var r=n.getURI(),o=e.getURI();return r===o||"/"===r.charAt(r.length-1)&&r.substr(0,r.length-1)===o?r:(t=n.toRelPath(n.path,e.path),e.query&&(t+="?"+e.query),e.anchor&&(t+="#"+e.anchor),t)},toAbsolute:function(e,t){return e=new gP(e,{base_uri:this}),e.getURI(t&&this.isSameOrigin(e))},isSameOrigin:function(e){if(this.host==e.host&&this.protocol==e.protocol){if(this.port==e.port)return!0;var t=mP[this.protocol];if(t&&(this.port||t)==(e.port||t))return!0}return!1},toRelPath:function(e,t){var n,r,o,i=0,a="";if(e=e.substring(0,e.lastIndexOf("/")),e=e.split("/"),n=t.split("/"),e.length>=n.length)for(r=0,o=e.length;r<o;r++)if(r>=n.length||e[r]!==n[r]){i=r+1;break}if(e.length<n.length)for(r=0,o=n.length;r<o;r++)if(r>=e.length||e[r]!==n[r]){i=r+1;break}if(1===i)return t;for(r=0,o=e.length-(i-1);r<o;r++)a+="../";for(r=i-1,o=n.length;r<o;r++)a+=r!==i-1?"/"+n[r]:n[r];return a},toAbsPath:function(e,t){var n,r,o,i=0,a=[];for(r=/\/$/.test(t)?"/":"",e=e.split("/"),t=t.split("/"),lP(e,function(e){e&&a.push(e)}),e=a,n=t.length-1,a=[];n>=0;n--)0!==t[n].length&&"."!==t[n]&&(".."!==t[n]?i>0?i--:a.push(t[n]):i++);return n=e.length-i,o=n<=0?a.reverse().join("/"):e.slice(0,n).join("/")+"/"+a.reverse().join("/"),0!==o.indexOf("/")&&(o="/"+o),r&&o.lastIndexOf("/")!==o.length-1&&(o+=r),o},getURI:function(e){var t,n=this;return n.source&&!e||(t="",e||(t+=n.protocol?n.protocol+"://":"//",n.userInfo&&(t+=n.userInfo+"@"),n.host&&(t+=n.host),n.port&&(t+=":"+n.port)),n.path&&(t+=n.path),n.query&&(t+="?"+n.query),n.anchor&&(t+="#"+n.anchor),n.source=t),n.source}},gP.parseDataUri=function(e){var t,n;return e=decodeURIComponent(e).split(","),n=/data:([^;]+)/.exec(e[0]),n&&(t=n[1]),{type:t,data:e[1]}},gP.getDocumentBaseUrl=function(e){var t;return t=0!==e.protocol.indexOf("http")&&"file:"!==e.protocol?e.href:e.protocol+"//"+e.host+e.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(t)&&(t=t.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(t)||(t+="/")),t};var pP="html",hP=function(e,t){var n=yp.getForcedRootBlock(e),r=new RegExp("^(<"+n+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+n+">[\r\n]*|<br \\/>[\r\n]*)$");return t.replace(r,"")},vP=function(e,t,n){var r;if(t.format=t.format?t.format:pP,t.get=!0,t.getInner=!0,t.no_events||e.fire("BeforeGetContent",t),"raw"===t.format)r=xr.trim(hk.trimExternal(e.serializer,n.innerHTML));else if("text"===t.format)r=cs.trim(n.innerText||n.textContent);else{if("tree"===t.format)return e.serializer.serialize(n,t);r=hP(e,e.serializer.serialize(n,t))}return"text"===t.format||Ga(Go.fromDom(n))?t.content=r:t.content=xr.trim(r),t.no_events||e.fire("GetContent",t),t.content},yP=function(e,t){return void 0===t&&(t={}),Re.from(e.getBody()).fold(ye("tree"===t.format?new yR("body",11):""),function(n){return vP(e,t,n)})},bP=function(e,t){t(e),e.firstChild&&bP(e.firstChild,t),e.next&&bP(e.next,t)},CP=function(e,t,n){var r={},o={},i=[];n.firstChild&&bP(n.firstChild,function(n){$e(e,function(e){e.name===n.name&&(r[e.name]?r[e.name].nodes.push(n):r[e.name]={filter:e,nodes:[n]})}),$e(t,function(e){"string"==typeof n.attr(e.name)&&(o[e.name]?o[e.name].nodes.push(n):o[e.name]={filter:e,nodes:[n]})})});for(var a in r)r.hasOwnProperty(a)&&i.push(r[a]);for(var a in o)o.hasOwnProperty(a)&&i.push(o[a]);return i},xP=function(e,t,n){var r=CP(e,t,n);$e(r,function(e){$e(e.filter.callbacks,function(t){t(e.nodes,e.filter.name,{})})})},wP="html",EP=function(e){return e instanceof yR},NP=function(e){XE.hasFocus(e)&&_d.firstPositionIn(e.getBody()).each(function(t){var n=t.getNode(),r=hu.isTable(n)?_d.firstPositionIn(n).getOr(t):t;e.selection.setRng(r.toRange())})},SP=function(e,t){e.dom.setHTML(e.getBody(),t),NP(e)},kP=function(e,t,n,r){var o,i;return 0===n.length||/^\s+$/.test(n)?(i='<br data-mce-bogus="1">',"TABLE"===t.nodeName?n="<tr><td>"+i+"</td></tr>":/^(UL|OL)$/.test(t.nodeName)&&(n="<li>"+i+"</li>"),o=yp.getForcedRootBlock(e),o&&e.schema.isValidChild(t.nodeName.toLowerCase(),o.toLowerCase())?(n=i,n=e.dom.createHTML(o,e.settings.forced_root_block_attrs,n)):n||(n='<br data-mce-bogus="1">'),SP(e,n),e.fire("SetContent",r)):("raw"!==r.format&&(n=D({validate:e.validate},e.schema).serialize(e.parser.parse(n,{isRootContent:!0,insert:!0}))),r.content=Ga(Go.fromDom(t))?n:xr.trim(n),SP(e,r.content),r.no_events||e.fire("SetContent",r)),r.content},TP=function(e,t,n,r){xP(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),n);var o=D({validate:e.validate},e.schema).serialize(n);return r.content=Ga(Go.fromDom(t))?o:xr.trim(o),SP(e,r.content),r.no_events||e.fire("SetContent",r),n},RP=function(e,t,n){return void 0===n&&(n={}),n.format=n.format?n.format:wP,n.set=!0,n.content=EP(t)?"":t,EP(t)||n.no_events||(e.fire("BeforeSetContent",n),t=n.content),Re.from(e.getBody()).fold(ye(t),function(r){return EP(t)?TP(e,r,t,n):kP(e,r,t,n)})},AP=tc.DOM,BP=function(e){AP.setStyle(e.id,"display",e.orgDisplay)},DP=function(e){return Re.from(e).each(function(e){return e.destroy()})},_P=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},OP=function(e){var t=e.formElement;t&&(t._mceOldSubmit&&(t.submit=t._mceOldSubmit,t._mceOldSubmit=null),AP.unbind(t,"submit reset",e.formEventDelegate))},PP=function(e){if(!e.removed){var t=e._selectionOverrides,n=e.editorUpload,r=e.getBody(),o=e.getElement();r&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&o&&AP.remove(o.nextSibling),Kw.fireRemove(e),e.editorManager.remove(e),!e.inline&&r&&BP(e),Kw.fireDetach(e),AP.remove(e.getContainer()),DP(t),DP(n),e.destroy()}},IP=function(e,t){var n=e.selection,r=e.dom;if(!e.destroyed){if(!t&&!e.removed)return void e.remove();t||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),DP(n),DP(r)),OP(e),_P(e),e.destroyed=!0}},LP=tc.DOM,FP=xr.extend,MP=xr.each,UP=xr.resolve,zP=St.ie,VP=function(e,t,n){var r=this,o=r.documentBaseUrl=n.documentBaseURL,i=n.baseURI;t=NE(r,e,o,n.defaultSettings,t),r.settings=t,E.language=t.language||"en",E.languageLoad=t.language_load,E.baseURL=n.baseURL,r.id=e,r.setDirty(!1),r.plugins={},r.documentBaseURI=new gP(t.document_base_url,{base_uri:i}),r.baseURI=i,r.contentCSS=[],r.contentStyles=[],r.shortcuts=new O(r),r.loadedCSS={},r.editorCommands=new _(r),r.suffix=n.suffix,r.editorManager=n,r.inline=t.inline,r.buttons={},r.menuItems={},t.cache_suffix&&(St.cacheSuffix=t.cache_suffix.replace(/^[\?\&]+/,"")),t.override_viewport===!1&&(St.overrideViewPort=!1),n.fire("SetupEditor",{editor:r}),r.execCallback("setup",r),r.$=Vr.overrideDefaults(function(){return{context:r.inline?r.getBody():r.getDoc(),element:r.getBody()}})};VP.prototype={render:function(){uP.render(this)},focus:function(e){XE.focus(this,e)},hasFocus:function(){return XE.hasFocus(this)},execCallback:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=this,i=o.settings[e];if(i)return o.callbackLookup&&(r=o.callbackLookup[e])&&(i=r.func,r=r.scope),"string"==typeof i&&(r=i.replace(/\.\w+$/,""),r=r?UP(r):0,i=UP(i),o.callbackLookup=o.callbackLookup||{},o.callbackLookup[e]={func:i,scope:r}),i.apply(r||o,Array.prototype.slice.call(arguments,1))},translate:function(e){if(e&&xr.is(e,"string")){var t=this.settings.language||"en",n=this.editorManager.i18n;e=n.data[t+"."+e]||e.replace(/\{\#([^\}]+)\}/g,function(e,r){return n.data[t+"."+r]||"{#"+r+"}"})}return this.editorManager.translate(e)},getLang:function(e,t){return this.editorManager.i18n.data[(this.settings.language||"en")+"."+e]||(void 0!==t?t:"{#"+e+"}")},getParam:function(e,t,n){return RE(this,e,t,n)},nodeChanged:function(e){this._nodeChangeDispatcher.nodeChanged(e)},addButton:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),t.stateSelector&&"undefined"==typeof t.active&&(t.active=!1),t.text||t.icon||(t.icon=e),t.tooltip=t.tooltip||t.title,n.buttons[e]=t},addSidebar:function(e,t){return sP.add(this,e,t)},addMenuItem:function(e,t){var n=this;t.cmd&&(t.onclick=function(){n.execCommand(t.cmd)}),n.menuItems[e]=t},addContextToolbar:function(e,t){var n,r=this;r.contextToolbars=r.contextToolbars||[],"string"==typeof e&&(n=e,e=function(e){return r.dom.is(e,n)}),r.contextToolbars.push({id:UN.uuid("mcet"),predicate:e,items:t})},addCommand:function(e,t,n){this.editorCommands.addCommand(e,t,n)},addQueryStateHandler:function(e,t,n){this.editorCommands.addQueryStateHandler(e,t,n)},addQueryValueHandler:function(e,t,n){this.editorCommands.addQueryValueHandler(e,t,n)},addShortcut:function(e,t,n,r){this.shortcuts.add(e,t,n,r)},execCommand:function(e,t,n,r){return this.editorCommands.execCommand(e,t,n,r)},queryCommandState:function(e){return this.editorCommands.queryCommandState(e)},queryCommandValue:function(e){return this.editorCommands.queryCommandValue(e)},queryCommandSupported:function(e){return this.editorCommands.queryCommandSupported(e)},show:function(){var e=this;e.hidden&&(e.hidden=!1,e.inline?e.getBody().contentEditable=!0:(LP.show(e.getContainer()),LP.hide(e.id)),e.load(),e.fire("show"))},hide:function(){var e=this,t=e.getDoc();e.hidden||(zP&&t&&!e.inline&&t.execCommand("SelectAll"),e.save(),e.inline?(e.getBody().contentEditable=!1,e===e.editorManager.focusedEditor&&(e.editorManager.focusedEditor=null)):(LP.hide(e.getContainer()),LP.setStyle(e.id,"display",e.orgDisplay)),e.hidden=!0,e.fire("hide"))},isHidden:function(){return!!this.hidden},setProgressState:function(e,t){this.fire("ProgressState",{state:e,time:t})},load:function(e){var t,n=this,r=n.getElement();return n.removed?"":r?(e=e||{},e.load=!0,t=n.setContent(void 0!==r.value?r.value:r.innerHTML,e),e.element=r,e.no_events||n.fire("LoadContent",e),e.element=r=null,t):void 0},save:function(e){var t,n,r=this,o=r.getElement();if(o&&r.initialized&&!r.removed)return e=e||{},e.save=!0,e.element=o,t=e.content=r.getContent(e),e.no_events||r.fire("SaveContent",e),"raw"===e.format&&r.fire("RawSaveContent",e),t=e.content,/TEXTAREA|INPUT/i.test(o.nodeName)?o.value=t:(!e.is_removing&&r.inline||(o.innerHTML=t),(n=LP.getParent(r.id,"form"))&&MP(n.elements,function(e){if(e.name===r.id)return e.value=t,!1})),e.element=o=null,e.set_dirty!==!1&&r.setDirty(!1),t},setContent:function(e,t){return RP(this,e,t)},getContent:function(e){return yP(this,e)},insertContent:function(e,t){t&&(e=FP({content:e},t)),this.execCommand("mceInsertContent",!1,e)},isDirty:function(){return!this.isNotDirty},setDirty:function(e){var t=!this.isNotDirty;this.isNotDirty=!e,e&&e!==t&&this.fire("dirty")},setMode:function(e){Zw(this,e)},getContainer:function(){var e=this;return e.container||(e.container=LP.get(e.editorContainer||e.id+"_parent")),e.container},getContentAreaContainer:function(){return this.contentAreaContainer},getElement:function(){return this.targetElm||(this.targetElm=LP.get(this.id)),this.targetElm},getWin:function(){var e,t=this;return t.contentWindow||(e=t.iframeElement,e&&(t.contentWindow=e.contentWindow)),t.contentWindow},getDoc:function(){var e,t=this;return t.contentDocument||(e=t.getWin(),e&&(t.contentDocument=e.document)),t.contentDocument},getBody:function(){var e=this.getDoc();return this.bodyElement||(e?e.body:null)},convertURL:function(e,t,n){var r=this,o=r.settings;return o.urlconverter_callback?r.execCallback("urlconverter_callback",e,n,!0,t):!o.convert_urls||n&&"LINK"===n.nodeName||0===e.indexOf("file:")||0===e.length?e:o.relative_urls?r.documentBaseURI.toRelative(e):e=r.documentBaseURI.toAbsolute(e,o.remove_script_host)},addVisual:function(e){var t,n=this,r=n.settings,o=n.dom;e=e||n.getBody(),void 0===n.hasVisual&&(n.hasVisual=r.visual),MP(o.select("table,a",e),function(e){var i;switch(e.nodeName){case"TABLE":return t=r.visual_table_class||"mce-item-table",i=o.getAttrib(e,"border"),void(i&&"0"!==i||!n.hasVisual?o.removeClass(e,t):o.addClass(e,t));case"A":return void(o.getAttrib(e,"href")||(i=o.getAttrib(e,"name")||e.id,t=r.visual_anchor_class||"mce-item-anchor",i&&n.hasVisual?o.addClass(e,t):o.removeClass(e,t)))}}),n.fire("VisualAid",{element:e,hasVisual:n.hasVisual})},remove:function(){PP(this)},destroy:function(e){IP(this,e)},uploadImages:function(e){return this.editorUpload.uploadImages(e)},_scanForImages:function(){return this.editorUpload.scanForImages()}},FP(VP.prototype,uE);var jP,HP,qP,WP=function(e){return e.className.toString().indexOf("mce-")!==-1},$P={isEditorUIElement:WP},KP=function(e){return"nodechange"===e.type&&e.selectionChange},XP=function(t,n){var r=function(){n.throttle()};tc.DOM.bind(e.document,"mouseup",r),t.on("remove",function(){tc.DOM.unbind(e.document,"mouseup",r)})},YP=function(e){e.on("focusout",function(){Sw.store(e)})},GP=function(e,t){e.on("mouseup touchend",function(e){t.throttle()})},ZP=function(e,t){var n=qo.detect().browser;n.isIE()?YP(e):GP(e,t),e.on("keyup nodechange",function(t){KP(t)||Sw.store(e)})},JP=function(e){var t=yc(function(){Sw.store(e)},0);e.inline&&XP(e,t),e.on("init",function(){ZP(e,t)}),e.on("remove",function(){t.cancel()})},QP={register:JP},eI=tc.DOM,tI=function(e){return $P.isEditorUIElement(e)},nI=function(e,t){var n=e?e.settings.custom_ui_selector:"",r=eI.getParent(t,function(t){return tI(t)||!!n&&e.dom.is(t,n)});return null!==r},rI=function(){try{return e.document.activeElement}catch(t){return e.document.body}},oI=function(t,n){var r=n.editor;QP.register(r),r.on("focusin",function(){var e=this,n=t.focusedEditor;n!==e&&(n&&n.fire("blur",{focusedEditor:e}),t.setActive(e),t.focusedEditor=e,e.fire("focus",{blurredEditor:n}),e.focus(!0))}),r.on("focusout",function(){var e=this;Pt.setEditorTimeout(e,function(){var n=t.focusedEditor;nI(e,rI())||n!==e||(e.fire("blur",{focusedEditor:null}),t.focusedEditor=null)})}),jP||(jP=function(n){var r,o=t.activeEditor;r=n.target,o&&r.ownerDocument===e.document&&(r===e.document.body||nI(o,r)||t.focusedEditor!==o||(o.fire("blur",{focusedEditor:null}),t.focusedEditor=null))},eI.bind(e.document,"focusin",jP))},iI=function(t,n){t.focusedEditor===n.editor&&(t.focusedEditor=null),t.activeEditor||(eI.unbind(e.document,"focusin",jP),jP=null)},aI=function(e){e.on("AddEditor",t(oI,e)),e.on("RemoveEditor",t(iI,e))},uI={setup:aI,isEditorUIElement:tI,isUIElement:nI},cI=tc.DOM,sI=xr.explode,lI=xr.each,fI=xr.extend,dI=0,mI=!1,gI=[],pI=[],hI=function(e){return"length"!==e},vI=function(e){var t=e.type;lI(qP.get(),function(n){switch(t){case"scroll":n.fire("ScrollWindow",e);break;case"resize":n.fire("ResizeWindow",e)}})},yI=function(e){e!==mI&&(e?Vr(window).on("resize scroll",vI):Vr(window).off("resize scroll",vI),mI=e)},bI=function(e){var t=pI;delete gI[e.id];for(var n=0;n<gI.length;n++)if(gI[n]===e){gI.splice(n,1);break}return pI=Ye(pI,function(t){return e!==t}),qP.activeEditor===e&&(qP.activeEditor=pI.length>0?pI[0]:null),qP.focusedEditor===e&&(qP.focusedEditor=null),t.length!==pI.length},CI=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(bI(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e};qP={defaultSettings:{},$:Vr,majorVersion:"4",minorVersion:"9.11",releaseDate:"2020-07-13",editors:gI,i18n:lN,activeEditor:null,settings:{},setup:function(){var t,n,r=this,o="";n=gP.getDocumentBaseUrl(e.document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(n)&&(n=n.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(n)||(n+="/"));var i=window.tinymce||window.tinyMCEPreInit;if(i)t=i.base||i.baseURL,o=i.suffix;else{for(var a=e.document.getElementsByTagName("script"),u=0;u<a.length;u++){var c=a[u].src||"";if(""!==c){var s=c.substring(c.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(c)){s.indexOf(".min")!==-1&&(o=".min"),t=c.substring(0,c.lastIndexOf("/"));break}}}if(!t&&e.document.currentScript){var c=e.document.currentScript.src;c.indexOf(".min")!==-1&&(o=".min"),t=c.substring(0,c.lastIndexOf("/"))}}r.baseURL=new gP(n).toAbsolute(t),r.documentBaseURL=n,r.baseURI=new gP(r.baseURL),r.suffix=o,uI.setup(r)},overrideDefaults:function(e){var t,n;t=e.base_url,t&&(this.baseURL=new gP(this.documentBaseURL).toAbsolute(t.replace(/\/+$/,"")),this.baseURI=new gP(this.baseURL)),n=e.suffix,e.suffix&&(this.suffix=n),this.defaultSettings=e;var r=e.plugin_base_urls;for(var o in r)E.PluginManager.urls[o]=r[o]},init:function(t){var n,r,o=this;r=xr.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option tbody tfoot thead tr script noscript style textarea video audio iframe object menu"," ");var i=function(e,t){return e.inline&&t.tagName.toLowerCase()in r},a=function(e){var t=e.id;return t||(t=e.name,t=t&&!cI.get(t)?e.name:cI.uniqueId(),e.setAttribute("id",t)),t},u=function(e){var n=t[e];if(n)return n.apply(o,Array.prototype.slice.call(arguments,2))},c=function(e,t){return t.constructor===RegExp?t.test(e.className):cI.hasClass(e,t)},s=function(t){var n,r=[];if(St.ie&&St.ie<11)return CN.initError("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if(t.types)return lI(t.types,function(e){r=r.concat(cI.select(e.selector))}),r;if(t.selector)return cI.select(t.selector);if(t.target)return[t.target];switch(t.mode){case"exact":n=t.elements||"",n.length>0&&lI(sI(n),function(t){var n;(n=cI.get(t))?r.push(n):lI(e.document.forms,function(e){lI(e.elements,function(e){e.name===t&&(t="mce_editor_"+dI++,cI.setAttrib(e,"id",t),r.push(e))})})});break;case"textareas":case"specific_textareas":lI(cI.select("textarea"),function(e){t.editor_deselector&&c(e,t.editor_deselector)||t.editor_selector&&!c(e,t.editor_selector)||r.push(e)})}return r},l=function(e){n=e},f=function(){var e,n=0,r=[],c=function(t,i,a){var u=new VP(t,i,o);r.push(u),u.on("init",function(){++n===e.length&&l(r)}),u.targetElm=u.targetElm||a,u.render()};return cI.unbind(window,"ready",f),u("onpageload"),e=Vr.unique(s(t)),t.types?void lI(t.types,function(n){xr.each(e,function(e){return!cI.is(e,n.selector)||(c(a(e),fI({},t,n),e),!1)})}):(xr.each(e,function(e){CI(o.get(e.id))}),e=xr.grep(e,function(e){return!o.get(e.id)}),void(0===e.length?l([]):lI(e,function(e){i(t,e)?CN.initError("Could not initialize inline editor on invalid inline target element",e):c(a(e),t,e)})))};return o.settings=t,cI.bind(window,"ready",f),new Tt(function(e){n?e(n):l=function(t){e(t)}})},get:function(e){return 0===arguments.length?pI.slice(0):De(e)?Je(pI,function(t){return t.id===e}).getOr(null):Fe(e)&&pI[e]?pI[e]:null},add:function(e){var t,n=this;return t=gI[e.id],t===e?e:(null===n.get(e.id)&&(hI(e.id)&&(gI[e.id]=e),gI.push(e),pI.push(e)),yI(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),HP||(HP=function(){n.fire("BeforeUnload")},cI.bind(window,"beforeunload",HP)),e)},createEditor:function(e,t){return this.add(new VP(e,t,this))},remove:function(e){var t,n,r=this;if(e)return De(e)?void lI(cI.select(e),function(e){n=r.get(e.id),n&&r.remove(n)}):(n=e,Pe(r.get(n.id))?null:(bI(n)&&r.fire("RemoveEditor",{editor:n}),0===pI.length&&cI.unbind(window,"beforeunload",HP),n.remove(),yI(pI.length>0),n));for(t=pI.length-1;t>=0;t--)r.remove(pI[t])},execCommand:function(e,t,n){var r=this,o=r.get(n);switch(e){case"mceAddEditor":return r.get(n)||new VP(n,r.settings,r).render(),!0;case"mceRemoveEditor":return o&&o.remove(),!0;case"mceToggleEditor":return o?(o.isHidden()?o.show():o.hide(),!0):(r.execCommand("mceAddEditor",0,n),!0)}return!!r.activeEditor&&r.activeEditor.execCommand(e,t,n)},triggerSave:function(){lI(pI,function(e){e.save()})},addI18n:function(e,t){lN.add(e,t)},translate:function(e){return lN.translate(e)},setActive:function(e){var t=this.activeEditor;this.activeEditor!==e&&(t&&t.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:t})),this.activeEditor=e}},fI(qP,Uw),qP.setup();var xI=qP;!function(e){e.compareRanges=yx.isEq,e.getCaretRangeFromPoint=KR.fromPoint,e.getSelectedNode=Zs,e.getNode=Js}(ne||(ne={}));var wI,EI,NI=ne,SI=Math.min,kI=Math.max,TI=Math.round,RI=function(e,t,n){var r,o,i,a,u,c;return r=t.x,o=t.y,i=e.w,a=e.h,u=t.w,c=t.h,n=(n||"").split(""),"b"===n[0]&&(o+=c),"r"===n[1]&&(r+=u),"c"===n[0]&&(o+=TI(c/2)),"c"===n[1]&&(r+=TI(u/2)),"b"===n[3]&&(o-=a),"r"===n[4]&&(r-=i),"c"===n[3]&&(o-=TI(a/2)),"c"===n[4]&&(r-=TI(i/2)),OI(r,o,i,a)},AI=function(e,t,n,r){var o,i;for(i=0;i<r.length;i++)if(o=RI(e,t,r[i]),o.x>=n.x&&o.x+o.w<=n.w+n.x&&o.y>=n.y&&o.y+o.h<=n.h+n.y)return r[i];return null},BI=function(e,t,n){return OI(e.x-t,e.y-n,e.w+2*t,e.h+2*n)},DI=function(e,t){var n,r,o,i;return n=kI(e.x,t.x),r=kI(e.y,t.y),o=SI(e.x+e.w,t.x+t.w),i=SI(e.y+e.h,t.y+t.h),o-n<0||i-r<0?null:OI(n,r,o-n,i-r)},_I=function(e,t,n){var r,o,i,a,u,c,s,l,f,d;return u=e.x,c=e.y,s=e.x+e.w,l=e.y+e.h,f=t.x+t.w,d=t.y+t.h,r=kI(0,t.x-u),o=kI(0,t.y-c),i=kI(0,s-f),a=kI(0,l-d),u+=r,c+=o,n&&(s+=r,l+=o,u-=i,c-=a),s-=i,l-=a,OI(u,c,s-u,l-c)},OI=function(e,t,n,r){return{x:e,y:t,w:n,h:r}},PI=function(e){return OI(e.left,e.top,e.width,e.height)},II={inflate:BI,relativePosition:RI,findBestRelativePosition:AI,intersect:DI,clamp:_I,create:OI,fromClientRect:PI},LI={},FI={add:function(e,t){LI[e.toLowerCase()]=t},has:function(e){return!!LI[e.toLowerCase()]},get:function(e){var t=e.toLowerCase(),n=LI.hasOwnProperty(t)?LI[t]:null;if(null===n)throw new Error("Could not find module for type: "+e);return n},create:function(e,t){var n;if("string"==typeof e?(t=t||{},t.type=e):(t=e,e=t.type),e=e.toLowerCase(),n=LI[e],!n)throw new Error("Could not find control by type: "+e);return n=new n(t),n.type=e,n}},MI=xr.each,UI=xr.extend,zI=function(){};zI.extend=wI=function(e){var t,n,r,o=this,i=o.prototype,a=function(){var e,t,n,r=this;if(!EI&&(r.init&&r.init.apply(r,arguments),t=r.Mixins))for(e=t.length;e--;)n=t[e],n.init&&n.init.apply(r,arguments)},u=function(){return this},c=function(e,t){return function(){var n,r=this,o=r._super;return r._super=i[e],n=t.apply(r,arguments),r._super=o,n}};EI=!0,t=new o,EI=!1,e.Mixins&&(MI(e.Mixins,function(t){for(var n in t)"init"!==n&&(e[n]=t[n])}),i.Mixins&&(e.Mixins=i.Mixins.concat(e.Mixins))),e.Methods&&MI(e.Methods.split(","),function(t){e[t]=u}),e.Properties&&MI(e.Properties.split(","),function(t){var n="_"+t;e[t]=function(e){var t=this;return void 0!==e?(t[n]=e,t):t[n]}}),e.Statics&&MI(e.Statics,function(e,t){a[t]=e}),e.Defaults&&i.Defaults&&(e.Defaults=UI({},i.Defaults,e.Defaults));for(n in e)r=e[n],"function"==typeof r&&i[n]?t[n]=c(n,r):t[n]=r;return a.prototype=t,a.constructor=a,a.extend=wI,a};var VI=Math.min,jI=Math.max,HI=Math.round,qI=function(e){var t={},n=0,r=0,o=0,i=function(e,t,n){var r,o,i,a,u,c;return r=0,o=0,i=0,e/=255,t/=255,n/=255,u=VI(e,VI(t,n)),c=jI(e,jI(t,n)),u===c?(i=u,{h:0,s:0,v:100*i}):(a=e===u?t-n:n===u?e-t:n-e,r=e===u?3:n===u?1:5,r=60*(r-a/(c-u)),o=(c-u)/c,i=c,{h:HI(r),s:HI(100*o),v:HI(100*i)})},a=function(e,t,i){var a,u,c,s;if(e=(parseInt(e,10)||0)%360,t=parseInt(t,10)/100,i=parseInt(i,10)/100,t=jI(0,VI(t,1)),i=jI(0,VI(i,1)),0===t)return void(n=r=o=HI(255*i));switch(a=e/60,u=i*t,c=u*(1-Math.abs(a%2-1)),s=i-u,Math.floor(a)){case 0:n=u,r=c,o=0;break;case 1:n=c,r=u,o=0;break;case 2:n=0,r=u,o=c;break;case 3:n=0,r=c,o=u;break;case 4:n=c,r=0,o=u;break;case 5:n=u,r=0,o=c;break;default:n=r=o=0}n=HI(255*(n+s)),r=HI(255*(r+s)),o=HI(255*(o+s))},u=function(){var e=function(e){return e=parseInt(e,10).toString(16),e.length>1?e:"0"+e};return"#"+e(n)+e(r)+e(o)},c=function(){return{r:n,g:r,b:o}},s=function(){return i(n,r,o)},l=function(e){var i;return"object"==typeof e?"r"in e?(n=e.r,r=e.g,o=e.b):"v"in e&&a(e.h,e.s,e.v):(i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(e))?(n=parseInt(i[1],10),r=parseInt(i[2],10),o=parseInt(i[3],10)):(i=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(e))?(n=parseInt(i[1],16),r=parseInt(i[2],16),o=parseInt(i[3],16)):(i=/#([0-F])([0-F])([0-F])/gi.exec(e))&&(n=parseInt(i[1]+i[1],16),r=parseInt(i[2]+i[2],16),o=parseInt(i[3]+i[3],16)),n=n<0?0:n>255?255:n,r=r<0?0:r>255?255:r,o=o<0?0:o>255?255:o,t};return e&&l(e),t.toRgb=c,t.toHsv=s,t.toHex=u,t.parse=l,t},WI=function(e,t){var n,r,o,i;if(t=t||'"',null===e)return"null";if(o=typeof e,"string"===o)return r="\bb\tt\nn\ff\rr\"\"''\\\\",t+e.replace(/([\u0080-\uFFFF\x00-\x1f\"\'\\])/g,function(e,o){return'"'===t&&"'"===e?e:(n=r.indexOf(o),n+1?"\\"+r.charAt(n+1):(e=o.charCodeAt().toString(16),"\\u"+"0000".substring(e.length)+e))})+t;if("object"===o){if(e.hasOwnProperty&&"[object Array]"===Object.prototype.toString.call(e)){for(n=0,r="[";n<e.length;n++)r+=(n>0?",":"")+WI(e[n],t);return r+"]"}r="{";for(i in e)e.hasOwnProperty(i)&&(r+="function"!=typeof e[i]?(r.length>1?","+t:t)+i+t+":"+WI(e[i],t):"");return r+"}"}return""+e},$I={serialize:WI,parse:function(e){try{return JSON.parse(e)}catch(t){}}},KI={callbacks:{},count:0,send:function(e){var t=this,n=tc.DOM,r=void 0!==e.count?e.count:t.count,o="tinymce_jsonp_"+r;t.callbacks[r]=function(i){n.remove(o),delete t.callbacks[r],e.callback(i)},n.add(n.doc.body,"script",{id:o,src:e.url,type:"text/javascript"}),t.count++}},XI={send:function(e){var t,n=0,r=function(){!e.async||4===t.readyState||n++>1e4?(e.success&&n<1e4&&200===t.status?e.success.call(e.success_scope,""+t.responseText,t,e):e.error&&e.error.call(e.error_scope,n>1e4?"TIMED_OUT":"GENERAL",t,e),t=null):setTimeout(r,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",XI.fire("beforeInitialize",{settings:e}),t=M()){if(t.overrideMimeType&&t.overrideMimeType(e.content_type),t.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(t.withCredentials=!0),e.content_type&&t.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&xr.each(e.requestheaders,function(e){t.setRequestHeader(e.key,e.value)}),t.setRequestHeader("X-Requested-With","XMLHttpRequest"),t=XI.fire("beforeSend",{xhr:t,settings:e}).xhr,t.send(e.data),!e.async)return r();setTimeout(r,10)}}};xr.extend(XI,Uw);var YI=xr.extend,GI=function(e){this.settings=YI({},e),this.count=0};GI.sendRPC=function(e){return(new GI).send(e)},GI.prototype={send:function(e){var t=e.error,n=e.success;e=YI(this.settings,e),e.success=function(r,o){r=$I.parse(r),"undefined"==typeof r&&(r={error:"JSON Parse error."}),r.error?t.call(e.error_scope||e.scope,r.error,o):n.call(e.success_scope||e.scope,r.result)},e.error=function(n,r){t&&t.call(e.error_scope||e.scope,n,r)},e.data=$I.serialize({id:e.id||"c"+this.count++,method:e.method,params:e.params}),e.content_type="application/json",XI.send(e)}};var ZI,JI=function(){return function(){var e={},t=[],n={getItem:function(t){var n=e[t];return n?n:null},setItem:function(n,r){t.push(n),e[n]=String(r)},key:function(e){return t[e]},removeItem:function(n){t=t.filter(function(e){return e===n}),delete e[n]},clear:function(){t=[],e={}},length:0};return Object.defineProperty(n,"length",{get:function(){return t.length},configurable:!1,enumerable:!1}),n}()};try{ZI=e.window.localStorage}catch(Gn){ZI=JI()}var QI=ZI,eL=xI,tL={geom:{Rect:II},util:{Promise:Tt,Delay:Pt,Tools:xr,VK:eS,URI:gP,Class:zI,EventDispatcher:Lw,Observable:Uw,I18n:lN,XHR:XI,JSON:$I,JSONRequest:GI,JSONP:KI,LocalStorage:QI,Color:qI},dom:{EventUtils:$t,Sizzle:Zn,DomQuery:Vr,TreeWalker:b,DOMUtils:tc,ScriptLoader:ac,RangeUtils:NI,Serializer:Q,ControlSelection:VR,
BookmarkManager:FR,Selection:WA,Event:$t.Event},html:{Styles:x,Entities:Iu,Node:yR,Schema:C,SaxParser:dk,DomParser:Z,Writer:B,Serializer:D},ui:{Factory:FI},Env:St,AddOnManager:E,Annotator:A,Formatter:G,UndoManager:X,EditorCommands:_,WindowManager:F,NotificationManager:I,EditorObservable:uE,Shortcuts:O,Editor:VP,FocusManager:$P,EditorManager:xI,DOM:tc.DOM,ScriptLoader:ac.ScriptLoader,PluginManager:E.PluginManager,ThemeManager:E.ThemeManager,trim:xr.trim,isArray:xr.isArray,is:xr.is,toArray:xr.toArray,makeMap:xr.makeMap,each:xr.each,map:xr.map,grep:xr.grep,inArray:xr.inArray,extend:xr.extend,create:xr.create,walk:xr.walk,createNS:xr.createNS,resolve:xr.resolve,explode:xr.explode,_addCacheSuffix:xr._addCacheSuffix,isOpera:St.opera,isWebKit:St.webkit,isIE:St.ie,isGecko:St.gecko,isMac:St.mac};eL=xr.extend(eL,tL);var nL=eL,rL=function(e){if("object"==typeof module)try{module.exports=e}catch(t){}},oL=function(e){window.tinymce=e,window.tinyMCE=e};oL(nL),rL(nL)}(window)}();
}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {},require("timers").setImmediate)

},{"timers":5}],"underscore.string":[function(require,module,exports){
"use strict";function s(e){return this instanceof s?void(this._wrapped=e):new s(e)}function fn2method(e,r){"function"==typeof r&&(s.prototype[e]=function(){var e=[this._wrapped].concat(Array.prototype.slice.call(arguments)),i=r.apply(null,e);return"string"==typeof i?new s(i):i})}function prototype2method(e){fn2method(e,function(r){var s=Array.prototype.slice.call(arguments,1);return String.prototype[e].apply(r,s)})}s.VERSION="3.3.4",s.isBlank=require("./isBlank"),s.stripTags=require("./stripTags"),s.capitalize=require("./capitalize"),s.decapitalize=require("./decapitalize"),s.chop=require("./chop"),s.trim=require("./trim"),s.clean=require("./clean"),s.cleanDiacritics=require("./cleanDiacritics"),s.count=require("./count"),s.chars=require("./chars"),s.swapCase=require("./swapCase"),s.escapeHTML=require("./escapeHTML"),s.unescapeHTML=require("./unescapeHTML"),s.splice=require("./splice"),s.insert=require("./insert"),s.replaceAll=require("./replaceAll"),s.include=require("./include"),s.join=require("./join"),s.lines=require("./lines"),s.dedent=require("./dedent"),s.reverse=require("./reverse"),s.startsWith=require("./startsWith"),s.endsWith=require("./endsWith"),s.pred=require("./pred"),s.succ=require("./succ"),s.titleize=require("./titleize"),s.camelize=require("./camelize"),s.underscored=require("./underscored"),s.dasherize=require("./dasherize"),s.classify=require("./classify"),s.humanize=require("./humanize"),s.ltrim=require("./ltrim"),s.rtrim=require("./rtrim"),s.truncate=require("./truncate"),s.prune=require("./prune"),s.words=require("./words"),s.pad=require("./pad"),s.lpad=require("./lpad"),s.rpad=require("./rpad"),s.lrpad=require("./lrpad"),s.sprintf=require("./sprintf"),s.vsprintf=require("./vsprintf"),s.toNumber=require("./toNumber"),s.numberFormat=require("./numberFormat"),s.strRight=require("./strRight"),s.strRightBack=require("./strRightBack"),s.strLeft=require("./strLeft"),s.strLeftBack=require("./strLeftBack"),s.toSentence=require("./toSentence"),s.toSentenceSerial=require("./toSentenceSerial"),s.slugify=require("./slugify"),s.surround=require("./surround"),s.quote=require("./quote"),s.unquote=require("./unquote"),s.repeat=require("./repeat"),s.naturalCmp=require("./naturalCmp"),s.levenshtein=require("./levenshtein"),s.toBoolean=require("./toBoolean"),s.exports=require("./exports"),s.escapeRegExp=require("./helper/escapeRegExp"),s.wrap=require("./wrap"),s.map=require("./map"),s.strip=s.trim,s.lstrip=s.ltrim,s.rstrip=s.rtrim,s.center=s.lrpad,s.rjust=s.lpad,s.ljust=s.rpad,s.contains=s.include,s.q=s.quote,s.toBool=s.toBoolean,s.camelcase=s.camelize,s.mapChars=s.map,s.prototype={value:function(){return this._wrapped}};for(var key in s)fn2method(key,s[key]);fn2method("tap",function(e,r){return r(e)});var prototypeMethods=["toUpperCase","toLowerCase","split","replace","slice","substring","substr","concat"];for(var method in prototypeMethods)prototype2method(prototypeMethods[method]);module.exports=s;
},{"./camelize":6,"./capitalize":7,"./chars":8,"./chop":9,"./classify":10,"./clean":11,"./cleanDiacritics":12,"./count":13,"./dasherize":14,"./decapitalize":15,"./dedent":16,"./endsWith":17,"./escapeHTML":18,"./exports":19,"./helper/escapeRegExp":23,"./humanize":28,"./include":29,"./insert":30,"./isBlank":31,"./join":32,"./levenshtein":33,"./lines":34,"./lpad":35,"./lrpad":36,"./ltrim":37,"./map":38,"./naturalCmp":39,"./numberFormat":40,"./pad":41,"./pred":42,"./prune":43,"./quote":44,"./repeat":45,"./replaceAll":46,"./reverse":47,"./rpad":48,"./rtrim":49,"./slugify":50,"./splice":51,"./sprintf":52,"./startsWith":53,"./strLeft":54,"./strLeftBack":55,"./strRight":56,"./strRightBack":57,"./stripTags":58,"./succ":59,"./surround":60,"./swapCase":61,"./titleize":62,"./toBoolean":63,"./toNumber":64,"./toSentence":65,"./toSentenceSerial":66,"./trim":67,"./truncate":68,"./underscored":69,"./unescapeHTML":70,"./unquote":71,"./vsprintf":72,"./words":73,"./wrap":74}],"underscore":[function(require,module,exports){
(function(){function n(n){function t(t,r,e,u,i,o){for(;i>=0&&i<o;i+=n){var a=u?u[i]:i;e=r(e,t[a],a,t)}return e}return function(r,e,u,i){e=b(e,i,4);var o=!k(r)&&m.keys(r),a=(o||r).length,c=n>0?0:a-1;return arguments.length<3&&(u=r[o?o[c]:c],c+=n),t(r,e,u,o,c,a)}}function t(n){return function(t,r,e){r=x(r,e);for(var u=O(t),i=n>0?0:u-1;i>=0&&i<u;i+=n)if(r(t[i],i,t))return i;return-1}}function r(n,t,r){return function(e,u,i){var o=0,a=O(e);if("number"==typeof i)n>0?o=i>=0?i:Math.max(i+a,o):a=i>=0?Math.min(i+1,a):i+a+1;else if(r&&i&&a)return i=r(e,u),e[i]===u?i:-1;if(u!==u)return i=t(l.call(e,o,a),m.isNaN),i>=0?i+o:-1;for(i=n>0?o:a-1;i>=0&&i<a;i+=n)if(e[i]===u)return i;return-1}}function e(n,t){var r=I.length,e=n.constructor,u=m.isFunction(e)&&e.prototype||a,i="constructor";for(m.has(n,i)&&!m.contains(t,i)&&t.push(i);r--;)i=I[r],i in n&&n[i]!==u[i]&&!m.contains(t,i)&&t.push(i)}var u=this,i=u._,o=Array.prototype,a=Object.prototype,c=Function.prototype,f=o.push,l=o.slice,s=a.toString,p=a.hasOwnProperty,h=Array.isArray,v=Object.keys,y=c.bind,d=Object.create,g=function(){},m=function(n){return n instanceof m?n:this instanceof m?void(this._wrapped=n):new m(n)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=m),exports._=m):u._=m,m.VERSION="1.8.3";var b=function(n,t,r){if(void 0===t)return n;switch(null==r?3:r){case 1:return function(r){return n.call(t,r)};case 2:return function(r,e){return n.call(t,r,e)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)}}return function(){return n.apply(t,arguments)}},x=function(n,t,r){return null==n?m.identity:m.isFunction(n)?b(n,t,r):m.isObject(n)?m.matcher(n):m.property(n)};m.iteratee=function(n,t){return x(n,t,1/0)};var _=function(n,t){return function(r){var e=arguments.length;if(e<2||null==r)return r;for(var u=1;u<e;u++)for(var i=arguments[u],o=n(i),a=o.length,c=0;c<a;c++){var f=o[c];t&&void 0!==r[f]||(r[f]=i[f])}return r}},j=function(n){if(!m.isObject(n))return{};if(d)return d(n);g.prototype=n;var t=new g;return g.prototype=null,t},w=function(n){return function(t){return null==t?void 0:t[n]}},A=Math.pow(2,53)-1,O=w("length"),k=function(n){var t=O(n);return"number"==typeof t&&t>=0&&t<=A};m.each=m.forEach=function(n,t,r){t=b(t,r);var e,u;if(k(n))for(e=0,u=n.length;e<u;e++)t(n[e],e,n);else{var i=m.keys(n);for(e=0,u=i.length;e<u;e++)t(n[i[e]],i[e],n)}return n},m.map=m.collect=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=Array(u),o=0;o<u;o++){var a=e?e[o]:o;i[o]=t(n[a],a,n)}return i},m.reduce=m.foldl=m.inject=n(1),m.reduceRight=m.foldr=n(-1),m.find=m.detect=function(n,t,r){var e;if(e=k(n)?m.findIndex(n,t,r):m.findKey(n,t,r),void 0!==e&&e!==-1)return n[e]},m.filter=m.select=function(n,t,r){var e=[];return t=x(t,r),m.each(n,function(n,r,u){t(n,r,u)&&e.push(n)}),e},m.reject=function(n,t,r){return m.filter(n,m.negate(x(t)),r)},m.every=m.all=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(!t(n[o],o,n))return!1}return!0},m.some=m.any=function(n,t,r){t=x(t,r);for(var e=!k(n)&&m.keys(n),u=(e||n).length,i=0;i<u;i++){var o=e?e[i]:i;if(t(n[o],o,n))return!0}return!1},m.contains=m.includes=m.include=function(n,t,r,e){return k(n)||(n=m.values(n)),("number"!=typeof r||e)&&(r=0),m.indexOf(n,t,r)>=0},m.invoke=function(n,t){var r=l.call(arguments,2),e=m.isFunction(t);return m.map(n,function(n){var u=e?t:n[t];return null==u?u:u.apply(n,r)})},m.pluck=function(n,t){return m.map(n,m.property(t))},m.where=function(n,t){return m.filter(n,m.matcher(t))},m.findWhere=function(n,t){return m.find(n,m.matcher(t))},m.max=function(n,t,r){var e,u,i=-(1/0),o=-(1/0);if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e>i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u>o||u===-(1/0)&&i===-(1/0))&&(i=n,o=u)});return i},m.min=function(n,t,r){var e,u,i=1/0,o=1/0;if(null==t&&null!=n){n=k(n)?n:m.values(n);for(var a=0,c=n.length;a<c;a++)e=n[a],e<i&&(i=e)}else t=x(t,r),m.each(n,function(n,r,e){u=t(n,r,e),(u<o||u===1/0&&i===1/0)&&(i=n,o=u)});return i},m.shuffle=function(n){for(var t,r=k(n)?n:m.values(n),e=r.length,u=Array(e),i=0;i<e;i++)t=m.random(0,i),t!==i&&(u[i]=u[t]),u[t]=r[i];return u},m.sample=function(n,t,r){return null==t||r?(k(n)||(n=m.values(n)),n[m.random(n.length-1)]):m.shuffle(n).slice(0,Math.max(0,t))},m.sortBy=function(n,t,r){return t=x(t,r),m.pluck(m.map(n,function(n,r,e){return{value:n,index:r,criteria:t(n,r,e)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(r<e||void 0===e)return-1}return n.index-t.index}),"value")};var F=function(n){return function(t,r,e){var u={};return r=x(r,e),m.each(t,function(e,i){var o=r(e,i,t);n(u,e,o)}),u}};m.groupBy=F(function(n,t,r){m.has(n,r)?n[r].push(t):n[r]=[t]}),m.indexBy=F(function(n,t,r){n[r]=t}),m.countBy=F(function(n,t,r){m.has(n,r)?n[r]++:n[r]=1}),m.toArray=function(n){return n?m.isArray(n)?l.call(n):k(n)?m.map(n,m.identity):m.values(n):[]},m.size=function(n){return null==n?0:k(n)?n.length:m.keys(n).length},m.partition=function(n,t,r){t=x(t,r);var e=[],u=[];return m.each(n,function(n,r,i){(t(n,r,i)?e:u).push(n)}),[e,u]},m.first=m.head=m.take=function(n,t,r){if(null!=n)return null==t||r?n[0]:m.initial(n,n.length-t)},m.initial=function(n,t,r){return l.call(n,0,Math.max(0,n.length-(null==t||r?1:t)))},m.last=function(n,t,r){if(null!=n)return null==t||r?n[n.length-1]:m.rest(n,Math.max(0,n.length-t))},m.rest=m.tail=m.drop=function(n,t,r){return l.call(n,null==t||r?1:t)},m.compact=function(n){return m.filter(n,m.identity)};var S=function(n,t,r,e){for(var u=[],i=0,o=e||0,a=O(n);o<a;o++){var c=n[o];if(k(c)&&(m.isArray(c)||m.isArguments(c))){t||(c=S(c,t,r));var f=0,l=c.length;for(u.length+=l;f<l;)u[i++]=c[f++]}else r||(u[i++]=c)}return u};m.flatten=function(n,t){return S(n,t,!1)},m.without=function(n){return m.difference(n,l.call(arguments,1))},m.uniq=m.unique=function(n,t,r,e){m.isBoolean(t)||(e=r,r=t,t=!1),null!=r&&(r=x(r,e));for(var u=[],i=[],o=0,a=O(n);o<a;o++){var c=n[o],f=r?r(c,o,n):c;t?(o&&i===f||u.push(c),i=f):r?m.contains(i,f)||(i.push(f),u.push(c)):m.contains(u,c)||u.push(c)}return u},m.union=function(){return m.uniq(S(arguments,!0,!0))},m.intersection=function(n){for(var t=[],r=arguments.length,e=0,u=O(n);e<u;e++){var i=n[e];if(!m.contains(t,i)){for(var o=1;o<r&&m.contains(arguments[o],i);o++);o===r&&t.push(i)}}return t},m.difference=function(n){var t=S(arguments,!0,!0,1);return m.filter(n,function(n){return!m.contains(t,n)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(n){for(var t=n&&m.max(n,O).length||0,r=Array(t),e=0;e<t;e++)r[e]=m.pluck(n,e);return r},m.object=function(n,t){for(var r={},e=0,u=O(n);e<u;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},m.findIndex=t(1),m.findLastIndex=t(-1),m.sortedIndex=function(n,t,r,e){r=x(r,e,1);for(var u=r(t),i=0,o=O(n);i<o;){var a=Math.floor((i+o)/2);r(n[a])<u?i=a+1:o=a}return i},m.indexOf=r(1,m.findIndex,m.sortedIndex),m.lastIndexOf=r(-1,m.findLastIndex),m.range=function(n,t,r){null==t&&(t=n||0,n=0),r=r||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=Array(e),i=0;i<e;i++,n+=r)u[i]=n;return u};var E=function(n,t,r,e,u){if(!(e instanceof t))return n.apply(r,u);var i=j(n.prototype),o=n.apply(i,u);return m.isObject(o)?o:i};m.bind=function(n,t){if(y&&n.bind===y)return y.apply(n,l.call(arguments,1));if(!m.isFunction(n))throw new TypeError("Bind must be called on a function");var r=l.call(arguments,2),e=function(){return E(n,e,t,this,r.concat(l.call(arguments)))};return e},m.partial=function(n){var t=l.call(arguments,1),r=function(){for(var e=0,u=t.length,i=Array(u),o=0;o<u;o++)i[o]=t[o]===m?arguments[e++]:t[o];for(;e<arguments.length;)i.push(arguments[e++]);return E(n,r,this,this,i)};return r},m.bindAll=function(n){var t,r,e=arguments.length;if(e<=1)throw new Error("bindAll must be passed function names");for(t=1;t<e;t++)r=arguments[t],n[r]=m.bind(n[r],n);return n},m.memoize=function(n,t){var r=function(e){var u=r.cache,i=""+(t?t.apply(this,arguments):e);return m.has(u,i)||(u[i]=n.apply(this,arguments)),u[i]};return r.cache={},r},m.delay=function(n,t){var r=l.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(n,t,r){var e,u,i,o=null,a=0;r||(r={});var c=function(){a=r.leading===!1?0:m.now(),o=null,i=n.apply(e,u),o||(e=u=null)};return function(){var f=m.now();a||r.leading!==!1||(a=f);var l=t-(f-a);return e=this,u=arguments,l<=0||l>t?(o&&(clearTimeout(o),o=null),a=f,i=n.apply(e,u),o||(e=u=null)):o||r.trailing===!1||(o=setTimeout(c,l)),i}},m.debounce=function(n,t,r){var e,u,i,o,a,c=function(){var f=m.now()-o;f<t&&f>=0?e=setTimeout(c,t-f):(e=null,r||(a=n.apply(i,u),e||(i=u=null)))};return function(){i=this,u=arguments,o=m.now();var f=r&&!e;return e||(e=setTimeout(c,t)),f&&(a=n.apply(i,u),i=u=null),a}},m.wrap=function(n,t){return m.partial(t,n)},m.negate=function(n){return function(){return!n.apply(this,arguments)}},m.compose=function(){var n=arguments,t=n.length-1;return function(){for(var r=t,e=n[t].apply(this,arguments);r--;)e=n[r].call(this,e);return e}},m.after=function(n,t){return function(){if(--n<1)return t.apply(this,arguments)}},m.before=function(n,t){var r;return function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=null),r}},m.once=m.partial(m.before,2);var M=!{toString:null}.propertyIsEnumerable("toString"),I=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];m.keys=function(n){if(!m.isObject(n))return[];if(v)return v(n);var t=[];for(var r in n)m.has(n,r)&&t.push(r);return M&&e(n,t),t},m.allKeys=function(n){if(!m.isObject(n))return[];var t=[];for(var r in n)t.push(r);return M&&e(n,t),t},m.values=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=n[t[u]];return e},m.mapObject=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=u.length,o={},a=0;a<i;a++)e=u[a],o[e]=t(n[e],e,n);return o},m.pairs=function(n){for(var t=m.keys(n),r=t.length,e=Array(r),u=0;u<r;u++)e[u]=[t[u],n[t[u]]];return e},m.invert=function(n){for(var t={},r=m.keys(n),e=0,u=r.length;e<u;e++)t[n[r[e]]]=r[e];return t},m.functions=m.methods=function(n){var t=[];for(var r in n)m.isFunction(n[r])&&t.push(r);return t.sort()},m.extend=_(m.allKeys),m.extendOwn=m.assign=_(m.keys),m.findKey=function(n,t,r){t=x(t,r);for(var e,u=m.keys(n),i=0,o=u.length;i<o;i++)if(e=u[i],t(n[e],e,n))return e},m.pick=function(n,t,r){var e,u,i={},o=n;if(null==o)return i;m.isFunction(t)?(u=m.allKeys(o),e=b(t,r)):(u=S(arguments,!1,!1,1),e=function(n,t,r){return t in r},o=Object(o));for(var a=0,c=u.length;a<c;a++){var f=u[a],l=o[f];e(l,f,o)&&(i[f]=l)}return i},m.omit=function(n,t,r){if(m.isFunction(t))t=m.negate(t);else{var e=m.map(S(arguments,!1,!1,1),String);t=function(n,t){return!m.contains(e,t)}}return m.pick(n,t,r)},m.defaults=_(m.allKeys,!0),m.create=function(n,t){var r=j(n);return t&&m.extendOwn(r,t),r},m.clone=function(n){return m.isObject(n)?m.isArray(n)?n.slice():m.extend({},n):n},m.tap=function(n,t){return t(n),n},m.isMatch=function(n,t){var r=m.keys(t),e=r.length;if(null==n)return!e;for(var u=Object(n),i=0;i<e;i++){var o=r[i];if(t[o]!==u[o]||!(o in u))return!1}return!0};var N=function(n,t,r,e){if(n===t)return 0!==n||1/n===1/t;if(null==n||null==t)return n===t;n instanceof m&&(n=n._wrapped),t instanceof m&&(t=t._wrapped);var u=s.call(n);if(u!==s.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+n==""+t;case"[object Number]":return+n!==+n?+t!==+t:0===+n?1/+n===1/t:+n===+t;case"[object Date]":case"[object Boolean]":return+n===+t}var i="[object Array]"===u;if(!i){if("object"!=typeof n||"object"!=typeof t)return!1;var o=n.constructor,a=t.constructor;if(o!==a&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(a)&&a instanceof a)&&"constructor"in n&&"constructor"in t)return!1}r=r||[],e=e||[];for(var c=r.length;c--;)if(r[c]===n)return e[c]===t;if(r.push(n),e.push(t),i){if(c=n.length,c!==t.length)return!1;for(;c--;)if(!N(n[c],t[c],r,e))return!1}else{var f,l=m.keys(n);if(c=l.length,m.keys(t).length!==c)return!1;for(;c--;)if(f=l[c],!m.has(t,f)||!N(n[f],t[f],r,e))return!1}return r.pop(),e.pop(),!0};m.isEqual=function(n,t){return N(n,t)},m.isEmpty=function(n){return null==n||(k(n)&&(m.isArray(n)||m.isString(n)||m.isArguments(n))?0===n.length:0===m.keys(n).length)},m.isElement=function(n){return!(!n||1!==n.nodeType)},m.isArray=h||function(n){return"[object Array]"===s.call(n)},m.isObject=function(n){var t=typeof n;return"function"===t||"object"===t&&!!n},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(n){m["is"+n]=function(t){return s.call(t)==="[object "+n+"]"}}),m.isArguments(arguments)||(m.isArguments=function(n){return m.has(n,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(m.isFunction=function(n){return"function"==typeof n||!1}),m.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},m.isNaN=function(n){return m.isNumber(n)&&n!==+n},m.isBoolean=function(n){return n===!0||n===!1||"[object Boolean]"===s.call(n)},m.isNull=function(n){return null===n},m.isUndefined=function(n){return void 0===n},m.has=function(n,t){return null!=n&&p.call(n,t)},m.noConflict=function(){return u._=i,this},m.identity=function(n){return n},m.constant=function(n){return function(){return n}},m.noop=function(){},m.property=w,m.propertyOf=function(n){return null==n?function(){}:function(t){return n[t]}},m.matcher=m.matches=function(n){return n=m.extendOwn({},n),function(t){return m.isMatch(t,n)}},m.times=function(n,t,r){var e=Array(Math.max(0,n));t=b(t,r,1);for(var u=0;u<n;u++)e[u]=t(u);return e},m.random=function(n,t){return null==t&&(t=n,n=0),n+Math.floor(Math.random()*(t-n+1))},m.now=Date.now||function(){return(new Date).getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},T=m.invert(B),R=function(n){var t=function(t){return n[t]},r="(?:"+m.keys(n).join("|")+")",e=RegExp(r),u=RegExp(r,"g");return function(n){return n=null==n?"":""+n,e.test(n)?n.replace(u,t):n}};m.escape=R(B),m.unescape=R(T),m.result=function(n,t,r){var e=null==n?void 0:n[t];return void 0===e&&(e=r),m.isFunction(e)?e.call(n):e};var q=0;m.uniqueId=function(n){var t=++q+"";return n?n+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var K=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},D=/\\|'|\r|\n|\u2028|\u2029/g,L=function(n){return"\\"+z[n]};m.template=function(n,t,r){!t&&r&&(t=r),t=m.defaults({},t,m.templateSettings);var e=RegExp([(t.escape||K).source,(t.interpolate||K).source,(t.evaluate||K).source].join("|")+"|$","g"),u=0,i="__p+='";n.replace(e,function(t,r,e,o,a){return i+=n.slice(u,a).replace(D,L),u=a+t.length,r?i+="'+\n((__t=("+r+"))==null?'':_.escape(__t))+\n'":e?i+="'+\n((__t=("+e+"))==null?'':__t)+\n'":o&&(i+="';\n"+o+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";try{var o=new Function(t.variable||"obj","_",i)}catch(a){throw a.source=i,a}var c=function(n){return o.call(this,n,m)},f=t.variable||"obj";return c.source="function("+f+"){\n"+i+"}",c},m.chain=function(n){var t=m(n);return t._chain=!0,t};var P=function(n,t){return n._chain?m(t).chain():t};m.mixin=function(n){m.each(m.functions(n),function(t){var r=m[t]=n[t];m.prototype[t]=function(){var n=[this._wrapped];return f.apply(n,arguments),P(this,r.apply(m,n))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(n){var t=o[n];m.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),"shift"!==n&&"splice"!==n||0!==r.length||delete r[0],P(this,r)}}),m.each(["concat","join","slice"],function(n){var t=o[n];m.prototype[n]=function(){return P(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return m})}).call(this);
},{}]},{},[])

